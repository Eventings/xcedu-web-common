!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("XcShare")):"function"==typeof define&&define.amd?define("XcComponents",["XcShare"],t):"object"==typeof exports?exports.XcComponents=t(require("XcShare")):e.XcComponents=t(e.XcShare)}("undefined"!=typeof self?self:this,function(__WEBPACK_EXTERNAL_MODULE_4__){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=18)}([function(e,t){e.exports=function(e,t,n,r,o,i){var a,u=e=e||{},c=typeof e.default;"object"!==c&&"function"!==c||(a=e,u=e.default);var s="function"==typeof u?u.options:u;t&&(s.render=t.render,s.staticRenderFns=t.staticRenderFns,s._compiled=!0),n&&(s.functional=!0),o&&(s._scopeId=o);var l;if(i?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},s._ssrRegister=l):r&&(l=r),l){var f=s.functional,d=f?s.render:s.beforeCreate;f?(s._injectStyles=l,s.render=function(e,t){return l.call(t),d(e,t)}):s.beforeCreate=d?[].concat(d,l):[l]}return{esModule:a,exports:u,options:s}}},function(e,t,n){"use strict";function r(e){return s.axios.get("/api-base/rangeScopes",{params:e})}function o(e){return s.axios.get("/api-base/rangeScopes?type=search",{params:e})}function i(e){return s.axios.get("/api-base/attachments/settings",{params:e})}function a(e){return s.axios.post("/api-base/attachments/save",e)}function u(e){return s.axios.get("/api-base/attachments/infoList",{params:e})}function c(){return s.axios.get("/api-base/users/userInfo")}t.a=r,t.c=o,t.b=i,t.f=a,t.e=u,t.d=c;var s=n(4);n.n(s)},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!Object(o.a)(n))throw TypeError("Stringified UUID is invalid");return n}for(var o=n(3),i=[],a=0;a<256;++a)i.push((a+256).toString(16).substr(1));t.a=r},function(e,t,n){"use strict";function r(e){return"string"==typeof e&&o.a.test(e)}var o=n(30);t.a=r},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_4__},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){function n(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var i=r(o);return[n].concat(o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"})).concat([i]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){function r(e){for(var t=0;t<e.length;t++){var n=e[t],r=l[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(i(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{for(var a=[],o=0;o<n.parts.length;o++)a.push(i(n.parts[o]));l[n.id]={id:n.id,refs:1,parts:a}}}}function o(){var e=document.createElement("style");return e.type="text/css",f.appendChild(e),e}function i(e){var t,n,r=document.querySelector("style["+v+'~="'+e.id+'"]');if(r){if(p)return g;r.parentNode.removeChild(r)}if(b){var i=m++;r=d||(d=o()),t=a.bind(null,r,i,!1),n=a.bind(null,r,i,!0)}else r=o(),t=u.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}function a(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function u(e,t){var n=t.css,r=t.media,o=t.sourceMap;if(r&&e.setAttribute("media",r),h.ssrId&&e.setAttribute(v,t.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var c="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!c)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s=n(22),l={},f=c&&(document.head||document.getElementsByTagName("head")[0]),d=null,m=0,p=!1,g=function(){},h=null,v="data-vue-ssr-id",b="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,n,o){p=n,h=o||{};var i=s(e,t);return r(i),function(t){for(var n=[],o=0;o<i.length;o++){var a=i[o],u=l[a.id];u.refs--,n.push(u)}t?(i=s(e,t),r(i)):i=[];for(var o=0;o<n.length;o++){var u=n[o];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete l[u.id]}}}};var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";var r=n(23),o=n.n(r),i=n(1);t.a={name:"chooseUser",components:{tree:o.a},props:{allowWrite:{type:Boolean,default:!1},value:{type:Array,default:function(){return[]}},selectRole:{type:Array,default:function(){return[]}},getUser:{type:Function,default:i.a},getSearchList:{type:Function,default:i.c},disabled:{type:Boolean,default:!1},single:{type:Boolean,default:!1},usersOnly:{type:Boolean,default:!1},title:{type:String,default:"选择成员对象"},gradeOnly:{type:Boolean,default:!1}},data:function(){return{orgUserSearchValue:"",selectedSearchValue:"",dialogVisible:!1,activeName:"",orgUserNodes:[],orgUserSearchNodes:[],orgUserTree:null,groupNodes:[],groupSearchNodes:[],groupTree:null,myGroupNodes:[],myGroupSearchNodes:[],myGroupTree:null,gradeNodes:[],gradeSearchNodes:[],gradeTree:null,inputVisible:!1,inputVal:"",inputSearchList:[],selectedArr:[],selelctedFilterArr:[],tabRoles:[],setting:{dblClickExpand:!1,check:{enable:!0,chkboxType:{Y:"",N:""},chkStyle:this.single?"radio":"checkbox",radioType:"all"},data:{key:{name:"name"},simpleData:{enable:!0,pIdKey:"pId"}},view:{showIcon:!1,addDiyDom:this.addDiyDom}},isFullScreen:!1}},computed:{dynamicTags:function(){for(var e=[],t=this.selectedArr,n=0;n<t.length;n++)e.push(t[n].name+(t[n].orgName?"<"+t[n].orgName+">":""));return e},filterSelectedList:function(){var e=this.selectedSearchValue;return e?this.selelctedFilterArr.filter(function(t){return-1!==t.name.toString().indexOf(e)}):this.selelctedFilterArr}},watch:{value:function(e,t){this.value=e,this.selectedArr=this.value}},mounted:function(){this.tabRoles=this.selectRole,this.loadTreeData(),this.selectedArr=this.value},methods:{changeSelect:function(e){console.log(e)},handleTreeSelect:function(e,t){if(""===e.value?this[t+"Nodes"]=this[t+"SearchNodes"]:e.value?this[t+"SearchValue"]=e.value:this[t+"SearchValue"]=e.name,this[t+"SearchValue"]){var n=this[t+"SearchValue"];n=-1!==n.indexOf("<")?n.substring(0,n.indexOf("<")):n,this.searchTree(n,t)}},searchTree:function(e,t){var n=this[t+"SearchNodes"];this[t+"Nodes"]=e?n.filter(this.createFilter(e)):n,this.setting.data.key.name=e?"fullOrgName":"name"},handleIconClick:function(){},treeSearch:function(e,t){for(var n=this.orgUserSearchNodes,r=e?n.filter(this.createFilter(e)):n,o=[],i=0;i<r.length;i++){for(var a=!0,u=0;u<o.length;u++)if(o[u].name===r[i].name){a=!1;break}a&&o.push(r[i])}t(o)},createFilter:function(e){return function(t){return-1!==t.name.toLowerCase().indexOf(e.toLowerCase())}},openChooseUserModal:function(){this.activeName=this.tabRoles[0],this.selelctedFilterArr=JSON.parse(JSON.stringify(this.selectedArr)),this.canceSelectAllBtns();var e=!0,t=!1,n=void 0;try{for(var r,o=this.tabRoles[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;this.initTreeCheck(this[i+"Tree"])}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}},clearAll:function(){this.selelctedFilterArr=[],this.canceSelectAllBtns();var e=!0,t=!1,n=void 0;try{for(var r,o=this.tabRoles[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;this.initTreeCheck(this[i+"Tree"])}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}},canceSelectAllBtns:function(){var e=document.querySelectorAll("input.selectAllBtn"),t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){o.value.checked=!1}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}},loadTreeData:function(){var e=this,t=!0,n=!1,r=void 0;try{for(var o,i=this.tabRoles[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;!function(t){var n={type:t};e.getUser(n).then(function(n){e.addFullOrgName(n),e[t+"Nodes"]=n,e[t+"SearchNodes"]=n})}(a)}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}},addFullOrgName:function(e){for(var t=0;t<e.length;t++){for(var n=e[t].pId,r=[];"-1"!==n&&""!==n;)for(var o=0;o<e.length;o++)if(n===e[o].id){r.push(e[o].name),n=e[o].pId;break}e[t].fullOrgName=e[t].name,r.length&&(e[t].fullOrgName+=" <"+r.reverse().join("-")+">")}},addDiyDom:function(e,t){if(!this.single&&t.isParent){var n=document.createElement("label"),r=document.createElement("input"),o=document.createElement("span");o.innerHTML="全选",r.setAttribute("type","checkbox"),r.setAttribute("class","selectAllBtn"),n.appendChild(r),n.appendChild(o);document.getElementById(t.tId).appendChild(n);var i=window.jQuery.fn.zTree.getZTreeObj(e);r.onclick=function(){var e=this.checked,n=t.children;if(e){var r=!0,o=!1,a=void 0;try{for(var u,c=n[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var s=u.value;i.checkNode(s,!0,!1,!0)}}catch(e){o=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}}else{var l=!0,f=!1,d=void 0;try{for(var m,p=n[Symbol.iterator]();!(l=(m=p.next()).done);l=!0){var g=m.value;i.checkNode(g,!1,!1,!0)}}catch(e){f=!0,d=e}finally{try{!l&&p.return&&p.return()}finally{if(f)throw d}}}}}},clickNode:function(e,t,n,r){n.checked?this[r].checkNode(n,!1,!1,!0):this[r].checkNode(n,!0,!1,!0)},handleCreated:function(e,t){this[t]=e;var n=e.getNodes();if(n=e.transformToArray(n),this.usersOnly)for(var r=0;r<n.length;r++)"user"!==n[r].popcode&&e.setChkDisabled(n[r],!0,!1,!1);if(this.gradeOnly)for(var o=0;o<n.length;o++)"grade"!==n[o].popcode&&e.setChkDisabled(n[o],!0,!1,!1);this.initTreeCheck(e)},initTreeCheck:function(e){if(e){if(e.checkAllNodes(!1),this.single){var t=e.getSelectedNodes();t.length&&e.checkNode(t[0],!1,!1,!0)}for(var n=this.selelctedFilterArr,r=0;r<n.length;r++){var o=e.getNodesByParam("id",n[r].id,null);if(o.length>0)for(var i=0;i<o.length;i++)if(e.checkNode(o[i],!0,!1,!1),null!==o[i].getParentNode()){var a=o[i].getParentNode();e.expandNode(a,!0,!1,!1,!1)}}}},handleSelect:function(e){this.inputVisible=!1;var t=!1,n=!0,r=!1,o=void 0;try{for(var i,a=this.selectedArr[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(i.value.id===e.id){t=!0;break}}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}t||this.selectedArr.push(e)},querySearchAsync:function(e,t){var n=this,r=void 0;this.getSearchList({searchName:e}).then(function(o){r=o;var i=e?r.filter(n.createStateFilter(e)):r;t(i),0===i.length&&(n.inputVal="")})},createStateFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleClose:function(e){this.selectedArr.splice(this.dynamicTags.indexOf(e),1),this.$emit("input",this.selectedArr)},showInput:function(){this.disabled||(this.allowWrite?(this.inputVisible=!0,this.$nextTick(function(){this.$refs.saveTagInput.focus()})):this.chooseUser())},chooseUser:function(){this.orgUserSearchValue="",this.selectedSearchValue="",this.handleTreeSelect({value:""},"orgUser"),this.dialogVisible=!0},onCheck:function(e,t,n){if(n.checked){for(var r=0;r<this.selelctedFilterArr.length;r++)if(this.selelctedFilterArr[r].id===n.id)return;this.single&&(this.selelctedFilterArr=[]);var o={id:n.id,pid:n.pId,name:n.name,popcode:n.popcode,orgName:n.orgName,iconSkin:n.iconSkin,canSelect:n.canSelect,open:n.open,fullOrgName:n.fullOrgName};this.selelctedFilterArr.push(o)}else{this.cancelTreeSelected(window.jQuery.fn.zTree.getZTreeObj(t),n.id);for(var i=0;i<this.selelctedFilterArr.length;i++)if(n.id===this.selelctedFilterArr[i].id){this.selelctedFilterArr.splice(i,1);break}}},delItem:function(e,t){for(var n=0;n<this.selelctedFilterArr.length;n++)if(this.selelctedFilterArr[n].id===t){this.selelctedFilterArr.splice(n,1);break}var r=!0,o=!1,i=void 0;try{for(var a,u=this.tabRoles[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value;if(this[c+"Tree"])return void this.cancelTreeSelected(this[c+"Tree"],t)}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}},cancelTreeSelected:function(e,t){var n=e.getNodesByParam("id",t,null);if(n.length>0)for(var r=0;r<n.length;r++)n[r].checked&&e.checkNode(n[r],!1,!1,!1)},submitSelectedValue:function(){this.selectedArr=this.selelctedFilterArr,this.$emit("input",this.selectedArr),this.dialogVisible=!1},handleClearSearchValue:function(e){this.$refs[e+"SearchInput"].activated=!0}}}},function(e,t,n){"use strict";var r=n(1),o=n(28),i=n(4),a=(n.n(i),n(10)),u=i.tools.OSS;t.a={name:"FileUp",inheritAttrs:!1,props:{value:{type:String,default:""},uploadType:{type:String,default:"file"},accept:String,dir:{type:String,default:""},acceptTips:{type:String,default:""},domainId:{type:String,default:""},readonly:{type:Boolean,default:!1}},data:function(){return{publicPath:window.XcComponents.path,client:null,fileList:[]}},computed:{PATH:function(){var e=this.domainId;if(!e){var t=window.webStorage.getItem("userInfo");e=t&&JSON.parse(t).domainId}return(e||"domain")+"/"+(this.dir||"anonymous")+"/"},tip:function(){return this.acceptTips||"image"!==this.uploadType?this.acceptTips:"只能上传图片格式的文件"},fileAccept:function(){return this.accept||"image"!==this.uploadType?this.accept:"image/*"}},watch:{value:{immediate:!0,handler:function(e){var t=this;if(e){var n=e.split(","),o=!1;if(n.length!==this.fileList.length&&(o=!0),!o)for(var i=0;i<n.length;i++){for(var a=!1,u=0;u<this.fileList.length;u++)if(n[i]===this.fileList[u].id){a=!0;break}if(!a){o=!0;break}}o&&Object(r.e)({idList:e}).then(function(e){for(var n=0;n<e.length;n++)e[n].status="success",e[n].progress=-1;t.fileList=e})}else this.fileList.length&&(this.fileList=[])}}},beforeDestroy:function(){this.fileList.forEach(function(e){e.url&&0===e.url.indexOf("blob:")&&URL.revokeObjectURL(e.url)})},filters:{getFileSize:function(e){return e/1024<1?"1KB":e/1024/1024<1?(e/1024).toFixed(1)+"KB":e/1024/1024/1024<1?(e/1024/1024).toFixed(1)+"MB":">1GB"},getFileTypeImg:function(e,t){var n="unknown.png";return 0===e.indexOf("image")?n="image.png":0===e.indexOf("text")?n="txt.png":0===e.indexOf("video")?n="video.png":0===e.indexOf("audio")?n="mp3.png":"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===e||"application/msword"===e?n="word.png":"application/x-zip-compressed"===e||"application/zip"===e?n="zip.png":"application/pdf"===e?n="pdf.png":"application/x-rar-compressed"===e?n="rar.png":"application/x-xls"===e||"application/vnd.ms-excel"===e||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e?n="excel.png":"application/x-ppt"!==e&&"application/vnd.ms-powerpoint"!==e&&"application/vnd.openxmlformats-officedocument.presentationml.presentation"!==e||(n="ppt.png"),t+"public/file/"+n}},methods:{getClient:function(){var e=this;return new Promise(function(t,n){e.client?t(e.client):Object(r.b)().then(function(n){e.client=new u({region:"oss-cn-shenzhen",accessKeyId:n.accessKeyId,accessKeySecret:n.accessKeySecret,bucket:"gtyzfile"}),t(e.client)}).catch(function(){return n()})})},delFile:function(e){var t=this;this.$confirm("是否确认删除该"+("image"===this.uploadType?"图片？":"附件？"),"",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.fileList.splice(e,1);for(var n=[],r=0;r<t.fileList.length;r++)n.push(t.fileList[r].id);t.$emit("input",n.join(","))})},beforeUpload:function(e){return-1===e.name.indexOf(".")?(this.$message.error("禁止上传无格式的文件！"),!1):"image/*"===this.fileAccept&&-1===e.type.indexOf("image/")?(this.$message.error("只能上传图片格式的文件！"),!1):void 0},fileUpLoad:function(e){var t=this,n=Object(a.a)().replace(/-/g,""),r=e.file,o={contentType:r.type,displayName:r.name,fileSize:r.size,id:n,url:URL.createObjectURL(r),status:"ready",progress:0};this.fileList.push(o);var i=n+r.name.substring(r.name.lastIndexOf("."));this.getClient().then(function(e){e.multipartUpload(t.PATH+i,r,{progress:function(e){o.progress=100*e}}).then(function(e){t.uploadOnSuccess(e,o)}).catch(function(e){window.console.log(e)})})},uploadOnSuccess:function(e,t){var n=this;Object(r.f)({displayName:t.displayName,fileSize:t.fileSize,id:t.id,relativePath:this.PATH,storageLocation:"ALIYUN"}).then(function(e){t.status="success",t.progress=-1,n.$emit("input",n.value?n.value+","+t.id:t.id)})},previewImage:function(e){this.$refs.imageBox[e].clickHandler()},download:function(e){0===e.url.indexOf("blob:")?Object(o.a)(e.url,e.displayName):this.getClient().then(function(t){var n=t.signatureUrl(e.url.replace(/.*\.com\//,""),{response:{"content-disposition":'attachment; filename="'+e.displayName+'"'}});window.location=n})},validateFinished:function(){for(var e=0;e<this.fileList.length;e++)if(-1!==this.fileList[e].progress)return!1;return!0},checkFileView:function(e){var t=e.lastIndexOf("."),n=-1===t?"":e.substring(t);return".pdf"===(n=n.toLowerCase())||".txt"===n||".doc"===n||".docx"===n||".ppt"===n||".pptx"===n||".ppsx"===n||".wps"===n||".png"===n||".jpg"===n||".wav"===n||".flac"===n||".mp3"===n||".mp4"===n||".gif"===n||".jpeg"===n||".mov"===n},previewFile:function(e){var t="/mfs-testBank/detail/fileView/:url/:contentType";t=t.replace(":url",e.id),t=t.replace(":contentType",e.contentType.split("/")[0]),window.open(t,"_blank")}}}},function(e,t,n){"use strict";var r=(n(29),n(31),n(33));n.d(t,"a",function(){return r.a});n(34),n(36),n(37),n(3),n(2),n(13)},function(e,t,n){"use strict";function r(){if(!o)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(i)}t.a=r;var o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16)},function(e,t,n){"use strict";function r(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var o=n(2),i=n(13);t.a=function(e,t,n){function a(e,a,u,c){if("string"==typeof e&&(e=r(e)),"string"==typeof a&&(a=Object(i.a)(a)),16!==a.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+e.length);if(s.set(a),s.set(e,a.length),s=n(s),s[6]=15&s[6]|t,s[8]=63&s[8]|128,u){c=c||0;for(var l=0;l<16;++l)u[c+l]=s[l];return u}return Object(o.a)(s)}try{a.name=e}catch(e){}return a.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",a.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",a}},function(e,t,n){"use strict";function r(e){if(!Object(o.a)(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}var o=n(3);t.a=r},function(e,t,n){"use strict";var r=n(1),o=n(40),i=(n.n(o),n(41)),a=(n.n(i),n(43)),u=(n.n(a),n(45)),c=(n.n(u),n(47)),s=(n.n(c),n(49)),l=(n.n(s),n(51)),f=(n.n(l),n(53)),d=(n.n(f),n(55)),m=(n.n(d),n(57)),p=(n.n(m),n(59)),g=(n.n(p),n(61)),h=(n.n(g),n(63)),v=(n.n(h),n(65)),b=(n.n(v),n(67)),y=(n.n(b),n(69)),w=(n.n(y),n(71)),x=(n.n(w),n(73)),C=(n.n(x),n(75)),k=(n.n(C),n(77)),S=(n.n(k),n(79)),T=(n.n(S),n(81)),N=(n.n(T),n(83)),E=(n.n(N),n(85)),O=n(4),_=(n.n(O),n(10)),A=O.tools.OSS;t.a={name:"Editor",components:{editor:E.a},props:{value:{type:String,default:""},disabled:{type:Boolean,default:!1}},data:function(){return{publicPath:window.XcComponents.path+"public/",client:null,htmlContent:"",attachPercentage:-1}},watch:{value:function(e){this.htmlContent=e}},mounted:function(){this.htmlContent=this.value},methods:{editorChange:function(e){this.$emit("input",e)},getClient:function(){var e=this;return new Promise(function(t,n){e.client?t(e.client):Object(r.b)().then(function(n){e.client=new A({region:"oss-cn-shenzhen",accessKeyId:n.accessKeyId,accessKeySecret:n.accessKeySecret,bucket:"gtyzfile"}),t(e.client)}).catch(function(){return n()})})},fileUpLoad:function(e,t,n,r,o){var i="tinyMCE/img/";"attach"===o&&(i="tinyMCE/file/"),this.getClient().then(function(o){var a=Object(_.a)().replace(/-/g,""),u=e.blob(),c=a+u.name.substring(u.name.lastIndexOf("."));o.multipartUpload(i+c,u,{progress:function(e){r(100*e)}}).then(function(e){t(e.res.requestUrls[0].replace(/\?.*/g,""))}).catch(function(e){n("Image upload failed due to a XHR Transport error. Code: "+e)})})},filePickerCallback:function(e,t,n){var r=this,o=document.createElement("input");o.setAttribute("type","file"),o.style.display="none",document.body.appendChild(o),o.onchange=function(){var t=this.files[0],n=new FileReader;n.onload=function(){var i="blobid"+(new Date).getTime(),a=tinymce.activeEditor.editorUpload.blobCache,u=n.result.split(",")[1],c=a.create(i,t,u);r.fileUpLoad(c,function(n){e(n,{text:t.name}),r.attachPercentage=-1,document.body.removeChild(o)},function(){e("",{text:"附件上传失败，请重试"}),r.attachPercentage=-1,document.body.removeChild(o)},function(e){r.attachPercentage=e},"attach")},n.readAsDataURL(t)},o.click()},attachCancelHandler:function(){this.client.cancel(),this.attachPercentage=-1}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"e",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return m});var r=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],o=function(e){return-1!==r.indexOf(e)},i=function(e,t,n){Object.keys(t).filter(o).forEach(function(r){var o=t[r];"function"==typeof o&&("onInit"===r?o(e,n):n.on(r.substring(2),function(e){return o(e,n)}))})},a=function(e,t){var n=e.$props.modelEvents?e.$props.modelEvents:null,r=Array.isArray(n)?n.join(" "):n;e.$watch("value",function(n,r){t&&"string"==typeof n&&n!==r&&n!==t.getContent({format:e.$props.outputFormat})&&t.setContent(n)}),t.on(r||"change keyup undo redo",function(){e.$emit("input",t.getContent({format:e.$props.outputFormat}))})},u=function(e,t,n){var r=t.$props.value?t.$props.value:"",o=t.$props.initialValue?t.$props.initialValue:"";n.setContent(r||o),t.$listeners.input&&a(t,n),i(e,t.$listeners,n)},c=0,s=function(e){var t=Date.now(),n=Math.floor(1e9*Math.random());return c++,e+"_"+n+c+String(t)},l=function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()},f=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},d=function(e,t){return f(e).concat(f(t))},m=function(e){return null===e||void 0===e}},function(e,t,n){"use strict";var r=n(1);t.a={name:"Logo",data:function(){return{logo:""}},computed:{logoUrl:function(){if(!this.logo)return"";var e=window.location.href,t=e.indexOf("//")+"//".length,n=e.substring(t);return e.substring(0,t)+n.substring(0,n.indexOf("/"))+"/api/v1/"+this.logo}},mounted:function(){var e=this,t=window.webStorage.getItem("userInfo");t?this.logo=JSON.parse(t).logo:Object(r.d)().then(function(t){e.logo=t.logo})}}},function(e,t,n){"use strict";var r=n(1);t.a={name:"User",data:function(){return{user:null}},computed:{avatarUrl:function(){if(!this.user||!this.user.avatar)return"";var e=window.location.href,t=e.indexOf("//")+"//".length,n=e.substring(t);return e.substring(0,t)+n.substring(0,n.indexOf("/"))+"/api/v1/"+this.user.avatar}},mounted:function(){var e=this,t=window.webStorage.getItem("userInfo");t?this.user=JSON.parse(t):Object(r.d)().then(function(t){e.user=t})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),o=n(25),i=n(39),a=n(91),u=n(93),c={path:function(){var e=document.currentScript?document.currentScript.src:function(){for(var e,t=document.scripts,n=t.length-1,r=n;r>0;r--)if("interactive"===t[r].readyState){e=t[r].src;break}return e||t[n].src}();return e.substring(0,e.lastIndexOf("/")+1)}(),install:function(e){e.component(r.a.name,r.a),e.component(o.a.name,o.a),e.component(i.a.name,i.a),e.component(a.a.name,a.a),e.component(u.a.name,u.a)}};"Vue"in window&&Vue.use(c),t.default=c},function(e,t,n){"use strict";function r(e){n(20)}var o=n(8),i=n(24),a=n(0),u=r,c=a(o.a,i.a,!1,u,"data-v-c4c2099a",null);t.a=c.exports},function(e,t,n){var r=n(21);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(7)("0f41324f",r,!0,{})},function(e,t,n){t=e.exports=n(6)(!1),t.push([e.i,".user-container[data-v-c4c2099a]{border-radius:4px;background-color:#fff;border:1px solid #ededed}.user-container .btn-append[data-v-c4c2099a]{border:none;border-left:1px solid #ededed;border-top-left-radius:0;border-bottom-left-radius:0}.user-container>div[data-v-c4c2099a]{border:none}.abow_dialog[data-v-c4c2099a] .el-dialog{height:550px}.abow_dialog[data-v-c4c2099a] .el-input__suffix .el-input__validateIcon{display:none}.choose-selector-select-container[data-v-c4c2099a]{width:50%;padding-right:10px}.choose-selector[data-v-c4c2099a]{height:100%}.choose-selector .choose-selector-selected-container[data-v-c4c2099a]{width:50%;padding-left:10px}.choose-selector .choose-selector-selected-container .selected-box .selected-item[data-v-c4c2099a]{height:22px}.round-border-wrapper[data-v-c4c2099a]{border:1px solid #ccc;border-radius:6px;margin-top:9px;height:300px;overflow:hidden}.round-border-content[data-v-c4c2099a]{height:100%;overflow:auto;padding:15px}.choose-selector-selected-container>div[data-v-c4c2099a]:last-child{height:300px;padding:0}.search-input[data-v-c4c2099a]{width:200px}.search-input[data-v-c4c2099a] .el-input__inner{border-radius:25px;border-color:#ccc}",""])},function(e,t){e.exports=function(e,t){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=i[0],u=i[1],c=i[2],s=i[3],l={id:e+":"+o,css:u,media:c,sourceMap:s};r[a]?r[a].parts.push(l):n.push(r[a]={id:a,parts:[l]})}return n}},function(module,exports){module.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(t){return e[t]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s="fb15")}({"06cf":function(e,t,n){var r=n("83ab"),o=n("d1e7"),i=n("5c6c"),a=n("fc6a"),u=n("c04e"),c=n("5135"),s=n("0cfb"),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=u(t,!0),s)try{return l(e,t)}catch(e){}if(c(e,t))return i(!o.f.call(e,t),e[t])}},"0cfb":function(e,t,n){var r=n("83ab"),o=n("d039"),i=n("cc12");e.exports=!r&&!o(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},1157:function(e,t,n){var r,o;/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */
!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,i){"use strict";function a(e,t,n){n=n||Te;var r,o,i=n.createElement("script");if(i.text=e,t)for(r in Ne)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function u(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ve[be.call(e)]||"object":typeof e}function c(e){var t=!!e&&"length"in e&&e.length,n=u(e);return!ke(e)&&!Se(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function s(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function l(e,t,n){return ke(t)?Ee.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?Ee.grep(e,function(e){return e===t!==n}):"string"!=typeof t?Ee.grep(e,function(e){return he.call(t,e)>-1!==n}):Ee.filter(t,e,n)}function f(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function d(e){var t={};return Ee.each(e.match(Be)||[],function(e,n){t[n]=!0}),t}function m(e){return e}function p(e){throw e}function g(e,t,n,r){var o;try{e&&ke(o=e.promise)?o.call(e).done(t).fail(n):e&&ke(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function h(){Te.removeEventListener("DOMContentLoaded",h),n.removeEventListener("load",h),Ee.ready()}function v(e,t){return t.toUpperCase()}function b(e){return e.replace(je,"ms-").replace(Ve,v)}function y(){this.expando=Ee.expando+y.uid++}function w(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:We.test(e)?JSON.parse(e):e)}function x(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Ge,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=w(n)}catch(e){}$e.set(e,t,n)}else n=void 0;return n}function C(e,t,n,r){var o,i,a=20,u=r?function(){return r.cur()}:function(){return Ee.css(e,t,"")},c=u(),s=n&&n[3]||(Ee.cssNumber[t]?"":"px"),l=e.nodeType&&(Ee.cssNumber[t]||"px"!==s&&+c)&&Ye.exec(Ee.css(e,t));if(l&&l[3]!==s){for(c/=2,s=s||l[3],l=+c||1;a--;)Ee.style(e,t,l+s),(1-i)*(1-(i=u()/c||.5))<=0&&(a=0),l/=i;l*=2,Ee.style(e,t,l+s),n=n||[]}return n&&(l=+l||+c||0,o=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=s,r.start=l,r.end=o)),o}function k(e){var t,n=e.ownerDocument,r=e.nodeName,o=tt[r];return o||(t=n.body.appendChild(n.createElement(r)),o=Ee.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),tt[r]=o,o)}function S(e,t){for(var n,r,o=[],i=0,a=e.length;i<a;i++)r=e[i],r.style&&(n=r.style.display,t?("none"===n&&(o[i]=qe.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&et(r)&&(o[i]=k(r))):"none"!==n&&(o[i]="none",qe.set(r,"display",n)));for(i=0;i<a;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}function T(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&s(e,t)?Ee.merge([e],n):n}function N(e,t){for(var n=0,r=e.length;n<r;n++)qe.set(e[n],"globalEval",!t||qe.get(t[n],"globalEval"))}function E(e,t,n,r,o){for(var i,a,c,s,l,f,d=t.createDocumentFragment(),m=[],p=0,g=e.length;p<g;p++)if((i=e[p])||0===i)if("object"===u(i))Ee.merge(m,i.nodeType?[i]:i);else if(at.test(i)){for(a=a||d.appendChild(t.createElement("div")),c=(rt.exec(i)||["",""])[1].toLowerCase(),s=it[c]||it._default,a.innerHTML=s[1]+Ee.htmlPrefilter(i)+s[2],f=s[0];f--;)a=a.lastChild;Ee.merge(m,a.childNodes),a=d.firstChild,a.textContent=""}else m.push(t.createTextNode(i));for(d.textContent="",p=0;i=m[p++];)if(r&&Ee.inArray(i,r)>-1)o&&o.push(i);else if(l=Qe(i),a=T(d.appendChild(i),"script"),l&&N(a),n)for(f=0;i=a[f++];)ot.test(i.type||"")&&n.push(i);return d}function O(){return!0}function _(){return!1}function A(e,t){return e===D()==("focus"===t)}function D(){try{return Te.activeElement}catch(e){}}function R(e,t,n,r,o,i){var a,u;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(u in t)R(e,u,n,r,t[u],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=_;else if(!o)return e;return 1===i&&(a=o,o=function(e){return Ee().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=Ee.guid++)),e.each(function(){Ee.event.add(this,t,o,r,n)})}function M(e,t,n){if(!n)return void(void 0===qe.get(e,t)&&Ee.event.add(e,t,O));qe.set(e,t,!1),Ee.event.add(e,t,{namespace:!1,handler:function(e){var r,o,i=qe.get(this,t);if(1&e.isTrigger&&this[t]){if(i.length)(Ee.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=me.call(arguments),qe.set(this,t,i),r=n(this,t),this[t](),o=qe.get(this,t),i!==o||r?qe.set(this,t,!1):o={},i!==o)return e.stopImmediatePropagation(),e.preventDefault(),o.value}else i.length&&(qe.set(this,t,{value:Ee.event.trigger(Ee.extend(i[0],Ee.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})}function P(e,t){return s(e,"table")&&s(11!==t.nodeType?t:t.firstChild,"tr")?Ee(e).children("tbody")[0]||e:e}function I(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function z(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function B(e,t){var n,r,o,i,a,u,c;if(1===t.nodeType){if(qe.hasData(e)&&(i=qe.get(e),c=i.events)){qe.remove(t,"handle events");for(o in c)for(n=0,r=c[o].length;n<r;n++)Ee.event.add(t,o,c[o][n])}$e.hasData(e)&&(a=$e.access(e),u=Ee.extend({},a),$e.set(t,u))}}function L(e,t){var n=t.nodeName.toLowerCase();"input"===n&&nt.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function H(e,t,n,r){t=pe(t);var o,i,u,c,s,l,f=0,d=e.length,m=d-1,p=t[0],g=ke(p);if(g||d>1&&"string"==typeof p&&!Ce.checkClone&&ft.test(p))return e.each(function(o){var i=e.eq(o);g&&(t[0]=p.call(this,o,i.html())),H(i,t,n,r)});if(d&&(o=E(t,e[0].ownerDocument,!1,e,r),i=o.firstChild,1===o.childNodes.length&&(o=i),i||r)){for(u=Ee.map(T(o,"script"),I),c=u.length;f<d;f++)s=o,f!==m&&(s=Ee.clone(s,!0,!0),c&&Ee.merge(u,T(s,"script"))),n.call(e[f],s,f);if(c)for(l=u[u.length-1].ownerDocument,Ee.map(u,z),f=0;f<c;f++)s=u[f],ot.test(s.type||"")&&!qe.access(s,"globalEval")&&Ee.contains(l,s)&&(s.src&&"module"!==(s.type||"").toLowerCase()?Ee._evalUrl&&!s.noModule&&Ee._evalUrl(s.src,{nonce:s.nonce||s.getAttribute("nonce")},l):a(s.textContent.replace(dt,""),s,l))}return e}function F(e,t,n){for(var r,o=t?Ee.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||Ee.cleanData(T(r)),r.parentNode&&(n&&Qe(r)&&N(T(r,"script")),r.parentNode.removeChild(r));return e}function j(e,t,n){var r,o,i,a,u=e.style;return n=n||pt(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||Qe(e)||(a=Ee.style(e,t)),!Ce.pixelBoxStyles()&&mt.test(a)&&ht.test(t)&&(r=u.width,o=u.minWidth,i=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=o,u.maxWidth=i)),void 0!==a?a+"":a}function V(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function U(e){for(var t=e[0].toUpperCase()+e.slice(1),n=vt.length;n--;)if((e=vt[n]+t)in bt)return e}function q(e){var t=Ee.cssProps[e]||yt[e];return t||(e in bt?e:yt[e]=U(e)||e)}function $(e,t,n){var r=Ye.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function W(e,t,n,r,o,i){var a="width"===t?1:0,u=0,c=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(c+=Ee.css(e,n+Xe[a],!0,o)),r?("content"===n&&(c-=Ee.css(e,"padding"+Xe[a],!0,o)),"margin"!==n&&(c-=Ee.css(e,"border"+Xe[a]+"Width",!0,o))):(c+=Ee.css(e,"padding"+Xe[a],!0,o),"padding"!==n?c+=Ee.css(e,"border"+Xe[a]+"Width",!0,o):u+=Ee.css(e,"border"+Xe[a]+"Width",!0,o));return!r&&i>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-c-u-.5))||0),c}function G(e,t,n){var r=pt(e),o=!Ce.boxSizingReliable()||n,i=o&&"border-box"===Ee.css(e,"boxSizing",!1,r),a=i,u=j(e,t,r),c="offset"+t[0].toUpperCase()+t.slice(1);if(mt.test(u)){if(!n)return u;u="auto"}return(!Ce.boxSizingReliable()&&i||!Ce.reliableTrDimensions()&&s(e,"tr")||"auto"===u||!parseFloat(u)&&"inline"===Ee.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===Ee.css(e,"boxSizing",!1,r),(a=c in e)&&(u=e[c])),(u=parseFloat(u)||0)+W(e,t,n||(i?"border":"content"),a,r,u)+"px"}function K(e,t,n,r,o){return new K.prototype.init(e,t,n,r,o)}function Y(){Tt&&(!1===Te.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(Y):n.setTimeout(Y,Ee.fx.interval),Ee.fx.tick())}function X(){return n.setTimeout(function(){St=void 0}),St=Date.now()}function J(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)n=Xe[r],o["margin"+n]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function Q(e,t,n){for(var r,o=(te.tweeners[t]||[]).concat(te.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function Z(e,t,n){var r,o,i,a,u,c,s,l,f="width"in t||"height"in t,d=this,m={},p=e.style,g=e.nodeType&&et(e),h=qe.get(e,"fxshow");n.queue||(a=Ee._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,Ee.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(o=t[r],Nt.test(o)){if(delete t[r],i=i||"toggle"===o,o===(g?"hide":"show")){if("show"!==o||!h||void 0===h[r])continue;g=!0}m[r]=h&&h[r]||Ee.style(e,r)}if((c=!Ee.isEmptyObject(t))||!Ee.isEmptyObject(m)){f&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],s=h&&h.display,null==s&&(s=qe.get(e,"display")),l=Ee.css(e,"display"),"none"===l&&(s?l=s:(S([e],!0),s=e.style.display||s,l=Ee.css(e,"display"),S([e]))),("inline"===l||"inline-block"===l&&null!=s)&&"none"===Ee.css(e,"float")&&(c||(d.done(function(){p.display=s}),null==s&&(l=p.display,s="none"===l?"":l)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),c=!1;for(r in m)c||(h?"hidden"in h&&(g=h.hidden):h=qe.access(e,"fxshow",{display:s}),i&&(h.hidden=!g),g&&S([e],!0),d.done(function(){g||S([e]),qe.remove(e,"fxshow");for(r in m)Ee.style(e,r,m[r])})),c=Q(g?h[r]:0,r,d),r in h||(h[r]=c.start,g&&(c.end=c.start,c.start=0))}}function ee(e,t){var n,r,o,i,a;for(n in e)if(r=b(n),o=t[r],i=e[n],Array.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(a=Ee.cssHooks[r])&&"expand"in a){i=a.expand(i),delete e[r];for(n in i)n in e||(e[n]=i[n],t[n]=o)}else t[r]=o}function te(e,t,n){var r,o,i=0,a=te.prefilters.length,u=Ee.Deferred().always(function(){delete c.elem}),c=function(){if(o)return!1;for(var t=St||X(),n=Math.max(0,s.startTime+s.duration-t),r=n/s.duration||0,i=1-r,a=0,c=s.tweens.length;a<c;a++)s.tweens[a].run(i);return u.notifyWith(e,[s,i,n]),i<1&&c?n:(c||u.notifyWith(e,[s,1,0]),u.resolveWith(e,[s]),!1)},s=u.promise({elem:e,props:Ee.extend({},t),opts:Ee.extend(!0,{specialEasing:{},easing:Ee.easing._default},n),originalProperties:t,originalOptions:n,startTime:St||X(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Ee.Tween(e,s.opts,t,n,s.opts.specialEasing[t]||s.opts.easing);return s.tweens.push(r),r},stop:function(t){var n=0,r=t?s.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)s.tweens[n].run(1);return t?(u.notifyWith(e,[s,1,0]),u.resolveWith(e,[s,t])):u.rejectWith(e,[s,t]),this}}),l=s.props;for(ee(l,s.opts.specialEasing);i<a;i++)if(r=te.prefilters[i].call(s,e,l,s.opts))return ke(r.stop)&&(Ee._queueHooks(s.elem,s.opts.queue).stop=r.stop.bind(r)),r;return Ee.map(l,Q,s),ke(s.opts.start)&&s.opts.start.call(e,s),s.progress(s.opts.progress).done(s.opts.done,s.opts.complete).fail(s.opts.fail).always(s.opts.always),Ee.fx.timer(Ee.extend(c,{elem:e,anim:s,queue:s.opts.queue})),s}function ne(e){return(e.match(Be)||[]).join(" ")}function re(e){return e.getAttribute&&e.getAttribute("class")||""}function oe(e){return Array.isArray(e)?e:"string"==typeof e?e.match(Be)||[]:[]}function ie(e,t,n,r){var o;if(Array.isArray(t))Ee.each(t,function(t,o){n||Lt.test(e)?r(e,o):ie(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)});else if(n||"object"!==u(t))r(e,t);else for(o in t)ie(e+"["+o+"]",t[o],n,r)}function ae(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(Be)||[];if(ke(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function ue(e,t,n,r){function o(u){var c;return i[u]=!0,Ee.each(e[u]||[],function(e,u){var s=u(t,n,r);return"string"!=typeof s||a||i[s]?a?!(c=s):void 0:(t.dataTypes.unshift(s),o(s),!1)}),c}var i={},a=e===Xt;return o(t.dataTypes[0])||!i["*"]&&o("*")}function ce(e,t){var n,r,o=Ee.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&Ee.extend(!0,e,r),e}function se(e,t,n){for(var r,o,i,a,u=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in u)if(u[o]&&u[o].test(r)){c.unshift(o);break}if(c[0]in n)i=c[0];else{for(o in n){if(!c[0]||e.converters[o+" "+c[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==c[0]&&c.unshift(i),n[i]}function le(e,t,n,r){var o,i,a,u,c,s={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)s[a.toLowerCase()]=e.converters[a];for(i=l.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=i,i=l.shift())if("*"===i)i=c;else if("*"!==c&&c!==i){if(!(a=s[c+" "+i]||s["* "+i]))for(o in s)if(u=o.split(" "),u[1]===i&&(a=s[c+" "+u[0]]||s["* "+u[0]])){!0===a?a=s[o]:!0!==s[o]&&(i=u[0],l.unshift(u[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+c+" to "+i}}}return{state:"success",data:t}}var fe=[],de=Object.getPrototypeOf,me=fe.slice,pe=fe.flat?function(e){return fe.flat.call(e)}:function(e){return fe.concat.apply([],e)},ge=fe.push,he=fe.indexOf,ve={},be=ve.toString,ye=ve.hasOwnProperty,we=ye.toString,xe=we.call(Object),Ce={},ke=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},Se=function(e){return null!=e&&e===e.window},Te=n.document,Ne={type:!0,src:!0,nonce:!0,noModule:!0},Ee=function(e,t){return new Ee.fn.init(e,t)};Ee.fn=Ee.prototype={jquery:"3.5.1",constructor:Ee,length:0,toArray:function(){return me.call(this)},get:function(e){return null==e?me.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=Ee.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return Ee.each(this,e)},map:function(e){return this.pushStack(Ee.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(me.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(Ee.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(Ee.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ge,sort:fe.sort,splice:fe.splice},Ee.extend=Ee.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},u=1,c=arguments.length,s=!1;for("boolean"==typeof a&&(s=a,a=arguments[u]||{},u++),"object"==typeof a||ke(a)||(a={}),u===c&&(a=this,u--);u<c;u++)if(null!=(e=arguments[u]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(s&&r&&(Ee.isPlainObject(r)||(o=Array.isArray(r)))?(n=a[t],i=o&&!Array.isArray(n)?[]:o||Ee.isPlainObject(n)?n:{},o=!1,a[t]=Ee.extend(s,i,r)):void 0!==r&&(a[t]=r));return a},Ee.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==be.call(e))&&(!(t=de(e))||"function"==typeof(n=ye.call(t,"constructor")&&t.constructor)&&we.call(n)===xe)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){a(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(c(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(c(Object(e))?Ee.merge(n,"string"==typeof e?[e]:e):ge.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:he.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,o,i=0,a=[];if(c(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&a.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&a.push(o);return pe(a)},guid:1,support:Ce}),"function"==typeof Symbol&&(Ee.fn[Symbol.iterator]=fe[Symbol.iterator]),Ee.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ve["[object "+t+"]"]=t.toLowerCase()});var Oe=/*!
 * Sizzle CSS Selector Engine v2.3.5
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2020-03-14
 */
function(e){function t(e,t,n,r){var o,i,a,u,c,l,d,m=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!r&&(A(t),t=t||D,M)){if(11!==p&&(c=ve.exec(e)))if(o=c[1]){if(9===p){if(!(a=t.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(m&&(a=m.getElementById(o))&&B(t,a)&&a.id===o)return n.push(a),n}else{if(c[2])return J.apply(n,t.getElementsByTagName(e)),n;if((o=c[3])&&w.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(o)),n}if(w.qsa&&!$[e+" "]&&(!P||!P.test(e))&&(1!==p||"object"!==t.nodeName.toLowerCase())){if(d=e,m=t,1===p&&(se.test(e)||ce.test(e))){for(m=be.test(e)&&s(t.parentNode)||t,m===t&&w.scope||((u=t.getAttribute("id"))?u=u.replace(xe,Ce):t.setAttribute("id",u=L)),l=S(e),i=l.length;i--;)l[i]=(u?"#"+u:":scope")+" "+f(l[i]);d=l.join(",")}try{return J.apply(n,m.querySelectorAll(d)),n}catch(t){$(e,!0)}finally{u===L&&t.removeAttribute("id")}}}return N(e.replace(ae,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[L]=!0,e}function o(e){var t=D.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var n=e.split("|"),r=n.length;r--;)x.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function u(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function c(e){return r(function(t){return t=+t,r(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function s(e){return e&&void 0!==e.getElementsByTagName&&e}function l(){}function f(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,o=t.next,i=o||r,a=n&&"parentNode"===i,u=j++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,c){var s,l,f,d=[F,u];if(c){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,c))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(f=t[L]||(t[L]={}),l=f[t.uniqueID]||(f[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((s=l[i])&&s[0]===F&&s[1]===u)return d[2]=s[2];if(l[i]=d,d[2]=e(t,n,c))return!0}return!1}}function m(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function p(e,n,r){for(var o=0,i=n.length;o<i;o++)t(e,n[o],r);return r}function g(e,t,n,r,o){for(var i,a=[],u=0,c=e.length,s=null!=t;u<c;u++)(i=e[u])&&(n&&!n(i,r,o)||(a.push(i),s&&t.push(u)));return a}function h(e,t,n,o,i,a){return o&&!o[L]&&(o=h(o)),i&&!i[L]&&(i=h(i,a)),r(function(r,a,u,c){var s,l,f,d=[],m=[],h=a.length,v=r||p(t||"*",u.nodeType?[u]:u,[]),b=!e||!r&&t?v:g(v,d,e,u,c),y=n?i||(r?e:h||o)?[]:a:b;if(n&&n(b,y,u,c),o)for(s=g(y,m),o(s,[],u,c),l=s.length;l--;)(f=s[l])&&(y[m[l]]=!(b[m[l]]=f));if(r){if(i||e){if(i){for(s=[],l=y.length;l--;)(f=y[l])&&s.push(b[l]=f);i(null,y=[],s,c)}for(l=y.length;l--;)(f=y[l])&&(s=i?Z(r,f):d[l])>-1&&(r[s]=!(a[s]=f))}}else y=g(y===a?y.splice(h,y.length):y),i?i(null,a,y,c):J.apply(a,y)})}function v(e){for(var t,n,r,o=e.length,i=x.relative[e[0].type],a=i||x.relative[" "],u=i?1:0,c=d(function(e){return e===t},a,!0),s=d(function(e){return Z(t,e)>-1},a,!0),l=[function(e,n,r){var o=!i&&(r||n!==E)||((t=n).nodeType?c(e,n,r):s(e,n,r));return t=null,o}];u<o;u++)if(n=x.relative[e[u].type])l=[d(m(l),n)];else{if(n=x.filter[e[u].type].apply(null,e[u].matches),n[L]){for(r=++u;r<o&&!x.relative[e[r].type];r++);return h(u>1&&m(l),u>1&&f(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(ae,"$1"),n,u<r&&v(e.slice(u,r)),r<o&&v(e=e.slice(r)),r<o&&f(e))}l.push(n)}return m(l)}function b(e,n){var o=n.length>0,i=e.length>0,a=function(r,a,u,c,s){var l,f,d,m=0,p="0",h=r&&[],v=[],b=E,y=r||i&&x.find.TAG("*",s),w=F+=null==b?1:Math.random()||.1,C=y.length;for(s&&(E=a==D||a||s);p!==C&&null!=(l=y[p]);p++){if(i&&l){for(f=0,a||l.ownerDocument==D||(A(l),u=!M);d=e[f++];)if(d(l,a||D,u)){c.push(l);break}s&&(F=w)}o&&((l=!d&&l)&&m--,r&&h.push(l))}if(m+=p,o&&p!==m){for(f=0;d=n[f++];)d(h,v,a,u);if(r){if(m>0)for(;p--;)h[p]||v[p]||(v[p]=Y.call(c));v=g(v)}J.apply(c,v),s&&!r&&v.length>0&&m+n.length>1&&t.uniqueSort(c)}return s&&(F=w,E=b),h};return o?r(a):a}var y,w,x,C,k,S,T,N,E,O,_,A,D,R,M,P,I,z,B,L="sizzle"+1*new Date,H=e.document,F=0,j=0,V=n(),U=n(),q=n(),$=n(),W=function(e,t){return e===t&&(_=!0),0},G={}.hasOwnProperty,K=[],Y=K.pop,X=K.push,J=K.push,Q=K.slice,Z=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",te="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\[\\da-fA-F]{1,6}"+te+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",re="\\["+te+"*("+ne+")(?:"+te+"*([*^$|!~]?=)"+te+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+te+"*\\]",oe=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",ie=new RegExp(te+"+","g"),ae=new RegExp("^"+te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+te+"+$","g"),ue=new RegExp("^"+te+"*,"+te+"*"),ce=new RegExp("^"+te+"*([>+~]|"+te+")"+te+"*"),se=new RegExp(te+"|>"),le=new RegExp(oe),fe=new RegExp("^"+ne+"$"),de={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+te+"*(even|odd|(([+-]|)(\\d*)n|)"+te+"*(?:([+-]|)"+te+"*(\\d+)|))"+te+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+te+"*((?:-\\d)?\\d*)"+te+"*\\)|)(?=[^-]|$)","i")},me=/HTML$/i,pe=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,he=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,ye=new RegExp("\\\\[\\da-fA-F]{1,6}"+te+"?|\\\\([^\\r\\n\\f])","g"),we=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},xe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Ce=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ke=function(){A()},Se=d(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{J.apply(K=Q.call(H.childNodes),H.childNodes),K[H.childNodes.length].nodeType}catch(e){J={apply:K.length?function(e,t){X.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},k=t.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!me.test(t||n&&n.nodeName||"HTML")},A=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:H;return r!=D&&9===r.nodeType&&r.documentElement?(D=r,R=D.documentElement,M=!k(D),H!=D&&(n=D.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",ke,!1):n.attachEvent&&n.attachEvent("onunload",ke)),w.scope=o(function(e){return R.appendChild(e).appendChild(D.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),w.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=o(function(e){return e.appendChild(D.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=he.test(D.getElementsByClassName),w.getById=o(function(e){return R.appendChild(e).id=L,!D.getElementsByName||!D.getElementsByName(L).length}),w.getById?(x.filter.ID=function(e){var t=e.replace(ye,we);return function(e){return e.getAttribute("id")===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&M){var n=t.getElementById(e);return n?[n]:[]}}):(x.filter.ID=function(e){var t=e.replace(ye,we);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&M){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),x.find.TAG=w.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},x.find.CLASS=w.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&M)return t.getElementsByClassName(e)},I=[],P=[],(w.qsa=he.test(D.querySelectorAll))&&(o(function(e){var t;R.appendChild(e).innerHTML="<a id='"+L+"'></a><select id='"+L+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+te+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+te+"*(?:value|"+ee+")"),e.querySelectorAll("[id~="+L+"-]").length||P.push("~="),t=D.createElement("input"),t.setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||P.push("\\["+te+"*name"+te+"*="+te+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||P.push(":checked"),e.querySelectorAll("a#"+L+"+*").length||P.push(".#.+[+~]"),e.querySelectorAll("\\\f"),P.push("[\\r\\n\\f]")}),o(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=D.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+te+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&P.push(":enabled",":disabled"),R.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(w.matchesSelector=he.test(z=R.matches||R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&o(function(e){w.disconnectedMatch=z.call(e,"*"),z.call(e,"[s!='']:x"),I.push("!=",oe)}),P=P.length&&new RegExp(P.join("|")),I=I.length&&new RegExp(I.join("|")),t=he.test(R.compareDocumentPosition),B=t||he.test(R.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return _=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e==D||e.ownerDocument==H&&B(H,e)?-1:t==D||t.ownerDocument==H&&B(H,t)?1:O?Z(O,e)-Z(O,t):0:4&n?-1:1)}:function(e,t){if(e===t)return _=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,u=[e],c=[t];if(!o||!i)return e==D?-1:t==D?1:o?-1:i?1:O?Z(O,e)-Z(O,t):0;if(o===i)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;u[r]===c[r];)r++;return r?a(u[r],c[r]):u[r]==H?-1:c[r]==H?1:0},D):D},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if(A(e),w.matchesSelector&&M&&!$[n+" "]&&(!I||!I.test(n))&&(!P||!P.test(n)))try{var r=z.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){$(n,!0)}return t(n,D,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!=D&&A(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!=D&&A(e);var n=x.attrHandle[t.toLowerCase()],r=n&&G.call(x.attrHandle,t.toLowerCase())?n(e,t,!M):void 0;return void 0!==r?r:w.attributes||!M?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(xe,Ce)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,o=0;if(_=!w.detectDuplicates,O=!w.sortStable&&e.slice(0),e.sort(W),_){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return O=null,e},C=t.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},x=t.selectors={cacheLength:50,createPseudo:r,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,we),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&le.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+te+")"+e+"("+te+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(o){var i=t.attr(o,e);return null==i?"!="===n:!n||(i+="","="===n?i===r:"!="===n?i!==r:"^="===n?r&&0===i.indexOf(r):"*="===n?r&&i.indexOf(r)>-1:"$="===n?r&&i.slice(-r.length)===r:"~="===n?(" "+i.replace(ie," ")+" ").indexOf(r)>-1:"|="===n&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,c){var s,l,f,d,m,p,g=i!==a?"nextSibling":"previousSibling",h=t.parentNode,v=u&&t.nodeName.toLowerCase(),b=!c&&!u,y=!1;if(h){if(i){for(;g;){for(d=t;d=d[g];)if(u?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?h.firstChild:h.lastChild],a&&b){for(d=h,f=d[L]||(d[L]={}),l=f[d.uniqueID]||(f[d.uniqueID]={}),s=l[e]||[],m=s[0]===F&&s[1],y=m&&s[2],d=m&&h.childNodes[m];d=++m&&d&&d[g]||(y=m=0)||p.pop();)if(1===d.nodeType&&++y&&d===t){l[e]=[F,m,y];break}}else if(b&&(d=t,f=d[L]||(d[L]={}),l=f[d.uniqueID]||(f[d.uniqueID]={}),s=l[e]||[],m=s[0]===F&&s[1],y=m),!1===y)for(;(d=++m&&d&&d[g]||(y=m=0)||p.pop())&&((u?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++y||(b&&(f=d[L]||(d[L]={}),l=f[d.uniqueID]||(f[d.uniqueID]={}),l[e]=[F,y]),d!==t)););return(y-=o)===r||y%r==0&&y/r>=0}}},PSEUDO:function(e,n){var o,i=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return i[L]?i(n):i.length>1?(o=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,o=i(e,n),a=o.length;a--;)r=Z(e,o[a]),e[r]=!(t[r]=o[a])}):function(e){return i(e,0,o)}):i}},pseudos:{not:r(function(e){var t=[],n=[],o=T(e.replace(ae,"$1"));return o[L]?r(function(e,t,n,r){for(var i,a=o(e,null,r,[]),u=e.length;u--;)(i=a[u])&&(e[u]=!(t[u]=i))}):function(e,r,i){return t[0]=e,o(t,null,i,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(ye,we),function(t){return(t.textContent||C(t)).indexOf(e)>-1}}),lang:r(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,we).toLowerCase(),function(t){var n;do{if(n=M?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===R},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:u(!1),disabled:u(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},x.pseudos.nth=x.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[y]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(y);for(y in{submit:!0,reset:!0})x.pseudos[y]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(y);return l.prototype=x.filters=x.pseudos,x.setFilters=new l,S=t.tokenize=function(e,n){var r,o,i,a,u,c,s,l=U[e+" "];if(l)return n?0:l.slice(0);for(u=e,c=[],s=x.preFilter;u;){r&&!(o=ue.exec(u))||(o&&(u=u.slice(o[0].length)||u),c.push(i=[])),r=!1,(o=ce.exec(u))&&(r=o.shift(),i.push({value:r,type:o[0].replace(ae," ")}),u=u.slice(r.length));for(a in x.filter)!(o=de[a].exec(u))||s[a]&&!(o=s[a](o))||(r=o.shift(),i.push({value:r,type:a,matches:o}),u=u.slice(r.length));if(!r)break}return n?u.length:u?t.error(e):U(e,c).slice(0)},T=t.compile=function(e,t){var n,r=[],o=[],i=q[e+" "];if(!i){for(t||(t=S(e)),n=t.length;n--;)i=v(t[n]),i[L]?r.push(i):o.push(i);i=q(e,b(o,r)),i.selector=e}return i},N=t.select=function(e,t,n,r){var o,i,a,u,c,l="function"==typeof e&&e,d=!r&&S(e=l.selector||e);if(n=n||[],1===d.length){if(i=d[0]=d[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&9===t.nodeType&&M&&x.relative[i[1].type]){if(!(t=(x.find.ID(a.matches[0].replace(ye,we),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=de.needsContext.test(e)?0:i.length;o--&&(a=i[o],!x.relative[u=a.type]);)if((c=x.find[u])&&(r=c(a.matches[0].replace(ye,we),be.test(i[0].type)&&s(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&f(i)))return J.apply(n,r),n;break}}return(l||T(e,d))(r,t,!M,n,!t||be.test(e)&&s(t.parentNode)||t),n},w.sortStable=L.split("").sort(W).join("")===L,w.detectDuplicates=!!_,A(),w.sortDetached=o(function(e){return 1&e.compareDocumentPosition(D.createElement("fieldset"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||i(ee,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(n);Ee.find=Oe,Ee.expr=Oe.selectors,Ee.expr[":"]=Ee.expr.pseudos,Ee.uniqueSort=Ee.unique=Oe.uniqueSort,Ee.text=Oe.getText,Ee.isXMLDoc=Oe.isXML,Ee.contains=Oe.contains,Ee.escapeSelector=Oe.escape;var _e=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&Ee(e).is(n))break;r.push(e)}return r},Ae=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},De=Ee.expr.match.needsContext,Re=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Ee.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Ee.find.matchesSelector(r,e)?[r]:[]:Ee.find.matches(e,Ee.grep(t,function(e){return 1===e.nodeType}))},Ee.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(Ee(e).filter(function(){for(t=0;t<r;t++)if(Ee.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)Ee.find(e,o[t],n);return r>1?Ee.uniqueSort(n):n},filter:function(e){return this.pushStack(l(this,e||[],!1))},not:function(e){return this.pushStack(l(this,e||[],!0))},is:function(e){return!!l(this,"string"==typeof e&&De.test(e)?Ee(e):e||[],!1).length}});var Me,Pe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(Ee.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||Me,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Pe.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof Ee?t[0]:t,Ee.merge(this,Ee.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:Te,!0)),Re.test(r[1])&&Ee.isPlainObject(t))for(r in t)ke(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return o=Te.getElementById(r[2]),o&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):ke(e)?void 0!==n.ready?n.ready(e):e(Ee):Ee.makeArray(e,this)}).prototype=Ee.fn,Me=Ee(Te);var Ie=/^(?:parents|prev(?:Until|All))/,ze={children:!0,contents:!0,next:!0,prev:!0};Ee.fn.extend({has:function(e){var t=Ee(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(Ee.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,o=this.length,i=[],a="string"!=typeof e&&Ee(e);if(!De.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Ee.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?Ee.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?he.call(Ee(e),this[0]):he.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Ee.uniqueSort(Ee.merge(this.get(),Ee(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Ee.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return _e(e,"parentNode")},parentsUntil:function(e,t,n){return _e(e,"parentNode",n)},next:function(e){return f(e,"nextSibling")},prev:function(e){return f(e,"previousSibling")},nextAll:function(e){return _e(e,"nextSibling")},prevAll:function(e){return _e(e,"previousSibling")},nextUntil:function(e,t,n){return _e(e,"nextSibling",n)},prevUntil:function(e,t,n){return _e(e,"previousSibling",n)},siblings:function(e){return Ae((e.parentNode||{}).firstChild,e)},children:function(e){return Ae(e.firstChild)},contents:function(e){return null!=e.contentDocument&&de(e.contentDocument)?e.contentDocument:(s(e,"template")&&(e=e.content||e),Ee.merge([],e.childNodes))}},function(e,t){Ee.fn[e]=function(n,r){var o=Ee.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=Ee.filter(r,o)),this.length>1&&(ze[e]||Ee.uniqueSort(o),Ie.test(e)&&o.reverse()),this.pushStack(o)}});var Be=/[^\x20\t\r\n\f]+/g;Ee.Callbacks=function(e){e="string"==typeof e?d(e):Ee.extend({},e);var t,n,r,o,i=[],a=[],c=-1,s=function(){for(o=o||e.once,r=t=!0;a.length;c=-1)for(n=a.shift();++c<i.length;)!1===i[c].apply(n[0],n[1])&&e.stopOnFalse&&(c=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},l={add:function(){return i&&(n&&!t&&(c=i.length-1,a.push(n)),function t(n){Ee.each(n,function(n,r){ke(r)?e.unique&&l.has(r)||i.push(r):r&&r.length&&"string"!==u(r)&&t(r)})}(arguments),n&&!t&&s()),this},remove:function(){return Ee.each(arguments,function(e,t){for(var n;(n=Ee.inArray(t,i,n))>-1;)i.splice(n,1),n<=c&&c--}),this},has:function(e){return e?Ee.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||t||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||s()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},Ee.extend({Deferred:function(e){var t=[["notify","progress",Ee.Callbacks("memory"),Ee.Callbacks("memory"),2],["resolve","done",Ee.Callbacks("once memory"),Ee.Callbacks("once memory"),0,"resolved"],["reject","fail",Ee.Callbacks("once memory"),Ee.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return Ee.Deferred(function(n){Ee.each(t,function(t,r){var o=ke(e[r[4]])&&e[r[4]];i[r[1]](function(){var e=o&&o.apply(this,arguments);e&&ke(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(e,r,o){function i(e,t,r,o){return function(){var u=this,c=arguments,s=function(){var n,s;if(!(e<a)){if((n=r.apply(u,c))===t.promise())throw new TypeError("Thenable self-resolution");s=n&&("object"==typeof n||"function"==typeof n)&&n.then,ke(s)?o?s.call(n,i(a,t,m,o),i(a,t,p,o)):(a++,s.call(n,i(a,t,m,o),i(a,t,p,o),i(a,t,m,t.notifyWith))):(r!==m&&(u=void 0,c=[n]),(o||t.resolveWith)(u,c))}},l=o?s:function(){try{s()}catch(n){Ee.Deferred.exceptionHook&&Ee.Deferred.exceptionHook(n,l.stackTrace),e+1>=a&&(r!==p&&(u=void 0,c=[n]),t.rejectWith(u,c))}};e?l():(Ee.Deferred.getStackHook&&(l.stackTrace=Ee.Deferred.getStackHook()),n.setTimeout(l))}}var a=0;return Ee.Deferred(function(n){t[0][3].add(i(0,n,ke(o)?o:m,n.notifyWith)),t[1][3].add(i(0,n,ke(e)?e:m)),t[2][3].add(i(0,n,ke(r)?r:p))}).promise()},promise:function(e){return null!=e?Ee.extend(e,o):o}},i={};return Ee.each(t,function(e,n){var a=n[2],u=n[5];o[n[1]]=a.add,u&&a.add(function(){r=u},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(n[3].fire),i[n[0]]=function(){return i[n[0]+"With"](this===i?void 0:this,arguments),this},i[n[0]+"With"]=a.fireWith}),o.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),o=me.call(arguments),i=Ee.Deferred(),a=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?me.call(arguments):n,--t||i.resolveWith(r,o)}};if(t<=1&&(g(e,i.done(a(n)).resolve,i.reject,!t),"pending"===i.state()||ke(o[n]&&o[n].then)))return i.then();for(;n--;)g(o[n],a(n),i.reject);return i.promise()}});var Le=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Ee.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&Le.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},Ee.readyException=function(e){n.setTimeout(function(){throw e})};var He=Ee.Deferred();Ee.fn.ready=function(e){return He.then(e).catch(function(e){Ee.readyException(e)}),this},Ee.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--Ee.readyWait:Ee.isReady)||(Ee.isReady=!0,!0!==e&&--Ee.readyWait>0||He.resolveWith(Te,[Ee]))}}),Ee.ready.then=He.then,"complete"===Te.readyState||"loading"!==Te.readyState&&!Te.documentElement.doScroll?n.setTimeout(Ee.ready):(Te.addEventListener("DOMContentLoaded",h),n.addEventListener("load",h));var Fe=function(e,t,n,r,o,i,a){var c=0,s=e.length,l=null==n;if("object"===u(n)){o=!0;for(c in n)Fe(e,t,c,n[c],!0,i,a)}else if(void 0!==r&&(o=!0,ke(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(Ee(e),n)})),t))for(;c<s;c++)t(e[c],n,a?r:r.call(e[c],c,t(e[c],n)));return o?e:l?t.call(e):s?t(e[0],n):i},je=/^-ms-/,Ve=/-([a-z])/g,Ue=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};y.uid=1,y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ue(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[b(t)]=n;else for(r in t)o[b(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][b(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(b):(t=b(t),t=t in r?[t]:t.match(Be)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||Ee.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!Ee.isEmptyObject(t)}};var qe=new y,$e=new y,We=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ge=/[A-Z]/g;Ee.extend({hasData:function(e){return $e.hasData(e)||qe.hasData(e)},data:function(e,t,n){return $e.access(e,t,n)},removeData:function(e,t){$e.remove(e,t)},_data:function(e,t,n){return qe.access(e,t,n)},_removeData:function(e,t){qe.remove(e,t)}}),Ee.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=$e.get(i),1===i.nodeType&&!qe.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=b(r.slice(5)),x(i,r,o[r])));qe.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){$e.set(this,e)}):Fe(this,function(t){var n;if(i&&void 0===t){if(void 0!==(n=$e.get(i,e)))return n;if(void 0!==(n=x(i,e)))return n}else this.each(function(){$e.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){$e.remove(this,e)})}}),Ee.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=qe.get(e,t),n&&(!r||Array.isArray(n)?r=qe.access(e,t,Ee.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=Ee.queue(e,t),r=n.length,o=n.shift(),i=Ee._queueHooks(e,t),a=function(){Ee.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,a,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return qe.get(e,n)||qe.access(e,n,{empty:Ee.Callbacks("once memory").add(function(){qe.remove(e,[t+"queue",n])})})}}),Ee.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Ee.queue(this[0],e):void 0===t?this:this.each(function(){var n=Ee.queue(this,e,t);Ee._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Ee.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Ee.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=Ee.Deferred(),i=this,a=this.length,u=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=qe.get(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(u));return u(),o.promise(t)}});var Ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ye=new RegExp("^(?:([+-])=|)("+Ke+")([a-z%]*)$","i"),Xe=["Top","Right","Bottom","Left"],Je=Te.documentElement,Qe=function(e){return Ee.contains(e.ownerDocument,e)},Ze={composed:!0};Je.getRootNode&&(Qe=function(e){return Ee.contains(e.ownerDocument,e)||e.getRootNode(Ze)===e.ownerDocument});var et=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&Qe(e)&&"none"===Ee.css(e,"display")},tt={};Ee.fn.extend({show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){et(this)?Ee(this).show():Ee(this).hide()})}});var nt=/^(?:checkbox|radio)$/i,rt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ot=/^$|^module$|\/(?:java|ecma)script/i;!function(){var e=Te.createDocumentFragment(),t=e.appendChild(Te.createElement("div")),n=Te.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),Ce.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Ce.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,t.innerHTML="<option></option>",Ce.option=!!t.lastChild}();var it={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};it.tbody=it.tfoot=it.colgroup=it.caption=it.thead,it.th=it.td,Ce.option||(it.optgroup=it.option=[1,"<select multiple='multiple'>","</select>"]);var at=/<|&#?\w+;/,ut=/^key/,ct=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,st=/^([^.]*)(?:\.(.+)|)/;Ee.event={global:{},add:function(e,t,n,r,o){var i,a,u,c,s,l,f,d,m,p,g,h=qe.get(e);if(Ue(e))for(n.handler&&(i=n,n=i.handler,o=i.selector),o&&Ee.find.matchesSelector(Je,o),n.guid||(n.guid=Ee.guid++),(c=h.events)||(c=h.events=Object.create(null)),(a=h.handle)||(a=h.handle=function(t){return void 0!==Ee&&Ee.event.triggered!==t.type?Ee.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Be)||[""],s=t.length;s--;)u=st.exec(t[s])||[],m=g=u[1],p=(u[2]||"").split(".").sort(),m&&(f=Ee.event.special[m]||{},m=(o?f.delegateType:f.bindType)||m,f=Ee.event.special[m]||{},l=Ee.extend({type:m,origType:g,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&Ee.expr.match.needsContext.test(o),namespace:p.join(".")},i),(d=c[m])||(d=c[m]=[],d.delegateCount=0,f.setup&&!1!==f.setup.call(e,r,p,a)||e.addEventListener&&e.addEventListener(m,a)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,l):d.push(l),Ee.event.global[m]=!0)},remove:function(e,t,n,r,o){var i,a,u,c,s,l,f,d,m,p,g,h=qe.hasData(e)&&qe.get(e);if(h&&(c=h.events)){for(t=(t||"").match(Be)||[""],s=t.length;s--;)if(u=st.exec(t[s])||[],m=g=u[1],p=(u[2]||"").split(".").sort(),m){for(f=Ee.event.special[m]||{},m=(r?f.delegateType:f.bindType)||m,d=c[m]||[],u=u[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=d.length;i--;)l=d[i],!o&&g!==l.origType||n&&n.guid!==l.guid||u&&!u.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(d.splice(i,1),l.selector&&d.delegateCount--,f.remove&&f.remove.call(e,l));a&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,p,h.handle)||Ee.removeEvent(e,m,h.handle),delete c[m])}else for(m in c)Ee.event.remove(e,m+t[s],n,r,!0);Ee.isEmptyObject(c)&&qe.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,a,u=new Array(arguments.length),c=Ee.event.fix(e),s=(qe.get(this,"events")||Object.create(null))[c.type]||[],l=Ee.event.special[c.type]||{};for(u[0]=c,t=1;t<arguments.length;t++)u[t]=arguments[t];if(c.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,c)){for(a=Ee.event.handlers.call(this,c,s),t=0;(o=a[t++])&&!c.isPropagationStopped();)for(c.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==i.namespace&&!c.rnamespace.test(i.namespace)||(c.handleObj=i,c.data=i.data,void 0!==(r=((Ee.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,u))&&!1===(c.result=r)&&(c.preventDefault(),c.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,c),c.result}},handlers:function(e,t){var n,r,o,i,a,u=[],c=t.delegateCount,s=e.target;if(c&&s.nodeType&&!("click"===e.type&&e.button>=1))for(;s!==this;s=s.parentNode||this)if(1===s.nodeType&&("click"!==e.type||!0!==s.disabled)){for(i=[],a={},n=0;n<c;n++)r=t[n],o=r.selector+" ",void 0===a[o]&&(a[o]=r.needsContext?Ee(o,this).index(s)>-1:Ee.find(o,this,null,[s]).length),a[o]&&i.push(r);i.length&&u.push({elem:s,handlers:i})}return s=this,c<t.length&&u.push({elem:s,handlers:t.slice(c)}),u},addProp:function(e,t){Object.defineProperty(Ee.Event.prototype,e,{enumerable:!0,configurable:!0,get:ke(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[Ee.expando]?e:new Ee.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return nt.test(t.type)&&t.click&&s(t,"input")&&M(t,"click",O),!1},trigger:function(e){var t=this||e;return nt.test(t.type)&&t.click&&s(t,"input")&&M(t,"click"),!0},_default:function(e){var t=e.target;return nt.test(t.type)&&t.click&&s(t,"input")&&qe.get(t,"click")||s(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},Ee.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},Ee.Event=function(e,t){if(!(this instanceof Ee.Event))return new Ee.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?O:_,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Ee.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[Ee.expando]=!0},Ee.Event.prototype={constructor:Ee.Event,isDefaultPrevented:_,isPropagationStopped:_,isImmediatePropagationStopped:_,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=O,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=O,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=O,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},Ee.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&ut.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ct.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},Ee.event.addProp),Ee.each({focus:"focusin",blur:"focusout"},function(e,t){Ee.event.special[e]={setup:function(){return M(this,e,A),!1},trigger:function(){return M(this,e),!0},delegateType:t}}),Ee.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Ee.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===r||Ee.contains(r,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),Ee.fn.extend({on:function(e,t,n,r){return R(this,e,t,n,r)},one:function(e,t,n,r){return R(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Ee(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=_),this.each(function(){Ee.event.remove(this,e,n,t)})}});var lt=/<script|<style|<link/i,ft=/checked\s*(?:[^=]|=\s*.checked.)/i,dt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Ee.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,o,i,a,u=e.cloneNode(!0),c=Qe(e);if(!(Ce.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Ee.isXMLDoc(e)))for(a=T(u),i=T(e),r=0,o=i.length;r<o;r++)L(i[r],a[r]);if(t)if(n)for(i=i||T(e),a=a||T(u),r=0,o=i.length;r<o;r++)B(i[r],a[r]);else B(e,u);return a=T(u,"script"),a.length>0&&N(a,!c&&T(e,"script")),u},cleanData:function(e){for(var t,n,r,o=Ee.event.special,i=0;void 0!==(n=e[i]);i++)if(Ue(n)){if(t=n[qe.expando]){if(t.events)for(r in t.events)o[r]?Ee.event.remove(n,r):Ee.removeEvent(n,r,t.handle);n[qe.expando]=void 0}n[$e.expando]&&(n[$e.expando]=void 0)}}}),Ee.fn.extend({detach:function(e){return F(this,e,!0)},remove:function(e){return F(this,e)},text:function(e){return Fe(this,function(e){return void 0===e?Ee.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return H(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){P(this,e).appendChild(e)}})},prepend:function(){return H(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=P(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return H(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return H(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Ee.cleanData(T(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Ee.clone(this,e,t)})},html:function(e){return Fe(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!lt.test(e)&&!it[(rt.exec(e)||["",""])[1].toLowerCase()]){e=Ee.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(Ee.cleanData(T(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return H(this,arguments,function(t){var n=this.parentNode;Ee.inArray(this,e)<0&&(Ee.cleanData(T(this)),n&&n.replaceChild(t,this))},e)}}),Ee.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Ee.fn[e]=function(e){for(var n,r=[],o=Ee(e),i=o.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),Ee(o[a])[t](n),ge.apply(r,n.get());return this.pushStack(r)}});var mt=new RegExp("^("+Ke+")(?!px)[a-z%]+$","i"),pt=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},gt=function(e,t,n){var r,o,i={};for(o in t)i[o]=e.style[o],e.style[o]=t[o];r=n.call(e);for(o in t)e.style[o]=i[o];return r},ht=new RegExp(Xe.join("|"),"i");!function(){function e(){if(l){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Je.appendChild(s).appendChild(l);var e=n.getComputedStyle(l);r="1%"!==e.top,c=12===t(e.marginLeft),l.style.right="60%",a=36===t(e.right),o=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),Je.removeChild(s),l=null}}function t(e){return Math.round(parseFloat(e))}var r,o,i,a,u,c,s=Te.createElement("div"),l=Te.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",Ce.clearCloneStyle="content-box"===l.style.backgroundClip,Ee.extend(Ce,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),c},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,r,o;return null==u&&(e=Te.createElement("table"),t=Te.createElement("tr"),r=Te.createElement("div"),e.style.cssText="position:absolute;left:-11111px",t.style.height="1px",r.style.height="9px",Je.appendChild(e).appendChild(t).appendChild(r),o=n.getComputedStyle(t),u=parseInt(o.height)>3,Je.removeChild(e)),u}}))}();var vt=["Webkit","Moz","ms"],bt=Te.createElement("div").style,yt={},wt=/^(none|table(?!-c[ea]).+)/,xt=/^--/,Ct={position:"absolute",visibility:"hidden",display:"block"},kt={letterSpacing:"0",fontWeight:"400"};Ee.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=j(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,u=b(t),c=xt.test(t),s=e.style;if(c||(t=q(u)),a=Ee.cssHooks[t]||Ee.cssHooks[u],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:s[t];i=typeof n,"string"===i&&(o=Ye.exec(n))&&o[1]&&(n=C(e,t,o),i="number"),null!=n&&n===n&&("number"!==i||c||(n+=o&&o[3]||(Ee.cssNumber[u]?"":"px")),Ce.clearCloneStyle||""!==n||0!==t.indexOf("background")||(s[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(c?s.setProperty(t,n):s[t]=n))}},css:function(e,t,n,r){var o,i,a,u=b(t);return xt.test(t)||(t=q(u)),a=Ee.cssHooks[t]||Ee.cssHooks[u],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=j(e,t,r)),"normal"===o&&t in kt&&(o=kt[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),Ee.each(["height","width"],function(e,t){Ee.cssHooks[t]={get:function(e,n,r){if(n)return!wt.test(Ee.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?G(e,t,r):gt(e,Ct,function(){return G(e,t,r)})},set:function(e,n,r){var o,i=pt(e),a=!Ce.scrollboxSize()&&"absolute"===i.position,u=a||r,c=u&&"border-box"===Ee.css(e,"boxSizing",!1,i),s=r?W(e,t,r,c,i):0;return c&&a&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-W(e,t,"border",!1,i)-.5)),s&&(o=Ye.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=Ee.css(e,t)),$(e,n,s)}}}),Ee.cssHooks.marginLeft=V(Ce.reliableMarginLeft,function(e,t){if(t)return(parseFloat(j(e,"marginLeft"))||e.getBoundingClientRect().left-gt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),Ee.each({margin:"",padding:"",border:"Width"},function(e,t){Ee.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+Xe[r]+t]=i[r]||i[r-2]||i[0];return o}},"margin"!==e&&(Ee.cssHooks[e+t].set=$)}),Ee.fn.extend({css:function(e,t){return Fe(this,function(e,t,n){var r,o,i={},a=0;if(Array.isArray(t)){for(r=pt(e),o=t.length;a<o;a++)i[t[a]]=Ee.css(e,t[a],!1,r);return i}return void 0!==n?Ee.style(e,t,n):Ee.css(e,t)},e,t,arguments.length>1)}}),Ee.Tween=K,K.prototype={constructor:K,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||Ee.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(Ee.cssNumber[n]?"":"px")},cur:function(){var e=K.propHooks[this.prop];return e&&e.get?e.get(this):K.propHooks._default.get(this)},run:function(e){var t,n=K.propHooks[this.prop];return this.options.duration?this.pos=t=Ee.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):K.propHooks._default.set(this),this}},K.prototype.init.prototype=K.prototype,K.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=Ee.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){Ee.fx.step[e.prop]?Ee.fx.step[e.prop](e):1!==e.elem.nodeType||!Ee.cssHooks[e.prop]&&null==e.elem.style[q(e.prop)]?e.elem[e.prop]=e.now:Ee.style(e.elem,e.prop,e.now+e.unit)}}},K.propHooks.scrollTop=K.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Ee.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},Ee.fx=K.prototype.init,Ee.fx.step={};var St,Tt,Nt=/^(?:toggle|show|hide)$/,Et=/queueHooks$/;Ee.Animation=Ee.extend(te,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return C(n.elem,e,Ye.exec(t),n),n}]},tweener:function(e,t){ke(e)?(t=e,e=["*"]):e=e.match(Be);for(var n,r=0,o=e.length;r<o;r++)n=e[r],te.tweeners[n]=te.tweeners[n]||[],te.tweeners[n].unshift(t)},prefilters:[Z],prefilter:function(e,t){t?te.prefilters.unshift(e):te.prefilters.push(e)}}),Ee.speed=function(e,t,n){var r=e&&"object"==typeof e?Ee.extend({},e):{complete:n||!n&&t||ke(e)&&e,duration:e,easing:n&&t||t&&!ke(t)&&t};return Ee.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in Ee.fx.speeds?r.duration=Ee.fx.speeds[r.duration]:r.duration=Ee.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){ke(r.old)&&r.old.call(this),r.queue&&Ee.dequeue(this,r.queue)},r},Ee.fn.extend({fadeTo:function(e,t,n,r){return this.filter(et).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=Ee.isEmptyObject(e),i=Ee.speed(t,n,r),a=function(){var t=te(this,Ee.extend({},e),i);(o||qe.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=Ee.timers,a=qe.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&Et.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||Ee.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=qe.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=Ee.timers,a=r?r.length:0;for(n.finish=!0,Ee.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Ee.each(["toggle","show","hide"],function(e,t){var n=Ee.fn[t];Ee.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(J(t,!0),e,r,o)}}),Ee.each({slideDown:J("show"),slideUp:J("hide"),slideToggle:J("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Ee.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Ee.timers=[],Ee.fx.tick=function(){var e,t=0,n=Ee.timers;for(St=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||Ee.fx.stop(),St=void 0},Ee.fx.timer=function(e){Ee.timers.push(e),Ee.fx.start()},Ee.fx.interval=13,Ee.fx.start=function(){Tt||(Tt=!0,Y())},Ee.fx.stop=function(){Tt=null},Ee.fx.speeds={slow:600,fast:200,_default:400},Ee.fn.delay=function(e,t){return e=Ee.fx?Ee.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,r){var o=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(o)}})},function(){var e=Te.createElement("input"),t=Te.createElement("select"),n=t.appendChild(Te.createElement("option"));e.type="checkbox",Ce.checkOn=""!==e.value,Ce.optSelected=n.selected,e=Te.createElement("input"),e.value="t",e.type="radio",Ce.radioValue="t"===e.value}();var Ot,_t=Ee.expr.attrHandle;Ee.fn.extend({attr:function(e,t){return Fe(this,Ee.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Ee.removeAttr(this,e)})}}),Ee.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?Ee.prop(e,t,n):(1===i&&Ee.isXMLDoc(e)||(o=Ee.attrHooks[t.toLowerCase()]||(Ee.expr.match.bool.test(t)?Ot:void 0)),void 0!==n?null===n?void Ee.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:(r=Ee.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!Ce.radioValue&&"radio"===t&&s(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(Be);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),Ot={set:function(e,t,n){return!1===t?Ee.removeAttr(e,n):e.setAttribute(n,n),n}},Ee.each(Ee.expr.match.bool.source.match(/\w+/g),function(e,t){var n=_t[t]||Ee.find.attr;_t[t]=function(e,t,r){var o,i,a=t.toLowerCase();return r||(i=_t[a],_t[a]=o,o=null!=n(e,t,r)?a:null,_t[a]=i),o}});var At=/^(?:input|select|textarea|button)$/i,Dt=/^(?:a|area)$/i;Ee.fn.extend({prop:function(e,t){return Fe(this,Ee.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Ee.propFix[e]||e]})}}),Ee.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&Ee.isXMLDoc(e)||(t=Ee.propFix[t]||t,o=Ee.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=Ee.find.attr(e,"tabindex");return t?parseInt(t,10):At.test(e.nodeName)||Dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Ce.optSelected||(Ee.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),Ee.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Ee.propFix[this.toLowerCase()]=this}),Ee.fn.extend({addClass:function(e){var t,n,r,o,i,a,u,c=0;if(ke(e))return this.each(function(t){Ee(this).addClass(e.call(this,t,re(this)))});if(t=oe(e),t.length)for(;n=this[c++];)if(o=re(n),r=1===n.nodeType&&" "+ne(o)+" "){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");u=ne(r),o!==u&&n.setAttribute("class",u)}return this},removeClass:function(e){var t,n,r,o,i,a,u,c=0;if(ke(e))return this.each(function(t){Ee(this).removeClass(e.call(this,t,re(this)))});if(!arguments.length)return this.attr("class","");if(t=oe(e),t.length)for(;n=this[c++];)if(o=re(n),r=1===n.nodeType&&" "+ne(o)+" "){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");u=ne(r),o!==u&&n.setAttribute("class",u)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):ke(e)?this.each(function(n){Ee(this).toggleClass(e.call(this,n,re(this),t),t)}):this.each(function(){var t,o,i,a;if(r)for(o=0,i=Ee(this),a=oe(e);t=a[o++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||(t=re(this),t&&qe.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":qe.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+ne(re(n))+" ").indexOf(t)>-1)return!0;return!1}});var Rt=/\r/g;Ee.fn.extend({val:function(e){var t,n,r,o=this[0];{if(arguments.length)return r=ke(e),this.each(function(n){var o;1===this.nodeType&&(o=r?e.call(this,n,Ee(this).val()):e,null==o?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=Ee.map(o,function(e){return null==e?"":e+""})),(t=Ee.valHooks[this.type]||Ee.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return(t=Ee.valHooks[o.type]||Ee.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(Rt,""):null==n?"":n)}}}),Ee.extend({valHooks:{option:{get:function(e){var t=Ee.find.attr(e,"value");return null!=t?t:ne(Ee.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,a="select-one"===e.type,u=a?null:[],c=a?i+1:o.length;for(r=i<0?c:a?i:0;r<c;r++)if(n=o[r],(n.selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!s(n.parentNode,"optgroup"))){if(t=Ee(n).val(),a)return t;u.push(t)}return u},set:function(e,t){for(var n,r,o=e.options,i=Ee.makeArray(t),a=o.length;a--;)r=o[a],(r.selected=Ee.inArray(Ee.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),Ee.each(["radio","checkbox"],function(){Ee.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=Ee.inArray(Ee(e).val(),t)>-1}},Ce.checkOn||(Ee.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Ce.focusin="onfocusin"in n;var Mt=/^(?:focusinfocus|focusoutblur)$/,Pt=function(e){e.stopPropagation()};Ee.extend(Ee.event,{trigger:function(e,t,r,o){var i,a,u,c,s,l,f,d,m=[r||Te],p=ye.call(e,"type")?e.type:e,g=ye.call(e,"namespace")?e.namespace.split("."):[];if(a=d=u=r=r||Te,3!==r.nodeType&&8!==r.nodeType&&!Mt.test(p+Ee.event.triggered)&&(p.indexOf(".")>-1&&(g=p.split("."),p=g.shift(),g.sort()),s=p.indexOf(":")<0&&"on"+p,e=e[Ee.expando]?e:new Ee.Event(p,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:Ee.makeArray(t,[e]),f=Ee.event.special[p]||{},o||!f.trigger||!1!==f.trigger.apply(r,t))){if(!o&&!f.noBubble&&!Se(r)){for(c=f.delegateType||p,Mt.test(c+p)||(a=a.parentNode);a;a=a.parentNode)m.push(a),u=a;u===(r.ownerDocument||Te)&&m.push(u.defaultView||u.parentWindow||n)}for(i=0;(a=m[i++])&&!e.isPropagationStopped();)d=a,e.type=i>1?c:f.bindType||p,l=(qe.get(a,"events")||Object.create(null))[e.type]&&qe.get(a,"handle"),l&&l.apply(a,t),(l=s&&a[s])&&l.apply&&Ue(a)&&(e.result=l.apply(a,t),!1===e.result&&e.preventDefault());return e.type=p,o||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(m.pop(),t)||!Ue(r)||s&&ke(r[p])&&!Se(r)&&(u=r[s],u&&(r[s]=null),Ee.event.triggered=p,e.isPropagationStopped()&&d.addEventListener(p,Pt),r[p](),e.isPropagationStopped()&&d.removeEventListener(p,Pt),Ee.event.triggered=void 0,u&&(r[s]=u)),e.result}},simulate:function(e,t,n){var r=Ee.extend(new Ee.Event,n,{type:e,isSimulated:!0});Ee.event.trigger(r,null,t)}}),Ee.fn.extend({trigger:function(e,t){return this.each(function(){Ee.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return Ee.event.trigger(e,t,n,!0)}}),Ce.focusin||Ee.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Ee.event.simulate(t,e.target,Ee.event.fix(e))};Ee.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,o=qe.access(r,t);o||r.addEventListener(e,n,!0),qe.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,o=qe.access(r,t)-1;o?qe.access(r,t,o):(r.removeEventListener(e,n,!0),qe.remove(r,t))}}});var It=n.location,zt={guid:Date.now()},Bt=/\?/;Ee.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||Ee.error("Invalid XML: "+e),t};var Lt=/\[\]$/,Ht=/\r?\n/g,Ft=/^(?:submit|button|image|reset|file)$/i,jt=/^(?:input|select|textarea|keygen)/i;Ee.param=function(e,t){var n,r=[],o=function(e,t){var n=ke(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!Ee.isPlainObject(e))Ee.each(e,function(){o(this.name,this.value)});else for(n in e)ie(n,e[n],t,o);return r.join("&")},Ee.fn.extend({serialize:function(){return Ee.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Ee.prop(this,"elements");return e?Ee.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Ee(this).is(":disabled")&&jt.test(this.nodeName)&&!Ft.test(e)&&(this.checked||!nt.test(e))}).map(function(e,t){var n=Ee(this).val();return null==n?null:Array.isArray(n)?Ee.map(n,function(e){return{name:t.name,value:e.replace(Ht,"\r\n")}}):{name:t.name,value:n.replace(Ht,"\r\n")}}).get()}});var Vt=/%20/g,Ut=/#.*$/,qt=/([?&])_=[^&]*/,$t=/^(.*?):[ \t]*([^\r\n]*)$/gm,Wt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Gt=/^(?:GET|HEAD)$/,Kt=/^\/\//,Yt={},Xt={},Jt="*/".concat("*"),Qt=Te.createElement("a");Qt.href=It.href,Ee.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:It.href,type:"GET",isLocal:Wt.test(It.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Ee.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ce(ce(e,Ee.ajaxSettings),t):ce(Ee.ajaxSettings,e)},ajaxPrefilter:ae(Yt),ajaxTransport:ae(Xt),ajax:function(e,t){function r(e,t,r,u){var s,d,m,w,x,C=t;l||(l=!0,c&&n.clearTimeout(c),o=void 0,a=u||"",k.readyState=e>0?4:0,s=e>=200&&e<300||304===e,r&&(w=se(p,k,r)),!s&&Ee.inArray("script",p.dataTypes)>-1&&(p.converters["text script"]=function(){}),w=le(p,w,k,s),s?(p.ifModified&&(x=k.getResponseHeader("Last-Modified"),x&&(Ee.lastModified[i]=x),(x=k.getResponseHeader("etag"))&&(Ee.etag[i]=x)),204===e||"HEAD"===p.type?C="nocontent":304===e?C="notmodified":(C=w.state,d=w.data,m=w.error,s=!m)):(m=C,!e&&C||(C="error",e<0&&(e=0))),k.status=e,k.statusText=(t||C)+"",s?v.resolveWith(g,[d,C,k]):v.rejectWith(g,[k,C,m]),k.statusCode(y),y=void 0,f&&h.trigger(s?"ajaxSuccess":"ajaxError",[k,p,s?d:m]),b.fireWith(g,[k,C]),f&&(h.trigger("ajaxComplete",[k,p]),--Ee.active||Ee.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var o,i,a,u,c,s,l,f,d,m,p=Ee.ajaxSetup({},t),g=p.context||p,h=p.context&&(g.nodeType||g.jquery)?Ee(g):Ee.event,v=Ee.Deferred(),b=Ee.Callbacks("once memory"),y=p.statusCode||{},w={},x={},C="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(l){if(!u)for(u={};t=$t.exec(a);)u[t[1].toLowerCase()+" "]=(u[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=u[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?a:null},setRequestHeader:function(e,t){return null==l&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==l&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)k.always(e[k.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||C;return o&&o.abort(t),r(0,t),this}};if(v.promise(k),p.url=((e||p.url||It.href)+"").replace(Kt,It.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Be)||[""],null==p.crossDomain){s=Te.createElement("a");try{s.href=p.url,s.href=s.href,p.crossDomain=Qt.protocol+"//"+Qt.host!=s.protocol+"//"+s.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=Ee.param(p.data,p.traditional)),ue(Yt,p,t,k),l)return k;f=Ee.event&&p.global,f&&0==Ee.active++&&Ee.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Gt.test(p.type),i=p.url.replace(Ut,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Vt,"+")):(m=p.url.slice(i.length),p.data&&(p.processData||"string"==typeof p.data)&&(i+=(Bt.test(i)?"&":"?")+p.data,delete p.data),!1===p.cache&&(i=i.replace(qt,"$1"),m=(Bt.test(i)?"&":"?")+"_="+zt.guid+++m),p.url=i+m),p.ifModified&&(Ee.lastModified[i]&&k.setRequestHeader("If-Modified-Since",Ee.lastModified[i]),Ee.etag[i]&&k.setRequestHeader("If-None-Match",Ee.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&k.setRequestHeader("Content-Type",p.contentType),k.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Jt+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)k.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(g,k,p)||l))return k.abort();if(C="abort",b.add(p.complete),k.done(p.success),k.fail(p.error),o=ue(Xt,p,t,k)){if(k.readyState=1,f&&h.trigger("ajaxSend",[k,p]),l)return k;p.async&&p.timeout>0&&(c=n.setTimeout(function(){k.abort("timeout")},p.timeout));try{l=!1,o.send(w,r)}catch(e){if(l)throw e;r(-1,e)}}else r(-1,"No Transport");return k},getJSON:function(e,t,n){return Ee.get(e,t,n,"json")},getScript:function(e,t){return Ee.get(e,void 0,t,"script")}}),Ee.each(["get","post"],function(e,t){Ee[t]=function(e,n,r,o){return ke(n)&&(o=o||r,r=n,n=void 0),Ee.ajax(Ee.extend({url:e,type:t,dataType:o,data:n,success:r},Ee.isPlainObject(e)&&e))}}),Ee.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),Ee._evalUrl=function(e,t,n){return Ee.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){Ee.globalEval(e,t,n)}})},Ee.fn.extend({wrapAll:function(e){var t;return this[0]&&(ke(e)&&(e=e.call(this[0])),t=Ee(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return ke(e)?this.each(function(t){Ee(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Ee(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ke(e);return this.each(function(n){Ee(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){Ee(this).replaceWith(this.childNodes)}),this}}),Ee.expr.pseudos.hidden=function(e){return!Ee.expr.pseudos.visible(e)},Ee.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Ee.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Zt={0:200,1223:204},en=Ee.ajaxSettings.xhr();Ce.cors=!!en&&"withCredentials"in en,Ce.ajax=en=!!en,Ee.ajaxTransport(function(e){var t,r;if(Ce.cors||en&&!e.crossDomain)return{send:function(o,i){var a,u=e.xhr();if(u.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)u[a]=e.xhrFields[a];e.mimeType&&u.overrideMimeType&&u.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(a in o)u.setRequestHeader(a,o[a]);t=function(e){return function(){t&&(t=r=u.onload=u.onerror=u.onabort=u.ontimeout=u.onreadystatechange=null,"abort"===e?u.abort():"error"===e?"number"!=typeof u.status?i(0,"error"):i(u.status,u.statusText):i(Zt[u.status]||u.status,u.statusText,"text"!==(u.responseType||"text")||"string"!=typeof u.responseText?{binary:u.response}:{text:u.responseText},u.getAllResponseHeaders()))}},u.onload=t(),r=u.onerror=u.ontimeout=t("error"),void 0!==u.onabort?u.onabort=r:u.onreadystatechange=function(){4===u.readyState&&n.setTimeout(function(){t&&r()})},t=t("abort");try{u.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),Ee.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),Ee.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return Ee.globalEval(e),e}}}),Ee.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Ee.ajaxTransport("script",function(e){if(e.crossDomain||e.scriptAttrs){var t,n;return{send:function(r,o){t=Ee("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),Te.head.appendChild(t[0])},abort:function(){n&&n()}}}});var tn=[],nn=/(=)\?(?=&|$)|\?\?/;Ee.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tn.pop()||Ee.expando+"_"+zt.guid++;return this[e]=!0,e}}),Ee.ajaxPrefilter("json jsonp",function(e,t,r){var o,i,a,u=!1!==e.jsonp&&(nn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(e.data)&&"data");if(u||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=ke(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,u?e[u]=e[u].replace(nn,"$1"+o):!1!==e.jsonp&&(e.url+=(Bt.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||Ee.error(o+" was not called"),a[0]},e.dataTypes[0]="json",i=n[o],n[o]=function(){a=arguments},r.always(function(){void 0===i?Ee(n).removeProp(o):n[o]=i,e[o]&&(e.jsonpCallback=t.jsonpCallback,tn.push(o)),a&&ke(i)&&i(a[0]),a=i=void 0}),"script"}),Ce.createHTMLDocument=function(){var e=Te.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),Ee.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,o,i;return t||(Ce.createHTMLDocument?(t=Te.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=Te.location.href,t.head.appendChild(r)):t=Te),o=Re.exec(e),i=!n&&[],o?[t.createElement(o[1])]:(o=E([e],t,i),i&&i.length&&Ee(i).remove(),Ee.merge([],o.childNodes))},Ee.fn.load=function(e,t,n){var r,o,i,a=this,u=e.indexOf(" ");return u>-1&&(r=ne(e.slice(u)),e=e.slice(0,u)),ke(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&Ee.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?Ee("<div>").append(Ee.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},Ee.expr.pseudos.animated=function(e){return Ee.grep(Ee.timers,function(t){return e===t.elem}).length},Ee.offset={setOffset:function(e,t,n){var r,o,i,a,u,c,s,l=Ee.css(e,"position"),f=Ee(e),d={};"static"===l&&(e.style.position="relative"),u=f.offset(),i=Ee.css(e,"top"),c=Ee.css(e,"left"),s=("absolute"===l||"fixed"===l)&&(i+c).indexOf("auto")>-1,s?(r=f.position(),a=r.top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(c)||0),ke(t)&&(t=t.call(e,n,Ee.extend({},u))),null!=t.top&&(d.top=t.top-u.top+a),null!=t.left&&(d.left=t.left-u.left+o),"using"in t?t.using.call(e,d):("number"==typeof d.top&&(d.top+="px"),"number"==typeof d.left&&(d.left+="px"),f.css(d))}},Ee.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Ee.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===Ee.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===Ee.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&(o=Ee(e).offset(),o.top+=Ee.css(e,"borderTopWidth",!0),o.left+=Ee.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-Ee.css(r,"marginTop",!0),left:t.left-o.left-Ee.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===Ee.css(e,"position");)e=e.offsetParent;return e||Je})}}),Ee.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;Ee.fn[e]=function(r){return Fe(this,function(e,r,o){var i;if(Se(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o},e,r,arguments.length)}}),Ee.each(["top","left"],function(e,t){Ee.cssHooks[t]=V(Ce.pixelPosition,function(e,n){if(n)return n=j(e,t),mt.test(n)?Ee(e).position()[t]+"px":n})}),Ee.each({Height:"height",Width:"width"},function(e,t){Ee.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Ee.fn[r]=function(o,i){var a=arguments.length&&(n||"boolean"!=typeof o),u=n||(!0===o||!0===i?"margin":"border");return Fe(this,function(t,n,o){var i;return Se(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?Ee.css(t,n,u):Ee.style(t,n,o,u)},t,a?o:void 0,a)}})}),Ee.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Ee.fn[t]=function(e){return this.on(t,e)}}),Ee.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Ee.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){Ee.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});var rn=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Ee.proxy=function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),ke(e))return r=me.call(arguments,2),o=function(){return e.apply(t||this,r.concat(me.call(arguments)))},o.guid=e.guid=e.guid||Ee.guid++,o},Ee.holdReady=function(e){e?Ee.readyWait++:Ee.ready(!0)},Ee.isArray=Array.isArray,Ee.parseJSON=JSON.parse,Ee.nodeName=s,Ee.isFunction=ke,Ee.isWindow=Se,Ee.camelCase=b,Ee.type=u,Ee.now=Date.now,Ee.isNumeric=function(e){var t=Ee.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},Ee.trim=function(e){return null==e?"":(e+"").replace(rn,"")},r=[],void 0!==(o=function(){return Ee}.apply(t,r))&&(e.exports=o);var on=n.jQuery,an=n.$;return Ee.noConflict=function(e){return n.$===Ee&&(n.$=an),e&&n.jQuery===Ee&&(n.jQuery=on),Ee},void 0===i&&(n.jQuery=n.$=Ee),Ee})},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"1dde":function(e,t,n){var r=n("d039"),o=n("b622"),i=n("2d00"),a=o("species");e.exports=function(e){return i>=51||!r(function(){var t=[],n=t.constructor={};return n[a]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},"23cb":function(e,t,n){var r=n("a691"),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},"23e7":function(e,t,n){var r=n("da84"),o=n("06cf").f,i=n("9112"),a=n("6eeb"),u=n("ce4e"),c=n("e893"),s=n("94ca");e.exports=function(e,t){var n,l,f,d,m,p=e.target,g=e.global,h=e.stat;if(n=g?r:h?r[p]||u(p,{}):(r[p]||{}).prototype)for(l in t){if(d=t[l],e.noTargetGet?(m=o(n,l),f=m&&m.value):f=n[l],!s(g?l:p+(h?".":"#")+l,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;c(d,f)}(e.sham||f&&f.sham)&&i(d,"sham",!0),a(n,l,d,e)}}},"241c":function(e,t,n){var r=n("ca84"),o=n("7839"),i=o.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},"24fb":function(e,t,n){"use strict";function r(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=o(r);return[n].concat(r.sources.map(function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")})).concat([i]).join("\n")}return[n].join("\n")}function o(e){return"/*# ".concat("sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(e)))))," */")}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=r(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n}).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},"2d00":function(e,t,n){var r,o,i=n("da84"),a=n("342f"),u=i.process,c=u&&u.versions,s=c&&c.v8;s?(r=s.split("."),o=r[0]+r[1]):a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),e.exports=o&&+o},"342f":function(e,t,n){var r=n("d066");e.exports=r("navigator","userAgent")||""},"428f":function(e,t,n){var r=n("da84");e.exports=r},"44ad":function(e,t,n){var r=n("d039"),o=n("c6b6"),i="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},4930:function(e,t,n){var r=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},"499e":function(e,t,n){"use strict";function r(e,t){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=i[0],u=i[1],c=i[2],s=i[3],l={id:e+":"+o,css:u,media:c,sourceMap:s};r[a]?r[a].parts.push(l):n.push(r[a]={id:a,parts:[l]})}return n}function o(e,t,n,o){g=n,v=o||{};var a=r(e,t);return i(a),function(t){for(var n=[],o=0;o<a.length;o++){var u=a[o],c=f[u.id];c.refs--,n.push(c)}t?(a=r(e,t),i(a)):a=[];for(var o=0;o<n.length;o++){var c=n[o];if(0===c.refs){for(var s=0;s<c.parts.length;s++)c.parts[s]();delete f[c.id]}}}}function i(e){for(var t=0;t<e.length;t++){var n=e[t],r=f[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(u(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{for(var i=[],o=0;o<n.parts.length;o++)i.push(u(n.parts[o]));f[n.id]={id:n.id,refs:1,parts:i}}}}function a(){var e=document.createElement("style");return e.type="text/css",d.appendChild(e),e}function u(e){var t,n,r=document.querySelector("style["+b+'~="'+e.id+'"]');if(r){if(g)return h;r.parentNode.removeChild(r)}if(y){var o=p++;r=m||(m=a()),t=c.bind(null,r,o,!1),n=c.bind(null,r,o,!0)}else r=a(),t=s.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}function c(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function s(e,t){var n=t.css,r=t.media,o=t.sourceMap;if(r&&e.setAttribute("media",r),v.ssrId&&e.setAttribute(b,t.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}n.r(t),n.d(t,"default",function(){return o});var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var f={},d=l&&(document.head||document.getElementsByTagName("head")[0]),m=null,p=0,g=!1,h=function(){},v=null,b="data-vue-ssr-id",y="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase()),w=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},"4d64":function(e,t,n){var r=n("fc6a"),o=n("50c4"),i=n("23cb"),a=function(e){return function(t,n,a){var u,c=r(t),s=o(c.length),l=i(a,s);if(e&&n!=n){for(;s>l;)if((u=c[l++])!=u)return!0}else for(;s>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},"50c4":function(e,t,n){var r=n("a691"),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},5135:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},5692:function(e,t,n){var r=n("c430"),o=n("c6cd");(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,n){var r=n("d066"),o=n("241c"),i=n("7418"),a=n("825a");e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"60da":function(e,t,n){"use strict";var r=n("83ab"),o=n("d039"),i=n("df75"),a=n("7418"),u=n("d1e7"),c=n("7b0b"),s=n("44ad"),l=Object.assign,f=Object.defineProperty;e.exports=!l||o(function(){if(r&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||i(l({},t)).join("")!=o})?function(e,t){for(var n=c(e),o=arguments.length,l=1,f=a.f,d=u.f;o>l;)for(var m,p=s(arguments[l++]),g=f?i(p).concat(f(p)):i(p),h=g.length,v=0;h>v;)m=g[v++],r&&!d.call(p,m)||(n[m]=p[m]);return n}:l},"65f0":function(e,t,n){var r=n("861d"),o=n("e8b5"),i=n("b622"),a=i("species");e.exports=function(e,t){var n;return o(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"69f3":function(e,t,n){var r,o,i,a=n("7f9a"),u=n("da84"),c=n("861d"),s=n("9112"),l=n("5135"),f=n("f772"),d=n("d012"),m=u.WeakMap,p=function(e){return i(e)?o(e):r(e,{})},g=function(e){return function(t){var n;if(!c(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(a){var h=new m,v=h.get,b=h.has,y=h.set;r=function(e,t){return y.call(h,e,t),t},o=function(e){return v.call(h,e)||{}},i=function(e){return b.call(h,e)}}else{var w=f("state");d[w]=!0,r=function(e,t){return s(e,w,t),t},o=function(e){return l(e,w)?e[w]:{}},i=function(e){return l(e,w)}}e.exports={set:r,get:o,has:i,enforce:p,getterFor:g}},"6eeb":function(e,t,n){var r=n("da84"),o=n("9112"),i=n("5135"),a=n("ce4e"),u=n("8925"),c=n("69f3"),s=c.get,l=c.enforce,f=String(String).split("String");(e.exports=function(e,t,n,u){var c=!!u&&!!u.unsafe,s=!!u&&!!u.enumerable,d=!!u&&!!u.noTargetGet;if("function"==typeof n&&("string"!=typeof t||i(n,"name")||o(n,"name",t),l(n).source=f.join("string"==typeof t?t:"")),e===r)return void(s?e[t]=n:a(t,n));c?!d&&e[t]&&(s=!0):delete e[t],s?e[t]=n:o(e,t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&s(this).source||u(this)})},7418:function(e,t){t.f=Object.getOwnPropertySymbols},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,n){var r=n("1d80");e.exports=function(e){return Object(r(e))}},"7f9a":function(e,t,n){var r=n("da84"),o=n("8925"),i=r.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},"825a":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},8418:function(e,t,n){"use strict";var r=n("c04e"),o=n("9bf2"),i=n("5c6c");e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},8476:function(e,t,n){var r=n("c91b");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=n("499e").default;o("e563687c",r,!0,{sourceMap:!1,shadowMode:!1})},"861d":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},8875:function(e,t,n){var r,o,i;!function(n,a){o=[],r=a,void 0!==(i="function"==typeof r?r.apply(t,o):r)&&(e.exports=i)}("undefined"!=typeof self&&self,function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(e){var n,r,o,i=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,a=/@([^@]*):(\d+):(\d+)\s*$/gi,u=i.exec(e.stack)||a.exec(e.stack),c=u&&u[1]||!1,s=u&&u[2]||!1,l=document.location.href.replace(document.location.hash,""),f=document.getElementsByTagName("script");c===l&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(s-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),o=n.replace(r,"$1").trim());for(var d=0;d<f.length;d++){if("interactive"===f[d].readyState)return f[d];if(f[d].src===c)return f[d];if(c===l&&f[d].innerHTML&&f[d].innerHTML.trim()===o)return f[d]}return null}}return e})},8925:function(e,t,n){var r=n("c6cd"),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return o.call(e)}),e.exports=r.inspectSource},"90e3":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},9112:function(e,t,n){var r=n("83ab"),o=n("9bf2"),i=n("5c6c");e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},"91e5":function(module,exports){!function($){var settings={},roots={},caches={},_consts={className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch",NAME:"node_name"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",REMOVE:"ztree_remove",SELECTED:"ztree_selected",UNSELECTED:"ztree_unselected"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_setting={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nodeClasses:{},nameIsHTML:!1,selectedMulti:!0,showIcon:!0,showLine:!0,showTitle:!0,txtSelectedEnable:!1},data:{key:{isParent:"isParent",children:"children",name:"name",title:"",url:"url",icon:"icon"},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",headers:{},xhrFields:{},url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},_initRoot=function(e){var t=data.getRoot(e);t||(t={},data.setRoot(e,t)),data.nodeChildren(e,t,[]),t.expandTriggerFlag=!1,t.curSelectedList=[],t.noSelection=!0,t.createdNodes=[],t.zId=0,t._ver=(new Date).getTime()},_initCache=function(e){var t=data.getCache(e);t||(t={},data.setCache(e,t)),t.nodes=[],t.doms=[]},_bindEvent=function(e){var t=e.treeObj,n=consts.event;t.bind(n.NODECREATED,function(t,n,r){tools.apply(e.callback.onNodeCreated,[t,n,r])}),t.bind(n.CLICK,function(t,n,r,o,i){tools.apply(e.callback.onClick,[n,r,o,i])}),t.bind(n.EXPAND,function(t,n,r){tools.apply(e.callback.onExpand,[t,n,r])}),t.bind(n.COLLAPSE,function(t,n,r){tools.apply(e.callback.onCollapse,[t,n,r])}),t.bind(n.ASYNC_SUCCESS,function(t,n,r,o){tools.apply(e.callback.onAsyncSuccess,[t,n,r,o])}),t.bind(n.ASYNC_ERROR,function(t,n,r,o,i,a){tools.apply(e.callback.onAsyncError,[t,n,r,o,i,a])}),t.bind(n.REMOVE,function(t,n,r){tools.apply(e.callback.onRemove,[t,n,r])}),t.bind(n.SELECTED,function(t,n,r){tools.apply(e.callback.onSelected,[n,r])}),t.bind(n.UNSELECTED,function(t,n,r){tools.apply(e.callback.onUnSelected,[n,r])})},_unbindEvent=function(e){var t=e.treeObj,n=consts.event;t.unbind(n.NODECREATED).unbind(n.CLICK).unbind(n.EXPAND).unbind(n.COLLAPSE).unbind(n.ASYNC_SUCCESS).unbind(n.ASYNC_ERROR).unbind(n.REMOVE).unbind(n.SELECTED).unbind(n.UNSELECTED)},_eventProxy=function(e){var t=e.target,n=data.getSetting(e.data.treeId),r="",o=null,i="",a="",u=null,c=null,s=null;if(tools.eqs(e.type,"mousedown")?a="mousedown":tools.eqs(e.type,"mouseup")?a="mouseup":tools.eqs(e.type,"contextmenu")?a="contextmenu":tools.eqs(e.type,"click")?tools.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+consts.id.SWITCH)?(r=tools.getNodeMainDom(t).id,i="switchNode"):(s=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(r=tools.getNodeMainDom(s).id,i="clickNode"):tools.eqs(e.type,"dblclick")&&(a="dblclick",(s=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(r=tools.getNodeMainDom(s).id,i="switchNode")),a.length>0&&0==r.length&&(s=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(r=tools.getNodeMainDom(s).id),r.length>0)switch(o=data.getNodeCache(n,r),i){case"switchNode":data.nodeIsParent(n,o)&&(tools.eqs(e.type,"click")||tools.eqs(e.type,"dblclick")&&tools.apply(n.view.dblClickExpand,[n.treeId,o],n.view.dblClickExpand))?u=handler.onSwitchNode:i="";break;case"clickNode":u=handler.onClickNode}switch(a){case"mousedown":c=handler.onZTreeMousedown;break;case"mouseup":c=handler.onZTreeMouseup;break;case"dblclick":c=handler.onZTreeDblclick;break;case"contextmenu":c=handler.onZTreeContextmenu}return{stop:!1,node:o,nodeEventType:i,nodeEventCallback:u,treeEventType:a,treeEventCallback:c}},_initNode=function(e,t,n,r,o,i,a){if(n){var u=data.getRoot(e),c=data.nodeChildren(e,n);n.level=t,n.tId=e.treeId+"_"+ ++u.zId,n.parentTId=r?r.tId:null,n.open="string"==typeof n.open?tools.eqs(n.open,"true"):!!n.open;var s=data.nodeIsParent(e,n);tools.isArray(c)?(data.nodeIsParent(e,n,!0),n.zAsync=!0):(s=data.nodeIsParent(e,n,s),n.open=!(!s||e.async.enable)&&n.open,n.zAsync=!s),n.isFirstNode=o,n.isLastNode=i,n.getParentNode=function(){return data.getNodeCache(e,n.parentTId)},n.getPreNode=function(){return data.getPreNode(e,n)},n.getNextNode=function(){return data.getNextNode(e,n)},n.getIndex=function(){return data.getNodeIndex(e,n)},n.getPath=function(){return data.getNodePath(e,n)},n.isAjaxing=!1,data.fixPIdKeyValue(e,n)}},_init={bind:[_bindEvent],unbind:[_unbindEvent],caches:[_initCache],nodes:[_initNode],proxys:[_eventProxy],roots:[_initRoot],beforeA:[],afterA:[],innerBeforeA:[],innerAfterA:[],zTreeTools:[]},data={addNodeCache:function(e,t){data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=t},getNodeCacheId:function(e){return e.substring(e.lastIndexOf("_")+1)},addAfterA:function(e){_init.afterA.push(e)},addBeforeA:function(e){_init.beforeA.push(e)},addInnerAfterA:function(e){_init.innerAfterA.push(e)},addInnerBeforeA:function(e){_init.innerBeforeA.push(e)},addInitBind:function(e){_init.bind.push(e)},addInitUnBind:function(e){_init.unbind.push(e)},addInitCache:function(e){_init.caches.push(e)},addInitNode:function(e){_init.nodes.push(e)},addInitProxy:function(e,t){t?_init.proxys.splice(0,0,e):_init.proxys.push(e)},addInitRoot:function(e){_init.roots.push(e)},addNodesData:function(e,t,n,r){var o,i=data.nodeChildren(e,t);i?n>=i.length&&(n=-1):(i=data.nodeChildren(e,t,[]),n=-1),i.length>0&&0===n?(i[0].isFirstNode=!1,view.setNodeLineIcos(e,i[0])):i.length>0&&n<0&&(i[i.length-1].isLastNode=!1,view.setNodeLineIcos(e,i[i.length-1])),data.nodeIsParent(e,t,!0),n<0?data.nodeChildren(e,t,i.concat(r)):(o=[n,0].concat(r),i.splice.apply(i,o))},addSelectedNode:function(e,t){var n=data.getRoot(e);data.isSelectedNode(e,t)||n.curSelectedList.push(t)},addCreatedNode:function(e,t){if(e.callback.onNodeCreated||e.view.addDiyDom){data.getRoot(e).createdNodes.push(t)}},addZTreeTools:function(e){_init.zTreeTools.push(e)},exSetting:function(e){$.extend(!0,_setting,e)},fixPIdKeyValue:function(e,t){e.data.simpleData.enable&&(t[e.data.simpleData.pIdKey]=t.parentTId?t.getParentNode()[e.data.simpleData.idKey]:e.data.simpleData.rootPId)},getAfterA:function(e,t,n){for(var r=0,o=_init.afterA.length;r<o;r++)_init.afterA[r].apply(this,arguments)},getBeforeA:function(e,t,n){for(var r=0,o=_init.beforeA.length;r<o;r++)_init.beforeA[r].apply(this,arguments)},getInnerAfterA:function(e,t,n){for(var r=0,o=_init.innerAfterA.length;r<o;r++)_init.innerAfterA[r].apply(this,arguments)},getInnerBeforeA:function(e,t,n){for(var r=0,o=_init.innerBeforeA.length;r<o;r++)_init.innerBeforeA[r].apply(this,arguments)},getCache:function(e){return caches[e.treeId]},getNodeIndex:function(e,t){if(!t)return null;for(var n=t.parentTId?t.getParentNode():data.getRoot(e),r=data.nodeChildren(e,n),o=0,i=r.length-1;o<=i;o++)if(r[o]===t)return o;return-1},getNextNode:function(e,t){if(!t)return null;for(var n=t.parentTId?t.getParentNode():data.getRoot(e),r=data.nodeChildren(e,n),o=0,i=r.length-1;o<=i;o++)if(r[o]===t)return o==i?null:r[o+1];return null},getNodeByParam:function(e,t,n,r){if(!t||!n)return null;for(var o=0,i=t.length;o<i;o++){var a=t[o];if(a[n]==r)return t[o];var u=data.nodeChildren(e,a),c=data.getNodeByParam(e,u,n,r);if(c)return c}return null},getNodeCache:function(e,t){if(!t)return null;var n=caches[e.treeId].nodes[data.getNodeCacheId(t)];return n||null},getNodePath:function(e,t){if(!t)return null;var n;return n=t.parentTId?t.getParentNode().getPath():[],n&&n.push(t),n},getNodes:function(e){return data.nodeChildren(e,data.getRoot(e))},getNodesByParam:function(e,t,n,r){if(!t||!n)return[];for(var o=[],i=0,a=t.length;i<a;i++){var u=t[i];u[n]==r&&o.push(u);var c=data.nodeChildren(e,u);o=o.concat(data.getNodesByParam(e,c,n,r))}return o},getNodesByParamFuzzy:function(e,t,n,r){if(!t||!n)return[];var o=[];r=r.toLowerCase();for(var i=0,a=t.length;i<a;i++){var u=t[i];"string"==typeof u[n]&&t[i][n].toLowerCase().indexOf(r)>-1&&o.push(u);var c=data.nodeChildren(e,u);o=o.concat(data.getNodesByParamFuzzy(e,c,n,r))}return o},getNodesByFilter:function(e,t,n,r,o){if(!t)return r?null:[];for(var i=r?null:[],a=0,u=t.length;a<u;a++){var c=t[a];if(tools.apply(n,[c,o],!1)){if(r)return c;i.push(c)}var s=data.nodeChildren(e,c),l=data.getNodesByFilter(e,s,n,r,o);if(r&&l)return l;i=r?l:i.concat(l)}return i},getPreNode:function(e,t){if(!t)return null;for(var n=t.parentTId?t.getParentNode():data.getRoot(e),r=data.nodeChildren(e,n),o=0,i=r.length;o<i;o++)if(r[o]===t)return 0==o?null:r[o-1];return null},getRoot:function(e){return e?roots[e.treeId]:null},getRoots:function(){return roots},getSetting:function(e){return settings[e]},getSettings:function(){return settings},getZTreeTools:function(e){var t=this.getRoot(this.getSetting(e));return t?t.treeTools:null},initCache:function(e){for(var t=0,n=_init.caches.length;t<n;t++)_init.caches[t].apply(this,arguments)},initNode:function(e,t,n,r,o,i){for(var a=0,u=_init.nodes.length;a<u;a++)_init.nodes[a].apply(this,arguments)},initRoot:function(e){for(var t=0,n=_init.roots.length;t<n;t++)_init.roots[t].apply(this,arguments)},isSelectedNode:function(e,t){for(var n=data.getRoot(e),r=0,o=n.curSelectedList.length;r<o;r++)if(t===n.curSelectedList[r])return!0;return!1},nodeChildren:function(e,t,n){if(!t)return null;var r=e.data.key.children;return void 0!==n&&(t[r]=n),t[r]},nodeIsParent:function(e,t,n){if(!t)return!1;var r=e.data.key.isParent;return void 0!==n?("string"==typeof n&&(n=tools.eqs(n,"true")),n=!!n,t[r]=n):"string"==typeof t[r]?t[r]=tools.eqs(t[r],"true"):t[r]=!!t[r],t[r]},nodeName:function(e,t,n){var r=e.data.key.name;return void 0!==n&&(t[r]=n),""+t[r]},nodeTitle:function(e,t){return""+t[""===e.data.key.title?e.data.key.name:e.data.key.title]},removeNodeCache:function(e,t){var n=data.nodeChildren(e,t);if(n)for(var r=0,o=n.length;r<o;r++)data.removeNodeCache(e,n[r]);data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=null},removeSelectedNode:function(e,t){for(var n=data.getRoot(e),r=0,o=n.curSelectedList.length;r<o;r++)t!==n.curSelectedList[r]&&data.getNodeCache(e,n.curSelectedList[r].tId)||(n.curSelectedList.splice(r,1),e.treeObj.trigger(consts.event.UNSELECTED,[e.treeId,t]),r--,o--)},setCache:function(e,t){caches[e.treeId]=t},setRoot:function(e,t){roots[e.treeId]=t},setZTreeTools:function(e,t){for(var n=0,r=_init.zTreeTools.length;n<r;n++)_init.zTreeTools[n].apply(this,arguments)},transformToArrayFormat:function(e,t){function n(t){r.push(t);var n=data.nodeChildren(e,t);n&&(r=r.concat(data.transformToArrayFormat(e,n)))}if(!t)return[];var r=[];if(tools.isArray(t))for(var o=0,i=t.length;o<i;o++){var a=t[o];n(a)}else n(t);return r},transformTozTreeFormat:function(e,t){var n,r,o=e.data.simpleData.idKey,i=e.data.simpleData.pIdKey;if(!o||""==o||!t)return[];if(tools.isArray(t)){var a=[],u={};for(n=0,r=t.length;n<r;n++)u[t[n][o]]=t[n];for(n=0,r=t.length;n<r;n++){var c=u[t[n][i]];if(c&&t[n][o]!=t[n][i]){var s=data.nodeChildren(e,c);s||(s=data.nodeChildren(e,c,[])),s.push(t[n])}else a.push(t[n])}return a}return[t]}},event={bindEvent:function(e){for(var t=0,n=_init.bind.length;t<n;t++)_init.bind[t].apply(this,arguments)},unbindEvent:function(e){for(var t=0,n=_init.unbind.length;t<n;t++)_init.unbind[t].apply(this,arguments)},bindTree:function(e){var t={treeId:e.treeId},n=e.treeObj;e.view.txtSelectedEnable||n.bind("selectstart",handler.onSelectStart).css({"-moz-user-select":"-moz-none"}),n.bind("click",t,event.proxy),n.bind("dblclick",t,event.proxy),n.bind("mouseover",t,event.proxy),n.bind("mouseout",t,event.proxy),n.bind("mousedown",t,event.proxy),n.bind("mouseup",t,event.proxy),n.bind("contextmenu",t,event.proxy)},unbindTree:function(e){e.treeObj.unbind("selectstart",handler.onSelectStart).unbind("click",event.proxy).unbind("dblclick",event.proxy).unbind("mouseover",event.proxy).unbind("mouseout",event.proxy).unbind("mousedown",event.proxy).unbind("mouseup",event.proxy).unbind("contextmenu",event.proxy)},doProxy:function(e){for(var t=[],n=0,r=_init.proxys.length;n<r;n++){var o=_init.proxys[n].apply(this,arguments);if(t.push(o),o.stop)break}return t},proxy:function(e){var t=data.getSetting(e.data.treeId);if(!tools.uCanDo(t,e))return!0;for(var n=event.doProxy(e),r=!0,o=0,i=n.length;o<i;o++){var a=n[o];a.nodeEventCallback&&(!0,r=a.nodeEventCallback.apply(a,[e,a.node])&&r),a.treeEventCallback&&(!0,r=a.treeEventCallback.apply(a,[e,a.node])&&r)}return r}},handler={onSwitchNode:function(e,t){var n=data.getSetting(e.data.treeId);if(t.open){if(0==tools.apply(n.callback.beforeCollapse,[n.treeId,t],!0))return!0;data.getRoot(n).expandTriggerFlag=!0,view.switchNode(n,t)}else{if(0==tools.apply(n.callback.beforeExpand,[n.treeId,t],!0))return!0;data.getRoot(n).expandTriggerFlag=!0,view.switchNode(n,t)}return!0},onClickNode:function(e,t){var n=data.getSetting(e.data.treeId),r=n.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&data.isSelectedNode(n,t)?0:n.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&n.view.selectedMulti?2:1;return 0==tools.apply(n.callback.beforeClick,[n.treeId,t,r],!0)||(0===r?view.cancelPreSelectedNode(n,t):view.selectNode(n,t,2===r),n.treeObj.trigger(consts.event.CLICK,[e,n.treeId,t,r]),!0)},onZTreeMousedown:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeMouseDown,[n.treeId,t],!0)&&tools.apply(n.callback.onMouseDown,[e,n.treeId,t]),!0},onZTreeMouseup:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeMouseUp,[n.treeId,t],!0)&&tools.apply(n.callback.onMouseUp,[e,n.treeId,t]),!0},onZTreeDblclick:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeDblClick,[n.treeId,t],!0)&&tools.apply(n.callback.onDblClick,[e,n.treeId,t]),!0},onZTreeContextmenu:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeRightClick,[n.treeId,t],!0)&&tools.apply(n.callback.onRightClick,[e,n.treeId,t]),"function"!=typeof n.callback.onRightClick},onSelectStart:function(e){var t=e.originalEvent.srcElement.nodeName.toLowerCase();return"input"===t||"textarea"===t}},tools={apply:function(e,t,n){return"function"==typeof e?e.apply(zt,t||[]):n},canAsync:function(e,t){var n=data.nodeChildren(e,t),r=data.nodeIsParent(e,t);return e.async.enable&&t&&r&&!(t.zAsync||n&&n.length>0)},clone:function(e){if(null===e)return null;var t=tools.isArray(e)?[]:{};for(var n in e)t[n]=e[n]instanceof Date?new Date(e[n].getTime()):"object"==typeof e[n]?tools.clone(e[n]):e[n];return t},eqs:function(e,t){return e.toLowerCase()===t.toLowerCase()},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},isElement:function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},$:function(e,t,n){return t&&"string"!=typeof t&&(n=t,t=""),"string"==typeof e?$(e,n?n.treeObj.get(0).ownerDocument:null):$("#"+e.tId+t,n?n.treeObj:null)},getMDom:function(e,t,n){if(!t)return null;for(;t&&t.id!==e.treeId;){for(var r=0,o=n.length;t.tagName&&r<o;r++)if(tools.eqs(t.tagName,n[r].tagName)&&null!==t.getAttribute(n[r].attrName))return t;t=t.parentNode}return null},getNodeMainDom:function(e){return $(e).parent("li").get(0)||$(e).parentsUntil("li").parent().get(0)},isChildOrSelf:function(e,t){return $(e).closest("#"+t).length>0},uCanDo:function(e,t){return!0}},view={addNodes:function(e,t,n,r,o){var i=data.nodeIsParent(e,t);if(!e.data.keep.leaf||!t||i)if(tools.isArray(r)||(r=[r]),e.data.simpleData.enable&&(r=data.transformTozTreeFormat(e,r)),t){var a=$$(t,consts.id.SWITCH,e),u=$$(t,consts.id.ICON,e),c=$$(t,consts.id.UL,e);t.open||(view.replaceSwitchClass(t,a,consts.folder.CLOSE),view.replaceIcoClass(t,u,consts.folder.CLOSE),t.open=!1,c.css({display:"none"})),data.addNodesData(e,t,n,r),view.createNodes(e,t.level+1,r,t,n),o||view.expandCollapseParentNode(e,t,!0)}else data.addNodesData(e,data.getRoot(e),n,r),view.createNodes(e,0,r,null,n)},appendNodes:function(e,t,n,r,o,i,a){if(!n)return[];var u,c,s=[],l=r||data.getRoot(e),f=data.nodeChildren(e,l);(!f||o>=f.length-n.length)&&(o=-1);for(var d=0,m=n.length;d<m;d++){var p=n[d];i&&(u=(0===o||f.length==n.length)&&0==d,c=o<0&&d==n.length-1,data.initNode(e,t,p,r,u,c,a),data.addNodeCache(e,p));var g=data.nodeIsParent(e,p),h=[],v=data.nodeChildren(e,p);v&&v.length>0&&(h=view.appendNodes(e,t+1,v,p,-1,i,a&&p.open)),a&&(view.makeDOMNodeMainBefore(s,e,p),view.makeDOMNodeLine(s,e,p),data.getBeforeA(e,p,s),view.makeDOMNodeNameBefore(s,e,p),data.getInnerBeforeA(e,p,s),view.makeDOMNodeIcon(s,e,p),data.getInnerAfterA(e,p,s),view.makeDOMNodeNameAfter(s,e,p),data.getAfterA(e,p,s),g&&p.open&&view.makeUlHtml(e,p,s,h.join("")),view.makeDOMNodeMainAfter(s,e,p),data.addCreatedNode(e,p))}return s},appendParentULDom:function(e,t){var n=[],r=$$(t,e);!r.get(0)&&t.parentTId&&(view.appendParentULDom(e,t.getParentNode()),r=$$(t,e));var o=$$(t,consts.id.UL,e);o.get(0)&&o.remove();var i=data.nodeChildren(e,t),a=view.appendNodes(e,t.level+1,i,t,-1,!1,!0);view.makeUlHtml(e,t,n,a.join("")),r.append(n.join(""))},asyncNode:function(setting,node,isSilent,callback){var i,l,isParent=data.nodeIsParent(setting,node);if(node&&!isParent)return tools.apply(callback),!1;if(node&&node.isAjaxing)return!1;if(0==tools.apply(setting.callback.beforeAsync,[setting.treeId,node],!0))return tools.apply(callback),!1;if(node){node.isAjaxing=!0;var icoObj=$$(node,consts.id.ICON,setting);icoObj.attr({style:"",class:consts.className.BUTTON+" "+consts.className.ICO_LOADING})}var tmpParam={},autoParam=tools.apply(setting.async.autoParam,[setting.treeId,node],setting.async.autoParam);for(i=0,l=autoParam.length;node&&i<l;i++){var pKey=autoParam[i].split("="),spKey=pKey;pKey.length>1&&(spKey=pKey[1],pKey=pKey[0]),tmpParam[spKey]=node[pKey]}var otherParam=tools.apply(setting.async.otherParam,[setting.treeId,node],setting.async.otherParam);if(tools.isArray(otherParam))for(i=0,l=otherParam.length;i<l;i+=2)tmpParam[otherParam[i]]=otherParam[i+1];else for(var p in otherParam)tmpParam[p]=otherParam[p];var _tmpV=data.getRoot(setting)._ver;return $.ajax({contentType:setting.async.contentType,cache:!1,type:setting.async.type,url:tools.apply(setting.async.url,[setting.treeId,node],setting.async.url),data:setting.async.contentType.indexOf("application/json")>-1?JSON.stringify(tmpParam):tmpParam,dataType:setting.async.dataType,headers:setting.async.headers,xhrFields:setting.async.xhrFields,success:function(msg){if(_tmpV==data.getRoot(setting)._ver){var newNodes=[];try{newNodes=msg&&0!=msg.length?"string"==typeof msg?eval("("+msg+")"):msg:[]}catch(e){newNodes=msg}node&&(node.isAjaxing=null,node.zAsync=!0),view.setNodeLineIcos(setting,node),newNodes&&""!==newNodes?(newNodes=tools.apply(setting.async.dataFilter,[setting.treeId,node,newNodes],newNodes),view.addNodes(setting,node,-1,newNodes?tools.clone(newNodes):[],!!isSilent)):view.addNodes(setting,node,-1,[],!!isSilent),setting.treeObj.trigger(consts.event.ASYNC_SUCCESS,[setting.treeId,node,msg]),tools.apply(callback)}},error:function(e,t,n){_tmpV==data.getRoot(setting)._ver&&(node&&(node.isAjaxing=null),view.setNodeLineIcos(setting,node),setting.treeObj.trigger(consts.event.ASYNC_ERROR,[setting.treeId,node,e,t,n]))}}),!0},cancelPreSelectedNode:function(e,t,n){var r,o,i=data.getRoot(e).curSelectedList;for(r=i.length-1;r>=0;r--)if(o=i[r],t===o||!t&&(!n||n!==o)){if($$(o,consts.id.A,e).removeClass(consts.node.CURSELECTED),t){data.removeSelectedNode(e,t);break}i.splice(r,1),e.treeObj.trigger(consts.event.UNSELECTED,[e.treeId,o])}},createNodeCallback:function(e){if(e.callback.onNodeCreated||e.view.addDiyDom)for(var t=data.getRoot(e);t.createdNodes.length>0;){var n=t.createdNodes.shift();tools.apply(e.view.addDiyDom,[e.treeId,n]),e.callback.onNodeCreated&&e.treeObj.trigger(consts.event.NODECREATED,[e.treeId,n])}},createNodes:function(e,t,n,r,o){if(n&&0!=n.length){var i=data.getRoot(e),a=!r||r.open||!!$$(data.nodeChildren(e,r)[0],e).get(0);i.createdNodes=[];var u,c,s=view.appendNodes(e,t,n,r,o,!0,a);if(r){var l=$$(r,consts.id.UL,e);l.get(0)&&(u=l)}else u=e.treeObj;u&&(o>=0&&(c=u.children()[o]),o>=0&&c?$(c).before(s.join("")):u.append(s.join(""))),view.createNodeCallback(e)}},destroy:function(e){e&&(data.initCache(e),data.initRoot(e),event.unbindTree(e),event.unbindEvent(e),e.treeObj.empty(),delete settings[e.treeId])},expandCollapseNode:function(e,t,n,r,o){var i,a,u=data.getRoot(e);if(!t)return void tools.apply(o,[]);var c=data.nodeChildren(e,t),s=data.nodeIsParent(e,t);if(u.expandTriggerFlag&&(a=o,i=function(){a&&a(),t.open?e.treeObj.trigger(consts.event.EXPAND,[e.treeId,t]):e.treeObj.trigger(consts.event.COLLAPSE,[e.treeId,t])},o=i,u.expandTriggerFlag=!1),!t.open&&s&&(!$$(t,consts.id.UL,e).get(0)||c&&c.length>0&&!$$(c[0],e).get(0))&&(view.appendParentULDom(e,t),view.createNodeCallback(e)),t.open==n)return void tools.apply(o,[]);var l=$$(t,consts.id.UL,e),f=$$(t,consts.id.SWITCH,e),d=$$(t,consts.id.ICON,e);s?(t.open=!t.open,t.iconOpen&&t.iconClose&&d.attr("style",view.makeNodeIcoStyle(e,t)),t.open?(view.replaceSwitchClass(t,f,consts.folder.OPEN),view.replaceIcoClass(t,d,consts.folder.OPEN),0==r||""==e.view.expandSpeed?(l.show(),tools.apply(o,[])):c&&c.length>0?l.slideDown(e.view.expandSpeed,o):(l.show(),tools.apply(o,[]))):(view.replaceSwitchClass(t,f,consts.folder.CLOSE),view.replaceIcoClass(t,d,consts.folder.CLOSE),0!=r&&""!=e.view.expandSpeed&&c&&c.length>0?l.slideUp(e.view.expandSpeed,o):(l.hide(),tools.apply(o,[])))):tools.apply(o,[])},expandCollapseParentNode:function(e,t,n,r,o){if(t){if(!t.parentTId)return void view.expandCollapseNode(e,t,n,r,o);view.expandCollapseNode(e,t,n,r),t.parentTId&&view.expandCollapseParentNode(e,t.getParentNode(),n,r,o)}},expandCollapseSonNode:function(e,t,n,r,o){var i=data.getRoot(e),a=t?data.nodeChildren(e,t):data.nodeChildren(e,i),u=!t&&r,c=data.getRoot(e).expandTriggerFlag;if(data.getRoot(e).expandTriggerFlag=!1,a)for(var s=0,l=a.length;s<l;s++)a[s]&&view.expandCollapseSonNode(e,a[s],n,u);data.getRoot(e).expandTriggerFlag=c,view.expandCollapseNode(e,t,n,r,o)},isSelectedNode:function(e,t){if(!t)return!1;var n,r=data.getRoot(e).curSelectedList;for(n=r.length-1;n>=0;n--)if(t===r[n])return!0;return!1},makeDOMNodeIcon:function(e,t,n){var r=data.nodeName(t,n),o=t.view.nameIsHTML?r:r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");e.push("<span id='",n.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='",view.makeNodeIcoClass(t,n),"' style='",view.makeNodeIcoStyle(t,n),"'></span><span id='",n.tId,consts.id.SPAN,"' class='",consts.className.NAME,"'>",o,"</span>")},makeDOMNodeLine:function(e,t,n){e.push("<span id='",n.tId,consts.id.SWITCH,"' title='' class='",view.makeNodeLineClass(t,n),"' treeNode",consts.id.SWITCH,"></span>")},makeDOMNodeMainAfter:function(e,t,n){e.push("</li>")},makeDOMNodeMainBefore:function(e,t,n){e.push("<li id='",n.tId,"' class='",consts.className.LEVEL,n.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(e,t,n){e.push("</a>")},makeDOMNodeNameBefore:function(e,t,n){var r=data.nodeTitle(t,n),o=view.makeNodeUrl(t,n),i=view.makeNodeFontCss(t,n),a=view.makeNodeClasses(t,n),u=[];for(var c in i)u.push(c,":",i[c],";");e.push("<a id='",n.tId,consts.id.A,"' class='",consts.className.LEVEL,n.level,a.add?" "+a.add.join(" "):"","' treeNode",consts.id.A,' onclick="',n.click||"",'" ',null!=o&&o.length>0?"href='"+o+"'":""," target='",view.makeNodeTarget(n),"' style='",u.join(""),"'"),tools.apply(t.view.showTitle,[t.treeId,n],t.view.showTitle)&&r&&e.push("title='",r.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'"),e.push(">")},makeNodeFontCss:function(e,t){var n=tools.apply(e.view.fontCss,[e.treeId,t],e.view.fontCss);return n&&"function"!=typeof n?n:{}},makeNodeClasses:function(e,t){var n=tools.apply(e.view.nodeClasses,[e.treeId,t],e.view.nodeClasses);return n&&"function"!=typeof n?n:{add:[],remove:[]}},makeNodeIcoClass:function(e,t){var n=["ico"];if(!t.isAjaxing){var r=data.nodeIsParent(e,t);n[0]=(t.iconSkin?t.iconSkin+"_":"")+n[0],r?n.push(t.open?consts.folder.OPEN:consts.folder.CLOSE):n.push(consts.folder.DOCU)}return consts.className.BUTTON+" "+n.join("_")},makeNodeIcoStyle:function(e,t){var n=[];if(!t.isAjaxing){var r=data.nodeIsParent(e,t),o=r&&t.iconOpen&&t.iconClose?t.open?t.iconOpen:t.iconClose:t[e.data.key.icon];o&&n.push("background:url(",o,") 0 0 no-repeat;"),0!=e.view.showIcon&&tools.apply(e.view.showIcon,[e.treeId,t],!0)||n.push("display:none;")}return n.join("")},makeNodeLineClass:function(e,t){var n=[];return e.view.showLine?0==t.level&&t.isFirstNode&&t.isLastNode?n.push(consts.line.ROOT):0==t.level&&t.isFirstNode?n.push(consts.line.ROOTS):t.isLastNode?n.push(consts.line.BOTTOM):n.push(consts.line.CENTER):n.push(consts.line.NOLINE),data.nodeIsParent(e,t)?n.push(t.open?consts.folder.OPEN:consts.folder.CLOSE):n.push(consts.folder.DOCU),view.makeNodeLineClassEx(t)+n.join("_")},makeNodeLineClassEx:function(e){return consts.className.BUTTON+" "+consts.className.LEVEL+e.level+" "+consts.className.SWITCH+" "},makeNodeTarget:function(e){return e.target||"_blank"},makeNodeUrl:function(e,t){var n=e.data.key.url;return t[n]?t[n]:null},makeUlHtml:function(e,t,n,r){n.push("<ul id='",t.tId,consts.id.UL,"' class='",consts.className.LEVEL,t.level," ",view.makeUlLineClass(e,t),"' style='display:",t.open?"block":"none","'>"),n.push(r),n.push("</ul>")},makeUlLineClass:function(e,t){return e.view.showLine&&!t.isLastNode?consts.line.LINE:""},removeChildNodes:function(e,t){if(t){var n=data.nodeChildren(e,t);if(n){for(var r=0,o=n.length;r<o;r++)data.removeNodeCache(e,n[r]);if(data.removeSelectedNode(e),delete t[e.data.key.children],e.data.keep.parent)$$(t,consts.id.UL,e).empty();else{data.nodeIsParent(e,t,!1),t.open=!1;var i=$$(t,consts.id.SWITCH,e),a=$$(t,consts.id.ICON,e);view.replaceSwitchClass(t,i,consts.folder.DOCU),view.replaceIcoClass(t,a,consts.folder.DOCU),$$(t,consts.id.UL,e).remove()}}}},scrollIntoView:function(e,t){if(t){if("undefined"==typeof Element||"undefined"==typeof HTMLElement){var n=e.treeObj.get(0).getBoundingClientRect(),r=t.getBoundingClientRect();return void((r.top<n.top||r.bottom>n.bottom||r.right>n.right||r.left<n.left)&&t.scrollIntoView())}Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(e){"use strict";function t(e,t){return{start:e,length:t,end:e+t}}function n(t,n){return!1===e||n.start<t.end&&t.start<n.end?Math.max(t.end-n.length,Math.min(n.start,t.start)):(t.start+t.end-n.length)/2}function r(e,t){return{x:e,y:t,translate:function(n,o){return r(e+n,t+o)}}}function o(e,t){for(;e;)t=t.translate(e.offsetLeft,e.offsetTop),e=e.offsetParent;return t}for(var i,a=o(this,r(0,0)),u=r(this.offsetWidth,this.offsetHeight),c=this.parentNode;c instanceof HTMLElement;)i=o(c,r(c.clientLeft,c.clientTop)),c.scrollLeft=n(t(a.x-i.x,u.x),t(c.scrollLeft,c.clientWidth)),c.scrollTop=n(t(a.y-i.y,u.y),t(c.scrollTop,c.clientHeight)),a=a.translate(-c.scrollLeft,-c.scrollTop),c=c.parentNode}),t.scrollIntoViewIfNeeded()}},setFirstNode:function(e,t){var n=data.nodeChildren(e,t);n.length>0&&(n[0].isFirstNode=!0)},setLastNode:function(e,t){var n=data.nodeChildren(e,t);n.length>0&&(n[n.length-1].isLastNode=!0)},removeNode:function(e,t){var n=data.getRoot(e),r=t.parentTId?t.getParentNode():n;if(t.isFirstNode=!1,t.isLastNode=!1,t.getPreNode=function(){return null},t.getNextNode=function(){return null},data.getNodeCache(e,t.tId)){$$(t,e).remove(),data.removeNodeCache(e,t),data.removeSelectedNode(e,t);for(var o=data.nodeChildren(e,r),i=0,a=o.length;i<a;i++)if(o[i].tId==t.tId){o.splice(i,1);break}view.setFirstNode(e,r),view.setLastNode(e,r);var u,c,s,l=o.length;if(e.data.keep.parent||0!=l){if(e.view.showLine&&l>0){var f=o[l-1];if(u=$$(f,consts.id.UL,e),c=$$(f,consts.id.SWITCH,e),s=$$(f,consts.id.ICON,e),r==n)if(1==o.length)view.replaceSwitchClass(f,c,consts.line.ROOT);else{var d=$$(o[0],consts.id.SWITCH,e);view.replaceSwitchClass(o[0],d,consts.line.ROOTS),view.replaceSwitchClass(f,c,consts.line.BOTTOM)}else view.replaceSwitchClass(f,c,consts.line.BOTTOM);u.removeClass(consts.line.LINE)}}else data.nodeIsParent(e,r,!1),r.open=!1,delete r[e.data.key.children],u=$$(r,consts.id.UL,e),c=$$(r,consts.id.SWITCH,e),s=$$(r,consts.id.ICON,e),view.replaceSwitchClass(r,c,consts.folder.DOCU),view.replaceIcoClass(r,s,consts.folder.DOCU),u.css("display","none")}},replaceIcoClass:function(e,t,n){if(t&&!e.isAjaxing){var r=t.attr("class");if(void 0!=r){var o=r.split("_");switch(n){case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:o[o.length-1]=n}t.attr("class",o.join("_"))}}},replaceSwitchClass:function(e,t,n){if(t){var r=t.attr("class");if(void 0!=r){var o=r.split("_");switch(n){case consts.line.ROOT:case consts.line.ROOTS:case consts.line.CENTER:case consts.line.BOTTOM:case consts.line.NOLINE:o[0]=view.makeNodeLineClassEx(e)+n;break;case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:o[1]=n}t.attr("class",o.join("_")),n!==consts.folder.DOCU?t.removeAttr("disabled"):t.attr("disabled","disabled")}}},selectNode:function(e,t,n){n||view.cancelPreSelectedNode(e,null,t),$$(t,consts.id.A,e).addClass(consts.node.CURSELECTED),data.addSelectedNode(e,t),e.treeObj.trigger(consts.event.SELECTED,[e.treeId,t])},setNodeFontCss:function(e,t){var n=$$(t,consts.id.A,e),r=view.makeNodeFontCss(e,t);r&&n.css(r)},setNodeClasses:function(e,t){var n=$$(t,consts.id.A,e),r=view.makeNodeClasses(e,t);"add"in r&&r.add.length&&n.addClass(r.add.join(" ")),"remove"in r&&r.remove.length&&n.removeClass(r.remove.join(" "))},setNodeLineIcos:function(e,t){if(t){var n=$$(t,consts.id.SWITCH,e),r=$$(t,consts.id.UL,e),o=$$(t,consts.id.ICON,e),i=view.makeUlLineClass(e,t);0==i.length?r.removeClass(consts.line.LINE):r.addClass(i),n.attr("class",view.makeNodeLineClass(e,t)),data.nodeIsParent(e,t)?n.removeAttr("disabled"):n.attr("disabled","disabled"),o.removeAttr("style"),o.attr("style",view.makeNodeIcoStyle(e,t)),o.attr("class",view.makeNodeIcoClass(e,t))}},setNodeName:function(e,t){var n=data.nodeTitle(e,t),r=$$(t,consts.id.SPAN,e);if(r.empty(),e.view.nameIsHTML?r.html(data.nodeName(e,t)):r.text(data.nodeName(e,t)),tools.apply(e.view.showTitle,[e.treeId,t],e.view.showTitle)){$$(t,consts.id.A,e).attr("title",n||"")}},setNodeTarget:function(e,t){$$(t,consts.id.A,e).attr("target",view.makeNodeTarget(t))},setNodeUrl:function(e,t){var n=$$(t,consts.id.A,e),r=view.makeNodeUrl(e,t);null==r||0==r.length?n.removeAttr("href"):n.attr("href",r)},switchNode:function(e,t){if(t.open||!tools.canAsync(e,t))view.expandCollapseNode(e,t,!t.open);else if(e.async.enable){if(!view.asyncNode(e,t))return void view.expandCollapseNode(e,t,!t.open)}else t&&view.expandCollapseNode(e,t,!t.open)}};$.fn.zTree={consts:_consts,_z:{tools:tools,view:view,event:event,data:data},getZTreeObj:function(e){var t=data.getZTreeTools(e);return t||null},destroy:function(e){if(e&&e.length>0)view.destroy(data.getSetting(e));else for(var t in settings)view.destroy(settings[t])},init:function(e,t,n){var r=tools.clone(_setting);$.extend(!0,r,t),r.treeId=e.attr("id"),r.treeObj=e,r.treeObj.empty(),settings[r.treeId]=r,void 0===document.body.style.maxHeight&&(r.view.expandSpeed=""),data.initRoot(r);var o=data.getRoot(r);n=n?tools.clone(tools.isArray(n)?n:[n]):[],r.data.simpleData.enable?data.nodeChildren(r,o,data.transformTozTreeFormat(r,n)):data.nodeChildren(r,o,n),data.initCache(r),event.unbindTree(r),event.bindTree(r),event.unbindEvent(r),event.bindEvent(r);var i={setting:r,addNodes:function(e,t,n,o){function i(){view.addNodes(r,e,t,c,1==o)}e||(e=null);var a=data.nodeIsParent(r,e);if(e&&!a&&r.data.keep.leaf)return null;var u=parseInt(t,10);if(isNaN(u)?(o=!!n,n=t,t=-1):t=u,!n)return null;var c=tools.clone(tools.isArray(n)?n:[n]);return tools.canAsync(r,e)?view.asyncNode(r,e,o,i):i(),c},cancelSelectedNode:function(e){view.cancelPreSelectedNode(r,e)},destroy:function(){view.destroy(r)},expandAll:function(e){return e=!!e,view.expandCollapseSonNode(r,null,e,!0),e},expandNode:function(e,t,n,o,i){function a(){var t=$$(e,r).get(0);t&&!1!==o&&view.scrollIntoView(r,t)}return e&&data.nodeIsParent(r,e)?(!0!==t&&!1!==t&&(t=!e.open),(i=!!i)&&t&&0==tools.apply(r.callback.beforeExpand,[r.treeId,e],!0)?null:i&&!t&&0==tools.apply(r.callback.beforeCollapse,[r.treeId,e],!0)?null:(t&&e.parentTId&&view.expandCollapseParentNode(r,e.getParentNode(),t,!1),t!==e.open||n?(data.getRoot(r).expandTriggerFlag=i,!tools.canAsync(r,e)&&n?view.expandCollapseSonNode(r,e,t,!0,a):(e.open=!t,view.switchNode(this.setting,e),a()),t):null)):null},getNodes:function(){return data.getNodes(r)},getNodeByParam:function(e,t,n){return e?data.getNodeByParam(r,n?data.nodeChildren(r,n):data.getNodes(r),e,t):null},getNodeByTId:function(e){return data.getNodeCache(r,e)},getNodesByParam:function(e,t,n){return e?data.getNodesByParam(r,n?data.nodeChildren(r,n):data.getNodes(r),e,t):null},getNodesByParamFuzzy:function(e,t,n){return e?data.getNodesByParamFuzzy(r,n?data.nodeChildren(r,n):data.getNodes(r),e,t):null},getNodesByFilter:function(e,t,n,o){return t=!!t,e&&"function"==typeof e?data.getNodesByFilter(r,n?data.nodeChildren(r,n):data.getNodes(r),e,t,o):t?null:[]},getNodeIndex:function(e){if(!e)return null;for(var t=e.parentTId?e.getParentNode():data.getRoot(r),n=data.nodeChildren(r,t),o=0,i=n.length;o<i;o++)if(n[o]==e)return o;return-1},getSelectedNodes:function(){for(var e=[],t=data.getRoot(r).curSelectedList,n=0,o=t.length;n<o;n++)e.push(t[n]);return e},isSelectedNode:function(e){return data.isSelectedNode(r,e)},reAsyncChildNodesPromise:function(e,t,n){return new Promise(function(r,o){try{i.reAsyncChildNodes(e,t,n,function(){r(e)})}catch(e){o(e)}})},reAsyncChildNodes:function(e,t,n,o){if(this.setting.async.enable){var i=!e;if(i&&(e=data.getRoot(r)),"refresh"==t){for(var a=data.nodeChildren(r,e),u=0,c=a?a.length:0;u<c;u++)data.removeNodeCache(r,a[u]);if(data.removeSelectedNode(r),data.nodeChildren(r,e,[]),i)this.setting.treeObj.empty();else{$$(e,consts.id.UL,r).empty()}}view.asyncNode(this.setting,i?null:e,!!n,o)}},refresh:function(){this.setting.treeObj.empty();var e=data.getRoot(r),t=data.nodeChildren(r,e);data.initRoot(r),data.nodeChildren(r,e,t),data.initCache(r),view.createNodes(r,0,data.nodeChildren(r,e),null,-1)},removeChildNodes:function(e){if(!e)return null;var t=data.nodeChildren(r,e);return view.removeChildNodes(r,e),t||null},removeNode:function(e,t){e&&((t=!!t)&&0==tools.apply(r.callback.beforeRemove,[r.treeId,e],!0)||(view.removeNode(r,e),t&&this.setting.treeObj.trigger(consts.event.REMOVE,[r.treeId,e])))},selectNode:function(e,t,n){function o(){if(!n){var t=$$(e,r).get(0);view.scrollIntoView(r,t)}}if(e&&tools.uCanDo(r)){if(t=r.view.selectedMulti&&t,e.parentTId)view.expandCollapseParentNode(r,e.getParentNode(),!0,!1,o);else if(!n)try{$$(e,r).focus().blur()}catch(e){}view.selectNode(r,e,t)}},transformTozTreeNodes:function(e){return data.transformTozTreeFormat(r,e)},transformToArray:function(e){return data.transformToArrayFormat(r,e)},updateNode:function(e,t){if(e){$$(e,r).get(0)&&tools.uCanDo(r)&&(view.setNodeName(r,e),view.setNodeTarget(r,e),view.setNodeUrl(r,e),view.setNodeLineIcos(r,e),view.setNodeFontCss(r,e),view.setNodeClasses(r,e))}}};o.treeTools=i,data.setZTreeTools(r,i);var a=data.nodeChildren(r,o);return a&&a.length>0?view.createNodes(r,0,a,null,-1):r.async.enable&&r.async.url&&""!==r.async.url&&view.asyncNode(r),i}};var zt=$.fn.zTree,$$=tools.$,consts=zt.consts}(jQuery),function(e){var t={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},n={check:{enable:!1,autoCheckTrigger:!1,chkStyle:t.checkbox.STYLE,nocheckInherit:!1,chkDisabledInherit:!1,radioType:t.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},r=function(e){x.getRoot(e).radioCheckedList=[]},o=function(e){},i=function(e){var t=e.treeObj,n=y.event;t.bind(n.CHECK,function(t,n,r,o){t.srcEvent=n,b.apply(e.callback.onCheck,[t,r,o])})},a=function(e){var t=e.treeObj,n=y.event;t.unbind(n.CHECK)},u=function(e){var t=e.target,n=x.getSetting(e.data.treeId),r="",o=null,i="",a=null;if(b.eqs(e.type,"mouseover")?n.check.enable&&b.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+y.id.CHECK)&&(r=b.getNodeMainDom(t).id,i="mouseoverCheck"):b.eqs(e.type,"mouseout")?n.check.enable&&b.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+y.id.CHECK)&&(r=b.getNodeMainDom(t).id,i="mouseoutCheck"):b.eqs(e.type,"click")&&n.check.enable&&b.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+y.id.CHECK)&&(r=b.getNodeMainDom(t).id,i="checkNode"),r.length>0)switch(o=x.getNodeCache(n,r),i){case"checkNode":a=m.onCheckNode;break;case"mouseoverCheck":a=m.onMouseoverCheck;break;case"mouseoutCheck":a=m.onMouseoutCheck}return{stop:"checkNode"===i,node:o,nodeEventType:i,nodeEventCallback:a,treeEventType:"",treeEventCallback:null}},c=function(e,t,n,r,o,i,a){if(n){var u=x.nodeChecked(e,n);if(n.checkedOld=u,"string"==typeof n.nocheck&&(n.nocheck=b.eqs(n.nocheck,"true")),n.nocheck=!!n.nocheck||e.check.nocheckInherit&&r&&!!r.nocheck,"string"==typeof n.chkDisabled&&(n.chkDisabled=b.eqs(n.chkDisabled,"true")),n.chkDisabled=!!n.chkDisabled||e.check.chkDisabledInherit&&r&&!!r.chkDisabled,"string"==typeof n.halfCheck&&(n.halfCheck=b.eqs(n.halfCheck,"true")),n.halfCheck=!!n.halfCheck,n.check_Child_State=-1,n.check_Focus=!1,n.getCheckStatus=function(){return x.getCheckStatus(e,n)},e.check.chkStyle==y.radio.STYLE&&e.check.radioType==y.radio.TYPE_ALL&&u){x.getRoot(e).radioCheckedList.push(n)}}},s=function(e,t,n){e.check.enable&&(x.makeChkFlag(e,t),n.push("<span ID='",t.tId,y.id.CHECK,"' class='",w.makeChkClass(e,t),"' treeNode",y.id.CHECK,!0===t.nocheck?" style='display:none;'":"","></span>"))},l=function(e,t){t.checkNode=function(t,n,r,o){var i=x.nodeChecked(e,t);if(!0!==t.chkDisabled&&(!0!==n&&!1!==n&&(n=!i),o=!!o,(i!==n||r)&&(!o||0!=b.apply(this.setting.callback.beforeCheck,[this.setting.treeId,t],!0))&&b.uCanDo(this.setting)&&this.setting.check.enable&&!0!==t.nocheck)){x.nodeChecked(e,t,n);var a=C(t,y.id.CHECK,this.setting);(r||this.setting.check.chkStyle===y.radio.STYLE)&&w.checkNodeRelation(this.setting,t),w.setChkClass(this.setting,a,t),w.repairParentChkClassWithSelf(this.setting,t),o&&this.setting.treeObj.trigger(y.event.CHECK,[null,this.setting.treeId,t])}},t.checkAllNodes=function(e){w.repairAllChk(this.setting,!!e)},t.getCheckedNodes=function(t){t=!1!==t;var n=x.nodeChildren(e,x.getRoot(this.setting));return x.getTreeCheckedNodes(this.setting,n,t)},t.getChangeCheckedNodes=function(){var t=x.nodeChildren(e,x.getRoot(this.setting));return x.getTreeChangeCheckedNodes(this.setting,t)},t.setChkDisabled=function(e,t,n,r){t=!!t,n=!!n,r=!!r,w.repairSonChkDisabled(this.setting,e,t,r),w.repairParentChkDisabled(this.setting,e.getParentNode(),t,n)};var n=t.updateNode;t.updateNode=function(e,r){if(n&&n.apply(t,arguments),e&&this.setting.check.enable){if(C(e,this.setting).get(0)&&b.uCanDo(this.setting)){var o=C(e,y.id.CHECK,this.setting);1!=r&&this.setting.check.chkStyle!==y.radio.STYLE||w.checkNodeRelation(this.setting,e),w.setChkClass(this.setting,o,e),w.repairParentChkClassWithSelf(this.setting,e)}}}},f={getRadioCheckedList:function(e){for(var t=x.getRoot(e).radioCheckedList,n=0,r=t.length;n<r;n++)x.getNodeCache(e,t[n].tId)||(t.splice(n,1),n--,r--);return t},getCheckStatus:function(e,t){if(!e.check.enable||t.nocheck||t.chkDisabled)return null;var n=x.nodeChecked(e,t);return{checked:n,half:t.halfCheck?t.halfCheck:e.check.chkStyle==y.radio.STYLE?2===t.check_Child_State:n?t.check_Child_State>-1&&t.check_Child_State<2:t.check_Child_State>0}},getTreeCheckedNodes:function(e,t,n,r){if(!t)return[];var o=n&&e.check.chkStyle==y.radio.STYLE&&e.check.radioType==y.radio.TYPE_ALL;r=r||[];for(var i=0,a=t.length;i<a;i++){var u=t[i],c=x.nodeChildren(e,u),s=x.nodeChecked(e,u);if(!0!==u.nocheck&&!0!==u.chkDisabled&&s==n&&(r.push(u),o))break;if(x.getTreeCheckedNodes(e,c,n,r),o&&r.length>0)break}return r},getTreeChangeCheckedNodes:function(e,t,n){if(!t)return[];n=n||[];for(var r=0,o=t.length;r<o;r++){var i=t[r],a=x.nodeChildren(e,i),u=x.nodeChecked(e,i);!0!==i.nocheck&&!0!==i.chkDisabled&&u!=i.checkedOld&&n.push(i),x.getTreeChangeCheckedNodes(e,a,n)}return n},makeChkFlag:function(e,t){if(t){var n=-1,r=x.nodeChildren(e,t);if(r)for(var o=0,i=r.length;o<i;o++){var a=r[o],u=x.nodeChecked(e,a),c=-1;if(e.check.chkStyle==y.radio.STYLE){if(2==(c=!0===a.nocheck||!0===a.chkDisabled?a.check_Child_State:!0===a.halfCheck?2:u?2:a.check_Child_State>0?2:0)){n=2;break}0==c&&(n=0)}else if(e.check.chkStyle==y.checkbox.STYLE){if(1===(c=!0===a.nocheck||!0===a.chkDisabled?a.check_Child_State:!0===a.halfCheck?1:u?-1===a.check_Child_State||2===a.check_Child_State?2:1:a.check_Child_State>0?1:0)){n=1;break}if(2===c&&n>-1&&o>0&&c!==n){n=1;break}if(2===n&&c>-1&&c<2){n=1;break}c>-1&&(n=c)}}t.check_Child_State=n}}},d={},m={onCheckNode:function(e,t){if(!0===t.chkDisabled)return!1;var n=x.getSetting(e.data.treeId);if(0==b.apply(n.callback.beforeCheck,[n.treeId,t],!0))return!0;var r=x.nodeChecked(n,t);x.nodeChecked(n,t,!r),w.checkNodeRelation(n,t);var o=C(t,y.id.CHECK,n);return w.setChkClass(n,o,t),w.repairParentChkClassWithSelf(n,t),n.treeObj.trigger(y.event.CHECK,[e,n.treeId,t]),!0},onMouseoverCheck:function(e,t){if(!0===t.chkDisabled)return!1;var n=x.getSetting(e.data.treeId),r=C(t,y.id.CHECK,n);return t.check_Focus=!0,w.setChkClass(n,r,t),!0},onMouseoutCheck:function(e,t){if(!0===t.chkDisabled)return!1;var n=x.getSetting(e.data.treeId),r=C(t,y.id.CHECK,n);return t.check_Focus=!1,w.setChkClass(n,r,t),!0}},p={},g={checkNodeRelation:function(e,t){var n,r,o,i=y.radio,a=x.nodeChecked(e,t);if(e.check.chkStyle==i.STYLE){var u=x.getRadioCheckedList(e);if(a)if(e.check.radioType==i.TYPE_ALL){for(r=u.length-1;r>=0;r--){n=u[r];var c=x.nodeChecked(e,n);c&&n!=t&&(x.nodeChecked(e,n,!1),u.splice(r,1),w.setChkClass(e,C(n,y.id.CHECK,e),n),n.parentTId!=t.parentTId&&w.repairParentChkClassWithSelf(e,n))}u.push(t)}else{var s=t.parentTId?t.getParentNode():x.getRoot(e),l=x.nodeChildren(e,s);for(r=0,o=l.length;r<o;r++){n=l[r];var c=x.nodeChecked(e,n);c&&n!=t&&(x.nodeChecked(e,n,!1),w.setChkClass(e,C(n,y.id.CHECK,e),n))}}else if(e.check.radioType==i.TYPE_ALL)for(r=0,o=u.length;r<o;r++)if(t==u[r]){u.splice(r,1);break}}else{var l=x.nodeChildren(e,t);a&&(!l||0==l.length||e.check.chkboxType.Y.indexOf("s")>-1)&&w.setSonNodeCheckBox(e,t,!0),a||l&&0!=l.length&&!(e.check.chkboxType.N.indexOf("s")>-1)||w.setSonNodeCheckBox(e,t,!1),a&&e.check.chkboxType.Y.indexOf("p")>-1&&w.setParentNodeCheckBox(e,t,!0),!a&&e.check.chkboxType.N.indexOf("p")>-1&&w.setParentNodeCheckBox(e,t,!1)}},makeChkClass:function(e,t){var n=y.checkbox,r=y.radio,o="",i=x.nodeChecked(e,t);o=!0===t.chkDisabled?n.DISABLED:t.halfCheck?n.PART:e.check.chkStyle==r.STYLE?t.check_Child_State<1?n.FULL:n.PART:i?2===t.check_Child_State||-1===t.check_Child_State?n.FULL:n.PART:t.check_Child_State<1?n.FULL:n.PART;var a=e.check.chkStyle+"_"+(i?n.TRUE:n.FALSE)+"_"+o;return a=t.check_Focus&&!0!==t.chkDisabled?a+"_"+n.FOCUS:a,y.className.BUTTON+" "+n.DEFAULT+" "+a},repairAllChk:function(e,t){if(e.check.enable&&e.check.chkStyle===y.checkbox.STYLE)for(var n=x.getRoot(e),r=x.nodeChildren(e,n),o=0,i=r.length;o<i;o++){var a=r[o];!0!==a.nocheck&&!0!==a.chkDisabled&&x.nodeChecked(e,a,t),w.setSonNodeCheckBox(e,a,t)}},repairChkClass:function(e,t){if(t&&(x.makeChkFlag(e,t),!0!==t.nocheck)){var n=C(t,y.id.CHECK,e);w.setChkClass(e,n,t)}},repairParentChkClass:function(e,t){if(t&&t.parentTId){var n=t.getParentNode();w.repairChkClass(e,n),w.repairParentChkClass(e,n)}},repairParentChkClassWithSelf:function(e,t){if(t){var n=x.nodeChildren(e,t);n&&n.length>0?w.repairParentChkClass(e,n[0]):w.repairParentChkClass(e,t)}},repairSonChkDisabled:function(e,t,n,r){if(t){t.chkDisabled!=n&&(t.chkDisabled=n),w.repairChkClass(e,t);var o=x.nodeChildren(e,t);if(o&&r)for(var i=0,a=o.length;i<a;i++){var u=o[i];w.repairSonChkDisabled(e,u,n,r)}}},repairParentChkDisabled:function(e,t,n,r){t&&(t.chkDisabled!=n&&r&&(t.chkDisabled=n),w.repairChkClass(e,t),w.repairParentChkDisabled(e,t.getParentNode(),n,r))},setChkClass:function(e,t,n){t&&(!0===n.nocheck?t.hide():t.show(),t.attr("class",w.makeChkClass(e,n)))},setParentNodeCheckBox:function(e,t,n,r){var o=C(t,y.id.CHECK,e);if(r||(r=t),x.makeChkFlag(e,t),!0!==t.nocheck&&!0!==t.chkDisabled&&(x.nodeChecked(e,t,n),w.setChkClass(e,o,t),e.check.autoCheckTrigger&&t!=r&&e.treeObj.trigger(y.event.CHECK,[null,e.treeId,t])),t.parentTId){var i=!0;if(!n)for(var a=x.nodeChildren(e,t.getParentNode()),u=0,c=a.length;u<c;u++){var s=a[u],l=x.nodeChecked(e,s);if(!0!==s.nocheck&&!0!==s.chkDisabled&&l||(!0===s.nocheck||!0===s.chkDisabled)&&s.check_Child_State>0){i=!1;break}}i&&w.setParentNodeCheckBox(e,t.getParentNode(),n,r)}},setSonNodeCheckBox:function(e,t,n,r){if(t){var o=C(t,y.id.CHECK,e);r||(r=t);var i=!1,a=x.nodeChildren(e,t);if(a)for(var u=0,c=a.length;u<c;u++){var s=a[u];w.setSonNodeCheckBox(e,s,n,r),!0===s.chkDisabled&&(i=!0)}t!=x.getRoot(e)&&!0!==t.chkDisabled&&(i&&!0!==t.nocheck&&x.makeChkFlag(e,t),!0!==t.nocheck&&!0!==t.chkDisabled?(x.nodeChecked(e,t,n),i||(t.check_Child_State=a&&a.length>0?n?2:0:-1)):t.check_Child_State=-1,w.setChkClass(e,o,t),e.check.autoCheckTrigger&&t!=r&&!0!==t.nocheck&&!0!==t.chkDisabled&&e.treeObj.trigger(y.event.CHECK,[null,e.treeId,t]))}}},h={tools:p,view:g,event:d,data:f};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,h);var v=e.fn.zTree,b=v._z.tools,y=v.consts,w=v._z.view,x=v._z.data,C=(v._z.event,b.$);x.nodeChecked=function(e,t,n){if(!t)return!1;var r=e.data.key.checked;return void 0!==n?("string"==typeof n&&(n=b.eqs(n,"true")),n=!!n,t[r]=n):"string"==typeof t[r]?t[r]=b.eqs(t[r],"true"):t[r]=!!t[r],t[r]},x.exSetting(n),x.addInitBind(i),x.addInitUnBind(a),x.addInitCache(o),x.addInitNode(c),x.addInitProxy(u,!0),x.addInitRoot(r),x.addBeforeA(s),x.addZTreeTools(l);var k=w.createNodes;w.createNodes=function(e,t,n,r,o){k&&k.apply(w,arguments),n&&w.repairParentChkClassWithSelf(e,r)};var S=w.removeNode;w.removeNode=function(e,t){var n=t.getParentNode();S&&S.apply(w,arguments),t&&n&&(w.repairChkClass(e,n),w.repairParentChkClass(e,n))};var T=w.appendNodes;w.appendNodes=function(e,t,n,r,o,i,a){var u="";return T&&(u=T.apply(w,arguments)),r&&x.makeChkFlag(e,r),u}}(jQuery),function(e){var t={event:{DRAG:"ztree_drag",DROP:"ztree_drop",RENAME:"ztree_rename",DRAGMOVE:"ztree_dragmove"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},n={edit:{enable:!1,editNameSelectAll:!1,showRemoveBtn:!0,showRenameBtn:!0,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:!1,isCopy:!0,isMove:!0,prev:!0,next:!0,inner:!0,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDragMove:null,onDrop:null,onRename:null}},r=function(e){var t=w.getRoot(e),n=w.getRoots();t.curEditNode=null,t.curEditInput=null,t.curHoverNode=null,t.dragFlag=0,t.dragNodeShowBefore=[],t.dragMaskList=new Array,n.showHoverDom=!0},o=function(e){},i=function(e){var t=e.treeObj,n=b.event;t.bind(n.RENAME,function(t,n,r,o){v.apply(e.callback.onRename,[t,n,r,o])}),t.bind(n.DRAG,function(t,n,r,o){v.apply(e.callback.onDrag,[n,r,o])}),t.bind(n.DRAGMOVE,function(t,n,r,o){v.apply(e.callback.onDragMove,[n,r,o])}),t.bind(n.DROP,function(t,n,r,o,i,a,u){v.apply(e.callback.onDrop,[n,r,o,i,a,u])})},a=function(e){var t=e.treeObj,n=b.event;t.unbind(n.RENAME),t.unbind(n.DRAG),t.unbind(n.DRAGMOVE),t.unbind(n.DROP)},u=function(e){var t=e.target,n=w.getSetting(e.data.treeId),r=e.relatedTarget,o="",i=null,a="",u=null,c=null;if(v.eqs(e.type,"mouseover")?(c=v.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+b.id.A}]))&&(o=v.getNodeMainDom(c).id,a="hoverOverNode"):v.eqs(e.type,"mouseout")?(c=v.getMDom(n,r,[{tagName:"a",attrName:"treeNode"+b.id.A}]))||(o="remove",a="hoverOutNode"):v.eqs(e.type,"mousedown")&&(c=v.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+b.id.A}]))&&(o=v.getNodeMainDom(c).id,a="mousedownNode"),o.length>0)switch(i=w.getNodeCache(n,o),a){case"mousedownNode":u=d.onMousedownNode;break;case"hoverOverNode":u=d.onHoverOverNode;break;case"hoverOutNode":u=d.onHoverOutNode}return{stop:!1,node:i,nodeEventType:a,nodeEventCallback:u,treeEventType:"",treeEventCallback:null}},c=function(e,t,n,r,o,i,a){n&&(n.isHover=!1,n.editNameFlag=!1)},s=function(e,t){t.cancelEditName=function(e){w.getRoot(this.setting).curEditNode&&y.cancelCurEditNode(this.setting,e||null,!0)},t.copyNode=function(t,n,r,o){function i(){y.addNodes(u.setting,t,-1,[c],o)}if(!n)return null;var a=w.nodeIsParent(e,t);if(t&&!a&&this.setting.data.keep.leaf&&r===b.move.TYPE_INNER)return null;var u=this,c=v.clone(n);return t||(t=null,r=b.move.TYPE_INNER),r==b.move.TYPE_INNER?v.canAsync(this.setting,t)?y.asyncNode(this.setting,t,o,i):i():(y.addNodes(this.setting,t.parentNode,-1,[c],o),y.moveNode(this.setting,t,c,r,!1,o)),c},t.editName=function(e){e&&e.tId&&e===w.getNodeCache(this.setting,e.tId)&&(e.parentTId&&y.expandCollapseParentNode(this.setting,e.getParentNode(),!0),y.editNode(this.setting,e))},t.moveNode=function(t,n,r,o){function i(){y.moveNode(u.setting,t,n,r,!1,o)}if(!n)return n;var a=w.nodeIsParent(e,t);if(t&&!a&&this.setting.data.keep.leaf&&r===b.move.TYPE_INNER)return null;if(t&&(n.parentTId==t.tId&&r==b.move.TYPE_INNER||x(n,this.setting).find("#"+t.tId).length>0))return null;t||(t=null);var u=this;return v.canAsync(this.setting,t)&&r===b.move.TYPE_INNER?y.asyncNode(this.setting,t,o,i):i(),n},t.setEditable=function(e){return this.setting.edit.enable=e,this.refresh()}},l={setSonNodeLevel:function(e,t,n){if(n){var r=w.nodeChildren(e,n);if(n.level=t?t.level+1:0,r)for(var o=0,i=r.length;o<i;o++)r[o]&&w.setSonNodeLevel(e,n,r[o])}}},f={},d={onHoverOverNode:function(e,t){var n=w.getSetting(e.data.treeId),r=w.getRoot(n);r.curHoverNode!=t&&d.onHoverOutNode(e),r.curHoverNode=t,y.addHoverDom(n,t)},onHoverOutNode:function(e,t){var n=w.getSetting(e.data.treeId),r=w.getRoot(n);r.curHoverNode&&!w.isSelectedNode(n,r.curHoverNode)&&(y.removeTreeDom(n,r.curHoverNode),r.curHoverNode=null)},onMousedownNode:function(n,r){function o(n){function r(){C=null,R="",M=b.move.TYPE_INNER,h.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null)}if(0==l.dragFlag&&Math.abs(P-n.clientX)<s.edit.drag.minMoveSize&&Math.abs(I-n.clientY)<s.edit.drag.minMoveSize)return!0;var o,a,u,c,d;if(N.css("cursor","pointer"),0==l.dragFlag){if(0==v.apply(s.callback.beforeDrag,[s.treeId,p],!0))return i(n),!0;for(o=0,a=p.length;o<a;o++)0==o&&(l.dragNodeShowBefore=[]),u=p[o],w.nodeIsParent(s,u)&&u.open?(y.expandCollapseNode(s,u,!u.open),l.dragNodeShowBefore[u.tId]=!0):l.dragNodeShowBefore[u.tId]=!1;l.dragFlag=1,f.showHoverDom=!1,v.showIfameMask(s,!0);var m=!0,_=-1;if(p.length>1){var B=p[0].parentTId?w.nodeChildren(s,p[0].getParentNode()):w.getNodes(s);for(d=[],o=0,a=B.length;o<a;o++)if(void 0!==l.dragNodeShowBefore[B[o].tId]&&(m&&_>-1&&_+1!==o&&(m=!1),d.push(B[o]),_=o),p.length===d.length){p=d;break}}for(m&&(k=p[0].getPreNode(),S=p[p.length-1].getNextNode()),g=x("<ul class='zTreeDragUL'></ul>",s),o=0,a=p.length;o<a;o++)u=p[o],u.editNameFlag=!1,y.selectNode(s,u,o>0),y.removeTreeDom(s,u),o>s.edit.drag.maxShowNodeNum-1||(c=x("<li id='"+u.tId+"_tmp'></li>",s),c.append(x(u,b.id.A,s).clone()),c.css("padding","0"),c.children("#"+u.tId+b.id.A).removeClass(b.node.CURSELECTED),g.append(c),o==s.edit.drag.maxShowNodeNum-1&&(c=x("<li id='"+u.tId+"_moretmp'><a>  ...  </a></li>",s),g.append(c)));g.attr("id",p[0].tId+b.id.UL+"_tmp"),g.addClass(s.treeObj.attr("class")),g.appendTo(N),h=x("<span class='tmpzTreeMove_arrow'></span>",s),h.attr("id","zTreeMove_arrow_tmp"),h.appendTo(N),s.treeObj.trigger(b.event.DRAG,[n,s.treeId,p])}if(1==l.dragFlag){if(C&&h.attr("id")==n.target.id&&R&&n.clientX+T.scrollLeft()+2>e("#"+R+b.id.A,C).offset().left){var L=e("#"+R+b.id.A,C);n.target=L.length>0?L.get(0):n.target}else C&&(C.removeClass(b.node.TMPTARGET_TREE),R&&e("#"+R+b.id.A,C).removeClass(b.node.TMPTARGET_NODE+"_"+b.move.TYPE_PREV).removeClass(b.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(b.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER));C=null,R=null,E=!1,O=s;var H=w.getSettings();for(var F in H)H[F].treeId&&H[F].edit.enable&&H[F].treeId!=s.treeId&&(n.target.id==H[F].treeId||e(n.target).parents("#"+H[F].treeId).length>0)&&(E=!0,O=H[F]);var j=T.scrollTop(),V=T.scrollLeft(),U=O.treeObj.offset(),q=O.treeObj.get(0).scrollHeight,$=O.treeObj.get(0).scrollWidth,W=n.clientY+j-U.top,G=O.treeObj.height()+U.top-n.clientY-j,K=n.clientX+V-U.left,Y=O.treeObj.width()+U.left-n.clientX-V,X=W<s.edit.drag.borderMax&&W>s.edit.drag.borderMin,J=G<s.edit.drag.borderMax&&G>s.edit.drag.borderMin,Q=K<s.edit.drag.borderMax&&K>s.edit.drag.borderMin,Z=Y<s.edit.drag.borderMax&&Y>s.edit.drag.borderMin,ee=W>s.edit.drag.borderMin&&G>s.edit.drag.borderMin&&K>s.edit.drag.borderMin&&Y>s.edit.drag.borderMin,te=X&&O.treeObj.scrollTop()<=0,ne=J&&O.treeObj.scrollTop()+O.treeObj.height()+10>=q,re=Q&&O.treeObj.scrollLeft()<=0,oe=Z&&O.treeObj.scrollLeft()+O.treeObj.width()+10>=$;if(n.target&&v.isChildOrSelf(n.target,O.treeId)){for(var ie=n.target;ie&&ie.tagName&&!v.eqs(ie.tagName,"li")&&ie.id!=O.treeId;)ie=ie.parentNode;var ae=!0;for(o=0,a=p.length;o<a;o++){if(u=p[o],ie.id===u.tId){ae=!1;break}if(x(u,s).find("#"+ie.id).length>0){ae=!1;break}}ae&&n.target&&v.isChildOrSelf(n.target,ie.id+b.id.A)&&(C=e(ie),R=ie.id)}u=p[0],ee&&v.isChildOrSelf(n.target,O.treeId)&&(!C&&(n.target.id==O.treeId||te||ne||re||oe)&&(E||!E&&u.parentTId)&&(C=O.treeObj),X?O.treeObj.scrollTop(O.treeObj.scrollTop()-10):J&&O.treeObj.scrollTop(O.treeObj.scrollTop()+10),Q?O.treeObj.scrollLeft(O.treeObj.scrollLeft()-10):Z&&O.treeObj.scrollLeft(O.treeObj.scrollLeft()+10),C&&C!=O.treeObj&&C.offset().left<O.treeObj.offset().left&&O.treeObj.scrollLeft(O.treeObj.scrollLeft()+C.offset().left-O.treeObj.offset().left)),g.css({top:n.clientY+j+3+"px",left:n.clientX+V+3+"px"});var ue=0,ce=0;if(C&&C.attr("id")!=O.treeId){var se=null==R?null:w.getNodeCache(O,R),le=(n.ctrlKey||n.metaKey)&&s.edit.drag.isMove&&s.edit.drag.isCopy||!s.edit.drag.isMove&&s.edit.drag.isCopy,fe=!(!k||R!==k.tId),de=!(!S||R!==S.tId),me=u.parentTId&&u.parentTId==R,pe=(le||!de)&&v.apply(O.edit.drag.prev,[O.treeId,p,se],!!O.edit.drag.prev),ge=(le||!fe)&&v.apply(O.edit.drag.next,[O.treeId,p,se],!!O.edit.drag.next),he=(le||!me)&&!(O.data.keep.leaf&&!w.nodeIsParent(s,se))&&v.apply(O.edit.drag.inner,[O.treeId,p,se],!!O.edit.drag.inner);if(pe||ge||he){var ve=e("#"+R+b.id.A,C),be=se.isLastNode?null:e("#"+se.getNextNode().tId+b.id.A,C.next()),ye=ve.offset().top,we=ve.offset().left,xe=pe?he?.25:ge?.5:1:-1,Ce=ge?he?.75:pe?.5:0:-1,ke=(n.clientY+j-ye)/ve.height();if((1==xe||ke<=xe&&ke>=-.2)&&pe?(ue=1-h.width(),ce=ye-h.height()/2,M=b.move.TYPE_PREV):(0==Ce||ke>=Ce&&ke<=1.2)&&ge?(ue=1-h.width(),ce=null==be||w.nodeIsParent(s,se)&&se.open?ye+ve.height()-h.height()/2:be.offset().top-h.height()/2,M=b.move.TYPE_NEXT):he?(ue=5-h.width(),ce=ye,M=b.move.TYPE_INNER):r(),C&&(h.css({display:"block",top:ce+"px",left:we+ue+"px"}),ve.addClass(b.node.TMPTARGET_NODE+"_"+M),A==R&&D==M||(z=(new Date).getTime()),se&&w.nodeIsParent(s,se)&&M==b.move.TYPE_INNER)){var Se=!0;window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==se.tId?(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null):window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===se.tId&&(Se=!1),Se&&(window.zTreeMoveTimer=setTimeout(function(){M==b.move.TYPE_INNER&&se&&w.nodeIsParent(s,se)&&!se.open&&(new Date).getTime()-z>O.edit.drag.autoOpenTime&&v.apply(O.callback.beforeDragOpen,[O.treeId,se],!0)&&(y.switchNode(O,se),O.edit.drag.autoExpandTrigger&&O.treeObj.trigger(b.event.EXPAND,[O.treeId,se]))},O.edit.drag.autoOpenTime+50),window.zTreeMoveTargetNodeTId=se.tId)}}else r()}else M=b.move.TYPE_INNER,C&&v.apply(O.edit.drag.inner,[O.treeId,p,null],!!O.edit.drag.inner)?C.addClass(b.node.TMPTARGET_TREE):C=null,h.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null);A=R,D=M,s.treeObj.trigger(b.event.DRAGMOVE,[n,s.treeId,p])}return!1}function i(n){function r(){if(E){if(!m)for(var e=0,t=p.length;e<t;e++)y.removeNode(s,p[e]);M==b.move.TYPE_INNER?y.addNodes(O,k,-1,S):y.addNodes(O,k.getParentNode(),M==b.move.TYPE_PREV?k.getIndex():k.getIndex()+1,S)}else if(m&&M==b.move.TYPE_INNER)y.addNodes(O,k,-1,S);else if(m)y.addNodes(O,k.getParentNode(),M==b.move.TYPE_PREV?k.getIndex():k.getIndex()+1,S);else if(M!=b.move.TYPE_NEXT)for(e=0,t=S.length;e<t;e++)y.moveNode(O,k,S[e],M,!1);else for(e=-1,t=S.length-1;e<t;t--)y.moveNode(O,k,S[t],M,!1);y.selectNodes(O,S);var r=x(S[0],s).get(0);y.scrollIntoView(s,r),s.treeObj.trigger(b.event.DROP,[n,O.treeId,S,k,M,m])}if(window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null),A=null,D=null,T.unbind("mousemove",o),T.unbind("mouseup",i),T.unbind("selectstart",a),N.css("cursor",""),C&&(C.removeClass(b.node.TMPTARGET_TREE),R&&e("#"+R+b.id.A,C).removeClass(b.node.TMPTARGET_NODE+"_"+b.move.TYPE_PREV).removeClass(b.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(b.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER)),v.showIfameMask(s,!1),f.showHoverDom=!0,0!=l.dragFlag){l.dragFlag=0;var u,c,d;for(u=0,c=p.length;u<c;u++)d=p[u],w.nodeIsParent(s,d)&&l.dragNodeShowBefore[d.tId]&&!d.open&&(y.expandCollapseNode(s,d,!d.open),delete l.dragNodeShowBefore[d.tId]);g&&g.remove(),h&&h.remove();var m=(n.ctrlKey||n.metaKey)&&s.edit.drag.isMove&&s.edit.drag.isCopy||!s.edit.drag.isMove&&s.edit.drag.isCopy;if(!m&&C&&R&&p[0].parentTId&&R==p[0].parentTId&&M==b.move.TYPE_INNER&&(C=null),C){var k=null==R?null:w.getNodeCache(O,R);if(0==v.apply(s.callback.beforeDrop,[O.treeId,p,k,M,m],!0))return void y.selectNodes(_,p);var S=m?v.clone(p):p;M==b.move.TYPE_INNER&&v.canAsync(O,k)?y.asyncNode(O,k,!1,r):r()}else y.selectNodes(_,p),s.treeObj.trigger(b.event.DROP,[n,s.treeId,p,null,null,null])}}function a(){return!1}var u,c,s=w.getSetting(n.data.treeId),l=w.getRoot(s),f=w.getRoots();if(2==n.button||!s.edit.enable||!s.edit.drag.isCopy&&!s.edit.drag.isMove)return!0;var d=n.target,m=w.getRoot(s).curSelectedList,p=[];if(w.isSelectedNode(s,r))for(u=0,c=m.length;u<c;u++){if(m[u].editNameFlag&&v.eqs(d.tagName,"input")&&null!==d.getAttribute("treeNode"+b.id.INPUT))return!0;if(p.push(m[u]),p[0].parentTId!==m[u].parentTId){p=[r];break}}else p=[r];y.editNodeBlur=!0,y.cancelCurEditNode(s);var g,h,C,k,S,T=e(s.treeObj.get(0).ownerDocument),N=e(s.treeObj.get(0).ownerDocument.body),E=!1,O=s,_=s,A=null,D=null,R=null,M=b.move.TYPE_INNER,P=n.clientX,I=n.clientY,z=(new Date).getTime();return v.uCanDo(s)&&T.bind("mousemove",o),T.bind("mouseup",i),T.bind("selectstart",a),!0}},m={getAbs:function(e){var t=e.getBoundingClientRect(),n=document.body.scrollTop+document.documentElement.scrollTop,r=document.body.scrollLeft+document.documentElement.scrollLeft;return[t.left+r,t.top+n]},inputFocus:function(e){e.get(0)&&(e.focus(),v.setCursorPosition(e.get(0),e.val().length))},inputSelect:function(e){e.get(0)&&(e.focus(),e.select())},setCursorPosition:function(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}},showIfameMask:function(e,t){for(var n=w.getRoot(e);n.dragMaskList.length>0;)n.dragMaskList[0].remove(),n.dragMaskList.shift();if(t)for(var r=x("iframe",e),o=0,i=r.length;o<i;o++){var a=r.get(o),u=v.getAbs(a),c=x("<div id='zTreeMask_"+o+"' class='zTreeMask' style='top:"+u[1]+"px; left:"+u[0]+"px; width:"+a.offsetWidth+"px; height:"+a.offsetHeight+"px;'></div>",e);c.appendTo(x("body",e)),n.dragMaskList.push(c)}}},p={addEditBtn:function(e,t){if(!(t.editNameFlag||x(t,b.id.EDIT,e).length>0)&&v.apply(e.edit.showRenameBtn,[e.treeId,t],e.edit.showRenameBtn)){var n=x(t,b.id.A,e),r="<span class='"+b.className.BUTTON+" edit' id='"+t.tId+b.id.EDIT+"' title='"+v.apply(e.edit.renameTitle,[e.treeId,t],e.edit.renameTitle)+"' treeNode"+b.id.EDIT+" style='display:none;'></span>";n.append(r),x(t,b.id.EDIT,e).bind("click",function(){return!(!v.uCanDo(e)||0==v.apply(e.callback.beforeEditName,[e.treeId,t],!0))&&(y.editNode(e,t),!1)}).show()}},addRemoveBtn:function(e,t){if(!(t.editNameFlag||x(t,b.id.REMOVE,e).length>0)&&v.apply(e.edit.showRemoveBtn,[e.treeId,t],e.edit.showRemoveBtn)){var n=x(t,b.id.A,e),r="<span class='"+b.className.BUTTON+" remove' id='"+t.tId+b.id.REMOVE+"' title='"+v.apply(e.edit.removeTitle,[e.treeId,t],e.edit.removeTitle)+"' treeNode"+b.id.REMOVE+" style='display:none;'></span>";n.append(r),x(t,b.id.REMOVE,e).bind("click",function(){return!(!v.uCanDo(e)||0==v.apply(e.callback.beforeRemove,[e.treeId,t],!0))&&(y.removeNode(e,t),e.treeObj.trigger(b.event.REMOVE,[e.treeId,t]),!1)}).bind("mousedown",function(e){return!0}).show()}},addHoverDom:function(e,t){w.getRoots().showHoverDom&&(t.isHover=!0,e.edit.enable&&(y.addEditBtn(e,t),y.addRemoveBtn(e,t)),v.apply(e.view.addHoverDom,[e.treeId,t]))},cancelCurEditNode:function(e,t,n){var r=w.getRoot(e),o=r.curEditNode;if(o){var i=r.curEditInput,a=t||(n?w.nodeName(e,o):i.val());if(!1===v.apply(e.callback.beforeRename,[e.treeId,o,a,n],!0))return!1;w.nodeName(e,o,a);x(o,b.id.A,e).removeClass(b.node.CURSELECTED_EDIT),i.unbind(),y.setNodeName(e,o),o.editNameFlag=!1,r.curEditNode=null,r.curEditInput=null,y.selectNode(e,o,!1),e.treeObj.trigger(b.event.RENAME,[e.treeId,o,n])}return r.noSelection=!0,!0},editNode:function(e,t){var n=w.getRoot(e);if(y.editNodeBlur=!1,w.isSelectedNode(e,t)&&n.curEditNode==t&&t.editNameFlag)return void setTimeout(function(){v.inputFocus(n.curEditInput)},0);t.editNameFlag=!0,y.removeTreeDom(e,t),y.cancelCurEditNode(e),y.selectNode(e,t,!1),x(t,b.id.SPAN,e).html("<input type=text class='rename' id='"+t.tId+b.id.INPUT+"' treeNode"+b.id.INPUT+" >");var r=x(t,b.id.INPUT,e);r.attr("value",w.nodeName(e,t)),e.edit.editNameSelectAll?v.inputSelect(r):v.inputFocus(r),r.bind("blur",function(t){y.editNodeBlur||y.cancelCurEditNode(e)}).bind("keydown",function(t){"13"==t.keyCode?(y.editNodeBlur=!0,y.cancelCurEditNode(e)):"27"==t.keyCode&&y.cancelCurEditNode(e,null,!0)}).bind("click",function(e){return!1}).bind("dblclick",function(e){return!1}),x(t,b.id.A,e).addClass(b.node.CURSELECTED_EDIT),n.curEditInput=r,n.noSelection=!1,n.curEditNode=t},moveNode:function(e,t,n,r,o,i){var a=w.getRoot(e);if(t!=n&&(!e.data.keep.leaf||!t||w.nodeIsParent(e,t)||r!=b.move.TYPE_INNER)){var u=n.parentTId?n.getParentNode():a,c=null===t||t==a;c&&null===t&&(t=a),c&&(r=b.move.TYPE_INNER);var s=t.parentTId?t.getParentNode():a;r!=b.move.TYPE_PREV&&r!=b.move.TYPE_NEXT&&(r=b.move.TYPE_INNER),r==b.move.TYPE_INNER&&(c?n.parentTId=null:(w.nodeIsParent(e,t)||(w.nodeIsParent(e,t,!0),t.open=!!t.open,y.setNodeLineIcos(e,t)),n.parentTId=t.tId));var l,f;if(c)l=e.treeObj,f=l;else{if(i||r!=b.move.TYPE_INNER?i||y.expandCollapseNode(e,t.getParentNode(),!0,!1):y.expandCollapseNode(e,t,!0,!1),l=x(t,e),f=x(t,b.id.UL,e),l.get(0)&&!f.get(0)){var d=[];y.makeUlHtml(e,t,d,""),l.append(d.join(""))}f=x(t,b.id.UL,e)}var m=x(n,e);m.get(0)?l.get(0)||m.remove():m=y.appendNodes(e,n.level,[n],null,-1,!1,!0).join(""),f.get(0)&&r==b.move.TYPE_INNER?f.append(m):l.get(0)&&r==b.move.TYPE_PREV?l.before(m):l.get(0)&&r==b.move.TYPE_NEXT&&l.after(m);var p,g,h=-1,v=0,C=null,k=null,S=n.level,T=w.nodeChildren(e,u),N=w.nodeChildren(e,s),E=w.nodeChildren(e,t);if(n.isFirstNode)h=0,T.length>1&&(C=T[1],C.isFirstNode=!0);else if(n.isLastNode)h=T.length-1,C=T[h-1],C.isLastNode=!0;else for(p=0,g=T.length;p<g;p++)if(T[p].tId==n.tId){h=p;break}if(h>=0&&T.splice(h,1),r!=b.move.TYPE_INNER)for(p=0,g=N.length;p<g;p++)N[p].tId==t.tId&&(v=p);if(r==b.move.TYPE_INNER?(E||(E=w.nodeChildren(e,t,[])),E.length>0&&(k=E[E.length-1],k.isLastNode=!1),E.splice(E.length,0,n),n.isLastNode=!0,n.isFirstNode=1==E.length):t.isFirstNode&&r==b.move.TYPE_PREV?(N.splice(v,0,n),k=t,k.isFirstNode=!1,n.parentTId=t.parentTId,n.isFirstNode=!0,n.isLastNode=!1):t.isLastNode&&r==b.move.TYPE_NEXT?(N.splice(v+1,0,n),k=t,k.isLastNode=!1,n.parentTId=t.parentTId,n.isFirstNode=!1,n.isLastNode=!0):(r==b.move.TYPE_PREV?N.splice(v,0,n):N.splice(v+1,0,n),n.parentTId=t.parentTId,n.isFirstNode=!1,n.isLastNode=!1),w.fixPIdKeyValue(e,n),w.setSonNodeLevel(e,n.getParentNode(),n),y.setNodeLineIcos(e,n),y.repairNodeLevelClass(e,n,S),!e.data.keep.parent&&T.length<1){w.nodeIsParent(e,u,!1),u.open=!1;var O=x(u,b.id.UL,e),_=x(u,b.id.SWITCH,e),A=x(u,b.id.ICON,e);y.replaceSwitchClass(u,_,b.folder.DOCU),y.replaceIcoClass(u,A,b.folder.DOCU),O.css("display","none")}else C&&y.setNodeLineIcos(e,C);k&&y.setNodeLineIcos(e,k),e.check&&e.check.enable&&y.repairChkClass&&(y.repairChkClass(e,u),y.repairParentChkClassWithSelf(e,u),u!=n.parent&&y.repairParentChkClassWithSelf(e,n)),i||y.expandCollapseParentNode(e,n.getParentNode(),!0,o)}},removeEditBtn:function(e,t){x(t,b.id.EDIT,e).unbind().remove()},removeRemoveBtn:function(e,t){x(t,b.id.REMOVE,e).unbind().remove()},removeTreeDom:function(e,t){t.isHover=!1,y.removeEditBtn(e,t),y.removeRemoveBtn(e,t),v.apply(e.view.removeHoverDom,[e.treeId,t])},repairNodeLevelClass:function(e,t,n){if(n!==t.level){var r=x(t,e),o=x(t,b.id.A,e),i=x(t,b.id.UL,e),a=b.className.LEVEL+n,u=b.className.LEVEL+t.level;r.removeClass(a),r.addClass(u),o.removeClass(a),o.addClass(u),i.removeClass(a),i.addClass(u)}},selectNodes:function(e,t){for(var n=0,r=t.length;n<r;n++)y.selectNode(e,t[n],n>0)}},g={tools:m,view:p,event:f,data:l};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,g);var h=e.fn.zTree,v=h._z.tools,b=h.consts,y=h._z.view,w=h._z.data,x=(h._z.event,v.$);w.exSetting(n),w.addInitBind(i),w.addInitUnBind(a),w.addInitCache(o),w.addInitNode(c),w.addInitProxy(u),w.addInitRoot(r),w.addZTreeTools(s);var C=y.cancelPreSelectedNode;y.cancelPreSelectedNode=function(e,t){for(var n=w.getRoot(e).curSelectedList,r=0,o=n.length;r<o&&(t&&t!==n[r]||(y.removeTreeDom(e,n[r]),!t));r++);C&&C.apply(y,arguments)};var k=y.createNodes;y.createNodes=function(e,t,n,r,o){k&&k.apply(y,arguments),n&&y.repairParentChkClassWithSelf&&y.repairParentChkClassWithSelf(e,r)};var S=y.makeNodeUrl;y.makeNodeUrl=function(e,t){return e.edit.enable?null:S.apply(y,arguments)};var T=y.removeNode;y.removeNode=function(e,t){var n=w.getRoot(e);n.curEditNode===t&&(n.curEditNode=null),T&&T.apply(y,arguments)};var N=y.selectNode;y.selectNode=function(e,t,n){var r=w.getRoot(e);return(!w.isSelectedNode(e,t)||r.curEditNode!=t||!t.editNameFlag)&&(N&&N.apply(y,arguments),y.addHoverDom(e,t),!0)};var E=v.uCanDo;v.uCanDo=function(e,t){var n=w.getRoot(e);return!(!t||!(v.eqs(t.type,"mouseover")||v.eqs(t.type,"mouseout")||v.eqs(t.type,"mousedown")||v.eqs(t.type,"mouseup")))||(n.curEditNode&&(y.editNodeBlur=!1,n.curEditInput.focus()),!n.curEditNode&&(!E||E.apply(y,arguments)))}}(jQuery)},"94ca":function(e,t,n){var r=n("d039"),o=/#|\.prototype\./,i=function(e,t){var n=u[a(e)];return n==s||n!=c&&("function"==typeof t?r(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=i.data={},c=i.NATIVE="N",s=i.POLYFILL="P";e.exports=i},"99af":function(e,t,n){"use strict";var r=n("23e7"),o=n("d039"),i=n("e8b5"),a=n("861d"),u=n("7b0b"),c=n("50c4"),s=n("8418"),l=n("65f0"),f=n("1dde"),d=n("b622"),m=n("2d00"),p=d("isConcatSpreadable"),g=m>=51||!o(function(){var e=[];return e[p]=!1,e.concat()[0]!==e}),h=f("concat"),v=function(e){if(!a(e))return!1;var t=e[p];return void 0!==t?!!t:i(e)};r({target:"Array",proto:!0,forced:!g||!h},{concat:function(e){var t,n,r,o,i,a=u(this),f=l(a,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(i=-1===t?a:arguments[t],v(i)){if(o=c(i.length),d+o>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,d++)n in i&&s(f,d,i[n])}else{if(d>=9007199254740991)throw TypeError("Maximum allowed index exceeded");s(f,d++,i)}return f.length=d,f}})},"9bf2":function(e,t,n){var r=n("83ab"),o=n("0cfb"),i=n("825a"),a=n("c04e"),u=Object.defineProperty;t.f=r?u:function(e,t,n){if(i(e),t=a(t,!0),i(n),o)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},a691:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},b622:function(e,t,n){var r=n("da84"),o=n("5692"),i=n("5135"),a=n("90e3"),u=n("4930"),c=n("fdbf"),s=o("wks"),l=r.Symbol,f=c?l:l&&l.withoutSetter||a;e.exports=function(e){return i(s,e)||(u&&i(l,e)?s[e]=l[e]:s[e]=f("Symbol."+e)),s[e]}},c04e:function(e,t,n){var r=n("861d");e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var r=n("da84"),o=n("ce4e"),i=r["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=i},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},c91b:function(e,t,n){t=n("24fb")(!1),t.push([e.i,'.ztree[data-v-6e9ae177]{text-align:left;font-size:14px}.ztree[data-v-6e9ae177] li{list-style-type:none;white-space:nowrap;outline:none}.ztree[data-v-6e9ae177] li ul{position:relative;padding:0 0 0 20px;margin:0}.ztree[data-v-6e9ae177] .line:before{position:absolute;top:0;left:10px;height:100%;content:"";border-right:1px dotted #dbdbdb}.ztree[data-v-6e9ae177] .bottom_docu:after,.ztree[data-v-6e9ae177] .bottom_docu:before,.ztree[data-v-6e9ae177] .center_docu:after,.ztree[data-v-6e9ae177] .center_docu:before,.ztree[data-v-6e9ae177] .roots_docu:after,.ztree[data-v-6e9ae177] .roots_docu:before{position:absolute;content:"";border:0 dotted #dbdbdb}.ztree[data-v-6e9ae177] .roots_docu:before{left:10px;height:50%;top:50%;border-left-width:1px}.ztree[data-v-6e9ae177] .roots_docu:after{top:50%;left:11px;width:50%;border-top-width:1px}.ztree[data-v-6e9ae177] .center_docu:before{left:10px;height:100%;border-left-width:1px}.ztree[data-v-6e9ae177] .center_docu:after{top:50%;left:11px;width:50%;border-top-width:1px}.ztree[data-v-6e9ae177] .bottom_docu:before{left:10px;height:50%;border-left-width:1px}.ztree[data-v-6e9ae177] .bottom_docu:after{top:50%;left:11px;width:50%;border-top-width:1px}.ztree[data-v-6e9ae177] li a{display:inline-block;line-height:22px;height:22px;margin:0;cursor:pointer;-webkit-transition:none;transition:none;vertical-align:middle;color:#555}.ztree[data-v-6e9ae177] .node_name{display:inline-block;padding:0 3px;border-radius:4px}.ztree[data-v-6e9ae177] .curSelectedNode .node_name{color:#000;background-color:#c9e9f7}.ztree[data-v-6e9ae177] .curSelectedNode_Edit{height:20px;opacity:.8;color:#000;border:1px solid #6cc2e8;background-color:#9dd6f0}.ztree[data-v-6e9ae177] .tmpTargetNode_inner{opacity:.8;color:#fff;background-color:#4fcbf0;filter:alpha(opacity=80)}.ztree[data-v-6e9ae177] .rename{font-size:12px;line-height:22px;width:80px;height:22px;margin:0;padding:0;vertical-align:top;border:0;background:none}.ztree[data-v-6e9ae177] .button{position:relative;display:inline-block;line-height:22px;height:22px;width:22px;cursor:pointer;text-align:center;vertical-align:middle}.ztree[data-v-6e9ae177] .button.edit{color:#25ae88}.ztree[data-v-6e9ae177] .button.remove{color:#cb4042}.ztree[data-v-6e9ae177] .button.chk{position:relative;width:14px;height:14px;margin:0 4px 0 0;border:1px solid #d7dde4;border-radius:2px;background:#fff}.ztree[data-v-6e9ae177] .chk.radio_false_disable,.ztree[data-v-6e9ae177] .chk.radio_false_full,.ztree[data-v-6e9ae177] .chk.radio_false_full_focus,.ztree[data-v-6e9ae177] .chk.radio_false_part,.ztree[data-v-6e9ae177] .chk.radio_false_part_focus,.ztree[data-v-6e9ae177] .chk.radio_true_disable,.ztree[data-v-6e9ae177] .chk.radio_true_full,.ztree[data-v-6e9ae177] .chk.radio_true_full_focus,.ztree[data-v-6e9ae177] .chk.radio_true_part,.ztree[data-v-6e9ae177] .chk.radio_true_part_focus{border-radius:8px}.ztree[data-v-6e9ae177] .button.chk:after{position:absolute;top:1px;left:4px;width:4px;height:8px;content:"";transition:-webkit-transform .2s ease-in-out;-webkit-transition:-webkit-transform .2s ease-in-out;transition:transform .2s ease-in-out;transition:transform .2s ease-in-out,-webkit-transform .2s ease-in-out;-webkit-transform:rotate(0deg) scale(0);transform:rotate(0deg) scale(0);border-right:2px solid #fff;border-bottom:2px solid #fff}.ztree[data-v-6e9ae177] .button.checkbox_false_full_focus{border-color:#ccc}.ztree[data-v-6e9ae177] .button.checkbox_true_disable,.ztree[data-v-6e9ae177] .button.checkbox_true_full,.ztree[data-v-6e9ae177] .button.checkbox_true_full_focus,.ztree[data-v-6e9ae177] .button.checkbox_true_part,.ztree[data-v-6e9ae177] .button.checkbox_true_part_focus{border-color:#39f;background-color:#39f}.ztree[data-v-6e9ae177] .button.checkbox_true_disable:after,.ztree[data-v-6e9ae177] .button.checkbox_true_full:after,.ztree[data-v-6e9ae177] .button.checkbox_true_full_focus:after{-webkit-transform:rotate(45deg) scale(1);transform:rotate(45deg) scale(1)}.ztree[data-v-6e9ae177] .button.checkbox_true_part:after,.ztree[data-v-6e9ae177] .button.checkbox_true_part_focus:after{top:5px;left:2px;width:10px;height:1px;-webkit-transform:rotate(0deg) scale(1);transform:rotate(0deg) scale(1);border-right:0}.ztree[data-v-6e9ae177] .button.radio_true_full,.ztree[data-v-6e9ae177] .chk.radio_true_full_focus,.ztree[data-v-6e9ae177] .chk.radio_true_part,.ztree[data-v-6e9ae177] .chk.radio_true_part_focus{border-color:#39f}.ztree[data-v-6e9ae177] .button.radio_true_full:after,.ztree[data-v-6e9ae177] .chk.radio_true_full_focus:after,.ztree[data-v-6e9ae177] .chk.radio_true_part:after,.ztree[data-v-6e9ae177] .chk.radio_true_part_focus:after{top:3px;left:3px;width:8px;-webkit-transform:rotate(0deg) scale(1);transform:rotate(0deg) scale(1);border:0;border-radius:4px;background:#39f}.ztree[data-v-6e9ae177] .button.checkbox_false_disable,.ztree[data-v-6e9ae177] .button.checkbox_true_disable,.ztree[data-v-6e9ae177] .chk.radio_false_disable,.ztree[data-v-6e9ae177] .chk.radio_true_disable{cursor:not-allowed}.ztree[data-v-6e9ae177] .button.checkbox_false_disable{background-color:#f3f3f3}.ztree[data-v-6e9ae177] .button.bottom_close:before,.ztree[data-v-6e9ae177] .button.bottom_open:before,.ztree[data-v-6e9ae177] .button.center_close:before,.ztree[data-v-6e9ae177] .button.center_open:before,.ztree[data-v-6e9ae177] .button.noline_close:before,.ztree[data-v-6e9ae177] .button.noline_open:before,.ztree[data-v-6e9ae177] .button.root_close:before,.ztree[data-v-6e9ae177] .button.root_open:before,.ztree[data-v-6e9ae177] .button.roots_close:before,.ztree[data-v-6e9ae177] .button.roots_open:before{position:absolute;top:5px;left:5px;content:"";transition:-webkit-transform .3s ease;-webkit-transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease;-webkit-transform:rotate(0deg);transform:rotate(0deg);-webkit-transform-origin:25% 50%;transform-origin:25% 50%;border:6px solid;border-color:transparent transparent transparent #666}.ztree[data-v-6e9ae177] .button.bottom_open:before,.ztree[data-v-6e9ae177] .button.center_open:before,.ztree[data-v-6e9ae177] .button.noline_open:before,.ztree[data-v-6e9ae177] .button.root_open:before,.ztree[data-v-6e9ae177] .button.roots_open:before{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ztree[data-v-6e9ae177] .button.ico_loading{margin-right:2px;background:url("data:image/gif;base64,R0lGODlhEAAQAKIGAMLY8YSx5HOm4Mjc88/g9Ofw+v///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFCgAGACwAAAAAEAAQAAADMGi6RbUwGjKIXCAA016PgRBElAVlG/RdLOO0X9nK61W39qvqiwz5Ls/rRqrggsdkAgAh+QQFCgAGACwCAAAABwAFAAADD2hqELAmiFBIYY4MAutdCQAh+QQFCgAGACwGAAAABwAFAAADD1hU1kaDOKMYCGAGEeYFCQAh+QQFCgAGACwKAAIABQAHAAADEFhUZjSkKdZqBQG0IELDQAIAIfkEBQoABgAsCgAGAAUABwAAAxBoVlRKgyjmlAIBqCDCzUoCACH5BAUKAAYALAYACgAHAAUAAAMPaGpFtYYMAgJgLogA610JACH5BAUKAAYALAIACgAHAAUAAAMPCAHWFiI4o1ghZZJB5i0JACH5BAUKAAYALAAABgAFAAcAAAMQCAFmIaEp1motpDQySMNFAgA7") 0 no-repeat}.ztree[data-v-6e9ae177] .tmpTargetzTree{opacity:.8;background-color:#2ea9df;filter:alpha(opacity=80)}.ztree[data-v-6e9ae177] .tmpzTreeMove_arrow{position:absolute;width:18px;height:18px;color:#4fcbf0}.ztree[data-v-6e9ae177] .ztree.zTreeDragUL{overflow:hidden;position:absolute;width:auto;height:auto;margin:0;padding:0;opacity:.8;border:1px dotted #176b53;background-color:#dbdbdb;filter:alpha(opacity=80)}.zTreeMask[data-v-6e9ae177]{position:absolute;z-index:10000;opacity:0;background-color:#cfcfcf;filter:alpha(opacity=0)}',""]),e.exports=t},ca84:function(e,t,n){var r=n("5135"),o=n("fc6a"),i=n("4d64").indexOf,a=n("d012");e.exports=function(e,t){var n,u=o(e),c=0,s=[];for(n in u)!r(a,n)&&r(u,n)&&s.push(n);for(;t.length>c;)r(u,n=t[c++])&&(~i(s,n)||s.push(n));return s}},cc12:function(e,t,n){var r=n("da84"),o=n("861d"),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},cca6:function(e,t,n){var r=n("23e7"),o=n("60da");r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},ce4e:function(e,t,n){var r=n("da84"),o=n("9112");e.exports=function(e,t){try{o(r,e,t)}catch(n){r[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},d066:function(e,t,n){var r=n("428f"),o=n("da84"),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e])||i(o[e]):r[e]&&r[e][t]||o[e]&&o[e][t]}},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n("c8ba"))},df75:function(e,t,n){var r=n("ca84"),o=n("7839");e.exports=Object.keys||function(e){return r(e,o)}},e893:function(e,t,n){var r=n("5135"),o=n("56ef"),i=n("06cf"),a=n("9bf2");e.exports=function(e,t){for(var n=o(t),u=a.f,c=i.f,s=0;s<n.length;s++){var l=n[s];r(e,l)||u(e,l,c(t,l))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},f10a:function(e,t,n){"use strict";var r=n("8476"),o=n.n(r);o.a},f772:function(e,t,n){var r=n("5692"),o=n("90e3"),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},fb15:function(e,t,n){"use strict";if(n.r(t),"undefined"!=typeof window){var r=window.document.currentScript,o=n("8875");r=o(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:o});var i=r&&r.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/);i&&(n.p=i[1])}var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"ztree",attrs:{id:e.ztreeId}})},u=[],c=(n("99af"),n("cca6"),n("1157"));window.jQuery||(window.jQuery=c),n("91e5");var s={props:{setting:{type:Object,require:!1,default:function(){return{}}},nodes:{type:Array,require:!0,default:function(){return[]}}},data:function(){var e=this;return{ztreeId:"ztree_"+parseInt(1e10*Math.random()),ztreeObj:null,list:[],ztreeSetting:{view:{showIcon:!1},callback:{onAsyncError:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onAsyncError"].concat(n))},onAsyncSuccess:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onAsyncSuccess"].concat(n))},onCheck:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onCheck"].concat(n))},onClick:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onClick"].concat(n))},onCollapse:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onCollapse"].concat(n))},onDblClick:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onDblClick"].concat(n))},onDrag:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onDrag"].concat(n))},onDragMove:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onDragMove"].concat(n))},onDrop:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onDrop"].concat(n))},onExpand:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onExpand"].concat(n))},onMouseDown:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onMouseDown"].concat(n))},onMouseUp:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onMouseUp"].concat(n))},onRemove:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onRemove"].concat(n))},onRename:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onRename"].concat(n))},onRightClick:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onRightClick"].concat(n))}}}}},watch:{nodes:{handler:function(e){var t=this;this.list=e,this.ztreeObj&&this.ztreeObj.destroy(),this.$nextTick(function(){t.ztreeObj=c.fn.zTree.init(c("#"+t.ztreeId),Object.assign({},t.ztreeSetting,t.setting),t.list),t.$emit("onCreated",t.ztreeObj)})},deep:!0,immediate:!0}}},l=s,f=(n("f10a"),function(e,t,n,r,o,i,a,u){var c="function"==typeof e?e.options:e;t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i);var s;if(a?(s=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=s):o&&(s=u?function(){o.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:o),s)if(c.functional){c._injectStyles=s;var l=c.render;c.render=function(e,t){return s.call(t),l(e,t)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,s):[s]}return{exports:e,options:c}}(l,a,u,!1,null,"6e9ae177",null)),d=f.exports;t.default=d},fc6a:function(e,t,n){var r=n("44ad"),o=n("1d80");e.exports=function(e){return r(o(e))}},fdbf:function(e,t,n){var r=n("4930");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}}).default},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"user-container"},[n("div",{on:{click:function(t){return t.preventDefault(),e.showInput(t)}}},[e._l(e.dynamicTags,function(t){return n("el-tag",{key:t,attrs:{closable:!e.disabled,"disable-transitions":!1},on:{close:function(n){return e.handleClose(t)}}},[e._v("\n        "+e._s(t)+"\n      ")])}),e._v(" "),e.inputVisible&&e.allowWrite?n("el-autocomplete",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small","highlight-first-item":!0,"fetch-suggestions":e.querySearchAsync,"select-when-unmatched":!1},on:{select:e.handleSelect,change:e.changeSelect},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;return[n("div",{staticClass:"name"},[e._v(e._s(r.name)+" "+e._s(r.orgName))])]}}],null,!1,3835672382),model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}}):e._e()],2),e._v(" "),n("el-button",{staticClass:"btn-append",attrs:{disabled:e.disabled},nativeOn:{click:function(t){return e.chooseUser(t)}}},[e._v("···")])],1),e._v(" "),n("el-dialog",{staticClass:"abow_dialog",attrs:{title:e.title,visible:e.dialogVisible,width:"800px",top:"0",fullscreen:e.isFullScreen,"append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},open:e.openChooseUserModal}},[n("div",{staticClass:"choose-selector"},[n("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e.tabRoles.includes("orgUser")?n("el-tab-pane",{attrs:{label:"组织",name:"orgUser"}},[n("div",{staticClass:"choose-selector-select-container"},[n("el-autocomplete",{ref:"orgUserSearchInput",staticClass:"search-input",attrs:{"popper-class":"my-autocomplete","fetch-suggestions":e.treeSearch,"select-when-unmatched":!0,placeholder:"快速查找组织与人",clearable:"","validate-event":!1},on:{select:function(t){return e.handleTreeSelect(t,"orgUser")},clear:function(t){return e.handleClearSearchValue("orgUser")}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;return[n("div",[e._v(e._s(r.name))])]}}],null,!1,2186397204),model:{value:e.orgUserSearchValue,callback:function(t){e.orgUserSearchValue=t},expression:"orgUserSearchValue"}},[n("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},on:{click:e.handleIconClick},slot:"prefix"})]),e._v(" "),n("div",{staticClass:"round-border-wrapper"},[n("tree",{ref:"orgUserNodes",staticClass:"round-border-content",attrs:{nodes:e.orgUserNodes,setting:e.setting},on:{onCheck:e.onCheck,onCreated:function(t){return e.handleCreated(t,"orgUserTree")},onClick:function(t,n,r){return e.clickNode(t,n,r,"orgUserTree")}}})],1)],1)]):e._e(),e._v(" "),e.tabRoles.includes("group")?n("el-tab-pane",{attrs:{label:"群组",name:"group"}},[n("div",{staticClass:"choose-selector-select-container"},[n("el-autocomplete",{ref:"groupSearchInput",staticClass:"search-input",staticStyle:{visibility:"hidden"},attrs:{"popper-class":"my-autocomplete","select-when-unmatched":!0,placeholder:"快速查找群组",clearable:"","validate-event":!1},on:{select:function(t){return e.handleTreeSelect(t,"group")},clear:function(t){return e.handleClearSearchValue("group")}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;return[n("div",[e._v(e._s(r.name))])]}}],null,!1,2186397204)},[n("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},on:{click:e.handleIconClick},slot:"prefix"})]),e._v(" "),n("div",{staticClass:"round-border-wrapper"},[n("tree",{ref:"groupNodes",staticClass:"round-border-content",attrs:{nodes:e.groupNodes,setting:e.setting},on:{onCheck:e.onCheck,onCreated:function(t){return e.handleCreated(t,"groupTree")},onClick:function(t,n,r){return e.clickNode(t,n,r,"groupTree")}}})],1)],1)]):e._e(),e._v(" "),e.tabRoles.includes("grade")?n("el-tab-pane",{attrs:{label:"年级",name:"grade"}},[n("div",{staticClass:"choose-selector-select-container"},[n("el-autocomplete",{ref:"gradeSearchInput",staticClass:"search-input",staticStyle:{visibility:"hidden"},attrs:{"popper-class":"my-autocomplete","select-when-unmatched":!0,placeholder:"快速查找年级",clearable:"","validate-event":!1},on:{select:function(t){return e.handleTreeSelect(t,"grade")},clear:function(t){return e.handleClearSearchValue("grade")}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;return[n("div",[e._v(e._s(r.name))])]}}],null,!1,2186397204)},[n("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},on:{click:e.handleIconClick},slot:"prefix"})]),e._v(" "),n("div",{staticClass:"round-border-wrapper"},[n("tree",{ref:"gradeNodes",staticClass:"round-border-content",attrs:{nodes:e.gradeNodes,setting:e.setting},on:{onCheck:e.onCheck,onCreated:function(t){return e.handleCreated(t,"gradeTree")},onClick:function(t,n,r){return e.clickNode(t,n,r,"gradeTree")}}})],1)],1)]):e._e(),e._v(" "),e.tabRoles.includes("myGroup")?n("el-tab-pane",{attrs:{label:"我的群组",name:"myGroup"}},[n("div",{staticClass:"choose-selector-select-container"},[n("el-autocomplete",{ref:"myGroupSearchInput",staticClass:"search-input",staticStyle:{visibility:"hidden"},attrs:{"popper-class":"my-autocomplete","select-when-unmatched":!0,placeholder:"快速查找我的群组",clearable:"","validate-event":!1},on:{select:function(t){return e.handleTreeSelect(t,"myGroup")},clear:function(t){return e.handleClearSearchValue("myGroup")}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;return[n("div",[e._v(e._s(r.name))])]}}],null,!1,2186397204)},[n("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},on:{click:e.handleIconClick},slot:"prefix"})]),e._v(" "),n("div",{staticClass:"round-border-wrapper"},[n("tree",{ref:"myGroupNodes",staticClass:"round-border-content",attrs:{nodes:e.myGroupNodes,setting:e.setting},on:{onCheck:e.onCheck,onCreated:function(t){return e.handleCreated(t,"myGroupTree")},onClick:function(t,n,r){return e.clickNode(t,n,r,"myGroupTree")}}})],1)],1)]):e._e()],1),e._v(" "),n("div",{staticClass:"choose-selector-selected-container"},[n("el-input",{staticClass:"search-input",attrs:{placeholder:"快速查找",clearable:"","validate-event":!1},model:{value:e.selectedSearchValue,callback:function(t){e.selectedSearchValue=t},expression:"selectedSearchValue"}},[n("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})]),e._v(" "),n("el-button",{staticStyle:{position:"absolute",right:"0",top:"0","z-index":"1"},attrs:{type:"text"},on:{click:e.clearAll}},[e._v("全部清空")]),e._v(" "),n("div",{staticClass:"round-border-wrapper selected-box"},[n("div",{staticClass:"round-border-content"},e._l(e.filterSelectedList,function(t,r){return n("p",{key:r,staticClass:"selected-item"},[n("span",[n("i",{class:"icon-"+t.iconSkin}),e._v(" "),n("em",{attrs:{title:t.fullOrgName}},[e._v(e._s(t.name))])]),e._v(" "),n("i",{staticClass:"icon-close-x",on:{click:function(n){return e.delItem(r,t.id)}}})])}),0)])],1)],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.submitSelectedValue}},[e._v("确 定")]),e._v(" "),n("i",{staticClass:"icon-fullscreen"})],1)])],1)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";function r(e){n(26)}var o=n(9),i=n(38),a=n(0),u=r,c=a(o.a,i.a,!1,u,"data-v-2213d36b",null);t.a=c.exports},function(e,t,n){var r=n(27);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(7)("6d461fcd",r,!0,{})},function(e,t,n){t=e.exports=n(6)(!1),t.push([e.i,".xc-file-up[data-v-2213d36b]{line-height:23px}.xc-file-up .upload-demo[data-v-2213d36b]{line-height:40px}.xc-file-up .file-container .file-item[data-v-2213d36b]{padding:8px}.xc-file-up .file-container .file-item img[data-v-2213d36b]{width:46px;height:46px;margin-right:8px}.xc-file-up .file-container .file-item .file-info[data-v-2213d36b]{width:280px}.xc-file-up .file-container .image-item[data-v-2213d36b]{position:relative;float:left;width:94px;height:94px;border:1px solid #eee;margin:10px 110px 10px 0}.xc-file-up .file-container .image-item[data-v-2213d36b] .el-image{width:100%;height:100%}.xc-file-up .file-container .image-item .image-info[data-v-2213d36b]{position:absolute;left:103px;bottom:0;white-space:nowrap}.xc-file-up .file-container .image-item .file-process-bar[data-v-2213d36b]{bottom:-3px}",""])},function(e,t,n){"use strict";function r(e,t){return axios({url:e,method:"get",responseType:"blob"}).then(function(e){var n=new Blob([e.data]);if("msSaveOrOpenBlob"in window.navigator)window.navigator.msSaveOrOpenBlob(n,t);else{var r=window.URL||window.webkitURL,o=r.createObjectURL(n),i=document.createElement("a");i.style.display="none",i.href=o,i.setAttribute("download",t),void 0===i.download&&i.setAttribute("target","_blank"),document.body.appendChild(i),i.click(),document.body.removeChild(i),r.revokeObjectURL(o)}})}t.a=r},function(e,t,n){"use strict";n(11),n(2)},function(e,t,n){"use strict";t.a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},function(e,t,n){"use strict";var r=n(12),o=n(32);Object(r.a)("v3",48,o.a)},function(e,t,n){"use strict";function r(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return o(a(u(e),8*e.length))}function o(e){for(var t=[],n=32*e.length,r="0123456789abcdef",o=0;o<n;o+=8){var i=e[o>>5]>>>o%32&255,a=parseInt(r.charAt(i>>>4&15)+r.charAt(15&i),16);t.push(a)}return t}function i(e){return 14+(e+64>>>9<<4)+1}function a(e,t){e[t>>5]|=128<<t%32,e[i(t)-1]=t;for(var n=1732584193,r=-271733879,o=-1732584194,a=271733878,u=0;u<e.length;u+=16){var s=n,l=r,g=o,h=a;n=f(n,r,o,a,e[u],7,-680876936),a=f(a,n,r,o,e[u+1],12,-389564586),o=f(o,a,n,r,e[u+2],17,606105819),r=f(r,o,a,n,e[u+3],22,-1044525330),n=f(n,r,o,a,e[u+4],7,-176418897),a=f(a,n,r,o,e[u+5],12,1200080426),o=f(o,a,n,r,e[u+6],17,-1473231341),r=f(r,o,a,n,e[u+7],22,-45705983),n=f(n,r,o,a,e[u+8],7,1770035416),a=f(a,n,r,o,e[u+9],12,-1958414417),o=f(o,a,n,r,e[u+10],17,-42063),r=f(r,o,a,n,e[u+11],22,-1990404162),n=f(n,r,o,a,e[u+12],7,1804603682),a=f(a,n,r,o,e[u+13],12,-40341101),o=f(o,a,n,r,e[u+14],17,-1502002290),r=f(r,o,a,n,e[u+15],22,1236535329),n=d(n,r,o,a,e[u+1],5,-165796510),a=d(a,n,r,o,e[u+6],9,-1069501632),o=d(o,a,n,r,e[u+11],14,643717713),r=d(r,o,a,n,e[u],20,-373897302),n=d(n,r,o,a,e[u+5],5,-701558691),a=d(a,n,r,o,e[u+10],9,38016083),o=d(o,a,n,r,e[u+15],14,-660478335),r=d(r,o,a,n,e[u+4],20,-405537848),n=d(n,r,o,a,e[u+9],5,568446438),a=d(a,n,r,o,e[u+14],9,-1019803690),o=d(o,a,n,r,e[u+3],14,-187363961),r=d(r,o,a,n,e[u+8],20,1163531501),n=d(n,r,o,a,e[u+13],5,-1444681467),a=d(a,n,r,o,e[u+2],9,-51403784),o=d(o,a,n,r,e[u+7],14,1735328473),r=d(r,o,a,n,e[u+12],20,-1926607734),n=m(n,r,o,a,e[u+5],4,-378558),a=m(a,n,r,o,e[u+8],11,-2022574463),o=m(o,a,n,r,e[u+11],16,1839030562),r=m(r,o,a,n,e[u+14],23,-35309556),n=m(n,r,o,a,e[u+1],4,-1530992060),a=m(a,n,r,o,e[u+4],11,1272893353),o=m(o,a,n,r,e[u+7],16,-155497632),r=m(r,o,a,n,e[u+10],23,-1094730640),n=m(n,r,o,a,e[u+13],4,681279174),a=m(a,n,r,o,e[u],11,-358537222),o=m(o,a,n,r,e[u+3],16,-722521979),r=m(r,o,a,n,e[u+6],23,76029189),n=m(n,r,o,a,e[u+9],4,-640364487),a=m(a,n,r,o,e[u+12],11,-421815835),o=m(o,a,n,r,e[u+15],16,530742520),r=m(r,o,a,n,e[u+2],23,-995338651),n=p(n,r,o,a,e[u],6,-198630844),a=p(a,n,r,o,e[u+7],10,1126891415),o=p(o,a,n,r,e[u+14],15,-1416354905),r=p(r,o,a,n,e[u+5],21,-57434055),n=p(n,r,o,a,e[u+12],6,1700485571),a=p(a,n,r,o,e[u+3],10,-1894986606),o=p(o,a,n,r,e[u+10],15,-1051523),r=p(r,o,a,n,e[u+1],21,-2054922799),n=p(n,r,o,a,e[u+8],6,1873313359),a=p(a,n,r,o,e[u+15],10,-30611744),o=p(o,a,n,r,e[u+6],15,-1560198380),r=p(r,o,a,n,e[u+13],21,1309151649),n=p(n,r,o,a,e[u+4],6,-145523070),a=p(a,n,r,o,e[u+11],10,-1120210379),o=p(o,a,n,r,e[u+2],15,718787259),r=p(r,o,a,n,e[u+9],21,-343485551),n=c(n,s),r=c(r,l),o=c(o,g),a=c(a,h)}return[n,r,o,a]}function u(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(i(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}function c(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function s(e,t){return e<<t|e>>>32-t}function l(e,t,n,r,o,i){return c(s(c(c(t,e),c(r,i)),o),n)}function f(e,t,n,r,o,i,a){return l(t&n|~t&r,e,t,o,i,a)}function d(e,t,n,r,o,i,a){return l(t&r|n&~r,e,t,o,i,a)}function m(e,t,n,r,o,i,a){return l(t^n^r,e,t,o,i,a)}function p(e,t,n,r,o,i,a){return l(n^(t|~r),e,t,o,i,a)}t.a=r},function(e,t,n){"use strict";function r(e,t,n){e=e||{};var r=e.random||(e.rng||o.a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return Object(i.a)(r)}var o=n(11),i=n(2);t.a=r},function(e,t,n){"use strict";var r=n(12),o=n(35);Object(r.a)("v5",80,o.a)},function(e,t,n){"use strict";function r(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function o(e,t){return e<<t|e>>>32-t}function i(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var i=unescape(encodeURIComponent(e));e=[];for(var a=0;a<i.length;++a)e.push(i.charCodeAt(a))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var u=e.length/4+2,c=Math.ceil(u/16),s=new Array(c),l=0;l<c;++l){for(var f=new Uint32Array(16),d=0;d<16;++d)f[d]=e[64*l+4*d]<<24|e[64*l+4*d+1]<<16|e[64*l+4*d+2]<<8|e[64*l+4*d+3];s[l]=f}s[c-1][14]=8*(e.length-1)/Math.pow(2,32),s[c-1][14]=Math.floor(s[c-1][14]),s[c-1][15]=8*(e.length-1)&4294967295;for(var m=0;m<c;++m){for(var p=new Uint32Array(80),g=0;g<16;++g)p[g]=s[m][g];for(var h=16;h<80;++h)p[h]=o(p[h-3]^p[h-8]^p[h-14]^p[h-16],1);for(var v=n[0],b=n[1],y=n[2],w=n[3],x=n[4],C=0;C<80;++C){var k=Math.floor(C/20),S=o(v,5)+r(k,b,y,w)+x+t[k]+p[C]>>>0;x=w,w=y,y=o(b,30)>>>0,b=v,v=S}n[0]=n[0]+v>>>0,n[1]=n[1]+b>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+w>>>0,n[4]=n[4]+x>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}t.a=i},function(e,t,n){"use strict"},function(e,t,n){"use strict";n(3)},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"xc-file-up"},[e.readonly?e._e():n("el-upload",e._b({staticClass:"upload-demo",attrs:{"file-list":e.fileList,action:"",accept:e.fileAccept,"show-file-list":!1,"before-upload":e.beforeUpload,"http-request":e.fileUpLoad}},"el-upload",e.$attrs,!1),[e._t("default",[n("el-button",{attrs:{type:"primary",size:"small"}},[e._v("上传"),n("i",{staticClass:"el-icon-upload el-icon--right"})])])],2),e._v(" "),e.readonly?e._e():n("em",{staticClass:"size-small"},[e._v(e._s(e.tip))]),e._v(" "),e._t("list",[n("div",{staticClass:"file-container el-row"},["file"===e.uploadType?e._l(e.fileList,function(t,r){return n("div",{key:t.id,staticClass:"file-item"},[n("img",{attrs:{src:e._f("getFileTypeImg")(t.contentType,e.publicPath)}}),e._v(" "),n("div",{staticClass:"file-info"},[n("p",[n("span",{attrs:{title:t.displayName}},[e._v(e._s(t.displayName))]),e._v(" "),n("strong",[e._v(e._s(e._f("getFileSize")(t.fileSize)))])]),e._v(" "),"ready"!==t.status?n("p",[n("a",{staticClass:"color",attrs:{href:"javascript:void(0)"},on:{click:function(n){return e.download(t)}}},[e._v("下载")]),e._v(" "),e.checkFileView(t.displayName)?n("a",{staticClass:"color",attrs:{href:"javascript:void(0)"},on:{click:function(n){return e.previewFile(t)}}},[e._v("预览")]):e._e(),e._v(" "),e.readonly?e._e():n("a",{staticClass:"color",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.delFile(r)}}},[e._v("删除")])]):e._e()]),e._v(" "),-1!==t.progress?n("span",{staticClass:"file-process-bar",style:{width:t.progress+"%"}}):e._e()])}):e._l(e.fileList,function(t,r){return n("div",{key:t.id,staticClass:"image-item"},[n("el-image",{ref:"imageBox",refInFor:!0,attrs:{src:t.url,"preview-src-list":[t.url]}}),e._v(" "),n("div",{staticClass:"image-info"},["ready"!==t.status?n("div",[n("a",{staticClass:"color",attrs:{href:"javascript:void(0)"},on:{click:function(n){return e.download(t)}}},[e._v("下载")]),e._v(" "),n("a",{staticClass:"color",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.previewImage(r)}}},[e._v("预览")]),e._v(" "),e.readonly?e._e():n("a",{staticClass:"color",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.delFile(r)}}},[e._v("删除")])]):e._e()]),e._v(" "),-1!==t.progress?n("span",{staticClass:"file-process-bar",style:{width:t.progress+"%"}}):e._e()],1)})],2)],{fileList:e.fileList})],2)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";var r=n(14),o=n(90),i=n(0),a=i(r.a,o.a,!1,null,null,null);t.a=a.exports},function(e,t,n){(function(t){!function(n){"use strict";function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function i(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}function a(e){var t={},n={},r=[],o={},i={},a=function(t,n,r){var o=e[t];return o?o=Ri(o,/[, ]/,Ri(o.toUpperCase(),/[, ]/)):(o=Ai[t])||(o=Ri(n," ",Ri(n.toUpperCase()," ")),o=Pi(o,r),Ai[t]=o),o};e=e||{};var u=Li(e.schema);!1===e.verify_html&&(e.valid_elements="*[*]");var c=Hi(e.valid_styles),s=Hi(e.invalid_styles,"map"),l=Hi(e.valid_classes,"map"),f=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),d=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),m=a("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),p=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),g=a("non_empty_elements","td th iframe video audio object script pre code",m),h=a("move_caret_before_on_enter_elements","table",g),v=a("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),b=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",v),y=a("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");Mi((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(e){i[e]=new RegExp("</"+e+"[^>]*>","gi")});var w=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},x=function(e){var n,o,i,a,u,c,s,l,f,d,m,p,g,h,v,b,y,x,C=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,k=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,S=/[*?+]/;if(e)for(e=Bi(e,","),t["@"]&&(b=t["@"].attributes,y=t["@"].attributesOrder),n=0,o=e.length;n<o;n++)if(u=C.exec(e[n])){if(h=u[1],f=u[2],v=u[3],l=u[5],p={},g=[],c={attributes:p,attributesOrder:g},"#"===h&&(c.paddEmpty=!0),"-"===h&&(c.removeEmpty=!0),"!"===u[4]&&(c.removeEmptyAttrs=!0),b&&(gt(b,function(e,t){p[t]=e}),g.push.apply(g,y)),l)for(l=Bi(l,"|"),i=0,a=l.length;i<a;i++)if(u=k.exec(l[i])){if(s={},m=u[1],d=u[2].replace(/[\\:]:/g,":"),h=u[3],x=u[4],"!"===m&&(c.attributesRequired=c.attributesRequired||[],c.attributesRequired.push(d),s.required=!0),"-"===m){delete p[d],g.splice(zi(g,d),1);continue}h&&("="===h&&(c.attributesDefault=c.attributesDefault||[],c.attributesDefault.push({name:d,value:x}),s.defaultValue=x),":"===h&&(c.attributesForced=c.attributesForced||[],c.attributesForced.push({name:d,value:x}),s.forcedValue=x),"<"===h&&(s.validValues=Ri(x,"?"))),S.test(d)?(c.attributePatterns=c.attributePatterns||[],s.pattern=w(d),c.attributePatterns.push(s)):(p[d]||g.push(d),p[d]=s)}b||"@"!==f||(b=p,y=g),v&&(c.outputName=f,t[v]=c),S.test(f)?(c.pattern=w(f),r.push(c)):t[f]=c}},C=function(e){t={},r=[],x(e),Mi(u,function(e,t){n[t]=e.children})},k=function(e){var r=/^(~)?(.+)$/;e&&(Ai.text_block_elements=Ai.block_elements=null,Mi(Bi(e,","),function(e){var i=r.exec(e),a="~"===i[1],u=a?"span":"div",c=i[2];if(n[c]=n[u],o[c]=u,a||(b[c.toUpperCase()]={},b[c]={}),!t[c]){var s=t[u];s=Pi({},s),delete s.removeEmptyAttrs,delete s.removeEmpty,t[c]=s}Mi(n,function(e,t){e[u]&&(n[t]=e=Pi({},n[t]),e[c]=e[u])})}))},S=function(t){var r=/^([+\-]?)([A-Za-z0-9_\-\.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)\]$/;Ai[e.schema]=null,t&&Mi(Bi(t,","),function(e){var t,o,i=r.exec(e);i&&(o=i[1],t=o?n[i[2]]:n[i[2]]={"#comment":{}},t=n[i[2]],Mi(Bi(i[3],"|"),function(e){"-"===o?delete t[e]:t[e]={}}))})},T=function(e){var n,o=t[e];if(o)return o;for(n=r.length;n--;)if(o=r[n],o.pattern.test(e))return o};e.valid_elements?C(e.valid_elements):(Mi(u,function(e,r){t[r]={attributes:e.attributes,attributesOrder:e.attributesOrder},n[r]=e.children}),"html5"!==e.schema&&Mi(Bi("strong/b em/i"),function(e){e=Bi(e,"/"),t[e[1]].outputName=e[0]}),Mi(Bi("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){t[e]&&(t[e].removeEmpty=!0)}),Mi(Bi("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){t[e].paddEmpty=!0}),Mi(Bi("span"),function(e){t[e].removeEmptyAttrs=!0})),k(e.custom_elements),S(e.valid_children),x(e.extended_valid_elements),S("+ol[ul|ol],+ul[ul|ol]"),Mi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,n){t[n]&&(t[n].parentsRequired=Bi(e))}),e.invalid_elements&&Mi(Ii(e.invalid_elements),function(e){t[e]&&delete t[e]}),T("span")||x("span[!data-mce-type|*]");var N=function(){return c},E=function(){return s},O=function(){return l},_=function(){return p},A=function(){return b},D=function(){return v},R=function(){return y};return{children:n,elements:t,getValidStyles:N,getValidClasses:O,getBlockElements:A,getInvalidStyles:E,getShortEndedElements:function(){return m},getTextBlockElements:D,getTextInlineElements:R,getBoolAttrs:_,getElementRule:T,getSelfClosingElements:function(){return d},getNonEmptyElements:function(){return g},getMoveCaretBeforeOnEnterElements:function(){return h},getWhiteSpaceElements:function(){return f},getSpecialElements:function(){return i},isValidChild:function(e,t){var r=n[e.toLowerCase()];return!(!r||!r[t.toLowerCase()])},isValid:function(e,t){var n,r,o=T(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},getCustomElements:function(){return o},addValidElements:x,setValidElements:C,addCustomElements:k,addValidChildren:S}}function u(){function e(n,r){return t.push(n+" ")>F.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function c(e){return e[na]=!0,e}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||fa)-(~e.sourceIndex||fa);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function f(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function d(e){return c(function(t){return t=+t,c(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function m(e){return e&&typeof e.getElementsByTagName!==la&&e}function p(){}function g(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=ia++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var u,c,s=[oa,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if(c=t[na]||(t[na]={}),(u=c[r])&&u[0]===oa&&u[1]===i)return s[2]=u[2];if(c[r]=s,s[2]=e(t,n,a))return!0}}}function v(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function b(e,t,n){for(var r=0,o=t.length;r<o;r++)La(e,t[r],n);return n}function y(e,t,n,r,o){for(var i,a=[],u=0,c=e.length,s=null!=t;u<c;u++)(i=e[u])&&(n&&!n(i,r,o)||(a.push(i),s&&t.push(u)));return a}function w(e,t,n,r,o,i){return r&&!r[na]&&(r=w(r)),o&&!o[na]&&(o=w(o,i)),c(function(i,a,u,c){var s,l,f,d=[],m=[],p=a.length,g=i||b(t||"*",u.nodeType?[u]:u,[]),h=!e||!i&&t?g:y(g,d,e,u,c),v=n?o||(i?e:p||r)?[]:a:h;if(n&&n(h,v,u,c),r)for(s=y(v,m),r(s,[],u,c),l=s.length;l--;)(f=s[l])&&(v[m[l]]=!(h[m[l]]=f));if(i){if(o||e){if(o){for(s=[],l=v.length;l--;)(f=v[l])&&s.push(h[l]=f);o(null,v=[],s,c)}for(l=v.length;l--;)(f=v[l])&&(s=o?ba.call(i,f):d[l])>-1&&(i[s]=!(a[s]=f))}}else v=y(v===a?v.splice(p,v.length):v),o?o(null,a,v,c):ha.apply(a,v)})}function x(e){for(var t,n,r,o=e.length,i=F.relative[e[0].type],a=i||F.relative[" "],u=i?1:0,c=h(function(e){return e===t},a,!0),s=h(function(e){return ba.call(t,e)>-1},a,!0),l=[function(e,n,r){return!i&&(r||n!==W)||((t=n).nodeType?c(e,n,r):s(e,n,r))}];u<o;u++)if(n=F.relative[e[u].type])l=[h(v(l),n)];else{if(n=F.filter[e[u].type].apply(null,e[u].matches),n[na]){for(r=++u;r<o&&!F.relative[e[r].type];r++);return w(u>1&&v(l),u>1&&g(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(ka,"$1"),n,u<r&&x(e.slice(u,r)),r<o&&x(e=e.slice(r)),r<o&&g(e))}l.push(n)}return v(l)}function C(e,t){var n=t.length>0,r=e.length>0,o=function(o,i,a,u,c){var s,l,f,d=0,m="0",p=o&&[],g=[],h=W,v=o||r&&F.find.TAG("*",c),b=oa+=null==h?1:Math.random()||.1,w=v.length;for(c&&(W=i!==X&&i);m!==w&&null!=(s=v[m]);m++){if(r&&s){for(l=0;f=e[l++];)if(f(s,i,a)){u.push(s);break}c&&(oa=b)}n&&((s=!f&&s)&&d--,o&&p.push(s))}if(d+=m,n&&m!==d){for(l=0;f=t[l++];)f(p,g,i,a);if(o){if(d>0)for(;m--;)p[m]||g[m]||(g[m]=pa.call(u));g=y(g)}ha.apply(u,g),c&&!o&&g.length>0&&d+t.length>1&&La.uniqueSort(u)}return c&&(oa=b,W=h),p};return n?c(o):o}function k(e,t){void 0===t&&(t={});var r=0,o={},i=$n.fromDom(e),a=mr(i),u=t.maxLoadTime||5e3,c=function(e){t.referrerPolicy=e},s=function(e){Br(Dr(i),e)},l=function(i,c,l){var f,d,m,p=function(e){m.status=e,m.passed=[],m.failed=[],f&&(f.onload=null,f.onerror=null,f=null)},g=function(){for(var e=m.passed,t=e.length;t--;)e[t]();p(2)},h=function(){for(var e=m.failed,t=e.length;t--;)e[t]();p(3)},v=function(e,t){e()||((new Date).getTime()-w<u?qu.setTimeout(t):h())},b=function(){v(function(){for(var t,n,r=e.styleSheets,o=r.length;o--;)if(t=r[o],(n=t.ownerNode?t.ownerNode:t.owningElement)&&n.id===f.id)return g(),!0},b)},y=function(){v(function(){try{var e=d.sheet.cssRules;return g(),!!e}catch(e){}},y)};if(i=Hn._addCacheSuffix(i),o[i]?m=o[i]:(m={passed:[],failed:[]},o[i]=m),c&&m.passed.push(c),l&&m.failed.push(l),1!==m.status){if(2===m.status)return void g();if(3===m.status)return void h();m.status=1,f=a.dom().createElement("link"),f.rel="stylesheet",f.type="text/css",f.id="u"+r++,f.async=!1,f.defer=!1;var w=(new Date).getTime();if(t.contentCssCors&&(f.crossOrigin="anonymous"),t.referrerPolicy&&So($n.fromDom(f),"referrerpolicy",t.referrerPolicy),"onload"in f&&!function(){var e=n.navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&&parseInt(e[1],10)<536)}())f.onload=b,f.onerror=h;else{if(n.navigator.userAgent.indexOf("Firefox")>0)return d=a.dom().createElement("style"),d.textContent='@import "'+i+'"',y(),void s($n.fromDom(d));b()}s($n.fromDom(f)),f.href=i}},f=function(e){return Eu.nu(function(t){l(e,ge(t,ve(Mu.value(e))),ge(t,ve(Mu.error(e))))})};return{load:l,loadAll:function(e,t,n){_u(Ge(e,f)).get(function(e){var r=Xe(e,function(e){return e.isValue()});r.fail.length>0?n(r.fail.map(zu)):t(r.pass.map(zu))})},_setReferrerPolicy:c}}function S(e,t){var r=this;void 0===t&&(t={});var o={},i=n.window,u={},c=0,s=$u.forElement($n.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),l=[],f=t.schema?t.schema:a({}),d=Ui({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),m=t.ownEvents?new ta:ta.Event,p=f.getBlockElements(),g=pu.overrideDefaults(function(){return{context:e,element:Ee.getRoot()}}),h=function(e){if("string"==typeof e)return!!p[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!p[e.nodeName])}return!1},v=function(t){return t&&e&&Re(t)?e.getElementById(t):t},b=function(e){return g("string"==typeof e?v(e):e)},y=function(e,t,n){var r,o,i=b(e);return i.length&&(r=Oe[t],o=r&&r.get?r.get(i,t):i.attr(t)),void 0===o&&(o=n||""),o},w=function(e){var t=v(e);return t?t.attributes:[]},x=function(e,n,r){""===r&&(r=null);var o=b(e),i=o.attr(n);if(o.length){var a=Oe[n];a&&a.set?a.set(o,r,n):o.attr(n,r),i!==r&&t.onSetAttrib&&t.onSetAttrib({attrElm:o,attrName:n,attrValue:r})}},C=function(t,n){if(!Ku||1!==t.nodeType||n)return t.cloneNode(n);var r=e.createElement(t.nodeName);return Wu(w(t),function(e){x(r,e.nodeName,y(t,e.nodeName))}),r},k=function(){return t.root_element||e.body},T=function(e){var t=no(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},N=function(t,n){return Fo(e.body,v(t),n)},E=function(e,n,r){var o=Re(n)?b(e).css(n,r):b(e).css(n);t.update_styles&&Qu(d,o)},O=function(e,n){var r=b(e).css(n);t.update_styles&&Qu(d,r)},_=function(e,t,n){var r=b(e);return n?r.css(t):(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"float"===t&&(t=Nn.browser.isIE()?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[t]:void 0)},A=function(e){var t,n;return e=v(e),t=_(e,"width"),n=_(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},D=function(e){e=v(e);var t=N(e),n=A(e);return{x:t.x,y:t.y,w:n.w,h:n.h}},R=function(e,t){var n;if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(Yu.test(t)){var r=t.toLowerCase().split(/,/),o=e.nodeName.toLowerCase();for(n=r.length-1;n>=0;n--)if(r[n]===o)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var i=Array.isArray(e)?e:[e];return La(t,i[0].ownerDocument||i[0],null,i).length>0},M=function(e,t,n,r){var o,i=[],a=v(e);for(r=void 0===r,n=n||("BODY"!==k().nodeName?k().parentNode:null),Hn.is(t,"string")&&(o=t,t="*"===t?function(e){return 1===e.nodeType}:function(e){return R(e,o)});a&&a!==n&&a.nodeType&&9!==a.nodeType;){if(!t||"function"==typeof t&&t(a)){if(!r)return[a];i.push(a)}a=a.parentNode}return r?i:null},P=function(e,t,n){var r=M(e,t,n,!1);return r&&r.length>0?r[0]:null},I=function(e,t,n){var r=t;if(e)for("string"==typeof t&&(r=function(e){return R(e,t)}),e=e[n];e;e=e[n])if("function"==typeof r&&r(e))return e;return null},z=function(e,t){return I(e,t,"nextSibling")},B=function(e,t){return I(e,t,"previousSibling")},L=function(n,r){return La(n,v(r)||t.root_element||e,[])},H=function(e,t,n){var o,i="string"==typeof e?v(e):e;if(!i)return!1;if(Hn.isArray(i)&&(i.length||0===i.length))return o=[],Wu(i,function(e,r){e&&("string"==typeof e&&(e=v(e)),o.push(t.call(n,e,r)))}),o;var a=n||r;return t.call(a,i)},F=function(e,t){b(e).each(function(e,n){Wu(t,function(e,t){x(n,t,e)})})},j=function(e,t){var n=b(e);Ku?n.each(function(e,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(e){pu("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}}):n.html(t)},V=function(t,n,r,o,i){return H(t,function(t){var a="string"==typeof n?e.createElement(n):n;return F(a,r),o&&("string"!=typeof o&&o.nodeType?a.appendChild(o):"string"==typeof o&&j(a,o)),i?a:t.appendChild(a)})},U=function(t,n,r){return V(e.createElement(t),t,n,r,!0)},q=_i.decode,$=_i.encodeAllRaw,W=function(e,t,n){var r,o="";o+="<"+e;for(r in t)t.hasOwnProperty(r)&&null!==t[r]&&void 0!==t[r]&&(o+=" "+r+'="'+$(t[r])+'"');return void 0!==n?o+">"+n+"</"+e+">":o+" />"},G=function(t){var n,r=e.createElement("div"),o=e.createDocumentFragment();for(o.appendChild(r),t&&(r.innerHTML=t);n=r.firstChild;)o.appendChild(n);return o.removeChild(r),o},K=function(e,t){var n=b(e);return t?n.each(function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():n.remove(),n.length>1?n.toArray():n[0]},Y=function(e){return H(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},X=function(e){return d.parse(e)},J=function(e,t){return d.serialize(e,t)},Q=function(t){var r,i;if(Ee!==S.DOM&&e===n.document){if(o[t])return;o[t]=!0}i=e.getElementById("mceDefaultStyles"),i||(i=e.createElement("style"),i.id="mceDefaultStyles",i.type="text/css",r=e.getElementsByTagName("head")[0],r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i)),i.styleSheet?i.styleSheet.cssText+=t:i.appendChild(e.createTextNode(t))},Z=function(r){if(Ee!==S.DOM&&e===n.document)return void S.DOM.loadCSS(r);r||(r="");var o=e.getElementsByTagName("head")[0];Wu(r.split(","),function(e){if(e=Hn._addCacheSuffix(e),!u[e]){u[e]=!0;var n=U("link",zt(zt({rel:"stylesheet",type:"text/css",href:e},t.contentCssCors?{crossOrigin:"anonymous"}:{}),t.referrerPolicy?{referrerPolicy:t.referrerPolicy}:{}));o.appendChild(n)}})},ee=function(e,t,n){b(e).toggleClass(t,n).each(function(){""===this.className&&pu(this).attr("class",null)})},te=function(e,t){b(e).addClass(t)},ne=function(e,t){ee(e,t,!1)},re=function(e,t){return b(e).hasClass(t)},oe=function(e){b(e).show()},ie=function(e){b(e).hide()},ae=function(e){return"none"===b(e).css("display")},ue=function(e){return(e||"mce_")+c++},ce=function(e){var t="string"==typeof e?v(e):e;return io(t)?t.outerHTML:pu("<div></div>").append(pu(t).clone()).html()},se=function(e,t){b(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}K(pu(this).html(t),!0)})},le=function(e,t){var n=v(t);return H(e,function(e){var t=n.parentNode,r=n.nextSibling;return r?t.insertBefore(e,r):t.appendChild(e),e})},fe=function(e,t,n){return H(t,function(t){return Hn.is(t,"array")&&(e=e.cloneNode(!0)),n&&Wu(Gu(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},de=function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=U(t),Wu(w(e),function(t){x(n,t.nodeName,y(e,t.nodeName))}),fe(n,e,!0)),n||e},me=function(e,t){for(var n,r=e;r;){for(n=t;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},pe=function(e){return d.toHex(Hn.trim(e))},ge=function(e){if(io(e)){var t="a"===e.nodeName.toLowerCase()&&!y(e,"href")&&y(e,"id");if(y(e,"name")||y(e,"data-mce-bookmark")||t)return!0}return!1},he=function(e,t){var n,r,o=0;if(ge(e))return!1;if(e=e.firstChild){var i=new gu(e,e.parentNode),a=f?f.getWhiteSpaceElements():{};t=t||(f?f.getNonEmptyElements():null);do{if(n=e.nodeType,io(e)){var u=e.getAttribute("data-mce-bogus");if(u){e=i.next("all"===u);continue}if(r=e.nodeName.toLowerCase(),t&&t[r]){if("br"===r){o++,e=i.next();continue}return!1}if(ge(e))return!1}if(8===n)return!1;if(3===n&&!Xu.test(e.nodeValue))return!1;if(3===n&&e.parentNode&&a[e.parentNode.nodeName]&&Xu.test(e.nodeValue))return!1;e=i.next()}while(e)}return o<=1},ve=function(){return e.createRange()},be=function(e,t,n){var r,o,i,a=ve();if(e&&t)return a.setStart(e.parentNode,Zu(e)),a.setEnd(t.parentNode,Zu(t)),r=a.extractContents(),a=ve(),a.setStart(t.parentNode,Zu(t)+1),a.setEnd(e.parentNode,Zu(e)+1),o=a.extractContents(),i=e.parentNode,i.insertBefore(fi(Ee,r),e),n?i.insertBefore(n,e):i.insertBefore(t,e),i.insertBefore(fi(Ee,o),e),K(e),n||t},ye=function(n,r,o,a){if(Hn.isArray(n)){for(var u=n.length,c=[];u--;)c[u]=ye(n[u],r,o,a);return c}return!t.collect||n!==e&&n!==i||l.push([n,r,o,a]),m.bind(n,r,o,a||Ee)},we=function(t,n,r){var o;if(Hn.isArray(t)){o=t.length;for(var a=[];o--;)a[o]=we(t[o],n,r);return a}if(l.length>0&&(t===e||t===i))for(o=l.length;o--;){var u=l[o];t!==u[0]||n&&n!==u[1]||r&&r!==u[2]||m.unbind(u[0],u[1],u[2])}return m.unbind(t,n,r)},xe=function(e,t,n){return m.fire(e,t,n)},Ce=function(e){if(e&&io(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},ke=function(e){for(var t=k(),n=null;e&&e!==t&&null===(n=Ce(e));e=e.parentNode);return n},Se=function(){if(l.length>0)for(var e=l.length;e--;){var t=l[e];m.unbind(t[0],t[1],t[2])}La.setDocument&&La.setDocument()},Te=function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},Ne=function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},Ee={doc:e,settings:t,win:i,files:u,stdMode:!0,boxModel:!0,styleSheetLoader:s,boundEvents:l,styles:d,schema:f,events:m,isBlock:h,$:g,$$:b,root:null,clone:C,getRoot:k,getViewPort:T,getRect:D,getSize:A,getParent:P,getParents:M,get:v,getNext:z,getPrev:B,select:L,is:R,add:V,create:U,createHTML:W,createFragment:G,remove:K,setStyle:E,getStyle:_,setStyles:O,removeAllAttribs:Y,setAttrib:x,setAttribs:F,getAttrib:y,getPos:N,parseStyle:X,serializeStyle:J,addStyle:Q,loadCSS:Z,addClass:te,removeClass:ne,hasClass:re,toggleClass:ee,show:oe,hide:ie,isHidden:ae,uniqueId:ue,setHTML:j,getOuterHTML:ce,setOuterHTML:se,decode:q,encode:$,insertAfter:le,replace:fe,rename:de,findCommonAncestor:me,toHex:pe,run:H,getAttribs:w,isEmpty:he,createRng:ve,nodeIndex:Zu,split:be,bind:ye,unbind:we,fire:xe,getContentEditable:Ce,getContentEditableParent:ke,destroy:Se,isChildOf:Te,dumpRng:Ne},Oe=Ju(d,t,function(){return Ee});return Ee}function T(){var e=this,t=[],n={},r={},o=[],i=function(e,t){var n=Je(o,function(n){return n.name===e&&n.state===t});Ke(n,function(e){return e.callback()})},a=function(e){if(r[e])return r[e].instance},u=function(e){var t;return r[e]&&(t=r[e].dependencies),t||[]},c=function(e,t){!1!==T.languageLoad&&g(e,function(){var r=bc.getCode(),o=","+(t||"")+",";!r||t&&-1===o.indexOf(","+r+",")||oc.ScriptLoader.add(n[e]+"/langs/"+r+".js")},"loaded")},s=function(e,n,o){var a=n;return t.push(a),r[e]={instance:a,dependencies:o},i(e,"added"),a},l=function(e){delete n[e],delete r[e]},f=function(e,t){return"object"==typeof t?t:"string"==typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},d=function(t,n){var r=e.urls[t];Ke(n,function(e){oc.ScriptLoader.add(r+"/"+e)})},m=function(e,t,n,r){var o=u(e);Ke(o,function(e){var n=f(t,e);p(n.resource,n,void 0,void 0)}),n&&(r?n.call(r):n.call(oc))},p=function(e,t,o,a,u){if(!n[e]){var c="string"==typeof t?t:t.prefix+t.resource+t.suffix;0!==c.indexOf("/")&&-1===c.indexOf("://")&&(c=T.baseURL+"/"+c),n[e]=c.substring(0,c.lastIndexOf("/"));var s=function(){i(e,"loaded"),m(e,t,o,a)};r[e]?s():oc.ScriptLoader.add(c,s,a,u)}},g=function(e,t,i){void 0===i&&(i="added"),Tt(r,e)&&"added"===i?t():Tt(n,e)&&"loaded"===i?t():o.push({name:e,state:i,callback:t})};return{items:t,urls:n,lookup:r,_listeners:o,get:a,dependencies:u,requireLangPack:c,add:s,remove:l,createUrl:f,addComponents:d,load:p,waitFor:g}}function N(e,t,n,r,o){return e(n,r)?Ee.some(n):Le(o)&&o(n)?Ee.none():t(n,r,o)}function E(e,t,n){var r=function(){return ll(e),0===t},o=function(){return ll(e)?t>=e.data.length:t>=e.childNodes.length},i=function(){var n=pl(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},a=function(){return n||(n=kl(E(e,t))),n},u=function(){return a().length>0},c=function(n){return n&&e===n.container()&&t===n.offset()},s=function(n){return ml(e,n?t-1:t)};return{container:ve(e),offset:ve(t),toRange:i,getClientRects:a,isVisible:u,isAtStart:r,isAtEnd:o,isEqual:c,getNode:s}}function O(e,t){void 0===t&&(t=a());var n=function(){};e=e||{},!1!==e.fix_self_closing&&(e.fix_self_closing=!0);var r=e.comment?e.comment:n,o=e.cdata?e.cdata:n,i=e.text?e.text:n,u=e.start?e.start:n,c=e.end?e.end:n,s=e.pi?e.pi:n,l=e.doctype?e.doctype:n,f=function(n,a){void 0===a&&(a="html");for(var f,d,m,p,g,h,v,b,y,w,x,C,k,S,T,N,E,O,_,A,D=n.html,R=0,M=[],P=0,I=_i.decode,z=Hn.makeMap("src,href,data,background,formaction,poster,xlink:href"),B=/((java|vb)script|mhtml):/i,L="html"===a?0:1,H=function(e){var t,n;for(t=M.length;t--&&M[t].name!==e;);if(t>=0){for(n=M.length-1;n>=t;n--)e=M[n],e.valid&&c(e.name);M.length=t}},F=function(e,t){return i(xg(e,n),t)},j=function(t){""!==t&&(">"===t.charAt(0)&&(t=" "+t),e.allow_conditional_comments||"[if"!==t.substr(0,3).toLowerCase()||(t=" "+t),r(xg(t,n)))},V=function(e){return St(n.uris,e).getOr(e)},U=function(e,t){var n=e||"",r=!nn(n,"--"),o=Eg(D,r,t);return e=D.substr(t,o-t),j(r?n+e:e),o+1},q=(function(t,n,r,o,i){var a,u,c=/[\s\u0000-\u001F]+/g;if(n=n.toLowerCase(),r=V(n in Y?n:I(r||o||i||"")),X&&!b&&!1===kg(n)){if(!(a=S[n])&&T){for(u=T.length;u--&&(a=T[u],!a.pattern.test(n)););-1===u&&(a=null)}if(!a)return;if(a.validValues&&!(r in a.validValues))return}if(z[n]&&!e.allow_script_urls){var s=r.replace(c,"");try{s=decodeURIComponent(s)}catch(e){s=unescape(s)}if(B.test(s))return;if(Sg(e,s))return}b&&(n in z||0===n.indexOf("on"))||(p.map[n]=r,p.push({name:n,value:r}))}),$=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),W=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,G=t.getShortEndedElements(),K=e.self_closing_elements||t.getSelfClosingElements(),Y=t.getBoolAttrs(),X=e.validate,J=e.remove_internals,Q=e.fix_self_closing,Z=t.getSpecialElements(),ee=D+">";f=$.exec(ee);){var te=f[0];if(R<f.index&&F(I(D.substr(R,f.index-R))),d=f[7])d=d.toLowerCase(),":"===d.charAt(0)&&(d=d.substr(1)),H(d);else if(d=f[8]){if(f.index+te.length>D.length){F(I(D.substr(f.index))),R=f.index+te.length;continue}d=d.toLowerCase(),":"===d.charAt(0)&&(d=d.substr(1)),y=d in G,Q&&K[d]&&M.length>0&&M[M.length-1].name===d&&H(d);var ne=Og(W,f[9]);if(null!==ne){if("all"===ne){R=Tg(t,D,$.lastIndex),$.lastIndex=R;continue}x=!1}if(!X||(w=t.getElementRule(d))){if(x=!0,X&&(S=w.attributes,T=w.attributePatterns),(k=f[9])?(b=-1!==k.indexOf("data-mce-type"),b&&J&&(x=!1),p=[],p.map={},k.replace(W,q)):(p=[],p.map={}),X&&!b){if(N=w.attributesRequired,E=w.attributesDefault,O=w.attributesForced,_=w.removeEmptyAttrs,_&&!p.length&&(x=!1),O)for(g=O.length;g--;)C=O[g],v=C.name,A=C.value,"{$uid}"===A&&(A="mce_"+P++),p.map[v]=A,p.push({name:v,value:A});if(E)for(g=E.length;g--;)C=E[g],(v=C.name)in p.map||(A=C.value,"{$uid}"===A&&(A="mce_"+P++),p.map[v]=A,p.push({name:v,value:A}));if(N){for(g=N.length;g--&&!(N[g]in p.map););-1===g&&(x=!1)}if(C=p.map["data-mce-bogus"]){if("all"===C){R=Tg(t,D,$.lastIndex),$.lastIndex=R;continue}x=!1}}x&&u(d,p,y)}else x=!1;if(m=Z[d]){m.lastIndex=R=f.index+te.length,(f=m.exec(D))?(x&&(h=D.substr(R,f.index-R)),R=f.index+f[0].length):(h=D.substr(R),R=D.length),x&&(h.length>0&&F(h,!0),c(d)),$.lastIndex=R;continue}y||(k&&k.indexOf("/")===k.length-1?x&&c(d):M.push({name:d,valid:x}))}else if(d=f[1])j(d);else if(d=f[2]){var re=1===L||e.preserve_cdata||M.length>0&&t.isValidChild(M[M.length-1].name,"#cdata");if(!re){R=U("",f.index+2),$.lastIndex=R;continue}o(d)}else if(d=f[3])l(d);else{if((d=f[4])||"<!"===te){R=U(d,f.index+te.length),$.lastIndex=R;continue}if(d=f[5]){if(1!==L){R=U("?",f.index+2),$.lastIndex=R;continue}s(d,f[6])}}R=f.index+te.length}for(R<D.length&&F(I(D.substr(R))),g=M.length-1;g>=0;g--)d=M[g],d.valid&&c(d.name)};return{parse:function(e,t){void 0===t&&(t="html"),f(wg(e),t)}}}function _(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}}function A(e){var t=[],n=function(){var t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():_()},r=function(){return Ee.from(t[0])},o=function(e,t){return!(e.type!==t.type||e.text!==t.text||e.progressBar||e.timeout||t.progressBar||t.timeout)},i=function(){t.length>0&&n().reposition(t)},a=function(e){t.push(e)},u=function(e){nt(t,function(t){return t===e}).each(function(e){t.splice(e,1)})},c=function(r){if(!e.removed&&Qk(e))return tt(t,function(e){return o(n().getArgs(e),r)}).getOrThunk(function(){e.editorManager.setActive(e);var t=n().open(r,function(){u(t),i()});return a(t),i(),t})},s=function(){r().each(function(e){n().close(e),u(e),i()})},l=function(){return t};return function(e){e.on("SkinLoaded",function(){var t=Gf(e);t&&c({text:t,type:"warning",timeout:0})}),e.on("ResizeEditor ResizeWindow NodeChange",function(){qu.requestAnimationFrame(i)}),e.on("remove",function(){Ke(t.slice(),function(e){n().close(e)})})}(e),{open:c,close:s,getNotifications:l}}function D(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}function R(e){return{getBookmark:r(tp,e),moveToBookmark:r(np,e)}}function M(e,t){var n,r;return{selectorChangedWithUnbind:function(o,i){return n||(n={},r={},t.on("NodeChange",function(t){var o=t.element,i=e.getParents(o,null,e.getRoot()),a={};Hn.each(n,function(t,n){Hn.each(i,function(o){if(e.is(o,n))return r[n]||(Hn.each(t,function(e){e(!0,{node:o,selector:n,parents:i})}),r[n]=t),a[n]=t,!1})}),Hn.each(r,function(e,t){a[t]||(delete r[t],Hn.each(e,function(e){e(!1,{node:o,selector:t,parents:i})}))})})),n[o]||(n[o]=[]),n[o].push(i),{unbind:function(){DT(n,o,i),DT(r,o,i)}}}}}function P(e,t){var n={};return{findAll:function(r,o){o||(o=ve(!0));var i=Je(XT(r),function(t){var n=t.src;return!!Nn.fileApi&&(!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!n||n===Nn.transparentSrc)&&(0===n.indexOf("blob:")?!e.isUploaded(n)&&o(t):0===n.indexOf("data:")&&o(t)))))}),a=Ge(i,function(e){if(void 0!==n[e.src])return new Bu(function(t){n[e.src].then(function(n){if("string"==typeof n)return n;t({image:e,blobInfo:n.blobInfo})})});var r=new Bu(function(n,r){YT(t,e,n,r)}).then(function(e){return delete n[e.image.src],e}).catch(function(t){return delete n[e.src],t});return n[e.src]=r,r});return Bu.all(a)}}}function I(e,t){var r={},o=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t},i=function(e,r,i,a){var u=new n.XMLHttpRequest;u.open("POST",t.url),u.withCredentials=t.credentials,u.upload.onprogress=function(e){a(e.loaded/e.total*100)},u.onerror=function(){i("Image upload failed due to a XHR Transport error. Code: "+u.status)},u.onload=function(){if(u.status<200||u.status>=300)return void i("HTTP Error: "+u.status);var e=JSON.parse(u.responseText);if(!e||"string"!=typeof e.location)return void i("Invalid JSON: "+u.responseText);r(o(t.basePath,e.location))};var c=new n.FormData;c.append("file",e.blob(),e.filename()),u.send(c)},a=function(){return new Bu(function(e){e([])})},u=function(e,t){return{url:t,blobInfo:e,status:!0}},c=function(e,t){return{url:"",blobInfo:e,status:!1,error:t}},s=function(e,t){Hn.each(r[e],function(e){e(t)}),delete r[e]},l=function(t,n,r){return e.markPending(t.blobUri()),new Bu(function(o){var i,a,l=function(){};try{var f=function(){i&&(i.close(),a=l)},d=function(n){f(),e.markUploaded(t.blobUri(),n),s(t.blobUri(),u(t,n)),o(u(t,n))},m=function(n){f(),e.removeFailed(t.blobUri()),s(t.blobUri(),c(t,n)),o(c(t,n))};a=function(e){e<0||e>100||(i||(i=r()),i.progressBar.value(e))},n(t,d,m,a)}catch(e){o(c(t,e.message))}})},f=function(e){return e===i},d=function(e){var t=e.blobUri();return new Bu(function(e){r[t]=r[t]||[],r[t].push(e)})},m=function(n,r){return n=Hn.grep(n,function(t){return!e.isUploaded(t.blobUri())}),Bu.all(Hn.map(n,function(n){return e.isPending(n.blobUri())?d(n):l(n,t.handler,r)}))},p=function(e,n){return!t.url&&f(t.handler)?a():m(e,n)};return!1===Le(t.handler)&&(t.handler=i),{upload:p}}function z(){var e={},t=function(e,t){return{status:e,resultUri:t}},n=function(t){return t in e};return{hasBlobUri:n,getResultUri:function(t){var n=e[t];return n?n.resultUri:null},isPending:function(t){return!!n(t)&&1===e[t].status},isUploaded:function(t){return!!n(t)&&2===e[t].status},markPending:function(n){e[n]=t(1,null)},markUploaded:function(n,r){e[n]=t(2,r)},removeFailed:function(t){delete e[t]},destroy:function(){e={}}}}function B(e){var t={},n=function(e){return e?t[e]:t},r=function(e){return Tt(t,e)},o=function(e,n){e&&("string"!=typeof e?Hn.each(e,function(e,t){o(t,e)}):(Pe(n)||(n=[n]),Hn.each(n,function(e){void 0===e.deep&&(e.deep=!e.selector),void 0===e.split&&(e.split=!e.selector||e.inline),void 0===e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),t[e]=n))},i=function(e){return e&&t[e]&&delete t[e],t};return o(BN(e.dom)),o(Jf(e)),{get:n,has:r,register:o,unregister:i}}function L(e){return{walk:function(t,n){return Hp(e,t,n)},split:Ly,normalize:function(t){return hT(e,t).fold(ve(!1),function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0})}}}var H,F,j,V,U,q,$,W,G,K,Y,X,J,Q,Z,ee,te,ne,re=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},oe=function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)},ie=function(e,t){return Array.prototype.slice.call(e).sort(t)},ae=function(e,t){return ue(function(n,r){return e.eq(t(n),t(r))})},ue=function(e){return{eq:e}},ce=ue(function(e,t){return e===t}),se=ce,le=function(e){return ue(function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e.eq(t[o],n[o]))return!1;return!0})},fe=function(e,t){return ae(le(e),function(e){return ie(e,t)})},de=function(e){return ue(function(t,n){var r=Object.keys(t),o=Object.keys(n);if(!fe(se).eq(r,o))return!1;for(var i=r.length,a=0;a<i;a++){var u=r[a];if(!e.eq(t[u],n[u]))return!1}return!0})},me=ue(function(e,t){if(e===t)return!0;var n=re(e);return n===re(t)&&(oe(n)?e===t:"array"===n?le(me).eq(e,t):"object"===n&&de(me).eq(e,t))}),pe=function(){},ge=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},he=function(e,t){return function(n){return e(t(n))}},ve=function(e){return function(){return e}},be=function(e){return e},ye=function(e){return function(t){return!e(t)}},we=function(e){return function(){throw new Error(e)}},xe=ve(!1),Ce=ve(!0),ke=function(){return Se},Se=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:xe,isSome:xe,isNone:Ce,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:ve(null),getOrUndefined:ve(void 0),or:n,orThunk:t,map:ke,each:pe,bind:ke,exists:xe,forall:Ce,filter:ke,equals:e,equals_:e,toArray:function(){return[]},toString:ve("none()")}}(),Te=function(e){var t=ve(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:Ce,isNone:xe,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return Te(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:Se},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(xe,function(t){return n(e,t)})}};return o},Ne=function(e){return null===e||void 0===e?Se:Te(e)},Ee={some:Te,none:ke,from:Ne},Oe=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},_e=function(e){return function(t){return Oe(t)===e}},Ae=function(e){return function(t){return typeof t===e}},De=function(e){return function(t){return e===t}},Re=_e("string"),Me=_e("object"),Pe=_e("array"),Ie=De(null),ze=Ae("boolean"),Be=De(void 0),Le=Ae("function"),He=Ae("number"),Fe=Array.prototype.slice,je=Array.prototype.indexOf,Ve=Array.prototype.push,Ue=function(e,t){return je.call(e,t)},qe=function(e,t){var n=Ue(e,t);return-1===n?Ee.none():Ee.some(n)},$e=function(e,t){return Ue(e,t)>-1},We=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1},Ge=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},Ke=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},Ye=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n)}},Xe=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}},Je=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},Qe=function(e,t,n){return Ye(e,function(e){n=t(n,e)}),n},Ze=function(e,t,n){return Ke(e,function(e){n=t(n,e)}),n},et=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return Ee.some(i);if(n(i,r))break}return Ee.none()},tt=function(e,t){return et(e,t,xe)},nt=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return Ee.some(n)}return Ee.none()},rt=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Pe(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Ve.apply(t,e[n])}return t},ot=function(e,t){return rt(Ge(e,t))},it=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n))return!1}return!0},at=function(e){var t=Fe.call(e,0);return t.reverse(),t},ut=function(e,t){return Je(e,function(e){return!$e(t,e)})},ct=function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},st=function(e,t){var n=Fe.call(e,0);return n.sort(t),n},lt=function(e){return 0===e.length?Ee.none():Ee.some(e[0])},ft=function(e){return 0===e.length?Ee.none():Ee.some(e[e.length-1])},dt=Le(Array.from)?Array.from:function(e){return Fe.call(e)},mt=Object.keys,pt=Object.hasOwnProperty,gt=function(e,t){for(var n=mt(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},ht=function(e,t){return vt(e,function(e,n){return{k:n,v:t(e,n)}})},vt=function(e,t){var n={};return gt(e,function(e,r){var o=t(e,r);n[o.k]=o.v}),n},bt=function(e){return function(t,n){e[n]=t}},yt=function(e,t,n,r){var o={};return gt(e,function(e,o){(t(e,o)?n:r)(e,o)}),o},wt=function(e,t){var n={},r={};return yt(e,t,bt(n),bt(r)),{t:n,f:r}},xt=function(e,t){var n={};return yt(e,t,bt(n),pe),n},Ct=function(e,t){var n=[];return gt(e,function(e,r){n.push(t(e,r))}),n},kt=function(e){return Ct(e,function(e){return e})},St=function(e,t){return Tt(e,t)?Ee.from(e[t]):Ee.none()},Tt=function(e,t){return pt.call(e,t)},Nt=function(e,t,n){return void 0===n&&(n=me),de(n).eq(e,t)},Et=Array.isArray,Ot=function(e){var t,n,r=e;if(!Et(e))for(r=[],t=0,n=e.length;t<n;t++)r[t]=e[t];return r},_t=function(e,t,n){var r,o;if(!e)return 0;if(n=n||e,void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return 0}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return 0;return 1},At=function(e,t){var n=[];return _t(e,function(r,o){n.push(t(r,o,e))}),n},Dt=function(e,t){var n=[];return _t(e,function(r,o){t&&!t(r,o,e)||n.push(r)}),n},Rt=function(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Mt=function(e,t,n,r){var o=0;for(arguments.length<3&&(n=e[0]);o<e.length;o++)n=t.call(r,n,e[o],o);return n},Pt=function(e,t,n){var r,o;for(r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1},It=function(e){return e[e.length-1]},zt=function(){return zt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},zt.apply(this,arguments)},Bt=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},Lt=function(e,t){var n=Bt(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return jt(r(1),r(2))},Ht=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Ft():Lt(e,n)},Ft=function(){return jt(0,0)},jt=function(e,t){return{major:e,minor:t}},Vt={nu:jt,detect:Ht,unknown:Ft},Ut=function(){return qt({current:void 0,version:Vt.unknown()})},qt=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r("Edge"),isChrome:r("Chrome"),isIE:r("IE"),isOpera:r("Opera"),isFirefox:r("Firefox"),isSafari:r("Safari")}},$t={unknown:Ut,nu:qt,edge:ve("Edge"),chrome:ve("Chrome"),ie:ve("IE"),opera:ve("Opera"),firefox:ve("Firefox"),safari:ve("Safari")},Wt=function(){return Gt({current:void 0,version:Vt.unknown()})},Gt=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r("Windows"),isiOS:r("iOS"),isAndroid:r("Android"),isOSX:r("OSX"),isLinux:r("Linux"),isSolaris:r("Solaris"),isFreeBSD:r("FreeBSD"),isChromeOS:r("ChromeOS")}},Kt={unknown:Wt,nu:Gt,windows:ve("Windows"),ios:ve("iOS"),android:ve("Android"),linux:ve("Linux"),osx:ve("OSX"),solaris:ve("Solaris"),freebsd:ve("FreeBSD"),chromeos:ve("ChromeOS")},Yt=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,a=e.isiOS()||e.isAndroid(),u=a||r("(pointer:coarse)"),c=o||!i&&a&&r("(min-device-width:768px)"),s=i||a&&!c,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),f=!s&&!c&&!l;return{isiPad:ve(o),isiPhone:ve(i),isTablet:ve(c),isPhone:ve(s),isTouch:ve(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ve(l),isDesktop:ve(f)}},Xt=function(e,t){var n=String(t).toLowerCase();return tt(e,function(e){return e.search(n)})},Jt=function(e,t){return Xt(e,t).map(function(e){var n=Vt.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Qt=function(e,t){return Xt(e,t).map(function(e){var n=Vt.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Zt={detectBrowser:Jt,detectOs:Qt},en=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},tn=function(e,t){return-1!==e.indexOf(t)},nn=function(e,t){return en(e,t,0)},rn=function(e){return function(t){return t.replace(e,"")}},on=rn(/^\s+|\s+$/g),an=rn(/^\s+/g),un=rn(/\s+$/g),cn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,sn=function(e){return function(t){return tn(t,e)}},ln=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return tn(e,"edge/")&&tn(e,"chrome")&&tn(e,"safari")&&tn(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,cn],search:function(e){return tn(e,"chrome")&&!tn(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return tn(e,"msie")||tn(e,"trident")}},{name:"Opera",versionRegexes:[cn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:sn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:sn("firefox")},{name:"Safari",versionRegexes:[cn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(tn(e,"safari")||tn(e,"mobile/"))&&tn(e,"applewebkit")}}],fn=[{name:"Windows",search:sn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return tn(e,"iphone")||tn(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:sn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:sn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:sn("linux"),versionRegexes:[]},{name:"Solaris",search:sn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:sn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:sn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],dn={browsers:ve(ln),oses:ve(fn)},mn=function(e,t){var n=dn.browsers(),r=dn.oses(),o=Zt.detectBrowser(n,e).fold($t.unknown,$t.nu),i=Zt.detectOs(r,e).fold(Kt.unknown,Kt.nu);return{browser:o,os:i,deviceType:Yt(i,o,e,t)}},pn={detect:mn},gn=function(e){return n.window.matchMedia(e).matches},hn=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}}(function(){return pn.detect(n.navigator.userAgent,gn)}),vn=function(){return hn()},bn=n.navigator.userAgent,yn=vn(),wn=yn.browser,xn=yn.os,Cn=yn.deviceType,kn=/WebKit/.test(bn)&&!wn.isEdge(),Sn="FormData"in n.window&&"FileReader"in n.window&&"URL"in n.window&&!!n.URL.createObjectURL,Tn=-1!==bn.indexOf("Windows Phone"),Nn={opera:wn.isOpera(),webkit:kn,ie:!(!wn.isIE()&&!wn.isEdge())&&wn.version.major,gecko:wn.isFirefox(),mac:xn.isOSX()||xn.isiOS(),iOS:Cn.isiPad()||Cn.isiPhone(),android:xn.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:n.window.getSelection&&"Range"in n.window,documentMode:wn.isIE()?n.document.documentMode||7:10,fileApi:Sn,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!wn.isIE(),desktop:Cn.isDesktop(),windowsPhone:Tn,browser:{current:wn.current,version:wn.version,isChrome:wn.isChrome,isEdge:wn.isEdge,isFirefox:wn.isFirefox,isIE:wn.isIE,isOpera:wn.isOpera,isSafari:wn.isSafari},os:{current:xn.current,version:xn.version,isAndroid:xn.isAndroid,isChromeOS:xn.isChromeOS,isFreeBSD:xn.isFreeBSD,isiOS:xn.isiOS,isLinux:xn.isLinux,isOSX:xn.isOSX,isSolaris:xn.isSolaris,isWindows:xn.isWindows},deviceType:{isDesktop:Cn.isDesktop,isiPad:Cn.isiPad,isiPhone:Cn.isiPhone,isPhone:Cn.isPhone,isTablet:Cn.isTablet,isTouch:Cn.isTouch,isWebView:Cn.isWebView}},En=/^\s*|\s*$/g,On=function(e){return null===e||void 0===e?"":(""+e).replace(En,"")},_n=function(e,t){return t?!("array"!==t||!Et(e))||typeof e===t:void 0!==e},An=function(e,t,n){var r;for(e=e||[],t=t||",","string"==typeof e&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},Dn=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Rn=function(e,t,n){var r,o,i,a=this,u=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var c=e[3].match(/(^|\.)(\w+)$/i)[2],s=a.createNS(e[3].replace(/\.\w+$/,""),n);if(!s[c]){if("static"===e[2])return s[c]=t,void(this.onCreate&&this.onCreate(e[2],e[3],s[c]));t[c]||(t[c]=function(){},u=1),s[c]=t[c],a.extend(s[c].prototype,t),e[5]&&(r=a.resolve(e[5]).prototype,o=e[5].match(/\.(\w+)$/i)[1],i=s[c],s[c]=u?function(){return r[o].apply(this,arguments)}:function(){return this.parent=r[o],i.apply(this,arguments)},s[c].prototype[c]=s[c],a.each(r,function(e,t){s[c].prototype[t]=r[t]}),a.each(t,function(e,t){r[t]?s[c].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==c&&(s[c].prototype[t]=e)})),a.each(t.static,function(e,t){s[c][t]=e})}},Mn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var o=t[r];for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];void 0!==a&&(e[i]=a)}}return e},Pn=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),_t(e,function(e,o){if(!1===t.call(r,e,o,n))return!1;Pn(e,t,n,r)}))},In=function(e,t){var r,o;for(t=t||n.window,e=e.split("."),r=0;r<e.length;r++)o=e[r],t[o]||(t[o]={}),t=t[o];return t},zn=function(e,t){var r,o;for(t=t||n.window,e=e.split("."),r=0,o=e.length;r<o&&(t=t[e[r]]);r++);return t},Bn=function(e,t){return!e||_n(e,"array")?e:At(e.split(t||","),On)},Ln=function(e){var t=Nn.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e},Hn={trim:On,isArray:Et,is:_n,toArray:Ot,makeMap:An,each:_t,map:At,grep:Dt,inArray:Rt,hasOwn:Dn,extend:Mn,create:Rn,walk:Pn,createNS:In,resolve:zn,explode:Bn,_addCacheSuffix:Ln},Fn=function(e,t){var r=t||n.document,o=r.createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1)throw n.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Un(o.childNodes[0])},jn=function(e,t){var r=t||n.document,o=r.createElement(e);return Un(o)},Vn=function(e,t){var r=t||n.document,o=r.createTextNode(e);return Un(o)},Un=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:ve(e)}},qn=function(e,t,n){var r=e.dom();return Ee.from(r.elementFromPoint(t,n)).map(Un)},$n={fromHtml:Fn,fromTag:jn,fromText:Vn,fromDom:Un,fromPoint:qn},Wn=(void 0!==n.window?n.window:Function("return this;")(),function(e){return e.dom().nodeName.toLowerCase()}),Gn=function(e){return e.dom().nodeType},Kn=function(e){return function(t){return Gn(t)===e}},Yn=function(e){return 8===Gn(e)||"#comment"===Wn(e)},Xn=Kn(1),Jn=Kn(3),Qn=Kn(9),Zn=Kn(11),er=function(e){var t=e.dom().head;if(null===t||void 0===t)throw new Error("Head is not available yet");return $n.fromDom(t)},tr=function(e,t){var n=[],r=function(e){return n.push(e),t(e)},o=t(e);do{o=o.bind(r)}while(o.isSome());return n},nr=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},rr=function(e,t){return nr(e,t,n.Node.DOCUMENT_POSITION_CONTAINED_BY)},or=function(e,t){var n=e.dom();if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},ir=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},ar=function(e,t){var r=void 0===t?n.document:t.dom();return ir(r)?[]:Ge(r.querySelectorAll(e),$n.fromDom)},ur=function(e,t){var r=void 0===t?n.document:t.dom();return ir(r)?Ee.none():Ee.from(r.querySelector(e)).map($n.fromDom)},cr=function(e,t){return e.dom()===t.dom()},sr=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},lr=function(e,t){return rr(e.dom(),t.dom())},fr=function(e,t){return vn().browser.isIE()?lr(e,t):sr(e,t)},dr=function(e){return $n.fromDom(e.dom().ownerDocument)},mr=function(e){return Qn(e)?e:dr(e)},pr=function(e){return $n.fromDom(e.dom().ownerDocument.documentElement)},gr=function(e){return $n.fromDom(e.dom().ownerDocument.defaultView)},hr=function(e){return Ee.from(e.dom().parentNode).map($n.fromDom)},vr=function(e,t){for(var n=Le(t)?t:xe,r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=$n.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},br=function(e){var t=function(t){return Je(t,function(t){return!cr(e,t)})};return hr(e).map(kr).map(t).getOr([])},yr=function(e){return Ee.from(e.dom().previousSibling).map($n.fromDom)},wr=function(e){return Ee.from(e.dom().nextSibling).map($n.fromDom)},xr=function(e){return at(tr(e,yr))},Cr=function(e){return tr(e,wr)},kr=function(e){return Ge(e.dom().childNodes,$n.fromDom)},Sr=function(e,t){var n=e.dom().childNodes;return Ee.from(n[t]).map($n.fromDom)},Tr=function(e){return Sr(e,0)},Nr=function(e){return Sr(e,e.dom().childNodes.length-1)},Er=function(e){return e.dom().childNodes.length},Or=function(e){return Zn(e)},_r=Le(n.Element.prototype.attachShadow)&&Le(n.Node.prototype.getRootNode),Ar=_r?function(e){return $n.fromDom(e.dom().getRootNode())}:mr,Dr=function(e){return Or(e)?e:er(mr(e))},Rr=function(e){var t=Ar(e);return Or(t)?Ee.some(t):Ee.none()},Mr=function(e){return $n.fromDom(e.dom().host)},Pr=function(e,t){hr(e).each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},Ir=function(e,t){wr(e).fold(function(){hr(e).each(function(e){Br(e,t)})},function(e){Pr(e,t)})},zr=function(e,t){Tr(e).fold(function(){Br(e,t)},function(n){e.dom().insertBefore(t.dom(),n.dom())})},Br=function(e,t){e.dom().appendChild(t.dom())},Lr=function(e,t){Pr(e,t),Br(t,e)},Hr=function(e,t){Ke(t,function(t){Pr(e,t)})},Fr=function(e,t){Ke(t,function(t){Br(e,t)})},jr=function(e){e.dom().textContent="",Ke(kr(e),function(e){Vr(e)})},Vr=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},Ur=function(e){var t=kr(e);t.length>0&&Hr(e,t),Vr(e)},qr=function(e){var t=Jn(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&null!==t.ownerDocument&&Rr($n.fromDom(t)).fold(function(){return t.ownerDocument.body.contains(t)},he(qr,Mr))},$r=function(e,t){var n=function(n,r){return $r(e+n,t+r)};return{left:ve(e),top:ve(t),translate:n}},Wr=$r,Gr=function(e){var t=e.getBoundingClientRect();return Wr(t.left,t.top)},Kr=function(e,t){return void 0!==e?e:void 0!==t?t:0},Yr=function(e){var t=e.dom().ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom())return Wr(n.offsetLeft,n.offsetTop);var i=Kr(r.pageYOffset,o.scrollTop),a=Kr(r.pageXOffset,o.scrollLeft),u=Kr(o.clientTop,n.clientTop),c=Kr(o.clientLeft,n.clientLeft);return Xr(e).translate(a-c,i-u)},Xr=function(e){var t=e.dom(),n=t.ownerDocument,r=n.body;return r===t?Wr(r.offsetLeft,r.offsetTop):qr(e)?Gr(t):Wr(0,0)},Jr=function(e){var t=void 0!==e?e.dom():n.document,r=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return Wr(r,o)},Qr=function(e,t,r){(void 0!==r?r.dom():n.document).defaultView.scrollTo(e,t)},Zr=function(e,t){vn().browser.isSafari()&&Le(e.dom().scrollIntoViewIfNeeded)?e.dom().scrollIntoViewIfNeeded(!1):e.dom().scrollIntoView(t)},eo=function(e){var t=void 0===e?n.window:e;return Ee.from(t.visualViewport)},to=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},no=function(e){var t=void 0===e?n.window:e,r=t.document,o=Jr($n.fromDom(r));return eo(t).fold(function(){var e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return to(o.left(),o.top(),n,r)},function(e){return to(Math.max(e.pageLeft,o.left()),Math.max(e.pageTop,o.top()),e.width,e.height)})},ro=function(e){return function(t){return!!t&&t.nodeType===e}},oo=function(e){return!!e&&!Object.getPrototypeOf(e)},io=ro(1),ao=function(e){var t=e.map(function(e){return e.toLowerCase()});return function(e){if(e&&e.nodeName){var n=e.nodeName.toLowerCase();return $e(t,n)}return!1}},uo=function(e,t){var n=t.toLowerCase().split(" ");return function(t){var r;if(io(t))for(r=0;r<n.length;r++){var o=t.ownerDocument.defaultView.getComputedStyle(t,null);if((o?o.getPropertyValue(e):null)===n[r])return!0}return!1}},co=function(e){return function(t){return io(t)&&t.hasAttribute(e)}},so=function(e){return io(e)&&e.hasAttribute("data-mce-bogus")},lo=function(e){return io(e)&&"all"===e.getAttribute("data-mce-bogus")},fo=function(e){return io(e)&&"TABLE"===e.tagName},mo=function(e){return function(t){if(io(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},po=ao(["textarea","input"]),go=ro(3),ho=ro(8),vo=ro(9),bo=ro(11),yo=ao(["br"]),wo=mo("true"),xo=mo("false"),Co=function(e){return void 0!==e.style&&Le(e.style.getPropertyValue)},ko=function(e,t,r){if(!(Re(r)||ze(r)||He(r)))throw n.console.error("Invalid call to Attr.set. Key ",t,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,r+"")},So=function(e,t,n){ko(e.dom(),t,n)},To=function(e,t){var n=e.dom();gt(t,function(e,t){ko(n,t,e)})},No=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},Eo=function(e,t){return Ee.from(No(e,t))},Oo=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},_o=function(e,t){e.dom().removeAttribute(t)},Ao=function(e){return Ze(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},Do=function(e,t){var r=e.dom(),o=n.window.getComputedStyle(r),i=o.getPropertyValue(t);return""!==i||qr(e)?i:Ro(r,t)},Ro=function(e,t){return Co(e)?e.style.getPropertyValue(t):""},Mo=function(e,t){var n=e.dom(),r=Ro(n,t);return Ee.from(r).filter(function(e){return e.length>0})},Po=function(e){var t={},n=e.dom();if(Co(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t},Io=function(e){return e.dom().offsetWidth},zo=vn().browser,Bo=function(e){return tt(e,Xn)},Lo=function(e){return zo.isFirefox()&&"table"===Wn(e)?Bo(kr(e)).filter(function(e){return"caption"===Wn(e)}).bind(function(e){return Bo(Cr(e)).map(function(t){var n=t.dom().offsetTop,r=e.dom().offsetTop,o=e.dom().offsetHeight;return n<=r?-o:0})}).getOr(0):0},Ho=function(e,t){return e.children&&$e(e.children,t)},Fo=function(e,t,n){var r,o,i=0,a=0,u=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===Do($n.fromDom(e),"position"))return o=t.getBoundingClientRect(),i=o.left+(u.documentElement.scrollLeft||e.scrollLeft)-u.documentElement.clientLeft,a=o.top+(u.documentElement.scrollTop||e.scrollTop)-u.documentElement.clientTop,{x:i,y:a};for(r=t;r&&r!==n&&r.nodeType&&!Ho(r,n);)i+=r.offsetLeft||0,a+=r.offsetTop||0,r=r.offsetParent;for(r=t.parentNode;r&&r!==n&&r.nodeType&&!Ho(r,n);)i-=r.scrollLeft||0,a-=r.scrollTop||0,r=r.parentNode;a+=Lo($n.fromDom(t))}return{x:i,y:a}},jo=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Vo=["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"],Uo=["td","th"],qo=["thead","tbody","tfoot"],$o=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Wo=["h1","h2","h3","h4","h5","h6"],Go=["li","dd","dt"],Ko=["ul","ol","dl"],Yo=["pre","script","textarea","style"],Xo=function(e){var t;return function(n){return t=t||ct(e,ve(!0)),t.hasOwnProperty(Wn(n))}},Jo=Xo(Wo),Qo=Xo(jo),Zo=function(e){return"table"===Wn(e)},ei=function(e){return Xn(e)&&!Qo(e)},ti=function(e){return Xn(e)&&"br"===Wn(e)},ni=Xo($o),ri=Xo(Ko),oi=Xo(Go),ii=Xo(Vo),ai=Xo(qo),ui=Xo(Uo),ci=Xo(Yo),si=function(e){var t=e.previousSibling&&"SPAN"===e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"===e.nextSibling.nodeName;return t&&n},li=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},fi=function(e,t){var n,r=t.childNodes;if(!io(t)||!li(t)){for(n=r.length-1;n>=0;n--)fi(e,r[n]);if(!1===vo(t)){if(go(t)&&t.nodeValue.length>0){var o=Hn.trim(t.nodeValue).length;if(e.isBlock(t.parentNode)||o>0)return;if(0===o&&si(t))return}else if(io(t)&&(r=t.childNodes,1===r.length&&li(r[0])&&t.parentNode.insertBefore(r[0],t),r.length||ii($n.fromDom(t))))return;e.remove(t)}return t}},di=Hn.makeMap,mi=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pi=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gi=/[<>&\"\']/g,hi=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,vi={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},bi={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},yi={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},wi=function(e){var t=$n.fromTag("div").dom();return t.innerHTML=e,t.textContent||t.innerText||e},xi=function(e,t){var n,r,o,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),bi[r]||(o="&"+e[n+1]+";",i[r]=o,i[o]=r);return i}},Ci=xi("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),ki=function(e,t){return e.replace(t?mi:pi,function(e){return bi[e]||e})},Si=function(e){return(""+e).replace(gi,function(e){return bi[e]||e})},Ti=function(e,t){return e.replace(t?mi:pi,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":bi[e]||"&#"+e.charCodeAt(0)+";"})},Ni=function(e,t,n){return n=n||Ci,e.replace(t?mi:pi,function(e){return bi[e]||n[e]||e})},Ei=function(e,t){var n=xi(t)||Ci,r=function(e,t){return e.replace(t?mi:pi,function(e){return void 0!==bi[e]?bi[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})},o=function(e,t){return Ni(e,t,n)},i=di(e.replace(/\+/g,","));return i.named&&i.numeric?r:i.named?t?o:Ni:i.numeric?Ti:ki},Oi=function(e){return e.replace(hi,function(e,t){return t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10),t>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):vi[t]||String.fromCharCode(t)):yi[e]||Ci[e]||wi(e)})},_i={encodeRaw:ki,encodeAllRaw:Si,encodeNumeric:Ti,encodeNamed:Ni,getEncodeFunc:Ei,decode:Oi},Ai={},Di={},Ri=Hn.makeMap,Mi=Hn.each,Pi=Hn.extend,Ii=Hn.explode,zi=Hn.inArray,Bi=function(e,t){return e=Hn.trim(e),e?e.split(t||" "):[]},Li=function(e){var t,n,r,o,i,a,u={},c=function(e,n,r){var o,i,a,c=function(e,t){var n,r,o={};for(n=0,r=e.length;n<r;n++)o[e[n]]=t||{};return o};for(r=r||[],n=n||"","string"==typeof r&&(r=Bi(r)),e=Bi(e),o=e.length;o--;)i=Bi([t,n].join(" ")),a={attributes:c(i),attributesOrder:i,children:c(r,Di)},u[e[o]]=a},s=function(e,t){var n,r,o,i;for(e=Bi(e),n=e.length,t=Bi(t);n--;)for(r=u[e[n]],o=0,i=t.length;o<i;o++)r.attributes[t[o]]={},r.attributesOrder.push(t[o])};return Ai[e]?Ai[e]:(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(t+=" xml:lang",a="acronym applet basefont big font strike tt",r=[r,a].join(" "),Mi(Bi(a),function(e){c(e,"",r)}),i="center dir isindex noframes",n=[n,i].join(" "),o=[n,r].join(" "),Mi(Bi(i),function(e){c(e,"",o)})),o=o||[n,r].join(" "),c("html","manifest","head body"),c("head","","base command link meta noscript script style title"),c("title hr noscript br"),c("base","href target"),c("link","href rel media hreflang type sizes hreflang"),c("meta","name http-equiv content charset"),c("style","media type scoped"),c("script","src async defer type charset"),c("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),c("address dt dd div caption","",o),c("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),c("blockquote","cite",o),c("ol","reversed start type","li"),c("ul","","li"),c("li","value",o),c("dl","","dt dd"),c("a","href target rel media hreflang type",r),c("q","cite",r),c("ins del","cite datetime",o),c("img","src sizes srcset alt usemap ismap width height"),c("iframe","src name width height",o),c("embed","src type width height"),c("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),c("param","name value"),c("map","name",[o,"area"].join(" ")),c("area","alt coords shape href target rel media hreflang type"),c("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),c("colgroup","span","col"),c("col","span"),c("tbody thead tfoot","","tr"),c("tr","","td th"),c("td","colspan rowspan headers",o),c("th","colspan rowspan headers scope abbr",o),c("form","accept-charset action autocomplete enctype method name novalidate target",o),c("fieldset","disabled form name",[o,"legend"].join(" ")),c("label","form for",r),c("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),c("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?o:r),c("select","disabled form multiple name required size","option optgroup"),c("optgroup","disabled label","option"),c("option","disabled label selected value"),c("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),c("menu","type label",[o,"li"].join(" ")),c("noscript","",o),"html4"!==e&&(c("wbr"),c("ruby","",[r,"rt rp"].join(" ")),c("figcaption","",o),c("mark rt rp summary bdi","",r),c("canvas","width height",o),c("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),c("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),c("picture","","img source"),c("source","src srcset type media sizes"),c("track","kind src srclang label default"),c("datalist","",[r,"option"].join(" ")),c("article section nav aside main header footer","",o),c("hgroup","","h1 h2 h3 h4 h5 h6"),c("figure","",[o,"figcaption"].join(" ")),c("time","datetime",r),c("dialog","open",o),c("command","type label icon disabled checked radiogroup command"),c("output","for form name",r),c("progress","value max",r),c("meter","value min max low high optimum",r),c("details","open",[o,"summary"].join(" ")),c("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(s("script","language xml:space"),s("style","xml:space"),s("object","declare classid code codebase codetype archive standby align border hspace vspace"),s("embed","align name hspace vspace"),s("param","valuetype type"),s("a","charset name rev shape coords"),s("br","clear"),s("applet","codebase archive code object alt name width height align hspace vspace"),s("img","name longdesc align border hspace vspace"),s("iframe","longdesc frameborder marginwidth marginheight scrolling align"),s("font basefont","size color face"),s("input","usemap align"),s("select"),s("textarea"),s("h1 h2 h3 h4 h5 h6 div p legend caption","align"),s("ul","type compact"),s("li","type"),s("ol dl menu dir","compact"),s("pre","width xml:space"),s("hr","align noshade size width"),s("isindex","prompt"),s("table","summary width frame rules cellspacing cellpadding align bgcolor"),s("col","width align char charoff valign"),s("colgroup","width align char charoff valign"),s("thead","align char charoff valign"),s("tr","align char charoff valign bgcolor"),s("th","axis align char charoff valign nowrap bgcolor width height"),s("form","accept"),s("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),s("tfoot","align char charoff valign"),s("tbody","align char charoff valign"),s("area","nohref"),s("body","background bgcolor text link vlink alink")),"html4"!==e&&(s("input button select textarea","autofocus"),s("input textarea","placeholder"),s("a","download"),s("link script img","crossorigin"),s("img","loading"),s("iframe","sandbox seamless allowfullscreen loading")),Mi(Bi("a form meter progress dfn"),function(e){u[e]&&delete u[e].children[e]}),delete u.caption.children.table,delete u.script,Ai[e]=u,u)},Hi=function(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),Mi(e,function(e,r){n[r]=n[r.toUpperCase()]="map"===t?Ri(e,/[, ]/):Ii(e,/[, ]/)})),n},Fi=function(e){return"\ufeff"===e},ji=function(e){return e.replace(/\uFEFF/g,"")},Vi=function(e,t,n,r){var o=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+o(t)+o(n)+o(r)},Ui=function(e,t){var n,r,o,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,s={};e=e||{},t&&(r=t.getValidStyles(),o=t.getInvalidStyles());var l="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(n=0;n<l.length;n++)s[l[n]]="\ufeff"+n,s["\ufeff"+n]=l[n];return{toHex:function(e){return e.replace(i,Vi)},parse:function(t){var r,o,l,f,d={},m=e.url_converter,p=e.url_converter_scope||this,g=function(e,t,r){var o=d[e+"-top"+t];if(o){var i=d[e+"-right"+t];if(i){var a=d[e+"-bottom"+t];if(a){var u=d[e+"-left"+t];if(u){var c=[o,i,a,u];for(n=c.length-1;n--&&c[n]===c[n+1];);n>-1&&r||(d[e+t]=-1===n?c[0]:c.join(" "),delete d[e+"-top"+t],delete d[e+"-right"+t],delete d[e+"-bottom"+t],delete d[e+"-left"+t])}}}}},h=function(e){var t,n=d[e];if(n){for(n=n.split(" "),t=n.length;t--;)if(n[t]!==n[0])return!1;return d[e]=n[0],!0}},v=function(e){return f=!0,s[e]},b=function(e,t){return f&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return s[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},y=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},w=function(e){return e.replace(/\\[0-9a-f]+/gi,y)},x=function(t,n,r,o,i,a){if(i=i||a)return i=b(i),"'"+i.replace(/\'/g,"\\'")+"'";if(n=b(n||r||o),!e.allow_script_urls){var u=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(u))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(u))return""}return m&&(n=m.call(p,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=t.replace(/[\u0000-\u001F]/g,""),t=t.replace(/\\[\"\';:\uFEFF]/g,v).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,v)});r=u.exec(t);)if(u.lastIndex=r.index+r[0].length,o=r[1].replace(c,"").toLowerCase(),l=r[2].replace(c,""),o&&l){if(o=w(o),l=w(l),-1!==o.indexOf("\ufeff")||-1!==o.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===o||/expression\s*\(|\/\*|\*\//.test(l)))continue;"font-weight"===o&&"700"===l?l="bold":"color"!==o&&"background-color"!==o||(l=l.toLowerCase()),l=l.replace(i,Vi),l=l.replace(a,x),d[o]=f?b(l,!0):l}g("border","",!0),g("border","-width"),g("border","-color"),g("border","-style"),g("padding",""),g("margin",""),function(e,t,n,r){h(t)&&h(n)&&h(r)&&(d[e]=d[t]+" "+d[n]+" "+d[r],delete d[t],delete d[n],delete d[r])}("border","border-width","border-style","border-color"),"medium none"===d.border&&delete d.border,"none"===d["border-image"]&&delete d["border-image"]}return d},serialize:function(e,t){var n="",i=function(t){var o,i=r[t];if(i)for(var a=0,u=i.length;a<u;a++)t=i[a],(o=e[t])&&(n+=(n.length>0?" ":"")+t+": "+o+";")},a=function(e,t){var n=o["*"];return(!n||!n[e])&&!((n=o[t])&&n[e])};return t&&r?(i("*"),i(t)):gt(e,function(e,r){!e||o&&!a(r,t)||(n+=(n.length>0?" ":"")+r+": "+e+";")}),n}}},qi="mce-data-",$i=/^(?:mouse|contextmenu)|click/,Wi={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},Gi=function(e){return e.isDefaultPrevented===Yi||e.isDefaultPrevented===Ki},Ki=function(){return!1},Yi=function(){return!0},Xi=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Ji=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},Qi=function(e,t){if(e.composedPath){var n=e.composedPath();if(n&&n.length>0)return n[0]}return t},Zi=function(e,t){var r,o=t||{};for(r in e)Wi[r]||(o[r]=e[r]);if(o.target||(o.target=o.srcElement||n.document),Nn.experimentalShadowDom&&(o.target=Qi(e,o.target)),e&&$i.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX){var i=o.target.ownerDocument||n.document,a=i.documentElement,u=i.body;o.pageX=e.clientX+(a&&a.scrollLeft||u&&u.scrollLeft||0)-(a&&a.clientLeft||u&&u.clientLeft||0),o.pageY=e.clientY+(a&&a.scrollTop||u&&u.scrollTop||0)-(a&&a.clientTop||u&&u.clientTop||0)}return o.preventDefault=function(){o.isDefaultPrevented=Yi,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},o.stopPropagation=function(){o.isPropagationStopped=Yi,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=Yi,o.stopPropagation()},!1===Gi(o)&&(o.isDefaultPrevented=Ki,o.isPropagationStopped=Ki,o.isImmediatePropagationStopped=Ki),void 0===o.metaKey&&(o.metaKey=!1),o},ea=function(e,t,n){var r=e.document,o={type:"ready"};if(n.domLoaded)return void t(o);var i=function(){Ji(e,"DOMContentLoaded",i),Ji(e,"load",i),n.domLoaded||(n.domLoaded=!0,t(o))};!function(){return"complete"===r.readyState||"interactive"===r.readyState&&r.body}()?Xi(e,"DOMContentLoaded",i):i(),Xi(e,"load",i)},ta=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=qi+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in n.document.documentElement,this.hasFocusIn="onfocusin"in n.document.documentElement,this.count=1}return e.prototype.bind=function(e,t,r,o){var i,a,u,c,s,l,f,d=this,m=n.window,p=function(e){d.executeHandlers(Zi(e||m.event),i)};if(e&&3!==e.nodeType&&8!==e.nodeType){e[d.expando]?i=e[d.expando]:(i=d.count++,e[d.expando]=i,d.events[i]={}),o=o||e;var g=t.split(" ");for(u=g.length;u--;)c=g[u],l=p,s=f=!1,"DOMContentLoaded"===c&&(c="ready"),d.domLoaded&&"ready"===c&&"complete"===e.readyState?r.call(o,Zi({type:c})):(d.hasMouseEnterLeave||(s=d.mouseEnterLeave[c])&&(l=function(e){var t=e.currentTarget,n=e.relatedTarget;if(n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||(e=Zi(e||m.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,d.executeHandlers(e,i))}),d.hasFocusIn||"focusin"!==c&&"focusout"!==c||(f=!0,s="focusin"===c?"focus":"blur",l=function(e){e=Zi(e||m.event),e.type="focus"===e.type?"focusin":"focusout",d.executeHandlers(e,i)}),a=d.events[i][c],a?"ready"===c&&d.domLoaded?r(Zi({type:c})):a.push({func:r,scope:o}):(d.events[i][c]=a=[{func:r,scope:o}],a.fakeName=s,a.capture=f,a.nativeHandler=l,"ready"===c?ea(e,l,d):Xi(e,s||c,l,f)));return e=a=0,r}},e.prototype.unbind=function(e,t,n){var r,o,i,a,u;if(!e||3===e.nodeType||8===e.nodeType)return this;var c=e[this.expando];if(c){if(u=this.events[c],t){var s=t.split(" ");for(o=s.length;o--;)if(a=s[o],r=u[a]){if(n)for(i=r.length;i--;)if(r[i].func===n){var l=r.nativeHandler,f=r.fakeName,d=r.capture;r=r.slice(0,i).concat(r.slice(i+1)),r.nativeHandler=l,r.fakeName=f,r.capture=d,u[a]=r}n&&0!==r.length||(delete u[a],Ji(e,r.fakeName||a,r.nativeHandler,r.capture))}}else gt(u,function(t,n){Ji(e,t.fakeName||n,t.nativeHandler,t.capture)}),u={};for(a in u)if(Tt(u,a))return this;delete this.events[c];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this},e.prototype.fire=function(e,t,n){var r;if(!e||3===e.nodeType||8===e.nodeType)return this;var o=Zi(null,n);o.type=t,o.target=e;do{r=e[this.expando],r&&this.executeHandlers(o,r),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!o.isPropagationStopped());return this},e.prototype.clean=function(e){var t,n;if(!e||3===e.nodeType||8===e.nodeType)return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(this.unbind(e),n=e.getElementsByTagName("*"),t=n.length;t--;)e=n[t],e[this.expando]&&this.unbind(e);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(e,t){var n=this.events[t],r=n&&n[e.type];if(r)for(var o=0,i=r.length;o<i;o++){var a=r[o];if(a&&!1===a.func.call(a.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}},e.Event=new e,e}(),na="sizzle"+-new Date,ra=n.window.document,oa=0,ia=0,aa=u(),ua=u(),ca=u(),sa=function(e,t){return e===t&&(K=!0),0},la="undefined",fa=1<<31,da={}.hasOwnProperty,ma=[],pa=ma.pop,ga=ma.push,ha=ma.push,va=ma.slice,ba=ma.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},ya="[\\x20\\t\\r\\n\\f]",wa="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",xa="\\["+ya+"*("+wa+")(?:"+ya+"*([*^$|!~]?=)"+ya+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+wa+"))|)"+ya+"*\\]",Ca=":("+wa+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+xa+")*)|.*)\\)|)",ka=new RegExp("^"+ya+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ya+"+$","g"),Sa=new RegExp("^"+ya+"*,"+ya+"*"),Ta=new RegExp("^"+ya+"*([>+~]|"+ya+")"+ya+"*"),Na=new RegExp("="+ya+"*([^\\]'\"]*?)"+ya+"*\\]","g"),Ea=new RegExp(Ca),Oa=new RegExp("^"+wa+"$"),_a={ID:new RegExp("^#("+wa+")"),CLASS:new RegExp("^\\.("+wa+")"),TAG:new RegExp("^("+wa+"|[*])"),ATTR:new RegExp("^"+xa),PSEUDO:new RegExp("^"+Ca),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ya+"*(even|odd|(([+-]|)(\\d*)n|)"+ya+"*(?:([+-]|)"+ya+"*(\\d+)|))"+ya+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+ya+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ya+"*((?:-\\d)?\\d*)"+ya+"*\\)|)(?=[^-]|$)","i")},Aa=/^(?:input|select|textarea|button)$/i,Da=/^h\d$/i,Ra=/^[^{]+\{\s*\[native \w/,Ma=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Pa=/[+~]/,Ia=/'|\\/g,za=new RegExp("\\\\([\\da-f]{1,6}"+ya+"?|("+ya+")|.)","ig"),Ba=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{ha.apply(ma=va.call(ra.childNodes),ra.childNodes),ma[ra.childNodes.length].nodeType}catch(e){ha={apply:ma.length?function(e,t){ga.apply(e,va.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}var La=function(e,t,n,r){var o,i,a,u,c,s,l,f,d,p;if((t?t.ownerDocument||t:ra)!==X&&Y(t),t=t||X,n=n||[],!e||"string"!=typeof e)return n;if(1!==(u=t.nodeType)&&9!==u)return[];if(Q&&!r){if(o=Ma.exec(e))if(a=o[1]){if(9===u){if(!(i=t.getElementById(a))||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(a))&&ne(t,i)&&i.id===a)return n.push(i),n}else{if(o[2])return ha.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&H.getElementsByClassName)return ha.apply(n,t.getElementsByClassName(a)),n}if(H.qsa&&(!Z||!Z.test(e))){if(f=l=na,d=t,p=9===u&&e,1===u&&"object"!==t.nodeName.toLowerCase()){for(s=U(e),(l=t.getAttribute("id"))?f=l.replace(Ia,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",c=s.length;c--;)s[c]=f+g(s[c]);d=Pa.test(e)&&m(t.parentNode)||t,p=s.join(",")}if(p)try{return ha.apply(n,d.querySelectorAll(p)),n}catch(e){}finally{l||t.removeAttribute("id")}}}return $(e.replace(ka,"$1"),t,n,r)};H=La.support={},V=La.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},Y=La.setDocument=function(e){var t,n=e?e.ownerDocument||e:ra,r=n.defaultView;return n!==X&&9===n.nodeType&&n.documentElement?(X=n,J=n.documentElement,Q=!V(n),r&&r!==function(e){try{return e.top}catch(e){}return null}(r)&&(r.addEventListener?r.addEventListener("unload",function(){Y()},!1):r.attachEvent&&r.attachEvent("onunload",function(){Y()})),H.attributes=!0,H.getElementsByTagName=!0,H.getElementsByClassName=Ra.test(n.getElementsByClassName),H.getById=!0,F.find.ID=function(e,t){if(typeof t.getElementById!==la&&Q){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},F.filter.ID=function(e){var t=e.replace(za,Ba);return function(e){return e.getAttribute("id")===t}},F.find.TAG=H.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==la)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},F.find.CLASS=H.getElementsByClassName&&function(e,t){if(Q)return t.getElementsByClassName(e)},ee=[],Z=[],H.disconnectedMatch=!0,Z=Z.length&&new RegExp(Z.join("|")),ee=ee.length&&new RegExp(ee.join("|")),t=Ra.test(J.compareDocumentPosition),ne=t||Ra.test(J.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},sa=t?function(e,t){if(e===t)return K=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!H.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===ra&&ne(ra,e)?-1:t===n||t.ownerDocument===ra&&ne(ra,t)?1:G?ba.call(G,e)-ba.call(G,t):0:4&r?-1:1)}:function(e,t){if(e===t)return K=!0,0;var r,o=0,i=e.parentNode,a=t.parentNode,u=[e],c=[t];if(!i||!a)return e===n?-1:t===n?1:i?-1:a?1:G?ba.call(G,e)-ba.call(G,t):0;if(i===a)return s(e,t);for(r=e;r=r.parentNode;)u.unshift(r);for(r=t;r=r.parentNode;)c.unshift(r);for(;u[o]===c[o];)o++;return o?s(u[o],c[o]):u[o]===ra?-1:c[o]===ra?1:0},n):X},La.matches=function(e,t){return La(e,null,null,t)},La.matchesSelector=function(e,t){if((e.ownerDocument||e)!==X&&Y(e),t=t.replace(Na,"='$1']"),H.matchesSelector&&Q&&(!ee||!ee.test(t))&&(!Z||!Z.test(t)))try{var n=te.call(e,t);if(n||H.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return La(t,X,null,[e]).length>0},La.contains=function(e,t){return(e.ownerDocument||e)!==X&&Y(e),ne(e,t)},La.attr=function(e,t){(e.ownerDocument||e)!==X&&Y(e);var n=F.attrHandle[t.toLowerCase()],r=n&&da.call(F.attrHandle,t.toLowerCase())?n(e,t,!Q):void 0;return void 0!==r?r:H.attributes||!Q?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},La.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},La.uniqueSort=function(e){var t,n=[],r=0,o=0;if(K=!H.detectDuplicates,G=!H.sortStable&&e.slice(0),e.sort(sa),K){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return G=null,e},j=La.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=j(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=j(t);return n},F=La.selectors={cacheLength:50,createPseudo:c,match:_a,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(za,Ba),e[3]=(e[3]||e[4]||e[5]||"").replace(za,Ba),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||La.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&La.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return _a.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Ea.test(n)&&(t=U(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(za,Ba).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=aa[e+" "];return t||(t=new RegExp("(^|"+ya+")"+e+"("+ya+"|$)"))&&aa(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==la&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var o=La.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,c){var s,l,f,d,m,p,g=i!==a?"nextSibling":"previousSibling",h=t.parentNode,v=u&&t.nodeName.toLowerCase(),b=!c&&!u;if(h){if(i){for(;g;){for(f=t;f=f[g];)if(u?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?h.firstChild:h.lastChild],a&&b){for(l=h[na]||(h[na]={}),s=l[e]||[],m=s[0]===oa&&s[1],d=s[0]===oa&&s[2],f=m&&h.childNodes[m];f=++m&&f&&f[g]||(d=m=0)||p.pop();)if(1===f.nodeType&&++d&&f===t){l[e]=[oa,m,d];break}}else if(b&&(s=(t[na]||(t[na]={}))[e])&&s[0]===oa)d=s[1];else for(;(f=++m&&f&&f[g]||(d=m=0)||p.pop())&&((u?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(b&&((f[na]||(f[na]={}))[e]=[oa,d]),f!==t)););return(d-=o)===r||d%r==0&&d/r>=0}}},PSEUDO:function(e,t){var n,r=F.pseudos[e]||F.setFilters[e.toLowerCase()]||La.error("unsupported pseudo: "+e);return r[na]?r(t):r.length>1?(n=[e,e,"",t],F.setFilters.hasOwnProperty(e.toLowerCase())?c(function(e,n){for(var o,i=r(e,t),a=i.length;a--;)o=ba.call(e,i[a]),e[o]=!(n[o]=i[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:c(function(e){var t=[],n=[],r=q(e.replace(ka,"$1"));return r[na]?c(function(e,t,n,o){for(var i,a=r(e,null,o,[]),u=e.length;u--;)(i=a[u])&&(e[u]=!(t[u]=i))}):function(e,o,i){return t[0]=e,r(t,null,i,n),!n.pop()}}),has:c(function(e){return function(t){return La(e,t).length>0}}),contains:c(function(e){return e=e.replace(za,Ba),function(t){return(t.textContent||t.innerText||j(t)).indexOf(e)>-1}}),lang:c(function(e){return Oa.test(e||"")||La.error("unsupported lang: "+e),e=e.replace(za,Ba).toLowerCase(),function(t){var n;do{if(n=Q?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=n.window.location&&n.window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===J},focus:function(e){return e===X.activeElement&&(!X.hasFocus||X.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!F.pseudos.empty(e)},header:function(e){return Da.test(e.nodeName)},input:function(e){return Aa.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:d(function(){return[0]}),last:d(function(e,t){return[t-1]}),eq:d(function(e,t,n){return[n<0?n+t:n]}),even:d(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:d(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:d(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:d(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},F.pseudos.nth=F.pseudos.eq,Ke(["radio","checkbox","file","password","image"],function(e){F.pseudos[e]=l(e)}),Ke(["submit","reset"],function(e){F.pseudos[e]=f(e)}),p.prototype=F.filters=F.pseudos,F.setFilters=new p,U=La.tokenize=function(e,t){var n,r,o,i,a,u,c,s=ua[e+" "];if(s)return t?0:s.slice(0);for(a=e,u=[],c=F.preFilter;a;){n&&!(r=Sa.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=Ta.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(ka," ")}),a=a.slice(n.length));for(i in F.filter)F.filter.hasOwnProperty(i)&&(!(r=_a[i].exec(a))||c[i]&&!(r=c[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length)));if(!n)break}return t?a.length:a?La.error(e):ua(e,u).slice(0)},q=La.compile=function(e,t){var n,r=[],o=[],i=ca[e+" "];if(!i){for(t||(t=U(e)),n=t.length;n--;)i=x(t[n]),i[na]?r.push(i):o.push(i);i=ca(e,C(o,r)),i.selector=e}return i},$=La.select=function(e,t,n,r){var o,i,a,u,c,s="function"==typeof e&&e,l=!r&&U(e=s.selector||e);if(n=n||[],1===l.length){if(i=l[0]=l[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&H.getById&&9===t.nodeType&&Q&&F.relative[i[1].type]){if(!(t=(F.find.ID(a.matches[0].replace(za,Ba),t)||[])[0]))return n;s&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=_a.needsContext.test(e)?0:i.length;o--&&(a=i[o],!F.relative[u=a.type]);)if((c=F.find[u])&&(r=c(a.matches[0].replace(za,Ba),Pa.test(i[0].type)&&m(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&g(i)))return ha.apply(n,r),n;break}}return(s||q(e,l))(r,t,!Q,n,Pa.test(e)&&m(t.parentNode)||t),n},H.sortStable=na.split("").sort(sa).join("")===na,H.detectDuplicates=!!K,Y(),H.sortDetached=!0;var Ha=n.document,Fa=Array.prototype.push,ja=Array.prototype.slice,Va=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Ua=ta.Event,qa=Hn.makeMap("children,contents,next,prev"),$a=function(e){return void 0!==e},Wa=function(e){return"string"==typeof e},Ga=function(e){return e&&e===e.window},Ka=function(e,t){t=t||Ha;var n=t.createElement("div"),r=t.createDocumentFragment();n.innerHTML=e;for(var o;o=n.firstChild;)r.appendChild(o);return r},Ya=function(e,t,n,r){var o;if(Wa(t))t=Ka(t,lu(e[0]));else if(t.length&&!t.nodeType){if(t=pu.makeArray(t),r)for(o=t.length-1;o>=0;o--)Ya(e,t[o],n,r);else for(o=0;o<t.length;o++)Ya(e,t[o],n,r);return e}if(t.nodeType)for(o=e.length;o--;)n.call(e[o],t);return e},Xa=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},Ja=function(e,t,n){var r,o;return t=pu(t)[0],e.each(function(){var e=this;n&&r===e.parentNode?o.appendChild(e):(r=e.parentNode,o=t.cloneNode(!1),e.parentNode.insertBefore(o,e),o.appendChild(e))}),e},Qa=Hn.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Za=Hn.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),eu={for:"htmlFor",class:"className",readonly:"readOnly"},tu={float:"cssFloat"},nu={},ru={},ou=function(e,t){return new pu.fn.init(e,t)},iu=function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},au=/^\s*|\s*$/g,uu=function(e){return null===e||void 0===e?"":(""+e).replace(au,"")},cu=function(e,t){var n,r,o,i;if(e)if(void 0===(n=e.length)){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],!1===t.call(i,r,i)))break}else for(o=0;o<n&&(i=e[o],!1!==t.call(i,o,i));o++);return e},su=function(e,t){var n=[];return cu(e,function(e,r){t(r,e)&&n.push(r)}),n},lu=function(e){return e?9===e.nodeType?e:e.ownerDocument:Ha};ou.fn=ou.prototype={constructor:ou,selector:"",context:null,length:0,init:function(e,t){var r,o,i=this;if(!e)return i;if(e.nodeType)return i.context=i[0]=e,i.length=1,i;if(t&&t.nodeType)i.context=t;else{if(t)return pu(e).attr(t);i.context=t=n.document}if(Wa(e)){if(i.selector=e,!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Va.exec(e)))return pu(t).find(e);if(r[1])for(o=Ka(e,lu(t)).firstChild;o;)Fa.call(i,o),o=o.nextSibling;else{if(!(o=lu(t).getElementById(r[2])))return i;if(o.id!==r[2])return i.find(e);i.length=1,i[0]=o}}else this.add(e,!1);return i},toArray:function(){return Hn.toArray(this)},add:function(e,t){var n,r,o=this;if(Wa(e))return o.add(pu(e));if(!1!==t)for(n=pu.unique(o.toArray().concat(pu.makeArray(e))),o.length=n.length,r=0;r<n.length;r++)o[r]=n[r];else Fa.apply(o,pu.makeArray(e));return o},attr:function(e,t){var n,r=this;if("object"==typeof e)cu(e,function(e,t){r.attr(e,t)});else{if(!$a(t)){if(r[0]&&1===r[0].nodeType){if((n=nu[e])&&n.get)return n.get(r[0],e);if(Za[e])return r.prop(e)?e:void 0;t=r[0].getAttribute(e,2),null===t&&(t=void 0)}return t}this.each(function(){var n;if(1===this.nodeType){if((n=nu[e])&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}})}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=eu[e]||e))cu(e,function(e,t){n.prop(e,t)});else{if(!$a(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1===this.nodeType&&(this[e]=t)})}return n},css:function(e,t){var n,r,o=this,i=function(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})},a=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})};if("object"==typeof e)cu(e,function(e,t){o.css(e,t)});else if($a(t))e=i(e),"number"!=typeof t||Qa[e]||(t=t.toString()+"px"),o.each(function(){var n=this.style;if((r=ru[e])&&r.set)return void r.set(this,t);try{this.style[tu[e]||e]=t}catch(e){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(a(e)):n.removeAttribute(e))});else{if(n=o[0],(r=ru[e])&&r.get)return r.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[i(e)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(e))}catch(e){return}}return o},remove:function(){for(var e,t=this,n=this.length;n--;)e=t[n],Ua.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this,n=this.length;n--;)for(e=t[n];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if($a(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(r){pu(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if($a(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return Ya(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return Ya(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?Ya(e,arguments,function(e){this.parentNode.insertBefore(e,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?Ya(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):e},appendTo:function(e){return pu(e).append(this),this},prependTo:function(e){return pu(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Ja(this,e)},wrapAll:function(e){return Ja(this,e,!0)},wrapInner:function(e){return this.each(function(){pu(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){pu(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),pu(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e?n:(-1!==e.indexOf(" ")?cu(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(n,r){var o=Xa(r,e);if(o!==t){var i=r.className;o?r.className=uu((" "+i+" ").replace(" "+e+" "," ")):r.className+=i?" "+e:e}}),n)},hasClass:function(e){return Xa(this[0],e)},each:function(e){return cu(this,e)},on:function(e,t){return this.each(function(){Ua.bind(this,e,t)})},off:function(e,t){return this.each(function(){Ua.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?Ua.fire(this,e.type,e):Ua.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new pu(ja.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)pu.find(e,this[t],r);return pu(r)},filter:function(e){return pu("function"==typeof e?su(this.toArray(),function(t,n){return e(n,t)}):pu.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof pu&&(e=e[0]),this.each(function(n,r){for(;r;){if("string"==typeof e&&pu(r).is(e)){t.push(r);break}if(r===e){t.push(r);break}r=r.parentNode}}),pu(t)},offset:function(e){var t,n,r,o,i=0,a=0;return e?this.css(e):(t=this[0],t&&(n=t.ownerDocument,r=n.documentElement,t.getBoundingClientRect&&(o=t.getBoundingClientRect(),i=o.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:Fa,sort:Array.prototype.sort,splice:Array.prototype.splice},Hn.extend(ou,{extend:Hn.extend,makeArray:function(e){return Ga(e)||e.nodeType?[e]:Hn.toArray(e)},inArray:iu,isArray:Hn.isArray,each:cu,trim:uu,grep:su,find:La,expr:La.selectors,unique:La.uniqueSort,text:La.getText,contains:La.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!==t[r].nodeType&&t.splice(r,1);return t=1===t.length?pu.find.matchesSelector(t[0],e)?[t[0]]:[]:pu.find.matches(e,t)}});var fu=function(e,t,n){var r=[],o=e[t];for("string"!=typeof n&&n instanceof pu&&(n=n[0]);o&&9!==o.nodeType;){if(void 0!==n){if(o===n)break;if("string"==typeof n&&pu(o).is(n))break}1===o.nodeType&&r.push(o),o=o[t]}return r},du=function(e,t,n,r){var o=[];for(r instanceof pu&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"==typeof r&&pu(e).is(r))break}o.push(e)}return o},mu=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};cu({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return fu(e,"parentNode")},next:function(e){return mu(e,"nextSibling",1)},prev:function(e){return mu(e,"previousSibling",1)},children:function(e){return du(e.firstChild,"nextSibling",1)},contents:function(e){return Hn.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){ou.fn[e]=function(n){var r=this,o=[];r.each(function(){var e=t.call(o,this,n,o);e&&(pu.isArray(e)?o.push.apply(o,e):o.push(e))}),this.length>1&&(qa[e]||(o=pu.unique(o)),0===e.indexOf("parents")&&(o=o.reverse()));var i=pu(o);return n?i.filter(n):i}}),cu({parentsUntil:function(e,t){return fu(e,"parentNode",t)},nextUntil:function(e,t){return du(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return du(e,"previousSibling",1,t).slice(1)}},function(e,t){ou.fn[e]=function(n,r){var o=this,i=[];o.each(function(){var e=t.call(i,this,n,i);e&&(pu.isArray(e)?i.push.apply(i,e):i.push(e))}),this.length>1&&(i=pu.unique(i),0!==e.indexOf("parents")&&"prevUntil"!==e||(i=i.reverse()));var a=pu(i);return r?a.filter(r):a}}),ou.fn.is=function(e){return!!e&&this.filter(e).length>0},ou.fn.init.prototype=ou.fn,ou.overrideDefaults=function(e){var t,n=function(r,o){return t=t||e(),0===arguments.length&&(r=t.element),o||(o=t.context),new n.fn.init(r,o)};return pu.extend(n,this),n},ou.attrHooks=nu,ou.cssHooks=ru;var pu=ou,gu=function(){function e(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node},e.prototype.prev=function(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node},e.prototype.prev2=function(e){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",e),this.node},e.prototype.findSibling=function(e,t,n,r){var o,i;if(e){if(!r&&e[t])return e[t];if(e!==this.rootNode){if(o=e[n])return o;for(i=e.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(o=i[n])return o}}},e.prototype.findPreviousNode=function(e,t,n,r){var o,i,a;if(e){if(o=e[n],this.rootNode&&o===this.rootNode)return;if(o){if(!r)for(a=o[t];a;a=a[t])if(!a[t])return a;return o}if((i=e.parentNode)&&i!==this.rootNode)return i}},e}(),hu={},vu={exports:hu};!function(e,n,r,o){!function(o){if("object"==typeof n&&void 0!==r)r.exports=o();else if("function"==typeof e&&e.amd)e([],o);else{var i;i="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this,i.EphoxContactWrapper=o()}}(function(){return function(){function e(t,n,r){function i(u,c){if(!n[u]){if(!t[u]){var s="function"==typeof o&&o;if(!c&&s)return s(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}};t[u][0].call(f.exports,function(e){return i(t[u][1][e]||e)},f,f.exports,e,t,n,r)}return n[u].exports}for(var a="function"==typeof o&&o,u=0;u<r.length;u++)i(r[u]);return i}return e}()({1:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function u(){h&&p&&(h=!1,p.length?g=p.concat(g):v=-1,g.length&&c())}function c(){if(!h){var e=i(u);h=!0;for(var t=g.length;t;){for(p=g,g=[];++v<t;)p&&p[v].run();v=-1,t=g.length}p=null,h=!1,a(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var f,d,m=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(e){d=o}}();var p,g=[],h=!1,v=-1;m.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.push(new s(e,t)),1!==g.length||h||i(c)},s.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=l,m.addListener=l,m.once=l,m.off=l,m.removeListener=l,m.removeAllListeners=l,m.emit=l,m.prependListener=l,m.prependOnceListener=l,m.listeners=function(e){return[]},m.binding=function(e){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(e){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){function r(){}function o(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?u:c)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void c(t.promise,e)}u(t.promise,r)})}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void s(e);if("function"==typeof n)return void f(o(n,t),e)}e._state=1,e._value=t,s(e)}catch(t){c(e,t)}}function c(e,t){e._state=2,e._value=t,s(e)}function s(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e(function(e){n||(n=!0,u(t,e))},function(e){n||(n=!0,c(t,e))})}catch(e){if(n)return;n=!0,c(t,e)}}var d=setTimeout;i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new l(e,t,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,function(e){r(i,e)},n)}t[i]=a,0==--o&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var o=t.length,i=0;i<t.length;i++)r(i,t[i])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},i._immediateFn="function"==typeof e?function(t){e(t)}:function(e){d(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){function o(e,t){this._id=e,this._clearFn=t}var i=e("process/browser.js").nextTick,a=Function.prototype.apply,u=Array.prototype.slice,c={},s=0;n.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=s++,r=!(arguments.length<2)&&u.call(arguments,1);return c[t]=!0,i(function(){c[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete c[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),o=function(){return"undefined"!=typeof window?window:Function("return this;")()}();t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)})}(void 0,hu,vu,void 0);var bu,yu=vu.exports.boltExport,wu=function(e){var t=Ee.none(),r=[],o=function(e){return wu(function(t){i(function(n){t(e(n))})})},i=function(e){u()?s(e):r.push(e)},a=function(e){u()||(t=Ee.some(e),c(r),r=[])},u=function(){return t.isSome()},c=function(e){Ke(e,s)},s=function(e){t.each(function(t){n.setTimeout(function(){e(t)},0)})};return e(a),{get:i,map:o,isReady:u}},xu=function(e){return wu(function(t){t(e)})},Cu={nu:wu,pure:xu},ku=function(e){n.setTimeout(function(){throw e},0)},Su=function(e){var t=function(t){e().then(t,ku)};return{map:function(t){return Su(function(){return e().then(t)})},bind:function(t){return Su(function(){return e().then(function(e){return t(e).toPromise()})})},anonBind:function(t){return Su(function(){return e().then(function(){return t.toPromise()})})},toLazy:function(){return Cu.nu(t)},toCached:function(){var t=null;return Su(function(){return null===t&&(t=e()),t})},toPromise:e,get:t}},Tu=function(e){return Su(function(){return new yu(e)})},Nu=function(e){return Su(function(){return yu.resolve(e)})},Eu={nu:Tu,pure:Nu},Ou=function(e,t){return t(function(t){var n=[],r=0,o=function(o){return function(i){n[o]=i,++r>=e.length&&t(n)}};0===e.length?t([]):Ke(e,function(e,t){e.get(o(t))})})},_u=function(e){return Ou(e,Eu.nu)},Au=function(e){var t=function(t){return e===t},n=function(t){return Au(e)},r=function(t){return Au(e)},o=function(t){return Au(t(e))},i=function(t){return Au(e)},a=function(t){t(e)},u=function(t){return t(e)},c=function(t,n){return n(e)},s=function(t){return t(e)},l=function(t){return t(e)},f=function(){return Ee.some(e)};return{is:t,isValue:Ce,isError:xe,getOr:ve(e),getOrThunk:ve(e),getOrDie:ve(e),or:n,orThunk:r,fold:c,map:o,mapError:i,each:a,bind:u,exists:s,forall:l,toOption:f}},Du=function(e){var t=function(e){return e()},n=function(){return we(String(e))()},r=function(e){return e},o=function(e){return e()},i=function(t){return Du(e)},a=function(t){return Du(t(e))},u=function(t){return Du(e)};return{is:xe,isValue:xe,isError:Ce,getOr:be,getOrThunk:t,getOrDie:n,or:r,orThunk:o,fold:function(t,n){return t(e)},map:i,mapError:a,each:pe,bind:u,exists:xe,forall:Ce,toOption:Ee.none}},Ru=function(e,t){return e.fold(function(){return Du(t)},Au)},Mu={value:Au,error:Du,fromOption:Ru},Pu=function(e){if(!Pe(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],r={};return Ke(e,function(o,i){var a=mt(o);if(1!==a.length)throw new Error("one and only one name per case");var u=a[0],c=o[u];if(void 0!==r[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!Pe(c))throw new Error("case arguments must be an array");t.push(u),r[u]=function(){var r=arguments.length;if(r!==c.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+c.length+" ("+c+"), got "+r);for(var o=new Array(r),a=0;a<o.length;a++)o[a]=arguments[a];var s=function(e){var n=mt(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!it(t,function(e){return $e(n,e)}))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[u].apply(null,o)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);return arguments[i].apply(null,o)},match:s,log:function(e){n.console.log(e,{constructors:t,constructor:u,params:o})}}}}),r},Iu={generate:Pu},zu=(Iu.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(e){return e.fold(be,be)}),Bu=window.Promise?window.Promise:function(){function e(e,t){return function(){e.apply(t,arguments)}}function t(e){var t=this;if(null===this._state)return void this._deferreds.push(e);l(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var r;try{r=n(t._value)}catch(t){return void e.reject(t)}e.resolve(r)})}function r(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void u(e(n,t),e(r,this),e(o,this))}this._state=!0,this._value=t,i.call(this)}catch(e){o.call(this,e)}}function o(e){this._state=!1,this._value=e,i.call(this)}function i(){for(var e=0,n=this._deferreds.length;e<n;e++)t.call(this,this._deferreds[e]);this._deferreds=null}function a(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function u(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(e){if(r)return;r=!0,n(e)}}var c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(t,e(r,this),e(o,this))},l=s.immediateFn||"function"==typeof n.setImmediate&&n.setImmediate||function(e){n.setTimeout(e,1)};return s.prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,n){var r=this;return new s(function(o,i){t.call(r,new a(e,n,o,i))})},s.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&c(arguments[0])?arguments[0]:arguments);return new s(function(t,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,function(e){r(i,e)},n)}e[i]=a,0==--o&&t(e)}catch(e){n(e)}}if(0===e.length)return t([]);for(var o=e.length,i=0;i<e.length;i++)r(i,e[i])})},s.resolve=function(e){return e&&"object"==typeof e&&e.constructor===s?e:new s(function(t){t(e)})},s.reject=function(e){return new s(function(t,n){n(e)})},s.race=function(e){return new s(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},s}(),Lu=function(e,t){var r,o=n.window.requestAnimationFrame,i=["ms","moz","webkit"],a=function(e){n.window.setTimeout(e,0)};for(r=0;r<i.length&&!o;r++)o=n.window[i[r]+"RequestAnimationFrame"];o||(o=a),o(e,t)},Hu=function(e,t){return"number"!=typeof t&&(t=0),n.setTimeout(e,t)},Fu=function(e,t){return"number"!=typeof t&&(t=1),n.setInterval(e,t)},ju=function(e){return n.clearTimeout(e)},Vu=function(e){return n.clearInterval(e)},Uu=function(e,t){var r,o=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];n.clearTimeout(r),r=Hu(function(){e.apply(this,o)},t)};return o.stop=function(){n.clearTimeout(r)},o},qu={requestAnimationFrame:function(e,t){if(bu)return void bu.then(e);bu=new Bu(function(e){t||(t=n.document.body),Lu(e,t)}).then(e)},setTimeout:Hu,setInterval:Fu,setEditorTimeout:function(e,t,n){return Hu(function(){e.removed||t()},n)},setEditorInterval:function(e,t,r){var o=Fu(function(){e.removed?n.clearInterval(o):t()},r);return o},debounce:Uu,throttle:Uu,clearInterval:Vu,clearTimeout:ju},$u=function(){var e=new WeakMap;return{forElement:function(t,n){var r=Ar(t),o=r.dom();return Ee.from(e.get(o)).getOrThunk(function(){var t=k(o,n);return e.set(o,t),t})}}}(),Wu=Hn.each,Gu=Hn.grep,Ku=Nn.ie,Yu=/^([a-z0-9],?)+$/i,Xu=/^[ \t\r\n]*$/,Ju=function(e,t,n){var r=t.keep_values,o={set:function(e,r,o){t.url_converter&&(r=t.url_converter.call(t.url_converter_scope||n(),r,o,e[0])),e.attr("data-mce-"+o,r).attr(o,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},i={style:{set:function(t,n){if(null!==n&&"object"==typeof n)return void t.css(n);r&&t.attr("data-mce-style",n),null!==n&&"string"==typeof n?(t.removeAttr("style"),t.css(e.parse(n))):t.attr("style",n)},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return n=e.serialize(e.parse(n),t[0].nodeName)}}};return r&&(i.href=i.src=o),i},Qu=function(e,t){var n=t.attr("style"),r=e.serialize(e.parse(n),t[0].nodeName);r||(r=null),t.attr("data-mce-style",r)},Zu=function(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(o++,n=r);return o};!function(e){e.DOM=e(n.document),e.nodeIndex=Zu}(S||(S={}));var ec=S,tc=ec.DOM,nc=Hn.each,rc=Hn.grep,oc=function(){function e(e){void 0===e&&(e={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=e}return e.prototype._setReferrerPolicy=function(e){this.settings.referrerPolicy=e},e.prototype.loadScript=function(e,t,r){var o,i=tc,a=function(){i.remove(c),o&&(o.onreadystatechange=o.onload=o=null),t()},u=function(){Le(r)?r():void 0!==n.console&&n.console.log&&n.console.log("Failed to load script: "+e)},c=i.uniqueId();o=n.document.createElement("script"),o.id=c,o.type="text/javascript",o.src=Hn._addCacheSuffix(e),this.settings.referrerPolicy&&i.setAttrib(o,"referrerpolicy",this.settings.referrerPolicy),o.onload=a,o.onerror=u,(n.document.getElementsByTagName("head")[0]||n.document.body).appendChild(o)},e.prototype.isDone=function(e){return 2===this.states[e]},e.prototype.markDone=function(e){this.states[e]=2},e.prototype.add=function(e,t,n,r){void 0===this.states[e]&&(this.queue.push(e),this.states[e]=0),t&&(this.scriptLoadedCallbacks[e]||(this.scriptLoadedCallbacks[e]=[]),this.scriptLoadedCallbacks[e].push({success:t,failure:r,scope:n||this}))},e.prototype.load=function(e,t,n,r){return this.add(e,t,n,r)},e.prototype.remove=function(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]},e.prototype.loadQueue=function(e,t,n){this.loadScripts(this.queue,e,t,n)},e.prototype.loadScripts=function(e,t,n,r){var o=this,i=[],a=function(e,t){nc(o.scriptLoadedCallbacks[t],function(t){Le(t[e])&&t[e].call(t.scope)}),o.scriptLoadedCallbacks[t]=void 0};o.queueLoadedCallbacks.push({success:t,failure:r,scope:n||this});var u=function(){var t=rc(e);if(e.length=0,nc(t,function(e){return 2===o.states[e]?void a("success",e):3===o.states[e]?void a("failure",e):void(1!==o.states[e]&&(o.states[e]=1,o.loading++,o.loadScript(e,function(){o.states[e]=2,o.loading--,a("success",e),u()},function(){o.states[e]=3,o.loading--,i.push(e),a("failure",e),u()})))}),!o.loading){var n=o.queueLoadedCallbacks.slice(0);o.queueLoadedCallbacks.length=0,nc(n,function(e){0===i.length?Le(e.success)&&e.success.call(e.scope):Le(e.failure)&&e.failure.call(e.scope,i)})}};u()},e.ScriptLoader=new e,e}(),ic=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},ac=function(e){return Me(e)&&Tt(e,"raw")},uc=function(e){return Pe(e)&&e.length>1},cc={},sc=ic("en"),lc=function(){return St(cc,sc.get())},fc=function(){return ht(cc,function(e){return zt({},e)})},dc=function(e){e&&sc.set(e)},mc=function(){return sc.get()},pc=function(e,t){var n=cc[e];n||(cc[e]=n={}),gt(t,function(e,t){n[t.toLowerCase()]=e})},gc=function(e){var t=lc().getOr({}),n=function(e){return Le(e)?Object.prototype.toString.call(e):r(e)?"":""+e},r=function(e){return""===e||null===e||void 0===e},o=function(e){var r=n(e);return St(t,r.toLowerCase()).map(n).getOr(r)},i=function(e){return e.replace(/{context:\w+}$/,"")},a=function(e){return e};if(r(e))return a("");if(ac(e))return a(n(e.raw));if(uc(e)){var u=e.slice(1);return a(i(o(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return Tt(u,t)?n(u[t]):e})))}return a(i(o(e)))},hc=function(){return lc().bind(function(e){return St(e,"_dir")}).exists(function(e){return"rtl"===e})},vc=function(e){return Tt(cc,e)},bc={getData:fc,setCode:dc,getCode:mc,add:pc,translate:gc,isRtl:hc,hasCode:vc};!function(e){e.PluginManager=e(),e.ThemeManager=e()}(T||(T={}));var yc=T,wc=function(e,t){var r=null;return{cancel:function(){null!==r&&(n.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null===r&&(r=n.setTimeout(function(){e.apply(null,o),r=null},t))}}},xc=function(e,t){var r=null;return{cancel:function(){null!==r&&(n.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null!==r&&n.clearTimeout(r),r=n.setTimeout(function(){e.apply(null,o),r=null},t)}}},Cc=function(e,t){var n=No(e,t);return void 0===n||""===n?[]:n.split(" ")},kc=function(e,t,n){var r=Cc(e,t),o=r.concat([n]);return So(e,t,o.join(" ")),!0},Sc=function(e,t,n){var r=Je(Cc(e,t),function(e){return e!==n});return r.length>0?So(e,t,r.join(" ")):_o(e,t),!1},Tc=function(e){return void 0!==e.dom().classList},Nc=function(e){return Cc(e,"class")},Ec=function(e,t){return kc(e,"class",t)},Oc=function(e,t){return Sc(e,"class",t)},_c=function(e,t){Tc(e)?e.dom().classList.add(t):Ec(e,t)},Ac=function(e){0===(Tc(e)?e.dom().classList:Nc(e)).length&&_o(e,"class")},Dc=function(e,t){if(Tc(e)){e.dom().classList.remove(t)}else Oc(e,t);Ac(e)},Rc=function(e,t){return Tc(e)&&e.dom().classList.contains(t)},Mc=function(e,t){var n=[];return Ke(kr(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(Mc(e,t))}),n},Pc=function(e,t){return ar(t,e)},Ic=function(e,t,n){for(var r=e.dom(),o=Le(n)?n:ve(!1);r.parentNode;){r=r.parentNode;var i=$n.fromDom(r);if(t(i))return Ee.some(i);if(o(i))break}return Ee.none()},zc=function(e,t,n){return N(function(e,t){return t(e)},Ic,e,t,n)},Bc=function(e,t,n){return Ic(e,function(e){return or(e,t)},n)},Lc=function(e,t){return ur(t,e)},Hc=function(e,t,n){return N(function(e,t){return or(e,t)},Bc,e,t,n)},Fc=ve("mce-annotation"),jc=ve("data-mce-annotation"),Vc=ve("data-mce-annotation-uid"),Uc=function(e,t){var n=e.selection.getRng(),r=$n.fromDom(n.startContainer),o=$n.fromDom(e.getBody()),i=t.fold(function(){return"."+Fc()},function(e){return"["+jc()+'="'+e+'"]'}),a=Sr(r,n.startOffset).getOr(r),u=Hc(a,i,function(e){return cr(e,o)}),c=function(e,t){return Oo(e,t)?Ee.some(No(e,t)):Ee.none()};return u.bind(function(t){return c(t,""+Vc()).bind(function(n){return c(t,""+jc()).map(function(t){var r=$c(e,n);return{uid:n,name:t,elements:r}})})})},qc=function(e){return Xn(e)&&Rc(e,Fc())},$c=function(e,t){var n=$n.fromDom(e.getBody());return Pc(n,"["+Vc()+'="'+t+'"]')},Wc=function(e,t){var n=$n.fromDom(e.getBody()),r=Pc(n,"["+jc()+'="'+t+'"]'),o={};return Ke(r,function(e){var t=No(e,Vc()),n=o.hasOwnProperty(t)?o[t]:[];o[t]=n.concat([e])}),o},Gc=function(e,t){var n=ic({}),r=function(){return{listeners:[],previous:ic(Ee.none())}},o=function(e,t){i(e,function(e){return t(e),e})},i=function(e,t){var o=n.get(),i=o.hasOwnProperty(e)?o[e]:r(),a=t(i);o[e]=a,n.set(o)},a=function(e,t,n){o(e,function(r){Ke(r.listeners,function(r){return r(!0,e,{uid:t,nodes:Ge(n,function(e){return e.dom()})})})})},u=function(e){o(e,function(t){Ke(t.listeners,function(t){return t(!1,e)})})},c=xc(function(){var t=n.get(),r=st(mt(t));Ke(r,function(t){i(t,function(n){var r=n.previous.get();return Uc(e,Ee.some(t)).fold(function(){r.isSome()&&(u(t),n.previous.set(Ee.none()))},function(e){var t=e.uid,o=e.name,i=e.elements;r.is(t)||(a(o,t,i),n.previous.set(Ee.some(t)))}),{previous:n.previous,listeners:n.listeners}})})},30);return e.on("remove",function(){c.cancel()}),e.on("NodeChange",function(){c.throttle()}),{addListener:function(e,t){i(e,function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}})}}},Kc=function(e,t){var n=function(e){return Ee.from(e.attr(jc())).bind(t.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(e){Ke(e,function(e){n(e).each(function(t){!1===t.persistent&&e.unwrap()})})})})},Yc=function(){var e={};return{register:function(t,n){e[t]={name:t,settings:n}},lookup:function(t){return e.hasOwnProperty(t)?Ee.from(e[t]).map(function(e){return e.settings}):Ee.none()}}},Xc=0,Jc=function(e){var t=new Date,n=t.getTime(),r=Math.floor(1e9*Math.random());return Xc++,e+"_"+r+Xc+String(n)},Qc=function(e,t){Ke(t,function(t){_c(e,t)})},Zc=function(e,t){var r=t||n.document,o=r.createElement("div");return o.innerHTML=e,kr($n.fromDom(o))},es=function(e){return e.dom().innerHTML},ts=function(e,t){var n=dr(e),r=n.dom(),o=$n.fromDom(r.createDocumentFragment()),i=Zc(t,r);Fr(o,i),jr(e),Br(e,o)},ns=function(e,t){return $n.fromDom(e.dom().cloneNode(t))},rs=function(e){return ns(e,!1)},os=function(e){return ns(e,!0)},is=function(e,t,n){void 0===n&&(n=xe);var r=new gu(e,t),o=function(e){var t;do{t=r[e]()}while(t&&!go(t)&&!n(t));return Ee.from(t).filter(go)};return{current:function(){return Ee.from(r.current()).filter(go)},next:function(){return o("next")},prev:function(){return o("prev")},prev2:function(){return o("prev2")}}},as=function(e,t){var n=t||function(t){return e.isBlock(t)||yo(t)||xo(t)},r=function(e,t,n,o){if(go(e)){var i=o(e,t,e.data);if(-1!==i)return Ee.some({container:e,offset:i})}return n().bind(function(e){return r(e.container,e.offset,n,o)})};return{backwards:function(e,t,o,i){var a=is(e,i,n);return r(e,t,function(){return a.prev().map(function(e){return{container:e,offset:e.length}})},o).getOrNull()},forwards:function(e,t,o,i){var a=is(e,i,n);return r(e,t,function(){return a.next().map(function(e){return{container:e,offset:0}})},o).getOrNull()}}},us="\ufeff",cs=Fi,ss=ji,ls=io,fs=go,ds=function(e){return fs(e)&&(e=e.parentNode),ls(e)&&e.hasAttribute("data-mce-caret")},ms=function(e){return fs(e)&&cs(e.data)},ps=function(e){return ds(e)||ms(e)},gs=function(e){return e.firstChild!==e.lastChild||!yo(e.firstChild)},hs=function(e,t){var n,r=e.ownerDocument,o=r.createTextNode(us),i=e.parentNode;if(t){if(n=e.previousSibling,fs(n)){if(ps(n))return n;if(Cs(n))return n.splitText(n.data.length-1)}i.insertBefore(o,e)}else{if(n=e.nextSibling,fs(n)){if(ps(n))return n;if(xs(n))return n.splitText(1),n}e.nextSibling?i.insertBefore(o,e.nextSibling):i.appendChild(o)}return o},vs=function(e){var t=e.container();return!(!e||!go(t))&&(t.data.charAt(e.offset())===us||e.isAtStart()&&ms(t.previousSibling))},bs=function(e){var t=e.container();return!(!e||!go(t))&&(t.data.charAt(e.offset()-1)===us||e.isAtEnd()&&ms(t.nextSibling))},ys=function(){var e=n.document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},ws=function(e,t,n){var r=t.ownerDocument,o=r.createElement(e);o.setAttribute("data-mce-caret",n?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(ys());var i=t.parentNode;return n?i.insertBefore(o,t):t.nextSibling?i.insertBefore(o,t.nextSibling):i.appendChild(o),o},xs=function(e){return fs(e)&&e.data[0]===us},Cs=function(e){return fs(e)&&e.data[e.data.length-1]===us},ks=function(e){var t=e.getElementsByTagName("br"),n=t[t.length-1];so(n)&&n.parentNode.removeChild(n)},Ss=function(e){return e&&e.hasAttribute("data-mce-caret")?(ks(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},Ts=function(e){return ds(e.startContainer)},Ns=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},Es=function(e,t,n){return e.isSome()&&t.isSome()?Ee.some(n(e.getOrDie(),t.getOrDie())):Ee.none()},Os=function(e,t,n,r){return e.isSome()&&t.isSome()&&n.isSome()?Ee.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):Ee.none()},_s=function(e,t){return e?Ee.some(t):Ee.none()},As=Math.round,Ds=function(e){return e?{left:As(e.left),top:As(e.top),bottom:As(e.bottom),right:As(e.right),width:As(e.width),height:As(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Rs=function(e,t){return e=Ds(e),t?e.right=e.left:(e.left=e.left+e.width,e.right=e.left),e.width=0,e},Ms=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},Ps=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},Is=function(e,t){return e.bottom-e.height/2<t.top||!(e.top>t.bottom)&&Ps(t.top-e.bottom,e,t)},zs=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&Ps(t.bottom-e.top,e,t)},Bs=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},Ls=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Hs=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},Fs=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),js=function(e){return"string"==typeof e&&e.charCodeAt(0)>=768&&Fs.test(e)},Vs=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(e[n](t))return!0;return!1}},Us=wo,qs=xo,$s=yo,Ws=go,Gs=ao(["script","style","textarea"]),Ks=ao(["img","input","textarea","hr","iframe","video","audio","object"]),Ys=ao(["table"]),Xs=ps,Js=function(e){return!Xs(e)&&(Ws(e)?!Gs(e.parentNode):Ks(e)||$s(e)||Ys(e)||Zs(e))},Qs=function(e){return io(e)&&"true"===e.getAttribute("unselectable")},Zs=function(e){return!1===Qs(e)&&qs(e)},el=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(Zs(e))return!1;if(Us(e))return!0}return!0},tl=function(e){return!!Zs(e)&&!0!==Ze(dt(e.getElementsByTagName("*")),function(e,t){return e||Us(t)},!1)},nl=function(e){return Ks(e)||tl(e)},rl=function(e,t){return Js(e)&&el(e,t)},ol=io,il=Js,al=uo("display","block table"),ul=uo("float","left right"),cl=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(!e[n](t))return!1;return!0}}(ol,il,ye(ul)),sl=ye(uo("white-space","pre pre-line pre-wrap")),ll=go,fl=yo,dl=ec.nodeIndex,ml=Hs,pl=function(e){return"createRange"in e?e.createRange():ec.DOM.createRng()},gl=function(e){return e&&/[\r\n\t ]/.test(e)},hl=function(e){return!!e.setStart&&!!e.setEnd},vl=function(e){var t,n=e.startContainer,r=e.startOffset;return!!(gl(e.toString())&&sl(n.parentNode)&&go(n)&&(t=n.data,gl(t[r-1])||gl(t[r+1])))},bl=function(e){var t=e.ownerDocument,n=pl(t),r=t.createTextNode(" "),o=e.parentNode;o.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);var i=Ds(n.getBoundingClientRect());return o.removeChild(r),i},yl=function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,o=e.endOffset;if(t===n&&go(n)&&0===r&&1===o){var i=e.cloneRange();return i.setEndAfter(n),xl(i)}return null},wl=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},xl=function(e){var t,n=e.getClientRects();return t=Ds(n.length>0?n[0]:e.getBoundingClientRect()),!hl(e)&&fl(e)&&wl(t)?bl(e):wl(t)&&hl(e)?yl(e):t},Cl=function(e,t){var n=Rs(e,t);return n.width=1,n.right=n.left+1,n},kl=function(e){var t,n,r=[],o=function(e){0!==e.height&&(r.length>0&&Ms(e,r[r.length-1])||r.push(e))},i=function(e,t){var n=pl(e.ownerDocument);if(t<e.data.length){if(js(e.data[t]))return r;if(js(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!vl(n)))return o(Cl(xl(n),!1)),r}t>0&&(n.setStart(e,t-1),n.setEnd(e,t),vl(n)||o(Cl(xl(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),vl(n)||o(Cl(xl(n),!0)))};if(ll(e.container()))return i(e.container(),e.offset()),r;if(ol(e.container()))if(e.isAtEnd())n=ml(e.container(),e.offset()),ll(n)&&i(n,n.data.length),cl(n)&&!fl(n)&&o(Cl(xl(n),!1));else{if(n=ml(e.container(),e.offset()),ll(n)&&i(n,0),cl(n)&&e.isAtEnd())return o(Cl(xl(n),!1)),r;t=ml(e.container(),e.offset()-1),cl(t)&&!fl(t)&&(al(t)||al(n)||!cl(n))&&o(Cl(xl(t),!1)),cl(n)&&o(Cl(xl(n),!0))}return r};!function(e){e.fromRangeStart=function(t){return e(t.startContainer,t.startOffset)},e.fromRangeEnd=function(t){return e(t.endContainer,t.endOffset)},e.after=function(t){return e(t.parentNode,dl(t)+1)},e.before=function(t){return e(t.parentNode,dl(t))},e.isAbove=function(e,t){return Es(lt(t.getClientRects()),ft(e.getClientRects()),Is).getOr(!1)},e.isBelow=function(e,t){return Es(ft(t.getClientRects()),lt(e.getClientRects()),zs).getOr(!1)},e.isAtStart=function(e){return!!e&&e.isAtStart()},e.isAtEnd=function(e){return!!e&&e.isAtEnd()},e.isTextPosition=function(e){return!!e&&go(e.container())},e.isElementPosition=function(t){return!1===e.isTextPosition(t)}}(E||(E={}));var Sl,Tl=E,Nl=function(e,t){go(t)&&0===t.data.length&&e.remove(t)},El=function(e,t,n){t.insertNode(n),Nl(e,n.previousSibling),Nl(e,n.nextSibling)},Ol=function(e,t,n){var r=Ee.from(n.firstChild),o=Ee.from(n.lastChild);t.insertNode(n),r.each(function(t){return Nl(e,t.previousSibling)}),o.each(function(t){return Nl(e,t.nextSibling)})},_l=function(e,t,n){bo(n)?Ol(e,t,n):El(e,t,n)},Al=go,Dl=so,Rl=ec.nodeIndex,Ml=function(e){var t=e.parentNode;return Dl(t)?Ml(t):t},Pl=function(e){return e?Mt(e.childNodes,function(e,t){return Dl(t)&&"BR"!==t.nodeName?e=e.concat(Pl(t)):e.push(t),e},[]):[]},Il=function(e,t){for(;(e=e.previousSibling)&&Al(e);)t+=e.data.length;return t},zl=function(e){return function(t){return e===t}},Bl=function(e){var t,n;t=Pl(Ml(e)),n=Pt(t,zl(e),e),t=t.slice(0,n+1);var r=Mt(t,function(e,n,r){return Al(n)&&Al(t[r-1])&&e++,e},0);return t=Dt(t,ao([e.nodeName])),(n=Pt(t,zl(e),e))-r},Ll=function(e){return(Al(e)?"text()":e.nodeName.toLowerCase())+"["+Bl(e)+"]"},Hl=function(e,t,n){var r=[];for(t=t.parentNode;t!==e&&(!n||!n(t));t=t.parentNode)r.push(t);return r},Fl=function(e,t){var n,r,o,i,a,u=[];return n=t.container(),r=t.offset(),Al(n)?o=Il(n,r):(i=n.childNodes,r>=i.length?(o="after",r=i.length-1):o="before",n=i[r]),u.push(Ll(n)),a=Hl(e,n),a=Dt(a,ye(so)),u=u.concat(At(a,function(e){return Ll(e)})),u.reverse().join("/")+","+o},jl=function(e,t,n){var r=Pl(e);return r=Dt(r,function(e,t){return!Al(e)||!Al(r[t-1])}),r=Dt(r,ao([t])),r[n]},Vl=function(e,t){for(var n,r=e,o=0;Al(r);){if(n=r.data.length,t>=o&&t<=o+n){e=r,t-=o;break}if(!Al(r.nextSibling)){e=r,t=n;break}o+=n,r=r.nextSibling}return Al(e)&&t>e.data.length&&(t=e.data.length),Tl(e,t)},Ul=function(e,t){var n;if(!t)return null;var r=t.split(","),o=r[0].split("/");n=r.length>1?r[1]:"before";var i=Mt(o,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),jl(e,t[1],parseInt(t[2],10))):null},e);return i?Al(i)?Vl(i,parseInt(n,10)):(n="after"===n?Rl(i)+1:Rl(i),Tl(i.parentNode,n)):null},ql=xo,$l=function(e,t,n){var r,o;for(o=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&go(r);r=r.previousSibling)o+=e(r.data).length;return o},Wl=function(e,t,n,r,o){var i,a=r[o?"startContainer":"endContainer"],u=r[o?"startOffset":"endOffset"],c=[],s=0,l=e.getRoot();for(go(a)?c.push(n?$l(t,a,u):u):(i=a.childNodes,u>=i.length&&i.length&&(s=1,u=Math.max(0,i.length-1)),c.push(e.nodeIndex(i[u],n)+s));a&&a!==l;a=a.parentNode)c.push(e.nodeIndex(a,n));return c},Gl=function(e,t,n,r){var o=t.dom,i={};return i.start=Wl(o,e,n,r,!0),t.isCollapsed()||(i.end=Wl(o,e,n,r,!1)),i},Kl=function(e,t,n){var r=0;return Hn.each(e.select(t),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++}),r},Yl=function(e,t){var n,r,o,i=t?"start":"end";n=e[i+"Container"],r=e[i+"Offset"],io(n)&&"TR"===n.nodeName&&(o=n.childNodes,(n=o[Math.min(t?r:r-1,o.length-1)])&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r)))},Xl=function(e){return Yl(e,!0),Yl(e,!1),e},Jl=function(e,t){var n;if(io(e)&&(e=Hs(e,t),ql(e)))return e;if(ps(e)){if(go(e)&&ds(e)&&(e=e.parentNode),n=e.previousSibling,ql(n))return n;if(n=e.nextSibling,ql(n))return n}},Ql=function(e){return Jl(e.startContainer,e.startOffset)||Jl(e.endContainer,e.endOffset)},Zl=function(e,t,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();if(ql(r)||"IMG"===o)return{name:o,index:Kl(n.dom,o,r)};var a=Ql(i);return a?(o=a.tagName,{name:o,index:Kl(n.dom,o,a)}):Gl(e,n,t,i)},ef=function(e){var t=e.getRng();return{start:Fl(e.dom.getRoot(),Tl.fromRangeStart(t)),end:Fl(e.dom.getRoot(),Tl.fromRangeEnd(t))}},tf=function(e){return{rng:e.getRng()}},nf=function(e,t,n){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},rf=function(e,t){var n=e.dom,r=e.getRng(),o=n.uniqueId(),i=e.isCollapsed(),a=e.getNode(),u=a.nodeName;if("IMG"===u)return{name:u,index:Kl(n,u,a)};var c=Xl(r.cloneRange());if(!i){c.collapse(!1);var s=nf(n,o+"_end",t);_l(n,c,s)}r=Xl(r),r.collapse(!0);var l=nf(n,o+"_start",t);return _l(n,r,l),e.moveToBookmark({id:o,keep:!0}),{id:o}},of=function(e,t,n){return 2===t?Zl(ss,n,e):3===t?ef(e):t?tf(e):rf(e,!1)},af=r(Zl,be,!0),uf=ec.DOM,cf=function(e,t,n){var r=e.getParam(t,n);if(-1!==r.indexOf("=")){var o=e.getParam(t,"","hash");return o.hasOwnProperty(e.id)?o[e.id]:n}return r},sf=function(e){return e.getParam("iframe_attrs",{})},lf=function(e){return e.getParam("doctype","<!DOCTYPE html>")},ff=function(e){return e.getParam("document_base_url","")},df=function(e){return cf(e,"body_id","tinymce")},mf=function(e){return cf(e,"body_class","")},pf=function(e){return e.getParam("content_security_policy","")},gf=function(e){return e.getParam("br_in_pre",!0)},hf=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t},vf=function(e){return e.getParam("forced_root_block_attrs",{})},bf=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},yf=function(e){return e.getParam("no_newline_selector","")},wf=function(e){return e.getParam("keep_styles",!0)},xf=function(e){return e.getParam("end_container_on_empty_block",!1)},Cf=function(e){return Hn.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},kf=function(e){return Hn.explode(e.getParam("font_size_classes",""))},Sf=function(e){return e.getParam("images_dataimg_filter",ve(!0),"function")},Tf=function(e){return e.getParam("automatic_uploads",!0,"boolean")},Nf=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},Ef=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},Of=function(e){return e.getParam("icons","","string")},_f=function(e){return e.getParam("icons_url","","string")},Af=function(e){return e.getParam("images_upload_url","","string")},Df=function(e){return e.getParam("images_upload_base_path","","string")},Rf=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},Mf=function(e){return e.getParam("images_upload_handler",null,"function")},Pf=function(e){return e.getParam("content_css_cors",!1,"boolean")},If=function(e){return e.getParam("referrer_policy","","string")},zf=function(e){return e.getParam("language","en","string")},Bf=function(e){return e.getParam("language_url","","string")},Lf=function(e){return e.getParam("indent_use_margin",!1)},Hf=function(e){return e.getParam("indentation","40px","string")},Ff=function(e){var t=e.getParam("content_css");return Re(t)?Ge(t.split(","),on):Pe(t)?t:!1===t||e.inline?[]:["default"]},jf=function(e){return e.getParam("directionality",bc.isRtl()?"rtl":void 0)},Vf=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},Uf=function(e){return e.getParam("object_resizing")},qf=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},$f=function(e){return e.getParam("placeholder",uf.getAttrib(e.getElement(),"placeholder"),"string")},Wf=function(e){return e.getParam("event_root")},Gf=function(e){return e.getParam("service_message")},Kf=function(e){return e.getParam("theme")},Yf=function(e){return e.getParam("validate")},Xf=function(e){return!1!==e.getParam("inline_boundaries")},Jf=function(e){return e.getParam("formats")},Qf=function(e){var t=e.getParam("preview_styles","font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");return Re(t)?t:""},Zf=function(e){return e.getParam("custom_ui_selector","","string")},ed=function(e){return e.getParam("theme_url")},td=function(e){return e.getParam("inline")},nd=function(e){return e.getParam("hidden_input")},rd=function(e){return e.getParam("submit_patch")},od=function(e){return"xml"===e.getParam("encoding")},id=function(e){return e.getParam("add_form_submit_trigger")},ad=function(e){return e.getParam("add_unload_trigger")},ud=function(e){return""!==hf(e)},cd=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},sd=function(e){return e.getParam("disable_nodechange")},ld=function(e){return e.getParam("readonly")},fd=function(e){return e.getParam("content_css_cors")},dd=function(e){return e.getParam("plugins")},md=function(e){return e.getParam("external_plugins")},pd=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},gd=io,hd=go,vd=function(e){var t=e.parentNode;t&&t.removeChild(e)},bd=function(e){try{return e.nodeValue}catch(e){return""}},yd=function(e,t){0===t.length?vd(e):e.nodeValue=t},wd=function(e){var t=ss(e);return{count:e.length-t.length,text:t}},xd=function(e,t){return Ed(e),t},Cd=function(e,t){var n=wd(e.data.substr(0,t.offset())),r=wd(e.data.substr(t.offset())),o=n.text+r.text;return o.length>0?(yd(e,o),Tl(e,t.offset()-n.count)):t},kd=function(e,t){var n=t.container(),r=qe(dt(n.childNodes),e).map(function(e){return e<t.offset()?Tl(n,t.offset()-1):t}).getOr(t);return Ed(e),r},Sd=function(e,t){return hd(e)&&t.container()===e?Cd(e,t):xd(e,t)},Td=function(e,t){return t.container()===e.parentNode?kd(e,t):xd(e,t)},Nd=function(e,t){return Tl.isTextPosition(t)?Sd(e,t):Td(e,t)},Ed=function(e){if(gd(e)&&ps(e)&&(gs(e)?e.removeAttribute("data-mce-caret"):vd(e)),hd(e)){var t=ss(bd(e));yd(e,t)}},Od=vn().browser,_d=xo,Ad=function(e){return io(e)&&/^(TD|TH)$/i.test(e.tagName)},Dd=function(e,t,n){var r,o,i,a,u,c=Rs(t.getBoundingClientRect(),n);return"BODY"===e.tagName?(r=e.ownerDocument.documentElement,o=e.scrollLeft||r.scrollLeft,i=e.scrollTop||r.scrollTop):(u=e.getBoundingClientRect(),o=e.scrollLeft-u.left,i=e.scrollTop-u.top),c.left+=o,c.right+=o,c.top+=i,c.bottom+=i,c.width=1,a=t.offsetWidth-t.clientWidth,a>0&&(n&&(a*=-1),c.left+=a,c.right+=a),c},Rd=function(e){var t,n,r,o,i=Pc($n.fromDom(e),"*[contentEditable=false]");for(r=0;r<i.length;r++)t=i[r].dom(),n=t.previousSibling,Cs(n)&&(o=n.data,1===o.length?n.parentNode.removeChild(n):n.deleteData(o.length-1,1)),n=t.nextSibling,xs(n)&&(o=n.data,1===o.length?n.parentNode.removeChild(n):n.deleteData(0,1))},Md=function(e,t,n,r){var o,i,a=ic(Ee.none()),u=hf(e),c=u.length>0?u:"p",s=function(e,r){var o,u;if(l(),Ad(r))return null;if(!n(r))return i=hs(r,e),u=r.ownerDocument.createRange(),_d(i.nextSibling)?(u.setStart(i,0),u.setEnd(i,0)):(u.setStart(i,1),u.setEnd(i,1)),u;i=ws(c,r,e),o=Dd(t,r,e),pu(i).css("top",o.top);var s=pu('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(o).appendTo(t)[0];return a.set(Ee.some({caret:s,element:r,before:e})),a.get().each(function(t){e&&pu(t.caret).addClass("mce-visual-caret-before")}),f(),u=r.ownerDocument.createRange(),u.setStart(i,0),u.setEnd(i,0),u},l=function(){Rd(t),i&&(Ed(i),i=null),a.get().each(function(e){pu(e.caret).remove(),a.set(Ee.none())}),o&&(qu.clearInterval(o),o=null)},f=function(){o=qu.setInterval(function(){r()?pu("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):pu("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")},500)},d=function(){a.get().each(function(e){var n=Dd(t,e.element,e.before);pu(e.caret).css(zt({},n))})},m=function(){return qu.clearInterval(o)};return{show:s,hide:l,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:d,destroy:m}},Pd=function(){return Od.isIE()||Od.isEdge()||Od.isFirefox()},Id=function(e){return _d(e)||fo(e)&&Pd()},zd=xo,Bd=uo("display","block table table-cell table-caption list-item"),Ld=ps,Hd=ds,Fd=io,jd=Js,Vd=function(e){return e>0},Ud=function(e){return e<0},qd=function(e,t){for(var n;n=e(t);)if(!Hd(n))return n;return null},$d=function(e,t,n,r,o){var i=new gu(e,r);if(Ud(t)){if((zd(e)||Hd(e))&&(e=qd(i.prev,!0),n(e)))return e;for(;e=qd(i.prev,o);)if(n(e))return e}if(Vd(t)){if((zd(e)||Hd(e))&&(e=qd(i.next,!0),n(e)))return e;for(;e=qd(i.next,o);)if(n(e))return e}return null},Wd=function(e,t){for(;e&&e!==t;){if(Bd(e))return e;e=e.parentNode}return null},Gd=function(e,t,n){return Wd(e.container(),n)===Wd(t.container(),n)},Kd=function(e,t){if(!t)return null;var n=t.container(),r=t.offset();return Fd(n)?n.childNodes[r+e]:null},Yd=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},Xd=function(e,t,n){return Wd(t,e)===Wd(n,e)},Jd=function(e,t,n){var r,o;for(o=e?"previousSibling":"nextSibling";n&&n!==t;){if(r=n[o],Ld(r)&&(r=r[o]),zd(r)){if(Xd(t,r,n))return r;break}if(jd(r))break;n=n.parentNode}return null},Qd=r(Yd,!0),Zd=r(Yd,!1),em=function(e,t,n){var o,i,a,u=r(Jd,!0,t),c=r(Jd,!1,t);i=n.startContainer;var s=n.startOffset;if(ds(i)){if(Fd(i)||(i=i.parentNode),"before"===(a=i.getAttribute("data-mce-caret"))&&(o=i.nextSibling,Id(o)))return Qd(o);if("after"===a&&(o=i.previousSibling,Id(o)))return Zd(o)}if(!n.collapsed)return n;if(go(i)){if(Ld(i)){if(1===e){if(o=c(i))return Qd(o);if(o=u(i))return Zd(o)}if(-1===e){if(o=u(i))return Zd(o);if(o=c(i))return Qd(o)}return n}if(Cs(i)&&s>=i.data.length-1)return 1===e&&(o=c(i))?Qd(o):n;if(xs(i)&&s<=1)return-1===e&&(o=u(i))?Zd(o):n;if(s===i.data.length)return o=c(i),o?Qd(o):n;if(0===s)return o=u(i),o?Zd(o):n}return n},tm=function(e,t){return Ee.from(Kd(e?0:-1,t)).filter(zd)},nm=function(e,t,n){var r=em(e,t,n);return-1===e?E.fromRangeStart(r):E.fromRangeEnd(r)},rm=function(e){return Ee.from(e.getNode()).map($n.fromDom)},om=function(e){return Ee.from(e.getNode(!0)).map($n.fromDom)},im=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},am=function(e,t){var n=Gd(e,t);return!(n||!yo(e.getNode()))||n};!function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"}(Sl||(Sl={}));var um=xo,cm=go,sm=io,lm=yo,fm=Js,dm=nl,mm=rl,pm=function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n},gm=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},hm=function(e,t){if(Vd(e)){if(fm(t.previousSibling)&&!cm(t.previousSibling))return Tl.before(t);if(cm(t))return Tl(t,0)}if(Ud(e)){if(fm(t.nextSibling)&&!cm(t.nextSibling))return Tl.after(t);if(cm(t))return Tl(t,t.data.length)}return Ud(e)?lm(t)?Tl.before(t):Tl.after(t):Tl.before(t)},vm=function(e,t){var n=t.nextSibling;return n&&fm(n)?cm(n)?Tl(n,0):Tl.before(n):bm(Sl.Forwards,Tl.after(t),e)},bm=function(e,t,n){var r,o,i,a;if(!sm(n)||!t)return null;if(t.isEqual(Tl.after(n))&&n.lastChild){if(a=Tl.after(n.lastChild),Ud(e)&&fm(n.lastChild)&&sm(n.lastChild))return lm(n.lastChild)?Tl.before(n.lastChild):a}else a=t;var u=a.container(),c=a.offset();if(cm(u)){if(Ud(e)&&c>0)return Tl(u,--c);if(Vd(e)&&c<u.length)return Tl(u,++c);r=u}else{if(Ud(e)&&c>0&&(o=gm(u,c-1),fm(o)))return!dm(o)&&(i=$d(o,e,mm,o))?cm(i)?Tl(i,i.data.length):Tl.after(i):cm(o)?Tl(o,o.data.length):Tl.before(o);if(Vd(e)&&c<u.childNodes.length&&(o=gm(u,c),fm(o)))return lm(o)?vm(n,o):!dm(o)&&(i=$d(o,e,mm,o))?cm(i)?Tl(i,0):Tl.before(i):cm(o)?Tl(o,0):Tl.after(o);r=o||a.getNode()}if((Vd(e)&&a.isAtEnd()||Ud(e)&&a.isAtStart())&&(r=$d(r,e,ve(!0),n,!0),mm(r,n)))return hm(e,r);o=$d(r,e,mm,n);var s=It(Je(pm(u,n),um));return!s||o&&s.contains(o)?o?hm(e,o):null:a=Vd(e)?Tl.after(s):Tl.before(s)},ym=function(e){return{next:function(t){return bm(Sl.Forwards,t,e)},prev:function(t){return bm(Sl.Backwards,t,e)}}},wm=function(e,t,n){var r=e?Tl.before(n):Tl.after(n);return Em(e,t,r)},xm=function(e){return yo(e)?Tl.before(e):Tl.after(e)},Cm=function(e){return Tl.isTextPosition(e)?0===e.offset():Js(e.getNode())},km=function(e){if(Tl.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return Js(e.getNode(!0))},Sm=function(e,t){return!Tl.isTextPosition(e)&&!Tl.isTextPosition(t)&&e.getNode()===t.getNode(!0)},Tm=function(e){return!Tl.isTextPosition(e)&&yo(e.getNode())},Nm=function(e,t,n){return e?!Sm(t,n)&&!Tm(t)&&km(t)&&Cm(n):!Sm(n,t)&&Cm(t)&&km(n)},Em=function(e,t,n){var r=ym(t);return Ee.from(e?r.next(n):r.prev(n))},Om=function(e,t,n){return Em(e,t,n).bind(function(r){return Gd(n,r,t)&&Nm(e,n,r)?Em(e,t,r):Ee.some(r)})},_m=function(e,t,n,r){return Om(e,t,n).bind(function(n){return r(n)?_m(e,t,n,r):Ee.some(n)})},Am=function(e,t){var n=e?t.firstChild:t.lastChild;return go(n)?Ee.some(Tl(n,e?0:n.data.length)):n?Js(n)?Ee.some(e?Tl.before(n):xm(n)):wm(e,t,n):Ee.none()},Dm=r(Em,!0),Rm=r(Em,!1),Mm=r(Am,!0),Pm=r(Am,!1),Im=function(e){return io(e)&&"_mce_caret"===e.id},zm=function(e,t){for(;t&&t!==e;){if("_mce_caret"===t.id)return t;t=t.parentNode}return null},Bm=function(e){return"string"==typeof e.start},Lm=function(e){return e.hasOwnProperty("rng")},Hm=function(e){return e.hasOwnProperty("id")},Fm=function(e){return e.hasOwnProperty("name")},jm=function(e){return Hn.isArray(e.start)},Vm=function(e,t){return io(t)&&e.isBlock(t)&&!t.innerHTML&&!Nn.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t},Um=function(e,t){var n,r=e.createRng();return n=Ul(e.getRoot(),t.start),r.setStart(n.container(),n.offset()),n=Ul(e.getRoot(),t.end),r.setEnd(n.container(),n.offset()),r},qm=function(e,t){var n=e.ownerDocument.createTextNode(us);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)},$m=function(e){return!1===e.hasChildNodes()},Wm=function(e,t){return Pm(e).fold(function(){return!1},function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0})},Gm=function(e,t,n){return!(!$m(t)||!zm(e,t))&&(qm(t,n),!0)},Km=function(e,t,n,r){var o,i,a,u,c=n[t?"start":"end"],s=e.getRoot();if(c){for(a=c[0],i=s,o=c.length-1;o>=1;o--){if(u=i.childNodes,Gm(s,i,r))return!0;if(c[o]>u.length-1)return!!Gm(s,i,r)||Wm(i,r);i=u[c[o]]}3===i.nodeType&&(a=Math.min(c[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(c[0],i.childNodes.length)),t?r.setStart(i,a):r.setEnd(i,a)}return!0},Ym=function(e){return go(e)&&e.data.length>0},Xm=function(e,t,n){var r,o,i,a,u,c,s=e.get(n.id+"_"+t),l=n.keep;if(s){if(r=s.parentNode,"start"===t?(l?s.hasChildNodes()?(r=s.firstChild,o=1):Ym(s.nextSibling)?(r=s.nextSibling,o=0):Ym(s.previousSibling)?(r=s.previousSibling,o=s.previousSibling.data.length):(r=s.parentNode,o=e.nodeIndex(s)+1):o=e.nodeIndex(s),u=r,c=o):(l?s.hasChildNodes()?(r=s.firstChild,o=1):Ym(s.previousSibling)?(r=s.previousSibling,o=s.previousSibling.data.length):(r=s.parentNode,o=e.nodeIndex(s)):o=e.nodeIndex(s),u=r,c=o),!l){for(a=s.previousSibling,i=s.nextSibling,Hn.each(Hn.grep(s.childNodes),function(e){go(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});s=e.get(n.id+"_"+t);)e.remove(s,!0);a&&i&&a.nodeType===i.nodeType&&go(a)&&!Nn.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),e.remove(i),u=a,c=o)}return Ee.some(Tl(u,c))}return Ee.none()},Jm=function(e,t){var n=e.createRng();return Km(e,!0,t,n)&&Km(e,!1,t,n)?Ee.some(n):Ee.none()},Qm=function(e,t){var n=Xm(e,"start",t),r=Xm(e,"end",t);return Es(n,r.or(n),function(t,n){var r=e.createRng();return r.setStart(Vm(e,t.container()),t.offset()),r.setEnd(Vm(e,n.container()),n.offset()),r})},Zm=function(e,t){return Ee.from(e.select(t.name)[t.index]).map(function(t){var n=e.createRng();return n.selectNode(t),n})},ep=function(e,t){var n=e.dom;if(t){if(jm(t))return Jm(n,t);if(Bm(t))return Ee.some(Um(n,t));if(Hm(t))return Qm(n,t);if(Fm(t))return Zm(n,t);if(Lm(t))return Ee.some(t.rng)}return Ee.none()},tp=function(e,t,n){return of(e,t,n)},np=function(e,t){ep(e,t).each(function(t){e.setRng(t)})},rp=function(e){return io(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},op=function(e){return function(t){return e===t}}(" "),ip=function(e){return""!==e&&-1!==" \f\n\r\t\v".indexOf(e)},ap=function(e){return!ip(e)&&!op(e)},up=function(e){return!!e.nodeType},cp=function(e){return e&&/^(IMG)$/.test(e.nodeName)},sp=function(e,t,n){var r,o,i,a=n.startOffset,u=n.startContainer;if((n.startContainer!==n.endContainer||!cp(n.startContainer.childNodes[n.startOffset]))&&1===u.nodeType)for(i=u.childNodes,a<i.length?(u=i[a],r=new gu(u,e.getParent(u,e.isBlock))):(u=i[i.length-1],r=new gu(u,e.getParent(u,e.isBlock)),r.next(!0)),o=r.current();o;o=r.next())if(3===o.nodeType&&!mp(o))return n.setStart(o,0),void t.setRng(n)},lp=function(e,t,n){if(e){var r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(1===e.nodeType||!mp(e))return e}},fp=function(e,t){return up(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},dp=function(e,t,n){return e.schema.isValidChild(t,n)},mp=function(e){return e&&go(e)&&/^([\t \r\n]+|)$/.test(e.nodeValue)},pp=function(e){return e&&go(e)&&0===e.length},gp=function(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e},hp=function(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},vp=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},bp=function(e,t,n){return vp(e,e.getStyle(t,n),n)},yp=function(e,t){var n;return e.getParent(t,function(t){return(n=e.getStyle(t,"text-decoration"))&&"none"!==n}),n},wp=function(e,t,n){return e.getParents(t,n,e.getRoot())},xp=function(e,t){var n=function(e){var t=function(e){return e.length>1&&"%"===e.charAt(0)};return We(["styles","attributes"],function(n){return St(e,n).exists(function(e){var n=Pe(e)?e:kt(e);return We(n,t)})})};return We(e.formatter.get(t),n)},Cp=function(e,t,n){var r=["inline","block","selector","attributes","styles","classes"],o=function(e){return xt(e,function(e,t){return We(r,function(e){return e===t})})};return We(e.formatter.get(t),function(t){var r=o(t);return We(e.formatter.get(n),function(e){var t=o(e);return Nt(r,t)})})},kp=rp,Sp=wp,Tp=mp,Np=fp,Ep=function(e){return"BR"===e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},Op=function(e,t){for(var n=t;n;){if(io(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},_p=function(e,t,n,r){for(var o=t.data,i=n;e?i>=0:i<o.length;e?i--:i++)if(r(o.charAt(i)))return e?i+1:i;return-1},Ap=function(e,t,n){return _p(e,t,n,function(e){return op(e)||ip(e)})},Dp=function(e,t,n){return _p(e,t,n,ap)},Rp=function(e,t,n,r,o,i){var a,u=e.getParent(n,e.isBlock)||t,c=function(t,n,r){var i=as(e),c=o?i.backwards:i.forwards;return Ee.from(c(t,n,function(e,t){return kp(e.parentNode)?-1:(a=e,r(o,e,t))},u))};return c(n,r,Ap).bind(function(e){return i?c(e.container,e.offset+(o?-1:0),Dp):Ee.some(e)}).orThunk(function(){return a?Ee.some({container:a,offset:o?0:a.length}):Ee.none()})},Mp=function(e,t,n,r,o){go(r)&&0===r.nodeValue.length&&r[o]&&(r=r[o]);for(var i=Sp(e,r),a=0;a<i.length;a++)for(var u=0;u<t.length;u++){var c=t[u];if(!("collapsed"in c&&c.collapsed!==n.collapsed)&&e.is(i[a],c.selector))return i[a]}return r},Pp=function(e,t,n,r){var o,i=e.dom,a=i.getRoot();if(t[0].wrapper||(o=i.getParent(n,t[0].block,a)),!o){var u=i.getParent(n,"LI,TD,TH");o=i.getParent(go(n)?n.parentNode:n,function(t){return t!==a&&Np(e,t)},u)}if(o&&t[0].wrapper&&(o=Sp(i,o,"ul,ol").reverse()[0]||o),!o)for(o=n;o[r]&&!i.isBlock(o[r])&&(o=o[r],!hp(o,"br")););return o||n},Ip=function(e,t,n,r,o,i,a){var u,c,s;u=c=a?n:o;var l=a?"previousSibling":"nextSibling",f=e.getRoot();if(go(u)&&!Tp(u)&&(a?r>0:i<u.nodeValue.length))return u;for(;;){if(!t[0].block_expand&&e.isBlock(c))return c;for(s=c[l];s;s=s[l])if(!kp(s)&&!Tp(s)&&!Ep(s))return c;if(c===f||c.parentNode===f){u=c;break}c=c.parentNode}return u},zp=function(e,t,n,r){void 0===r&&(r=!1);var o=t.startContainer,i=t.startOffset,a=t.endContainer,u=t.endOffset,c=e.dom;if(io(o)&&o.hasChildNodes()&&(o=Hs(o,i),go(o)&&(i=0)),io(a)&&a.hasChildNodes()&&(a=Hs(a,t.collapsed?u:u-1),go(a)&&(u=a.nodeValue.length)),o=Op(c,o),a=Op(c,a),(kp(o.parentNode)||kp(o))&&(o=kp(o)?o:o.parentNode,o=t.collapsed?o.previousSibling||o:o.nextSibling||o,go(o)&&(i=t.collapsed?o.length:0)),(kp(a.parentNode)||kp(a))&&(a=kp(a)?a:a.parentNode,a=t.collapsed?a.nextSibling||a:a.previousSibling||a,go(a)&&(u=t.collapsed?0:a.length)),t.collapsed){Rp(c,e.getBody(),o,i,!0,r).each(function(e){var t=e.container,n=e.offset;o=t,i=n});Rp(c,e.getBody(),a,u,!1,r).each(function(e){var t=e.container,n=e.offset;a=t,u=n})}return(n[0].inline||n[0].block_expand)&&(n[0].inline&&go(o)&&0!==i||(o=Ip(c,n,o,i,a,u,!0)),n[0].inline&&go(a)&&u!==a.nodeValue.length||(a=Ip(c,n,o,i,a,u,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(o=Mp(c,n,t,o,"previousSibling"),a=Mp(c,n,t,a,"nextSibling")),(n[0].block||n[0].selector)&&(o=Pp(e,n,o,"previousSibling"),a=Pp(e,n,a,"nextSibling"),n[0].block&&(c.isBlock(o)||(o=Ip(c,n,o,i,a,u,!0)),c.isBlock(a)||(a=Ip(c,n,o,i,a,u,!1)))),io(o)&&(i=c.nodeIndex(o),o=o.parentNode),io(a)&&(u=c.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:i,endContainer:a,endOffset:u}},Bp=function(e,t){var n=e.childNodes;return t>=n.length?t=n.length-1:t<0&&(t=0),n[t]||e},Lp=function(e,t){return Bp(e,t-1)},Hp=function(e,t,n){var r=t.startContainer,o=t.startOffset,i=t.endContainer,a=t.endOffset,u=function(e){var t;return t=e[0],3===t.nodeType&&t===r&&o>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===a&&e.length>0&&t===i&&3===t.nodeType&&e.splice(e.length-1,1),e},c=function(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r},s=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},l=function(e,t,r){for(var o=r?"nextSibling":"previousSibling",i=e,a=i.parentNode;i&&i!==t;i=a){a=i.parentNode;var s=c(i===e?i:i[o],o);s.length&&(r||s.reverse(),n(u(s)))}};if(1===r.nodeType&&r.hasChildNodes()&&(r=Bp(r,o)),1===i.nodeType&&i.hasChildNodes()&&(i=Lp(i,a)),r===i)return n(u([r]));for(var f=e.findCommonAncestor(r,i),d=r;d;d=d.parentNode){if(d===i)return l(r,f,!0);if(d===f)break}for(var d=i;d;d=d.parentNode){if(d===r)return l(i,f);if(d===f)break}var m=s(r,f)||r,p=s(i,f)||i;l(r,m,!0);var g=c(m===r?m:m.nextSibling,"nextSibling",p===i?p.nextSibling:p);g.length&&n(u(g)),l(i,p)},Fp=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},jp=function(e){return ot(e,function(e){var t=Ls(e);return t?[$n.fromDom(t)]:[]})},Vp=function(e){return Fp(e).length>1},Up=function(e){return Je(jp(e),ui)},qp=function(e){return Pc(e,"td[data-mce-selected],th[data-mce-selected]")},$p=function(e,t){var n=qp(t);return n.length>0?n:Up(e)},Wp=function(e){return $p(Fp(e.selection.getSel()),$n.fromDom(e.getBody()))},Gp=function(e){var t=e.startContainer,n=e.startOffset;return go(t)?0===n?Ee.some($n.fromDom(t)):Ee.none():Ee.from(t.childNodes[n]).map($n.fromDom)},Kp=function(e){var t=e.endContainer,n=e.endOffset;return go(t)?n===t.data.length?Ee.some($n.fromDom(t)):Ee.none():Ee.from(t.childNodes[n-1]).map($n.fromDom)},Yp=function(e){return Tr(e).fold(ve([e]),function(t){return[e].concat(Yp(t))})},Xp=function(e){return Nr(e).fold(ve([e]),function(t){return"br"===Wn(t)?yr(t).map(function(t){return[e].concat(Xp(t))}).getOr([]):[e].concat(Xp(t))})},Jp=function(e,t){return Es(Gp(t),Kp(t),function(t,n){var o=tt(Yp(e),r(cr,t)),i=tt(Xp(e),r(cr,n));return o.isSome()&&i.isSome()}).getOr(!1)},Qp=function(e,t,n,r){var o=n,i=new gu(n,o),a=e.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==Hn.trim(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n))}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},Zp=function(e){var t=e.selection.getSel();return t&&t.rangeCount>0},eg=function(e,t){var n=Wp(e);n.length>0?Ke(n,function(n){var r=n.dom(),o=e.dom.createRng();o.setStartBefore(r),o.setEndAfter(r),t(o,!0)}):t(e.selection.getRng(),!1)},tg=function(e,t,n){var r=rf(e,t);n(r),e.moveToBookmark(r)},ng=function(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?Ee.from(t.dom().nodeValue):Ee.none()};return{get:n,getOption:r,set:function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r}}}(Jn,"text"),rg=function(e){return ng.get(e)},og=function(e){return Jn(e)&&"\ufeff"===rg(e)},ig=function(e,t,n,r){return hr(t).fold(function(){return"skipping"},function(o){return"br"===r||og(t)?"valid":qc(t)?"existing":Im(t)?"caret":dp(e,n,r)&&dp(e,Wn(o),n)?"valid":"invalid-child"})},ag=function(e,t){var n=zp(e,t,[{inline:!0}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},ug=function(e,t,n,r){var i=t.uid,a=void 0===i?Jc("mce-annotation"):i,u=o(t,["uid"]),c=$n.fromTag("span",e);_c(c,Fc()),So(c,""+Vc(),a),So(c,""+jc(),n);var s=r(a,u),l=s.attributes,f=void 0===l?{}:l,d=s.classes,m=void 0===d?[]:d;return To(c,f),Qc(c,m),c},cg=function(e,t,n,r,o){var i=[],a=ug(e.getDoc(),o,n,r),u=ic(Ee.none()),c=function(){u.set(Ee.none())},s=function(){return u.get().getOrThunk(function(){var e=rs(a);return i.push(e),u.set(Ee.some(e)),e})},l=function(e){Ke(e,f)},f=function(t){switch(ig(e,t,"span",Wn(t))){case"invalid-child":c();var n=kr(t);l(n),c();break;case"valid":var r=s();Lr(t,r)}},d=function(e){var t=Ge(e,$n.fromDom);l(t)};return Hp(e.dom,t,function(e){c(),d(e)}),i},sg=function(e,t,n,r){e.undoManager.transact(function(){var o=e.selection,i=o.getRng(),a=Wp(e).length>0;if(i.collapsed&&!a&&ag(e,i),o.getRng().collapsed&&!a){var u=ug(e.getDoc(),r,t,n.decorate);ts(u," "),o.getRng().insertNode(u.dom()),o.select(u.dom())}else tg(o,!1,function(){eg(e,function(o){cg(e,o,t,n.decorate,r)})})})},lg=function(e){var t=Yc();Kc(e,t);var n=Gc(e);return{register:function(e,n){t.register(e,n)},annotate:function(n,r){t.lookup(n).each(function(t){sg(e,n,t,r)})},annotationChanged:function(e,t){n.addListener(e,t)},remove:function(t){Uc(e,Ee.some(t)).each(function(e){var t=e.elements;Ke(t,Ur)})},getAll:function(t){var n=Wc(e,t);return ht(n,function(e){return Ge(e,function(e){return e.dom()})})}}},fg=/^[ \t\r\n]*$/,dg={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},mg=function(e,t,n){var r=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[r])return e[r];if(e!==t){var i=e[o];if(i)return i;for(var a=e.parent;a&&a!==t;a=a.parent)if(i=a[o])return i}},pg=function(e){if(!fg.test(e.value))return!1;var t=e.parent;return!t||"span"===t.name&&!t.attr("style")||!/^[ ]+$/.test(e.value)},gg=function(e){var t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t},hg=function(){function e(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var r=new e(t,dg[t]||1);return n&&gt(n,function(e,t){r.attr(t,e)}),r},e.prototype.replace=function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},e.prototype.attr=function(e,t){var n,r=this;if("string"!=typeof e)return void 0!==e&&null!==e&&gt(e,function(e,t){r.attr(t,e)}),r;if(n=r.attributes){if(void 0!==t){if(null===t){if(e in n.map){delete n.map[e];for(var o=n.length;o--;)if(n[o].name===e)return n.splice(o,1),r}return r}if(e in n.map){for(var o=n.length;o--;)if(n[o].name===e){n[o].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,r}return n.map[e]}},e.prototype.clone=function(){var t,n=this,r=new e(n.name,n.type);if(t=n.attributes){var o=[];o.map={};for(var i=0,a=t.length;i<a;i++){var u=t[i];"id"!==u.name&&(o[o.length]={name:u.name,value:u.value},o.map[u.name]=u.value)}r.attributes=o}return r.value=n.value,r.shortEnded=n.shortEnded,r},e.prototype.wrap=function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},e.prototype.unwrap=function(){for(var e=this,t=e.firstChild;t;){var n=t.next;e.insert(t,e,!0),t=n}e.remove()},e.prototype.remove=function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r.next=n,t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n.prev=r,e.parent=e.next=e.prev=null),e},e.prototype.append=function(e){var t=this;e.parent&&e.remove();var n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e},e.prototype.insert=function(e,t,n){e.parent&&e.remove();var r=t.parent||this;return n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},e.prototype.getAll=function(e){for(var t=this,n=[],r=t.firstChild;r;r=mg(r,t))r.name===e&&n.push(r);return n},e.prototype.empty=function(){var e=this;if(e.firstChild){for(var t=[],n=e.firstChild;n;n=mg(n,e))t.push(n);for(var r=t.length;r--;){var n=t[r];n.parent=n.firstChild=n.lastChild=n.next=n.prev=null}}return e.firstChild=e.lastChild=null,e},e.prototype.isEmpty=function(e,t,n){void 0===t&&(t={});var r=this,o=r.firstChild;if(gg(r))return!1;if(o)do{if(1===o.type){if(o.attr("data-mce-bogus"))continue;if(e[o.name])return!1;if(gg(o))return!1}if(8===o.type)return!1;if(3===o.type&&!pg(o))return!1;if(3===o.type&&o.parent&&t[o.parent.name]&&fg.test(o.value))return!1;if(n&&n(o))return!1}while(o=mg(o,r));return!0},e.prototype.walk=function(e){return mg(this,null,e)},e}(),vg=Hn.makeMap,bg=function(e){var t=[];e=e||{};var n=e.indent,r=vg(e.indent_before||""),o=vg(e.indent_after||""),i=_i.getEncodeFunc(e.entity_encoding||"raw",e.entities),a="html"===e.element_format;return{start:function(e,u,c){var s,l,f,d;if(n&&r[e]&&t.length>0&&(d=t[t.length-1],d.length>0&&"\n"!==d&&t.push("\n")),t.push("<",e),u)for(s=0,l=u.length;s<l;s++)f=u[s],t.push(" ",f.name,'="',i(f.value,!0),'"');t[t.length]=!c||a?">":" />",c&&n&&o[e]&&t.length>0&&(d=t[t.length-1],d.length>0&&"\n"!==d&&t.push("\n"))},end:function(e){var r;t.push("</",e,">"),n&&o[e]&&t.length>0&&(r=t[t.length-1],r.length>0&&"\n"!==r&&t.push("\n"))},text:function(e,n){e.length>0&&(t[t.length]=n?e:i(e))},cdata:function(e){t.push("<![CDATA[",e,"]]>")},comment:function(e){t.push("\x3c!--",e,"--\x3e")},pi:function(e,r){r?t.push("<?",e," ",i(r),"?>"):t.push("<?",e,"?>"),n&&t.push("\n")},doctype:function(e){t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}},yg=function(e,t){void 0===t&&(t=a());var n=bg(e);return e=e||{},e.validate=!("validate"in e)||e.validate,{serialize:function(r){var o=e.validate,i={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)do{a(e)}while(e=e.next)}};n.reset();var a=function(e){var r,u,c,s,l,f,d,m,p,g=i[e.type];if(g)g(e);else{if(r=e.name,u=e.shortEnded,c=e.attributes,o&&c&&c.length>1&&(f=[],f.map={},p=t.getElementRule(e.name))){for(d=0,m=p.attributesOrder.length;d<m;d++)(s=p.attributesOrder[d])in c.map&&(l=c.map[s],f.map[s]=l,f.push({name:s,value:l}));for(d=0,m=c.length;d<m;d++)(s=c[d].name)in f.map||(l=c.map[s],f.map[s]=l,f.push({name:s,value:l}));c=f}if(n.start(e.name,c,u),!u){if(e=e.firstChild)do{a(e)}while(e=e.next);n.end(r)}}};return 1!==r.type||e.inner?i[11](r):a(r),n.getContent()}}},wg=function(e){for(var t,n=/data:[^;]+;base64,([a-z0-9\+\/=]+)/gi,r=[],o={},i=Jc("img"),a=0,u=0;t=n.exec(e);){var c=t[0],s=i+"_"+u++;o[s]=c,a<t.index&&r.push(e.substr(a,t.index-a)),r.push(s),a=t.index+c.length}return 0===a?{prefix:i,uris:o,html:e}:(a<e.length&&r.push(e.substr(a)),{prefix:i,uris:o,html:r.join("")})},xg=function(e,t){return e.replace(new RegExp(t.prefix+"_[0-9]+","g"),function(e){return St(t.uris,e).getOr(e)})},Cg=function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(e);return t?Ee.some({type:t[1],data:decodeURIComponent(t[2])}):Ee.none()},kg=function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")},Sg=function(e,t){return!e.allow_html_data_urls&&(/^data:image\//i.test(t)?!1===e.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t))},Tg=function(e,t,n){var r,o,i=1,a=e.getShortEndedElements(),u=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;for(u.lastIndex=r=n;o=u.exec(t);){if(r=u.lastIndex,"/"===o[1])i--;else if(!o[1]){if(o[2]in a)continue;i++}if(0===i)break}return r},Ng=function(e,t){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t))},Eg=function(e,t,n){void 0===n&&(n=0);var r=e.toLowerCase();if(-1!==r.indexOf("[if ",n)&&Ng(r,n)){var o=r.indexOf("[endif]",n);return r.indexOf(">",o)}if(t){var i=r.indexOf(">",n);return-1!==i?i:r.length}var a=/--!?>/;a.lastIndex=n;var u=a.exec(e);return u?u.index+u[0].length:r.length},Og=function(e,t){var n=e.exec(t);if(n){var r=n[1],o=n[2];return"string"==typeof r&&"data-mce-bogus"===r.toLowerCase()?o:null}return null};!function(e){e.findEndTag=Tg}(O||(O={}));var _g,Ag=O,Dg=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},Rg=function(e,t){var n,r,o,i,a=t,u=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,c=e.schema;a=Dg(e.getTempAttrs(),a);for(var s=c.getShortEndedElements();i=u.exec(a);)r=u.lastIndex,o=i[0].length,n=s[i[1]]?r:Ag.findEndTag(c,a,r),a=a.substring(0,r-o)+a.substring(n),u.lastIndex=r-o;return ss(a)},Mg=Rg,Pg=function(e,t){var n=hf(e),r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return t.replace(r,"")},Ig=function(e,t,n,r){var o;if(t.format=n,t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),"raw"===t.format)o=Hn.trim(Mg(e.serializer,r.innerHTML));else if("text"===t.format)o=ss(r.innerText||r.textContent);else{if("tree"===t.format)return e.serializer.serialize(r,t);o=Pg(e,e.serializer.serialize(r,t))}return"text"===t.format||ci($n.fromDom(r))?t.content=o:t.content=Hn.trim(o),t.no_events||e.fire("GetContent",t),t.content},zg=function(e,t,n){return Ee.from(e.getBody()).fold(ve("tree"===t.format?new hg("body",11):""),function(r){return Ig(e,t,n,r)})},Bg=Hn.each,Lg=function(e){this.compare=function(t,n){if(t.nodeName!==n.nodeName)return!1;var r=function(t){var n={};return Bg(e.getAttribs(t),function(r){var o=r.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(n[o]=e.getAttrib(t,o))}),n},o=function(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(void 0===(n=t[r]))return!1;if(e[r]!==n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0};return!!o(r(t),r(n))&&(!!o(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))&&(!rp(t)&&!rp(n)))}},Hg=function(e,t,n){return Ee.from(n.container()).filter(go).exists(function(r){var o=e?0:-1;return t(r.data.charAt(n.offset()+o))})},Fg=r(Hg,!0,ip),jg=r(Hg,!1,ip),Vg=function(e){var t=e.container();return go(t)&&0===t.data.length},Ug=function(e,t){return function(n){return Ee.from(Kd(e?0:-1,n)).filter(t).isSome()}},qg=function(e){return"IMG"===e.nodeName&&"block"===Do($n.fromDom(e),"display")},$g=function(e){return xo(e)&&!lo(e)},Wg=Ug(!0,qg),Gg=Ug(!1,qg),Kg=Ug(!0,fo),Yg=Ug(!1,fo),Xg=Ug(!0,$g),Jg=Ug(!1,$g),Qg=function(e,t,n){return Bc(e,t,n).isSome()},Zg=function(e,t){var n=$n.fromDom(e),o=$n.fromDom(t);return Qg(o,"pre,code",r(cr,n))},eh=function(e,t){return go(t)&&/^[ \t\r\n]*$/.test(t.data)&&!1===Zg(e,t)},th=function(e){return io(e)&&"A"===e.nodeName&&e.hasAttribute("name")},nh=function(e,t){return Js(t)&&!1===eh(e,t)||th(t)||rh(t)},rh=co("data-mce-bookmark"),oh=co("data-mce-bogus"),ih=function(e,t){return function(n){return io(n)&&n.getAttribute(e)===t}}("data-mce-bogus","all"),ah=function(e,t){var n,r=0;if(nh(e,e))return!1;if(!(n=e.firstChild))return!0;var o=new gu(n,e);do{if(t){if(ih(n)){n=o.next(!0);continue}if(oh(n)){n=o.next();continue}}if(yo(n))r++,n=o.next();else{if(nh(e,n))return!1;n=o.next()}}while(n);return r<=1},uh=function(e,t){return void 0===t&&(t=!0),ah(e.dom(),t)},ch=function(e){for(var t=[],n=e.dom();n;)t.push($n.fromDom(n)),n=n.lastChild;return t},sh=function(e){var t=Pc(e,"br"),n=Je(ch(e).slice(-1),ti);t.length===n.length&&Ke(n,Vr)},lh=function(e){jr(e),Br(e,$n.fromHtml('<br data-mce-bogus="1">'))},fh=function(e){Nr(e).each(function(t){yr(t).each(function(n){Qo(e)&&ti(t)&&Qo(n)&&Vr(t)})})},dh=function(e){return e.slice(0,-1)},mh=function(e,t,n){return fr(t,e)?dh(vr(e,function(e){return n(e)||cr(e,t)})):[]},ph=function(e,t){return mh(e,t,ve(!1))},gh=function(e,t){return[e].concat(ph(e,t))},hh=function(e,t,n){return Ze(e,function(r,o){return ip(o)||op(o)?r.previousCharIsSpace||""===r.str&&t||r.str.length===e.length-1&&n?{previousCharIsSpace:!1,str:r.str+" "}:{previousCharIsSpace:!0,str:r.str+" "}:{previousCharIsSpace:!1,str:r.str+o}},{previousCharIsSpace:!1,str:""}).str},vh=function(e,t,n){if(0!==n){var r=e.data.slice(t,t+n),o=t+n>=e.data.length,i=0===t;e.replaceData(t,n,hh(r,i,o))}},bh=function(e,t){var n=e.data.slice(t),r=n.length-an(n).length;return vh(e,t,r)},yh=function(e,t){var n=e.data.slice(0,t),r=n.length-un(n).length;return vh(e,t-r,r)},wh=function(e,t,n){var r=un(e.data).length;return e.appendData(t.data),Vr($n.fromDom(t)),n&&bh(e,r),e},xh=function(e,t){var n=e.container(),r=e.offset();return!1===Tl.isTextPosition(e)&&n===t.parentNode&&r>Tl.before(t).offset()},Ch=function(e,t){return xh(t,e)?Tl(t.container(),t.offset()-1):t},kh=function(e){return go(e)?Tl(e,0):Tl.before(e)},Sh=function(e){return go(e)?Tl(e,e.data.length):Tl.after(e)},Th=function(e){return Js(e.previousSibling)?Ee.some(Sh(e.previousSibling)):e.previousSibling?Pm(e.previousSibling):Ee.none()},Nh=function(e){return Js(e.nextSibling)?Ee.some(kh(e.nextSibling)):e.nextSibling?Mm(e.nextSibling):Ee.none()},Eh=function(e,t){var n=Tl.before(t.previousSibling?t.previousSibling:t.parentNode);return Rm(e,n).fold(function(){return Dm(e,Tl.after(t))},Ee.some)},Oh=function(e,t){return Dm(e,Tl.after(t)).fold(function(){return Rm(e,Tl.before(t))},Ee.some)},_h=function(e,t){return Th(t).orThunk(function(){return Nh(t)}).orThunk(function(){return Eh(e,t)})},Ah=function(e,t){return Nh(t).orThunk(function(){return Th(t)}).orThunk(function(){return Oh(e,t)})},Dh=function(e,t,n){return e?Ah(t,n):_h(t,n)},Rh=function(e,t,n){return Dh(e,t,n).map(r(Ch,n))},Mh=function(e,t,n){n.fold(function(){e.focus()},function(n){e.selection.setRng(n.toRange(),t)})},Ph=function(e){return function(t){return t.dom()===e}},Ih=function(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(Wn(t))},zh=function(e){if(uh(e)){var t=$n.fromHtml('<br data-mce-bogus="1">');return jr(e),Br(e,t),Ee.some(Tl.before(t.dom()))}return Ee.none()},Bh=function(e,t,n){var r=yr(e).filter(Jn),o=wr(e).filter(Jn);return Vr(e),Os(r,o,t,function(e,t,r){var o=e.dom(),i=t.dom(),a=o.data.length;return wh(o,i,n),r.container()===i?Tl(o,a):r}).orThunk(function(){return n&&(r.each(function(e){return yh(e.dom(),e.dom().length)}),o.each(function(e){return bh(e.dom(),0)})),t})},Lh=function(e,t){return Tt(e.schema.getTextInlineElements(),Wn(t))},Hh=function(e,t,n,o){void 0===o&&(o=!0);var i=Rh(t,e.getBody(),n.dom()),a=Ic(n,r(Ih,e),Ph(e.getBody())),u=Bh(n,i,Lh(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):a.bind(zh).fold(function(){o&&Mh(e,t,u)},function(n){o&&Mh(e,t,Ee.some(n))})},Fh=function(e,t){return{start:e,end:t}},jh=function(e,t,n){return{rng:e,table:t,cells:n}},Vh=Iu.generate([{removeTable:["element"]},{emptyCells:["cells"]},{deleteCellSelection:["rng","cell"]}]),Uh=function(e){return function(t){return cr(e,t)}},qh=function(e,t){return Hc($n.fromDom(e),"td,th",t)},$h=function(e,t){return Bc(e,"table",t)},Wh=function(e){return!cr(e.start,e.end)},Gh=function(e,t){return $h(e.start,t).bind(function(n){return $h(e.end,t).bind(function(e){return _s(cr(n,e),n)})})},Kh=function(e,t){return!Wh(e)&&Gh(e,t).exists(function(e){var t=e.dom().rows;return 1===t.length&&1===t[0].cells.length})},Yh=function(e){return Pc(e,"td,th")},Xh=function(e,t){var n=qh(e.startContainer,t),r=qh(e.endContainer,t);return Es(n,r,Fh)},Jh=function(e,t){return $h(e.start,t).bind(function(t){return ft(Yh(t)).map(function(t){return Fh(e.start,t)})})},Qh=function(e,t){var n=qh(t.startContainer,e),r=qh(t.endContainer,e);return t.collapsed?Ee.none():Es(n,r,Fh).fold(function(){return n.fold(function(){return r.bind(function(t){return $h(t,e).bind(function(e){return lt(Yh(e)).map(function(e){return Fh(e,t)})})})},function(t){return $h(t,e).bind(function(e){return ft(Yh(e)).map(function(e){return Fh(t,e)})})})},function(t){return Zh(e,t)?Ee.none():Jh(t,e)})},Zh=function(e,t){return Gh(t,e).isSome()},ev=function(e,t){return Gh(e,t).map(function(t){return jh(e,t,Yh(t))})},tv=function(e,t,n){return e.filter(function(e){return Wh(e)&&Zh(n,e)}).orThunk(function(){return Qh(n,t)}).bind(function(e){return ev(e,n)})},nv=function(e,t){return nt(e,function(e){return cr(e,t)})},rv=function(e){return Es(nv(e.cells,e.rng.start),nv(e.cells,e.rng.end),function(t,n){return e.cells.slice(t,n+1)})},ov=function(e,t,n){return e.filter(function(e){return Kh(e,n)&&Jp(e.start,t)}).map(function(e){return e.start})},iv=function(e){return rv(e).map(function(t){var n=e.cells;return t.length===n.length?Vh.removeTable(e.table):Vh.emptyCells(t)})},av=function(e,t){var n=Uh(e),r=Xh(t,n);return ov(r,t,n).map(function(e){return Vh.deleteCellSelection(t,e)}).orThunk(function(){return tv(r,t,n).bind(iv)})},uv=function(e){return(Yn(e)?yr(e):Nr(e)).bind(uv).orThunk(function(){return Ee.some(e)})},cv=function(e,t){return Ke(t,lh),e.selection.setCursorLocation(t[0].dom(),0),!0},sv=function(e,t,n){t.deleteContents();var r=uv(n).getOr(n),o=$n.fromDom(e.dom.getParent(r.dom(),e.dom.isBlock));if(uh(o)&&(lh(o),e.selection.setCursorLocation(o.dom(),0)),!cr(n,o)){var i=hr(o).is(n)?[]:br(o);Ke(i.concat(kr(n)),function(e){cr(e,o)||fr(e,o)||Vr(e)})}return!0},lv=function(e,t){return Hh(e,!1,t),!0},fv=function(e,t,n){return av(t,n).map(function(t){return t.fold(r(lv,e),r(cv,e),r(sv,e))})},dv=function(e,t){return bv(e,t)},mv=function(e,t,n,r){return hv(t,r).fold(function(){return fv(e,t,n)},function(t){return dv(e,t)}).getOr(!1)},pv=function(e,t){var n=$n.fromDom(e.getBody()),r=e.selection.getRng(),o=Wp(e);return 0!==o.length?cv(e,o):mv(e,n,r,t)},gv=function(e,t){return tt(gh(t,e),ui)},hv=function(e,t){return tt(gh(t,e),function(e){return"caption"===Wn(e)})},vv=function(e,t,n,r,o){return Om(n,e.getBody(),o).bind(function(e){return gv(t,$n.fromDom(e.getNode())).map(function(e){return!1===cr(e,r)})})},bv=function(e,t){return lh(t),e.selection.setCursorLocation(t.dom(),0),Ee.some(!0)},yv=function(e,t,n,r){return Mm(e.dom()).bind(function(o){return Pm(e.dom()).map(function(e){return t?n.isEqual(o)&&r.isEqual(e):n.isEqual(e)&&r.isEqual(o)})}).getOr(!0)},wv=function(e,t){return bv(e,t)},xv=function(e,t,n){return hv(e,$n.fromDom(n.getNode())).map(function(e){return!1===cr(e,t)})},Cv=function(e,t,n,r,o){return Om(n,e.getBody(),o).bind(function(i){return yv(r,n,o,i)?wv(e,r):xv(t,r,i)}).or(Ee.some(!0))},kv=function(e,t,n,r){var o=Tl.fromRangeStart(e.selection.getRng());return gv(n,r).bind(function(r){return uh(r)?bv(e,r):vv(e,n,t,r,o)}).getOr(!1)},Sv=function(e,t,n,r){var o=Tl.fromRangeStart(e.selection.getRng());return uh(r)?bv(e,r):Cv(e,n,t,r,o)},Tv=function(e,t){return e?Kg(t):Yg(t)},Nv=function(e,t){var n=Tl.fromRangeStart(e.selection.getRng());return Tv(t,n)||Em(t,e.getBody(),n).map(function(e){return Tv(t,e)}).getOr(!1)},Ev=function(e,t,n){var r=$n.fromDom(e.getBody());return hv(r,n).fold(function(){return kv(e,t,r,n)||Nv(e,t)},function(n){return Sv(e,t,r,n).getOr(!1)})},Ov=function(e,t){var n=$n.fromDom(e.selection.getStart(!0)),r=Wp(e);return e.selection.isCollapsed()&&0===r.length?Ev(e,t,n):pv(e,n)},_v=function(e,t,r,o){var i=n.document.createRange();return i.setStart(e,t),i.setEnd(r,o),i},Av=function(e){var t=Tl.fromRangeStart(e),n=Tl.fromRangeEnd(e),r=e.commonAncestorContainer;return Em(!1,r,n).map(function(o){return!Gd(t,n,r)&&Gd(t,o,r)?_v(t.container(),t.offset(),o.container(),o.offset()):e}).getOr(e)},Dv=function(e){return e.collapsed?e:Av(e)},Rv=function(e){return e.firstChild&&e.firstChild===e.lastChild},Mv=function(e){return"br"===e.name||" "===e.value},Pv=function(e,t){return e.getBlockElements()[t.name]&&Rv(t)&&Mv(t.firstChild)},Iv=function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||Pv(e,t))},zv=function(e,t){var n=t.firstChild,r=t.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),Iv(e,r)&&(r=r.prev),!(!n||n!==r)&&("ul"===n.name||"ol"===n.name)},Bv=function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e},Lv=function(e,t,n){var r=t.serialize(n),o=e.createFragment(r);return Bv(o)},Hv=function(e){return Hn.grep(e.childNodes,function(e){return"LI"===e.nodeName})},Fv=function(e){return" "===e.data||yo(e)},jv=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&Fv(e.firstChild)},Vv=function(e){return!e.firstChild||jv(e)},Uv=function(e){return e.length>0&&Vv(e[e.length-1])?e.slice(0,-1):e},qv=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},$v=function(e,t){return!!qv(e,t)},Wv=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},Gv=function(e,t){var n=Tl.before(e),r=ym(t),o=r.next(n);return o?o.toRange():null},Kv=function(e,t){var n=Tl.after(e),r=ym(t),o=r.prev(n);return o?o.toRange():null},Yv=function(e,t,n,r){var o=Wv(e,r),i=e.parentNode;return i.insertBefore(o[0],e),Hn.each(t,function(t){i.insertBefore(t,e)}),i.insertBefore(o[1],e),i.removeChild(e),Kv(t[t.length-1],n)},Xv=function(e,t,n){var r=e.parentNode;return Hn.each(t,function(t){r.insertBefore(t,e)}),Gv(e,n)},Jv=function(e,t,n,r){return r.insertAfter(t.reverse(),e),Kv(t[0],n)},Qv=function(e,t,n,r){var o=Lv(t,e,r),i=qv(t,n.startContainer),a=Uv(Hv(o.firstChild)),u=t.getRoot(),c=function(e){var r=Tl.fromRangeStart(n),o=ym(t.getRoot()),a=1===e?o.prev(r):o.next(r);return!a||qv(t,a.getNode())!==i};return c(1)?Xv(i,a,u):c(2)?Jv(i,a,u,t):Yv(i,a,u,n)},Zv=function(e,t){return go(e)&&" "===e.nodeValue[t-1]},eb=function(e,t){var n=e.startContainer,r=e.startOffset,o=function(e){return n[e]&&3===n[e].nodeType};return go(n)&&(r>0?t=t.replace(/^&nbsp;/," "):o("previousSibling")||(t=t.replace(/^ /,"&nbsp;")),r<n.length?t=t.replace(/&nbsp;(<br>|)$/," "):o("nextSibling")||(t=t.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),t},tb=function(e,t){var n=e.startContainer,r=e.startOffset;return go(n)&&e.collapsed&&(" "===n.data[r]?(n.deleteData(r,1),/[\u00a0| ]$/.test(t)||(t+=" ")):" "===n.data[r-1]&&(n.deleteData(r-1,1),/[\u00a0| ]$/.test(t)||(t=" "+t))),t},nb=ao(["td","th"]),rb=function(e,t,n){if(null!==n){return n===e.getParent(t.endContainer,nb)&&Jp($n.fromDom(n),t)}return!1},ob=function(e,t){var n=e.selection.getRng(),r=n.startContainer,o=n.startOffset;n.collapsed&&Zv(r,o)&&go(r)&&(r.insertData(o-1," "),r.deleteData(o,1),n.setStart(r,o),n.setEnd(r,o),e.selection.setRng(n)),e.selection.setContent(t)},ib=function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,o=n.lastChild;!r||r===o&&"BR"===r.nodeName?e.dom.setHTML(n,t):ob(e,t)}},ab=function(e,t){Ee.from(e.getParent(t,"td,th")).map($n.fromDom).each(fh)},ub=function(e,t){var n=e.schema.getTextInlineElements(),r=e.dom;if(t){var o=e.getBody(),i=new Lg(r);Hn.each(r.select("*[data-mce-fragment]"),function(e){for(var t=e.parentNode;t&&t!==o;t=t.parentNode)n[e.nodeName.toLowerCase()]&&i.compare(t,e)&&r.remove(e,!0)})}},cb=function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")},sb=function(e){Hn.each(e.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")})},lb=function(e){return!!e.getAttribute("data-mce-fragment")},fb=function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]},db=function(e,t){var n,r,o=e.dom,i=e.selection;if(t){e.selection.scrollIntoView(t);var a=function(t){for(var n=e.getBody();t&&t!==n;t=t.parentNode)if("false"===e.dom.getContentEditable(t))return t;return null}(t);if(a)return o.remove(t),void i.select(a);var u=o.createRng(),c=t.previousSibling;c&&3===c.nodeType?(u.setStart(c,c.nodeValue.length),Nn.ie||(r=t.nextSibling)&&3===r.nodeType&&(c.appendData(r.data),r.parentNode.removeChild(r))):(u.setStartBefore(t),u.setEndBefore(t));var s=o.getParent(t,o.isBlock);o.remove(t),s&&o.isEmpty(s)&&(e.$(s).empty(),u.setStart(s,0),u.setEnd(s,0),nb(s)||lb(s)||!(n=function(t){var n=Tl.fromRangeStart(t);if(n=ym(e.getBody()).next(n))return n.toRange()}(u))?o.add(s,o.create("br",{"data-mce-bogus":"1"})):(u=n,o.remove(s))),i.setRng(u)}},mb=function(e){var t=e.dom,n=Dv(e.selection.getRng());e.selection.setRng(n);var r=t.getParent(n.startContainer,nb);rb(t,n,r)?sv(e,n,$n.fromDom(r)):e.getDoc().execCommand("Delete",!1,null)},pb=function(e,t,n){var r,o,i,a,u,c,s=e.selection,l=e.dom;/^ | $/.test(t)&&(t=eb(s.getRng(),t));var f=e.parser,d=n.merge,m=yg({validate:Yf(e)},e.schema),p='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>';if(i={content:t,format:"html",selection:!0,paste:n.paste},i=e.fire("BeforeSetContent",i),i.isDefaultPrevented())return void e.fire("SetContent",{content:i.content,format:"html",selection:!0,paste:n.paste});t=i.content,-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,p),u=s.getRng();var g=u.startContainer||(u.parentElement?u.parentElement():null),h=e.getBody();g===h&&s.isCollapsed()&&l.isBlock(h.firstChild)&&fb(e,h.firstChild)&&l.isEmpty(h.firstChild)&&(u=l.createRng(),u.setStart(h.firstChild,0),u.setEnd(h.firstChild,0),s.setRng(u)),s.isCollapsed()||(mb(e),t=tb(e.selection.getRng(),t)),r=s.getNode();var v={context:r.nodeName.toLowerCase(),data:n.data,insert:!0},b=f.parse(t,v);if(!0===n.paste&&zv(e.schema,b)&&$v(l,r))return u=Qv(m,l,e.selection.getRng(),b),e.selection.setRng(u),void e.fire("SetContent",i);if(cb(b),c=b.lastChild,"mce_marker"===c.attr("id"))for(a=c,c=c.prev;c;c=c.walk(!0))if(3===c.type||!l.isBlock(c.name)){e.schema.isValidChild(c.parent.name,"span")&&c.parent.insert(a,c,"br"===c.name);break}if(e._selectionOverrides.showBlockCaretContainer(r),v.invalid){for(ob(e,p),r=s.getNode(),o=e.getBody(),9===r.nodeType?r=c=o:c=r;c!==o;)r=c,c=c.parentNode;t=r===o?o.innerHTML:l.getOuterHTML(r),t=m.serialize(f.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return m.serialize(b)}))),r===o?l.setHTML(o,t):l.setOuterHTML(r,t)}else t=m.serialize(b),ib(e,t,r);ub(e,d),db(e,l.get("mce_marker")),sb(e.getBody()),ab(e.dom,e.selection.getStart()),e.fire("SetContent",i),e.addVisual()},gb=function(){return $n.fromDom(n.document)},hb=function(e){var t=Ar(e).dom();return e.dom()===t.activeElement},vb=function(e){return void 0===e&&(e=gb()),Ee.from(e.dom().activeElement).map($n.fromDom)},bb=function(e){return vb(Ar(e)).filter(function(t){return e.dom().contains(t.dom())})},yb=function(e,t,n,r){return{start:ve(e),soffset:ve(t),finish:ve(n),foffset:ve(r)}},wb={create:yb},xb=Iu.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Cb=function(e,t,n,r){return e.fold(t,n,r)},kb=function(e){return e.fold(be,be,be)},Sb=xb.before,Tb=xb.on,Nb=xb.after,Eb={before:Sb,on:Tb,after:Nb,cata:Cb,getStart:kb},Ob=Iu.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),_b=function(e){return Ob.exact(e.start(),e.soffset(),e.finish(),e.foffset())},Ab=function(e){return e.match({domRange:function(e){return $n.fromDom(e.startContainer)},relative:function(e,t){return Eb.getStart(e)},exact:function(e,t,n,r){return e}})},Db=Ob.domRange,Rb=Ob.relative,Mb=Ob.exact,Pb=function(e){var t=Ab(e);return gr(t)},Ib=wb.create,zb={domRange:Db,relative:Rb,exact:Mb,exactFromRange:_b,getWin:Pb,range:Ib},Bb=vn().browser,Lb=function(e,t){var n=Jn(t)?rg(t).length:kr(t).length+1;return e>n?n:e<0?0:e},Hb=function(e){return zb.range(e.start(),Lb(e.soffset(),e.start()),e.finish(),Lb(e.foffset(),e.finish()))},Fb=function(e,t){return!oo(t.dom())&&(fr(e,t)||cr(e,t))},jb=function(e){return function(t){return Fb(e,t.start())&&Fb(e,t.finish())}},Vb=function(e){return!0===e.inline||Bb.isIE()},Ub=function(e){return zb.range($n.fromDom(e.startContainer),e.startOffset,$n.fromDom(e.endContainer),e.endOffset)},qb=function(e){var t=e.getSelection();return(t&&0!==t.rangeCount?Ee.from(t.getRangeAt(0)):Ee.none()).map(Ub)},$b=function(e){var t=gr(e);return qb(t.dom()).filter(jb(e))},Wb=function(e,t){return Ee.from(t).filter(jb(e)).map(Hb)},Gb=function(e){var t=n.document.createRange();try{return t.setStart(e.start().dom(),e.soffset()),t.setEnd(e.finish().dom(),e.foffset()),Ee.some(t)}catch(e){return Ee.none()}},Kb=function(e){var t=Vb(e)?$b($n.fromDom(e.getBody())):Ee.none();e.bookmark=t.isSome()?t:e.bookmark},Yb=function(e,t){var n=$n.fromDom(e.getBody()),r=Vb(e)?Ee.from(t):Ee.none(),o=r.map(Ub).filter(jb(n));e.bookmark=o.isSome()?o:e.bookmark},Xb=function(e){return(e.bookmark?e.bookmark:Ee.none()).bind(function(t){return Wb($n.fromDom(e.getBody()),t)}).bind(Gb)},Jb=function(e){Xb(e).each(function(t){e.selection.setRng(t)})},Qb=function(e){var t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")},Zb={isEditorUIElement:Qb},ey=function(e){return"nodechange"===e.type&&e.selectionChange},ty=function(e,t){var r=function(){t.throttle()};ec.DOM.bind(n.document,"mouseup",r),e.on("remove",function(){ec.DOM.unbind(n.document,"mouseup",r)})},ny=function(e){e.on("focusout",function(){Kb(e)})},ry=function(e,t){e.on("mouseup touchend",function(e){t.throttle()})},oy=function(e,t){vn().browser.isIE()?ny(e):ry(e,t),e.on("keyup NodeChange",function(t){ey(t)||Kb(e)})},iy=function(e){var t=wc(function(){Kb(e)},0);e.on("init",function(){e.inline&&ty(e,t),oy(e,t)}),e.on("remove",function(){t.cancel()})},ay=ec.DOM,uy=function(e){return Zb.isEditorUIElement(e)},cy=function(e){var t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},sy=function(e,t){var n=Zf(e);return null!==ay.getParent(t,function(t){return uy(t)||!!n&&e.dom.is(t,n)})},ly=function(){try{return n.document.activeElement}catch(e){return n.document.body}},fy=function(e,t){var r=t.editor;iy(r),r.on("focusin",function(){var t=this,n=e.focusedEditor;n!==t&&(n&&n.fire("blur",{focusedEditor:t}),e.setActive(t),e.focusedEditor=t,t.fire("focus",{blurredEditor:n}),t.focus(!0))}),r.on("focusout",function(){var t=this;qu.setEditorTimeout(t,function(){var n=e.focusedEditor;sy(t,ly())||n!==t||(t.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),_g||(_g=function(t){var r=e.activeEditor,o=t.target;r&&o.ownerDocument===n.document&&(o===n.document.body||sy(r,o)||e.focusedEditor!==r||(r.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},ay.bind(n.document,"focusin",_g))},dy=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(ay.unbind(n.document,"focusin",_g),_g=null)},my=function(e){e.on("AddEditor",r(fy,e)),e.on("RemoveEditor",r(dy,e))},py=function(e,t){return e.dom.getParent(t,function(t){return"true"===e.dom.getContentEditable(t)})},gy=function(e){return e.collapsed?Ee.from(Hs(e.startContainer,e.startOffset)).map($n.fromDom):Ee.none()},hy=function(e,t){return gy(t).bind(function(t){return ai(t)?Ee.some(t):!1===fr(e,t)?Ee.some(e):Ee.none()})},vy=function(e,t){hy($n.fromDom(e.getBody()),t).bind(function(e){return Mm(e.dom())}).fold(function(){e.selection.normalize()},function(t){return e.selection.setRng(t.toRange())})},by=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},yy=function(e){return hb(e)||bb(e).isSome()},wy=function(e){return e.iframeElement&&hb($n.fromDom(e.iframeElement))},xy=function(e){var t=e.getBody();return t&&yy($n.fromDom(t))},Cy=function(e){return vb().filter(function(t){return!cy(t.dom())&&sy(e,t.dom())}).isSome()},ky=function(e){return e.inline?xy(e):wy(e)},Sy=function(e){return ky(e)||Cy(e)},Ty=function(e){var t=e.selection,n=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable(),void 0!==e.bookmark&&!1===ky(e)&&Xb(e).each(function(t){e.selection.setRng(t),r=t});var o=py(e,t.getNode());if(e.$.contains(n,o))return by(o),vy(e,r),void Ny(e);e.inline||(Nn.opera||by(n),e.getWin().focus()),(Nn.gecko||e.inline)&&(by(n),vy(e,r)),Ny(e)},Ny=function(e){return e.editorManager.setActive(e)},Ey=function(e,t){e.removed||(t?Ny(e):Ty(e))},Oy=function(e,t){t(e),e.firstChild&&Oy(e.firstChild,t),e.next&&Oy(e.next,t)},_y=function(e,t,n){var r={},o={},i=[];n.firstChild&&Oy(n.firstChild,function(n){Ke(e,function(e){e.name===n.name&&(r[e.name]?r[e.name].nodes.push(n):r[e.name]={filter:e,nodes:[n]})}),Ke(t,function(e){"string"==typeof n.attr(e.name)&&(o[e.name]?o[e.name].nodes.push(n):o[e.name]={filter:e,nodes:[n]})})});for(var a in r)r.hasOwnProperty(a)&&i.push(r[a]);for(var u in o)o.hasOwnProperty(u)&&i.push(o[u]);return i},Ay=function(e,t,n){var r=_y(e,t,n);Ke(r,function(e){Ke(e.filter.callbacks,function(t){t(e.nodes,e.filter.name,{})})})},Dy=function(e){return e instanceof hg},Ry=function(e){ky(e)&&Mm(e.getBody()).each(function(t){var n=t.getNode(),r=fo(n)?Mm(n).getOr(t):t;e.selection.setRng(r.toRange())})},My=function(e,t){e.dom.setHTML(e.getBody(),t),Ry(e)},Py=function(e,t,n,r){var o,i;return 0===n.length||/^\s+$/.test(n)?(i='<br data-mce-bogus="1">',"TABLE"===t.nodeName?n="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+i+"</li>"),o=hf(e),o&&e.schema.isValidChild(t.nodeName.toLowerCase(),o.toLowerCase())?(n=i,n=e.dom.createHTML(o,vf(e),n)):n||(n='<br data-mce-bogus="1">'),My(e,n),e.fire("SetContent",r)):("raw"!==r.format&&(n=yg({validate:e.validate},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0}))),r.content=ci($n.fromDom(t))?n:Hn.trim(n),My(e,r.content),r.no_events||e.fire("SetContent",r)),r.content},Iy=function(e,t,n,r){Ay(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var o=yg({validate:e.validate},e.schema).serialize(n);return r.content=ci($n.fromDom(t))?o:Hn.trim(o),My(e,r.content),r.no_events||e.fire("SetContent",r),n},zy=function(e,t,n){return n.format=n.format?n.format:"html",n.set=!0,n.content=Dy(t)?"":t,Dy(t)||n.no_events||(e.fire("BeforeSetContent",n),t=n.content),Ee.from(e.getBody()).fold(ve(t),function(r){return Dy(t)?Iy(e,r,t,n):Py(e,r,t,n)})},By=function(e,t){return e.splitText(t)},Ly=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;return t===r&&go(t)?n>0&&n<t.nodeValue.length&&(r=By(t,n),t=r.previousSibling,o>n?(o-=n,t=r=By(r,o).previousSibling,o=r.nodeValue.length,n=0):o=0):(go(t)&&n>0&&n<t.nodeValue.length&&(t=By(t,n),n=0),go(r)&&o>0&&o<r.nodeValue.length&&(r=By(r,o).previousSibling,o=r.nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:o}},Hy=hp,Fy=function(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++)if(!1===r[o].inherit&&e.dom.is(t,r[o].selector))return!0;return!1},jy=function(e,t,n,r){var o=e.dom.getRoot();return t!==o&&(t=e.dom.getParent(t,function(t){return!!Fy(e,t,n)||(t.parentNode===o||!!qy(e,t,n,r,!0))}),qy(e,t,n,r))},Vy=function(e,t,n){return!!Hy(t,n.inline)||(!!Hy(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0))},Uy=function(e,t,n,r,o,i){var a,u,c,s=n[r];if(n.onmatch)return n.onmatch(t,n,r);if(s)if(void 0===s.length){for(a in s)if(s.hasOwnProperty(a)){if(u="attributes"===r?e.getAttrib(t,a):bp(e,t,a),o&&!u&&!n.exact)return;if((!o||n.exact)&&!Hy(u,vp(e,gp(s[a],i),a)))return}}else for(c=0;c<s.length;c++)if("attributes"===r?e.getAttrib(t,s[c]):bp(e,t,s[c]))return n;return n},qy=function(e,t,n,r,o){var i,a,u,c,s=e.formatter.get(n),l=e.dom;if(s&&t)for(a=0;a<s.length;a++)if(i=s[a],Vy(e.dom,t,i)&&Uy(l,t,i,"attributes",o,r)&&Uy(l,t,i,"styles",o,r)){if(c=i.classes)for(u=0;u<c.length;u++)if(!e.dom.hasClass(t,c[u]))return;return i}},$y=function(e,t,n,r){if(r)return jy(e,r,t,n);if(r=e.selection.getNode(),jy(e,r,t,n))return!0;var o=e.selection.getStart();return!(o===r||!jy(e,o,t,n))},Wy=function(e,t,n){var r=[],o={},i=e.selection.getStart();return e.dom.getParent(i,function(i){for(var a=0;a<t.length;a++){var u=t[a];!o[u]&&qy(e,i,u,n)&&(o[u]=!0,r.push(u))}},e.dom.getRoot()),r},Gy=function(e,t){var n,r,o,i,a,u=e.formatter.get(t),c=e.dom;if(u)for(n=e.selection.getStart(),r=wp(c,n),i=u.length-1;i>=0;i--){if(!(a=u[i].selector)||u[i].defaultBlock)return!0;for(o=r.length-1;o>=0;o--)if(c.is(r[o],a))return!0}return!1},Ky=function(e,t,n){return Ze(n,function(n,r){var o=xp(e,r);return e.formatter.matchNode(t,r,{},o)?n.concat([r]):n},[])},Yy=function(e,t){return e.importNode(t,!0)},Xy=function(e){for(var t=[];e;){if(3===e.nodeType&&"\ufeff"!==e.nodeValue||e.childNodes.length>1)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t},Jy=function(e){return Xy(e).length>0},Qy=function(e){if(e){var t=new gu(e,e);for(e=t.current();e;e=t.next())if(go(e))return e}return null},Zy=function(e){var t=$n.fromTag("span");return To(t,{id:"_mce_caret","data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Br(t,$n.fromText("\ufeff")),t},ew=function(e){var t=Qy(e);return t&&"\ufeff"===t.nodeValue.charAt(0)&&t.deleteData(0,1),t},tw=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(Jy(t))Hh(e,!1,$n.fromDom(t),n);else{var i=o.getRng(),a=r.getParent(t,r.isBlock),u=i.startContainer,c=i.startOffset,s=i.endContainer,l=i.endOffset,f=ew(t);r.remove(t,!0),u===f&&c>0&&i.setStart(f,c-1),s===f&&l>0&&i.setEnd(f,l-1),a&&r.isEmpty(a)&&lh($n.fromDom(a)),o.setRng(i)}},nw=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(t)tw(e,t,n);else if(!(t=zm(e.getBody(),o.getStart())))for(;t=r.get("_mce_caret");)tw(e,t,!1)},rw=function(e,t,n){var o=e.dom,i=o.getParent(n,r(fp,e));i&&o.isEmpty(i)?n.parentNode.replaceChild(t,n):(sh($n.fromDom(n)),o.isEmpty(n)?n.parentNode.replaceChild(t,n):o.insertAfter(t,n))},ow=function(e,t){return e.appendChild(t),t},iw=function(e,t){var n=Qe(e,function(e,t){return ow(e,t.cloneNode(!1))},t);return ow(n,n.ownerDocument.createTextNode("\ufeff"))},aw=function(e,t,n,r,o,i){var a=e.formatter,u=e.dom,c=Je(mt(a.get()),function(e){return"removeformat"!==e&&e!==r}),s=Ky(e,n,c);if(Je(s,function(t){return!Cp(e,t,r)}).length>0){var l=n.cloneNode(!1);return u.add(t,l),a.remove(r,o,l,i),u.remove(l),Ee.some(l)}return Ee.none()},uw=function(e,t,n){var r,o,i=e.selection,a=i.getRng(),u=a.startOffset,c=a.startContainer,s=c.nodeValue;(r=zm(e.getBody(),i.getStart()))&&(o=Qy(r));var l=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(s&&u>0&&u<s.length&&l.test(s.charAt(u))&&l.test(s.charAt(u-1))){var f=i.getBookmark();a.collapse(!0);var d=zp(e,a,e.formatter.get(t));d=Ly(d),e.formatter.apply(t,n,d),i.moveToBookmark(f)}else r&&"\ufeff"===o.nodeValue?e.formatter.apply(t,n,r):(r=Yy(e.getDoc(),Zy(!0).dom()),o=r.firstChild,a.insertNode(r),u=1,e.formatter.apply(t,n,r)),i.setCursorLocation(o,u)},cw=function(e,t,n,r){var o,i,a,u=e.dom,c=e.selection,s=[],l=c.getRng(),f=l.startContainer,d=l.startOffset;for(i=f,3===f.nodeType&&(d!==f.nodeValue.length&&(o=!0),i=i.parentNode);i;){if(qy(e,i,t,n,r)){a=i;break}i.nextSibling&&(o=!0),s.push(i),i=i.parentNode}if(a)if(o){var m=c.getBookmark();l.collapse(!0);var p=zp(e,l,e.formatter.get(t),!0);p=Ly(p),e.formatter.remove(t,n,p,r),c.moveToBookmark(m)}else{var g=zm(e.getBody(),a),h=Zy(!1).dom();rw(e,h,null!==g?g:a);var v=aw(e,h,a,t,n,r),b=iw(s.concat(v.toArray()),h);tw(e,g,!1),c.setCursorLocation(b,1),u.isEmpty(a)&&u.remove(a)}},sw=function(e,t){var n=e.selection,r=e.getBody();nw(e,null,!1),8!==t&&46!==t||!n.isCollapsed()||"\ufeff"!==n.getStart().innerHTML||nw(e,zm(r,n.getStart())),37!==t&&39!==t||nw(e,zm(r,n.getStart()))},lw=function(e){e.on("mouseup keydown",function(t){sw(e,t.keyCode)})},fw=function(e,t){var n=Zy(!1),r=iw(t,n.dom());return Pr($n.fromDom(e),n),Vr($n.fromDom(e)),Tl(r,0)},dw=function(e,t){return e.schema.getTextInlineElements().hasOwnProperty(Wn(t))&&!Im(t.dom())&&!so(t.dom())},mw=function(e){return Im(e.dom())&&Jy(e.dom())},pw={},gw=Dt,hw=_t,vw=function(e,t){hw(pw[e],function(e){e(t)})};!function(e,t){pw[e]||(pw[e]=[]),pw[e].push(t)}("pre",function(e){var t,n=e.selection.getRng(),r=function(e){return i(e.previousSibling)&&-1!==Rt(t,e.previousSibling)},o=function(e,t){pu(t).remove(),pu(e).append("<br><br>").append(t.childNodes)},i=ao(["pre"]);n.collapsed||(t=e.selection.getSelectedBlocks(),hw(gw(gw(t,i),r),function(e){o(e.previousSibling,e)}))});var bw=/^(src|href|style)$/,yw=Hn.each,ww=hp,xw=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},Cw=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},kw=function(e,t,n){var r,o;if(r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],io(r)){var i=r.childNodes.length-1;!n&&o&&o--,r=r.childNodes[o>i?i:o]}return go(r)&&n&&o>=r.nodeValue.length&&(r=new gu(r,e.getBody()).next()||r),go(r)&&!n&&0===o&&(r=new gu(r,e.getBody()).prev()||r),r},Sw=function(e,t){var n=t?"firstChild":"lastChild";if(xw(e)&&e[n]){var r=e[n];return"TR"===e.nodeName?r[n]||r:r}return e},Tw=function(e,t,n,r){var o=e.create(n,r);return t.parentNode.insertBefore(o,t),o.appendChild(t),o},Nw=function(e,t,n,r,o){var i=$n.fromDom(t),a=$n.fromDom(e.create(r,o)),u=n?Cr(i):xr(i);return Fr(a,u),n?(Pr(i,a),zr(a,i)):(Ir(i,a),Br(a,i)),a.dom()},Ew=function(e,t,n){return!!ww(t,n.inline)||(!!ww(t,n.block)||(n.selector?io(t)&&e.is(t,n.selector):void 0))},Ow=function(e,t){return t.links&&"A"===e.nodeName},_w=function(e,t,n,r){return!(t=lp(t,n,r))||"BR"===t.nodeName||e.isBlock(t)},Aw=function(e,t,n){var r,o=t.parentNode,i=e.dom,a=hf(e);n.block&&(a?o===i.getRoot()&&(n.list_block&&ww(t,n.list_block)||Ke(dt(t.childNodes),function(t){dp(e,a,t.nodeName.toLowerCase())?r?r.appendChild(t):(r=Tw(i,t,a),i.setAttribs(r,e.settings.forced_root_block_attrs)):r=0})):i.isBlock(t)&&!i.isBlock(o)&&(_w(i,t,!1)||_w(i,t.firstChild,!0,!0)||t.insertBefore(i.create("br"),t.firstChild),_w(i,t,!0)||_w(i,t.lastChild,!1,!0)||t.appendChild(i.create("br")))),n.selector&&n.inline&&!ww(n.inline,t)||i.remove(t,!0)},Dw=function(e,t,n,r,o){var i,a=e.dom;if(!Ew(a,r,t)&&!Ow(r,t))return!1;var u=r;if(t.inline&&"all"===t.remove&&Pe(t.preserve_attributes)){var c=Je(a.getAttribs(u),function(e){return $e(t.preserve_attributes,e.name.toLowerCase())});if(a.removeAllAttribs(u),Ke(c,function(e){return a.setAttrib(u,e.name,e.value)}),c.length>0)return e.dom.rename(r,"span"),!0}if("all"!==t.remove){yw(t.styles,function(e,r){e=vp(a,gp(e,n),r),"number"==typeof r&&(r=e,o=null),(t.remove_similar||!o||ww(bp(a,o,r),e))&&a.setStyle(u,r,""),i=!0}),i&&""===a.getAttrib(u,"style")&&(u.removeAttribute("style"),u.removeAttribute("data-mce-style")),yw(t.attributes,function(e,r){var i;if(e=gp(e,n),"number"==typeof r&&(r=e,o=null),t.remove_similar||!o||ww(a.getAttrib(o,r),e)){if("class"===r&&(e=a.getAttrib(u,r))&&(i="",Ke(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(i+=(i?" ":"")+e)}),i))return void a.setAttrib(u,r,i);"class"===r&&u.removeAttribute("className"),bw.test(r)&&u.removeAttribute("data-mce-"+r),u.removeAttribute(r)}}),yw(t.classes,function(e){e=gp(e,n),o&&!a.hasClass(o,e)||a.removeClass(u,e)});for(var s=a.getAttribs(u),l=0;l<s.length;l++){var f=s[l].nodeName;if(0!==f.indexOf("_")&&0!==f.indexOf("data-"))return!1}}return"none"!==t.remove?(Aw(e,u,t),!0):void 0},Rw=function(e,t,n,r,o){var i;return Ke(wp(e.dom,t.parentNode).reverse(),function(t){if(!i&&"_start"!==t.id&&"_end"!==t.id){var a=qy(e,t,n,r,o);a&&!1!==a.split&&(i=t)}}),i},Mw=function(e,t,n,r,o,i,a,u){var c,s,l,f=e.dom;if(n){for(var d=n.parentNode,m=r.parentNode;m&&m!==d;m=m.parentNode){c=f.clone(m,!1);for(var p=0;p<t.length;p++)if(Dw(e,t[p],u,c,c)){c=0;break}c&&(s&&c.appendChild(s),l||(l=c),s=c)}!i||a.mixed&&f.isBlock(n)||(r=f.split(n,r)),s&&(o.parentNode.insertBefore(s,o),l.appendChild(o))}return r},Pw=function(e,t,n,r,o){var i=e.formatter.get(t),a=i[0],u=!0,c=e.dom,s=e.selection,l=function(r){var u=Rw(e,r,t,n,o);return Mw(e,i,u,r,r,!0,a,n)},f=function(e){return rp(e)&&io(e)&&("_start"===e.id||"_end"===e.id)},d=function(t){var r,o;io(t)&&c.getContentEditable(t)&&(r=u,u="true"===c.getContentEditable(t),o=!0);var s=dt(t.childNodes);if(u&&!o)for(var l=0;l<i.length&&!Dw(e,i[l],n,t,t);l++);if(a.deep&&s.length){for(var l=0;l<s.length;l++)d(s[l]);o&&(u=r)}},m=function(e){var t=c.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return f(n)&&(n=n[e?"firstChild":"lastChild"]),go(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),c.remove(t,!0),n},p=function(t){var n,r,o=zp(e,t,i,!0);if(a.split){if(o=Ly(o),n=kw(e,o,!0),r=kw(e,o),n!==r){if(n=Sw(n,!0),r=Sw(r,!1),Cw(c,n,r)){var u=Ee.from(n.firstChild).getOr(n);return l(Nw(c,u,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void m(!0)}if(Cw(c,r,n)){var u=Ee.from(r.lastChild).getOr(r);return l(Nw(c,u,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void m(!1)}n=Tw(c,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=Tw(c,r,"span",{id:"_end","data-mce-type":"bookmark"});var s=c.createRng();s.setStartAfter(n),s.setEndBefore(r),Hp(c,s,function(e){Ke(e,function(e){rp(e)||rp(e.parentNode)||l(e)})}),l(n),l(r),n=m(!0),r=m()}else n=r=l(n);o.startContainer=n.parentNode?n.parentNode:n,o.startOffset=c.nodeIndex(n),o.endContainer=r.parentNode?r.parentNode:r,o.endOffset=c.nodeIndex(r)+1}Hp(c,o,function(t){Ke(t,function(t){d(t),Ke(["underline","line-through","overline"],function(n){io(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&yp(c,t.parentNode)===n&&Dw(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},null,t)})})})};if(r)if(up(r)){var g=c.createRng();g.setStartBefore(r),g.setEndAfter(r),p(g)}else p(r);else if("false"!==c.getContentEditable(s.getNode()))s.isCollapsed()&&a.inline&&!Wp(e).length?cw(e,t,n,o):(tg(s,!0,function(){eg(e,p)}),a.inline&&$y(e,t,n,s.getStart())&&sp(c,s,s.getRng()),e.nodeChanged());else{r=s.getNode();for(var h=0;h<i.length&&(!i[h].ceFalseOverride||!Dw(e,i[h],n,r,r));h++);}},Iw=Hn.each,zw=function(e){return io(e)&&!rp(e)&&!Im(e)&&!so(e)},Bw=function(e,t){var n;for(n=e;n;n=n[t]){if(go(n)&&0!==n.nodeValue.length)return e;if(io(n)&&!rp(n))return n}return e},Lw=function(e,t,n){var r,o,i=new Lg(e);if(t&&n&&(t=Bw(t,"previousSibling"),n=Bw(n,"nextSibling"),i.compare(t,n))){for(r=t.nextSibling;r&&r!==n;)o=r,r=r.nextSibling,t.appendChild(o);return e.remove(n),Hn.each(Hn.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n},Hw=function(e,t,n){Iw(e.childNodes,function(e){zw(e)&&(t(e)&&n(e),e.hasChildNodes()&&Hw(e,t,n))})},Fw=function(e,t){return function(n){return!(!n||!bp(e,n,t))}},jw=function(e,t,n){return function(r){e.setStyle(r,t,n),""===r.getAttribute("style")&&r.removeAttribute("style"),Vw(e,r)}},Vw=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},Uw=function(e,t,n,r){var o=function(t){if(1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType){var n=yp(e,t.parentNode);e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Hn.walk(r,o,"childNodes"),o(r))},qw=function(e,t,n,r){t.styles&&t.styles.backgroundColor&&Hw(r,Fw(e,"fontSize"),jw(e,"backgroundColor",gp(t.styles.backgroundColor,n)))},$w=function(e,t,n,r){"sub"!==t.inline&&"sup"!==t.inline||(Hw(r,Fw(e,"fontSize"),jw(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",r),!0))},Ww=function(e,t,n,r){r&&!1!==t.merge_siblings&&(r=Lw(e,lp(r),r),r=Lw(e,r,lp(r,!0)))},Gw=function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";Iw(e.select(r,n),function(n){zw(n)&&Iw(t.styles,function(t,r){e.setStyle(n,r,"")})})}},Kw=function(e,t,n,r){Iw(t,function(t){Iw(e.dom.select(t.inline,r),function(r){zw(r)&&Dw(e,t,n,r,t.exact?r:null)}),Gw(e.dom,t,r)})},Yw=function(e,t,n,r,o){qy(e,o.parentNode,n,r)&&Dw(e,t,r,o)||t.merge_with_parents&&e.dom.getParent(o.parentNode,function(i){if(qy(e,i,n,r))return Dw(e,t,r,o),!0})},Xw=Hn.each,Jw=function(e){return e&&1===e.nodeType&&!rp(e)&&!Im(e)&&!so(e)},Qw=function(e,t,n,r){var o,i=e.formatter.get(t),a=i[0],u=!r&&e.selection.isCollapsed(),c=e.dom,s=e.selection,l=function(e,t){if(t=t||a,e){if(t.onformat&&t.onformat(e,t,n,r),Xw(t.styles,function(t,r){c.setStyle(e,r,gp(t,n))}),t.styles){var o=c.getAttrib(e,"style");o&&c.setAttrib(e,"data-mce-style",o)}Xw(t.attributes,function(t,r){c.setAttrib(e,r,gp(t,n))}),Xw(t.classes,function(t){t=gp(t,n),c.hasClass(e,t)||c.addClass(e,t)})}},f=function(e,t){var n=!1;return!!a.selector&&(Xw(e,function(e){if(!("collapsed"in e&&e.collapsed!==u))return c.is(t,e.selector)&&!Im(t)?(l(t,e),n=!0,!1):void 0}),n)},d=function(r,o,u,c){var s=[],d=!0,m=a.inline||a.block,p=r.create(m);l(p),Hp(r,o,function(o){var u,g=function(o){var h=!1,v=d,b=o.nodeName.toLowerCase(),y=o.parentNode.nodeName.toLowerCase();if(io(o)&&r.getContentEditable(o)&&(v=d,d="true"===r.getContentEditable(o),h=!0),hp(b,"br"))return u=0,void(a.block&&r.remove(o));if(a.wrapper&&qy(e,o,t,n))return void(u=0);if(d&&!h&&a.block&&!a.wrapper&&fp(e,b)&&dp(e,y,m))return o=r.rename(o,m),l(o),s.push(o),void(u=0);if(a.selector){var w=f(i,o);if(!a.inline||w)return void(u=0)}!d||h||!dp(e,m,b)||!dp(e,y,m)||!c&&3===o.nodeType&&1===o.nodeValue.length&&65279===o.nodeValue.charCodeAt(0)||Im(o)||a.inline&&r.isBlock(o)?(u=0,Xw(Hn.grep(o.childNodes),g),h&&(d=v),u=0):(u||(u=r.clone(p,!1),o.parentNode.insertBefore(u,o),s.push(u)),u.appendChild(o))};Xw(o,g)}),!0===a.links&&Xw(s,function(e){var t=function(e){"A"===e.nodeName&&l(e,a),Xw(Hn.grep(e.childNodes),t)};t(e)}),Xw(s,function(o){var u=function(e){var t=!1;return Xw(e.childNodes,function(e){if(Jw(e))return t=e,!1}),t},c=function(e){var t=0;return Xw(e.childNodes,function(e){pp(e)||rp(e)||t++}),t}(o);if((s.length>1||!r.isBlock(o))&&0===c)return void r.remove(o,!0);(a.inline||a.wrapper)&&(a.exact||1!==c||(o=function(e){var t,n=u(e);return n&&!rp(n)&&Vy(r,n,a)&&(t=r.clone(n,!1),l(t),r.replace(t,e,!0),r.remove(n,!0)),t||e}(o)),Kw(e,i,n,o),Yw(e,a,t,n,o),qw(r,a,n,o),Uw(r,a,0,o),$w(r,a,0,o),Ww(r,a,0,o))})};if("false"!==c.getContentEditable(s.getNode())){if(a){if(r)up(r)?f(i,r)||(o=c.createRng(),o.setStartBefore(r),o.setEndAfter(r),d(c,zp(e,o,i),0,!0)):d(c,r,0,!0);else if(u&&a.inline&&!Wp(e).length)uw(e,t,n);else{var m=s.getNode();e.settings.forced_root_block||!i[0].defaultBlock||c.getParent(m,c.isBlock)||Qw(e,i[0].defaultBlock),s.setRng(Dv(s.getRng())),tg(s,!0,function(t){eg(e,function(t,n){var r=n?t:zp(e,t,i);d(c,r)})}),sp(c,s,s.getRng()),e.nodeChanged()}vw(t,e)}}else{r=s.getNode();for(var p=0,g=i.length;p<g;p++)if(i[p].ceFalseOverride&&c.is(r,i[p].selector))return void l(r,i[p])}},Zw=function(e,t,n,r){var o=e.formatter.get(t);!$y(e,t,n,r)||"toggle"in o[0]&&!o[0].toggle?Qw(e,t,n,r):Pw(e,t,n,r)},ex=function(e,t){return Ge(t,function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t})},tx=function(e,t){var r=t||n.document,o=r.createDocumentFragment();return Ke(e,function(e){o.appendChild(e.dom())}),$n.fromDom(o)},nx=function(e,t,n){return{element:ve(e),width:ve(t),rows:ve(n)}},rx=function(e,t){return{element:ve(e),cells:ve(t)}},ox=function(e,t){return{x:ve(e),y:ve(t)}},ix=function(e,t){var n=parseInt(No(e,t),10);return isNaN(n)?1:n},ax=function(e,t,n,r,o){for(var i=ix(o,"rowspan"),a=ix(o,"colspan"),u=e.rows(),c=n;c<n+i;c++){u[c]||(u[c]=rx(os(r),[]));for(var s=t;s<t+a;s++){u[c].cells()[s]=c===n&&s===t?o:rs(o)}}},ux=function(e,t,n){var r=e.rows();return!!(r[n]?r[n].cells():[])[t]},cx=function(e,t,n){for(;ux(e,t,n);)t++;return t},sx=function(e){return Ze(e,function(e,t){return t.cells().length>e?t.cells().length:e},0)},lx=function(e,t){for(var n=e.rows(),r=0;r<n.length;r++)for(var o=n[r].cells(),i=0;i<o.length;i++)if(cr(o[i],t))return Ee.some(ox(i,r));return Ee.none()},fx=function(e,t,n,r,o){for(var i=[],a=e.rows(),u=n;u<=o;u++){var c=a[u].cells(),s=t<r?c.slice(t,r+1):c.slice(r,t+1);i.push(rx(a[u].element(),s))}return i},dx=function(e,t,n){var r=t.x(),o=t.y(),i=n.x(),a=n.y(),u=o<a?fx(e,r,o,i,a):fx(e,r,a,i,o);return nx(e.element(),sx(u),u)},mx=function(e,t){var n=rs(e.element()),r=$n.fromTag("tbody");return Fr(r,t),Br(n,r),n},px=function(e){return Ge(e.rows(),function(e){var t=Ge(e.cells(),function(e){var t=os(e);return _o(t,"colspan"),_o(t,"rowspan"),t}),n=rs(e.element());return Fr(n,t),n})},gx=function(e){var t=nx(rs(e),0,[]);return Ke(Pc(e,"tr"),function(e,n){Ke(Pc(e,"td,th"),function(r,o){ax(t,cx(t,o,n),n,e,r)})}),nx(t.element(),sx(t.rows()),t.rows())},hx=function(e){return mx(e,px(e))},vx=function(e,t,n){return lx(e,t).bind(function(t){return lx(e,n).map(function(n){return dx(e,t,n)})})},bx=function(e){return tt(e,function(e){return"ul"===Wn(e)||"ol"===Wn(e)})},yx=function(e,t){return tt(e,function(e){return"li"===Wn(e)&&Jp(e,t)}).fold(ve([]),function(t){return bx(e).map(function(e){return[$n.fromTag("li"),$n.fromTag(Wn(e))]}).getOr([])})},wx=function(e,t){var n=Ze(t,function(e,t){return Br(t,e),t},e);return t.length>0?tx([n]):n},xx=function(e){return oi(e)?hr(e).filter(ri).fold(ve([]),function(t){return[e,t]}):ri(e)?[e]:[]},Cx=function(e,t){var n=$n.fromDom(t.commonAncestorContainer),r=gh(n,e),o=Je(r,function(e){return ei(e)||Jo(e)}),i=yx(r,t),a=o.concat(i.length?i:xx(n));return Ge(a,rs)},kx=function(){return tx([])},Sx=function(e,t){return wx($n.fromDom(t.cloneContents()),Cx(e,t))},Tx=function(e,t){return Bc(t,"table",r(cr,e))},Nx=function(e,t){return Tx(e,t[0]).bind(function(e){var n=t[0],r=t[t.length-1],o=gx(e);return vx(o,n,r).map(function(e){return tx([hx(e)])})}).getOrThunk(kx)},Ex=function(e,t){return t.length>0&&t[0].collapsed?kx():Sx(e,t[0])},Ox=function(e,t){var n=$p(t,e);return n.length>0?Nx(e,n):Ex(e,t)},_x=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},Ax=function(e,t){return t>=0&&t<e.length&&ip(e.charAt(t))},Dx=function(e){var t=ss(e.innerText);return Nn.browser.isIE()?_x(t):t},Rx=function(e){return Ee.from(e.selection.getRng()).map(function(t){var n=e.dom.add(e.getBody(),"div",{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),r=Dx(n),o=ss(n.textContent);if(e.dom.remove(n),Ax(o,0)||Ax(o,o.length-1)){var i=e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock),a=Dx(i),u=a.indexOf(r);if(-1!==u){var c=Ax(a,u-1),s=Ax(a,u+r.length);return(c?" ":"")+r+(s?" ":"")}return r}return r}).getOr("")},Mx=function(e,t){var n=e.selection.getRng(),r=e.dom.create("body"),o=e.selection.getSel(),i=ex(e,Fp(o)),a=t.contextual?Ox($n.fromDom(e.getBody()),i).dom():n.cloneContents();return a&&r.appendChild(a),e.selection.serializer.serialize(r,t)},Px=function(e,t,n){if(void 0===n&&(n={}),n.get=!0,n.format=t,n.selection=!0,n=e.fire("BeforeGetContent",n),n.isDefaultPrevented())return e.fire("GetContent",n),n.content;if("text"===n.format)return Rx(e);n.getInner=!0;var r=Mx(e,n);return"tree"===n.format?r:(n.content=e.selection.isCollapsed()?"":r,e.fire("GetContent",n),n.content)},Ix=function(e,t){var n=e.length+t.length+2,r=new Array(n),o=new Array(n),i=function(e,t,n){return{start:e,end:t,diag:n}},a=function(n,r,o,i,u){var s=c(n,r,o,i);if(null===s||s.start===r&&s.diag===r-i||s.end===n&&s.diag===n-o)for(var l=n,f=o;l<r||f<i;)l<r&&f<i&&e[l]===t[f]?(u.push([0,e[l]]),++l,++f):r-n>i-o?(u.push([2,e[l]]),++l):(u.push([1,t[f]]),++f);else{a(n,s.start,o,s.start-s.diag,u);for(var d=s.start;d<s.end;++d)u.push([0,e[d]]);a(s.end,r,s.end-s.diag,i,u)}},u=function(n,r,o,a){for(var u=n;u-r<a&&u<o&&e[u]===t[u-r];)++u;return i(n,u,r)},c=function(n,i,a,c){var s=i-n,l=c-a;if(0===s||0===l)return null;var f=s-l,d=l+s,m=(d%2==0?d:d+1)/2;r[1+m]=n,o[1+m]=i+1;var p,g,h,v,b;for(p=0;p<=m;++p){for(g=-p;g<=p;g+=2){for(h=g+m,g===-p||g!==p&&r[h-1]<r[h+1]?r[h]=r[h+1]:r[h]=r[h-1]+1,v=r[h],b=v-n+a-g;v<i&&b<c&&e[v]===t[b];)r[h]=++v,++b;if(f%2!=0&&f-p<=g&&g<=f+p&&o[h-f]<=r[h])return u(o[h-f],g+n-a,i,c)}for(g=f-p;g<=f+p;g+=2){for(h=g+m-f,g===f-p||g!==f+p&&o[h+1]<=o[h-1]?o[h]=o[h+1]-1:o[h]=o[h-1],v=o[h]-1,b=v-n+a-g;v>=n&&b>=a&&e[v]===t[b];)o[h]=v--,b--;if(f%2==0&&-p<=g&&g<=p&&o[h]<=r[h+f])return u(o[h],g+n-a,i,c)}}},s=[];return a(0,e.length,0,t.length,s),s},zx=function(e){return io(e)?e.outerHTML:go(e)?_i.encodeRaw(e.data,!1):ho(e)?"\x3c!--"+e.data+"--\x3e":""},Bx=function(e){var t,r=n.document.createElement("div"),o=n.document.createDocumentFragment();for(e&&(r.innerHTML=e);t=r.firstChild;)o.appendChild(t);return o},Lx=function(e,t,n){var r=Bx(t);if(e.hasChildNodes()&&n<e.childNodes.length){var o=e.childNodes[n];o.parentNode.insertBefore(r,o)}else e.appendChild(r)},Hx=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}},Fx=function(e,t){var n=0;Ke(e,function(e){0===e[0]?n++:1===e[0]?(Lx(t,e[1],n),n++):2===e[0]&&Hx(t,n)})},jx=function(e){return Je(Ge(dt(e.childNodes),zx),function(e){return e.length>0})},Vx=function(e,t){var n=Ge(dt(t.childNodes),zx);return Fx(Ix(n,e),t),t},Ux=ic(Ee.none()),qx=function(){return Ux.get().getOrThunk(function(){var e=n.document.implementation.createHTMLDocument("undo");return Ux.set(Ee.some(e)),e})},$x=function(e){return-1!==e.indexOf("</iframe>")},Wx=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},Gx=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},Kx=function(e){var t=jx(e.getBody()),n=ot(t,function(t){var n=Rg(e.serializer,t);return n.length>0?[n]:[]}),r=n.join("");return $x(r)?Wx(n):Gx(r)},Yx=function(e,t,n){"fragmented"===t.type?Vx(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},Xx=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},Jx=function(e){var t=$n.fromTag("body",qx());return ts(t,Xx(e)),Ke(Pc(t,"*[data-mce-bogus]"),Ur),es(t)},Qx=function(e,t){return Xx(e)===Xx(t)},Zx=function(e,t){return Jx(e)===Jx(t)},eC=function(e,t){return!(!e||!t)&&(!!Qx(e,t)||Zx(e,t))},tC=function(e){return 0===e.get()},nC=function(e,t,n){tC(n)&&(e.typing=t)},rC=function(e,t){e.typing&&(nC(e,!1,t),e.add())},oC=function(e){e.typing&&(e.typing=!1,e.add())},iC=function(e,t,n){tC(t)&&n.set(Ee.some(af(e.selection)))},aC=function(e,t,n,r,o,i,a){var u=Kx(e);if(i=i||{},i=Hn.extend(i,u),!1===tC(r)||e.removed)return null;var c=t.data[n.get()];if(e.fire("BeforeAddUndo",{level:i,lastLevel:c,originalEvent:a}).isDefaultPrevented())return null;if(c&&eC(c,i))return null;t.data[n.get()]&&o.get().each(function(e){t.data[n.get()].beforeBookmark=e});var s=cd(e);if(s&&t.data.length>s){for(var l=0;l<t.data.length-1;l++)t.data[l]=t.data[l+1];t.data.length--,n.set(t.data.length)}i.bookmark=af(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(i),n.set(t.data.length-1);var f={level:i,lastLevel:c,originalEvent:a};return e.fire("AddUndo",f),n.get()>0&&(e.setDirty(!0),e.fire("change",f)),i},uC=function(e,t,n){t.data=[],n.set(0),t.typing=!1,e.fire("ClearUndos")},cC=function(e,t,n,r,o){if(t.transact(r)){var i=t.data[n.get()].bookmark,a=t.data[n.get()-1];Yx(e,a,!0),t.transact(o)&&(t.data[n.get()-1].beforeBookmark=i)}},sC=function(e,t,n){var r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],Yx(e,r,!1),e.setDirty(!0),e.fire("Redo",{level:r})),r},lC=function(e,t,n,r){var o;return t.typing&&(t.add(),t.typing=!1,nC(t,!1,n)),r.get()>0&&(r.set(r.get()-1),o=t.data[r.get()],Yx(e,o,!0),e.setDirty(!0),e.fire("Undo",{level:o})),o},fC=function(e){e.clear(),e.add()},dC=function(e,t,n){return n.get()>0||t.typing&&t.data[0]&&!eC(Kx(e),t.data[0])},mC=function(e,t){return t.get()<e.data.length-1&&!e.typing},pC=function(e,t,n){return rC(e,t),e.beforeChange(),e.ignore(n),e.add()},gC=function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},hC=function(e){return e instanceof hg},vC=function(e,t){Ay(e.serializer.getNodeFilters(),e.serializer.getAttributeFilters(),t)},bC=function(){return{type:"complete",fragments:[],content:"",bookmark:null,beforeBookmark:null}},yC=function(e){return{undoManager:{beforeChange:function(t,n){return iC(e,t,n)},addUndoLevel:function(t,n,r,o,i,a){return aC(e,t,n,r,o,i,a)},undo:function(t,n,r){return lC(e,t,n,r)},redo:function(t,n){return sC(e,t,n)},clear:function(t,n){return uC(e,t,n)},reset:function(e){return fC(e)},hasUndo:function(t,n){return dC(e,t,n)},hasRedo:function(e,t){return mC(e,t)},transact:function(e,t,n){return pC(e,t,n)},ignore:function(e,t){return gC(e,t)},extra:function(t,n,r,o){return cC(e,t,n,r,o)}},formatter:{apply:function(t,n,r){return Qw(e,t,n,r)},remove:function(t,n,r,o){return Pw(e,t,n,r,o)},toggle:function(t,n,r){return Zw(e,t,n,r)}},editor:{getContent:function(t,n){return zg(e,t,n)},setContent:function(t,n){return zy(e,t,n)},insertContent:function(t,n){return pb(e,t,n)}},selection:{getContent:function(t,n){return Px(e,t,n)}},raw:{getModel:function(){return Ee.none()}}}},wC=function(e,t){var n=function(e){return Me(e)?e:{}},r=we("Unimplemented feature for rtc");return{undoManager:{beforeChange:pe,addUndoLevel:r,undo:function(){return t.undo(),bC()},redo:function(){return t.redo(),bC()},clear:r,reset:r,hasUndo:function(){return t.hasUndo()},hasRedo:function(){return t.hasRedo()},transact:function(e,n,r){return t.transact(r),bC()},ignore:r,extra:r},formatter:{apply:function(e,r,o){return t.applyFormat(e,n(r))},remove:function(e,r,o,i){return t.removeFormat(e,n(r))},toggle:function(e,r,o){return t.toggleFormat(e,n(r))}},editor:{getContent:function(n,r){if("html"===r||"tree"===r){var o=t.getContent(),i=yg({inner:!0});return vC(e,o),"tree"===r?o:i.serialize(o)}return yC(e).editor.getContent(n,r)},setContent:function(n,r){var o=hC(n)?n:e.parser.parse(n,{isRootContent:!0,insert:!0});return t.setContent(o),n},insertContent:function(n,r){var o=hC(n)?n:e.parser.parse(n,{insert:!0});t.insertContent(o)}},selection:{getContent:function(n,r){if("html"===n||"tree"===n){var o=t.getSelectedContent(),i=yg({});return vC(e,o),"tree"===n?o:i.serialize(o)}return yC(e).selection.getContent(n,r)}},raw:{getModel:function(){return Ee.some(t.getRawModel())}}}},xC=function(e){return Tt(e.plugins,"rtc")},CC=function(e){var t=e;return St(e.plugins,"rtc").fold(function(){return t.rtcInstance=yC(e),Ee.none()},function(n){return Ee.some(n.setup().then(function(n){return t.rtcInstance=wC(e,n),n.isRemote}))})},kC=function(e){return e.rtcInstance?e.rtcInstance:yC(e)},SC=function(e){var t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},TC=function(e,t,n){SC(e).undoManager.beforeChange(t,n)},NC=function(e,t,n,r,o,i,a){return SC(e).undoManager.addUndoLevel(t,n,r,o,i,a)},EC=function(e,t,n,r){return SC(e).undoManager.undo(t,n,r)},OC=function(e,t,n){return SC(e).undoManager.redo(t,n)},_C=function(e,t,n){SC(e).undoManager.clear(t,n)},AC=function(e,t){SC(e).undoManager.reset(t)},DC=function(e,t,n){return SC(e).undoManager.hasUndo(t,n)},RC=function(e,t,n){return SC(e).undoManager.hasRedo(t,n)},MC=function(e,t,n,r){return SC(e).undoManager.transact(t,n,r)},PC=function(e,t,n){SC(e).undoManager.ignore(t,n)},IC=function(e,t,n,r,o){SC(e).undoManager.extra(t,n,r,o)},zC=function(e,t,n,r){SC(e).formatter.apply(t,n,r)},BC=function(e,t,n,r,o){SC(e).formatter.remove(t,n,r,o)},LC=function(e,t,n,r){SC(e).formatter.toggle(t,n,r)},HC=function(e,t,n){return kC(e).editor.getContent(t,n)},FC=function(e,t,n){return kC(e).editor.setContent(t,n)},jC=function(e,t,n){return kC(e).editor.insertContent(t,n)},VC=function(e,t,n){return SC(e).selection.getContent(t,n)},UC=function(e,t){void 0===t&&(t={});var n=t.format?t.format:"html";return HC(e,t,n)},qC=function(e,t,n){return void 0===n&&(n={}),FC(e,t,n)},$C=function(e,t){return e.fire("PreProcess",t)},WC=function(e,t){return e.fire("PostProcess",t)},GC=function(e){return e.fire("remove")},KC=function(e){return e.fire("detach")},YC=function(e,t){return e.fire("SwitchMode",{mode:t})},XC=function(e,t,n,r){e.fire("ObjectResizeStart",{target:t,width:n,height:r})},JC=function(e,t,n,r){e.fire("ObjectResized",{target:t,width:n,height:r})},QC=function(e){return e.fire("PreInit")},ZC=function(e){return e.fire("PostRender")},ek=function(e){return e.fire("Init")},tk=function(e,t){return e.fire("PlaceholderToggle",{state:t})},nk=function(e,t,n){return e.fire(t,n)},rk=ec.DOM,ok=function(e){rk.setStyle(e.id,"display",e.orgDisplay)},ik=function(e){return Ee.from(e).each(function(e){return e.destroy()})},ak=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},uk=function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),rk.unbind(t,"submit reset",e.formEventDelegate))},ck=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),o=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&o&&rk.remove(o.nextSibling),GC(e),e.editorManager.remove(e),!e.inline&&r&&ok(e),KC(e),rk.remove(e.getContainer()),ik(t),ik(n),e.destroy()}},sk=function(e,t){var n=e.selection,r=e.dom;if(!e.destroyed){if(!t&&!e.removed)return void e.remove();t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),ik(n),ik(r)),uk(e),ak(e),e.destroyed=!0}},lk=Object.prototype.hasOwnProperty,fk=function(e,t){return Me(e)&&Me(t)?dk(e,t):t},dk=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)lk.call(i,a)&&(r[a]=e(r[a],i[a]))}return r}}(fk),mk=function(e,t){return{sections:ve(e),settings:ve(t)}},pk=vn().deviceType,gk=pk.isTouch(),hk=pk.isPhone(),vk=pk.isTablet(),bk=["lists","autolink","autosave"],yk={table_grid:!1,object_resizing:!1,resize:!1},wk=function(e){var t=Pe(e)?e.join(" "):e,n=Ge(Re(t)?t.split(" "):[],on);return Je(n,function(e){return e.length>0})},xk=function(e){return Je(e,r($e,bk))},Ck=function(e,t){var n=wt(t,function(t,n){return $e(e,n)});return mk(n.t,n.f)},kk=function(e,t,n){void 0===n&&(n={});var r=e.sections(),o=r.hasOwnProperty(t)?r[t]:{};return Hn.extend({},n,o)},Sk=function(e,t){return e.sections().hasOwnProperty(t)},Tk=function(e,t,n){var r=e.sections();return Sk(e,t)&&r[t].theme===n},Nk=function(e,t){return Sk(e,t)?e.sections()[t]:{}},Ek=function(e,t){return St(e,"toolbar_mode").orThunk(function(){return St(e,"toolbar_drawer").map(function(e){return!1===e?"wrap":e})}).getOr(t)},Ok=function(e,t,n,r,o){var i={id:t,theme:"silver",toolbar_mode:Ek(e,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:o.convertURL,url_converter_scope:o};return zt(zt({},i),r?yk:{})},_k=function(e,t){var n={resize:!1,toolbar_mode:Ek(e,"scrolling"),toolbar_sticky:!1},r={menubar:!1};return zt(zt(zt({},yk),n),t?r:{})},Ak=function(e,t){var n=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?Hn.extend({},e.external_plugins,n):n},Dk=function(e,t){return[].concat(wk(e)).concat(wk(t))},Rk=function(e,t,n,r){var o=wk(n.forced_plugins),i=wk(r.plugins),a=Nk(t,"mobile"),u=a.plugins?wk(a.plugins):i,c=e&&Tk(t,"mobile","mobile")?xk(u):e&&Sk(t,"mobile")?u:i,s=Dk(o,c);return Hn.extend(r,{plugins:s.join(" ")})},Mk=function(e,t){return e&&Sk(t,"mobile")},Pk=function(e,t,n,r,o){var i=e?{mobile:_k(o.mobile||{},t)}:{},a=Ck(["mobile"],dk(i,o)),u=Hn.extend(n,r,a.settings(),Mk(e,a)?kk(a,"mobile"):{},{validate:!0,external_plugins:Ak(r,a.settings())});return Rk(e,a,r,u)},Ik=function(e,t,n,r,o){var i=Ok(o,t,n,gk,e);return Pk(hk||vk,hk,i,r,o)},zk=function(e,t,n){return Ee.from(t.settings[n]).filter(e)},Bk=function(e){var t={};return"string"==typeof e?Ke(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(e){var n=e.split("=");n.length>1?t[Hn.trim(n[0])]=Hn.trim(n[1]):t[Hn.trim(n[0])]=Hn.trim(n[0])}):t=e,t},Lk=function(e){return function(t){return Pe(t)&&it(t,e)}},Hk=function(e,t,n,r){var o=t in e.settings?e.settings[t]:n;return"hash"===r?Bk(o):"string"===r?zk(Re,e,t).getOr(n):"number"===r?zk(He,e,t).getOr(n):"boolean"===r?zk(ze,e,t).getOr(n):"object"===r?zk(Me,e,t).getOr(n):"array"===r?zk(Pe,e,t).getOr(n):"string[]"===r?zk(Lk(Re),e,t).getOr(n):"function"===r?zk(Le,e,t).getOr(n):o},Fk=function(){var e={};return{add:function(t,n){e[t]=n},get:function(t){return e[t]?e[t]:{icons:{}}},has:function(t){return Tt(e,t)}}}(),jk=function(e,t){return t.dom()[e]},Vk=function(e,t){return parseInt(Do(t,e),10)},Uk=r(jk,"clientWidth"),qk=r(jk,"clientHeight"),$k=r(Vk,"margin-top"),Wk=r(Vk,"margin-left"),Gk=function(e){return e.dom().getBoundingClientRect()},Kk=function(e,t,n){var r=Uk(e),o=qk(e);return t>=0&&n>=0&&t<=r&&n<=o},Yk=function(e,t,n,r){var o=Gk(t);return{x:n-(e?o.left+t.dom().clientLeft+Wk(t):0),y:r-(e?o.top+t.dom().clientTop+$k(t):0)}},Xk=function(e,t,n){var r=$n.fromDom(e.getBody()),o=e.inline?r:pr(r),i=Yk(e.inline,o,t,n);return Kk(o,i.x,i.y)},Jk=function(e){return Ee.from(e).map($n.fromDom)},Qk=function(e){var t=e.inline?e.getBody():e.getContentAreaContainer();return Jk(t).map(function(e){return fr(dr(e),e)}).getOr(!1)},Zk=yc.PluginManager,eS=yc.ThemeManager,tS=function(e){var t=[],n=function(){var t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():D()},r=function(e,t){return function(){return t?t.apply(e,arguments):void 0}},o=function(t){e.fire("OpenWindow",{dialog:t})},i=function(t){e.fire("CloseWindow",{dialog:t})},a=function(e){t.push(e),o(e)},u=function(n){i(n),t=Je(t,function(e){return e!==n}),0===t.length&&e.focus()},c=function(){return Ee.from(t[t.length-1])},s=function(t){e.editorManager.setActive(e),Kb(e);var n=t();return a(n),n},l=function(e,t){return s(function(){return n().open(e,t,u)})},f=function(e){return s(function(){return n().openUrl(e,u)})},d=function(e,t,o){n().alert(e,r(o||this,t))},m=function(e,t,o){n().confirm(e,r(o||this,t))},p=function(){c().each(function(e){n().close(e),u(e)})};return e.on("remove",function(){Ke(t,function(e){n().close(e)})}),{open:l,openUrl:f,alert:d,confirm:m,close:p}},nS=function(e,t){e.notificationManager.open({type:"error",text:t})},rS=function(e,t){e._skinLoaded?nS(e,t):e.on("SkinLoaded",function(){nS(e,t)})},oS=function(e,t){rS(e,bc.translate(["Failed to upload image: {0}",t]))},iS=function(e,t,r){nk(e,t,{message:r}),n.console.error(r)},aS=function(e,t,n){return n?"Failed to load "+e+": "+n+" from url "+t:"Failed to load "+e+" url: "+t},uS=function(e,t,n){iS(e,"PluginLoadError",aS("plugin",t,n))},cS=function(e,t,n){iS(e,"IconsLoadError",aS("icons",t,n))},sS=function(e,t,n){iS(e,"LanguageLoadError",aS("language",t,n))},lS=function(e,t,n){var r=bc.translate(["Failed to initialize plugin: {0}",t]);fS(r,n),rS(e,r)},fS=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var o=n.window.console;o&&(o.error?o.error.apply(o,i([e],t)):o.log.apply(o,i([e],t)))},dS=function(e){return/^[a-z0-9\-]+$/i.test(e)},mS=function(e){var t=Ff(e),n=e.editorManager.baseURL+"/skins/content",r=e.editorManager.suffix,o="content"+r+".css",i=!0===e.inline;return Ge(t,function(t){return dS(t)&&!i?n+"/"+t+"/"+o:e.documentBaseURI.toAbsolute(t)})},pS=function(e){e.contentCSS=e.contentCSS.concat(mS(e))},gS=function(e,t){var n=function(t,n){if(!He(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom();Co(r)&&(r.style[e]=n+"px")},r=function(n){var r=t(n);if(r<=0||null===r){var o=Do(n,e);return parseFloat(o)||0}return r},o=r,i=function(e,t){return Ze(t,function(t,n){var r=Do(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o},0)};return{set:n,get:r,getOuter:o,aggregate:i,max:function(e,t,n){var r=i(e,n);return t>r?t-r:0}}}("height",function(e){var t=e.dom();return qr(e)?t.getBoundingClientRect().height:t.offsetHeight}),hS=function(e){return gS.get(e)},vS=function(e,t){return e.view(t).fold(ve([]),function(t){var n=e.owner(t);return[t].concat(vS(e,n))})},bS=function(e,t){var n=t.owner(e);return vS(t,n)},yS=function(e){return(e.dom()===n.document?Ee.none():Ee.from(e.dom().defaultView.frameElement)).map($n.fromDom)},wS=function(e){return dr(e)},xS=Object.freeze({__proto__:null,view:yS,owner:wS}),CS=function(e){var t=$n.fromDom(n.document),r=Jr(t),o=bS(e,xS),i=Xr(e),a=Qe(o,function(e,t){var n=Xr(t);return{left:e.left+n.left(),top:e.top+n.top()}},{left:0,top:0});return Wr(a.left+i.left()+r.left(),a.top+i.top()+r.top())},kS=function(e){return"textarea"===Wn(e)},SS=function(e,t){return e.fire("ScrollIntoView",t).isDefaultPrevented()},TS=function(e,t){e.fire("AfterScrollIntoView",t)},NS=function(e,t){var n=kr(e);if(0===n.length||kS(e))return{element:e,offset:t};if(t<n.length&&!kS(n[t]))return{element:n[t],offset:0};var r=n[n.length-1];return kS(r)?{element:e,offset:t}:"img"===Wn(r)?{element:r,offset:1}:Jn(r)?{element:r,offset:rg(r).length}:{element:r,offset:kr(r).length}},ES=function(e,t){var n=Yr(e),r=hS(e);return{element:e,bottom:n.top()+r,height:r,pos:n,cleanup:t}},OS=function(e,t){var n=NS(e,t),r=$n.fromHtml('<span data-mce-bogus="all">\ufeff</span>');return Pr(n.element,r),ES(r,function(){return Vr(r)})},_S=function(e){return ES($n.fromDom(e),pe)},AS=function(e,t,n,r){PS(e,function(o,i){return RS(e,t,n,r)},n)},DS=function(e,t,n,r,o){var i={elm:r.element.dom(),alignToTop:o};if(!SS(e,i)){n(t,Jr(t).top(),r,o),TS(e,i)}},RS=function(e,t,n,r){var o=$n.fromDom(e.getBody()),i=$n.fromDom(e.getDoc());Io(o);var a=OS($n.fromDom(n.startContainer),n.startOffset);DS(e,i,t,a,r),a.cleanup()},MS=function(e,t,n,r){var o=$n.fromDom(e.getDoc());DS(e,o,n,_S(t),r)},PS=function(e,t,n){var r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset;t($n.fromDom(r),$n.fromDom(i));var u=e.dom.createRng();u.setStart(r,o),u.setEnd(i,a),e.selection.setRng(n)},IS=function(e,t,n,r){var o=e.pos;if(n)Qr(o.left(),o.top(),r);else{var i=o.top()-t+e.height;Qr(o.left(),i,r)}},zS=function(e,t,n,r,o){var i=n+t,a=r.pos.top(),u=r.bottom,c=u-a>=n;if(a<t)IS(r,n,!1!==o,e);else if(a>i){var s=c?!1!==o:!0===o;IS(r,n,s,e)}else u>i&&!c&&IS(r,n,!0===o,e)},BS=function(e,t,n,r){var o=e.dom().defaultView.innerHeight;zS(e,t,o,n,r)},LS=function(e,t,r,o){var i=e.dom().defaultView.innerHeight;zS(e,t,i,r,o);var a=CS(r.element),u=no(n.window);a.top()<u.y?Zr(r.element,!1!==o):a.top()>u.bottom&&Zr(r.element,!0===o)},HS=function(e,t,n){return AS(e,BS,t,n)},FS=function(e,t,n){return MS(e,t,BS,n)},jS=function(e,t,n){return AS(e,LS,t,n)},VS=function(e,t,n){return MS(e,t,LS,n)},US=function(e,t,n){(e.inline?FS:VS)(e,t,n)},qS=function(e,t,n){(e.inline?HS:jS)(e,t,n)},$S=function(e){return wo(e)||xo(e)},WS=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},GS=function(e,t,n){var r,o=n.elementFromPoint(e,t),i=n.body.createTextRange();if(o&&"HTML"!==o.tagName||(o=n.body),i.moveToElementText(o),r=Hn.toArray(i.getClientRects()),r=r.sort(function(e,n){return e=Math.abs(Math.max(e.top-t,e.bottom-t)),n=Math.abs(Math.max(n.top-t,n.bottom-t)),e-n}),r.length>0){t=(r[0].bottom+r[0].top)/2;try{return i.moveToPoint(e,t),i.collapse(!0),i}catch(e){}}return null},KS=function(e,t){var n=e&&e.parentElement?e.parentElement():null;return xo(WS(n,t,$S))?null:e},YS=function(e,t,n){var r,o,i=n;if(i.caretPositionFromPoint)(o=i.caretPositionFromPoint(e,t))&&(r=n.createRange(),r.setStart(o.offsetNode,o.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(o){r=GS(e,t,n)}return KS(r,n.body)}return r},XS=function(e,t,n,r,o){var i=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return Ee.from(i).map($n.fromDom).map(function(e){return r&&t.collapsed?e:Sr(e,o(e,a)).getOr(e)}).bind(function(e){return Xn(e)?Ee.some(e):hr(e).filter(Xn)}).map(function(e){return e.dom()}).getOr(e)},JS=function(e,t,n){return XS(e,t,!0,n,function(e,t){return Math.min(Er(e),t)})},QS=function(e,t,n){return XS(e,t,!1,n,function(e,t){return t>0?t-1:t})},ZS=function(e,t){for(var n=e;e&&go(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},eT=function(e,t){var n,r,o;if(!t)return e;r=t.startContainer,o=t.endContainer;var i=t.startOffset,a=t.endOffset;return n=t.commonAncestorContainer,!t.collapsed&&(r===o&&a-i<2&&r.hasChildNodes()&&(n=r.childNodes[i]),3===r.nodeType&&3===o.nodeType&&(r=r.length===i?ZS(r.nextSibling,!0):r.parentNode,o=0===a?ZS(o.previousSibling,!1):o.parentNode,r&&r===o))?r:n&&3===n.nodeType?n.parentNode:n},tT=function(e,t,n,r){var o,i=[],a=e.getRoot();if(n=e.getParent(n||JS(a,t,t.collapsed),e.isBlock),r=e.getParent(r||QS(a,t,t.collapsed),e.isBlock),n&&n!==a&&i.push(n),n&&r&&n!==r){o=n;for(var u=new gu(n,a);(o=u.next())&&o!==r;)e.isBlock(o)&&i.push(o)}return r&&n!==r&&r!==a&&i.push(r),i},nT=function(e,t,n){return Ee.from(t).map(function(t){var r=e.nodeIndex(t),o=e.createRng();return o.setStart(t.parentNode,r),o.setEnd(t.parentNode,r+1),n&&(Qp(e,o,t,!0),Qp(e,o,t,!1)),o})},rT=function(e,t){void 0===t&&(t={});var n=t.format?t.format:"html";return VC(e,n,t)},oT=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},iT=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},aT=function(e,t,n){return null!==iT(e,t,n)},uT=function(e,t,n){return aT(e,t,function(e){return e.nodeName===n})},cT=function(e){return e&&"TABLE"===e.nodeName},sT=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},lT=function(e,t){return ps(e)&&!1===aT(e,t,Im)},fT=function(e,t,n){for(var r=new gu(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(yo(t))return!0},dT=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t},mT=function(e,t){for(;t&&t!==e;){if(xo(t))return!0;t=t.parentNode}return!1},pT=function(e,t,n,r,o){var i,a,u=e.getRoot(),c=e.schema.getNonEmptyElements(),s=e.getParent(o.parentNode,e.isBlock)||u;if(r&&yo(o)&&t&&e.isEmpty(s))return Ee.some(E(o.parentNode,e.nodeIndex(o)));for(var l=new gu(o,s);a=l[r?"prev":"next"]();){if("false"===e.getContentEditableParent(a)||lT(a,u))return Ee.none();if(go(a)&&a.nodeValue.length>0)return!1===uT(a,u,"A")?Ee.some(E(a,r?a.nodeValue.length:0)):Ee.none();if(e.isBlock(a)||c[a.nodeName.toLowerCase()])return Ee.none();i=a}return n&&i?Ee.some(E(i,0)):Ee.none()},gT=function(e,t,n,r){var o,i,a,u,c=e.getRoot(),s=!1;o=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"];var l=io(o)&&i===o.childNodes.length,f=e.schema.getNonEmptyElements();if(u=n,ps(o))return Ee.none();if(io(o)&&i>o.childNodes.length-1&&(u=!1),vo(o)&&(o=c,i=0),o===c){if(u&&(a=o.childNodes[i>0?i-1:0])){if(ps(a))return Ee.none();if(f[a.nodeName]||cT(a))return Ee.none()}if(o.hasChildNodes()){if(i=Math.min(!u&&i>0?i-1:i,o.childNodes.length-1),o=o.childNodes[i],i=go(o)&&l?o.data.length:0,!t&&o===c.lastChild&&cT(o))return Ee.none();if(mT(c,o)||ps(o))return Ee.none();if(o.hasChildNodes()&&!1===cT(o)){a=o;var d=new gu(o,c);do{if(xo(a)||ps(a)){s=!1;break}if(go(a)&&a.nodeValue.length>0){i=u?0:a.nodeValue.length,o=a,s=!0;break}if(f[a.nodeName.toLowerCase()]&&!sT(a)){i=e.nodeIndex(a),o=a.parentNode,u||i++,s=!0;break}}while(a=u?d.next():d.prev())}}}return t&&(go(o)&&0===i&&pT(e,l,t,!0,o).each(function(e){o=e.container(),i=e.offset(),s=!0}),io(o)&&(a=o.childNodes[i],a||(a=o.childNodes[i-1]),!a||!yo(a)||dT(a,"A")||fT(e,a,!1)||fT(e,a,!0)||pT(e,l,t,!0,a).each(function(e){o=e.container(),i=e.offset(),s=!0}))),u&&!t&&go(o)&&i===o.nodeValue.length&&pT(e,l,t,!1,o).each(function(e){o=e.container(),i=e.offset(),s=!0}),s?Ee.some(E(o,i)):Ee.none()},hT=function(e,t){var n=t.collapsed,r=t.cloneRange(),o=E.fromRangeStart(t);return gT(e,n,!0,r).each(function(e){n&&E.isAbove(o,e)||r.setStart(e.container(),e.offset())}),n||gT(e,n,!1,r).each(function(e){r.setEnd(e.container(),e.offset())}),n&&r.collapse(!0),oT(t,r)?Ee.none():Ee.some(r)},vT=function(e,t){e.insertData(0,t)},bT=function(e){return 0===e.dom().length?(Vr(e),Ee.none()):Ee.some(e)},yT=function(e,t){var n=Ee.from(t.firstChild).map($n.fromDom),r=Ee.from(t.lastChild).map($n.fromDom);e.deleteContents(),e.insertNode(t);var o=n.bind(yr).filter(Jn).bind(bT),i=r.bind(wr).filter(Jn).bind(bT);Es(o,n.filter(Jn),function(e,t){vT(t.dom(),e.dom().data),Vr(e)}),Es(i,r.filter(Jn),function(t,n){var r=n.dom().length;n.dom().appendData(t.dom().data),e.setEnd(n.dom(),r),Vr(t)}),e.collapse(!1)},wT=function(e,t){return zt(zt({format:"html"},e),{set:!0,selection:!0,content:t})},xT=function(e,t){if("raw"!==t.format){var n=e.parser.parse(t.content,zt({isRootContent:!0,forced_root_block:!1},t));return yg({validate:e.validate},e.schema).serialize(n)}return t.content},CT=function(e,t,n){void 0===n&&(n={});var r=wT(n,t);if(!r.no_events&&(r=e.fire("BeforeSetContent",r),r.isDefaultPrevented()))return void e.fire("SetContent",r);n.content=xT(e,r);var o=e.selection.getRng();yT(o,o.createContextualFragment(n.content)),e.selection.setRng(o),qS(e,o),r.no_events||e.fire("SetContent",r)};!function(e){e.isBookmarkNode=rp}(R||(R={}));var kT,ST=R,TT=function(e,t,n){if(n.collapsed)return!1;if(Nn.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(io(r))return We(r.getClientRects(),function(n){return Bs(n,e,t)})}return We(n.getClientRects(),function(n){return Bs(n,e,t)})},NT={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return Nn.mac?e.metaKey:e.ctrlKey&&!e.altKey}},ET=xo,OT=wo,_T=function(e,t){for(;t&&t!==e;){if(OT(t)||ET(t))return t;t=t.parentNode}return null},AT=function(e,t){var r,o,i,a,u,c,s,l,f,d,m,p,g,h,v=t.dom,b=Hn.each,y=t.getDoc(),w=n.document,x=Math.abs,C=Math.round,k=t.getBody(),S={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},T=function(e){return e&&("IMG"===e.nodeName||t.dom.is(e,"figure.image"))},N=function(e,t){if("longpress"===e.type||0===e.type.indexOf("touch")){var n=e.touches[0];return T(e.target)&&!TT(n.clientX,n.clientY,t)}return T(e.target)&&!TT(e.clientX,e.clientY,t)},E=function(e){var n=e.target;N(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},O=function(e){return t.dom.is(e,"figure.image")?e.querySelector("img"):e},_=function(e){var n=Uf(t);return!1!==n&&!Nn.iOS&&("string"!=typeof n&&(n="table,img,figure.image,div"),"false"!==e.getAttribute("data-mce-resize")&&(e!==t.getBody()&&or($n.fromDom(e),n)))},A=function(e,t,n){v.setStyles(O(e),{width:t,height:n})},D=function(e){var n,b,y,w,S;n=e.screenX-u,b=e.screenY-c,m=n*a[2]+s,p=b*a[3]+l,m=m<5?5:m,p=p<5?5:p,y=T(r)&&!1!==qf(t)?!NT.modifierPressed(e):NT.modifierPressed(e),y&&(x(n)>x(b)?(p=C(m*f),m=C(p/f)):(m=C(p/f),p=C(m*f))),A(o,m,p),w=a.startPos.x+n,S=a.startPos.y+b,w=w>0?w:0,S=S>0?S:0,v.setStyles(i,{left:w,top:S,display:"block"}),i.innerHTML=m+" &times; "+p,a[2]<0&&o.clientWidth<=m&&v.setStyle(o,"left",void 0+(s-m)),a[3]<0&&o.clientHeight<=p&&v.setStyle(o,"top",void 0+(l-p)),n=k.scrollWidth-g,b=k.scrollHeight-h,n+b!==0&&v.setStyles(i,{left:w-n,top:S-b}),d||(XC(t,r,s,l),d=!0)},R=function(){var e=d;d=!1;var n=function(e,n){n&&(r.style[e]||!t.schema.isValid(r.nodeName.toLowerCase(),e)?v.setStyle(O(r),e,n):v.setAttrib(O(r),e,""+n))};e&&(n("width",m),n("height",p)),v.unbind(y,"mousemove",D),v.unbind(y,"mouseup",R),w!==y&&(v.unbind(w,"mousemove",D),v.unbind(w,"mouseup",R)),v.remove(o),v.remove(i),M(r),e&&(JC(t,r,m,p),v.setAttrib(r,"style",v.getAttrib(r,"style"))),t.nodeChanged()},M=function(e){P(),B();var n=v.getPos(e,k),d=n.x,x=n.y,C=e.getBoundingClientRect(),T=C.width||C.right-C.left,N=C.height||C.bottom-C.top;r!==e&&(r=e,m=p=0);var E=t.fire("ObjectSelected",{target:e});_(e)&&!E.isDefaultPrevented()?b(S,function(e,t){var n,m=function(t){u=t.screenX,c=t.screenY,s=O(r).clientWidth,l=O(r).clientHeight,f=l/s,a=e,e.startPos={x:T*e[0]+d,y:N*e[1]+x},g=k.scrollWidth,h=k.scrollHeight,o=r.cloneNode(!0),v.addClass(o,"mce-clonedresizable"),v.setAttrib(o,"data-mce-bogus","all"),o.contentEditable=!1,o.unSelectabe=!0,v.setStyles(o,{left:d,top:x,margin:0}),A(o,T,N),o.removeAttribute("data-mce-selected"),k.appendChild(o),v.bind(y,"mousemove",D),v.bind(y,"mouseup",R),w!==y&&(v.bind(w,"mousemove",D),v.bind(w,"mouseup",R)),i=v.add(k,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},s+" &times; "+l)};n=v.get("mceResizeHandle"+t),n&&v.remove(n),n=v.add(k,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),11===Nn.ie&&(n.contentEditable=!1),v.bind(n,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),m(e)}),e.elm=n,v.setStyles(n,{left:T*e[0]+d-n.offsetWidth/2,top:N*e[1]+x-n.offsetHeight/2})}):P(),r.setAttribute("data-mce-selected","1")},P=function(){B(),r&&r.removeAttribute("data-mce-selected"),gt(S,function(e,t){var n=v.get("mceResizeHandle"+t);n&&(v.unbind(n),v.remove(n))})},I=function(n){var r,o,i=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};if(!d&&!t.removed){if(b(v.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),o="mousedown"===n.type?n.target:e.getNode(),o=v.$(o).closest("table,img,figure.image,hr")[0],i(o,k)&&(L(),r=e.getStart(!0),i(r,o)&&i(e.getEnd(!0),o)))return void M(o);P()}},z=function(e){return ET(_T(t.getBody(),e))},B=function(){gt(S,function(e){e.elm&&(v.unbind(e.elm),delete e.elm)})},L=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}};return t.on("init",function(){if(L(),Nn.browser.isIE()||Nn.browser.isEdge()){t.on("mousedown click",function(e){var n=e.target,r=n.nodeName;d||!/^(TABLE|IMG|HR)$/.test(r)||z(n)||(2!==e.button&&t.selection.select(n,"TABLE"===r),"mousedown"===e.type&&t.nodeChanged())});var e=function(e){var n=function(e){qu.setEditorTimeout(t,function(){return t.selection.select(e)})};if(z(e.target))return e.preventDefault(),void n(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&n(e.target))};v.bind(k,"mscontrolselect",e),t.on("remove",function(){return v.unbind(k,"mscontrolselect",e)})}var n=qu.throttle(function(e){t.composing||I(e)});t.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",n),t.on("keyup compositionend",function(e){r&&"TABLE"===r.nodeName&&n(e)}),t.on("hide blur",P),t.on("contextmenu longpress",E,!0)}),t.on("remove",B),{isResizable:_,showResizeRect:M,hideResizeRect:P,updateResizeRect:I,destroy:function(){r=o=null}}},DT=function(e,t,n){if(e&&e.hasOwnProperty(t)){var r=Je(e[t],function(e){return e!==n});0===r.length?delete e[t]:e[t]=r}},RT=function(e){return!!e.select},MT=function(e){return!(!e||!e.ownerDocument)&&fr($n.fromDom(e.ownerDocument),$n.fromDom(e))},PT=function(e){return!!e&&(!!RT(e)||MT(e.startContainer)&&MT(e.endContainer))},IT=function(e,t,n,r){var o,i,a=M(e,r).selectorChangedWithUnbind,u=function(t,n){var o=e.createRng();t?(o.setStart(t,n),o.setEnd(t,n),y(o),h(!1)):(Qp(e,o,r.getBody(),!0),y(o))},c=function(e){return rT(r,e)},s=function(e,t){return CT(r,e,t)},l=function(e){return JS(r.getBody(),b(),e)},f=function(e){return QS(r.getBody(),b(),e)},d=function(e,t){return R.getBookmark(e,t)},m=function(e){return R.moveToBookmark(e)},p=function(t,n){return nT(e,t,n).each(y),t},g=function(){var e=b(),t=v();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},h=function(e){var t=b();t.collapse(!!e),y(t)},v=function(){return t.getSelection?t.getSelection():t.document.selection},b=function(){var n,a,u,c=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}};if(!t)return null;var s=t.document;if(void 0===s||null===s)return null;if(void 0!==r.bookmark&&!1===ky(r)){var l=Xb(r);if(l.isSome())return l.map(function(e){return ex(r,[e])[0]}).getOr(s.createRange())}try{(n=v())&&!oo(n.anchorNode)&&(a=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():s.createRange())}catch(e){}return a=ex(r,[a])[0],a||(a=s.createRange?s.createRange():s.body.createTextRange()),a.setStart&&9===a.startContainer.nodeType&&a.collapsed&&(u=e.getRoot(),a.setStart(u,0),a.setEnd(u,0)),o&&i&&(0===c(a.START_TO_START,a,o)&&0===c(a.END_TO_END,a,o)?a=i:(o=null,i=null)),a},y=function(e,t){var n;if(PT(e)){var a=RT(e)?e:null;if(a){i=null;try{a.select()}catch(e){}}else{var u=v();if(e=r.fire("SetSelectionRange",{range:e,forward:t}).range,u){i=e;try{u.removeAllRanges(),u.addRange(e)}catch(e){}!1===t&&u.extend&&(u.collapse(e.endContainer,e.endOffset),u.extend(e.startContainer,e.startOffset)),o=u.rangeCount>0?u.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!u.setBaseAndExtent||Nn.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(n=e.startContainer.childNodes[e.startOffset])&&"IMG"===n.tagName&&(u.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),u.anchorNode===e.startContainer&&u.focusNode===e.endContainer||u.setBaseAndExtent(n,0,n,1)),r.fire("AfterSetSelectionRange",{range:e,forward:t})}}},w=function(t){return s(e.getOuterHTML(t)),t},x=function(){return eT(r.getBody(),b())},C=function(t,n){return tT(e,b(),t,n)},k=function(){var t=v();if(!t||!t.anchorNode||!t.focusNode)return!0;var n=e.createRng();n.setStart(t.anchorNode,t.anchorOffset),n.collapse(!0);var r=e.createRng();return r.setStart(t.focusNode,t.focusOffset),r.collapse(!0),n.compareBoundaryPoints(n.START_TO_START,r)<=0},S=function(){var t=b(),n=v();if(!Vp(n)&&Zp(r)){var o=hT(e,t);return o.each(function(e){y(e,k())}),o.getOr(t)}return t},T=function(e,t){return a(e,t),D},N=function(){for(var t,n=e.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},E=function(e,t){return US(r,e,t)},O=function(e,t){return y(YS(e,t,r.getDoc()))},_=function(){var e=b();return e.collapsed?Tl.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},A=function(){t=o=i=null,P.destroy()},D={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:h,setCursorLocation:u,getContent:c,setContent:s,getBookmark:d,moveToBookmark:m,select:p,isCollapsed:g,isForward:k,setNode:w,getNode:x,getSel:v,setRng:y,getRng:b,getStart:l,getEnd:f,getSelectedBlocks:C,normalize:S,selectorChanged:T,selectorChangedWithUnbind:a,getScrollContainer:N,scrollIntoView:E,placeCaretAt:O,getBoundingClientRect:_,destroy:A},R=ST(D),P=AT(D,r);return D.bookmarkManager=R,D.controlSelection=P,D},zT=function(e,t){Ke(t,function(t){e.attr(t,null)})},BT=function(e,t,n){e.addNodeFilter("font",function(e){Ke(e,function(e){var r=t.parse(e.attr("style")),o=e.attr("color"),i=e.attr("face"),a=e.attr("size");o&&(r.color=o),i&&(r["font-family"]=i),a&&(r["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(r)),zT(e,["color","face","size"])})})},LT=function(e,t){e.addNodeFilter("strike",function(e){Ke(e,function(e){var n=t.parse(e.attr("style"));n["text-decoration"]="line-through",e.name="span",e.attr("style",t.serialize(n))})})},HT=function(e,t){var n=Ui();t.convert_fonts_to_spans&&BT(e,n,Hn.explode(t.font_size_legacy_values)),LT(e,n)},FT=function(e,t){t.inline_styles&&HT(e,t)},jT=function(e){return new Bu(function(t,r){var o=function(){r("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var i=new n.XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onload=function(){200===this.status?t(this.response):o()},i.onerror=o,i.send()}catch(e){o()}})},VT=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},UT=function(e,t){var r;try{r=n.atob(t)}catch(e){return Ee.none()}for(var o=new Uint8Array(r.length),i=0;i<o.length;i++)o[i]=r.charCodeAt(i);return Ee.some(new n.Blob([o],{type:e}))},qT=function(e){return new Bu(function(t){var r=VT(e),o=r.type,i=r.data;UT(o,i).fold(function(){return t(new n.Blob([]))},t)})},$T=function(e){return 0===e.indexOf("blob:")?jT(e):0===e.indexOf("data:")?qT(e):null},WT=function(e){return new Bu(function(t){var r=new n.FileReader;r.onloadend=function(){t(r.result)},r.readAsDataURL(e)})},GT=0,KT=function(e){return(e||"blobid")+GT++},YT=function(e,t,n,r){var o,i;if(0===t.src.indexOf("blob:"))return i=e.getByUri(t.src),void(i?n({image:t,blobInfo:i}):$T(t.src).then(function(r){WT(r).then(function(a){o=VT(a).data,i=e.create(KT(),r,o),e.add(i),n({image:t,blobInfo:i})})},function(e){r(e)}));var a=VT(t.src),u=a.data,c=a.type;o=u,i=e.getByData(o,c),i?n({image:t,blobInfo:i}):$T(t.src).then(function(r){i=e.create(KT(),r,o),e.add(i),n({image:t,blobInfo:i})},function(e){r(e)})},XT=function(e){return e?dt(e.getElementsByTagName("img")):[]},JT=function(e,t,n,r){(e.padd_empty_with_br||t.insert)&&n[r.name]?r.empty().append(new hg("br",1)).shortEnded=!0:r.empty().append(new hg("#text",3)).value=" "},QT=function(e){return ZT(e,"#text")&&" "===e.firstChild.value},ZT=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},eN=function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty},tN=function(e,t,n,r){return r.isEmpty(t,n,function(t){return eN(e,t)})},nN=function(e,t){return e&&(t[e.name]||"br"===e.name)},rN=function(e){return e.attr("data-mce-bogus")},oN=function(e){return e.attr("src")===Nn.transparentSrc||e.attr("data-mce-placeholder")},iN=function(e,t){if(t.images_dataimg_filter){var r=new n.Image;return r.src=e.attr("src"),gt(e.attributes.map,function(e,t){r.setAttribute(t,e)}),t.images_dataimg_filter(r)}return!0},aN=function(e,t){var n=t.blob_cache,r=function(e){var r=e.attr("src");oN(e)||rN(e)||Cg(r).filter(function(){return iN(e,t)}).bind(function(e){var t=e.type,r=e.data;return Ee.from(n.getByData(r,t)).orThunk(function(){return UT(t,r).map(function(e){var t=n.create(KT(),e,r);return n.add(t),t})})}).each(function(t){e.attr("src",t.blobUri())})};n&&e.addAttributeFilter("src",function(e){return Ke(e,r)})},uN=function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",function(e,r,o){var i,a,u,c,s,l,f,d,m=e.length,p=Hn.extend({},n.getBlockElements()),g=n.getNonEmptyElements(),h=n.getWhiteSpaceElements();for(p.body=1,i=0;i<m;i++)if(a=e[i],u=a.parent,p[a.parent.name]&&a===u.lastChild){for(s=a.prev;s;){if("span"!==(l=s.name)||"bookmark"!==s.attr("data-mce-type")){if("br"!==l)break;if("br"===l){a=null;break}}s=s.prev}a&&(a.remove(),tN(n,g,h,u)&&(f=n.getElementRule(u.name))&&(f.removeEmpty?u.remove():f.paddEmpty&&JT(t,o,p,u)))}else{for(c=a;u&&u.firstChild===c&&u.lastChild===c&&(c=u,!p[u.name]);)u=u.parent;c===u&&!0!==t.padd_empty_with_br&&(d=new hg("#text",3),d.value=" ",a.replace(d))}}),e.addAttributeFilter("href",function(e){var n=e.length,r=function(e){return e.split(" ").filter(function(e){return e.length>0}).concat(["noopener"]).sort().join(" ")};if(!t.allow_unsafe_link_target)for(;n--;){var o=e[n];"a"===o.name&&"_blank"===o.attr("target")&&o.attr("rel",function(e){var t=e?Hn.trim(e):"";return/\b(noopener)\b/g.test(t)?t:r(t)}(o.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(e){for(var t,n,r,o,i=e.length;i--;)if(o=e[i],"a"===o.name&&o.firstChild&&!o.attr("href")){r=o.parent,t=o.lastChild;do{n=t.prev,r.insert(t,o),t=n}while(t)}}),t.fix_list_elements&&e.addNodeFilter("ul,ol",function(e){for(var t,n,r=e.length;r--;)if(t=e[r],n=t.parent,"ul"===n.name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var o=new hg("li",1);o.attr("style","list-style-type: none"),t.wrap(o)}}),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",function(e){for(var t,r,o,i,a,u,c,s=e.length,l=n.getValidClasses();s--;){for(t=e[s],r=t.attr("class").split(" "),a="",o=0;o<r.length;o++)i=r[o],c=!1,u=l["*"],u&&u[i]&&(c=!0),u=l[t.name],!c&&u&&u[i]&&(c=!0),c&&(a&&(a+=" "),a+=i);a.length||(a=null),t.attr("class",a)}}),aN(e,t)},cN=Hn.makeMap,sN=Hn.each,lN=Hn.explode,fN=Hn.extend,dN=function(e,t){void 0===t&&(t=a());var n={},r=[],o={},i={};e=e||{},e.validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var u=function(e){var n,r,o,i,a,u,s,l,f,d,m,p=cN("tr,td,th,tbody,thead,tfoot,table"),g=t.getNonEmptyElements(),h=t.getWhiteSpaceElements(),v=t.getTextBlockElements(),b=t.getSpecialElements();for(n=0;n<e.length;n++)if(r=e[n],r.parent&&!r.fixed)if(v[r.name]&&"li"===r.parent.name){for(d=r.next;d&&v[d.name];)d.name="li",d.fixed=!0,r.parent.insert(d,r.parent),d=d.next;r.unwrap(r)}else{for(i=[r],o=r.parent;o&&!t.isValidChild(o.name,r.name)&&!p[o.name];o=o.parent)i.push(o);if(o&&i.length>1){for(i.reverse(),a=u=c(i[0].clone()),f=0;f<i.length-1;f++){for(t.isValidChild(u.name,i[f].name)?(s=c(i[f].clone()),u.append(s)):s=u,l=i[f].firstChild;l&&l!==i[f+1];)m=l.next,s.append(l),l=m;u=s}tN(t,g,h,a)?o.insert(r,i[0],!0):(o.insert(a,i[0],!0),o.insert(r,a)),o=i[0],(tN(t,g,h,o)||ZT(o,"br"))&&o.empty().remove()}else if(r.parent){if("li"===r.name){if((d=r.prev)&&("ul"===d.name||"ul"===d.name)){d.append(r);continue}if((d=r.next)&&("ul"===d.name||"ul"===d.name)){d.insert(r,d.firstChild,!0);continue}r.wrap(c(new hg("ul",1)));continue}t.isValidChild(r.parent.name,"div")&&t.isValidChild("div",r.name)?r.wrap(c(new hg("div",1))):b[r.name]?r.empty().remove():r.unwrap()}}},c=function(e){var t,a,u;a=e.name,a in n&&(u=o[a],u?u.push(e):o[a]=[e]),t=r.length;for(;t--;)(a=r[t].name)in e.attributes.map&&(u=i[a],u?u.push(e):i[a]=[e]);return e},s=function(e,t){sN(lN(e),function(e){var r=n[e];r||(n[e]=r=[]),r.push(t)})},l=function(){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push({name:t,callbacks:n[t]});return e},f=function(e,t){sN(lN(e),function(e){var n;for(n=0;n<r.length;n++)if(r[n].name===e)return void r[n].callbacks.push(t);r.push({name:e,callbacks:[t]})})},d=function(){return[].concat(r)},m=function(a,c){var s,l,f,d,m,p,g,h,v,b=[];c=c||{},o={},i={};var y=fN(cN("script,style,head,html,body,title,meta,param"),t.getBlockElements()),w=t.getNonEmptyElements(),x=t.children,C=e.validate,k="forced_root_block"in c?c.forced_root_block:e.forced_root_block,S=function(e){return!1===e?"":!0===e?"p":e}(k),T=t.getWhiteSpaceElements(),N=/^[ \t\r\n]+/,E=/[ \t\r\n]+$/,O=/[ \t\r\n]+/g,_=/^[ \t\r\n]+$/;h=T.hasOwnProperty(c.context)||T.hasOwnProperty(e.root_name);var A=function(e,t){var r,i=new hg(e,t);return e in n&&(r=o[e],r?r.push(i):o[e]=[i]),i},D=function(e){var n,r,o,i,a=t.getBlockElements();for(n=e.prev;n&&3===n.type;){if(o=n.value.replace(E,""),o.length>0)return void(n.value=o);if(r=n.next){if(3===r.type&&r.value.length){n=n.prev;continue}if(!a[r.name]&&"script"!==r.name&&"style"!==r.name){n=n.prev;continue}}i=n.prev,n.remove(),n=i}},R=Ag({validate:C,allow_html_data_urls:e.allow_html_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n}(t.getSelfClosingElements()),cdata:function(e){v.append(A("#cdata",4)).value=e},text:function(e,t){var n;h||(e=e.replace(O," "),nN(v.lastChild,y)&&(e=e.replace(N,""))),0!==e.length&&(n=A("#text",3),n.raw=!!t,v.append(n).value=e)},comment:function(e){v.append(A("#comment",8)).value=e},pi:function(e,t){v.append(A(e,7)).value=t,D(v)},doctype:function(e){v.append(A("#doctype",10)).value=e,D(v)},start:function(e,n,o){var a,u,c,s,l=C?t.getElementRule(e):{};if(l){for(a=A(l.outputName||e,1),a.attributes=n,a.shortEnded=o,v.append(a),s=x[v.name],s&&x[a.name]&&!s[a.name]&&b.push(a),u=r.length;u--;)(c=r[u].name)in n.map&&(p=i[c],p?p.push(a):i[c]=[a]);y[e]&&D(a),o||(v=a),!h&&T[e]&&(h=!0)}},end:function(n){var r,o,i,a,u=C?t.getElementRule(n):{};if(u){if(y[n]&&!h){if((r=v.firstChild)&&3===r.type)if(o=r.value.replace(N,""),o.length>0)r.value=o,r=r.next;else for(i=r.next,r.remove(),r=i;r&&3===r.type;)o=r.value,i=r.next,(0===o.length||_.test(o))&&(r.remove(),r=i),r=i;if((r=v.lastChild)&&3===r.type)if(o=r.value.replace(E,""),o.length>0)r.value=o,r=r.prev;else for(i=r.prev,r.remove(),r=i;r&&3===r.type;)o=r.value,i=r.prev,(0===o.length||_.test(o))&&(r.remove(),r=i),r=i}if(h&&T[n]&&(h=!1),u.removeEmpty&&tN(t,w,T,v))return a=v.parent,y[v.name]?v.empty().remove():v.unwrap(),void(v=a);u.paddEmpty&&(QT(v)||tN(t,w,T,v))&&JT(e,c,y,v),v=v.parent}}},t),M=v=new hg(c.context||e.root_name,11);if(R.parse(a,c.format),C&&b.length&&(c.context?c.invalid=!0:u(b)),S&&("body"===M.name||c.isRootContent)&&function(){var n,r,o=M.firstChild,i=function(e){e&&(o=e.firstChild,o&&3===o.type&&(o.value=o.value.replace(N,"")),(o=e.lastChild)&&3===o.type&&(o.value=o.value.replace(E,"")))};if(t.isValidChild(M.name,S.toLowerCase())){for(;o;)n=o.next,3===o.type||1===o.type&&"p"!==o.name&&!y[o.name]&&!o.attr("data-mce-type")?r?r.append(o):(r=A(S,1),r.attr(e.forced_root_block_attrs),M.insert(r,o),r.append(o)):(i(r),r=null),o=n;i(r)}}(),!c.invalid){for(g in o)if(o.hasOwnProperty(g)){for(p=n[g],s=o[g],d=s.length;d--;)s[d].parent||s.splice(d,1);for(l=0,f=p.length;l<f;l++)p[l](s,g,c)}for(l=0,f=r.length;l<f;l++)if(p=r[l],p.name in i){for(s=i[p.name],d=s.length;d--;)s[d].parent||s.splice(d,1);for(d=0,m=p.callbacks.length;d<m;d++)p.callbacks[d](s,p.name,c)}}return M},p={schema:t,addAttributeFilter:f,getAttributeFilters:d,addNodeFilter:s,getNodeFilters:l,filterNode:c,parse:m};return uN(p,e),FT(p,e),p},mN=function(e,t,n){e.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,r=e.length;r--;)n=e[r],n.attr("tabindex",n.attr("data-mce-tabindex")),n.attr(t,null)}),e.addAttributeFilter("src,href,style",function(e,r){for(var o,i,a=e.length,u="data-mce-"+r,c=t.url_converter,s=t.url_converter_scope;a--;)o=e[a],i=o.attr(u),void 0!==i?(o.attr(r,i.length>0?i:null),o.attr(u,null)):(i=o.attr(r),"style"===r?i=n.serializeStyle(n.parseStyle(i),o.name):c&&(i=c.call(s,i,r,o.name)),o.attr(r,i.length>0?i:null))}),e.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)t=e[r],(n=t.attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null))}),e.addAttributeFilter("data-mce-type",function(e,t,n){for(var r,o=e.length;o--;)if(r=e[o],"bookmark"===r.attr("data-mce-type")&&!n.cleanup){var i=Ee.from(r.firstChild).exists(function(e){return!cs(e.value)});i?r.unwrap():r.remove()}}),e.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=_i.decode(t.value))}),e.addNodeFilter("script,style",function(e,n){for(var r,o,i,a=e.length,u=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};a--;)r=e[a],o=r.firstChild?r.firstChild.value:"","script"===n?(i=r.attr("type"),i&&r.attr("type","mce-no/type"===i?null:i.replace(/^mce\-/,"")),"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="// <![CDATA[\n"+u(o)+"\n// ]]>")):"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="\x3c!--\n"+u(o)+"\n--\x3e")}),e.addNodeFilter("#comment",function(e){for(var r,o=e.length;o--;)r=e[o],t.preserve_cdata&&0===r.value.indexOf("[CDATA[")?(r.name="#cdata",r.type=4,r.value=n.decode(r.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===r.value.indexOf("mce:protected ")&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(r.value).substr(14))}),e.addNodeFilter("xml:namespace,input",function(e,t){for(var n,r=e.length;r--;)n=e[r],7===n.type?n.remove():1===n.type&&("input"!==t||n.attr("type")||n.attr("type","text"))}),e.addAttributeFilter("data-mce-type",function(t){Ke(t,function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})},pN=function(e){var t=function(e){return e&&"br"===e.name},n=e.lastChild;if(t(n)){var r=n.prev;t(r)&&(n.remove(),r.remove())}},gN=function(e,t,r){var o,i,a=e.dom;t=t.cloneNode(!0);var u=n.document.implementation;return u.createHTMLDocument&&(o=u.createHTMLDocument(""),Hn.each("BODY"===t.nodeName?t.childNodes:[t],function(e){o.body.appendChild(o.importNode(e,!0))}),t="BODY"!==t.nodeName?o.body.firstChild:o.body,i=a.doc,a.doc=o),$C(e,zt(zt({},r),{node:t})),i&&(a.doc=i),t},hN=function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events},vN=function(e,t,n){return hN(e,n)?gN(e,t,n):t},bN=function(e,t,n){-1===Hn.inArray(t,n)&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),t.push(n))},yN=function(e,t,n){if(!t.no_events&&e){return WC(e,zt(zt({},t),{content:n})).content}return n},wN=function(e,t,n){var r=ss(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||ci($n.fromDom(t))?r:Hn.trim(r)},xN=function(e,t,n){var r=n.selection?zt({forced_root_block:!1},n):n,o=e.parse(t,r);return pN(o),o},CN=function(e,t,n){return yg(e,t).serialize(n)},kN=function(e,t,n,r,o){var i=CN(t,n,r);return yN(e,o,i)},SN=function(e,t){var n=["data-mce-selected"],o=t&&t.dom?t.dom:ec.DOM,i=t&&t.schema?t.schema:a(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs;var u=dN(e,i);mN(u,e,o);var c=function(n,r){void 0===r&&(r={});var a=zt({format:"html"},r),c=vN(t,n,a),s=wN(o,c,a),l=xN(u,s,a);return"tree"===a.format?l:kN(t,e,i,l,a)};return{schema:i,addNodeFilter:u.addNodeFilter,addAttributeFilter:u.addAttributeFilter,serialize:c,addRules:function(e){i.addValidElements(e)},setRules:function(e){i.setValidElements(e)},addTempAttr:r(bN,u,n),getTempAttrs:function(){return n},getNodeFilters:u.getNodeFilters,getAttributeFilters:u.getAttributeFilters}},TN=function(e,t){var n=SN(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}},NN=0,EN=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+e()+e()+e()},ON=function(e){return e+NN+++EN()},_N=function(){var e=[],t=function(e){return{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[e.toLowerCase()]||"dat"},r=function(e,t,n,r){if(Re(e)){return o({id:e,name:r,blob:t,base64:n})}if(Me(e))return o(e);throw new Error("Unknown input type")},o=function(e){if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var r=e.id||ON("blobid"),o=e.name||r;return{id:ve(r),name:ve(o),filename:ve(o+"."+t(e.blob.type)),blob:ve(e.blob),base64:ve(e.base64),blobUri:ve(e.blobUri||n.URL.createObjectURL(e.blob)),uri:ve(e.uri)}},i=function(t){u(t.id())||e.push(t)},a=function(t){return tt(e,t).getOrUndefined()},u=function(e){return a(function(t){return t.id()===e})};return{create:r,add:i,get:u,getByUri:function(e){return a(function(t){return t.blobUri()===e})},getByData:function(e,t){return a(function(n){return n.base64()===e&&n.blob().type===t})},findFirst:a,removeByUri:function(t){e=Je(e,function(e){return e.blobUri()!==t||(n.URL.revokeObjectURL(e.blobUri()),!1)})},destroy:function(){Ke(e,function(e){n.URL.revokeObjectURL(e.blobUri())}),e=[]}}},AN=function(e){var t,n,r=_N(),o=z(),i=[],a=function(t){return function(n){return e.selection?t(n):[]}},u=function(e){return e+(-1===e.indexOf("?")?"?":"&")+(new Date).getTime()},c=function(e,t,n){var r=0;do{-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1)}while(-1!==r);return e},s=function(e,t,n){return e=c(e,'src="'+t+'"','src="'+n+'"'),e=c(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},l=function(t,n){Ke(e.undoManager.data,function(e){"fragmented"===e.type?e.fragments=Ge(e.fragments,function(e){return s(e,t,n)}):e.content=s(e.content,t,n)})},f=function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},d=function(t,n){var r=e.convertURL(n,"src");l(t.src,n),e.$(t).attr({src:Nf(e)?u(n):n,"data-mce-src":r})},m=function(n){return t||(t=I(o,{url:Af(e),basePath:Df(e),credentials:Rf(e),handler:Mf(e)})),v().then(a(function(o){var i=Ge(o,function(e){return e.blobInfo});return t.upload(i,f).then(a(function(t){var i=Ge(t,function(t,n){var i=o[n].blobInfo,a=o[n].image;return t.status&&Ef(e)?(r.removeByUri(a.src),d(a,t.url)):t.error&&oS(e,t.error),{element:a,status:t.status,uploadUri:t.url,blobInfo:i}});return n&&n(i),i}))}))},p=function(t){if(Tf(e))return m(t)},g=function(t){if(!1===it(i,function(e){return e(t)}))return!1;if(0===t.getAttribute("src").indexOf("data:")){return Sf(e)(t)}return!0},h=function(e){i.push(e)},v=function(){return n||(n=P(o,r)),n.findAll(e.getBody(),g).then(a(function(t){return t=Je(t,function(t){return"string"!=typeof t||(rS(e,t),!1)}),Ke(t,function(e){l(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),t}))},b=function(){r.destroy(),o.destroy(),n=t=null},y=function(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var i=o.getResultUri(n);if(i)return'src="'+i+'"';var a=r.getByUri(n);if(a||(a=Ze(e.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null)),a){return'src="data:'+a.blob().type+";base64,"+a.base64()+'"'}return t})};return e.on("SetContent",function(){Tf(e)?p():v()}),e.on("RawSaveContent",function(e){e.content=y(e.content)}),e.on("GetContent",function(e){e.source_view||"raw"===e.format||(e.content=y(e.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(e){Ke(e,function(e){var t=e.attr("src");if(!r.getByUri(t)){var n=o.getResultUri(t);n&&e.attr("src",n)}})})}),{blobCache:r,addFilter:h,uploadImages:m,uploadImagesAuto:p,scanForImages:v,destroy:b}},DN=function(e,t){var n=ic({});e.set({}),t.on("NodeChange",function(r){RN(t,r.element,n,e.get())})},RN=function(e,t,n,r){var o=mt(n.get()),i={},a={},u=Je(wp(e.dom,t),function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")});gt(r,function(t,n){Hn.each(u,function(r){return e.formatter.matchNode(r,n,{},t.similar)?(-1===o.indexOf(n)&&(Ke(t.callbacks,function(e){e(!0,{node:r,format:n,parents:u})}),i[n]=t.callbacks),a[n]=t.callbacks,!1):!Fy(e,r,n)&&void 0})});var c=MN(n.get(),a,t,u);n.set(zt(zt({},i),c))},MN=function(e,t,n,r){return wt(e,function(e,o){return!!Tt(t,o)||(Ke(e,function(e){e(!1,{node:n,format:o,parents:r})}),!1)}).t},PN=function(e,t,n,r){var o=e.get();Ke(t.split(","),function(e){o[e]||(o[e]={similar:r,callbacks:[]}),o[e].callbacks.push(n)}),e.set(o)},IN=function(e,t,n){var r=e.get();Ke(t.split(","),function(e){r[e].callbacks=Je(r[e].callbacks,function(e){return e!==n}),0===r[e].callbacks.length&&delete r[e]}),e.set(r)},zN=function(e,t,n,r,o){return null===t.get()&&DN(t,e),PN(t,n,r,o),{unbind:function(){return IN(t,n,r)}}},BN=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(t,n,r){Hn.each(r,function(n,r){e.setAttrib(t,r,n)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Hn.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){t[e]={block:e,remove:"all"}}),t},LN=Hn.each,HN=ec.DOM,FN=function(e,t){var n,r,o,i=t&&t.schema||a({}),u=function(e,t){t.classes.length&&HN.addClass(e,t.classes.join(" ")),HN.setAttribs(e,t.attrs)},c=function(e){r="string"==typeof e?{name:e,classes:[],attrs:{}}:e;var t=HN.create(r.name);return u(t,r),t},s=function(e,t){var n="string"!=typeof e?e.nodeName.toLowerCase():e,r=i.getElementRule(n),o=r&&r.parentsRequired;return!(!o||!o.length)&&(t&&-1!==Hn.inArray(o,t)?t:o[0])},l=function(e,t,n){var r,o,i=t.length>0&&t[0],a=i&&i.name,u=s(e,a);if(u)a===u?(o=t[0],t=t.slice(1)):o=u;else if(i)o=t[0],t=t.slice(1);else if(!n)return e;return o&&(r=c(o),r.appendChild(e)),n&&(r||(r=HN.create("div"),r.appendChild(e)),Hn.each(n,function(t){var n=c(t);r.insertBefore(n,e)})),l(r,t,o&&o.siblings)};return e&&e.length?(r=e[0],n=c(r),o=HN.create("div"),o.appendChild(l(n,e.slice(1),r.siblings)),o):""},jN=function(e){var t,n={classes:[],attrs:{}};return e=n.selector=Hn.trim(e),"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,r,o,i){switch(t){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==Hn.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r)}if("["===o){var a=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""})),n.name=t||"div",n},VN=function(e){return e&&"string"==typeof e?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Hn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var t=Hn.map(e.split(/(?:~\+|~|\+)/),jN),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[]},UN=function(e,t){var n,r,o,i="",a=Qf(e);if(""===a)return"";var u=function(e){return e.replace(/%(\w+)/g,"")};if("string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}if("preview"in t){var c=St(t,"preview");if(c.is(!1))return"";a=c.getOr(a)}n=t.block||t.inline||"span";var s=VN(t.selector);s.length?(s[0].name||(s[0].name=n),n=t.selector,r=FN(s,e)):r=FN([n],e);var l=HN.select(n,r)[0]||r.firstChild;return LN(t.styles,function(e,t){(e=u(e))&&HN.setStyle(l,t,e)}),LN(t.attributes,function(e,t){(e=u(e))&&HN.setAttrib(l,t,e)}),LN(t.classes,function(e){e=u(e),HN.hasClass(l,e)||HN.addClass(l,e)}),e.fire("PreviewFormats"),HN.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r),o=HN.getStyle(e.getBody(),"fontSize",!0),o=/px$/.test(o)?parseInt(o,10):0,LN(a.split(" "),function(t){var n=HN.getStyle(l,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=HN.getStyle(e.getBody(),t,!0),"#ffffff"===HN.toHex(n).toLowerCase())||"color"===t&&"#000000"===HN.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===o)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*o+"px"}"border"===t&&n&&(i+="padding:0 2px;"),i+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),HN.remove(r),i},qN=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},$N=function(e){var t=B(e),n=ic(null);return qN(e),lw(e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:function(t,n,r){zC(e,t,n,r)},remove:function(t,n,r,o){BC(e,t,n,r,o)},toggle:function(t,n,r){LC(e,t,n,r)},match:r($y,e),matchAll:r(Wy,e),matchNode:r(qy,e),canApply:r(Gy,e),formatChanged:r(zN,e,n),getCssText:r(UN,e)}},WN=function(e,t,n){var r=ic(!1),o=function(e){nC(t,!1,n),t.add({},e)};e.on("init",function(){t.add()}),e.on("BeforeExecCommand",function(e){var r=e.command.toLowerCase();"undo"!==r&&"redo"!==r&&"mcerepaint"!==r&&(rC(t,n),t.beforeChange())}),e.on("ExecCommand",function(e){var t=e.command.toLowerCase();"undo"!==t&&"redo"!==t&&"mcerepaint"!==t&&o(e)}),e.on("ObjectResizeStart cut",function(){t.beforeChange()}),e.on("SaveContent ObjectResized blur",o),e.on("dragend",o),e.on("keyup",function(n){var i=n.keyCode;n.isDefaultPrevented()||((i>=33&&i<=36||i>=37&&i<=40||45===i||n.ctrlKey)&&(o(),e.nodeChanged()),46!==i&&8!==i||e.nodeChanged(),r.get()&&t.typing&&!1===eC(Kx(e),t.data[0])&&(!1===e.isDirty()&&(e.setDirty(!0),e.fire("change",{level:t.data[0],lastLevel:null})),e.fire("TypingUndo"),r.set(!1),e.nodeChanged()))}),e.on("keydown",function(e){var i=e.keyCode;if(!e.isDefaultPrevented()){if(i>=33&&i<=36||i>=37&&i<=40||45===i)return void(t.typing&&o(e));var a=e.ctrlKey&&!e.altKey||e.metaKey;!(i<16||i>20)||224===i||91===i||t.typing||a||(t.beforeChange(),nC(t,!0,n),t.add({},e),r.set(!0))}}),e.on("mousedown",function(e){t.typing&&o(e)});var i=function(e){return"insertReplacementText"===e.inputType},a=function(e){return"insertText"===e.inputType&&null===e.data},u=function(e){return"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType};e.on("input",function(e){e.inputType&&(i(e)||a(e)||u(e))&&o(e)}),e.on("AddUndo Undo Redo ClearUndos",function(t){t.isDefaultPrevented()||e.nodeChanged()})},GN=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},KN=function(e){var t=ic(Ee.none()),n=ic(0),r=ic(0),o={data:[],typing:!1,beforeChange:function(){TC(e,n,t)},add:function(i,a){return NC(e,o,r,n,t,i,a)},undo:function(){return EC(e,o,n,r)},redo:function(){return OC(e,r,o.data)},clear:function(){_C(e,o,r)},reset:function(){AC(e,o)},hasUndo:function(){return DC(e,o,r)},hasRedo:function(){return RC(e,o,r)},transact:function(t){return MC(e,o,n,t)},ignore:function(t){PC(e,n,t)},extra:function(t,n){IC(e,o,r,t,n)}};return xC(e)||WN(e,o,n),GN(e),o},YN=[9,27,NT.HOME,NT.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,NT.DOWN,NT.UP,NT.LEFT,NT.RIGHT].concat(Nn.browser.isFirefox()?[224]:[]),XN=function(e){return"keydown"===e.type||"keyup"===e.type},JN=function(e){var t=e.keyCode;return t===NT.BACKSPACE||t===NT.DELETE},QN=function(e){if(XN(e)){var t=e.keyCode;return!JN(e)&&(NT.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||$e(YN,t))}return!1},ZN=function(e){return XN(e)&&!(JN(e)||"keyup"===e.type&&229===e.keyCode)},eE=function(e,t,n){if(uh($n.fromDom(t),!1)){var r=""===n,o=t.firstElementChild;return!o||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&(r?!e.isBlock(o):n===o.nodeName.toLowerCase())}return!1},tE=function(e){var t=e.dom,n=hf(e),r=$f(e),o=function(i,a){if(!QN(i)){var u=e.getBody(),c=!ZN(i)&&eE(t,u,n);(""!==t.getAttrib(u,"data-mce-placeholder")!==c||a)&&(t.setAttrib(u,"data-mce-placeholder",c?r:null),t.setAttrib(u,"aria-placeholder",c?r:null),tk(e,c),e.on(c?"keydown":"keyup",o),e.off(c?"keyup":"keydown",o))}};r&&e.on("init",function(t){o(t,!0),e.on("change SetContent ExecCommand",o),e.on("paste",function(t){return qu.setEditorTimeout(e,function(){return o(t)})})})},nE=function(e){return void 0===e.touches||1!==e.touches.length?Ee.none():Ee.some(e.touches[0])},rE=function(e,t){var n=Math.abs(e.clientX-t.x()),r=Math.abs(e.clientY-t.y());return n>5||r>5},oE=function(e){var t=ic(Ee.none()),n=ic(!1),r=xc(function(t){e.fire("longpress",zt(zt({},t),{type:"longpress"})),n.set(!0)},400);e.on("touchstart",function(e){nE(e).each(function(o){r.cancel();var i={x:ve(o.clientX),y:ve(o.clientY),target:ve(e.target)};r.throttle(e),n.set(!1),t.set(Ee.some(i))})},!0),e.on("touchmove",function(o){r.cancel(),nE(o).each(function(r){t.get().each(function(o){rE(r,o)&&(t.set(Ee.none()),n.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(o){r.cancel(),"touchcancel"!==o.type&&t.get().filter(function(e){return e.target().isEqualNode(o.target)}).each(function(){n.get()?o.preventDefault():e.fire("tap",zt(zt({},o),{type:"tap"}))})},!0)},iE=function(e,t){return e.hasOwnProperty(t.nodeName)},aE=function(e,t){return!!go(t)||!!io(t)&&(!iE(e,t)&&!rp(t))},uE=function(e,t,n){return We(ph($n.fromDom(n),$n.fromDom(t)),function(t){return iE(e,t.dom())})},cE=function(e,t){if(go(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||iE(e,t.nextSibling)))return!0}return!1},sE=function(e){var t,n,r,o=e.dom,i=e.selection,a=e.schema,u=a.getBlockElements(),c=i.getStart(),s=e.getBody(),l=hf(e);if(c&&io(c)&&l){var f=s.nodeName.toLowerCase();if(a.isValidChild(f,l.toLowerCase())&&!uE(u,s,c)){var d=i.getRng(),m=d.startContainer,p=d.startOffset,g=d.endContainer,h=d.endOffset,v=ky(e);for(c=s.firstChild;c;)if(aE(u,c)){if(cE(u,c)){n=c,c=c.nextSibling,o.remove(n);continue}t||(t=o.create(l,vf(e)),c.parentNode.insertBefore(t,c),r=!0),n=c,c=c.nextSibling,t.appendChild(n)}else t=null,c=c.nextSibling;r&&v&&(d.setStart(m,p),d.setEnd(g,h),i.setRng(d),e.nodeChanged())}}},lE=function(e){hf(e)&&e.on("NodeChange",r(sE,e))},fE=function(e){return Le(e.selection.getSel().modify)},dE=function(e,t,n){var r=e?1:-1;return t.setRng(Tl(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},mE=function(e,t){var n=t.selection.getRng(),r=e?Tl.fromRangeEnd(n):Tl.fromRangeStart(n);return!!fE(t)&&(e&&vs(r)?dE(!0,t.selection,r):!(e||!bs(r))&&dE(!1,t.selection,r))},pE=go,gE=function(e){return pE(e)&&e.data[0]===us},hE=function(e){return pE(e)&&e.data[e.data.length-1]===us},vE=function(e){return e.ownerDocument.createTextNode(us)},bE=function(e){if(pE(e.previousSibling))return hE(e.previousSibling)?e.previousSibling:(e.previousSibling.appendData(us),e.previousSibling);if(pE(e))return gE(e)?e:(e.insertData(0,us),e);var t=vE(e);return e.parentNode.insertBefore(t,e),t},yE=function(e){if(pE(e.nextSibling))return gE(e.nextSibling)?e.nextSibling:(e.nextSibling.insertData(0,us),e.nextSibling);if(pE(e))return hE(e)?e:(e.appendData(us),e);var t=vE(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t},wE=function(e,t){return e?bE(t):yE(t)},xE=r(wE,!0),CE=r(wE,!1),kE=function(e,t){return go(e.container())?wE(t,e.container()):wE(t,e.getNode())},SE=function(e,t){var n=t.get();return n&&e.container()===n&&ms(n)},TE=function(e,t){return t.fold(function(t){Ed(e.get());var n=xE(t);return e.set(n),Ee.some(Tl(n,n.length-1))},function(t){return Mm(t).map(function(t){if(SE(t,e))return Tl(e.get(),1);Ed(e.get());var n=kE(t,!0);return e.set(n),Tl(n,1)})},function(t){return Pm(t).map(function(t){if(SE(t,e))return Tl(e.get(),e.get().length-1);Ed(e.get());var n=kE(t,!1);return e.set(n),Tl(n,n.length-1)})},function(t){Ed(e.get());var n=CE(t);return e.set(n),Ee.some(Tl(n,1))})},NE=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,EE=function(e){return NE.test(e)},OE=function(e,t){return or($n.fromDom(t),Vf(e))},_E=function(e){return"rtl"===ec.DOM.getStyle(e,"direction",!0)||EE(e.textContent)},AE=function(e,t,n){return Je(ec.DOM.getParents(n.container(),"*",t),e)},DE=function(e,t,n){var r=AE(e,t,n);return Ee.from(r[r.length-1])},RE=function(e,t,n){var r=Wd(t,e),o=Wd(n,e);return r&&r===o},ME=function(e){return vs(e)||bs(e)},PE=function(e,t){if(!t)return t;var n=t.container(),r=t.offset();return e?ms(n)?go(n.nextSibling)?Tl(n.nextSibling,0):Tl.after(n):vs(t)?Tl(n,r+1):t:ms(n)?go(n.previousSibling)?Tl(n.previousSibling,n.previousSibling.data.length):Tl.before(n):bs(t)?Tl(n,r-1):t},IE=r(PE,!0),zE=r(PE,!1),BE=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return Ee.none()},LE=Iu.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),HE=function(e,t){var n=Wd(t,e);return n||e},FE=function(e,t,n){var o=IE(n),i=HE(t,o.container());return DE(e,i,o).fold(function(){return Dm(i,o).bind(r(DE,e,i)).map(function(e){return LE.before(e)})},Ee.none)},jE=function(e,t){return null===zm(e,t)},VE=function(e,t,n){return DE(e,t,n).filter(r(jE,t))},UE=function(e,t,n){var r=zE(n);return VE(e,t,r).bind(function(e){return Rm(e,r).isNone()?Ee.some(LE.start(e)):Ee.none()})},qE=function(e,t,n){var r=IE(n);return VE(e,t,r).bind(function(e){return Dm(e,r).isNone()?Ee.some(LE.end(e)):Ee.none()})},$E=function(e,t,n){var o=zE(n),i=HE(t,o.container());return DE(e,i,o).fold(function(){return Rm(i,o).bind(r(DE,e,i)).map(function(e){return LE.after(e)})},Ee.none)},WE=function(e){return!1===_E(KE(e))},GE=function(e,t,n){return BE([FE,UE,qE,$E],[e,t,n]).filter(WE)},KE=function(e){return e.fold(be,be,be,be)},YE=function(e){return e.fold(ve("before"),ve("start"),ve("end"),ve("after"))},XE=function(e){return e.fold(LE.before,LE.before,LE.after,LE.after)},JE=function(e){return e.fold(LE.start,LE.start,LE.end,LE.end)},QE=function(e,t){return YE(e)===YE(t)&&KE(e)===KE(t)},ZE=function(e,t,n,r,o,i){return Es(DE(t,n,r),DE(t,n,o),function(t,r){return t!==r&&RE(n,t,r)?LE.after(e?t:r):i}).getOr(i)},eO=function(e,t){return e.fold(ve(!0),function(e){return!QE(e,t)})},tO=function(e,t,n,o,i){var a=PE(e,i);return Em(e,n,a).map(r(PE,e)).fold(function(){return o.map(XE)},function(i){return GE(t,n,i).map(r(ZE,e,t,n,a,i)).filter(r(eO,o))}).filter(WE)},nO=function(e,t){return e?t.fold(ge(Ee.some,LE.start),Ee.none,ge(Ee.some,LE.after),Ee.none):t.fold(Ee.none,ge(Ee.some,LE.before),Ee.none,ge(Ee.some,LE.end))},rO=function(e,t,n,o){var i=PE(e,o),a=GE(t,n,i);return GE(t,n,i).bind(r(nO,e)).orThunk(function(){return tO(e,t,n,a,o)})},oO=(r(rO,!1),r(rO,!0),function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)}),iO=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},aO=function(e,t,n){return TE(t,n).map(function(t){return oO(e,t),n})},uO=function(e,t,n){var o=e.getBody(),i=Tl.fromRangeStart(e.selection.getRng()),a=r(OE,e);return rO(n,a,o,i).bind(function(n){return aO(e,t,n)})},cO=function(e,t,n){var o=Ge(Pc($n.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(e){return e.dom()}),i=Je(o,e),a=Je(n,e);Ke(ut(i,a),r(iO,!1)),Ke(ut(a,i),r(iO,!0))},sO=function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=Tl.fromRangeStart(e.selection.getRng());Tl.isTextPosition(n)&&!1===ME(n)&&(oO(e,Nd(t.get(),n)),t.set(null))}},lO=function(e,t,n,r){if(t.selection.isCollapsed()){var o=Je(r,e);Ke(o,function(r){var o=Tl.fromRangeStart(t.selection.getRng());GE(e,t.getBody(),o).bind(function(e){return aO(t,n,e)})})}},fO=function(e,t,n){return function(){return!!Xf(e)&&uO(e,t,n).isSome()}},dO=function(e,t,n){return function(){return!!Xf(t)&&mE(e,t)}},mO=function(e){var t=ic(null),n=r(OE,e);return e.on("NodeChange",function(r){!Xf(e)||Nn.browser.isIE()&&r.initial||(cO(n,e.dom,r.parents),sO(e,t),lO(n,e,t,r.parents))}),t},pO=r(dO,!0),gO=r(dO,!1);!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(kT||(kT={}));var hO,vO=function(e,t){return e===Sl.Backwards?at(t):t},bO=function(e,t,n){return e===Sl.Forwards?t.next(n):t.prev(n)},yO=function(e,t,n,r){return yo(r.getNode(t===Sl.Forwards))?kT.Br:!1===Gd(n,r)?kT.Block:kT.Wrap},wO=function(e,t,n,r){for(var o,i=ym(n),a=r,u=[];a&&(o=bO(t,i,a));){if(yo(o.getNode(!1)))return t===Sl.Forwards?{positions:vO(t,u).concat([o]),breakType:kT.Br,breakAt:Ee.some(o)}:{positions:vO(t,u),breakType:kT.Br,breakAt:Ee.some(o)};if(o.isVisible()){if(e(a,o)){var c=yO(0,t,a,o);return{positions:vO(t,u),breakType:c,breakAt:Ee.some(o)}}u.push(o),a=o}else a=o}return{positions:vO(t,u),breakType:kT.Eol,breakAt:Ee.none()}},xO=function(e,t,n,r){return t(n,r).breakAt.map(function(r){var o=t(n,r).positions;return e===Sl.Backwards?o.concat(r):[r].concat(o)}).getOr([])},CO=function(e,t){return Ze(e,function(e,n){return e.fold(function(){return Ee.some(n)},function(r){return Es(lt(r.getClientRects()),lt(n.getClientRects()),function(e,o){var i=Math.abs(t-e.left);return Math.abs(t-o.left)<=i?n:r}).or(e)})},Ee.none())},kO=function(e,t){return lt(t.getClientRects()).bind(function(t){return CO(e,t.left)})},SO=r(wO,E.isAbove,-1),TO=r(wO,E.isBelow,1),NO=function(e,t){return SO(e,t).breakAt.isNone()},EO=function(e,t){return TO(e,t).breakAt.isNone()},OO=r(xO,-1,SO),_O=r(xO,1,TO),AO=function(e){return Mm(e).map(function(t){return[t].concat(TO(e,t).positions)}).getOr([])},DO=function(e){return Pm(e).map(function(t){return SO(e,t).positions.concat(t)}).getOr([])},RO=function(e){var t=function(t){return Ge(t,function(t){return t=Ds(t),t.node=e,t})};if(io(e))return t(e.getClientRects());if(go(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}},MO=function(e){return ot(e,RO)};!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(hO||(hO={}));var PO,IO,zO=function(e,t,n,r){for(;r=$d(r,e,rl,t);)if(n(r))return},BO=function(e,t,n,r,o,i){var a=0,u=[],c=function(r){var i,c,l;for(l=MO([r]),-1===e&&(l=l.reverse()),i=0;i<l.length;i++)if(c=l[i],!n(c,s)){if(u.length>0&&t(c,It(u))&&a++,c.line=a,o(c))return!0;u.push(c)}},s=It(i.getClientRects());if(!s)return u;var l=i.getNode();return c(l),zO(e,r,c,l),u},LO=function(e,t){return t.line>e},HO=function(e,t){return t.line===e},FO=r(BO,hO.Up,Is,zs),jO=r(BO,hO.Down,zs,Is),VO=function(e,t,n,r){var o,i,a,u,c,s=ym(t),l=[],f=0,d=function(t){return It(1===e?t.getClientRects():t.getClientRects())};1===e?(o=s.next,i=zs,a=Is,u=Tl.after(r)):(o=s.prev,i=Is,a=zs,u=Tl.before(r));var m=d(u);do{if(u.isVisible()&&(c=d(u),!a(c,m))){if(l.length>0&&i(c,It(l))&&f++,c=Ds(c),c.position=u,c.line=f,n(c))return l;l.push(c)}}while(u=o(u));return l},UO=function(e){return function(t){return LO(e,t)}},qO=function(e){return function(t){return HO(e,t)}},$O=xo,WO=$d,GO=function(e,t){return Math.abs(e.left-t)},KO=function(e,t){return Math.abs(e.right-t)},YO=function(e,t){return e>=t.left&&e<=t.right},XO=function(e,t){return e>=t.top&&e<=t.bottom},JO=function(e,t){return Mt(e,function(e,n){var r=Math.min(GO(e,t),KO(e,t)),o=Math.min(GO(n,t),KO(n,t));return YO(t,n)?n:YO(t,e)?e:o===r&&$O(n.node)?n:o<r?n:e})},QO=function(e,t,n,r,o){var i=WO(r,e,rl,t,!o);do{if(!i||n(i))return}while(i=WO(i,e,rl,t))},ZO=function(e,t,n){void 0===n&&(n=!0);var o=[],i=function(e,n){var r=Je(MO([n]),function(n){return!e(n,t)});return o=o.concat(r),0===r.length};return o.push(t),QO(hO.Up,e,r(i,Is),t.node,n),QO(hO.Down,e,r(i,zs),t.node,n),o},e_=function(e){return Je(dt(e.getElementsByTagName("*")),Id)},t_=function(e,t){return{node:e.node,before:GO(e,t)<KO(e,t)}},n_=function(e,t,n){var o=MO(e_(e)),i=Je(o,r(XO,n)),a=JO(i,t);if(a){var u=!fo(a.node);if((a=JO(ZO(e,a,u),t))&&Id(a.node))return t_(a,t)}return null},r_=wo,o_=xo,i_=function(e,t,n,r,o){return t._selectionOverrides.showCaret(e,n,r,o)},a_=function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t},u_=function(e,t){return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?null:a_(t)},c_=function(e,t,n){var r=em(1,e.getBody(),t),o=Tl.fromRangeStart(r),i=o.getNode();if(o_(i))return i_(1,e,i,!o.isAtEnd(),!1);var a=o.getNode(!0);if(o_(a))return i_(1,e,a,!1,!1);var u=e.dom.getParent(o.getNode(),function(e){return o_(e)||r_(e)});return o_(u)?i_(1,e,u,!1,n):null},s_=function(e,t,n){if(!t||!t.collapsed)return t;var r=c_(e,t,n);return r||t},l_=xo,f_=Ls,d_=function(e,t,n,r){var o=e===Sl.Forwards,i=o?Xg:Jg;if(!r.collapsed){var a=f_(r);if(l_(a))return i_(e,t,a,e===Sl.Backwards,!0)}var u=Ts(r),c=nm(e,t.getBody(),r);if(i(c))return u_(t,c.getNode(!o));var s=PE(o,n(c));if(!s)return u?r:null;if(i(s))return i_(e,t,s.getNode(!o),o,!0);var l=n(s);return l&&i(l)&&am(s,l)?i_(e,t,l.getNode(!o),o,!0):u?s_(t,s.toRange(),!0):null},m_=function(e,t,n,r){var o,i,a,u;u=f_(r);var c=nm(e,t.getBody(),r),s=n(t.getBody(),UO(1),c),l=Je(s,qO(1)),f=It(c.getClientRects());if((Xg(c)||Kg(c))&&(u=c.getNode()),(Jg(c)||Yg(c))&&(u=c.getNode(!0)),!f)return null;var d=f.left;if((o=JO(l,d))&&l_(o.node))return i=Math.abs(d-o.left),a=Math.abs(d-o.right),i_(e,t,o.node,i<a,!0);if(u){var m=VO(e,t.getBody(),UO(1),u);if(o=JO(Je(m,qO(1)),d))return s_(t,o.position.toRange(),!0);if(o=It(Je(m,qO(0))))return s_(t,o.position.toRange(),!0)}},p_=function(e){var t=e.dom.create(hf(e));return(!Nn.ie||Nn.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t},g_=function(e,t,n){var o,i,a,u=ym(e.getBody()),c=r(im,u.next),s=r(im,u.prev);if(n.collapsed&&ud(e)){if(!(o=e.dom.getParent(n.startContainer,"PRE")))return;i=1===t?c(Tl.fromRangeStart(n)):s(Tl.fromRangeStart(n)),i||(a=p_(e),1===t?e.$(o).after(a):e.$(o).before(a),e.selection.select(a,!0),e.selection.collapse())}},h_=function(e,t){var n,o=ym(e.getBody()),i=r(im,o.next),a=r(im,o.prev),u=t?Sl.Forwards:Sl.Backwards,c=t?i:a,s=e.selection.getRng();return(n=d_(u,e,c,s))?n:(n=g_(e,u,s))||null},v_=function(e,t){var n,r=t?1:-1,o=t?jO:FO,i=e.selection.getRng();return(n=m_(r,e,o,i))?n:(n=g_(e,r,i))||null},b_=function(e,t){return function(){var n=h_(e,t);return!!n&&(e.selection.setRng(n),!0)}},y_=function(e,t){return function(){var n=v_(e,t);return!!n&&(e.selection.setRng(n),!0)}},w_=function(e){return function(t){return e?Jg(t):Xg(t)}},x_=function(e,t){return function(){var n=t?Tl.fromRangeEnd(e.selection.getRng()):Tl.fromRangeStart(e.selection.getRng()),r=t?TO(e.getBody(),n):SO(e.getBody(),n);return(t?ft(r.positions):lt(r.positions)).filter(w_(t)).fold(ve(!1),function(t){return e.selection.setRng(t.toRange()),!0})}},C_=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}},k_=function(e,t){return ot(t,function(t){var n=C_(Ds(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]})},S_=function(e,t,n){return Ze(e,function(e,r){return e.fold(function(){return Ee.some(r)},function(e){var o=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),i=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n));return Ee.some(i<o?r:e)})},Ee.none())},T_=function(e,t,n,r,o){var i=Pc($n.fromDom(n),"td,th,caption").map(function(e){return e.dom()}),a=Je(k_(e,i),function(e){return t(e,o)});return S_(a,r,o).map(function(e){return e.cell})},N_=function(e){return e.bottom},E_=function(e){return e.top},O_=function(e,t){return e.y<t},__=function(e,t){return e.y>t},A_=r(T_,N_,O_),D_=r(T_,E_,__),R_=function(e,t){return lt(t.getClientRects()).bind(function(t){return A_(e,t.left,t.top)}).bind(function(e){return kO(DO(e),t)})},M_=function(e,t){return ft(t.getClientRects()).bind(function(t){return D_(e,t.left,t.top)}).bind(function(e){return kO(AO(e),t)})},P_=function(e,t){e.selection.setRng(t),qS(e,t)},I_=function(e,t,n){return n.breakAt.map(function(n){return e(t,n).breakAt.isSome()}).getOr(!1)},z_=function(e){return e.breakType===kT.Wrap&&0===e.positions.length},B_=function(e){return e.breakType===kT.Br&&1===e.positions.length},L_=function(e,t,n){var r=e(t,n);return z_(r)||!yo(n.getNode())&&B_(r)?!I_(e,t,r):r.breakAt.isNone()},H_=r(L_,SO),F_=r(L_,TO),j_=function(e,t,n){var r=Tl.fromRangeStart(t);return Am(!e,n).map(function(e){return e.isEqual(r)}).getOr(!1)},V_=function(e,t,n,r){var o=e.selection.getRng(),i=t?1:-1;if(Pd()&&j_(t,o,n)){var a=i_(i,e,n,!t,!0);return P_(e,a),!0}return!1},U_=function(e,t,n){return R_(t,n).orThunk(function(){return lt(n.getClientRects()).bind(function(n){return CO(OO(e,Tl.before(t)),n.left)})}).getOr(Tl.before(t))},q_=function(e,t,n){return M_(t,n).orThunk(function(){return lt(n.getClientRects()).bind(function(n){return CO(_O(e,Tl.after(t)),n.left)})}).getOr(Tl.after(t))},$_=function(e,t){var n=t.getNode(e);return io(n)&&"TABLE"===n.nodeName?Ee.some(n):Ee.none()},W_=function(e,t,n,r){var o=hf(t);o?t.undoManager.transact(function(){var r=$n.fromTag(o);To(r,vf(t)),Br(r,$n.fromTag("br")),e?Ir($n.fromDom(n),r):Pr($n.fromDom(n),r);var i=t.dom.createRng();i.setStart(r.dom(),0),i.setEnd(r.dom(),0),P_(t,i)}):P_(t,r.toRange())},G_=function(e,t,n){var r=!1===t;(t?$_(!0,n):$_(!1,n)).fold(function(){return P_(e,n.toRange())},function(o){return Am(r,e.getBody()).filter(function(e){return e.isEqual(n)}).fold(function(){return P_(e,n.toRange())},function(r){return W_(t,e,o,n)})})},K_=function(e,t,n,r){var o=e.selection.getRng(),i=Tl.fromRangeStart(o),a=e.getBody();if(!t&&H_(r,i)){var u=U_(a,n,i);return G_(e,t,u),!0}if(t&&F_(r,i)){var u=q_(a,n,i);return G_(e,t,u),!0}return!1},Y_=function(e,t){return function(){return Ee.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return Ee.from(e.dom.getParent(n,"table")).map(function(n){return V_(e,t,n)})}).getOr(!1)}},X_=function(e,t){return function(){return Ee.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return Ee.from(e.dom.getParent(n,"table")).map(function(r){return K_(e,t,r,n)})}).getOr(!1)}},J_=function(e){return $e(["figcaption"],Wn(e))},Q_=function(e){var t=n.document.createRange();return t.setStartBefore(e.dom()),t.setEndBefore(e.dom()),t},Z_=function(e,t,n){n?Br(e,t):zr(e,t)},eA=function(e,t){var n=$n.fromTag("br");return Z_(e,n,t),Q_(n)},tA=function(e,t,n,r){var o=$n.fromTag(n),i=$n.fromTag("br");return To(o,r),Br(o,i),Z_(e,o,t),Q_(i)},nA=function(e,t,n,r){return""===t?eA(e,r):tA(e,r,t,n)},rA=function(e,t){var n=r(cr,t);return zc($n.fromDom(e.container()),Qo,n).filter(J_)},oA=function(e,t,n){return t?EO(e.dom(),n):NO(e.dom(),n)},iA=function(e,t){var n=$n.fromDom(e.getBody()),r=Tl.fromRangeStart(e.selection.getRng()),o=hf(e),i=vf(e);return rA(r,n).exists(function(){if(oA(n,t,r)){var a=nA(n,o,i,t);return e.selection.setRng(a),!0}return!1})},aA=function(e,t){return function(){return!!e.selection.isCollapsed()&&iA(e,t)}},uA=function(e){return Ge(e,function(e){return zt({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:pe},e)})},cA=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey},sA=function(e,t){return ot(uA(e),function(e){return cA(e,t)?[e]:[]})},lA=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(null,t)}},fA=function(e,t){return tt(sA(e,t),function(e){return e.action()})},dA=function(e,t,n){var r=vn().os;fA([{keyCode:NT.RIGHT,action:b_(e,!0)},{keyCode:NT.LEFT,action:b_(e,!1)},{keyCode:NT.UP,action:y_(e,!1)},{keyCode:NT.DOWN,action:y_(e,!0)},{keyCode:NT.RIGHT,action:Y_(e,!0)},{keyCode:NT.LEFT,action:Y_(e,!1)},{keyCode:NT.UP,action:X_(e,!1)},{keyCode:NT.DOWN,action:X_(e,!0)},{keyCode:NT.RIGHT,action:fO(e,t,!0)},{keyCode:NT.LEFT,action:fO(e,t,!1)},{keyCode:NT.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:pO(e,t)},{keyCode:NT.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:gO(e,t)},{keyCode:NT.UP,action:aA(e,!1)},{keyCode:NT.DOWN,action:aA(e,!0)}],n).each(function(e){n.preventDefault()})},mA=function(e,t){e.on("keydown",function(n){!1===n.isDefaultPrevented()&&dA(e,t,n)})},pA=function(e){return function(t){return cr(e,$n.fromDom(t.dom().parentNode))}},gA=function(e,t){return fr(e,t)?zc(t,function(e){return ni(e)||oi(e)},pA(e)):Ee.none()},hA=function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)},vA=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),hA(e))},bA=function(e,t,n){return Es(Mm(n),Pm(n),function(r,o){var i=PE(!0,r),a=PE(!1,o),u=PE(!1,t);return e?Dm(n,u).map(function(e){return e.isEqual(a)&&t.isEqual(i)}).getOr(!1):Rm(n,u).map(function(e){return e.isEqual(i)&&t.isEqual(a)}).getOr(!1)}).getOr(!0)},yA=function(e,t){return{block:e,position:t}},wA=function(e,t){return{from:e,to:t}},xA=function(e,t){var n=$n.fromDom(e),r=$n.fromDom(t.container());return gA(n,r).map(function(e){return yA(e,t)})},CA=function(e){return!1===cr(e.from.block,e.to.block)},kA=function(e){return hr(e.from.block).bind(function(t){return hr(e.to.block).filter(function(e){return cr(t,e)})}).isSome()},SA=function(e){return!1===xo(e.from.block.dom())&&!1===xo(e.to.block.dom())},TA=function(e,t,n){return yo(n.position.getNode())&&!1===uh(n.block)?Am(!1,n.block.dom()).bind(function(r){return r.isEqual(n.position)?Em(t,e,r).bind(function(t){return xA(e,t)}):Ee.some(n)}).getOr(n):n},NA=function(e,t,n){var r=xA(e,Tl.fromRangeStart(n)),o=r.bind(function(n){return Em(t,e,n.position).bind(function(n){return xA(e,n).map(function(n){return TA(e,t,n)})})});return Es(r,o,wA).filter(function(e){return CA(e)&&kA(e)&&SA(e)})},EA=function(e,t,n){return n.collapsed?NA(e,t,n):Ee.none()},OA=function(e){var t=kr(e);return nt(t,Qo).fold(function(){return t},function(e){return t.slice(0,e)})},_A=function(e){var t=OA(e);return Ke(t,Vr),t},AA=function(e,t){var n=gh(t,e);return tt(n.reverse(),function(e){return uh(e)}).each(Vr)},DA=function(e){return 0===Je(xr(e),function(e){return!uh(e)}).length},RA=function(e,t,n,r){if(uh(n))return lh(n),Mm(n.dom());DA(r)&&uh(t)&&Pr(r,$n.fromTag("br"));var o=Rm(n.dom(),Tl.before(r.dom()));return Ke(_A(t),function(e){Pr(r,e)}),AA(e,t),o},MA=function(e,t,n){if(uh(n))return Vr(n),uh(t)&&lh(t),Mm(t.dom());var r=Pm(n.dom());return Ke(_A(t),function(e){Br(n,e)}),AA(e,t),r},PA=function(e,t){var n=gh(t,e);return Ee.from(n[n.length-1])},IA=function(e,t){return fr(t,e)?PA(t,e):Ee.none()},zA=function(e,t){Am(e,t.dom()).map(function(e){return e.getNode()}).map($n.fromDom).filter(ti).each(Vr)},BA=function(e,t,n){return zA(!0,t),zA(!1,n),IA(t,n).fold(r(MA,e,t,n),r(RA,e,t,n))},LA=function(e,t,n,r){return t?BA(e,r,n):BA(e,n,r)},HA=function(e,t){var n=$n.fromDom(e.getBody()),r=EA(n.dom(),t,e.selection.getRng()).bind(function(e){return LA(n,t,e.from.block,e.to.block)});return r.each(function(t){e.selection.setRng(t.toRange())}),r.isSome()},FA=function(e,t){var n=t.getRng();return Es(gA(e,$n.fromDom(n.startContainer)),gA(e,$n.fromDom(n.endContainer)),function(r,o){return!1===cr(r,o)&&(n.deleteContents(),LA(e,!0,r,o).each(function(e){t.setRng(e.toRange())}),!0)}).getOr(!1)},jA=function(e,t){var n=$n.fromDom(t),o=r(cr,e);return Ic(n,ui,o).isSome()},VA=function(e,t){return jA(e,t.startContainer)||jA(e,t.endContainer)},UA=function(e,t){var n=Rm(e.dom(),Tl.fromRangeStart(t)).isNone(),r=Dm(e.dom(),Tl.fromRangeEnd(t)).isNone();return!VA(e,t)&&n&&r},qA=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},$A=function(e){var t=$n.fromDom(e.getBody()),n=e.selection.getRng();return UA(t,n)?qA(e):FA(t,e.selection)},WA=function(e,t){return!e.selection.isCollapsed()&&$A(e)},GA=function(e){return rm(e).exists(ti)},KA=function(e,t,n){var r=Je(gh($n.fromDom(n.container()),t),Qo),o=lt(r).getOr(t);return Em(e,o.dom(),n).filter(GA)},YA=function(e,t){return rm(t).exists(ti)||KA(!0,e,t).isSome()},XA=function(e,t){return om(t).exists(ti)||KA(!1,e,t).isSome()},JA=r(KA,!1),QA=r(KA,!0),ZA=function(e){return ui($n.fromDom(e))||oi($n.fromDom(e))},eD=Iu.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),tD=function(e,t){var n=t.getNode(!1===e),r=e?"after":"before";return io(n)&&n.getAttribute("data-mce-caret")===r},nD=function(e,t,n,r){var o=function(t){return ei($n.fromDom(t))&&!Gd(n,r,e)};return tm(!t,n).fold(function(){return tm(t,r).fold(ve(!1),o)},o)},rD=function(e,t,n,r){var o=r.getNode(!1===t);return gA($n.fromDom(e),$n.fromDom(n.getNode())).map(function(e){return uh(e)?eD.remove(e.dom()):eD.moveToElement(o)}).orThunk(function(){return Ee.some(eD.moveToElement(o))})},oD=function(e,t,n){return Em(t,e,n).bind(function(r){return ZA(r.getNode())?Ee.none():nD(e,t,n,r)?Ee.none():t&&xo(r.getNode())?rD(e,t,n,r):!1===t&&xo(r.getNode(!0))?rD(e,t,n,r):t&&Jg(n)?Ee.some(eD.moveToPosition(r)):!1===t&&Xg(n)?Ee.some(eD.moveToPosition(r)):Ee.none()})},iD=function(e,t){return e&&xo(t.nextSibling)?Ee.some(eD.moveToElement(t.nextSibling)):!1===e&&xo(t.previousSibling)?Ee.some(eD.moveToElement(t.previousSibling)):Ee.none()},aD=function(e,t,n){return n.fold(function(e){return Ee.some(eD.remove(e))},function(e){return Ee.some(eD.moveToElement(e))},function(n){return Gd(t,n,e)?Ee.none():Ee.some(eD.moveToPosition(n))})},uD=function(e,t,n){return tD(t,n)?iD(t,n.getNode(!1===t)).fold(function(){return oD(e,t,n)},Ee.some):oD(e,t,n).bind(function(t){return aD(e,n,t)})},cD=function(e,t,n){var r=em(t?1:-1,e,n),o=Tl.fromRangeStart(r),i=$n.fromDom(e);return!1===t&&Jg(o)?Ee.some(eD.remove(o.getNode(!0))):t&&Xg(o)?Ee.some(eD.remove(o.getNode())):!1===t&&Xg(o)&&XA(i,o)?JA(i,o).map(function(e){return eD.remove(e.getNode())}):t&&Jg(o)&&YA(i,o)?QA(i,o).map(function(e){return eD.remove(e.getNode())}):uD(e,t,o)},sD=function(e,t){return function(n){return e._selectionOverrides.hideFakeCaret(),Hh(e,t,$n.fromDom(n)),!0}},lD=function(e,t){return function(n){var r=t?Tl.before(n):Tl.after(n);return e.selection.setRng(r.toRange()),!0}},fD=function(e){return function(t){return e.selection.setRng(t.toRange()),!0}},dD=function(e,t){return Ee.from(hD(e.getBody(),t))},mD=function(e,t){var n=e.selection.getNode();return dD(e,n).filter(xo).fold(function(){return cD(e.getBody(),t,e.selection.getRng()).map(function(n){return n.fold(sD(e,t),lD(e,t),fD(e))}).getOr(!1)},function(){return!0})},pD=function(e){Ke(Pc(e,".mce-offscreen-selection"),Vr)},gD=function(e,t){var n=e.selection.getNode();if(xo(n)){return dD(e,n.parentNode).filter(xo).fold(function(){return pD($n.fromDom(e.getBody())),Hh(e,t,$n.fromDom(e.selection.getNode())),vA(e),!0},function(){return!0})}return!1},hD=function(e,t){for(;t&&t!==e;){if(wo(t)||xo(t))return t;t=t.parentNode}return null},vD=function(e){var t,n=hD(e.getBody(),e.selection.getNode());return wo(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(Tl.before(t).toRange())),!0},bD=function(e,t){return e.selection.isCollapsed()?mD(e,t):gD(e,t)},yD=function(e,t){go(t)&&0===t.data.length&&e.remove(t)},wD=function(e,t,n,r,o,i){var a=i_(r,e,i.getNode(!o),o,!0);if(t.collapsed){var u=t.cloneRange();o?u.setEnd(a.startContainer,a.startOffset):u.setStart(a.endContainer,a.endOffset),u.deleteContents()}else t.deleteContents();return e.selection.setRng(a),yD(e.dom,n),!0},xD=function(e,t){var n=e.selection.getRng();if(!go(n.commonAncestorContainer))return!1;var o=t?Sl.Forwards:Sl.Backwards,i=ym(e.getBody()),a=r(im,i.next),u=r(im,i.prev),c=t?a:u,s=t?Xg:Jg,l=nm(o,e.getBody(),n),f=PE(t,c(l));if(!f||!am(l,f))return!1;if(s(f))return wD(e,n,l.getNode(),o,t,f);var d=c(f);return!!(d&&s(d)&&am(f,d))&&wD(e,n,l.getNode(),o,t,d)},CD=function(e,t){return xD(e,t)},kD=function(e,t){var r=n.document.createRange();return r.setStart(e.container(),e.offset()),r.setEnd(t.container(),t.offset()),r},SD=function(e){return Es(Mm(e),Pm(e),function(t,n){var r=PE(!0,t),o=PE(!1,n);return Dm(e,r).map(function(e){return e.isEqual(o)}).getOr(!0)}).getOr(!0)},TD=function(e,t){return function(n){return TE(t,n).map(function(t){return oO(e,t),!0}).getOr(!1)}},ND=function(e,t,n,o){var i=e.getBody(),a=r(OE,e);e.undoManager.ignore(function(){e.selection.setRng(kD(n,o)),e.execCommand("Delete"),GE(a,i,Tl.fromRangeStart(e.selection.getRng())).map(JE).map(TD(e,t))}),e.nodeChanged()},ED=function(e,t){var n=Wd(t,e);return n||e},OD=function(e,t,n,o){var i=ED(e.getBody(),o.container()),a=r(OE,e),u=GE(a,i,o);return u.bind(function(e){return n?e.fold(ve(Ee.some(JE(e))),Ee.none,ve(Ee.some(XE(e))),Ee.none):e.fold(Ee.none,ve(Ee.some(XE(e))),Ee.none,ve(Ee.some(JE(e))))}).map(TD(e,t)).getOrThunk(function(){var r=Om(n,i,o),c=r.bind(function(e){return GE(a,i,e)});return u.isSome()&&c.isSome()?DE(a,i,o).map(function(t){return!!SD(t)&&(Hh(e,n,$n.fromDom(t)),!0)}).getOr(!1):c.bind(function(i){return r.map(function(r){return n?ND(e,t,o,r):ND(e,t,r,o),!0})}).getOr(!1)})},_D=function(e,t,n){if(e.selection.isCollapsed()&&Xf(e)){var r=Tl.fromRangeStart(e.selection.getRng());return OD(e,t,n,r)}return!1},AD=function(e,t){var n=gh(t,e);return nt(n,Qo).fold(ve(n),function(e){return n.slice(0,e)})},DD=function(e){return 1===kr(e).length},RD=function(e,t,n,o){var i=r(dw,t),a=Ge(Je(o,i),function(e){return e.dom()});if(0===a.length)Hh(t,e,n);else{var u=fw(n.dom(),a);t.selection.setRng(u.toRange())}},MD=function(e,t){var n=$n.fromDom(e.getBody()),r=$n.fromDom(e.selection.getStart()),o=Je(AD(n,r),DD);return ft(o).map(function(n){var r=Tl.fromRangeStart(e.selection.getRng());return!(!bA(t,r,n.dom())||mw(n))&&(RD(t,e,n,o),!0)}).getOr(!1)},PD=function(e,t){return!!e.selection.isCollapsed()&&MD(e,t)},ID=function(e,t){var n=Tl.fromRangeStart(e.selection.getRng());return Em(t,e.getBody(),n).filter(function(e){return t?Wg(e):Gg(e)}).bind(function(e){return Ee.from(Kd(t?0:-1,e))}).map(function(t){return e.selection.select(t),!0}).getOr(!1)},zD=function(e,t){return!!e.selection.isCollapsed()&&ID(e,t)},BD=function(e){return zc(e,function(e){return wo(e.dom())||xo(e.dom())}).exists(function(e){return wo(e.dom())})},LD=function(e){var t=parseInt(e,10);return isNaN(t)?0:t},HD=function(e,t){return(e||Zo(t)?"margin":"padding")+("rtl"===Do(t,"direction")?"-right":"-left")},FD=function(e,t,n,r,o,i){var a=HD(n,$n.fromDom(i));if("outdent"===t){var u=Math.max(0,LD(i.style[a])-r);e.setStyle(i,a,u?u+o:"")}else{var u=LD(i.style[a])+r+o;e.setStyle(i,a,u)}},jD=function(e,t){return it(t,function(t){var n=HD(Lf(e),t),r=Mo(t,n).map(LD).getOr(0);return"false"!==e.dom.getContentEditable(t.dom())&&r>0})},VD=function(e){var t=$D(e);return!e.mode.isReadOnly()&&(t.length>1||jD(e,t))},UD=function(e){return ri(e)||oi(e)},qD=function(e){return hr(e).map(UD).getOr(!1)},$D=function(e){return Je(Ge(e.selection.getSelectedBlocks(),$n.fromDom),function(e){return!UD(e)&&!qD(e)&&BD(e)})},WD=function(e,t){var n=e.dom,r=e.selection,o=e.formatter,i=Hf(e),a=/[a-z%]+$/i.exec(i)[0],u=parseInt(i,10),c=Lf(e),s=hf(e);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||""!==s||n.getParent(r.getNode(),n.isBlock)||o.apply("div"),Ke($D(e),function(e){FD(n,t,c,u,a,e.dom())})},GD=function(e,t,n){return _m(e,t,n,Vg)},KD=function(e,t){return tt(gh($n.fromDom(t.container()),e),Qo)},YD=function(e,t,n){return GD(e,t.dom(),n).forall(function(e){return KD(t,n).fold(function(){return!1===Gd(e,n,t.dom())},function(r){return!1===Gd(e,n,t.dom())&&fr(r,$n.fromDom(e.container()))})})},XD=function(e,t,n){return KD(t,n).fold(function(){return GD(e,t.dom(),n).forall(function(e){return!1===Gd(e,n,t.dom())})},function(t){return GD(e,t.dom(),n).isNone()})},JD=r(XD,!1),QD=r(XD,!0),ZD=r(YD,!1),eR=r(YD,!0),tR=function(e,t,n){if(e.selection.isCollapsed()&&VD(e)){var r=e.dom,o=e.selection.getRng(),i=Tl.fromRangeStart(o),a=r.getParent(o.startContainer,r.isBlock);if(null!==a&&JD($n.fromDom(a),i))return WD(e,"outdent"),!0}return!1},nR=function(e,t,n){fA([{keyCode:NT.BACKSPACE,action:lA(tR,e,!1)},{keyCode:NT.BACKSPACE,action:lA(bD,e,!1)},{keyCode:NT.DELETE,action:lA(bD,e,!0)},{keyCode:NT.BACKSPACE,action:lA(CD,e,!1)},{keyCode:NT.DELETE,action:lA(CD,e,!0)},{keyCode:NT.BACKSPACE,action:lA(_D,e,t,!1)},{keyCode:NT.DELETE,action:lA(_D,e,t,!0)},{keyCode:NT.BACKSPACE,action:lA(Ov,e,!1)},{keyCode:NT.DELETE,action:lA(Ov,e,!0)},{keyCode:NT.BACKSPACE,action:lA(zD,e,!1)},{keyCode:NT.DELETE,action:lA(zD,e,!0)},{keyCode:NT.BACKSPACE,action:lA(WA,e,!1)},{keyCode:NT.DELETE,action:lA(WA,e,!0)},{keyCode:NT.BACKSPACE,action:lA(HA,e,!1)},{keyCode:NT.DELETE,action:lA(HA,e,!0)},{keyCode:NT.BACKSPACE,action:lA(PD,e,!1)},{keyCode:NT.DELETE,action:lA(PD,e,!0)}],n).each(function(e){n.preventDefault()})},rR=function(e,t){fA([{keyCode:NT.BACKSPACE,action:lA(vD,e)},{keyCode:NT.DELETE,action:lA(vD,e)}],t)},oR=function(e,t){e.on("keydown",function(n){!1===n.isDefaultPrevented()&&nR(e,t,n)}),e.on("keyup",function(t){!1===t.isDefaultPrevented()&&rR(e,t)})},iR=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},aR=function(e,t){var n,r=t,o=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var a=iR(t.firstChild);a&&/^(UL|OL|DL)$/.test(a.nodeName)&&t.insertBefore(o.doc.createTextNode(" "),t.firstChild)}var u=o.createRng();if(t.normalize(),t.hasChildNodes()){for(var c=new gu(t,t);n=c.current();){if(go(n)){u.setStart(n,0),u.setEnd(n,0);break}if(i[n.nodeName.toLowerCase()]){u.setStartBefore(n),u.setEndBefore(n);break}r=n,n=c.next()}n||(u.setStart(r,0),u.setEnd(r,0))}else yo(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(u.setStartBefore(t),u.setEndBefore(t)):(u.setStartAfter(t),u.setEndAfter(t)):(u.setStart(t,0),u.setEnd(t,0));e.selection.setRng(u),qS(e,u)}},uR=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},cR=function(e){return Ee.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},sR=function(e){return cR(e).fold(ve(""),function(e){return e.nodeName.toUpperCase()})},lR=function(e){return cR(e).filter(function(e){return oi($n.fromDom(e))}).isSome()},fR=function(e,t){return e.firstChild&&e.firstChild.nodeName===t},dR=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},mR=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},pR=function(e){return mR(e)&&mR(e.parentNode)},gR=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},hR=function(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!io(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},vR=function(e,t,n,r,o){var i=e.dom,a=e.selection.getRng();if(n!==e.getBody()){pR(n)&&(o="LI");var u=o?t(o):i.create("BR");if(hR(n,r,!0)&&hR(n,r,!1))dR(n,"LI")?i.insertAfter(u,gR(n)):i.replace(u,n);else if(hR(n,r,!0))dR(n,"LI")?(i.insertAfter(u,gR(n)),u.appendChild(i.doc.createTextNode(" ")),u.appendChild(n)):n.parentNode.insertBefore(u,n);else if(hR(n,r,!1))i.insertAfter(u,gR(n));else{n=gR(n);var c=a.cloneRange();c.setStartAfter(r),c.setEndAfter(n);var s=c.extractContents();"LI"===o&&fR(s,"LI")?(u=s.firstChild,i.insertAfter(s,n)):(i.insertAfter(s,n),i.insertAfter(u,n))}i.remove(r),aR(e,u)}},bR=function(e){Ke(Mc($n.fromDom(e),Jn),function(e){var t=e.dom();t.nodeValue=ss(t.nodeValue)})},yR=function(e,t){return t&&"A"===t.nodeName&&e.isEmpty(t)},wR=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},xR=function(e){e.innerHTML='<br data-mce-bogus="1">'},CR=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},kR=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},SR=function(e,t,n){var r,o=n,i=[];if(o){for(;o=o.firstChild;){if(e.isBlock(o))return;io(o)&&!t[o.nodeName.toLowerCase()]&&i.push(o)}for(r=i.length;r--;)o=i[r],!o.hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue?e.remove(o):yR(e,o)&&e.remove(o)}},TR=function(e,t,n){return!1===go(t)?n:e?1===n&&t.data.charAt(n-1)===us?0:n:n===t.data.length-1&&t.data.charAt(n)===us?t.data.length:n},NR=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,TR(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,TR(!1,e.endContainer,e.endOffset)),t},ER=function(e){do{go(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)},OR=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},_R=function(e,t,n){Ee.from(n.style).map(e.dom.parseStyle).each(function(n){var r=Po($n.fromDom(t)),o=zt(zt({},r),n);e.dom.setStyles(t,o)});var r=Ee.from(n.class).map(function(e){return e.split(/\s+/)}),o=Ee.from(t.className).map(function(e){return Je(e.split(/\s+/),function(e){return""!==e})});Es(r,o,function(n,r){var o=Je(r,function(e){return!$e(n,e)}),a=i(n,o);e.dom.setAttrib(t,"class",a.join(" "))});var a=["style","class"],u=xt(n,function(e,t){return!$e(a,t)});e.dom.setAttribs(t,u)},AR=function(e,t){var n=hf(e);if(n&&n.toLowerCase()===t.tagName.toLowerCase()){var r=vf(e);_R(e,t,r)}},DR=function(e,t,n,r,o){var i,a,u,c,s,l,f=t||"P",d=e.dom,m=OR(d,r);if(!(a=d.getParent(r,d.isBlock))||!kR(d,a)){if(a=a||m,l=a===e.getBody()||wR(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return i=d.create(f),AR(e,i),a.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(c=r;c.parentNode!==a;)c=c.parentNode;for(;c&&!d.isBlock(c);)u=c,c=c.previousSibling;if(u&&e.schema.isValidChild(l,f.toLowerCase())){for(i=d.create(f),AR(e,i),u.parentNode.insertBefore(i,u),c=u;c&&!d.isBlock(c);)s=c.nextSibling,i.appendChild(c),c=s;n.setStart(r,o),n.setEnd(r,o)}}return r},RR=function(e,t){t.normalize();var n=t.lastChild;n&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")},MR=function(e,t){var n,r,o,i,a,u,c,s,l,f,d=e.dom,m=e.schema,p=m.getNonEmptyElements(),g=e.selection.getRng(),h=function(t){var n,o,a,u=r,c=m.getTextInlineElements();if(n=t||"TABLE"===s||"HR"===s?d.create(t||l):i.cloneNode(!1),a=n,!1===wf(e))d.setAttrib(n,"style",null),d.setAttrib(n,"class",null);else do{if(c[u.nodeName]){if(Im(u)||rp(u))continue;o=u.cloneNode(!1),d.setAttrib(o,"id",""),n.hasChildNodes()?(o.appendChild(n.firstChild),n.appendChild(o)):(a=o,n.appendChild(o))}}while((u=u.parentNode)&&u!==x);return AR(e,n),xR(a),n},v=function(e){var t,n,a=TR(e,r,o);if(go(r)&&(e?a>0:a<r.nodeValue.length))return!1;if(r.parentNode===i&&f&&!e)return!0;if(e&&io(r)&&r===i.firstChild)return!0;if(CR(r,"TABLE")||CR(r,"HR"))return f&&!e||!f&&e;var u=new gu(r,i);for(go(r)&&(e&&0===a?u.prev():e||a!==r.nodeValue.length||u.next());t=u.current();){if(io(t)){if(!t.getAttribute("data-mce-bogus")&&(n=t.nodeName.toLowerCase(),p[n]&&"br"!==n))return!1}else if(go(t)&&!/^[ \t\r\n]*$/.test(t.nodeValue))return!1;e?u.prev():u.next()}return!0},b=function(){a=/^(H[1-6]|PRE|FIGURE)$/.test(s)&&"HGROUP"!==C?h(l):h(),xf(e)&&kR(d,c)&&d.isEmpty(i)?a=d.split(c,i):d.insertAfter(a,i),aR(e,a)};hT(d,g).each(function(e){g.setStart(e.startContainer,e.startOffset),g.setEnd(e.endContainer,e.endOffset)}),r=g.startContainer,o=g.startOffset,l=hf(e);var y=!(!t||!t.shiftKey),w=!(!t||!t.ctrlKey);io(r)&&r.hasChildNodes()&&(f=o>r.childNodes.length-1,r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r,o=f&&go(r)?r.nodeValue.length:0);var x=OR(d,r);if(x){(l&&!y||!l&&y)&&(r=DR(e,l,g,r,o)),i=d.getParent(r,d.isBlock),c=i?d.getParent(i.parentNode,d.isBlock):null,s=i?i.nodeName.toUpperCase():"";var C=c?c.nodeName.toUpperCase():"";if("LI"!==C||w||(i=c,c=c.parentNode,s=C),/^(LI|DT|DD)$/.test(s)&&d.isEmpty(i))return void vR(e,h,c,i,l);l&&i===e.getBody()||(l=l||"P",ds(i)?(a=Ss(i),d.isEmpty(i)&&xR(i),AR(e,a),aR(e,a)):v()?b():v(!0)?(a=i.parentNode.insertBefore(h(),i),aR(e,CR(i,"HR")?a:i)):(n=NR(g).cloneRange(),n.setEndAfter(i),u=n.extractContents(),bR(u),ER(u),a=u.firstChild,d.insertAfter(u,i),SR(d,p,a),RR(d,i),d.isEmpty(i)&&xR(i),a.normalize(),d.isEmpty(a)?(d.remove(a),b()):(AR(e,a),aR(e,a))),d.setAttrib(a,"id",""),e.fire("NewBlock",{newBlock:a}))}},PR=function(e,t,n){for(var r,o=new gu(t,n),i=e.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||r.length>0)return!0},IR=function(e,t,n){var r=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(r,n),t.scrollIntoView(r),e.remove(r)},zR=function(e,t,n,r){var o=e.createRng();r?(o.setStartBefore(n),o.setEndBefore(n)):(o.setStartAfter(n),o.setEndAfter(n)),t.setRng(o)},BR=function(e,t){var n,r,o=e.selection,i=e.dom,a=o.getRng();hT(i,a).each(function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)});var u=a.startOffset,c=a.startContainer;if(1===c.nodeType&&c.hasChildNodes()){var s=u>c.childNodes.length-1;c=c.childNodes[Math.min(u,c.childNodes.length-1)]||c,u=s&&3===c.nodeType?c.nodeValue.length:0}var l=i.getParent(c,i.isBlock),f=l?i.getParent(l.parentNode,i.isBlock):null,d=f?f.nodeName.toUpperCase():"",m=!(!t||!t.ctrlKey);"LI"!==d||m||(l=f),c&&3===c.nodeType&&u>=c.nodeValue.length&&(PR(e.schema,c,l)||(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0)),n=i.create("br"),_l(i,a,n),IR(i,o,n),zR(i,o,n,r),e.undoManager.add()},LR=function(e,t){var n=$n.fromTag("br");Pr($n.fromDom(t),n),e.undoManager.add()},HR=function(e,t){jR(e.getBody(),t)||Ir($n.fromDom(t),$n.fromTag("br"));var n=$n.fromTag("br");Ir($n.fromDom(t),n),IR(e.dom,e.selection,n.dom()),zR(e.dom,e.selection,n.dom(),!1),e.undoManager.add()},FR=function(e){return yo(e.getNode())},jR=function(e,t){return!!FR(Tl.after(t))||Dm(e,Tl.after(t)).map(function(e){return yo(e.getNode())}).getOr(!1)},VR=function(e){return e&&"A"===e.nodeName&&"href"in e},UR=function(e){return e.fold(ve(!1),VR,VR,ve(!1))},qR=function(e){var t=r(OE,e),n=Tl.fromRangeStart(e.selection.getRng());return GE(t,e.getBody(),n).filter(UR)},$R=function(e,t){t.fold(pe,r(LR,e),r(HR,e),pe)},WR=function(e,t){var n=qR(e);n.isSome()?n.each(r($R,e)):BR(e,t)},GR=function(e,t){return cR(e).filter(function(e){return t.length>0&&or($n.fromDom(e),t)}).isSome()},KR=function(e){return GR(e,bf(e))},YR=function(e){return GR(e,yf(e))},XR=Iu.generate([{br:[]},{block:[]},{none:[]}]),JR=function(e,t){return YR(e)},QR=function(e){return function(t,n){return""===hf(t)===e}},ZR=function(e){return function(t,n){return lR(t)===e}},eM=function(e,t){return function(n,r){return sR(n)===e.toUpperCase()===t}},tM=function(e){return eM("pre",e)},nM=function(){return eM("summary",!0)},rM=function(e){return function(t,n){return gf(t)===e}},oM=function(e,t){return KR(e)},iM=function(e,t){return t},aM=function(e){var t=hf(e),n=uR(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},uM=function(e,t){return function(n,r){return Ze(e,function(e,t){return e&&t(n,r)},!0)?Ee.some(t):Ee.none()}},cM=function(e,t){return BE([uM([JR],XR.none()),uM([nM()],XR.br()),uM([tM(!0),rM(!1),iM],XR.br()),uM([tM(!0),rM(!1)],XR.block()),uM([tM(!0),rM(!0),iM],XR.block()),uM([tM(!0),rM(!0)],XR.br()),uM([ZR(!0),iM],XR.br()),uM([ZR(!0)],XR.block()),uM([QR(!0),iM,aM],XR.block()),uM([QR(!0)],XR.br()),uM([oM],XR.br()),uM([QR(!1),iM],XR.br()),uM([aM],XR.block())],[e,!(!t||!t.shiftKey)]).getOr(XR.none())},sM=function(e,t){cM(e,t).fold(function(){WR(e,t)},function(){MR(e,t)},pe)},lM=function(e,t){t.isDefaultPrevented()||(t.preventDefault(),oC(e.undoManager),e.undoManager.transact(function(){!1===e.selection.isCollapsed()&&e.execCommand("Delete"),sM(e,t)}))},fM=function(e){e.on("keydown",function(t){t.keyCode===NT.ENTER&&lM(e,t)})},dM=function(e,t){var n=t.container(),r=t.offset();return go(n)?(n.insertData(r,e),Ee.some(E(n,r+e.length))):rm(t).map(function(n){var r=$n.fromText(e);return t.isAtEnd()?Ir(n,r):Pr(n,r),E(r.dom(),e.length)})},mM=r(dM," "),pM=r(dM," "),gM=function(e){return E.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},hM=function(e,t){var n=Je(gh($n.fromDom(t.container()),e),Qo);return lt(n).getOr(e)},vM=function(e,t){return gM(t)?jg(t):jg(t)||Rm(hM(e,t).dom(),t).exists(jg)},bM=function(e,t){return gM(t)?Fg(t):Fg(t)||Dm(hM(e,t).dom(),t).exists(Fg)},yM=function(e){return $e(["pre","pre-wrap"],e)},wM=function(e){return rm(e).bind(function(e){return zc(e,Xn)}).exists(function(e){return yM(Do(e,"white-space"))})},xM=function(e,t){return Rm(e.dom(),t).isNone()},CM=function(e,t){return Dm(e.dom(),t).isNone()},kM=function(e,t){return xM(e,t)||CM(e,t)||JD(e,t)||QD(e,t)||XA(e,t)||YA(e,t)},SM=function(e,t){return!wM(t)&&(kM(e,t)||vM(e,t)||bM(e,t))},TM=function(e,t){return!wM(t)&&(JD(e,t)||ZD(e,t)||XA(e,t)||vM(e,t))},NM=function(e){var t=e.container(),n=e.offset();return go(t)&&n<t.data.length?E(t,n+1):e},EM=function(e,t){var n=NM(t);return!wM(n)&&(QD(e,n)||eR(e,n)||YA(e,n)||bM(e,n))},OM=function(e,t){return TM(e,t)||EM(e,t)},_M=function(e,t){return op(e.charAt(t))},AM=function(e){var t=e.container();return go(t)&&tn(t.data," ")},DM=function(e){var t=e.split("");return Ge(t,function(e,n){return op(e)&&n>0&&n<t.length-1&&ap(t[n-1])&&ap(t[n+1])?" ":e}).join("")},RM=function(e,t){var n=t.data,r=E(t,0);return!(!_M(n,0)||OM(e,r))&&(t.data=" "+n.slice(1),!0)},MM=function(e){var t=e.data,n=DM(t);return n!==t&&(e.data=n,!0)},PM=function(e,t){var n=t.data,r=E(t,n.length-1);return!(!_M(n,n.length-1)||OM(e,r))&&(t.data=n.slice(0,-1)+" ",!0)},IM=function(e,t){return Ee.some(t).filter(AM).bind(function(t){var n=t.container();return RM(e,n)||MM(n)||PM(e,n)?Ee.some(t):Ee.none()})},zM=function(e){var t=$n.fromDom(e.getBody());e.selection.isCollapsed()&&IM(t,E.fromRangeStart(e.selection.getRng())).each(function(t){e.selection.setRng(t.toRange())})},BM=function(e){return function(t){return t.fold(function(t){return Rm(e.dom(),Tl.before(t))},function(e){return Mm(e)},function(e){return Pm(e)},function(t){return Dm(e.dom(),Tl.after(t))})}},LM=function(e,t){return function(n){return SM(e,n)?mM(t):pM(t)}},HM=function(e){return function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}},FM=function(e){var t=Tl.fromRangeStart(e.selection.getRng()),n=$n.fromDom(e.getBody());if(e.selection.isCollapsed()){var o=r(OE,e),i=Tl.fromRangeStart(e.selection.getRng());return GE(o,e.getBody(),i).bind(BM(n)).bind(LM(n,t)).exists(HM(e))}return!1},jM=function(e,t){fA([{keyCode:NT.SPACEBAR,action:lA(FM,e)}],t).each(function(e){t.preventDefault()})},VM=function(e){e.on("keydown",function(t){!1===t.isDefaultPrevented()&&jM(e,t)})},UM=function(e){return Lc($n.fromDom(e.getBody()),"*[data-mce-caret]").fold(ve(null),function(e){return e.dom()})},qM=function(e){e.selection.setRng(e.selection.getRng())},$M=function(e,t){t.hasAttribute("data-mce-caret")&&(Ss(t),qM(e),e.selection.scrollIntoView(t))},WM=function(e,t){var n=UM(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void $M(e,n)):void(gs(n)&&($M(e,n),e.undoManager.add()))},GM=function(e){e.on("keyup compositionstart",r(WM,e))},KM=vn().browser,YM=function(e){var t=wc(function(){e.composing||zM(e)},0);KM.isIE()&&(e.on("keypress",function(e){t.throttle()}),e.on("remove",function(e){t.cancel()}))},XM=function(e){YM(e),e.on("input",function(t){!1===t.isComposing&&zM(e)})},JM=function(e,t){fA([{keyCode:NT.END,action:x_(e,!0)},{keyCode:NT.HOME,action:x_(e,!1)}],t).each(function(e){t.preventDefault()})},QM=function(e){e.on("keydown",function(t){!1===t.isDefaultPrevented()&&JM(e,t)})},ZM=function(e){var t=mO(e);GM(e),mA(e,t),oR(e,t),fM(e),VM(e),XM(e),QM(e)},eP=function(e){xC(e)||ZM(e)},tP=function(){function e(e){this.lastPath=[],this.editor=e;var t,n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",function(n){var r=e.selection.getRng(),o={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};"nodechange"!==n.type&&oT(o,t)||e.fire("SelectionChange"),t=o}),e.on("contextmenu",function(){e.fire("SelectionChange")}),e.on("SelectionChange",function(){var t=e.selection.getStart(!0);!t||!Nn.range&&e.selection.isCollapsed()||Zp(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on("mouseup",function(t){!t.isDefaultPrevented()&&Zp(e)&&("IMG"===e.selection.getNode().nodeName?qu.setEditorTimeout(e,function(){e.nodeChanged()}):e.nodeChanged())})}return e.prototype.nodeChanged=function(e){var t,n,r,o=this.editor.selection;this.editor.initialized&&o&&!sd(this.editor)&&!this.editor.mode.isReadOnly()&&(r=this.editor.getBody(),t=o.getStart(!0)||r,t.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(t,r)||(t=r),n=[],this.editor.dom.getParent(t,function(e){if(e===r)return!0;n.push(e)}),e=e||{},e.element=t,e.parents=n,this.editor.fire("NodeChange",e))},e.prototype.isSameElementPath=function(e){var t,n=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e);if(n.length===this.lastPath.length){for(t=n.length;t>=0&&n[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=n,!0}return this.lastPath=n,!1},e}(),nP=function(e){e.on("click",function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()})},rP=function(e){e.parser.addNodeFilter("details",function(e){Ke(e,function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")})}),e.serializer.addNodeFilter("details",function(e){Ke(e,function(e){var t=e.attr("data-mce-open");e.attr("open",Re(t)?t:null),e.attr("data-mce-open",null)})})},oP=function(e){nP(e),rP(e)},iP=function(e){return io(e)&&ni($n.fromDom(e))},aP=function(e){var t=e.selection.getRng(),n=E.fromRangeStart(t),r=E.fromRangeEnd(t);if(E.isElementPosition(n)){var o=n.container();iP(o)&&Mm(o).each(function(e){return t.setStart(e.container(),e.offset())})}if(E.isElementPosition(r)){var o=n.container();iP(o)&&Pm(o).each(function(e){return t.setEnd(e.container(),e.offset())})}e.selection.setRng(Dv(t))},uP=function(e){e.on("click",function(t){t.detail>=3&&aP(e)})},cP=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top:t.top+o.pageYOffset-r.clientTop,left:t.left+o.pageXOffset-r.clientLeft}},sP=function(e){return e.inline?cP(e.getBody()):{left:0,top:0}},lP=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},fP=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},o={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:o},dP=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=cP(e.getContentAreaContainer()),r=fP(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},mP=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}},pP=function(e,t){return mP(sP(e),lP(e),dP(e,t))},gP=xo,hP=wo,vP=function(e,t){return gP(t)&&t!==e},bP=function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!gP(t)},yP=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},wP=function(e,t,n,r){var o=t.cloneNode(!0);e.dom.setStyles(o,{width:n,height:r}),e.dom.setAttrib(o,"data-mce-selected",null);var i=e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),e.dom.setStyles(o,{margin:0,boxSizing:"border-box"}),i.appendChild(o),i},xP=function(e,t){e.parentNode!==t&&t.appendChild(e)},CP=function(e,t,n,r,o,i){var a=0,u=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>o&&(a=t.pageX+n-o),t.pageY+r>i&&(u=t.pageY+r-i),e.style.width=n-a+"px",e.style.height=r-u+"px"},kP=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},SP=function(e){return 0===e.button},TP=function(e){return e.element},NP=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},EP=function(e,t){return function(n){if(SP(n)){var r=tt(t.dom.getParents(n.target),Vs(gP,hP)).getOr(null);if(vP(t.getBody(),r)){var o=t.dom.getPos(r),i=t.getBody(),a=t.getDoc().documentElement;e.element=r,e.screenX=n.screenX,e.screenY=n.screenY,e.maxX=(t.inline?i.scrollWidth:a.offsetWidth)-2,e.maxY=(t.inline?i.scrollHeight:a.offsetHeight)-2,e.relX=n.pageX-o.x,e.relY=n.pageY-o.y,e.width=r.offsetWidth,e.height=r.offsetHeight,e.ghost=wP(t,r,e.width,e.height)}}}},OP=function(e,t){var n=qu.throttle(function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)},0);return function(r){var o=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(TP(e)&&!e.dragging&&o>10){if(t.fire("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var i=NP(e,pP(t,r));xP(e.ghost,t.getBody()),CP(e.ghost,i,e.width,e.height,e.maxX,e.maxY),n(r.clientX,r.clientY)}}},_P=function(e){var t=e.getSel().getRangeAt(0),n=t.startContainer;return 3===n.nodeType?n.parentNode:n},AP=function(e,t){return function(n){if(e.dragging&&bP(t,_P(t.selection),e.element)){var r=yP(e.element),o=t.fire("drop",{targetClone:r,clientX:n.clientX,clientY:n.clientY});o.isDefaultPrevented()||(r=o.targetClone,t.undoManager.transact(function(){kP(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()}))}RP(e)}},DP=function(e,t){return function(){e.dragging&&t.fire("dragend"),RP(e)}},RP=function(e){e.dragging=!1,e.element=null,kP(e.ghost)},MP=function(e){var t={},r=ec.DOM,o=n.document,i=EP(t,e),a=OP(t,e),u=AP(t,e),c=DP(t,e);e.on("mousedown",i),e.on("mousemove",a),e.on("mouseup",u),r.bind(o,"mousemove",a),r.bind(o,"mouseup",c),e.on("remove",function(){r.unbind(o,"mousemove",a),r.unbind(o,"mouseup",c)})},PP=function(e){e.on("drop",function(t){var n=void 0!==t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(gP(n)||gP(e.dom.getContentEditableParent(n)))&&t.preventDefault()})},IP=function(e){var t=function(e){if(!e.defaultPrevented){var t=e.dataTransfer;t&&($e(t.types,"Files")||t.files.length>0)&&e.preventDefault()}},r=function(n){sy(e,n.target)&&t(n)},o=function(){var o=ec.DOM,i=e.dom,a=n.document,u=e.inline?e.getBody():e.getDoc(),c=["drop","dragover"];Ke(c,function(e){o.bind(a,e,r),i.bind(u,e,t)}),e.on("remove",function(){Ke(c,function(e){o.unbind(a,e,r),i.unbind(u,e,t)})})};e.on("init",function(){qu.setEditorTimeout(e,o,0)})},zP=function(e){MP(e),PP(e),pd(e)&&IP(e)},BP=function(e){var t=wc(function(){if(!e.removed&&e.getBody().contains(n.document.activeElement)){if(e.selection.getRng().collapsed){var t=s_(e,e.selection.getRng(),!1);e.selection.setRng(t)}}},0);e.on("focus",function(){t.throttle()}),e.on("blur",function(){t.cancel()})},LP=wo,HP=xo,FP=function(e,t){for(var n=e.getBody();t&&t!==n;){if(LP(t)||HP(t))return t;t=t.parentNode}return null},jP=function(e){var t,n=function(t){return e.dom.isBlock(t)},r=e.getBody(),o=Md(e,r,n,function(){return ky(e)}),i="sel-"+e.dom.uniqueId(),a=function(t){return e.dom.hasClass(t,"mce-offscreen-selection")},u=function(){var t=e.dom.get(i);return t?t.getElementsByTagName("*")[0]:t},c=function(t){t&&e.selection.setRng(t)},s=function(){return e.selection.getRng()},l=function(t,n,r,i){return void 0===i&&(i=!0),e.fire("ShowCaret",{target:n,direction:t,before:r}).isDefaultPrevented()?null:(i&&e.selection.scrollIntoView(n,-1===t),o.show(r,n))},f=function(t){t.hasAttribute("data-mce-caret")&&(Ss(t),c(s()),e.selection.scrollIntoView(t))},d=function(e){return ps(e)||xs(e)||Cs(e)},m=function(e){return d(e.startContainer)||d(e.endContainer)},p=function(t){var n=e.schema.getShortEndedElements(),r=e.dom.createRng(),o=t.startContainer,i=t.startOffset,a=t.endContainer,u=t.endOffset;return Tt(n,o.nodeName.toLowerCase())?0===i?r.setStartBefore(o):r.setStartAfter(o):r.setStart(o,i),Tt(n,a.nodeName.toLowerCase())?0===u?r.setEndBefore(a):r.setEndAfter(a):r.setEnd(a,u),r},g=function(n,o){var a,u,c,s,f,d,p,g=e.$,h=e.dom;if(!n)return null;if(n.collapsed){if(!m(n))if(!1===o){if(f=nm(-1,r,n),Id(f.getNode(!0)))return l(-1,f.getNode(!0),!1,!1);if(Id(f.getNode()))return l(-1,f.getNode(),!f.isAtEnd(),!1)}else{if(f=nm(1,r,n),Id(f.getNode()))return l(1,f.getNode(),!f.isAtEnd(),!1);if(Id(f.getNode(!0)))return l(1,f.getNode(!0),!1,!1)}return null}c=n.startContainer,s=n.startOffset;var v=n.endOffset;if(3===c.nodeType&&0===s&&HP(c.parentNode)&&(c=c.parentNode,s=h.nodeIndex(c),c=c.parentNode),1!==c.nodeType)return null;if(v===s+1&&c===n.endContainer&&(a=c.childNodes[s]),!HP(a))return null;d=p=a.cloneNode(!0);var y=e.fire("ObjectSelected",{target:a,targetClone:d});if(y.isDefaultPrevented())return null;u=Lc($n.fromDom(e.getBody()),"#"+i).fold(function(){return g([])},function(e){return g([e.dom()])}),d=y.targetClone,0===u.length&&(u=g('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",i),u.appendTo(e.getBody())),n=e.dom.createRng(),d===p&&Nn.ie?(u.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(d),n.setStartAfter(u[0].firstChild.firstChild),n.setEndAfter(d)):(u.empty().append(" ").append(d).append(" "),n.setStart(u[0].firstChild,1),n.setEnd(u[0].lastChild,0)),u.css({top:h.getPos(a,e.getBody()).y}),u[0].focus();var w=e.selection.getSel();w.removeAllRanges(),w.addRange(n);var x=$n.fromDom(a);return Ke(Pc($n.fromDom(e.getBody()),"*[data-mce-selected]"),function(e){cr(x,e)||_o(e,"data-mce-selected")}),e.dom.getAttrib(a,"data-mce-selected")||a.setAttribute("data-mce-selected","1"),t=a,b(),n},h=function(){t&&(t.removeAttribute("data-mce-selected"),Lc($n.fromDom(e.getBody()),"#"+i).each(Vr),t=null),Lc($n.fromDom(e.getBody()),"#"+i).each(Vr),t=null},v=function(){o.destroy(),t=null},b=function(){o.hide()};return Nn.ceFalse&&function(){e.on("mouseup",function(t){var n=s();n.collapsed&&Xk(e,t.clientX,t.clientY)&&c(c_(e,n,!1))}),e.on("click",function(t){var n=FP(e,t.target);n&&(HP(n)&&(t.preventDefault(),e.focus()),LP(n)&&e.dom.isChildOf(n,e.selection.getNode())&&h())}),e.on("blur NewBlock",function(){h()}),e.on("ResizeWindow FullscreenStateChanged",function(){return o.reposition()});var n=function(e){var t=ym(e);if(!e.firstChild)return!1;var n=Tl.before(e.firstChild),r=t.next(n);return r&&!Xg(r)&&!Jg(r)},i=function(t,n){return e.dom.getParent(t,e.dom.isBlock)===e.dom.getParent(n,e.dom.isBlock)},f=function(t,r){var o=e.dom.getParent(t,e.dom.isBlock),a=e.dom.getParent(r,e.dom.isBlock);return!(!o||!e.dom.isChildOf(o,a)||!1!==HP(FP(e,o)))||o&&!i(o,a)&&n(o)};!function(e){e.on("tap",function(t){var n=FP(e,t.target);HP(n)&&(t.preventDefault(),g(u_(e,n)))},!0)}(e),e.on("mousedown",function(t){var n=t.target;if((n===r||"HTML"===n.nodeName||e.dom.isChildOf(n,r))&&!1!==Xk(e,t.clientX,t.clientY)){var o=FP(e,n);if(o)HP(o)?(t.preventDefault(),g(u_(e,o))):(h(),LP(o)&&t.shiftKey||TT(t.clientX,t.clientY,e.selection.getRng())||(b(),e.selection.placeCaretAt(t.clientX,t.clientY)));else if(!1===Id(n)){h(),b();var i=n_(r,t.clientX,t.clientY);if(i&&!f(t.target,i.node)){t.preventDefault();var a=l(1,i.node,i.before,!1);e.getBody().focus(),c(a)}}}}),e.on("keypress",function(t){NT.modifierPressed(t)||(t.keyCode,HP(e.selection.getNode())&&t.preventDefault())}),e.on("GetSelectionRange",function(e){var n=e.range;if(t){if(!t.parentNode)return void(t=null);n=n.cloneRange(),n.selectNode(t),e.range=n}}),e.on("SetSelectionRange",function(e){e.range=p(e.range);var t=g(e.range,e.forward);t&&(e.range=t)});var d=function(e){return"mcepastebin"===e.id};e.on("AfterSetSelectionRange",function(e){var t=e.range;m(t)||d(t.startContainer.parentNode)||b(),a(t.startContainer.parentNode)||h()}),e.on("copy",function(e){var t=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!Nn.ie){var n=u();n&&(e.preventDefault(),t.clearData(),t.setData("text/html",n.outerHTML),t.setData("text/plain",n.outerText))}}),zP(e),BP(e)}(),{showCaret:l,showBlockCaretContainer:f,hideFakeCaret:b,destroy:v}},VP=function(e){var t=Hn.each,r=NT.BACKSPACE,o=NT.DELETE,i=e.dom,a=e.selection,u=e.parser,c=Nn.gecko,s=Nn.ie,l=Nn.webkit,f=s?"Text":"URL",d=function(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},m=function(e){return e.isDefaultPrevented()},p=function(t){var n,r;t.dataTransfer&&(e.selection.isCollapsed()&&"IMG"===t.target.tagName&&a.select(t.target),n=e.selection.getContent(),n.length>0&&(r="data:text/mce-internal,"+escape(e.id)+","+escape(n),t.dataTransfer.setData(f,r)))},g=function(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(f))&&t.indexOf("data:text/mce-internal,")>=0?(t=t.substr("data:text/mce-internal,".length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null},h=function(t,n){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:t,internal:n}):e.execCommand("mceInsertContent",!1,t)},v=function(){e.shortcuts.add("meta+a",null,"SelectAll")},b=function(){e.on("keydown",function(e){if(!m(e)&&e.keyCode===r&&a.isCollapsed()&&0===a.getRng().startOffset){var t=a.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})},y=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(t){var n;if("HTML"===t.target.nodeName){if(Nn.ie>11)return void e.getBody().focus();n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged()}}))},w=function(){},x=function(){if(!c||e.removed)return!1;var t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount};return function(){e.on("keydown",function(t){var n,r;if(!m(t)&&t.keyCode===NT.BACKSPACE){n=a.getRng();var o=n.startContainer,u=n.startOffset,c=i.getRoot();if(r=o,n.collapsed&&0===u){for(;r&&r.parentNode&&r.parentNode.firstChild===r&&r.parentNode!==c;)r=r.parentNode;"BLOCKQUOTE"===r.tagName&&(e.formatter.toggle("blockquote",null,r),n=i.createRng(),n.setStart(o,0),n.setEnd(o,0),a.setRng(n))}}})}(),function(){var t=function(e){var t=i.create("body"),n=e.cloneContents();return t.appendChild(n),a.serializer.serialize(t,{format:"html"})},n=function(n){var r=t(n),o=i.createRng();return o.selectNode(e.getBody()),r===t(o)};e.on("keydown",function(t){var a,u,c=t.keyCode;if(!m(t)&&(c===o||c===r)){if(a=e.selection.isCollapsed(),u=e.getBody(),a&&!i.isEmpty(u))return;if(!a&&!n(e.selection.getRng()))return;t.preventDefault(),e.setContent(""),u.firstChild&&i.isBlock(u.firstChild)?e.selection.setCursorLocation(u.firstChild,0):e.selection.setCursorLocation(u,0),e.nodeChanged()}})}(),Nn.windowsPhone||function(){e.on("keyup focusin mouseup",function(e){NT.modifierPressed(e)||a.normalize()},!0)}(),l&&(function(){e.inline||i.bind(e.getDoc(),"mousedown mouseup",function(t){var n;if(t.target===e.getDoc().documentElement)if(n=a.getRng(),e.getBody().focus(),"mousedown"===t.type){if(ps(n.startContainer))return;a.placeCaretAt(t.clientX,t.clientY)}else a.setRng(n)})}(),function(){e.on("click",function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==i.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&i.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),a.select(n))})}(),function(){hf(e)&&e.on("init",function(){d("DefaultParagraphSeparator",hf(e))})}(),function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(e){e.preventDefault()})})}(),b(),function(){u.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})}(),Nn.iOS?(function(){e.inline||e.on("keydown",function(){n.document.activeElement===n.document.body&&e.getWin().focus()})}(),y(),function(){e.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}()):v()),Nn.ie>=11&&(y(),b()),Nn.ie&&(v(),function(){d("AutoUrlDetect",!1)}(),function(){e.on("dragstart",function(e){p(e)}),e.on("drop",function(t){if(!m(t)){var n=g(t);if(n&&n.id!==e.id){t.preventDefault();var r=YS(t.x,t.y,e.getDoc());a.setRng(r),h(n.html,!0)}}})}()),c&&(!function(){e.on("keydown",function(t){if(!m(t)&&t.keyCode===r){if(!e.getBody().getElementsByTagName("hr").length)return;if(a.isCollapsed()&&0===a.getRng().startOffset){var n=a.getNode(),o=n.previousSibling;if("HR"===n.nodeName)return i.remove(n),void t.preventDefault();o&&o.nodeName&&"hr"===o.nodeName.toLowerCase()&&(i.remove(o),t.preventDefault())}}})}(),function(){n.Range.prototype.getClientRects||e.on("mousedown",function(t){if(!m(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),qu.setEditorTimeout(e,function(){n.focus()})}})}(),function(){var n=function(){var n=i.getAttribs(a.getStart().cloneNode(!1));return function(){var r=a.getStart();r!==e.getBody()&&(i.setAttrib(r,"style",null),t(n,function(e){r.setAttributeNode(e.cloneNode(!0))}))}},r=function(){return!a.isCollapsed()&&i.getParent(a.getStart(),i.isBlock)!==i.getParent(a.getEnd(),i.isBlock)};e.on("keypress",function(t){var o;if(!m(t)&&(8===t.keyCode||46===t.keyCode)&&r())return o=n(),e.getDoc().execCommand("delete",!1,null),o(),t.preventDefault(),!1}),i.bind(e.getDoc(),"cut",function(t){var o;!m(t)&&r()&&(o=n(),qu.setEditorTimeout(e,function(){o()}))})}(),function(){var t=function(){d("StyleWithCSS",!1),d("enableInlineTableEditing",!1),Uf(e)||d("enableObjectResizing",!1)};ld(e)||e.on("BeforeExecCommand mousedown",t)}(),function(){var n=function(){t(i.select("a"),function(e){var t=e.parentNode,n=i.getRoot();if(t.lastChild===e){for(;t&&!i.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}i.add(t,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||n()})}(),function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}(),function(){Nn.mac&&e.on("keydown",function(t){if(NT.metaKeyPressed(t)&&!t.shiftKey&&(37===t.keyCode||39===t.keyCode)){t.preventDefault();e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary")}})}(),b()),{refreshContentEditable:w,isHidden:x}},UP=ec.DOM,qP=function(e,t){var n=$n.fromDom(e.getDoc().head),r=$n.fromTag("style");So(r,"type","text/css"),Br(r,$n.fromText(t)),Br(n,r)},$P=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},WP=function(e){return xt(e,function(e){return!1===Be(e)})},GP=function(e){var t=e.settings,n=e.editorUpload.blobCache;return WP({allow_conditional_comments:t.allow_conditional_comments,allow_html_data_urls:t.allow_html_data_urls,allow_html_in_named_anchor:t.allow_html_in_named_anchor,allow_script_urls:t.allow_script_urls,allow_unsafe_link_target:t.allow_unsafe_link_target,convert_fonts_to_spans:t.convert_fonts_to_spans,fix_list_elements:t.fix_list_elements,font_size_legacy_values:t.font_size_legacy_values,forced_root_block:t.forced_root_block,forced_root_block_attrs:t.forced_root_block_attrs,padd_empty_with_br:t.padd_empty_with_br,preserve_cdata:t.preserve_cdata,remove_trailing_brs:t.remove_trailing_brs,inline_styles:t.inline_styles,root_name:$P(e),validate:!0,blob_cache:n,images_dataimg_filter:t.images_dataimg_filter})},KP=function(e){var t=e.settings;return zt(zt({},GP(e)),WP({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,element_format:t.element_format,entities:t.entities,entity_encoding:t.entity_encoding,indent:t.indent,indent_after:t.indent_after,indent_before:t.indent_before,block_elements:t.block_elements,boolean_attributes:t.boolean_attributes,custom_elements:t.custom_elements,extended_valid_elements:t.extended_valid_elements,invalid_elements:t.invalid_elements,invalid_styles:t.invalid_styles,move_caret_before_on_enter_elements:t.move_caret_before_on_enter_elements,non_empty_elements:t.non_empty_elements,schema:t.schema,self_closing_elements:t.self_closing_elements,short_ended_elements:t.short_ended_elements,special:t.special,text_block_elements:t.text_block_elements,text_inline_elements:t.text_inline_elements,valid_children:t.valid_children,valid_classes:t.valid_classes,valid_elements:t.valid_elements,valid_styles:t.valid_styles,verify_html:t.verify_html,whitespace_elements:t.whitespace_elements}))},YP=function(e){var t=dN(GP(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",function(t,n){for(var r,o,i=t.length,a=e.dom,u="data-mce-"+n;i--;)if(r=t[i],(o=r.attr(n))&&!r.attr(u)){if(0===o.indexOf("data:")||0===o.indexOf("blob:"))continue;"style"===n?(o=a.serializeStyle(a.parseStyle(o),r.name),o.length||(o=null),r.attr(u,o),r.attr(n,o)):"tabindex"===n?(r.attr(u,o),r.attr(n,null)):r.attr(u,e.convertURL(o,n,r.name))}}),t.addNodeFilter("script",function(e){for(var t=e.length;t--;){var n=e[t],r=n.attr("type")||"no/type";0!==r.indexOf("mce-")&&n.attr("type","mce-"+r)}}),e.settings.preserve_cdata&&t.addNodeFilter("#cdata",function(t){for(var n=t.length;n--;){var r=t[n];r.type=8,r.name="#comment",r.value="[CDATA["+e.dom.encode(r.value)+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){for(var n=t.length,r=e.schema.getNonEmptyElements();n--;){var o=t[n];o.isEmpty(r)&&0===o.getAll("br").length&&(o.append(new hg("br",1)).shortEnded=!0)}}),t},XP=function(e){e.settings.auto_focus&&qu.setEditorTimeout(e,function(){var t;t=!0===e.settings.auto_focus?e:e.editorManager.get(e.settings.auto_focus),t.destroyed||t.focus()},100)},JP=function(e){var t=e.dom.getRoot();e.inline||Zp(e)&&e.selection.getStart(!0)!==t||Mm(t).each(function(t){var n=t.getNode(),r=fo(n)?Mm(n).getOr(t):t;Nn.browser.isIE()?Yb(e,r.toRange()):e.selection.setRng(r.toRange())})},QP=function(e){e.bindPendingEventDelegates(),e.initialized=!0,ek(e),e.focus(!0),JP(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),XP(e)},ZP=function(e){return e.inline?UP.styleSheetLoader:e.dom.styleSheetLoader},eI=function(e,t){var n=e.settings,r=e.getDoc(),o=e.getBody();n.browser_spellcheck||n.gecko_spellcheck||(r.body.spellcheck=!1,UP.setAttrib(o,"spellcheck","false")),e.quirks=VP(e),ZC(e);var i=jf(e);if(void 0!==i&&(o.dir=i),n.protect&&e.on("BeforeSetContent",function(e){Hn.each(n.protect,function(t){e.content=e.content.replace(t,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),!1===t&&e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",function(t){e.composing="compositionstart"===t.type}),e.contentStyles.length>0){var a="";Hn.each(e.contentStyles,function(e){a+=e+"\r\n"}),e.dom.addStyle(a)}ZP(e).loadAll(e.contentCSS,function(t){QP(e)},function(t){QP(e)}),n.content_style&&qP(e,n.content_style)},tI=function(e,t){var r=e.settings,o=e.getElement(),i=e.getDoc();r.inline||(e.getElement().style.visibility=e.orgVisibility),t||e.inline||(i.open(),i.write(e.iframeHTML),i.close()),e.inline&&(UP.addClass(o,"mce-content-body"),e.contentDocument=i=n.document,e.contentWindow=n.window,e.bodyElement=o,e.contentAreaContainer=o);var u=e.getBody();u.disabled=!0,e.readonly=!!r.readonly,e.readonly||(e.inline&&"static"===UP.getStyle(u,"position",!0)&&(u.style.position="relative"),u.contentEditable=e.getParam("content_editable_state",!0)),u.disabled=!1,e.editorUpload=AN(e),e.schema=a(r),e.dom=ec(i,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:r.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:Pf(e),referrerPolicy:If(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=YP(e),e.serializer=TN(KP(e),e),e.selection=IT(e.dom,e.getWin(),e.serializer,e),e.annotator=lg(e),e.formatter=$N(e),e.undoManager=KN(e),e._nodeChangeDispatcher=new tP(e),e._selectionOverrides=jP(e),oE(e),oP(e),xC(e)||uP(e),eP(e),lE(e),tE(e),QC(e),CC(e).fold(function(){eI(e,!1)},function(t){e.setProgressState(!0),t.then(function(t){e.setProgressState(!1),eI(e,t)})})},nI=ec.DOM,rI=function(e,t){if(n.document.domain!==n.window.location.hostname&&Nn.browser.isIE()){var r=ON("mce");e[r]=function(){tI(e)};var o='javascript:(function(){document.open();document.domain="'+n.document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+r+"(true);})()";return nI.setAttrib(t,"src",o),!0}return!1},oI=function(e,t,n,r){var o=$n.fromTag("iframe");return To(o,r),To(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),_c(o,"tox-edit-area__iframe"),o},iI=function(e){var t=lf(e)+"<html><head>";ff(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=df(e),r=mf(e);return pf(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+pf(e)+'" />'),t+='</head><body id="'+n+'" class="mce-content-body '+r+'" data-id="'+e.id+'"><br></body></html>'},aI=function(e,t){var n=e.editorManager.translate("Rich Text Area. Press ALT-0 for help."),r=oI(e.id,n,t.height,sf(e)).dom();r.onload=function(){r.onload=null,e.fire("load")};var o=rI(e,r);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=iI(e),nI.add(t.iframeContainer,r),o},uI=function(e,t){var n=aI(e,t);t.editorContainer&&(nI.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=nI.isHidden(t.editorContainer)),e.getElement().style.display="none",nI.setAttrib(e.id,"aria-hidden","true"),n||tI(e)},cI=ec.DOM,sI=function(e,t,n){var r=Zk.get(n),o=Zk.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=Hn.trim(n),r&&-1===Hn.inArray(t,n)){if(Hn.each(Zk.dependencies(n),function(n){sI(e,t,n)}),e.plugins[n])return;try{var i=new r(e,o,e.$);e.plugins[n]=i,i.init&&(i.init(e,o),t.push(n))}catch(t){lS(e,n,t)}}},lI=function(e){return e.replace(/^\-/,"")},fI=function(e){var t=[];Hn.each(dd(e).split(/[ ,]/),function(n){sI(e,t,lI(n))})},dI=function(e){var t=Hn.trim(Of(e)),n=e.ui.registry.getAll().icons,r=zt(zt({},Fk.get("default").icons),Fk.get(t).icons);gt(r,function(t,r){Tt(n,r)||e.ui.registry.addIcon(r,t)})},mI=function(e){var t=Kf(e);if(Re(t)){e.settings.theme=lI(t);var n=eS.get(t);e.theme=new n(e,eS.urls[t]),e.theme.init&&e.theme.init(e,eS.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},pI=function(e){return e.theme.renderUI()},gI=function(e){var t=e.getElement(),n=Kf(e),r=n(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},hI=function(e){return{editorContainer:e,iframeContainer:e}},vI=function(e){var t=cI.create("div");return cI.insertAfter(t,e),hI(t)},bI=function(e){var t=e.getElement();return e.inline?hI(null):vI(t)},yI=function(e){var t=e.getElement();return e.orgDisplay=t.style.display,Re(Kf(e))?pI(e):Le(Kf(e))?gI(e):bI(e)},wI=function(e){e.fire("ScriptsLoaded"),dI(e),mI(e),fI(e);var t=yI(e);return e.editorContainer=t.editorContainer?t.editorContainer:null,pS(e),e.inline?tI(e):uI(e,t)},xI=ec.DOM,CI=function(e){return"-"===e.charAt(0)},kI=function(e,t){var n=zf(t),r=Bf(t);if(!1===bc.hasCode(n)&&"en"!==n){var o=""!==r?r:t.editorManager.baseURL+"/langs/"+n+".js";e.add(o,pe,void 0,function(){sS(t,o,n)})}},SI=function(e,t,n,r){var o=Kf(t);if(Re(o)){if(!CI(o)&&!eS.urls.hasOwnProperty(o)){var i=ed(t);i?eS.load(o,t.documentBaseURI.toAbsolute(i)):eS.load(o,"themes/"+o+"/theme"+n+".js")}e.loadQueue(function(){eS.waitFor(o,r)})}else r()},TI=function(e){return Ee.from(_f(e)).filter(function(e){return e.length>0}).map(function(e){return{url:e,name:Ee.none()}})},NI=function(e,t,n){return Ee.from(t).filter(function(e){return e.length>0&&!Fk.has(e)}).map(function(t){return{url:e.editorManager.baseURL+"/icons/"+t+"/icons"+n+".js",name:Ee.some(t)}})},EI=function(e,t,n){var r=NI(t,"default",n),o=TI(t).orThunk(function(){return NI(t,Of(t),"")});Ke(Ns([r,o]),function(n){e.add(n.url,pe,void 0,function(){cS(t,n.url,n.name.getOrUndefined())})})},OI=function(e,t){Hn.each(md(e),function(t,n){Zk.load(n,t,pe,void 0,function(){uS(e,t,n)}),e.settings.plugins+=" "+n}),Hn.each(dd(e).split(/[ ,]/),function(n){if((n=Hn.trim(n))&&!Zk.urls[n])if(CI(n)){n=n.substr(1,n.length);var r=Zk.dependencies(n);Hn.each(r,function(n){var r={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"},o=Zk.createUrl(r,n);Zk.load(o.resource,o,pe,void 0,function(){uS(e,o.prefix+o.resource+o.suffix,o.resource)})})}else{var o={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"};Zk.load(n,o,pe,void 0,function(){uS(e,o.prefix+o.resource+o.suffix,n)})}})},_I=function(e,t){var n=oc.ScriptLoader;SI(n,e,t,function(){kI(n,e),EI(n,e,t),OI(e,t),n.loadQueue(function(){e.removed||wI(e)},e,function(){e.removed||wI(e)})})},AI=function(e,t){return $u.forElement(e,{contentCssCors:fd(t),referrerPolicy:If(t)})},DI=function(e){var t=e.id;bc.setCode(zf(e));var r=function(){xI.unbind(n.window,"ready",r),e.render()};if(!ta.Event.domLoaded)return void xI.bind(n.window,"ready",r);if(e.getElement()&&Nn.contentEditable){var o=$n.fromDom(e.getElement()),i=Ao(o);e.on("remove",function(){Ye(o.dom().attributes,function(e){return _o(o,e.name)}),To(o,i)}),e.ui.styleSheetLoader=AI(o,e),td(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var a=e.getElement().form||xI.getParent(t,"form");a&&(e.formElement=a,nd(e)&&!po(e.getElement())&&(xI.insertAfter(xI.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},xI.bind(a,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),!rd(e)||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),a._mceOldSubmit(a)})),e.windowManager=tS(e),e.notificationManager=A(e),od(e)&&e.on("GetContent",function(e){e.save&&(e.content=xI.encode(e.content))}),id(e)&&e.on("submit",function(){e.initialized&&e.save()}),ad(e)&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),_I(e,e.suffix)}},RI=function(e){return Le(e)?e:ve(!1)},MI=function(e,t,n){for(var r=e.dom(),o=RI(n);r.parentNode;){r=r.parentNode;var i=$n.fromDom(r),a=t(i);if(a.isSome())return a;if(o(i))break}return Ee.none()},PI=function(e,t,n){var r=t(e),o=RI(n);return r.orThunk(function(){return o(e)?Ee.none():MI(e,t,o)})},II={"font-size":"size","font-family":"face"},zI=function(e,t,n){var r=function(t){return Mo(t,e).orThunk(function(){return"font"===Wn(t)?St(II,e).bind(function(e){return Eo(t,e)}):Ee.none()})},o=function(e){return cr($n.fromDom(t),e)};return PI($n.fromDom(n),function(e){return r(e)},o)},BI=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},LI=function(e,t){return Ee.from(ec.DOM.getStyle(t,e,!0))},HI=function(e){return function(t,n){return Ee.from(n).map($n.fromDom).filter(Xn).bind(function(n){return zI(e,t,n.dom()).or(LI(e,n.dom()))}).getOr("")}},FI=HI("font-size"),jI=ge(BI,HI("font-family")),VI=function(e){return Mm(e.getBody()).map(function(e){var t=e.container();return go(t)?t.parentNode:t})},UI=function(e,t){return e.startContainer===t&&0===e.startOffset},qI=function(e){return Ee.from(e.selection.getRng()).bind(function(t){var n=e.getBody();return UI(t,n)?Ee.none():Ee.from(e.selection.getStart(!0))})},$I=function(e,t){if(/^[0-9\.]+$/.test(t)){var n=parseInt(t,10);if(n>=1&&n<=7){var r=Cf(e),o=kf(e);return o?o[n-1]||t:r[n-1]||t}return t}return t},WI=function(e){var t=e.split(/\s*,\s*/);return Ge(t,function(e){return-1===e.indexOf(" ")||nn(e,'"')||nn(e,"'")?e:"'"+e+"'"}).join(",")},GI=function(e,t){var n=$I(e,t);e.formatter.toggle("fontname",{value:WI(n)}),e.nodeChanged()},KI=function(e){return qI(e).fold(function(){return VI(e).map(function(t){return jI(e.getBody(),t)}).getOr("")},function(t){return jI(e.getBody(),t)})},YI=function(e,t){e.formatter.toggle("fontsize",{value:$I(e,t)}),e.nodeChanged()},XI=function(e){return qI(e).fold(function(){return VI(e).map(function(t){return FI(e.getBody(),t)}).getOr("")},function(t){return FI(e.getBody(),t)})},JI=function(e){var t;return"string"!=typeof e?(t=Hn.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:t}):{content:e,details:{}}},QI=function(e,t){var n=JI(t);jC(e,n.content,n.details)},ZI=function(e,t){e.getDoc().execCommand(t,!1,null)},ez=function(e){tR(e)||bD(e,!1)||CD(e,!1)||_D(e,!1)||HA(e,!1)||Ov(e)||WA(e)||PD(e,!1)||(ZI(e,"Delete"),vA(e))},tz=function(e){bD(e,!0)||CD(e,!0)||_D(e,!0)||HA(e,!0)||Ov(e)||WA(e)||PD(e,!0)||ZI(e,"ForwardDelete")},nz=Hn.each,rz=Hn.map,oz=Hn.inArray,iz=function(){function e(e){this.commands={state:{},exec:{},value:{}},this.editor=e,this.setupCommands(e)}return e.prototype.execCommand=function(e,t,n,r){var o,i=!1,a=this;if(!a.editor.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&&r.skip_focus?Jb(a.editor):a.editor.focus(),r=a.editor.fire("BeforeExecCommand",{command:e,ui:t,value:n}),r.isDefaultPrevented())return!1;var u=e.toLowerCase();if(o=a.commands.exec[u])return o(u,t,n),a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;if(nz(this.editor.plugins,function(r){if(r.execCommand&&r.execCommand(e,t,n))return a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),i=!0,!1}),i)return i;if(a.editor.theme&&a.editor.theme.execCommand&&a.editor.theme.execCommand(e,t,n))return a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;try{i=a.editor.getDoc().execCommand(e,t,n)}catch(e){}return!!i&&(a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0)}},e.prototype.queryCommandState=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.state[e])return t(e);try{return this.editor.getDoc().queryCommandState(e)}catch(e){}return!1}},e.prototype.queryCommandValue=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.value[e])return t(e);try{return this.editor.getDoc().queryCommandValue(e)}catch(e){}}},e.prototype.addCommands=function(e,t){var n=this;t=t||"exec",nz(e,function(e,r){nz(r.toLowerCase().split(","),function(r){n.commands[t][r]=e})})},e.prototype.addCommand=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.exec[e]=function(e,o,i,a){return t.call(n||r.editor,o,i,a)}},e.prototype.queryCommandSupported=function(e){if(e=e.toLowerCase(),this.commands.exec[e])return!0;try{return this.editor.getDoc().queryCommandSupported(e)}catch(e){}return!1},e.prototype.addQueryStateHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.state[e]=function(){return t.call(n||r.editor)}},e.prototype.addQueryValueHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.value[e]=function(){return t.call(n||r.editor)}},e.prototype.hasCustomCommand=function(e){return e=e.toLowerCase(),!!this.commands.exec[e]},e.prototype.execNativeCommand=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(e,t,n)},e.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)},e.prototype.toggleFormat=function(e,t){this.editor.formatter.toggle(e,t?{value:t}:void 0),this.editor.nodeChanged()},e.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(e){var t=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(n){var r,o=e.getDoc();try{t.execNativeCommand(n)}catch(e){r=!0}if("paste"!==n||o.queryCommandEnabled(n)||(r=!0),r||!o.queryCommandSupported(n)){var i=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Nn.mac&&(i=i.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:i,type:"error"})}},unlink:function(){if(e.selection.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a");return void(t&&e.dom.remove(t,!0))}e.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var r=n.substring(7);"full"===r&&(r="justify"),nz("left,center,right,justify".split(","),function(t){r!==t&&e.formatter.remove("align"+t)}),"none"!==r&&t.toggleFormat("align"+r)},"InsertUnorderedList,InsertOrderedList":function(n){var r;t.execNativeCommand(n);var o=e.dom.getParent(e.selection.getNode(),"ol,ul");o&&(r=o.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)&&(t.storeSelection(),e.dom.split(r,o),t.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){t.toggleFormat(e)},"ForeColor,HiliteColor":function(e,n,r){t.toggleFormat(e,r)},FontName:function(t,n,r){GI(e,r)},FontSize:function(t,n,r){YI(e,r)},RemoveFormat:function(t){e.formatter.remove(t)},mceBlockQuote:function(){t.toggleFormat("blockquote")},FormatBlock:function(e,n,r){return t.toggleFormat(r||"p")},mceCleanup:function(){var t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},mceRemoveNode:function(n,r,o){var i=o||e.selection.getNode();i!==e.getBody()&&(t.storeSelection(),e.dom.remove(i,!0),t.restoreSelection())},mceSelectNodeDepth:function(t,n,r){var o=0;e.dom.getParent(e.selection.getNode(),function(t){if(1===t.nodeType&&o++===r)return e.selection.select(t),!1},e.getBody())},mceSelectNode:function(t,n,r){e.selection.select(r)},mceInsertContent:function(t,n,r){QI(e,r)},mceInsertRawHTML:function(t,n,r){e.selection.setContent("tiny_mce_marker");var o=e.getContent();e.setContent(o.replace(/tiny_mce_marker/g,function(){return r}))},mceInsertNewLine:function(t,n,r){sM(e,r)},mceToggleFormat:function(e,n,r){t.toggleFormat(r)},mceSetContent:function(t,n,r){e.setContent(r)},"Indent,Outdent":function(t){WD(e,t)},mceRepaint:function(){},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,n,r){e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceInsertLink:function(t,n,r){"string"==typeof r&&(r={href:r});var o=e.dom.getParent(e.selection.getNode(),"a");r.href=r.href.replace(/ /g,"%20"),o&&r.href||e.formatter.remove("link"),r.href&&e.formatter.apply("link",r,o)},selectAll:function(){var t=e.dom.getParent(e.selection.getStart(),wo);if(t){var n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}},delete:function(){ez(e)},forwardDelete:function(){tz(e)},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,r){return WR(e,r),!0}});var n=function(t){return function(){var n=e.selection.isCollapsed()?[e.dom.getParent(e.selection.getNode(),e.dom.isBlock)]:e.selection.getSelectedBlocks(),r=rz(n,function(n){return!!e.formatter.matchNode(n,t)});return-1!==oz(r,!0)}};t.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return t.isFormatMatch(e)},mceBlockQuote:function(){return t.isFormatMatch("blockquote")},Outdent:function(){return VD(e)},"InsertUnorderedList,InsertOrderedList":function(t){var n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state"),t.addCommands({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),t.addQueryValueHandler("FontName",function(){return KI(e)},this),t.addQueryValueHandler("FontSize",function(){return XI(e)},this)},e}(),az=function(e,t,n){Rc(e,t)&&!1===n?Dc(e,t):n&&_c(e,t)},uz=function(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},cz=function(e,t){e.dom().contentEditable=t?"true":"false"},sz=function(e){Ke(Pc(e,'*[contenteditable="true"]'),function(e){So(e,"data-mce-contenteditable","true"),cz(e,!1)})},lz=function(e){Ke(Pc(e,'*[data-mce-contenteditable="true"]'),function(e){_o(e,"data-mce-contenteditable"),cz(e,!0)})},fz=function(e){Ee.from(e.selection.getNode()).each(function(e){e.removeAttribute("data-mce-selected")})},dz=function(e){e.selection.setRng(e.selection.getRng())},mz=function(e,t){var n=$n.fromDom(e.getBody());az(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),fz(e),e.readonly=!0,cz(n,!1),sz(n)):(e.readonly=!1,cz(n,!0),lz(n),uz(e,"StyleWithCSS",!1),uz(e,"enableInlineTableEditing",!1),uz(e,"enableObjectResizing",!1),Sy(e)&&e.focus(),dz(e),e.nodeChanged())},pz=function(e){return e.readonly},gz=function(e){e.parser.addAttributeFilter("contenteditable",function(t){pz(e)&&Ke(t,function(e){e.attr("data-mce-contenteditable",e.attr("contenteditable")),e.attr("contenteditable","false")})}),e.serializer.addAttributeFilter("data-mce-contenteditable",function(t){pz(e)&&Ke(t,function(e){e.attr("contenteditable",e.attr("data-mce-contenteditable"))})}),e.serializer.addTempAttr("data-mce-contenteditable")},hz=function(e){e.serializer?gz(e):e.on("PreInit",function(){gz(e)})},vz=function(e){return"click"===e.type},bz=function(e,t){return null!==e.dom.getParent(t,"a")},yz=function(e,t){var n=t.target;vz(t)&&!NT.metaKeyPressed(t)&&bz(e,n)&&t.preventDefault()},wz=function(e){e.on("ShowCaret",function(t){pz(e)&&t.preventDefault()}),e.on("ObjectSelected",function(t){pz(e)&&t.preventDefault()})},xz=Hn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),Cz=function(){function e(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||xe}return e.isNative=function(e){return!!xz[e.toLowerCase()]},e.prototype.fire=function(e,t){e=e.toLowerCase(),t=t||{},t.type=e,t.target||(t.target=this.scope),t.preventDefault||(t.preventDefault=function(){t.isDefaultPrevented=Ce},t.stopPropagation=function(){t.isPropagationStopped=Ce},t.stopImmediatePropagation=function(){t.isImmediatePropagationStopped=Ce},t.isDefaultPrevented=xe,t.isPropagationStopped=xe,t.isImmediatePropagationStopped=xe),this.settings.beforeFire&&this.settings.beforeFire(t);var n=this.bindings[e];if(n)for(var r=0,o=n.length;r<o;r++){var i=n[r];if(i.once&&this.off(e,i.func),t.isImmediatePropagationStopped())return t.stopPropagation(),t;if(!1===i.func.call(this.scope,t))return t.preventDefault(),t}return t},e.prototype.on=function(e,t,n,r){var o,i,a;if(!1===t&&(t=xe),t){var u={func:t};for(r&&Hn.extend(u,r),i=e.toLowerCase().split(" "),a=i.length;a--;)e=i[a],o=this.bindings[e],o||(o=this.bindings[e]=[],this.toggleEvent(e,!0)),n?o.unshift(u):o.push(u)}return this},e.prototype.off=function(e,t){var n,r,o,i,a=this;if(e)for(o=e.toLowerCase().split(" "),n=o.length;n--;){if(e=o[n],r=this.bindings[e],!e)return gt(this.bindings,function(e,t){a.toggleEvent(t,!1),delete a.bindings[t]}),this;if(r){if(t)for(i=r.length;i--;)r[i].func===t&&(r=r.slice(0,i).concat(r.slice(i+1)),this.bindings[e]=r);else r.length=0;r.length||(this.toggleEvent(e,!1),delete this.bindings[e])}}else gt(this.bindings,function(e,t){a.toggleEvent(t,!1)}),this.bindings={};return this},e.prototype.once=function(e,t,n){return this.on(e,t,n,{once:!0})},e.prototype.has=function(e){return e=e.toLowerCase(),!(!this.bindings[e]||0===this.bindings[e].length)},e}(),kz=function(e){return e._eventDispatcher||(e._eventDispatcher=new Cz({scope:e,toggleEvent:function(t,n){Cz.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},Sz={fire:function(e,t,n){var r=this;if(r.removed&&"remove"!==e&&"detach"!==e)return t;var o=kz(r).fire(e,t);if(!1!==n&&r.parent)for(var i=r.parent();i&&!o.isPropagationStopped();)i.fire(e,o,!1),i=i.parent();return o},on:function(e,t,n){return kz(this).on(e,t,n)},off:function(e,t){return kz(this).off(e,t)},once:function(e,t){return kz(this).once(e,t)},hasEventListeners:function(e){return kz(this).has(e)}},Tz=ec.DOM,Nz=function(e,t){if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;var n=Wf(e);return n?(e.eventRoot||(e.eventRoot=Tz.select(n)[0]),e.eventRoot):e.getBody()},Ez=function(e){return!e.hidden&&!pz(e)},Oz=function(e,t,n){Ez(e)?e.fire(t,n):pz(e)&&yz(e,n)},_z=function(e,t){var n;if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed){var r=Nz(e,t);if(Wf(e)){if(PO||(PO={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||PO&&(gt(PO,function(t,n){e.dom.unbind(Nz(e,n))}),PO=null)})),PO[t])return;n=function(n){for(var r=n.target,o=e.editorManager.get(),i=o.length;i--;){var a=o[i].getBody();(a===r||Tz.isChildOf(r,a))&&Oz(o[i],t,n)}},PO[t]=n,Tz.bind(r,t,n)}else n=function(n){Oz(e,t,n)},Tz.bind(r,t,n),e.delegates[t]=n}},Az=zt(zt({},Sz),{bindPendingEventDelegates:function(){var e=this;Hn.each(e._pendingNativeEvents,function(t){_z(e,t)})},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?_z(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(Nz(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e=this,t=e.getBody(),n=e.dom;e.delegates&&(gt(e.delegates,function(t,n){e.dom.unbind(Nz(e,n),n,t)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}}),Dz=["design","readonly"],Rz=function(e,t,r,o){var i=r[t.get()],a=r[o];try{a.activate()}catch(e){return void n.console.error("problem while activating editor mode "+o+":",e)}i.deactivate(),i.editorReadOnly!==a.editorReadOnly&&mz(e,a.editorReadOnly),t.set(o),YC(e,o)},Mz=function(e,t,n,r){if(r!==n.get()){if(!Tt(t,r))throw new Error("Editor mode '"+r+"' is invalid");e.initialized?Rz(e,n,t,r):e.on("init",function(){return Rz(e,n,t,r)})}},Pz=function(e,t,r){var o;if($e(Dz,t))throw new Error("Cannot override default mode "+t);return zt(zt({},e),(o={},o[t]=zt(zt({},r),{deactivate:function(){try{r.deactivate()}catch(e){n.console.error("problem while deactivating editor mode "+t+":",e)}}}),o))},Iz=function(e){var t=ic("design"),n=ic({design:{activate:pe,deactivate:pe,editorReadOnly:!1},readonly:{activate:pe,deactivate:pe,editorReadOnly:!0}});return hz(e),wz(e),{isReadOnly:function(){return pz(e)},set:function(r){return Mz(e,n.get(),t,r)},get:function(){return t.get()},register:function(e,t){n.set(Pz(n.get(),e,t))}}},zz=Hn.each,Bz=Hn.explode,Lz={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Hz=Hn.makeMap("alt,ctrl,shift,meta,access"),Fz=function(){function e(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;var t=this;e.on("keyup keypress keydown",function(e){!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(zz(t.shortcuts,function(n){if(t.matchShortcut(e,n))return t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n),!0}),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))})}return e.prototype.add=function(e,t,n,r){var o=this,i=n;return"string"==typeof i?n=function(){o.editor.execCommand(i,!1,null)}:Hn.isArray(i)&&(n=function(){o.editor.execCommand(i[0],i[1],i[2])}),zz(Bz(Hn.trim(e)),function(e){var i=o.createShortcut(e,t,n,r);o.shortcuts[i.id]=i}),!0},e.prototype.remove=function(e){var t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)},e.prototype.parseShortcut=function(e){var t,n={};zz(Bz(e.toLowerCase(),"+"),function(e){e in Hz?n[e]=!0:/^[0-9]{2,}$/.test(e)?n.keyCode=parseInt(e,10):(n.charCode=e.charCodeAt(0),n.keyCode=Lz[e]||e.toUpperCase().charCodeAt(0))});var r=[n.keyCode];for(t in Hz)n[t]?r.push(t):n[t]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,Nn.mac?n.ctrl=!0:n.shift=!0),n.meta&&(Nn.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n},e.prototype.createShortcut=function(e,t,n,r){var o=Hn.map(Bz(e,">"),this.parseShortcut);return o[o.length-1]=Hn.extend(o[o.length-1],{func:n,scope:r||this.editor}),Hn.extend(o[0],{desc:this.editor.translate(t),subpatterns:o.slice(1)})},e.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey},e.prototype.isFunctionKey=function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123},e.prototype.matchShortcut=function(e,t){return!!t&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&(t.alt===e.altKey&&t.shift===e.shiftKey&&(!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0))))},e.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null},e}(),jz=function(){var e={},t={},n={},r={},o={},i={},a={},u=function(e,t){return function(n,r){return e[n.toLowerCase()]=zt(zt({},r),{type:t})}},c=function(e,t){return r[e.toLowerCase()]=t};return{addButton:u(e,"button"),addGroupToolbarButton:u(e,"grouptoolbarbutton"),addToggleButton:u(e,"togglebutton"),addMenuButton:u(e,"menubutton"),addSplitButton:u(e,"splitbutton"),addMenuItem:u(t,"menuitem"),addNestedMenuItem:u(t,"nestedmenuitem"),addToggleMenuItem:u(t,"togglemenuitem"),addAutocompleter:u(n,"autocompleter"),addContextMenu:u(o,"contextmenu"),addContextToolbar:u(i,"contexttoolbar"),addContextForm:u(i,"contextform"),addSidebar:u(a,"sidebar"),addIcon:c,getAll:function(){return{buttons:e,menuItems:t,icons:r,popups:n,contextMenus:o,contextToolbars:i,sidebars:a}}}},Vz=function(){var e=jz();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},Uz=Hn.each,qz=Hn.trim,$z="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Wz={ftp:21,http:80,https:443,mailto:25},Gz=function(){function e(t,r){t=qz(t),this.settings=r||{};var o=this.settings.base_uri,i=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))return void(i.source=t);var a=0===t.indexOf("//");if(0!==t.indexOf("/")||a||(t=(o?o.protocol||"http":"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){var u=this.settings.base_uri?this.settings.base_uri.path:new e(n.document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)t="//mce_host"+i.toAbsPath(u,t);else{var c=/([^#?]*)([#?]?.*)/.exec(t);t=(o&&o.protocol||"http")+"://mce_host"+i.toAbsPath(u,c[1])+c[2]}}t=t.replace(/@@/g,"(mce_at)");var s=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);Uz($z,function(e,t){var n=s[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),i[e]=n}),o&&(i.protocol||(i.protocol=o.protocol),i.userInfo||(i.userInfo=o.userInfo),i.port||"mce_host"!==i.host||(i.port=o.port),i.host&&"mce_host"!==i.host||(i.host=o.host),i.source=""),a&&(i.protocol="")}return e.parseDataUri=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},e.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},e.prototype.setPath=function(e){var t=/^(.*?)\/?(\w+)?$/.exec(e);this.path=t[0],this.directory=t[1],this.file=t[2],this.source="",this.getURI()},e.prototype.toRelative=function(t){var n;if("./"===t)return t;var r=new e(t,{base_uri:this});if("mce_host"!==r.host&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&""!==r.protocol)return r.getURI();var o=this.getURI(),i=r.getURI();return o===i||"/"===o.charAt(o.length-1)&&o.substr(0,o.length-1)===i?o:(n=this.toRelPath(this.path,r.path),r.query&&(n+="?"+r.query),r.anchor&&(n+="#"+r.anchor),n)},e.prototype.toAbsolute=function(t,n){var r=new e(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))},e.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=Wz[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},e.prototype.toRelPath=function(e,t){var n,r,o=0,i="",a=e.substring(0,e.lastIndexOf("/")).split("/"),u=t.split("/");if(a.length>=u.length)for(n=0,r=a.length;n<r;n++)if(n>=u.length||a[n]!==u[n]){o=n+1;break}if(a.length<u.length)for(n=0,r=u.length;n<r;n++)if(n>=a.length||a[n]!==u[n]){o=n+1;break}if(1===o)return t;for(n=0,r=a.length-(o-1);n<r;n++)i+="../";for(n=o-1,r=u.length;n<r;n++)i+=n!==o-1?"/"+u[n]:u[n];return i},e.prototype.toAbsPath=function(e,t){var n,r,o=0,i=[],a=/\/$/.test(t)?"/":"",u=e.split("/"),c=t.split("/");for(Uz(u,function(e){e&&i.push(e)}),u=i,n=c.length-1,i=[];n>=0;n--)0!==c[n].length&&"."!==c[n]&&(".."!==c[n]?o>0?o--:i.push(c[n]):o++);return n=u.length-o,r=n<=0?at(i).join("/"):u.slice(0,n).join("/")+"/"+at(i).join("/"),0!==r.indexOf("/")&&(r="/"+r),a&&r.lastIndexOf("/")!==r.length-1&&(r+=a),r},e.prototype.getURI=function(e){void 0===e&&(e=!1);var t;return this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source},e}(),Kz=ec.DOM,Yz=Hn.extend,Xz=Hn.each,Jz=Hn.resolve,Qz=Nn.ie,Zz=function(){function e(e,t,n){var r=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,Yz(this,Az),this.settings=Ik(this,e,this.documentBaseUrl,n.defaultSettings,t),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(oc.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),ec.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),yc.languageLoad=this.settings.language_load,yc.baseURL=n.baseURL,this.id=e,this.setDirty(!1),this.documentBaseURI=new Gz(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new Fz(this),this.editorCommands=new iz(this),this.settings.cache_suffix&&(Nn.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:Vz(),styleSheetLoader:void 0};var o=this,i=Iz(o);this.mode=i,this.setMode=i.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=pu.overrideDefaults(function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}})}return e.prototype.render=function(){DI(this)},e.prototype.focus=function(e){Ey(this,e)},e.prototype.hasFocus=function(){return ky(this)},e.prototype.execCallback=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o=this,i=o.settings[e];if(i)return o.callbackLookup&&(r=o.callbackLookup[e])&&(i=r.func,r=r.scope),"string"==typeof i&&(r=i.replace(/\.\w+$/,""),r=r?Jz(r):0,i=Jz(i),o.callbackLookup=o.callbackLookup||{},o.callbackLookup[e]={func:i,scope:r}),i.apply(r||o,t)},e.prototype.translate=function(e){return bc.translate(e)},e.prototype.getParam=function(e,t,n){return Hk(this,e,t,n)},e.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)},e.prototype.addCommand=function(e,t,n){this.editorCommands.addCommand(e,t,n)},e.prototype.addQueryStateHandler=function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},e.prototype.addQueryValueHandler=function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},e.prototype.addShortcut=function(e,t,n,r){this.shortcuts.add(e,t,n,r)},e.prototype.execCommand=function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},e.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)},e.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)},e.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)},e.prototype.show=function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(Kz.show(e.getContainer()),Kz.hide(e.id)),e.load(),e.fire("show"))},e.prototype.hide=function(){var e=this,t=e.getDoc();e.hidden||(Qz&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(Kz.hide(e.getContainer()),Kz.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(e,t){this.fire("ProgressState",{state:e,time:t})},e.prototype.load=function(e){var t,n=this,r=n.getElement();if(n.removed)return"";if(r){e=e||{},e.load=!0;var o=po(r)?r.value:r.innerHTML;return t=n.setContent(o,e),e.element=r,e.no_events||n.fire("LoadContent",e),e.element=r=null,t}},e.prototype.save=function(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return e=e||{},e.save=!0,e.element=o,t=e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,po(o)?o.value=t:(!e.is_removing&&r.inline||(o.innerHTML=t),(n=Kz.getParent(r.id,"form"))&&Xz(n.elements,function(e){if(e.name===r.id)return e.value=t,!1})),e.element=o=null,!1!==e.set_dirty&&r.setDirty(!1),t},e.prototype.setContent=function(e,t){return qC(this,e,t)},e.prototype.getContent=function(e){return UC(this,e)},e.prototype.insertContent=function(e,t){t&&(e=Yz({content:e},t)),this.execCommand("mceInsertContent",!1,e)},e.prototype.resetContent=function(e){void 0===e?qC(this,this.startContent,{format:"raw"}):qC(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},e.prototype.getContainer=function(){var e=this;return e.container||(e.container=Kz.get(e.editorContainer||e.id+"_parent")),e.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=Kz.get(this.id)),this.targetElm},e.prototype.getWin=function(){var e,t=this;return t.contentWindow||(e=t.iframeElement)&&(t.contentWindow=e.contentWindow),t.contentWindow},e.prototype.getDoc=function(){var e,t=this;return t.contentDocument||(e=t.getWin())&&(t.contentDocument=e.document),t.contentDocument},e.prototype.getBody=function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},e.prototype.convertURL=function(e,t,n){var r=this,o=r.settings;return o.urlconverter_callback?r.execCallback("urlconverter_callback",e,n,!0,t):!o.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:o.relative_urls?r.documentBaseURI.toRelative(e):e=r.documentBaseURI.toAbsolute(e,o.remove_script_host)},e.prototype.addVisual=function(e){var t,n=this,r=n.settings,o=n.dom;e=e||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=r.visual),Xz(o.select("table,a",e),function(e){var i;switch(e.nodeName){case"TABLE":return t=r.visual_table_class||"mce-item-table",i=o.getAttrib(e,"border"),void(i&&"0"!==i||!n.hasVisual?o.removeClass(e,t):o.addClass(e,t));case"A":return void(o.getAttrib(e,"href")||(i=o.getAttrib(e,"name")||e.id,t=r.visual_anchor_class||"mce-item-anchor",i&&n.hasVisual?o.addClass(e,t):o.removeClass(e,t)))}}),n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},e.prototype.remove=function(){ck(this)},e.prototype.destroy=function(e){sk(this,e)},e.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),eB=ec.DOM,tB=Hn.explode,nB=Hn.each,rB=Hn.extend,oB=0,iB=!1,aB=[],uB=[],cB=function(e){return"length"!==e},sB=function(e){var t=e.type;nB(pB.get(),function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e)}})},lB=function(e){e!==iB&&(e?pu(window).on("resize scroll",sB):pu(window).off("resize scroll",sB),iB=e)},fB=function(e){var t=uB;delete aB[e.id];for(var n=0;n<aB.length;n++)if(aB[n]===e){aB.splice(n,1);break}return uB=Je(uB,function(t){return e!==t}),pB.activeEditor===e&&(pB.activeEditor=uB.length>0?uB[0]:null),pB.focusedEditor===e&&(pB.focusedEditor=null),t.length!==uB.length},dB=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(fB(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},mB="CSS1Compat"!==n.document.compatMode,pB=zt(zt({},Sz),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:pu,majorVersion:"5",minorVersion:"4.1",releaseDate:"2020-07-08",editors:aB,i18n:bc,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e,t,r=this,o="";t=Gz.getDocumentBaseUrl(n.document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/"));var i=window.tinymce||window.tinyMCEPreInit;if(i)e=i.base||i.baseURL,o=i.suffix;else{for(var a=n.document.getElementsByTagName("script"),u=0;u<a.length;u++){var c=a[u].src||"";if(""!==c){var s=c.substring(c.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(c)){-1!==s.indexOf(".min")&&(o=".min"),e=c.substring(0,c.lastIndexOf("/"));break}}}if(!e&&n.document.currentScript){var c=n.document.currentScript.src;-1!==c.indexOf(".min")&&(o=".min"),e=c.substring(0,c.lastIndexOf("/"))}}r.baseURL=new Gz(t).toAbsolute(e),r.documentBaseURL=t,r.baseURI=new Gz(r.baseURL),r.suffix=o,my(r)},overrideDefaults:function(e){var t=e.base_url;t&&this._setBaseUrl(t);var n=e.suffix;e.suffix&&(this.suffix=n),this.defaultSettings=e;var r=e.plugin_base_urls;void 0!==r&&gt(r,function(e,t){yc.PluginManager.urls[t]=e})},init:function(e){var t,r=this,o=Hn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),i=function(e,t){return e.inline&&t.tagName.toLowerCase()in o},a=function(e){var t=e.id;return t||(t=St(e,"name").filter(function(e){return!eB.get(e)}).getOrThunk(eB.uniqueId),e.setAttribute("id",t)),t},u=function(t){var n=e[t];if(n)return n.apply(r,Array.prototype.slice.call(arguments,2))},c=function(e,t){return t.constructor===RegExp?t.test(e.className):eB.hasClass(e,t)},s=function(e){var t=[];if(Nn.browser.isIE()&&Nn.browser.version.major<11)return fS("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(mB)return fS("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(e.types)return nB(e.types,function(e){t=t.concat(eB.select(e.selector))}),t;if(e.selector)return eB.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":var r=e.elements||"";r.length>0&&nB(tB(r),function(e){var r=eB.get(e);r?t.push(r):nB(n.document.forms,function(n){nB(n.elements,function(n){n.name===e&&(e="mce_editor_"+oB++,eB.setAttrib(n,"id",e),t.push(n))})})});break;case"textareas":case"specific_textareas":nB(eB.select("textarea"),function(n){e.editor_deselector&&c(n,e.editor_deselector)||e.editor_selector&&!c(n,e.editor_selector)||t.push(n)})}return t},l=function(e){t=e},f=function(){var t,n=0,o=[],c=function(e,i,a){var u=new Zz(e,i,r);o.push(u),u.on("init",function(){++n===t.length&&l(o)}),u.targetElm=u.targetElm||a,u.render()};if(eB.unbind(window,"ready",f),u("onpageload"),t=pu.unique(s(e)),e.types)return void nB(e.types,function(n){Hn.each(t,function(t){return!eB.is(t,n.selector)||(c(a(t),rB({},e,n),t),!1)})});Hn.each(t,function(e){dB(r.get(e.id))}),t=Hn.grep(t,function(e){return!r.get(e.id)}),0===t.length?l([]):nB(t,function(t){i(e,t)?fS("Could not initialize inline editor on invalid inline target element",t):c(a(t),e,t)})};return r.settings=e,eB.bind(window,"ready",f),new Bu(function(e){t?e(t):l=function(t){e(t)}})},get:function(e){return 0===arguments.length?uB.slice(0):Re(e)?tt(uB,function(t){return t.id===e}).getOr(null):He(e)&&uB[e]?uB[e]:null},add:function(e){var t=this;return aB[e.id]===e?e:(null===t.get(e.id)&&(cB(e.id)&&(aB[e.id]=e),aB.push(e),uB.push(e)),lB(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),IO||(IO=function(e){var n=t.fire("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",IO)),e)},createEditor:function(e,t){return this.add(new Zz(e,t,this))},remove:function(e){var t,n,r=this;if(e)return Re(e)?void nB(eB.select(e),function(e){(n=r.get(e.id))&&r.remove(n)}):(n=e,Ie(r.get(n.id))?null:(fB(n)&&r.fire("RemoveEditor",{editor:n}),0===uB.length&&window.removeEventListener("beforeunload",IO),n.remove(),lB(uB.length>0),n));for(t=uB.length-1;t>=0;t--)r.remove(uB[t])},execCommand:function(e,t,n){var r=this,o=r.get(n);switch(e){case"mceAddEditor":return r.get(n)||new Zz(n,r.settings,r).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(r.execCommand("mceAddEditor",0,n),!0)}return!!r.activeEditor&&r.activeEditor.execCommand(e,t,n)},triggerSave:function(){nB(uB,function(e){e.save()})},addI18n:function(e,t){bc.add(e,t)},translate:function(e){return bc.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new Gz(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Gz(this.baseURL)}});pB.setup(),function(e){e.compareRanges=oT,e.getCaretRangeFromPoint=YS,e.getSelectedNode=Ls,e.getNode=Hs}(L||(L={}));var gB,hB,vB=L,bB=function(e,t,r){void 0===r&&(r=1e3);var o=!1,i=null,a=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];o||(o=!0,null!==i&&(n.clearTimeout(i),i=null),e.apply(null,t))}},u=a(e),c=a(t);return{start:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o||null!==i||(i=n.setTimeout(function(){return c.apply(null,e)},r))},resolve:u,reject:c}},yB=function(){var e={},t={};return{load:function(n,r){var o='Script at URL "'+r+'" failed to load',i='Script at URL "'+r+"\" did not call `tinymce.Resource.add('"+n+"', data)` within 1 second";if(void 0!==e[n])return e[n];var a=new Bu(function(e,a){var u=bB(e,a);t[n]=u.resolve,oc.ScriptLoader.loadScript(r,function(){return u.start(i)},function(){return u.reject(o)})});return e[n]=a,a},add:function(n,r){void 0!==t[n]&&(t[n](r),delete t[n]),e[n]=Bu.resolve(r)}}}(),wB=Math.min,xB=Math.max,CB=Math.round,kB=function(e,t,n){var r=t.x,o=t.y,i=e.w,a=e.h,u=t.w,c=t.h;return n=(n||"").split(""),"b"===n[0]&&(o+=c),"r"===n[1]&&(r+=u),"c"===n[0]&&(o+=CB(c/2)),"c"===n[1]&&(r+=CB(u/2)),"b"===n[3]&&(o-=a),"r"===n[4]&&(r-=i),"c"===n[3]&&(o-=CB(a/2)),"c"===n[4]&&(r-=CB(i/2)),OB(r,o,i,a)},SB=function(e,t,n,r){var o,i;for(i=0;i<r.length;i++)if(o=kB(e,t,r[i]),o.x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},TB=function(e,t,n){return OB(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},NB=function(e,t){var n=xB(e.x,t.x),r=xB(e.y,t.y),o=wB(e.x+e.w,t.x+t.w),i=wB(e.y+e.h,t.y+t.h);return o-n<0||i-r<0?null:OB(n,r,o-n,i-r)},EB=function(e,t,n){var r=e.x,o=e.y,i=e.x+e.w,a=e.y+e.h,u=t.x+t.w,c=t.y+t.h,s=xB(0,t.x-r),l=xB(0,t.y-o),f=xB(0,i-u),d=xB(0,a-c);return r+=s,o+=l,n&&(i+=s,a+=l,r-=f,o-=d),i-=f,a-=d,OB(r,o,i-r,a-o)},OB=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},_B=function(e){return OB(e.left,e.top,e.width,e.height)},AB={inflate:TB,relativePosition:kB,findBestRelativePosition:SB,intersect:NB,clamp:EB,create:OB,fromClientRect:_B},DB=Hn.each,RB=Hn.extend,MB=function(){};MB.extend=gB=function(e){var t=this,n=t.prototype,r=function(){var e,t,n,r=this;if(!hB&&(r.init&&r.init.apply(r,arguments),t=r.Mixins))for(e=t.length;e--;)n=t[e],n.init&&n.init.apply(r,arguments)},o=function(){return this},i=function(e,t){return function(){var r=this,o=r._super;r._super=n[e];var i=t.apply(r,arguments);return r._super=o,i}};hB=!0;var a=new t;return hB=!1,e.Mixins&&(DB(e.Mixins,function(t){for(var n in t)"init"!==n&&(e[n]=t[n])}),n.Mixins&&(e.Mixins=n.Mixins.concat(e.Mixins))),e.Methods&&DB(e.Methods.split(","),function(t){e[t]=o}),e.Properties&&DB(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){var t=this;return void 0!==e?(t[n]=e,t):t[n]}}),e.Statics&&DB(e.Statics,function(e,t){r[t]=e}),e.Defaults&&n.Defaults&&(e.Defaults=RB({},n.Defaults,e.Defaults)),gt(e,function(e,t){"function"==typeof e&&n[t]?a[t]=i(t,e):a[t]=e}),r.prototype=a,r.constructor=r,r.extend=gB,r};var PB,IB=Math.min,zB=Math.max,BB=Math.round,LB=function(e){var t={},n=0,r=0,o=0,i=function(e,t,n){var r,o,i;r=0,o=0,i=0,e/=255,t/=255,n/=255;var a=IB(e,IB(t,n)),u=zB(e,zB(t,n));if(a===u)return i=a,{h:0,s:0,v:100*i};var c=e===a?t-n:n===a?e-t:n-e;return r=e===a?3:n===a?1:5,r=60*(r-c/(u-a)),o=(u-a)/u,i=u,{h:BB(r),s:BB(100*o),v:BB(100*i)}},a=function(e,t,i){if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,i=parseInt(i,10)/100,t=zB(0,IB(t,1)),i=zB(0,IB(i,1)),0===t)return void(n=r=o=BB(255*i));var a=e/60,u=i*t,c=u*(1-Math.abs(a%2-1)),s=i-u;switch(Math.floor(a)){case 0:n=u,r=c,o=0;break;case 1:n=c,r=u,o=0;break;case 2:n=0,r=u,o=c;break;case 3:n=0,r=c,o=u;break;case 4:n=c,r=0,o=u;break;case 5:n=u,r=0,o=c;break;default:n=r=o=0}n=BB(255*(n+s)),r=BB(255*(r+s)),o=BB(255*(o+s))},u=function(){var e=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+e(n)+e(r)+e(o)},c=function(){return{r:n,g:r,b:o}},s=function(){return i(n,r,o)},l=function(e){var i;return"object"==typeof e?"r"in e?(n=e.r,r=e.g,o=e.b):"v"in e&&a(e.h,e.s,e.v):(i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(n=parseInt(i[1],10),r=parseInt(i[2],10),o=parseInt(i[3],10)):(i=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(n=parseInt(i[1],16),r=parseInt(i[2],16),o=parseInt(i[3],16)):(i=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(n=parseInt(i[1]+i[1],16),r=parseInt(i[2]+i[2],16),o=parseInt(i[3]+i[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,o=o<0?0:o>255?255:o,t};return e&&l(e),t.toRgb=c,t.toHsv=s,t.toHex=u,t.parse=l,t},HB=function(e){var t=JSON.stringify(e);return Re(t)?t.replace(/[\u0080-\uFFFF]/g,function(e){var t=e.charCodeAt(0).toString(16);return"\\u"+"0000".substring(t.length)+t}):t},FB={serialize:HB,parse:function(e){try{return JSON.parse(e)}catch(e){}}},jB={callbacks:{},count:0,send:function(e){var t=this,n=ec.DOM,r=void 0!==e.count?e.count:t.count,o="tinymce_jsonp_"+r;t.callbacks[r]=function(i){n.remove(o),delete t.callbacks[r],e.callback(i)},n.add(n.doc.body,"script",{id:o,src:e.url,type:"text/javascript"}),t.count++}},VB=zt(zt({},Sz),{send:function(e){var t,r=0,o=function(){!e.async||4===t.readyState||r++>1e4?(e.success&&r<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,r>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):qu.setTimeout(o,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",VB.fire("beforeInitialize",{settings:e}),t=new n.XMLHttpRequest){if(t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&Hn.each(e.requestheaders,function(e){t.setRequestHeader(e.key,e.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t=VB.fire("beforeSend",{xhr:t,settings:e}).xhr,t.send(e.data),!e.async)return o();qu.setTimeout(o,10)}}}),UB=Hn.extend,qB=function(){function e(e){this.settings=UB({},e),this.count=0}return e.sendRPC=function(t){return(new e).send(t)},e.prototype.send=function(e){var t=e.error,n=e.success,r=UB(this.settings,e);r.success=function(e,o){e=FB.parse(e),void 0===e&&(e={error:"JSON Parse error."}),e.error?t.call(r.error_scope||r.scope,e.error,o):n.call(r.success_scope||r.scope,e.result)},r.error=function(e,n){t&&t.call(r.error_scope||r.scope,e,n)},r.data=FB.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),r.content_type="application/json",VB.send(r)},e}();try{var $B="__storage_test__";PB=n.window.localStorage,PB.setItem($B,$B),PB.removeItem($B)}catch(e){PB=function(){return function(){var e={},t=[],n={getItem:function(t){var n=e[t];return n||null},setItem:function(n,r){t.push(n),e[n]=String(r)},key:function(e){return t[e]},removeItem:function(n){t=t.filter(function(e){return e===n}),delete e[n]},clear:function(){t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:function(){return t.length},configurable:!1,enumerable:!1}),n}()}()}var WB=PB,GB={geom:{Rect:AB},util:{Promise:Bu,Delay:qu,Tools:Hn,VK:NT,URI:Gz,Class:MB,EventDispatcher:Cz,Observable:Sz,I18n:bc,XHR:VB,JSON:FB,JSONRequest:qB,JSONP:jB,LocalStorage:WB,Color:LB},dom:{EventUtils:ta,Sizzle:La,DomQuery:pu,TreeWalker:gu,TextSeeker:as,DOMUtils:ec,ScriptLoader:oc,RangeUtils:vB,Serializer:TN,StyleSheetLoader:k,ControlSelection:AT,BookmarkManager:ST,Selection:IT,Event:ta.Event},html:{Styles:Ui,Entities:_i,Node:hg,Schema:a,SaxParser:Ag,DomParser:dN,Writer:bg,Serializer:yg},Env:Nn,AddOnManager:yc,Annotator:lg,Formatter:$N,UndoManager:KN,EditorCommands:iz,WindowManager:tS,NotificationManager:A,EditorObservable:Az,Shortcuts:Fz,Editor:Zz,FocusManager:Zb,EditorManager:pB,DOM:ec.DOM,ScriptLoader:oc.ScriptLoader,PluginManager:yc.PluginManager,ThemeManager:yc.ThemeManager,IconManager:Fk,Resource:yB,trim:Hn.trim,isArray:Hn.isArray,is:Hn.is,toArray:Hn.toArray,makeMap:Hn.makeMap,each:Hn.each,map:Hn.map,grep:Hn.grep,inArray:Hn.inArray,extend:Hn.extend,create:Hn.create,walk:Hn.walk,createNS:Hn.createNS,resolve:Hn.resolve,explode:Hn.explode,_addCacheSuffix:Hn._addCacheSuffix,isOpera:Nn.opera,isWebKit:Nn.webkit,isIE:Nn.ie,isGecko:Nn.gecko,isMac:Nn.mac},KB=Hn.extend(pB,GB);!function(e){window.tinymce=e,window.tinyMCE=e}(KB),function(t){try{e.exports=t}catch(e){}}(KB)}(window)}).call(t,n(5))},function(e,t,n){n(42)},function(e,t){tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 010 2H5a1 1 0 010-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 110-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 01-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}})},function(e,t,n){n(44)},function(e,t,n){(function(e){!function(t){"use strict";function n(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function o(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}function i(e,t){var n=function(t,n){if(!_e(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom();Yu(r)&&(r.style[e]=n+"px")},r=function(n){var r=t(n);if(r<=0||null===r){var o=mc(n,e);return parseFloat(o)||0}return r},o=r,i=function(e,t){return We(t,function(t,n){var r=mc(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o},0)};return{set:n,get:r,getOuter:o,aggregate:i,max:function(e,t,n){var r=i(e,n);return t>r?t-r:0}}}function a(e,t,n,r,o){return e(n,r)?ve.some(n):Oe(o)&&o(n)?ve.none():t(n,r,o)}function u(e){return void 0!==e.uid}function c(e,t,n){var r=t.backstage,o=function(e){switch(e){case"bc-bc":return Kw;case"tc-tc":return Gw;case"tc-bc":return _l;case"bc-tc":default:return Al}},i=function(e){je(e,function(e){return e.moveTo(0,0)})},a=function(e){e.length>0&&(rt(e).each(function(e){return e.moveRel(null,"banner")}),je(e,function(t,n){n>0&&t.moveRel(e[n-1].getEl(),"bc-tc")}))},u=function(e){i(e),a(e)};return{open:function(e,i){var a=!e.closeButton&&e.timeout&&(e.timeout>0||e.timeout<0),u=function(){i(),Bw.hide(s)},c=Pc(ix.sketch({text:e.text,level:ze(["success","error","warning","warn","info"],e.type)?e.type:void 0,progress:!0===e.progressBar,icon:ve.from(e.icon),closeButton:!a,onAction:u,iconProvider:r.shared.providers.icons,translationProvider:r.shared.providers.translate})),s=Pc(Bw.sketch(de({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:t.backstage.shared.getSink,fireDismissalEventInstead:{}},r.shared.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));return n.add(s),e.timeout>0&&Yw.setTimeout(function(){u()},e.timeout),{close:u,moveTo:function(e,t){Bw.showAt(s,{anchor:"makeshift",x:e,y:t},Ic(c))},moveRel:function(e,n){if("banner"!==n){var r=o(n),i={anchor:"node",root:ac(),node:ve.some(Vr.fromDom(e)),layouts:{onRtl:function(){return[r]},onLtr:function(){return[r]}}};Bw.showAt(s,i,Ic(c))}else Bw.showAt(s,t.backstage.shared.anchors.banner(),Ic(c))},text:function(e){ix.updateText(c,e)},settings:e,getEl:function(){return c.element().dom()},progressBar:{value:function(e){ix.updateProgress(c,e)}}}},close:function(e){e.close()},reposition:u,getArgs:function(e){return e.settings}}}function s(e,t){var n=RT(t.colorinput.getColors(),t.colorinput.hasCustomColors()),r=t.colorinput.getColorCols(),o=HT(qa("menu-value"),n,function(t){e.onAction({value:t})},r,"color",Ux.CLOSE_ON_EXECUTE,function(){return!1},t.shared.providers),i=de(de({},o),{markers:Jx("color"),movement:jT(r,"color")});return{type:"widget",data:{value:qa("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[AS().widget(Cw.sketch(i))]}}function l(e,n){var r=null,o=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];r=t.setTimeout(function(){e.apply(null,o),r=null},n)};return{cancel:function(){null!==r&&(t.clearTimeout(r),r=null)},schedule:o}}function f(){var e={},t=function(t,n,r){Tt(r,function(r,o){var i=void 0!==e[o]?e[o]:{};i[n]=Cu(r,t),e[o]=i})},n=function(e,t){return Ja(t).fold(function(){return ve.none()},function(n){return e.bind(function(e){return Pt(e,n)}).map(function(e){return MN(t,e)})})},r=function(t){return Pt(e,t).map(function(e){return Dt(e,function(e,t){return PN(t,e)})}).getOr([])},o=function(t,r,o){var i=Pt(e,r);return Mo(o,function(e){return n(i,e)},t)};return{registerId:t,unregisterId:function(t){Tt(e,function(e,n){e.hasOwnProperty(t)&&delete e[t]})},filterByType:r,find:o}}function d(){var e=f(),t={},n=function(e){var t=e.element();return Ja(t).fold(function(){return Ya("uid-",e.element())},function(e){return e})},r=function(e,n){var r=t[n];if(r!==e)throw new Error('The tagId "'+n+'" is already used by: '+Ha(r.element())+"\nCannot use it for: "+Ha(e.element())+"\nThe conflicting element is"+(ic(r.element())?" ":" not ")+"already in the DOM");i(e)},o=function(o){var i=n(o);zt(t,i)&&r(o,i);var a=[o];e.registerId(a,i,o.events()),t[i]=o},i=function(n){Ja(n.element()).each(function(n){delete t[n],e.unregisterId(n)})},a=function(t){return e.filterByType(t)};return{find:function(t,n,r){return e.find(t,n,r)},filter:a,register:o,unregister:i,getById:function(e){return Pt(t,e)}}}function m(e,n){return h(t.document.createElement("canvas"),e,n)}function p(e){var t=m(e.width,e.height);return g(t).drawImage(e,0,0),t}function g(e){return e.getContext("2d")}function h(e,t,n){return e.width=t,e.height=n,e}function v(e){return e.naturalWidth||e.width}function b(e){return e.naturalHeight||e.height}function y(e){return new zD(function(n,r){function o(){c(),n(u)}function i(){c(),r("Unable to load data of type "+e.type+": "+a)}var a=t.URL.createObjectURL(e),u=new t.Image,c=function(){u.removeEventListener("load",o),u.removeEventListener("error",i)};u.addEventListener("load",o),u.addEventListener("error",i),u.src=a,u.complete&&o()})}function w(e){var n=e.split(","),r=/data:([^;]+)/.exec(n[0]);if(!r)return ve.none();for(var o=r[1],i=n[1],a=t.atob(i),u=a.length,c=Math.ceil(u/1024),s=new Array(c),l=0;l<c;++l){for(var f=1024*l,d=Math.min(f+1024,u),m=new Array(d-f),p=f,g=0;p<d;++g,++p)m[g]=a[p].charCodeAt(0);s[l]=new Uint8Array(m)}return ve.some(new t.Blob(s,{type:o}))}function x(e){return new zD(function(t,n){w(e).fold(function(){n("uri is not base64: "+e)},t)})}function C(e,n,r){return n=n||"image/png",t.HTMLCanvasElement.prototype.toBlob?new zD(function(t,o){e.toBlob(function(e){e?t(e):o()},n,r)}):x(e.toDataURL(n,r))}function k(e,t,n){return t=t||"image/png",e.toDataURL(t,n)}function S(e){return y(e).then(function(e){N(e);var t=m(v(e),b(e));return g(t).drawImage(e,0,0),t})}function T(e){return new zD(function(n){var r=new t.FileReader;r.onloadend=function(){n(r.result)},r.readAsDataURL(e)})}function N(e){t.URL.revokeObjectURL(e.src)}function E(e,t,n){function r(){return zD.resolve(t)}function o(){return n.split(",")[1]}function i(t,n){return e.then(function(e){return C(e,t,n)})}function a(t,n){return e.then(function(e){return k(e,t,n)})}function u(e,t){return a(e,t).then(function(e){return e.split(",")[1]})}function c(){return e.then(p)}var s=t.type;return{getType:ie(s),toBlob:r,toDataURL:ie(n),toBase64:o,toAdjustedBlob:i,toAdjustedDataURL:a,toAdjustedBase64:u,toCanvas:c}}function O(e){return T(e).then(function(t){return E(S(e),e,t)})}function _(e,t){return C(e,t).then(function(t){return E(zD.resolve(e),t,e.toDataURL())})}function A(e,t,n){var r="string"==typeof e?parseFloat(e):e;return r>n?r=n:r<t&&(r=t),r}function D(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]}function R(e,t){for(var n,r=[],o=new Array(25),i=0;i<5;i++){for(var a=0;a<5;a++)r[a]=t[a+5*i];for(var a=0;a<5;a++){n=0;for(var u=0;u<5;u++)n+=e[a+5*u]*r[u];o[a+5*i]=n}}return o}function M(e,t){var n;return t=A(t,-1,1),t*=100,t<0?n=127+t/100*127:(n=t%1,n=0===n?LD[t]:LD[Math.floor(t)]*(1-n)+LD[Math.floor(t)+1]*n,n=127*n+127),R(e,[n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])}function P(e,t){return t=A(255*t,-255,255),R(e,[1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1])}function I(e,t,n,r){return t=A(t,0,2),n=A(n,0,2),r=A(r,0,2),R(e,[t,0,0,0,0,0,n,0,0,0,0,0,r,0,0,0,0,0,1,0,0,0,0,0,1])}function z(e,t){return e.toCanvas().then(function(n){return B(n,e.getType(),t)})}function B(e,t,n){var r=g(e),o=function(e,t){for(var n,r,o,i,a=e.data,u=t[0],c=t[1],s=t[2],l=t[3],f=t[4],d=t[5],m=t[6],p=t[7],g=t[8],h=t[9],v=t[10],b=t[11],y=t[12],w=t[13],x=t[14],C=t[15],k=t[16],S=t[17],T=t[18],N=t[19],E=0;E<a.length;E+=4)n=a[E],r=a[E+1],o=a[E+2],i=a[E+3],a[E]=n*u+r*c+o*s+i*l+f,a[E+1]=n*d+r*m+o*p+i*g+h,a[E+2]=n*v+r*b+o*y+i*w+x,a[E+3]=n*C+r*k+o*S+i*T+N;return e}(r.getImageData(0,0,e.width,e.height),n);return r.putImageData(o,0,0),_(e,t)}function L(e,t){return e.toCanvas().then(function(n){return H(n,e.getType(),t)})}function H(e,t,n){var r=g(e),o=r.getImageData(0,0,e.width,e.height),i=r.getImageData(0,0,e.width,e.height);return i=function(e,t,n){function r(e,t,n){return e>n?e=n:e<t&&(e=t),e}for(var o=Math.round(Math.sqrt(n.length)),i=Math.floor(o/2),a=e.data,u=t.data,c=e.width,s=e.height,l=0;l<s;l++)for(var f=0;f<c;f++){for(var d=0,m=0,p=0,g=0;g<o;g++)for(var h=0;h<o;h++){var v=r(f+h-i,0,c-1),b=r(l+g-i,0,s-1),y=4*(b*c+v),w=n[g*o+h];d+=a[y]*w,m+=a[y+1]*w,p+=a[y+2]*w}var x=4*(l*c+f);u[x]=r(d,0,255),u[x+1]=r(m,0,255),u[x+2]=r(p,0,255)}return t}(o,i,n),r.putImageData(i,0,0),_(e,t)}function F(e){return function(t,n){return z(t,e(D(),n))}}function j(e,t,n){var r=v(e),o=b(e),i=t/r,a=n/o,u=!1;(i<.5||i>2)&&(i=i<.5?.5:2,u=!0),(a<.5||a>2)&&(a=a<.5?.5:2,u=!0);var c=V(e,i,a);return u?c.then(function(e){return j(e,t,n)}):c}function V(e,t,n){return new zD(function(r){var o=v(e),i=b(e),a=Math.floor(o*t),u=Math.floor(i*n),c=m(a,u);g(c).drawImage(e,0,0,o,i,0,0,a,u),r(c)})}function U(e,t){return e.toCanvas().then(function(n){return q(n,e.getType(),t)})}function q(e,t,n){var r=m(e.width,e.height),o=g(r),i=0,a=0;return n=n<0?360+n:n,90!==n&&270!==n||h(r,r.height,r.width),90!==n&&180!==n||(i=r.width),270!==n&&180!==n||(a=r.height),o.translate(i,a),o.rotate(n*Math.PI/180),o.drawImage(e,0,0),_(r,t)}function $(e,t){return e.toCanvas().then(function(n){return W(n,e.getType(),t)})}function W(e,t,n){var r=m(e.width,e.height),o=g(r);return"v"===n?(o.scale(1,-1),o.drawImage(e,0,-r.height)):(o.scale(-1,1),o.drawImage(e,-r.width,0)),_(r,t)}function G(e,t,n,r,o){return e.toCanvas().then(function(i){return K(i,e.getType(),t,n,r,o)})}function K(e,t,n,r,o,i){var a=m(o,i);return g(a).drawImage(e,-n,-r),_(a,t)}function Y(e,t,n){return e.toCanvas().then(function(r){return j(r,t,n).then(function(t){return _(t,e.getType())})})}function X(e){var t=Math.max,n=e.documentElement,r=e.body,o=t(n.scrollWidth,r.scrollWidth),i=t(n.clientWidth,r.clientWidth),a=t(n.offsetWidth,r.offsetWidth),u=t(n.scrollHeight,r.scrollHeight),c=t(n.clientHeight,r.clientHeight),s=t(n.offsetHeight,r.offsetHeight);return{width:o<a?i:o,height:u<s?c:u}}function J(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}function Q(e,n){var r,o,i,a,u=n.document||t.document;n=n||{};var c=u.getElementById(n.handle||e),s=function(e){var s,d=X(u);J(e),e.preventDefault(),o=e.button;var m=c;i=e.screenX,a=e.screenY,s=t.window.getComputedStyle?t.window.getComputedStyle(m,null).getPropertyValue("cursor"):m.runtimeStyle.cursor,r=cM("<div></div>").css({position:"absolute",top:0,left:0,width:d.width,height:d.height,zIndex:2147483647,opacity:1e-4,cursor:s}).appendTo(u.body),cM(u).on("mousemove touchmove",l).on("mouseup touchend",f),n.start(e)},l=function(e){if(J(e),e.button!==o)return f(e);e.deltaX=e.screenX-i,e.deltaY=e.screenY-a,e.preventDefault(),n.drag(e)},f=function(e){J(e),cM(u).off("mousemove touchmove",l).off("mouseup touchend",f),r.remove(),n.stop&&n.stop(e)};this.destroy=function(){cM(c).off()},cM(c).on("mousedown touchstart",s)}function Z(){function e(e){var t=i.splice(++a);return i.push(e),{state:e,removed:t}}function t(){if(r())return i[--a]}function n(){if(o())return i[++a]}function r(){return a>0}function o(){return-1!==a&&a<i.length-1}var i=[],a=-1;return{data:i,add:e,undo:t,redo:n,canUndo:r,canRedo:o}}var ee,te=function(){},ne=function(e){return function(){return e()}},re=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},oe=function(e,t){return function(n){return e(t(n))}},ie=function(e){return function(){return e}},ae=function(e){return e},ue=function(e){return function(t){return!e(t)}},ce=function(e){return function(){throw new Error(e)}},se=ie(!1),le=ie(!0),fe=tinymce.util.Tools.resolve("tinymce.ThemeManager"),de=function(){return de=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},de.apply(this,arguments)},me=function(){return pe},pe=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:se,isSome:se,isNone:le,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:ie(null),getOrUndefined:ie(void 0),or:n,orThunk:t,map:me,each:te,bind:me,exists:se,forall:le,filter:me,equals:e,equals_:e,toArray:function(){return[]},toString:ie("none()")}}(),ge=function(e){var t=ie(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:le,isNone:se,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return ge(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:pe},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(se,function(t){return n(e,t)})}};return o},he=function(e){return null===e||void 0===e?pe:ge(e)},ve={some:ge,none:me,from:he},be=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},ye=function(e){return function(t){return be(t)===e}},we=function(e){return function(t){return typeof t===e}},xe=ye("string"),Ce=ye("object"),ke=ye("array"),Se=we("boolean"),Te=function(e){return function(t){return e===t}}(void 0),Ne=function(e){return null===e||void 0===e},Ee=function(e){return!Ne(e)},Oe=we("function"),_e=we("number"),Ae=function(e,t){if(ke(e)){for(var n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},De=Array.prototype.slice,Re=Array.prototype.indexOf,Me=Array.prototype.push,Pe=function(e,t){return Re.call(e,t)},Ie=function(e,t){var n=Pe(e,t);return-1===n?ve.none():ve.some(n)},ze=function(e,t){return Pe(e,t)>-1},Be=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1},Le=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},He=function(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=De.call(e,r,r+t);n.push(o)}return n},Fe=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},je=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},Ve=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n)}},Ue=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}},qe=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},$e=function(e,t,n){return Ve(e,function(e){n=t(n,e)}),n},We=function(e,t,n){return je(e,function(e){n=t(n,e)}),n},Ge=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return ve.some(i);if(n(i,r))break}return ve.none()},Ke=function(e,t){return Ge(e,t,se)},Ye=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return ve.some(n)}return ve.none()},Xe=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!ke(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Me.apply(t,e[n])}return t},Je=function(e,t){return Xe(Fe(e,t))},Qe=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n))return!1}return!0},Ze=function(e){var t=De.call(e,0);return t.reverse(),t},et=function(e,t){return qe(e,function(e){return!ze(t,e)})},tt=function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},nt=function(e,t){var n=De.call(e,0);return n.sort(t),n},rt=function(e){return 0===e.length?ve.none():ve.some(e[0])},ot=function(e){return 0===e.length?ve.none():ve.some(e[e.length-1])},it=Oe(Array.from)?Array.from:function(e){return De.call(e)},at=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return ve.none()},ut=function(e){var t=function(t){return e===t},n=function(t){return ut(e)},r=function(t){return ut(e)},o=function(t){return ut(t(e))},i=function(t){return ut(e)},a=function(t){t(e)},u=function(t){return t(e)},c=function(t,n){return n(e)},s=function(t){return t(e)},l=function(t){return t(e)},f=function(){return ve.some(e)};return{is:t,isValue:le,isError:se,getOr:ie(e),getOrThunk:ie(e),getOrDie:ie(e),or:n,orThunk:r,fold:c,map:o,mapError:i,each:a,bind:u,exists:s,forall:l,toOption:f}},ct=function(e){var t=function(e){return e()},n=function(){return ce(String(e))()},r=function(e){return e},o=function(e){return e()},i=function(t){return ct(e)},a=function(t){return ct(t(e))},u=function(t){return ct(e)};return{is:se,isValue:se,isError:le,getOr:ae,getOrThunk:t,getOrDie:n,or:r,orThunk:o,fold:function(t,n){return t(e)},map:i,mapError:a,each:te,bind:u,exists:se,forall:le,toOption:ve.none}},st=function(e,t){return e.fold(function(){return ct(t)},ut)},lt={value:ut,error:ct,fromOption:st};!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(ee||(ee={}));var ft,dt=function(e,t,n){return e.stype===ee.Error?t(e.serror):n(e.svalue)},mt=function(e){var t=[],n=[];return je(e,function(e){dt(e,function(e){return n.push(e)},function(e){return t.push(e)})}),{values:t,errors:n}},pt=function(e,t){return e.stype===ee.Error?{stype:ee.Error,serror:t(e.serror)}:e},gt=function(e,t){return e.stype===ee.Value?{stype:ee.Value,svalue:t(e.svalue)}:e},ht=function(e,t){return e.stype===ee.Value?t(e.svalue):e},vt=function(e,t){return e.stype===ee.Error?t(e.serror):e},bt=function(e){return{stype:ee.Value,svalue:e}},yt=function(e){return{stype:ee.Error,serror:e}},wt=function(e){return dt(e,lt.error,lt.value)},xt=function(e){return e.fold(yt,bt)},Ct={fromResult:xt,toResult:wt,svalue:bt,partition:mt,serror:yt,bind:ht,bindError:vt,map:gt,mapError:pt,fold:dt},kt=Object.keys,St=Object.hasOwnProperty,Tt=function(e,t){for(var n=kt(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},Nt=function(e,t){return Et(e,function(e,n){return{k:n,v:t(e,n)}})},Et=function(e,t){var n={};return Tt(e,function(e,r){var o=t(e,r);n[o.k]=o.v}),n},Ot=function(e){return function(t,n){e[n]=t}},_t=function(e,t,n,r){var o={};return Tt(e,function(e,o){(t(e,o)?n:r)(e,o)}),o},At=function(e,t){var n={};return _t(e,t,Ot(n),te),n},Dt=function(e,t){var n=[];return Tt(e,function(e,r){n.push(t(e,r))}),n},Rt=function(e,t){for(var n=kt(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];if(t(a,i,e))return ve.some(a)}return ve.none()},Mt=function(e){return Dt(e,function(e){return e})},Pt=function(e,t){return It(e,t)?ve.from(e[t]):ve.none()},It=function(e,t){return St.call(e,t)},zt=function(e,t){return It(e,t)&&void 0!==e[t]&&null!==e[t]},Bt=function(e){if(!ke(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var n=[],r={};return je(e,function(o,i){var a=kt(o);if(1!==a.length)throw new Error("one and only one name per case");var u=a[0],c=o[u];if(void 0!==r[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!ke(c))throw new Error("case arguments must be an array");n.push(u),r[u]=function(){var r=arguments.length;if(r!==c.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+c.length+" ("+c+"), got "+r);for(var o=new Array(r),a=0;a<o.length;a++)o[a]=arguments[a];var s=function(e){var t=kt(e);if(n.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+t.join(","));if(!Qe(n,function(e){return ze(t,e)}))throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+n.join(", "));return e[u].apply(null,o)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);return arguments[i].apply(null,o)},match:s,log:function(e){t.console.log(e,{constructors:n,constructor:u,params:o})}}}}),r},Lt={generate:Bt},Ht=Object.prototype.hasOwnProperty,Ft=function(e,t){return t},jt=function(e,t){return Ce(e)&&Ce(t)?Ut(e,t):t},Vt=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)Ht.call(i,a)&&(r[a]=e(r[a],i[a]))}return r}},Ut=Vt(jt),qt=Vt(Ft),$t=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},Wt=Lt.generate([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),Gt=function(e){return Wt.defaultedThunk(ie(e))},Kt=function(e){return Wt.mergeWithThunk(ie(e))},Yt=Wt.strict,Xt=Wt.asOption,Jt=Wt.defaultedThunk,Qt=(Wt.asDefaultedOptionThunk,Wt.mergeWithThunk),Zt=function(e,t){var n={};return Tt(e,function(e,r){ze(t,r)||(n[r]=e)}),n},en=function(e,t){var n;return n={},n[e]=t,n},tn=function(e){var t={};return je(e,function(e){t[e.key]=e.value}),t},nn=(Lt.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(e){var t=[],n=[];return je(e,function(e){e.fold(function(e){t.push(e)},function(e){n.push(e)})}),{errors:t,values:n}}),rn=function(e,t){return Zt(e,t)},on=function(e,t){return en(e,t)},an=function(e){return tn(e)},un=function(e,t){return 0===e.length?lt.value(t):lt.value(Ut(t,qt.apply(void 0,e)))},cn=function(e){return lt.error(Xe(e))},sn=function(e,t){var n=nn(e);return n.errors.length>0?cn(n.errors):un(n.values,t)},ln=function(e,t){return e.length>0?Ct.svalue(Ut(t,qt.apply(void 0,e))):Ct.svalue(t)},fn=function(e){return re(Ct.serror,Xe)(e)},dn=function(e,t){var n=Ct.partition(e);return n.errors.length>0?fn(n.errors):ln(n.values,t)},mn=function(e){var t=Ct.partition(e);return t.errors.length>0?fn(t.errors):Ct.svalue(t.values)},pn={consolidateObj:dn,consolidateArr:mn},gn=function(e){return Ce(e)&&kt(e).length>100?" removed due to size":JSON.stringify(e,null,2)},hn=function(e){var t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):e;return Fe(t,function(e){return"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()})},vn=function(e,t){return Ct.serror([{path:e,getErrorInfo:t}])},bn=function(e,t,n){return vn(e,function(){return'Could not find valid *strict* value for "'+t+'" in '+gn(n)})},yn=function(e,t){return vn(e,function(){return'Choice schema did not contain choice key: "'+t+'"'})},wn=function(e,t,n){return vn(e,function(){return'The chosen schema: "'+n+'" did not exist in branches: '+gn(t)})},xn=function(e,t){return vn(e,function(){return"There are unsupported fields: ["+t.join(", ")+"] specified"})},Cn=function(e,t){return vn(e,function(){return t})},kn=Lt.generate([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),Sn=function(e,t,n){return Pt(t,n).fold(function(){return bn(e,n,t)},Ct.svalue)},Tn=function(e,t,n){var r=Pt(e,t).fold(function(){return n(e)},ae);return Ct.svalue(r)},Nn=function(e,t){return Ct.svalue(Pt(e,t))},En=function(e,t,n){var r=Pt(e,t).map(function(t){return!0===t?n(e):t});return Ct.svalue(r)},On=function(e,t,n,r){return n.fold(function(n,o,i,a){var u=function(t){var i=a.extract(e.concat([n]),r,t);return Ct.map(i,function(e){return en(o,r(e))})},c=function(t){return t.fold(function(){var e=en(o,r(ve.none()));return Ct.svalue(e)},function(t){var i=a.extract(e.concat([n]),r,t);return Ct.map(i,function(e){return en(o,r(ve.some(e)))})})};return function(){return i.fold(function(){return Ct.bind(Sn(e,t,n),u)},function(e){return Ct.bind(Tn(t,n,e),u)},function(){return Ct.bind(Nn(t,n),c)},function(e){return Ct.bind(En(t,n,e),c)},function(e){var r=e(t),o=Ct.map(Tn(t,n,ie({})),function(e){return Ut(r,e)});return Ct.bind(o,u)})}()},function(e,n){var o=n(t);return Ct.svalue(en(e,r(o)))})},_n=function(e,t,n,r){var o=Fe(n,function(n){return On(e,t,n,r)});return pn.consolidateObj(o,{})},An=function(e){var t=function(t,n,r){return e().extract(t,n,r)},n=function(){return e().toString()};return{extract:t,toString:n}},Dn=function(e){var t=function(t,n,r){return Ct.bindError(e(r,n),function(e){return Cn(t,e)})},n=function(){return"val"};return{extract:t,toString:n}},Rn=function(e){return kt(At(e,function(e){return void 0!==e&&null!==e}))},Mn=function(e){var t=Pn(e),n=$e(e,function(e,t){return t.fold(function(t){return Ut(e,on(t,!0))},ie(e))},{});return{extract:function(e,r,o){var i=Se(o)?[]:Rn(o),a=qe(i,function(e){return!zt(n,e)});return 0===a.length?t.extract(e,r,o):xn(e,a)},toString:t.toString}},Pn=function(e){var t=function(t,n,r){return _n(t,r,e,n)},n=function(){return"obj{\n"+Fe(e,function(e){return e.fold(function(e,t,n,r){return e+" -> "+r.toString()},function(e,t){return"state("+e+")"})}).join("\n")+"}"};return{extract:t,toString:n}},In=function(e){var t=function(t,n,r){var o=Fe(r,function(r,o){return e.extract(t.concat(["["+o+"]"]),n,r)});return pn.consolidateArr(o)},n=function(){return"array("+e.toString()+")"};return{extract:t,toString:n}},zn=function(e,t){var n=function(t,n){return In(Dn(e)).extract(t,ae,n)},r=function(e,r,o){var i=kt(o),a=n(e,i);return Ct.bind(a,function(n){var i=Fe(n,function(e){return kn.field(e,e,Yt(),t)});return Pn(i).extract(e,r,o)})},o=function(){return"setOf("+t.toString()+")"};return{extract:r,toString:o}},Bn=ie(Dn(Ct.svalue)),Ln=re(In,Pn),Hn=kn.state,Fn=kn.field,jn=function(e,t,n,r,o){return Pt(r,o).fold(function(){return wn(e,r,o)},function(r){return r.extract(e.concat(["branch: "+o]),t,n)})},Vn=function(e,t){var n=function(n,r,o){return Pt(o,e).fold(function(){return yn(n,e)},function(e){return jn(n,r,o,t,e)})},r=function(){return"chooseOn("+e+"). Possible values: "+kt(t)};return{extract:n,toString:r}},Un=Dn(Ct.svalue),qn=function(e){return Ln(e)},$n=An,Wn=function(e){return Dn(function(t){return e(t).fold(Ct.serror,Ct.svalue)})},Gn=function(e,t){return zn(function(t){return Ct.fromResult(e(t))},t)},Kn=function(e,t,n,r){var o=t.extract([e],n,r);return Ct.mapError(o,function(e){return{input:r,errors:e}})},Yn=function(e,t,n){return Ct.toResult(Kn(e,t,ae,n))},Xn=function(e){return e.fold(function(e){throw new Error(Qn(e))},ae)},Jn=function(e,t,n){return Xn(Yn(e,t,n))},Qn=function(e){return"Errors: \n"+hn(e.errors).join("\n")+"\n\nInput object: "+gn(e.input)},Zn=function(e,t){return Vn(e,t)},er=function(e,t){return Vn(e,Nt(t,Pn))},tr=ie(Un),nr=function(e,t){return Dn(function(n){var r=typeof n;return e(n)?Ct.svalue(n):Ct.serror("Expected type: "+t+" but got: "+r)})},rr=nr(_e,"number"),or=nr(xe,"string"),ir=nr(Se,"boolean"),ar=nr(Oe,"function"),ur=function(e){var t=function(e,t){for(var n=e.next();!n.done;){if(!t(n.value))return!1;n=e.next()}return!0};if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every(function(t){return ur(e[t])});case"Map":return t(e.keys(),ur)&&t(e.values(),ur);case"Set":return t(e.keys(),ur);default:return!1}},cr=Dn(function(e){return ur(e)?Ct.svalue(e):Ct.serror("Expected value to be acceptable for sending via postMessage")}),sr=function(e){return Wn(function(t){return ze(e,t)?lt.value(t):lt.error('Unsupported value: "'+t+'", choose one of "'+e.join(", ")+'".')})},lr=function(e){return Fn(e,e,Yt(),Bn())},fr=function(e,t){return Fn(e,e,Yt(),t)},dr=function(e){return fr(e,rr)},mr=function(e){return fr(e,or)},pr=function(e,t){return Fn(e,e,Yt(),sr(t))},gr=function(e){return fr(e,ar)},hr=function(e,t){return Fn(e,e,Xt(),Dn(function(n){return Ct.serror("The field: "+e+" is forbidden. "+t)}))},vr=function(e,t){return Fn(e,e,Yt(),Pn(t))},br=function(e,t){return Fn(e,e,Yt(),Ln(t))},yr=function(e,t){return Fn(e,e,Yt(),In(t))},wr=function(e){return Fn(e,e,Xt(),Bn())},xr=function(e,t){return Fn(e,e,Xt(),t)},Cr=function(e){return xr(e,rr)},kr=function(e){return xr(e,or)},Sr=function(e){return xr(e,ar)},Tr=function(e,t){return xr(e,Pn(t))},Nr=function(e,t){return xr(e,Mn(t))},Er=function(e,t){return Fn(e,e,Gt(t),Bn())},Or=function(e,t,n){return Fn(e,e,Gt(t),n)},_r=function(e,t){return Or(e,t,rr)},Ar=function(e,t){return Or(e,t,or)},Dr=function(e,t,n){return Or(e,t,sr(n))},Rr=function(e,t){return Or(e,t,ir)},Mr=function(e,t){return Or(e,t,ar)},Pr=function(e,t,n){return Or(e,t,Pn(n))},Ir=function(e,t){return Hn(e,t)},zr=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},Br=function(e,n){var r=n||t.document,o=r.createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Fr(o.childNodes[0])},Lr=function(e,n){var r=n||t.document,o=r.createElement(e);return Fr(o)},Hr=function(e,n){var r=n||t.document,o=r.createTextNode(e);return Fr(o)},Fr=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:ie(e)}},jr=function(e,t,n){var r=e.dom();return ve.from(r.elementFromPoint(t,n)).map(Fr)},Vr={fromHtml:Br,fromTag:Lr,fromText:Hr,fromDom:Fr,fromPoint:jr},Ur=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},qr=function(e,n){return Ur(e,n,t.Node.DOCUMENT_POSITION_CONTAINED_BY)},$r=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},Wr=function(e,t){var n=$r(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return Yr(r(1),r(2))},Gr=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Kr():Wr(e,n)},Kr=function(){return Yr(0,0)},Yr=function(e,t){return{major:e,minor:t}},Xr={nu:Yr,detect:Gr,unknown:Kr},Jr=function(){return Qr({current:void 0,version:Xr.unknown()})},Qr=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r("Edge"),isChrome:r("Chrome"),isIE:r("IE"),isOpera:r("Opera"),isFirefox:r("Firefox"),isSafari:r("Safari")}},Zr={unknown:Jr,nu:Qr,edge:ie("Edge"),chrome:ie("Chrome"),ie:ie("IE"),opera:ie("Opera"),firefox:ie("Firefox"),safari:ie("Safari")},eo=function(){return to({current:void 0,version:Xr.unknown()})},to=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r("Windows"),isiOS:r("iOS"),isAndroid:r("Android"),isOSX:r("OSX"),isLinux:r("Linux"),isSolaris:r("Solaris"),isFreeBSD:r("FreeBSD"),isChromeOS:r("ChromeOS")}},no={unknown:eo,nu:to,windows:ie("Windows"),ios:ie("iOS"),android:ie("Android"),linux:ie("Linux"),osx:ie("OSX"),solaris:ie("Solaris"),freebsd:ie("FreeBSD"),chromeos:ie("ChromeOS")},ro=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,a=e.isiOS()||e.isAndroid(),u=a||r("(pointer:coarse)"),c=o||!i&&a&&r("(min-device-width:768px)"),s=i||a&&!c,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),f=!s&&!c&&!l;return{isiPad:ie(o),isiPhone:ie(i),isTablet:ie(c),isPhone:ie(s),isTouch:ie(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ie(l),isDesktop:ie(f)}},oo=function(e,t){var n=String(t).toLowerCase();return Ke(e,function(e){return e.search(n)})},io=function(e,t){return oo(e,t).map(function(e){var n=Xr.detect(e.versionRegexes,t);return{current:e.name,version:n}})},ao=function(e,t){return oo(e,t).map(function(e){var n=Xr.detect(e.versionRegexes,t);return{current:e.name,version:n}})},uo={detectBrowser:io,detectOs:ao},co=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},so=function(e,t){return-1!==e.indexOf(t)},lo=function(e,t){return co(e,t,e.length-t.length)},fo=function(e){return function(t){return t.replace(e,"")}}(/^\s+|\s+$/g),mo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,po=function(e){return function(t){return so(t,e)}},go=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return so(e,"edge/")&&so(e,"chrome")&&so(e,"safari")&&so(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,mo],search:function(e){return so(e,"chrome")&&!so(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return so(e,"msie")||so(e,"trident")}},{name:"Opera",versionRegexes:[mo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:po("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:po("firefox")},{name:"Safari",versionRegexes:[mo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(so(e,"safari")||so(e,"mobile/"))&&so(e,"applewebkit")}}],ho=[{name:"Windows",search:po("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return so(e,"iphone")||so(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:po("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:po("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:po("linux"),versionRegexes:[]},{name:"Solaris",search:po("sunos"),versionRegexes:[]},{name:"FreeBSD",search:po("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:po("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],vo={browsers:ie(go),oses:ie(ho)},bo=function(e,t){var n=vo.browsers(),r=vo.oses(),o=uo.detectBrowser(n,e).fold(Zr.unknown,Zr.nu),i=uo.detectOs(r,e).fold(no.unknown,no.nu);return{browser:o,os:i,deviceType:ro(i,o,e,t)}},yo={detect:bo},wo=function(e){return t.window.matchMedia(e).matches},xo=$t(function(){return yo.detect(t.navigator.userAgent,wo)}),Co=function(){return xo()},ko=function(e,t){var n=e.dom();if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},So=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},To=function(e,n){var r=void 0===n?t.document:n.dom();return So(r)?[]:Fe(r.querySelectorAll(e),Vr.fromDom)},No=function(e,n){var r=void 0===n?t.document:n.dom();return So(r)?ve.none():ve.from(r.querySelector(e)).map(Vr.fromDom)},Eo=function(e,t){return e.dom()===t.dom()},Oo=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},_o=function(e,t){return qr(e.dom(),t.dom())},Ao=function(e,t){return Co().browser.isIE()?_o(e,t):Oo(e,t)},Do=function(e){return Oe(e)?e:ie(!1)},Ro=function(e,t,n){for(var r=e.dom(),o=Do(n);r.parentNode;){r=r.parentNode;var i=Vr.fromDom(r),a=t(i);if(a.isSome())return a;if(o(i))break}return ve.none()},Mo=function(e,t,n){var r=t(e),o=Do(n);return r.orThunk(function(){return o(e)?ve.none():Ro(e,t,o)})},Po=function(e,t){return Eo(e.element(),t.event().target())},Io=function(e){if(!zt(e,"can")&&!zt(e,"abort")&&!zt(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return Jn("Extracting event.handler",Mn([Er("can",ie(!0)),Er("abort",ie(!1)),Er("run",te)]),e)},zo=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return We(e,function(e,r){return e&&t(r).apply(void 0,n)},!0)}},Bo=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return We(e,function(e,r){return e||t(r).apply(void 0,n)},!1)}},Lo=function(e){return Oe(e)?{can:ie(!0),abort:ie(!1),run:e}:e},Ho=function(e){var t=zo(e,function(e){return e.can}),n=Bo(e,function(e){return e.abort});return Io({can:t,abort:n,run:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];je(e,function(e){e.run.apply(void 0,t)})}})},Fo=ie("touchstart"),jo=ie("touchmove"),Vo=ie("touchend"),Uo=ie("touchcancel"),qo=ie("mousedown"),$o=ie("mousemove"),Wo=ie("mouseout"),Go=ie("mouseup"),Ko=ie("mouseover"),Yo=ie("focusin"),Xo=ie("focusout"),Jo=ie("keydown"),Qo=ie("keyup"),Zo=ie("input"),ei=ie("change"),ti=ie("click"),ni=ie("transitionend"),ri=ie("selectstart"),oi={tap:ie("alloy.tap")},ii=ie("alloy.focus"),ai=ie("alloy.blur.post"),ui=ie("alloy.paste.post"),ci=ie("alloy.receive"),si=ie("alloy.execute"),li=ie("alloy.focus.item"),fi=oi.tap,di=ie("alloy.longpress"),mi=ie("alloy.sandbox.close"),pi=ie("alloy.typeahead.cancel"),gi=ie("alloy.system.init"),hi=ie("alloy.system.touchmove"),vi=ie("alloy.system.touchend"),bi=ie("alloy.system.scroll"),yi=ie("alloy.system.resize"),wi=ie("alloy.system.attached"),xi=ie("alloy.system.detached"),Ci=ie("alloy.system.dismissRequested"),ki=ie("alloy.system.repositionRequested"),Si=ie("alloy.focusmanager.shifted"),Ti=ie("alloy.slotcontainer.visibility"),Ni=ie("alloy.change.tab"),Ei=ie("alloy.dismiss.tab"),Oi=ie("alloy.highlight"),_i=ie("alloy.dehighlight"),Ai=function(e,t){Pi(e,e.element(),t,{})},Di=function(e,t,n){Pi(e,e.element(),t,n)},Ri=function(e){Ai(e,si())},Mi=function(e,t,n){Pi(e,t,n,{})},Pi=function(e,t,n,r){var o=de({target:t},r);e.getSystem().triggerEvent(n,t,Nt(o,ie))},Ii=function(e,t,n,r){e.getSystem().triggerEvent(n,t,r.event())},zi=function(e){return an(e)},Bi=function(e,t){return{key:e,value:Io({abort:t})}},Li=function(e){return{key:e,value:Io({run:function(e,t){t.event().prevent()}})}},Hi=function(e,t){return{key:e,value:Io({run:t})}},Fi=function(e,t,n){return{key:e,value:Io({run:function(e,r){t.apply(void 0,[e,r].concat(n))}})}},ji=function(e){return function(t){return{key:e,value:Io({run:function(e,n){Po(e,n)&&t(e,n)}})}}},Vi=function(e,t){return Hi(e,function(n,r){n.getSystem().getByUid(t).each(function(t){Ii(t,t.element(),e,r)})})},Ui=function(e,t,n){var r=t.partUids[n];return Vi(e,r)},qi=function(e,t){return Hi(e,function(e,n){var r=n.event(),o=e.getSystem().getByDom(r.target()).fold(function(){return Mo(r.target(),function(t){return e.getSystem().getByDom(t).toOption()},ie(!1)).getOr(e)},function(e){return e});t(e,o,n)})},$i=function(e){return Hi(e,function(e,t){t.cut()})},Wi=function(e){return Hi(e,function(e,t){t.stop()})},Gi=function(e,t){return ji(e)(t)},Ki=ji(wi()),Yi=ji(xi()),Xi=ji(gi()),Ji=function(e){return function(t){return Hi(e,t)}}(si()),Qi=(void 0!==t.window?t.window:Function("return this;")(),function(e){return e.dom().nodeName.toLowerCase()}),Zi=function(e){return e.dom().nodeType},ea=function(e){return function(t){return Zi(t)===e}},ta=ea(1),na=ea(3),ra=ea(9),oa=ea(11),ia=function(e){return Vr.fromDom(e.dom().ownerDocument)},aa=function(e){return ra(e)?e:ia(e)},ua=function(e){return Vr.fromDom(e.dom().ownerDocument.documentElement)},ca=function(e){return Vr.fromDom(e.dom().ownerDocument.defaultView)},sa=function(e){return ve.from(e.dom().parentNode).map(Vr.fromDom)},la=function(e){return ve.from(e.dom().offsetParent).map(Vr.fromDom)},fa=function(e){return ve.from(e.dom().nextSibling).map(Vr.fromDom)},da=function(e){return Fe(e.dom().childNodes,Vr.fromDom)},ma=function(e,t){var n=e.dom().childNodes;return ve.from(n[t]).map(Vr.fromDom)},pa=function(e){return ma(e,0)},ga=function(e,t){sa(e).each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},ha=function(e,t){fa(e).fold(function(){sa(e).each(function(e){ba(e,t)})},function(e){ga(e,t)})},va=function(e,t){pa(e).fold(function(){ba(e,t)},function(n){e.dom().insertBefore(t.dom(),n.dom())})},ba=function(e,t){e.dom().appendChild(t.dom())},ya=function(e,t,n){ma(e,n).fold(function(){ba(e,t)},function(e){ga(e,t)})},wa=function(e,t){je(t,function(t){ga(e,t)})},xa=function(e,t){je(t,function(t){ba(e,t)})},Ca=function(e){e.dom().textContent="",je(da(e),function(e){ka(e)})},ka=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},Sa=function(e){var t=da(e);t.length>0&&wa(e,t),ka(e)},Ta=function(e,n){var r=n||t.document,o=r.createElement("div");return o.innerHTML=e,da(Vr.fromDom(o))},Na=function(e){return e.dom().innerHTML},Ea=function(e,t){var n=ia(e),r=n.dom(),o=Vr.fromDom(r.createDocumentFragment()),i=Ta(t,r);xa(o,i),Ca(e),ba(e,o)},Oa=function(e){var t=Vr.fromTag("div"),n=Vr.fromDom(e.dom().cloneNode(!0));return ba(t,n),Na(t)},_a=function(e,n,r){if(!(xe(r)||Se(r)||_e(r)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,r+"")},Aa=function(e,t,n){_a(e.dom(),t,n)},Da=function(e,t){var n=e.dom();Tt(t,function(e,t){_a(n,t,e)})},Ra=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},Ma=function(e,t){return ve.from(Ra(e,t))},Pa=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Ia=function(e,t){e.dom().removeAttribute(t)},za=function(e,t){return Vr.fromDom(e.dom().cloneNode(t))},Ba=function(e){return za(e,!1)},La=function(e){var t=Ba(e);return Oa(t)},Ha=function(e){return La(e)},Fa=function(e,t,n){return Eo(t,e.element())&&!Eo(t,n)},ja=zi([function(e,t){return{key:e,value:Io({can:t})}}(ii(),function(e,n){var r=n.event().originator(),o=n.event().target();return!Fa(e,r,o)||(t.console.warn(ii()+" did not get interpreted by the desired target. \nOriginator: "+Ha(r)+"\nTarget: "+Ha(o)+"\nCheck the "+ii()+" event handlers"),!1)})]),Va=Object.freeze({__proto__:null,events:ja}),Ua=0,qa=function(e){var t=new Date,n=t.getTime(),r=Math.floor(1e9*Math.random());return Ua++,e+"_"+r+Ua+String(n)},$a=ie("alloy-id-"),Wa=ie("data-alloy-id"),Ga=$a(),Ka=Wa(),Ya=function(e,t){var n=qa(Ga+e);return Xa(t,n),n},Xa=function(e,t){Object.defineProperty(e.dom(),Ka,{value:t,writable:!0})},Ja=function(e){var t=ta(e)?e.dom()[Ka]:null;return ve.from(t)},Qa=function(e){return qa(e)},Za=ae,eu=function(e){var t=function(t){return function(){throw new Error("The component must be in a context to send: "+t+(e?"\n"+Ha(e().element())+" is not in context.":""))}};return{debugInfo:ie("fake"),triggerEvent:t("triggerEvent"),triggerFocus:t("triggerFocus"),triggerEscape:t("triggerEscape"),build:t("build"),addToWorld:t("addToWorld"),removeFromWorld:t("removeFromWorld"),addToGui:t("addToGui"),removeFromGui:t("removeFromGui"),getByUid:t("getByUid"),getByDom:t("getByDom"),broadcast:t("broadcast"),broadcastOn:t("broadcastOn"),broadcastEvent:t("broadcastEvent"),isConnected:ie(!1)}},tu=eu(),nu=function(e,t,n){var r=n.toString(),o=r.indexOf(")")+1,i=r.indexOf("("),a=r.substring(i+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:ru(a.slice(0,1).concat(a.slice(3)))}},e},ru=function(e){return Fe(e,function(e){return lo(e,"/*")?e.substring(0,e.length-"/*".length):e})},ou=function(e,t){var n=e.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:ru(i)}},e},iu=function(e,t){var n=t.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:ru(i.slice(1))}},e},au=qa("alloy-premade"),uu=function(e){return on(au,e)},cu=function(e){return Pt(e,au)},su=function(e){return iu(function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.apply(void 0,o([t.getApis(),t],n))},e)},lu={init:function(){return fu({readState:function(){return"No State required"}})}},fu=function(e){return e},du=function(e,t){var n=Fe(t,function(e){return Tr(e.name(),[lr("config"),Er("state",lu)])}),r=Yn("component.behaviours",Pn(n),e.behaviours).fold(function(t){throw new Error(Qn(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))},function(e){return e});return{list:t,data:Nt(r,function(e){var t=e.map(function(e){return{config:e.config,state:e.state.init(e.config)}});return function(){return t}})}},mu=function(e){return e.list},pu=function(e){return e.data},gu=function(e,t){var n={};return Tt(e,function(e,r){Tt(e,function(e,o){var i=Pt(n,o).getOr([]);n[o]=i.concat([t(r,e)])})}),n},hu=function(e){return{classes:void 0!==e.classes?e.classes:[],attributes:void 0!==e.attributes?e.attributes:{},styles:void 0!==e.styles?e.styles:{}}},vu=function(e,t){return de(de({},e),{attributes:de(de({},e.attributes),t.attributes),styles:de(de({},e.styles),t.styles),classes:e.classes.concat(t.classes)})},bu=function(e,t,n,r){var o=de({},t);je(n,function(t){o[t.name()]=t.exhibit(e,r)});var i=gu(o,function(e,t){return{name:e,modification:t}}),a=function(e){return $e(e,function(e,t){return de(de({},t.modification),e)},{})},u=$e(i.classes,function(e,t){return t.modification.concat(e)},[]),c=a(i.attributes),s=a(i.styles);return hu({classes:u,attributes:c,styles:s})},yu=function(e,t,n,r){try{var o=nt(n,function(n,o){var i=n[t](),a=o[t](),u=r.indexOf(i),c=r.indexOf(a);if(-1===u)throw new Error("The ordering for "+e+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2));if(-1===c)throw new Error("The ordering for "+e+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(r,null,2));return u<c?-1:c<u?1:0});return lt.value(o)}catch(e){return lt.error([e])}},wu=function(e,t){return{handler:e,purpose:ie(t)}},xu=function(e,t){return{cHandler:e,purpose:ie(t)}},Cu=function(e,t){return xu(n.apply(void 0,[e.handler].concat(t)),e.purpose())},ku=function(e){return e.cHandler},Su=function(e,t){return{name:ie(e),handler:ie(t)}},Tu=function(e,t){var n={};return je(e,function(e){n[e.name()]=e.handlers(t)}),n},Nu=function(e,t,n){var r=de(de({},n),Tu(t,e));return gu(r,Su)},Eu=function(e,t,n,r){var o=Nu(e,n,r);return Du(o,t)},Ou=function(e){var t=Lo(e);return function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i=[e,n].concat(r);t.abort.apply(void 0,i)?n.stop():t.can.apply(void 0,i)&&t.run.apply(void 0,i)}},_u=function(e,t){return lt.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(Fe(t,function(e){return e.name()}),null,2)])},Au=function(e,t,n){var r=t[n];return r?yu("Event: "+n,"name",e,r).map(function(e){var t=Fe(e,function(e){return e.handler()});return Ho(t)}):_u(n,e)},Du=function(e,t){var n=Dt(e,function(e,n){return(1===e.length?lt.value(e[0].handler()):Au(e,t,n)).map(function(r){var o=Ou(r),i=e.length>1?qe(t[n],function(t){return Be(e,function(e){return e.name()===t})}).join(" > "):e[0].name();return on(n,wu(o,i))})});return sn(n,{})},Ru=function(e){return Yn("custom.definition",Pn([Fn("dom","dom",Yt(),Pn([lr("tag"),Er("styles",{}),Er("classes",[]),Er("attributes",{}),wr("value"),wr("innerHtml")])),lr("components"),lr("uid"),Er("events",{}),Er("apis",{}),Fn("eventOrder","eventOrder",Kt({"alloy.execute":["disabling","alloy.base.behaviour","toggling","typeaheadevents"],"alloy.focus":["alloy.base.behaviour","focusing","keying"],"alloy.system.init":["alloy.base.behaviour","disabling","toggling","representing"],input:["alloy.base.behaviour","representing","streaming","invalidating"],"alloy.system.detached":["alloy.base.behaviour","representing","item-events","tooltipping"],mousedown:["focusing","alloy.base.behaviour","item-type-events"],touchstart:["focusing","alloy.base.behaviour","item-type-events"],mouseover:["item-type-events","tooltipping"],"alloy.receive":["receiving","reflecting","tooltipping"]}),tr()),wr("domModification")]),e)},Mu=function(e){return de(de({},e.dom),{uid:e.uid,domChildren:Fe(e.components,function(e){return e.element()})})},Pu=function(e){return e.domModification.fold(function(){return hu({})},hu)},Iu=function(e){return e.events},zu=function(e,t){var n=Ra(e,t);return void 0===n||""===n?[]:n.split(" ")},Bu=function(e,t,n){var r=zu(e,t),o=r.concat([n]);return Aa(e,t,o.join(" ")),!0},Lu=function(e,t,n){var r=qe(zu(e,t),function(e){return e!==n});return r.length>0?Aa(e,t,r.join(" ")):Ia(e,t),!1},Hu=function(e){return void 0!==e.dom().classList},Fu=function(e){return zu(e,"class")},ju=function(e,t){return Bu(e,"class",t)},Vu=function(e,t){return Lu(e,"class",t)},Uu=function(e,t){Hu(e)?e.dom().classList.add(t):ju(e,t)},qu=function(e){0===(Hu(e)?e.dom().classList:Fu(e)).length&&Ia(e,"class")},$u=function(e,t){if(Hu(e)){e.dom().classList.remove(t)}else Vu(e,t);qu(e)},Wu=function(e,t){return Hu(e)&&e.dom().classList.contains(t)},Gu=function(e,t){je(t,function(t){Uu(e,t)})},Ku=function(e,t){je(t,function(t){$u(e,t)})},Yu=function(e){return void 0!==e.style&&Oe(e.style.getPropertyValue)},Xu=function(e){return oa(e)},Ju=Oe(t.Element.prototype.attachShadow)&&Oe(t.Node.prototype.getRootNode),Qu=ie(Ju),Zu=Ju?function(e){return Vr.fromDom(e.dom().getRootNode())}:aa,ec=function(e){return Xu(e)?e:Vr.fromDom(aa(e).dom().body)},tc=function(e){var t=Zu(e);return Xu(t)?ve.some(t):ve.none()},nc=function(e){return Vr.fromDom(e.dom().host)},rc=function(e){if(Qu()&&Ee(e.target)){var t=Vr.fromDom(e.target);if(ta(t)&&oc(Vr.fromDom(e.target))){var n=e;if(n.composed&&n.composedPath){var r=n.composedPath();if(r)return rt(r)}}}return ve.from(e.target)},oc=function(e){return Ee(e.dom().shadowRoot)},ic=function(e){var t=na(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&null!==t.ownerDocument&&tc(Vr.fromDom(t)).fold(function(){return t.ownerDocument.body.contains(t)},oe(ic,nc))},ac=function(){return uc(Vr.fromDom(t.document))},uc=function(e){var t=e.dom().body;if(null===t||void 0===t)throw new Error("Body is not available yet");return Vr.fromDom(t)},cc=function(e,n,r){if(!xe(r))throw t.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);Yu(e)&&e.style.setProperty(n,r)},sc=function(e,t){Yu(e)&&e.style.removeProperty(t)},lc=function(e,t,n){var r=e.dom();cc(r,t,n)},fc=function(e,t){var n=e.dom();Tt(t,function(e,t){cc(n,t,e)})},dc=function(e,t){var n=e.dom();Tt(t,function(e,t){e.fold(function(){sc(n,t)},function(e){cc(n,t,e)})})},mc=function(e,n){var r=e.dom(),o=t.window.getComputedStyle(r),i=o.getPropertyValue(n);return""!==i||ic(e)?i:pc(r,n)},pc=function(e,t){return Yu(e)?e.style.getPropertyValue(t):""},gc=function(e,t){var n=e.dom(),r=pc(n,t);return ve.from(r).filter(function(e){return e.length>0})},hc=function(e){var t={},n=e.dom();if(Yu(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t},vc=function(e,t,n){var r=Vr.fromTag(e);return lc(r,t,n),gc(r,t).isSome()},bc=function(e,t){var n=e.dom();sc(n,t),Ma(e,"style").map(fo).is("")&&Ia(e,"style")},yc=function(e){return e.dom().offsetWidth},wc=function(e){return e.dom().value},xc=function(e,t){if(void 0===t)throw new Error("Value.set was undefined");e.dom().value=t},Cc=function(e){var t=Vr.fromTag(e.tag);Da(t,e.attributes),Gu(t,e.classes),fc(t,e.styles),e.innerHtml.each(function(e){return Ea(t,e)});var n=e.domChildren;return xa(t,n),e.value.each(function(e){xc(t,e)}),e.uid,Xa(t,e.uid),t},kc=function(e){var t=Pt(e,"behaviours").getOr({}),n=qe(kt(t),function(e){return void 0!==t[e]});return Fe(n,function(e){return t[e].me})},Sc=function(e,t){return du(e,t)},Tc=function(e){var t=kc(e);return Sc(e,t)},Nc=function(e,t,n){var r=Mu(e),o=Pu(e),i={"alloy.base.modification":o},a=t.length>0?bu(n,i,t,r):o;return vu(r,a)},Ec=function(e,t,n){var r={"alloy.base.behaviour":Iu(e)};return Eu(n,e.eventOrder,t,r).getOrDie()},Oc=function(e){var t=function(){return b},n=zr(tu),r=Xn(Ru(e)),o=Tc(e),i=mu(o),a=pu(o),u=Nc(r,i,a),c=Cc(u),s=Ec(r,i,a),l=zr(r.components),f=function(e){n.set(e)},d=function(){n.set(eu(t))},m=function(){var e=da(c),t=Je(e,function(e){return n.get().getByDom(e).fold(function(){return[]},function(e){return[e]})});l.set(t)},p=function(t){var n=a;return(Oe(n[t.name()])?n[t.name()]:function(){throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))})()},g=function(e){return Oe(a[e.name()])},h=function(){return r.apis},v=function(e){return a[e]().map(function(e){return e.state.readState()}).getOr("not enabled")},b={getSystem:n.get,config:p,hasConfigured:g,spec:ie(e),readState:v,getApis:h,connect:f,disconnect:d,element:ie(c),syncComponents:m,components:l.get,events:ie(s)};return b},_c=function(e){var t=Pt(e,"components").getOr([]);return Fe(t,Pc)},Ac=function(e){var t=Za(e),n=t.events,o=r(t,["events"]),i=_c(o),a=de(de({},o),{events:de(de({},Va),n),components:i});return lt.value(Oc(a))},Dc=function(e){var t=Vr.fromText(e);return Rc({element:t})},Rc=function(e){var t=Jn("external.component",Mn([lr("element"),wr("uid")]),e),n=zr(eu()),r=function(e){n.set(e)},o=function(){n.set(eu(function(){return i}))};t.uid.each(function(e){Xa(t.element,e)});var i={getSystem:n.get,config:ve.none,hasConfigured:ie(!1),connect:r,disconnect:o,getApis:function(){return{}},element:ie(t.element),spec:ie(e),readState:ie("No state"),syncComponents:te,components:ie([]),events:ie({})};return uu(i)},Mc=Qa,Pc=function(e){return cu(e).fold(function(){var t=e.hasOwnProperty("uid")?e:de({uid:Mc("")},e);return Ac(t).getOrDie()},function(e){return e})},Ic=uu,zc=i("height",function(e){var t=e.dom();return ic(e)?t.getBoundingClientRect().height:t.offsetHeight}),Bc=function(e){return zc.get(e)},Lc=function(e){return zc.getOuter(e)},Hc=function(e,t){var n=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],r=zc.max(e,t,n);lc(e,"max-height",r+"px")},Fc=function(e,t){var n=function(n,r){return Fc(e+n,t+r)};return{left:ie(e),top:ie(t),translate:n}},jc=Fc,Vc=function(e){var t=e.getBoundingClientRect();return jc(t.left,t.top)},Uc=function(e,t){return void 0!==e?e:void 0!==t?t:0},qc=function(e){var t=e.dom().ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom())return jc(n.offsetLeft,n.offsetTop);var i=Uc(r.pageYOffset,o.scrollTop),a=Uc(r.pageXOffset,o.scrollLeft),u=Uc(o.clientTop,n.clientTop),c=Uc(o.clientLeft,n.clientLeft);return $c(e).translate(a-c,i-u)},$c=function(e){var t=e.dom(),n=t.ownerDocument,r=n.body;return r===t?jc(r.offsetLeft,r.offsetTop):ic(e)?Vc(t):jc(0,0)},Wc=i("width",function(e){return e.dom().offsetWidth}),Gc=function(e,t){return Wc.set(e,t)},Kc=function(e){return Wc.get(e)},Yc=function(e){return Wc.getOuter(e)},Xc=function(e,t){var n=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],r=Wc.max(e,t,n);lc(e,"max-width",r+"px")},Jc=function(e,t,n,r,o,i,a){return{target:ie(e),x:ie(t),y:ie(n),stop:r,prevent:o,kill:i,raw:ie(a)}},Qc=function(e){var t=Vr.fromDom(rc(e).getOr(e.target)),n=function(){return e.stopPropagation()},r=function(){return e.preventDefault()},o=re(r,n);return Jc(t,e.clientX,e.clientY,n,r,o,e)},Zc=function(e,t){return function(n){e(n)&&t(Qc(n))}},es=function(e,t,r,o,i){var a=Zc(r,o);return e.dom().addEventListener(t,a,i),{unbind:n(rs,e,t,a,i)}},ts=function(e,t,n,r){return es(e,t,n,r,!1)},ns=function(e,t,n,r){return es(e,t,n,r,!0)},rs=function(e,t,n,r){e.dom().removeEventListener(t,n,r)},os=function(e){var n=void 0!==e?e.dom():t.document,r=n.body.scrollLeft||n.documentElement.scrollLeft,o=n.body.scrollTop||n.documentElement.scrollTop;return jc(r,o)},is=function(e,n,r){(void 0!==r?r.dom():t.document).defaultView.scrollTo(e,n)},as=function(e){var n=void 0===e?t.window:e;return ve.from(n.visualViewport)},us=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},cs=function(e){var n=void 0===e?t.window:e,r=n.document,o=os(Vr.fromDom(r));return as(n).fold(function(){var e=n.document.documentElement,t=e.clientWidth,r=e.clientHeight;return us(o.left(),o.top(),t,r)},function(e){return us(Math.max(e.pageLeft,o.left()),Math.max(e.pageTop,o.top()),e.width,e.height)})},ss=function(e,t){return e.view(t).fold(ie([]),function(t){var n=e.owner(t);return[t].concat(ss(e,n))})},ls=function(e,t){var n=t.owner(e),r=ss(t,n);return ve.some(r)},fs=function(e){return(e.dom()===t.document?ve.none():ve.from(e.dom().defaultView.frameElement)).map(Vr.fromDom)},ds=function(e){return ia(e)},ms=Object.freeze({__proto__:null,view:fs,owner:ds}),ps=function(e){var r=Vr.fromDom(t.document),o=os(r);return ls(e,ms).fold(n(qc,e),function(t){var n=$c(e),r=$e(t,function(e,t){var n=$c(t);return{left:e.left+n.left(),top:e.top+n.top()}},{left:0,top:0});return jc(r.left+n.left()+o.left(),r.top+n.top()+o.top())})},gs=function(e,t,n){return{point:e,width:t,height:n}},hs=function(e,t,n,r){return{x:e,y:t,width:n,height:r}},vs=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},bs=function(e){var t=qc(e),n=Yc(e),r=Lc(e);return vs(t.left(),t.top(),n,r)},ys=function(e){var t=ps(e),n=Yc(e),r=Lc(e);return vs(t.left(),t.top(),n,r)},ws=function(){return cs(t.window)},xs=function(e,t,n){for(var r=e.dom(),o=Oe(n)?n:ie(!1);r.parentNode;){r=r.parentNode;var i=Vr.fromDom(r);if(t(i))return ve.some(i);if(o(i))break}return ve.none()},Cs=function(e,t,n){return a(function(e,t){return t(e)},xs,e,t,n)},ks=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){var o=Vr.fromDom(e.childNodes[r]);if(t(o))return ve.some(o);var i=n(e.childNodes[r]);if(i.isSome())return i}return ve.none()};return n(e.dom())},Ss=function(e,t,n){return Cs(e,t,n).isSome()},Ts=function(e,t,n){return xs(e,function(e){return ko(e,t)},n)},Ns=function(e,t){return No(t,e)},Es=function(e,t,n){return a(function(e,t){return ko(e,t)},Ts,e,t,n)},Os=function(e){return Cs(e,function(e){if(!ta(e))return!1;var t=Ra(e,"id");return void 0!==t&&t.indexOf("aria-owns")>-1}).bind(function(e){var t=Ra(e,"id"),n=ia(e);return Ns(n,'[aria-owns="'+t+'"]')})},_s=function(){var e=qa("aria-owns");return{id:e,link:function(t){Aa(t,"aria-owns",e)},unlink:function(e){Ia(e,"aria-owns")}}},As=function(e,t){return Os(t).exists(function(t){return Ds(e,t)})},Ds=function(e,t){return Ss(t,function(t){return Eo(t,e.element())},ie(!1))||As(e,t)};!function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"}(ft||(ft={}));var Rs,Ms=zr({}),Ps=function(e,n){var r=[],o=(new Date).getTime();return{logEventCut:function(e,t,n){r.push({outcome:"cut",target:t,purpose:n})},logEventStopped:function(e,t,n){r.push({outcome:"stopped",target:t,purpose:n})},logNoParent:function(e,t,n){r.push({outcome:"no-parent",target:t,purpose:n})},logEventNoHandlers:function(e,t){r.push({outcome:"no-handlers-left",target:t})},logEventResponse:function(e,t,n){r.push({outcome:"response",purpose:n,target:t})},write:function(){var i=(new Date).getTime();ze(["mousemove","mouseover","mouseout",gi()],e)||t.console.log(e,{event:e,time:i-o,target:n.dom(),sequence:Fe(r,function(e){return ze(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+Ha(e.target)+")":e.outcome})})}}},Is=function(e,t,n){switch(Pt(Ms.get(),e).orThunk(function(){var t=kt(Ms.get());return at(t,function(t){return e.indexOf(t)>-1?ve.some(Ms.get()[t]):ve.none()})}).getOr(ft.NORMAL)){case ft.NORMAL:return n(Fs());case ft.LOGGING:var r=Ps(e,t),o=n(r);return r.write(),o;case ft.STOP:return!0}},zs=["alloy/data/Fields","alloy/debugging/Debugging"],Bs=function(){var e=new Error;if(void 0!==e.stack){var t=e.stack.split("\n");return Ke(t,function(e){return e.indexOf("alloy")>0&&!Be(zs,function(t){return e.indexOf(t)>-1})}).getOr("unknown")}return"unknown"},Ls={logEventCut:te,logEventStopped:te,logNoParent:te,logEventNoHandlers:te,logEventResponse:te,write:te},Hs=function(e,t,n){return Is(e,t,n)},Fs=ie(Ls),js=ie([lr("menu"),lr("selectedMenu")]),Vs=ie([lr("item"),lr("selectedItem")]),Us=(ie(Pn(Vs().concat(js()))),ie(Pn(Vs()))),qs=vr("initSize",[lr("numColumns"),lr("numRows")]),$s=function(){return vr("markers",[lr("backgroundMenu")].concat(js()).concat(Vs()))},Ws=function(e){return vr("markers",Fe(e,lr))},Gs=function(e,t,n){Bs();return Fn(t,t,n,Wn(function(e){return lt.value(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(void 0,t)})}))},Ks=function(e){return Gs(0,e,Gt(te))},Ys=function(e){return Gs(0,e,Gt(ve.none))},Xs=function(e){return Gs(0,e,Yt())},Js=function(e){return Gs(0,e,Yt())},Qs=function(e,t){return Ir(e,ie(t))},Zs=function(e){return Ir(e,ae)},el=ie(qs),tl=function(e,t,n,r,o,i){return{x:ie(e),y:ie(t),bubble:ie(n),direction:ie(r),boundsRestriction:ie(o),label:ie(i)}},nl=Lt.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),rl=function(e,t,n,r,o,i,a,u,c){return e.fold(t,n,r,o,i,a,u,c)},ol=function(e,t,n,r){return e.fold(t,t,r,r,t,r,n,n)},il=function(e,t,n,r){return e.fold(t,r,t,r,n,n,t,r)},al=nl.southeast,ul=nl.southwest,cl=nl.northeast,sl=nl.northwest,ll=nl.south,fl=nl.north,dl=nl.east,ml=nl.west,pl=function(e,t){switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}},gl=function(e,t){return tt(["left","right","top","bottom"],function(n){return Pt(t,n).map(function(t){return pl(e,t)})})},hl=function(e,t,n){var r=function(e,r){var o="top"===e||"bottom"===e?n.top():n.left();return Pt(t,e).bind(ae).bind(function(t){return"left"===e||"top"===e?t>=r?ve.some(t):ve.none():t<=r?ve.some(t):ve.none()}).map(function(e){return e+o}).getOr(r)},o=r("left",e.x),i=r("top",e.y),a=r("right",e.right),u=r("bottom",e.bottom);return vs(o,i,a-o,u-i)},vl=function(e){return e.x},bl=function(e,t){return e.x+e.width/2-t.width/2},yl=function(e,t){return e.x+e.width-t.width},wl=function(e,t){return e.y-t.height},xl=function(e){return e.y+e.height},Cl=function(e,t){return e.y+e.height/2-t.height/2},kl=function(e){return e.x+e.width},Sl=function(e,t){return e.x-t.width},Tl=function(e,t,n){return tl(vl(e),xl(e),n.southeast(),al(),gl(e,{left:1,top:3}),"layout-se")},Nl=function(e,t,n){return tl(yl(e,t),xl(e),n.southwest(),ul(),gl(e,{right:0,top:3}),"layout-sw")},El=function(e,t,n){return tl(vl(e),wl(e,t),n.northeast(),cl(),gl(e,{left:1,bottom:2}),"layout-ne")},Ol=function(e,t,n){return tl(yl(e,t),wl(e,t),n.northwest(),sl(),gl(e,{right:0,bottom:2}),"layout-nw")},_l=function(e,t,n){return tl(bl(e,t),wl(e,t),n.north(),fl(),gl(e,{bottom:2}),"layout-n")},Al=function(e,t,n){return tl(bl(e,t),xl(e),n.south(),ll(),gl(e,{top:3}),"layout-s")},Dl=function(e,t,n){return tl(kl(e),Cl(e,t),n.east(),dl(),gl(e,{left:0}),"layout-e")},Rl=function(e,t,n){return tl(Sl(e,t),Cl(e,t),n.west(),ml(),gl(e,{right:1}),"layout-w")},Ml=function(){return[Tl,Nl,El,Ol,Al,_l,Dl,Rl]},Pl=function(){return[Nl,Tl,Ol,El,Al,_l,Dl,Rl]},Il=function(){return[El,Ol,Tl,Nl,_l,Al]},zl=function(){return[Ol,El,Nl,Tl,_l,Al]},Bl=function(){return[Tl,Nl,El,Ol,Al,_l]},Ll=function(){return[Nl,Tl,Ol,El,Al,_l]},Hl=function(e,t,n){return Ji(function(r){n(r,e,t)})},Fl=function(e,t,n){return Xi(function(r,o){n(r,e,t)})},jl=function(e,t,n,r,o,i){var a=Mn(e),u=Tr(t,[Nr("config",e)]);return $l(a,u,t,n,r,o,i)},Vl=function(e,t,n,r,o,i){var a=e,u=Tr(t,[xr("config",e)]);return $l(a,u,t,n,r,o,i)},Ul=function(e,t,n){return nu(function(r){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var a=[r].concat(o);return r.config({name:ie(e)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)},function(e){var n=Array.prototype.slice.call(a,1);return t.apply(void 0,[r,e.config,e.state].concat(n))})},n,t)},ql=function(e){return{key:e,value:void 0}},$l=function(e,t,r,o,i,a,u){var c=function(e){return zt(e,r)?e[r]():ve.none()},s=Nt(i,function(e,t){return Ul(r,e,t)}),l=Nt(a,function(e,t){return ou(e,t)}),f=de(de(de({},l),s),{revoke:n(ql,r),config:function(t){var n=Jn(r+"-config",e,t);return{key:r,value:{config:n,me:f,configAsRaw:$t(function(){return Jn(r+"-config",e,t)}),initialConfig:t,state:u}}},schema:function(){return t},exhibit:function(e,t){return c(e).bind(function(e){return Pt(o,"exhibit").map(function(n){return n(t,e.config,e.state)})}).getOr(hu({}))},name:function(){return r},handlers:function(e){return c(e).map(function(e){return Pt(o,"events").getOr(function(){return{}})(e.config,e.state)}).getOr({})}});return f},Wl=function(e){return an(e)},Gl=Mn([lr("fields"),lr("name"),Er("active",{}),Er("apis",{}),Er("state",lu),Er("extra",{})]),Kl=function(e){var t=Jn("Creating behaviour: "+e.name,Gl,e);return jl(t.fields,t.name,t.active,t.apis,t.extra,t.state)},Yl=Mn([lr("branchKey"),lr("branches"),lr("name"),Er("active",{}),Er("apis",{}),Er("state",lu),Er("extra",{})]),Xl=function(e){var t=Jn("Creating behaviour: "+e.name,Yl,e);return Vl(er(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},Jl=ie(void 0),Ql=function(e,t){return t.universal()?e:qe(e,function(e){return ze(t.channels(),e)})},Zl=function(e){return zi([Hi(ci(),function(t,n){var r=e.channels,o=kt(r),i=n,a=Ql(o,i);je(a,function(e){var n=r[e],o=n.schema,a=Jn("channel["+e+"] data\nReceiver: "+Ha(t.element()),o,i.data());n.onReceive(t,a)})})])},ef=Object.freeze({__proto__:null,events:Zl}),tf=[fr("channels",Gn(lt.value,Mn([Xs("onReceive"),Er("schema",tr())])))],nf=Kl({fields:tf,name:"receiving",active:ef}),rf=function(e,t){return hu({classes:[],styles:t.useFixed()?{}:{position:"relative"}})},of=Object.freeze({__proto__:null,exhibit:rf}),af=function(){return Vr.fromDom(t.document)},uf=function(e){return e.dom().focus()},cf=function(e){return e.dom().blur()},sf=function(e){var t=Zu(e).dom();return e.dom()===t.activeElement},lf=function(e){return void 0===e&&(e=af()),ve.from(e.dom().activeElement).map(Vr.fromDom)},ff=function(e){return lf(Zu(e)).filter(function(t){return e.dom().contains(t.dom())})},df=function(e,t){var n=ia(t),r=lf(n).bind(function(e){var n=function(t){return Eo(e,t)};return n(t)?ve.some(t):ks(t,n)}),o=e(t);return r.each(function(e){lf(n).filter(function(t){return Eo(t,e)}).fold(function(){uf(e)},te)}),o},mf=function(e,t,n,r,o){return{position:ie(e),left:ie(t),top:ie(n),right:ie(r),bottom:ie(o)}},pf=function(e,t){var n=function(e){return e+"px"};dc(e,{position:ve.some(t.position()),left:t.left().map(n),top:t.top().map(n),right:t.right().map(n),bottom:t.bottom().map(n)})},gf=Lt.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),hf=function(e,t,n,r,o,i){var a=t.x-n,u=t.y-r,c=t.width,s=t.height,l=o-(a+c),f=i-(u+s),d=ve.some(a),m=ve.some(u),p=ve.some(l),g=ve.some(f),h=ve.none();return rl(t.direction,function(){return mf(e,d,m,h,h)},function(){return mf(e,h,m,p,h)},function(){return mf(e,d,h,h,g)},function(){return mf(e,h,h,p,g)},function(){return mf(e,d,m,h,h)},function(){return mf(e,d,h,h,g)},function(){return mf(e,d,m,h,h)},function(){return mf(e,h,m,p,h)})},vf=function(e,t){return e.fold(function(){return mf("absolute",ve.some(t.x),ve.some(t.y),ve.none(),ve.none())},function(e,n,r,o){return hf("absolute",t,e,n,r,o)},function(e,n,r,o){return hf("fixed",t,e,n,r,o)})},bf=function(e,t){var r=n(ps,t),o=e.fold(r,r,function(){var e=os();return ps(t).translate(-e.left(),-e.top())}),i=Yc(t),a=Lc(t);return vs(o.left(),o.top(),i,a)},yf=function(e,t){return t.fold(function(){return e.fold(ws,ws,vs)},function(t){return e.fold(t,t,function(){var n=t(),r=wf(e,n.x,n.y);return vs(r.left(),r.top(),n.width,n.height)})})},wf=function(e,t,n){var r=jc(t,n),o=function(){var e=os();return r.translate(-e.left(),-e.top())};return e.fold(ie(r),ie(r),o)},xf=function(e,t,n,r){return e.fold(t,n,r)},Cf=(gf.none,gf.relative),kf=gf.fixed,Sf=function(e,t){return{anchorBox:ie(e),origin:ie(t)}},Tf=function(e,t){return Sf(e,t)},Nf=function(e,t,n,r){var o=e+t;return o>r?n:o<n?r:o},Ef=function(e,t,n){return Math.min(Math.max(e,t),n)},Of=Lt.generate([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}]),_f=function(e,t,n,r,o){var i=o.x,a=o.y,u=o.width,c=o.height,s=e>=i,l=t>=a,f=s&&l,d=e+n<=i+u,m=t+r<=a+c,p=d&&m,g=Math.abs(Math.min(n,s?i+u-e:i-(e+n))),h=Math.abs(Math.min(r,l?a+c-t:a-(t+r))),v=Math.max(o.x,o.right-n),b=Math.max(o.y,o.bottom-r);return{originInBounds:f,sizeInBounds:p,limitX:Ef(e,o.x,v),limitY:Ef(t,o.y,b),deltaW:g,deltaH:h}},Af=function(e,t,n,r){var o=e.x(),i=e.y(),a=e.bubble().offset(),u=a.left(),c=a.top(),s=hl(r,e.boundsRestriction(),a),l=s.y,f=s.bottom,d=s.x,m=s.right,p=o+u,g=i+c,h=_f(p,g,t,n,s),v=h.originInBounds,b=h.sizeInBounds,y=h.limitX,w=h.limitY,x=h.deltaW,C=h.deltaH,k=ie(w+C-l),S=ie(f-w),T=ol(e.direction(),S,S,k),N=ie(y+x-d),E=ie(m-y),O=il(e.direction(),E,E,N),_={x:y,y:w,width:x,height:C,maxHeight:T,maxWidth:O,direction:e.direction(),classes:{on:e.bubble().classesOn(),off:e.bubble().classesOff()},label:e.label(),candidateYforTest:g};return v&&b?Of.fit(_):Of.nofit(_,x,C)},Df=function(e,t,r,o,i){var a=r.width,u=r.height,c=function(e,n,c,s){var l=e(t,r,o);return Af(l,a,u,i).fold(Of.fit,function(e,t,r){return r>s||t>c?Of.nofit(e,t,r):Of.nofit(n,c,s)})};return We(e,function(e,t){var r=n(c,t);return e.fold(Of.fit,r)},Of.nofit({x:t.x,y:t.y,width:r.width,height:r.height,maxHeight:r.height,maxWidth:r.width,direction:al(),classes:{on:[],off:[]},label:"none",candidateYforTest:t.y},-1,-1)).fold(ae,ae)},Rf=function(e){return{width:Yc(e),height:Lc(e)}},Mf=function(e,t,n,r){bc(t,"max-height"),bc(t,"max-width");var o=Rf(t);return Df(r.preference,e,o,n,r.bounds)},Pf=function(e,t){var n=t.classes;Ku(e,n.off),Gu(e,n.on)},If=function(e,t,n){(0,n.maxHeightFunction)(e,t.maxHeight)},zf=function(e,t,n){(0,n.maxWidthFunction)(e,t.maxWidth)},Bf=function(e,t,n){pf(e,vf(n.origin,t))},Lf=function(e,t){Hc(e,Math.floor(t))},Hf=ie(function(e,t){Lf(e,t),fc(e,{"overflow-x":"hidden","overflow-y":"auto"})}),Ff=ie(function(e,t){Lf(e,t)}),jf=function(e,t,n){return void 0===e[t]?n:e[t]},Vf=function(e,t,n,r,o,i){var a=jf(i,"maxHeightFunction",Hf()),u=jf(i,"maxWidthFunction",te),c=e.anchorBox(),s=e.origin(),l={bounds:yf(s,o),origin:s,preference:r,maxHeightFunction:a,maxWidthFunction:u};Uf(c,t,n,l)},Uf=function(e,t,n,r){var o=Mf(e,t,n,r);Bf(t,o,r),Pf(t,o),If(t,o,r),zf(t,o,r)},qf=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"],$f=function(e,t,n){var r=function(e){return Pt(n,e).getOr([])},o=function(e,t,n){var o=et(qf,n);return{offset:function(){return jc(e,t)},classesOn:function(){return Je(n,r)},classesOff:function(){return Je(o,r)}}};return{southeast:function(){return o(-e,t,["top","alignLeft"])},southwest:function(){return o(e,t,["top","alignRight"])},south:function(){return o(-e/2,t,["top","alignCentre"])},northeast:function(){return o(-e,-t,["bottom","alignLeft"])},northwest:function(){return o(e,-t,["bottom","alignRight"])},north:function(){return o(-e/2,-t,["bottom","alignCentre"])},east:function(){return o(e,-t/2,["valignCentre","left"])},west:function(){return o(-e,-t/2,["valignCentre","right"])},innerNorthwest:function(){return o(-e,t,["top","alignRight"])},innerNortheast:function(){return o(e,t,["top","alignLeft"])},innerNorth:function(){return o(-e/2,t,["top","alignCentre"])},innerSouthwest:function(){return o(-e,-t,["bottom","alignRight"])},innerSoutheast:function(){return o(e,-t,["bottom","alignLeft"])},innerSouth:function(){return o(-e/2,-t,["bottom","alignCentre"])},innerWest:function(){return o(e,-t/2,["valignCentre","right"])},innerEast:function(){return o(-e,-t/2,["valignCentre","left"])}}},Wf=function(){return $f(0,0,{})},Gf=function(e){return e},Kf=function(e,t){return function(n){return"rtl"===Yf(n)?t:e}},Yf=function(e){return"rtl"===mc(e,"direction")?"rtl":"ltr"};!function(e){e.TopToBottom="toptobottom",e.BottomToTop="bottomtotop"}(Rs||(Rs={}));var Xf,Jf="data-alloy-vertical-dir",Qf=function(e){return Ss(e,function(e){return ta(e)&&Ra(e,Jf)===Rs.BottomToTop})},Zf=function(){return Tr("layouts",[lr("onLtr"),lr("onRtl"),wr("onBottomLtr"),wr("onBottomRtl")])},ed=function(e,t,n,r,o,i,a){var u=a.map(Qf).getOr(!1),c=t.layouts.map(function(t){return t.onLtr(e)}),s=t.layouts.map(function(t){return t.onRtl(e)}),l=u?t.layouts.bind(function(t){return t.onBottomLtr.map(function(t){return t(e)})}).or(c).getOr(o):c.getOr(n),f=u?t.layouts.bind(function(t){return t.onBottomRtl.map(function(t){return t(e)})}).or(s).getOr(i):s.getOr(r);return Kf(l,f)(e)},td=function(e,t,n){var r=t.hotspot,o=bf(n,r.element()),i=ed(e.element(),t,Bl(),Ll(),Il(),zl(),ve.some(t.hotspot.element()));return ve.some(Gf({anchorBox:o,bubble:t.bubble.getOr(Wf()),overrides:t.overrides,layouts:i,placer:ve.none()}))},nd=[lr("hotspot"),wr("bubble"),Er("overrides",{}),Zf(),Qs("placement",td)],rd=function(e,t,n){var r=wf(n,t.x,t.y),o=vs(r.left(),r.top(),t.width,t.height),i=ed(e.element(),t,Ml(),Pl(),Ml(),Pl(),ve.none());return ve.some(Gf({anchorBox:o,bubble:t.bubble,overrides:t.overrides,layouts:i,placer:ve.none()}))},od=[lr("x"),lr("y"),Er("height",0),Er("width",0),Er("bubble",Wf()),Er("overrides",{}),Zf(),Qs("placement",rd)],id=function(e,t,n,r){return{start:ie(e),soffset:ie(t),finish:ie(n),foffset:ie(r)}},ad={create:id},ud=Lt.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),cd=function(e,t,n,r){return e.fold(t,n,r)},sd=function(e){return e.fold(ae,ae,ae)},ld=ud.before,fd=ud.on,dd=ud.after,md={before:ld,on:fd,after:dd,cata:cd,getStart:sd},pd=Lt.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),gd=function(e){return pd.exact(e.start(),e.soffset(),e.finish(),e.foffset())},hd=function(e){return e.match({domRange:function(e){return Vr.fromDom(e.startContainer)},relative:function(e,t){return md.getStart(e)},exact:function(e,t,n,r){return e}})},vd=pd.domRange,bd=pd.relative,yd=pd.exact,wd=function(e){var t=hd(e);return ca(t)},xd=ad.create,Cd={domRange:vd,relative:bd,exact:yd,exactFromRange:gd,getWin:wd,range:xd},kd=function(e,t){t.fold(function(t){e.setStartBefore(t.dom())},function(t,n){e.setStart(t.dom(),n)},function(t){e.setStartAfter(t.dom())})},Sd=function(e,t){t.fold(function(t){e.setEndBefore(t.dom())},function(t,n){e.setEnd(t.dom(),n)},function(t){e.setEndAfter(t.dom())})},Td=function(e,t,n){var r=e.document.createRange();return kd(r,t),Sd(r,n),r},Nd=function(e,t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},Ed=function(e){return{left:ie(e.left),top:ie(e.top),right:ie(e.right),bottom:ie(e.bottom),width:ie(e.width),height:ie(e.height)}},Od=function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?ve.some(n).map(Ed):ve.none()},_d=Lt.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ad=function(e,t,n){return t(Vr.fromDom(n.startContainer),n.startOffset,Vr.fromDom(n.endContainer),n.endOffset)},Dd=function(e,t){return t.match({domRange:function(e){return{ltr:ie(e),rtl:ve.none}},relative:function(t,n){return{ltr:$t(function(){return Td(e,t,n)}),rtl:$t(function(){return ve.some(Td(e,n,t))})}},exact:function(t,n,r,o){return{ltr:$t(function(){return Nd(e,t,n,r,o)}),rtl:$t(function(){return ve.some(Nd(e,r,o,t,n))})}}})},Rd=function(e,t){var n=t.ltr();if(n.collapsed){return t.rtl().filter(function(e){return!1===e.collapsed}).map(function(e){return _d.rtl(Vr.fromDom(e.endContainer),e.endOffset,Vr.fromDom(e.startContainer),e.startOffset)}).getOrThunk(function(){return Ad(0,_d.ltr,n)})}return Ad(0,_d.ltr,n)},Md=function(e,t){var n=Dd(e,t);return Rd(0,n)},Pd=function(e,t){return Md(e,t).match({ltr:function(t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},rtl:function(t,n,r,o){var i=e.document.createRange();return i.setStart(r.dom(),o),i.setEnd(t.dom(),n),i}})},Id=(_d.ltr,_d.rtl,function(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?ve.from(t.dom().nodeValue):ve.none()};return{get:n,getOption:r,set:function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r}}}(na,"text")),zd=function(e){return Id.get(e)},Bd=function(e){return Id.getOption(e)},Ld=function(e){return"img"===Qi(e)?1:Bd(e).fold(function(){return da(e).length},function(e){return e.length})},Hd=function(e){return Bd(e).filter(function(e){return 0!==e.trim().length||e.indexOf(" ")>-1}).isSome()},Fd=["img","br"],jd=function(e){return Hd(e)||ze(Fd,Qi(e))},Vd=function(e){return Ud(e,jd)},Ud=function(e,t){var n=function(e){for(var r=da(e),o=r.length-1;o>=0;o--){var i=r[o];if(t(i))return ve.some(i);var a=n(i);if(a.isSome())return a}return ve.none()};return n(e)},qd=function(e,t){return To(t,e)},$d=function(e,t,n,r){var o=ia(e),i=o.dom().createRange();return i.setStart(e.dom(),t),i.setEnd(n.dom(),r),i},Wd=function(e,t,n,r){var o=$d(e,t,n,r),i=Eo(e,n)&&t===r;return o.collapsed&&!i},Gd=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return ve.some(ad.create(Vr.fromDom(t.startContainer),t.startOffset,Vr.fromDom(n.endContainer),n.endOffset))}return ve.none()},Kd=function(e){var t=Vr.fromDom(e.anchorNode),n=Vr.fromDom(e.focusNode);return Wd(t,e.anchorOffset,n,e.focusOffset)?ve.some(ad.create(t,e.anchorOffset,n,e.focusOffset)):Gd(e)},Yd=function(e){return ve.from(e.getSelection()).filter(function(e){return e.rangeCount>0}).bind(Kd)},Xd=function(e,t){var n=Pd(e,t);return Od(n)},Jd=function(e,t){return{element:e,offset:t}},Qd=function(e,t){var n=da(e);if(0===n.length)return Jd(e,t);if(t<n.length)return Jd(n[t],0);var r=n[n.length-1],o=na(r)?zd(r).length:da(r).length;return Jd(r,o)},Zd=Lt.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),em=function(e){return e.fold(ae,function(e,t,n){return e.translate(-t,-n)})},tm=function(e){return e.fold(ae,ae)},nm=function(e){return We(e,function(e,t){return e.translate(t.left(),t.top())},jc(0,0))},rm=function(e){var t=Fe(e,em);return nm(t)},om=function(e){var t=Fe(e,tm);return nm(t)},im=Zd.screen,am=Zd.absolute,um=function(e,t,n){var r=ca(n.root).dom(),o=function(t){var n=ia(t),r=ia(e.element());return Eo(n,r)};return ve.from(r.frameElement).map(Vr.fromDom).filter(o).map(qc)},cm=function(e,t,n){var r=ia(e.element()),o=os(r),i=um(e,0,n).getOr(o);return am(i,o.left(),o.top())},sm=function(e,t,n,r){var o=e,i=t,a=n,u=r;e<0&&(o=0,a=n+e),t<0&&(i=0,u=r+t);var c=im(jc(o,i));return ve.some(gs(c,a,u))},lm=function(e,t,n,r,o){return e.map(function(e){var i=[t,e.point],a=xf(r,function(){return om(i)},function(){return om(i)},function(){return rm(i)}),u=hs(a.left(),a.top(),e.width,e.height),c=n.showAbove?Il():Bl(),s=(n.showAbove,Ll()),l=ed(o,n,c,s,c,s,ve.none());return Gf({anchorBox:u,bubble:n.bubble.getOr(Wf()),overrides:n.overrides,layouts:l,placer:ve.none()})})},fm=function(e,t){return{element:e,offset:t}},dm=function(e,t){return na(e)?fm(e,t):Qd(e,t)},mm=function(e,t){return t.getSelection.getOrThunk(function(){return function(){return Yd(e)}})().map(function(e){var t=dm(e.start(),e.soffset()),n=dm(e.finish(),e.foffset());return Cd.range(t.element,t.offset,n.element,n.offset)})},pm=function(e,t,n){var r=ca(t.root).dom(),o=cm(e,0,t),i=mm(r,t).bind(function(e){return Xd(r,Cd.exactFromRange(e)).orThunk(function(){var t=Vr.fromText("\ufeff");return ga(e.start(),t),Xd(r,Cd.exact(t,0,t,1)).map(function(e){return ka(t),e})}).bind(function(e){return sm(e.left(),e.top(),e.width(),e.height())})}),a=mm(r,t).bind(function(e){return ta(e.start())?ve.some(e.start()):sa(e.start())}),u=a.getOr(e.element());return lm(i,o,t,n,u)},gm=[wr("getSelection"),lr("root"),wr("bubble"),Zf(),Er("overrides",{}),Er("showAbove",!1),Qs("placement",pm)],hm=function(e,t,n){var r=cm(e,0,t);return t.node.bind(function(o){var i=o.dom().getBoundingClientRect(),a=sm(i.left,i.top,i.width,i.height),u=t.node.getOr(e.element());return lm(a,r,t,n,u)})},vm=[lr("node"),lr("root"),wr("bubble"),Zf(),Er("overrides",{}),Er("showAbove",!1),Qs("placement",hm)],bm=function(e){return e.x+e.width},ym=function(e,t){return e.x-t.width},wm=function(e,t){return e.y-t.height+e.height},xm=function(e){return e.y},Cm=function(e,t,n){return tl(bm(e),xm(e),n.southeast(),al(),gl(e,{left:0,top:2}),"link-layout-se")},km=function(e,t,n){return tl(ym(e,t),xm(e),n.southwest(),ul(),gl(e,{right:1,top:2}),"link-layout-sw")},Sm=function(e,t,n){return tl(bm(e),wm(e,t),n.northeast(),cl(),gl(e,{left:0,bottom:3}),"link-layout-ne")},Tm=function(e,t,n){return tl(ym(e,t),wm(e,t),n.northwest(),sl(),gl(e,{right:1,bottom:3}),"link-layout-nw")},Nm=function(){return[Cm,km,Sm,Tm]},Em=function(){return[km,Cm,Tm,Sm]},Om=function(e,t,n){var r=bf(n,t.item.element()),o=ed(e.element(),t,Nm(),Em(),Nm(),Em(),ve.none());return ve.some(Gf({anchorBox:r,bubble:Wf(),overrides:t.overrides,layouts:o,placer:ve.none()}))},_m=[lr("item"),Zf(),Er("overrides",{}),Qs("placement",Om)],Am=er("anchor",{selection:gm,node:vm,hotspot:nd,submenu:_m,makeshift:od}),Dm=function(){var e=t.document.documentElement;return kf(0,0,e.clientWidth,e.clientHeight)},Rm=function(e){var t=qc(e.element()),n=e.element().dom().getBoundingClientRect();return Cf(t.left(),t.top(),n.width,n.height)},Mm=function(e,t,n,r,o){var i=Tf(n.anchorBox,t);Vf(i,o.element(),n.bubble,n.layouts,r,n.overrides)},Pm=function(e,t,n,r,o){Im(e,t,n,r,o,ve.none())},Im=function(e,t,n,r,o,i){var a=i.map(bs);return zm(e,t,n,r,o,a)},zm=function(e,t,n,r,o,i){var a=Jn("positioning anchor.info",Am,r);df(function(){lc(o.element(),"position","fixed");var n=gc(o.element(),"visibility");lc(o.element(),"visibility","hidden");var r=t.useFixed()?Dm():Rm(e),u=a.placement,c=i.map(ie).or(t.getBounds);u(e,a,r).each(function(t){t.placer.getOr(Mm)(e,r,t,c,o)}),n.fold(function(){bc(o.element(),"visibility")},function(e){lc(o.element(),"visibility",e)}),gc(o.element(),"left").isNone()&&gc(o.element(),"top").isNone()&&gc(o.element(),"right").isNone()&&gc(o.element(),"bottom").isNone()&&gc(o.element(),"position").is("fixed")&&bc(o.element(),"position")},o.element())},Bm=function(e,t,n){return t.useFixed()?"fixed":"absolute"},Lm=Object.freeze({__proto__:null,position:Pm,positionWithin:Im,positionWithinBounds:zm,getMode:Bm}),Hm=[Er("useFixed",se),wr("getBounds")],Fm=Kl({fields:Hm,name:"positioning",active:of,apis:Lm}),jm=function(e){Ai(e,xi());var t=e.components();je(t,jm)},Vm=function(e){var t=e.components();je(t,Vm),Ai(e,wi())},Um=function(e,t){ba(e.element(),t.element())},qm=function(e){je(e.components(),function(e){return ka(e.element())}),Ca(e.element()),e.syncComponents()},$m=function(e,t){var n=e.components();qm(e);var r=et(n,t);je(r,function(t){jm(t),e.getSystem().removeFromWorld(t)}),je(t,function(t){t.getSystem().isConnected()?Um(e,t):(e.getSystem().addToWorld(t),Um(e,t),ic(e.element())&&Vm(t)),e.syncComponents()})},Wm=function(e,t){Gm(e,t,ba)},Gm=function(e,t,n){e.getSystem().addToWorld(t),n(e.element(),t.element()),ic(e.element())&&Vm(t),e.syncComponents()},Km=function(e){jm(e),ka(e.element()),e.getSystem().removeFromWorld(e)},Ym=function(e){var t=sa(e.element()).bind(function(t){return e.getSystem().getByDom(t).toOption()});Km(e),t.each(function(e){e.syncComponents()})},Xm=function(e){var t=e.components();je(t,Km),Ca(e.element()),e.syncComponents()},Jm=function(e,t){Zm(e,t,ba)},Qm=function(e,t){Zm(e,t,ha)},Zm=function(e,t,n){n(e,t.element());var r=da(t.element());je(r,function(e){t.getByDom(e).each(Vm)})},ep=function(e){var t=da(e.element());je(t,function(t){e.getByDom(t).each(jm)}),ka(e.element())},tp=function(e,t,n,r){n.get().each(function(t){Xm(e)});var o=t.getAttachPoint(e);Wm(o,e);var i=e.getSystem().build(r);return Wm(e,i),n.set(i),i},np=function(e,t,n,r){var o=tp(e,t,n,r);return t.onOpen(e,o),o},rp=function(e,t,n,r){return n.get().map(function(){return tp(e,t,n,r)})},op=function(e,t,n,r,o){fp(e,t),np(e,t,n,r),o(),mp(e,t)},ip=function(e,t,n){n.get().each(function(r){Xm(e),Ym(e),t.onClose(e,r),n.clear()})},ap=function(e,t,n){return n.isOpen()},up=function(e,t,n,r){return ap(0,0,n)&&n.get().exists(function(n){return t.isPartOf(e,n,r)})},cp=function(e,t,n){return n.get()},sp=function(e,t,n,r){gc(e.element(),t).fold(function(){Ia(e.element(),n)},function(t){Aa(e.element(),n,t)}),lc(e.element(),t,r)},lp=function(e,t,n){Ma(e.element(),n).fold(function(){return bc(e.element(),t)},function(n){return lc(e.element(),t,n)})},fp=function(e,t,n){var r=t.getAttachPoint(e);lc(e.element(),"position",Fm.getMode(r)),sp(e,"visibility",t.cloakVisibilityAttr,"hidden")},dp=function(e){return Be(["top","left","right","bottom"],function(t){return gc(e,t).isSome()})},mp=function(e,t,n){dp(e.element())||bc(e.element(),"position"),lp(e,"visibility",t.cloakVisibilityAttr)},pp=Object.freeze({__proto__:null,cloak:fp,decloak:mp,open:np,openWhileCloaked:op,close:ip,isOpen:ap,isPartOf:up,getState:cp,setContent:rp}),gp=function(e,t){return zi([Hi(mi(),function(n,r){ip(n,e,t)})])},hp=Object.freeze({__proto__:null,events:gp}),vp=[Ks("onOpen"),Ks("onClose"),lr("isPartOf"),lr("getAttachPoint"),Er("cloakVisibilityAttr","data-precloak-visibility")],bp=function(){var e=zr(ve.none()),t=ie("not-implemented"),n=function(){return e.get().isSome()},r=function(t){e.set(ve.some(t))},o=function(){return e.get()};return fu({readState:t,isOpen:n,clear:function(){e.set(ve.none())},set:r,get:o})},yp=Object.freeze({__proto__:null,init:bp}),wp=Kl({fields:vp,name:"sandboxing",active:hp,apis:pp,state:yp}),xp=ie("dismiss.popups"),Cp=ie("reposition.popups"),kp=ie("mouse.released"),Sp=Mn([Er("isExtraPart",ie(!1)),Tr("fireEventInstead",[Er("event",Ci())])]),Tp=function(e){var t,n=Jn("Dismissal",Sp,e);return t={},t[xp()]={schema:Mn([lr("target")]),onReceive:function(e,t){if(wp.isOpen(e)){wp.isPartOf(e,t.target)||n.isExtraPart(e,t.target)||n.fireEventInstead.fold(function(){return wp.close(e)},function(t){return Ai(e,t.event)})}}},t},Np=Mn([Tr("fireEventInstead",[Er("event",ki())]),gr("doReposition")]),Ep=function(e){var t,n=Jn("Reposition",Np,e);return t={},t[Cp()]={onReceive:function(e){wp.isOpen(e)&&n.fireEventInstead.fold(function(){return n.doReposition(e)},function(t){return Ai(e,t.event)})}},t},Op=function(e,t,n){t.store.manager.onLoad(e,t,n)},_p=function(e,t,n){t.store.manager.onUnload(e,t,n)},Ap=function(e,t,n,r){t.store.manager.setValue(e,t,n,r)},Dp=function(e,t,n){return t.store.manager.getValue(e,t,n)},Rp=function(e,t,n){return n},Mp=Object.freeze({__proto__:null,onLoad:Op,onUnload:_p,setValue:Ap,getValue:Dp,getState:Rp}),Pp=function(e,t){var n=e.resetOnDom?[Ki(function(n,r){Op(n,e,t)}),Yi(function(n,r){_p(n,e,t)})]:[Fl(e,t,Op)];return zi(n)},Ip=Object.freeze({__proto__:null,events:Pp}),zp=function(){var e=zr(null),t=function(){return{mode:"memory",value:e.get()}},n=function(){return null===e.get()},r=function(){e.set(null)};return fu({set:e.set,get:e.get,isNotSet:n,clear:r,readState:t})},Bp=function(){return fu({readState:function(){}})},Lp=function(){var e=zr({}),t=zr({}),n=function(){return{mode:"dataset",dataByValue:e.get(),dataByText:t.get()}},r=function(){e.set({}),t.set({})};return fu({readState:n,lookup:function(n){return Pt(e.get(),n).orThunk(function(){return Pt(t.get(),n)})},update:function(n){var r=e.get(),o=t.get(),i={},a={};je(n,function(e){i[e.value]=e,Pt(e,"meta").each(function(t){Pt(t,"text").each(function(t){a[t]=e})})}),e.set(de(de({},r),i)),t.set(de(de({},o),a))},clear:r})},Hp=function(e){return e.store.manager.state(e)},Fp=Object.freeze({__proto__:null,memory:zp,dataset:Lp,manual:Bp,init:Hp}),jp=function(e,t,n,r){var o=t.store;n.update([r]),o.setValue(e,r),t.onSetValue(e,r)},Vp=function(e,t,n){var r=t.store,o=r.getDataKey(e);return n.lookup(o).fold(function(){return r.getFallbackEntry(o)},function(e){return e})},Up=function(e,t,n){t.store.initialValue.each(function(r){jp(e,t,n,r)})},qp=function(e,t,n){n.clear()},$p=[wr("initialValue"),lr("getFallbackEntry"),lr("getDataKey"),lr("setValue"),Qs("manager",{setValue:jp,getValue:Vp,onLoad:Up,onUnload:qp,state:Lp})],Wp=function(e,t,n){return t.store.getValue(e)},Gp=function(e,t,n,r){t.store.setValue(e,r),t.onSetValue(e,r)},Kp=function(e,t,n){t.store.initialValue.each(function(n){t.store.setValue(e,n)})},Yp=[lr("getValue"),Er("setValue",te),wr("initialValue"),Qs("manager",{setValue:Gp,getValue:Wp,onLoad:Kp,onUnload:te,state:lu.init})],Xp=function(e,t,n,r){n.set(r),t.onSetValue(e,r)},Jp=function(e,t,n){return n.get()},Qp=function(e,t,n){t.store.initialValue.each(function(e){n.isNotSet()&&n.set(e)})},Zp=function(e,t,n){n.clear()},eg=[wr("initialValue"),Qs("manager",{setValue:Xp,getValue:Jp,onLoad:Qp,onUnload:Zp,state:zp})],tg=[Or("store",{mode:"memory"},er("mode",{memory:eg,manual:Yp,dataset:$p})),Ks("onSetValue"),Er("resetOnDom",!1)],ng=Kl({fields:tg,name:"representing",active:Ip,apis:Mp,extra:{setValueFrom:function(e,t){var n=ng.getValue(t);ng.setValue(e,n)}},state:Fp}),rg=function(e,t){return Pr(e,{},Fe(t,function(t){return hr(t.name(),"Cannot configure "+t.name()+" for "+e)}).concat([Ir("dump",ae)]))},og=function(e){return e.dump},ig=function(e,t){return de(de({},e.dump),Wl(t))},ag={field:rg,augment:ig,get:og},ug=Lt.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),cg=function(e){return It(e,"uiType")},sg=function(e,t,n,r){return e.exists(function(e){return e!==n.owner})?ug.single(!0,ie(n)):Pt(r,n.name).fold(function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+kt(r)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))},function(e){return e.replace()})},lg=function(e,t,n,r){return cg(n)&&"placeholder"===n.uiType?sg(e,0,n,r):ug.single(!1,ie(n))},fg=function(e,t,n,r){return lg(e,0,n,r).fold(function(o,i){var a=cg(n)?i(t,n.config,n.validated):i(t),u=Pt(a,"components").getOr([]),c=Je(u,function(n){return fg(e,t,n,r)});return[de(de({},a),{components:c})]},function(e,r){if(cg(n)){var o=r(t,n.config,n.validated);return n.validated.preprocess.getOr(ae)(o)}return r(t)})},dg=function(e,t,n,r){return Je(n,function(n){return fg(e,t,n,r)})},mg=function(e,t){var n=!1,r=function(){return n},o=function(){if(n)throw new Error("Trying to use the same placeholder more than once: "+e);return n=!0,t},i=function(){return t.fold(function(e,t){return e},function(e,t){return e})};return{name:ie(e),required:i,used:r,replace:o}},pg=function(e,t,n,r){var o=Nt(r,function(e,t){return mg(t,e)}),i=dg(e,t,n,o);return Tt(o,function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))}),i},gg=ug.single,hg=ug.multiple,vg=ie("placeholder"),bg=Lt.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),yg=Er("factory",{sketch:ae}),wg=Er("schema",[]),xg=lr("name"),Cg=Fn("pname","pname",Jt(function(e){return"<alloy."+qa(e.name)+">"}),tr()),kg=Ir("schema",function(){return[wr("preprocess")]}),Sg=Er("defaults",ie({})),Tg=Er("overrides",ie({})),Ng=Pn([yg,wg,xg,Cg,Sg,Tg]),Eg=Pn([yg,wg,xg,Sg,Tg]),Og=Pn([yg,wg,xg,Cg,Sg,Tg]),_g=Pn([yg,kg,xg,lr("unit"),Cg,Sg,Tg]),Ag=function(e){return e.fold(ve.some,ve.none,ve.some,ve.some)},Dg=function(e){var t=function(e){return e.name};return e.fold(t,t,t,t)},Rg=function(e){return e.fold(ae,ae,ae,ae)},Mg=function(e,t){return function(n){var r=Jn("Converting part type",t,n);return e(r)}},Pg=Mg(bg.required,Ng),Ig=Mg(bg.external,Eg),zg=Mg(bg.optional,Og),Bg=Mg(bg.group,_g),Lg=ie("entirety"),Hg=Object.freeze({__proto__:null,required:Pg,external:Ig,optional:zg,group:Bg,asNamedPart:Ag,name:Dg,asCommon:Rg,original:Lg}),Fg=function(e,t,n,r){return Ut(t.defaults(e,n,r),n,{uid:e.partUids[t.name]},t.overrides(e,n,r))},jg=function(e,t,n){var r={},o={};return je(n,function(e){e.fold(function(e){r[e.pname]=gg(!0,function(t,n,r){return e.factory.sketch(Fg(t,e,n,r))})},function(e){var n=t.parts[e.name];o[e.name]=ie(e.factory.sketch(Fg(t,e,n[Lg()]),n))},function(e){r[e.pname]=gg(!1,function(t,n,r){return e.factory.sketch(Fg(t,e,n,r))})},function(e){r[e.pname]=hg(!0,function(t,n,r){var o=t[e.name];return Fe(o,function(n){return e.factory.sketch(Ut(e.defaults(t,n,r),n,e.overrides(t,n)))})})})}),{internals:ie(r),externals:ie(o)}},Vg=function(e,t){var n={};return je(t,function(t){Ag(t).each(function(t){var r=Ug(e,t.pname);n[t.name]=function(n){var o=Jn("Part: "+t.name+" in "+e,Pn(t.schema),n);return de(de({},r),{config:n,validated:o})}})}),n},Ug=function(e,t){return{uiType:vg(),owner:e,name:t}},qg=function(e,t,n){return{uiType:vg(),owner:e,name:t,config:n,validated:{}}},$g=function(e){return Je(e,function(e){return e.fold(ve.none,ve.some,ve.none,ve.none).map(function(e){return vr(e.name,e.schema.concat([Zs(Lg())]))}).toArray()})},Wg=function(e){return Fe(e,Dg)},Gg=function(e,t,n){return jg(0,t,n)},Kg=function(e,t,n){return pg(ve.some(e),t,t.components,n)},Yg=function(e,t,n){var r=t.partUids[n];return e.getSystem().getByUid(r).toOption()},Xg=function(e,t,n){return Yg(e,t,n).getOrDie("Could not find part: "+n)},Jg=function(e,t,n){var r={},o=t.partUids,i=e.getSystem();return je(n,function(e){r[e]=ie(i.getByUid(o[e]))}),r},Qg=function(e,t){var n=e.getSystem();return Nt(t.partUids,function(e,t){return ie(n.getByUid(e))})},Zg=function(e){return kt(e.partUids)},eh=function(e,t,n){var r={},o=t.partUids,i=e.getSystem();return je(n,function(e){r[e]=ie(i.getByUid(o[e]).getOrDie())}),r},th=function(e,t){var n=Wg(t);return an(Fe(n,function(t){return{key:t,value:e+"-"+t}}))},nh=function(e){return Fn("partUids","partUids",Qt(function(t){return th(t.uid,e)}),tr())},rh=Object.freeze({__proto__:null,generate:Vg,generateOne:qg,schemas:$g,names:Wg,substitutes:Gg,components:Kg,defaultUids:th,defaultUidsSchema:nh,getAllParts:Qg,getAllPartNames:Zg,getPart:Yg,getPartOrDie:Xg,getParts:Jg,getPartsOrDie:eh}),oh=function(e,t){return(e.length>0?[vr("parts",e)]:[]).concat([lr("uid"),Er("dom",{}),Er("components",[]),Zs("originalSpec"),Er("debug.sketcher",{})]).concat(t)},ih=function(e,t,n,r,o){var i=oh(r,o);return Jn(e+" [SpecSchema]",Mn(i.concat(t)),n)},ah=function(e,t,n,r){var o=sh(r);return n(ih(e,t,o,[],[]),o)},uh=function(e,t,n,r,o){var i=sh(o),a=$g(n),u=nh(n),c=ih(e,t,i,a,[u]),s=Gg(0,c,n);return r(c,Kg(e,c,s.internals()),i,s.externals())},ch=function(e){return It(e,"uid")},sh=function(e){return ch(e)?e:de(de({},e),{uid:Qa("uid")})},lh=Mn([lr("name"),lr("factory"),lr("configFields"),Er("apis",{}),Er("extraApis",{})]),fh=Mn([lr("name"),lr("factory"),lr("configFields"),lr("partFields"),Er("apis",{}),Er("extraApis",{})]),dh=function(e){var t=Jn("Sketcher for "+e.name,lh,e),n=function(e){return ah(t.name,t.configFields,t.factory,e)},r=Nt(t.apis,su),o=Nt(t.extraApis,function(e,t){return ou(e,t)});return de(de({name:ie(t.name),configFields:ie(t.configFields),sketch:n},r),o)},mh=function(e){var t=Jn("Sketcher for "+e.name,fh,e),n=function(e){return uh(t.name,t.configFields,t.partFields,t.factory,e)},r=Vg(t.name,t.partFields),o=Nt(t.apis,su),i=Nt(t.extraApis,function(e,t){return ou(e,t)});return de(de({name:ie(t.name),partFields:ie(t.partFields),configFields:ie(t.configFields),sketch:n,parts:ie(r)},o),i)},ph=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},gh=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(!r.isSome())return ve.none();t.push(r.getOrDie())}return ve.some(t)},hh=function(e,t,n){return e.isSome()&&t.isSome()?ve.some(n(e.getOrDie(),t.getOrDie())):ve.none()},vh=function(e,t,n,r){return e.isSome()&&t.isSome()&&n.isSome()?ve.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):ve.none()},bh=function(e){return"input"===Qi(e)&&"radio"!==Ra(e,"type")||"textarea"===Qi(e)},yh=function(e,t,n){return t.find(e)},wh=Object.freeze({__proto__:null,getCurrent:yh}),xh=[lr("find")],Ch=Kl({fields:xh,name:"composing",apis:wh}),kh=function(e,t,n,r){var o=qd(e.element(),"."+t.highlightClass);je(o,function(n){Be(r,function(e){return e.element()===n})||($u(n,t.highlightClass),e.getSystem().getByDom(n).each(function(n){t.onDehighlight(e,n),Ai(n,_i())}))})},Sh=function(e,t,n){return kh(e,t,0,[])},Th=function(e,t,n,r){Dh(e,t,n,r)&&($u(r.element(),t.highlightClass),t.onDehighlight(e,r),Ai(r,_i()))},Nh=function(e,t,n,r){kh(e,t,0,[r]),Dh(e,t,n,r)||(Uu(r.element(),t.highlightClass),t.onHighlight(e,r),Ai(r,Oi()))},Eh=function(e,t,n){Ph(e,t).each(function(r){Nh(e,t,n,r)})},Oh=function(e,t,n){Ih(e,t).each(function(r){Nh(e,t,n,r)})},_h=function(e,t,n,r){Mh(e,t,n,r).fold(function(e){throw new Error(e)},function(r){Nh(e,t,n,r)})},Ah=function(e,t,n,r){var o=Hh(e,t);Ke(o,r).each(function(r){Nh(e,t,n,r)})},Dh=function(e,t,n,r){return Wu(r.element(),t.highlightClass)},Rh=function(e,t,n){return Ns(e.element(),"."+t.highlightClass).bind(function(t){return e.getSystem().getByDom(t).toOption()})},Mh=function(e,t,n,r){var o=qd(e.element(),"."+t.itemClass);return ve.from(o[r]).fold(function(){return lt.error("No element found with index "+r)},e.getSystem().getByDom)},Ph=function(e,t,n){return Ns(e.element(),"."+t.itemClass).bind(function(t){return e.getSystem().getByDom(t).toOption()})},Ih=function(e,t,n){var r=qd(e.element(),"."+t.itemClass);return(r.length>0?ve.some(r[r.length-1]):ve.none()).bind(function(t){return e.getSystem().getByDom(t).toOption()})},zh=function(e,t,n,r){var o=qd(e.element(),"."+t.itemClass);return Ye(o,function(e){return Wu(e,t.highlightClass)}).bind(function(t){var n=Nf(t,r,0,o.length-1);return e.getSystem().getByDom(o[n]).toOption()})},Bh=function(e,t,n){return zh(e,t,0,-1)},Lh=function(e,t,n){return zh(e,t,0,1)},Hh=function(e,t,n){var r=qd(e.element(),"."+t.itemClass);return ph(Fe(r,function(t){return e.getSystem().getByDom(t).toOption()}))},Fh=Object.freeze({__proto__:null,dehighlightAll:Sh,dehighlight:Th,highlight:Nh,highlightFirst:Eh,highlightLast:Oh,highlightAt:_h,highlightBy:Ah,isHighlighted:Dh,getHighlighted:Rh,getFirst:Ph,getLast:Ih,getPrevious:Bh,getNext:Lh,getCandidates:Hh}),jh=[lr("highlightClass"),lr("itemClass"),Ks("onHighlight"),Ks("onDehighlight")],Vh=Kl({fields:jh,name:"highlighting",apis:Fh}),Uh=function(){return[8]},qh=function(){return[9]},$h=function(){return[13]},Wh=function(){return[27]},Gh=function(){return[32]},Kh=function(){return[37]},Yh=function(){return[38]},Xh=function(){return[39]},Jh=function(){return[40]},Qh=function(e,t,n){var r=Ze(e.slice(0,t)),o=Ze(e.slice(t+1));return Ke(r.concat(o),n)},Zh=function(e,t,n){var r=Ze(e.slice(0,t));return Ke(r,n)},ev=function(e,t,n){var r=e.slice(0,t),o=e.slice(t+1);return Ke(o.concat(r),n)},tv=function(e,t,n){var r=e.slice(t+1);return Ke(r,n)},nv=function(e){return function(t){var n=t.raw();return ze(e,n.which)}},rv=function(e){return function(t){return Qe(e,function(e){return e(t)})}},ov=function(e){return!0===e.raw().shiftKey},iv=function(e){return!0===e.raw().ctrlKey},av=ue(ov),uv=function(e,t){return{matches:e,classification:t}},cv=function(e,t){return Ke(e,function(e){return e.matches(t)}).map(function(e){return e.classification})},sv=function(e,t,n){t.exists(function(e){return n.exists(function(t){return Eo(t,e)})})||Di(e,Si(),{prevFocus:t,newFocus:n})},lv=function(){var e=function(e){return ff(e.element())};return{get:e,set:function(t,n){var r=e(t);t.getSystem().triggerFocus(n,t.element());var o=e(t);sv(t,r,o)}}},fv=function(){var e=function(e){return Vh.getHighlighted(e).map(function(e){return e.element()})};return{get:e,set:function(t,n){var r=e(t);t.getSystem().getByDom(n).fold(te,function(e){Vh.highlight(t,e)});var o=e(t);sv(t,r,o)}}};!function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"}(Xf||(Xf={}));var dv,mv=function(e,t,n,r,o){var i=function(){return e.concat([Er("focusManager",lv()),Or("focusInside","onFocus",Wn(function(e){return ze(["onFocus","onEnterOrSpace","onApi"],e)?lt.value(e):lt.error("Invalid value for focusInside")})),Qs("handler",c),Qs("state",t),Qs("sendFocusIn",o)])},a=function(e,t,n,r,o){var i=n(e,t,r,o);return cv(i,t.event()).bind(function(n){return n(e,t,r,o)})},u=function(e,t){var i=e.focusInside!==Xf.OnFocusMode?ve.none():o(e).map(function(n){return Hi(ii(),function(r,o){n(r,e,t),o.stop()})}),u=function(n,r){var i=nv(Gh().concat($h()))(r.event());e.focusInside===Xf.OnEnterOrSpaceMode&&i&&Po(n,r)&&o(e).each(function(o){o(n,e,t),r.stop()})},c=[Hi(Jo(),function(r,o){a(r,o,n,e,t).fold(function(){u(r,o)},function(e){o.stop()})}),Hi(Qo(),function(n,o){a(n,o,r,e,t).each(function(e){o.stop()})})];return zi(i.toArray().concat(c))},c={schema:i,processKey:a,toEvents:u};return c},pv=function(e){var t=[wr("onEscape"),wr("onEnter"),Er("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Er("firstTabstop",0),Er("useTabstopAt",ie(!0)),wr("visibilitySelector")].concat([e]),r=function(e,t){var n=e.visibilitySelector.bind(function(e){return Es(t,e)}).getOr(t);return Bc(n)>0},o=function(e,t){var n=qd(e.element(),t.selector),o=qe(n,function(e){return r(t,e)});return ve.from(o[t.firstTabstop])},i=function(e,t){return t.focusManager.get(e).bind(function(e){return Es(e,t.selector)})},a=function(e,t){return r(e,t)&&e.useTabstopAt(t)},u=function(e,t,n){o(e,t).each(function(n){t.focusManager.set(e,n)})},c=function(e,t,n,r,o){return o(t,n,function(e){return a(r,e)}).fold(function(){return r.cyclic?ve.some(!0):ve.none()},function(t){return r.focusManager.set(e,t),ve.some(!0)})},s=function(e,t,r,o){var a=qd(e.element(),r.selector);return i(e,r).bind(function(t){return Ye(a,n(Eo,t)).bind(function(t){return c(e,a,t,r,o)})})},l=function(e,t,n){var r=n.cyclic?Qh:Zh;return s(e,0,n,r)},f=function(e,t,n){var r=n.cyclic?ev:tv;return s(e,0,n,r)},d=function(e,t,n){return n.onEnter.bind(function(n){return n(e,t)})},m=function(e,t,n){return n.onEscape.bind(function(n){return n(e,t)})},p=ie([uv(rv([ov,nv(qh())]),l),uv(nv(qh()),f),uv(nv(Wh()),m),uv(rv([av,nv($h())]),d)]),g=ie([]);return mv(t,lu.init,p,g,function(){return ve.some(u)})},gv=pv(Ir("cyclic",ie(!1))),hv=pv(Ir("cyclic",ie(!0))),vv=function(e,t,n){return Mi(e,n,si()),ve.some(!0)},bv=function(e,t,n){return bh(n)&&nv(Gh())(t.event())?ve.none():vv(e,0,n)},yv=function(e,t){return ve.some(!0)},wv=[Er("execute",bv),Er("useSpace",!1),Er("useEnter",!0),Er("useControlEnter",!1),Er("useDown",!1)],xv=function(e,t,n){return n.execute(e,t,e.element())},Cv=function(e,t,n,r){var o=n.useSpace&&!bh(e.element())?Gh():[],i=n.useEnter?$h():[],a=n.useDown?Jh():[],u=o.concat(i).concat(a);return[uv(nv(u),xv)].concat(n.useControlEnter?[uv(rv([iv,nv($h())]),xv)]:[])},kv=function(e,t,n,r){return n.useSpace&&!bh(e.element())?[uv(nv(Gh()),yv)]:[]},Sv=mv(wv,lu.init,Cv,kv,function(){return ve.none()}),Tv=function(){var e=zr(ve.none()),t=function(t,n){e.set(ve.some({numRows:t,numColumns:n}))},n=function(){return e.get().map(function(e){return e.numRows})},r=function(){return e.get().map(function(e){return e.numColumns})};return fu({readState:function(){return e.get().map(function(e){return{numRows:String(e.numRows),numColumns:String(e.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:t,getNumRows:n,getNumColumns:r})},Nv=function(e){return e.state(e)},Ev=Object.freeze({__proto__:null,flatgrid:Tv,init:Nv}),Ov=function(e){return function(t,n,r,o){var i=e(t.element());return Rv(i,t,n,r,o)}},_v=function(e,t){var n=Kf(e,t);return Ov(n)},Av=function(e,t){var n=Kf(t,e);return Ov(n)},Dv=function(e){return function(t,n,r,o){return Rv(e,t,n,r,o)}},Rv=function(e,t,n,r,o){return r.focusManager.get(t).bind(function(n){return e(t.element(),n,r,o)}).map(function(e){return r.focusManager.set(t,e),!0})},Mv=Dv,Pv=Dv,Iv=Dv,zv=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Bv=function(e){return!zv(e.dom())},Lv=function(e,t){return Ye(e,t).map(function(t){return{index:ie(t),candidates:ie(e)}})},Hv=function(e,t,n){var r=function(e){return Eo(e,t)},o=qd(e,n),i=qe(o,Bv);return Lv(i,r)},Fv=function(e,t){return Ye(e,function(e){return Eo(t,e)})},jv=function(e,t,n,r){return r(Math.floor(t/n),t%n).bind(function(t){var r=t.row()*n+t.column();return r>=0&&r<e.length?ve.some(e[r]):ve.none()})},Vv=function(e,t,n,r,o){return jv(e,t,r,function(t,i){var a=t===n-1,u=a?e.length-t*r:r,c=Nf(i,o,0,u-1);return ve.some({row:ie(t),column:ie(c)})})},Uv=function(e,t,n,r,o){return jv(e,t,r,function(t,i){var a=Nf(t,o,0,n-1),u=a===n-1,c=u?e.length-a*r:r,s=Ef(i,0,c-1);return ve.some({row:ie(a),column:ie(s)})})},qv=function(e,t,n,r){return Vv(e,t,n,r,1)},$v=function(e,t,n,r){return Vv(e,t,n,r,-1)},Wv=function(e,t,n,r){return Uv(e,t,n,r,-1)},Gv=function(e,t,n,r){return Uv(e,t,n,r,1)},Kv=[lr("selector"),Er("execute",bv),Ys("onEscape"),Er("captureTab",!1),el()],Yv=function(e,t,n){Ns(e.element(),t.selector).each(function(n){t.focusManager.set(e,n)})},Xv=function(e,t){return t.focusManager.get(e).bind(function(e){return Es(e,t.selector)})},Jv=function(e,t,n,r){return Xv(e,n).bind(function(r){return n.execute(e,t,r)})},Qv=function(e){return function(t,n,r,o){return Hv(t,n,r.selector).bind(function(t){return e(t.candidates(),t.index(),o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))})}},Zv=function(e,t,n){return n.captureTab?ve.some(!0):ve.none()},eb=function(e,t,n){return n.onEscape(e,t)},tb=Qv($v),nb=Qv(qv),rb=Qv(Wv),ob=Qv(Gv),ib=ie([uv(nv(Kh()),_v(tb,nb)),uv(nv(Xh()),Av(tb,nb)),uv(nv(Yh()),Mv(rb)),uv(nv(Jh()),Pv(ob)),uv(rv([ov,nv(qh())]),Zv),uv(rv([av,nv(qh())]),Zv),uv(nv(Wh()),eb),uv(nv(Gh().concat($h())),Jv)]),ab=ie([uv(nv(Gh()),yv)]),ub=mv(Kv,Tv,ib,ab,function(){return ve.some(Yv)}),cb=function(e,t,n,r){var o=function(e){return"button"===Qi(e)&&"disabled"===Ra(e,"disabled")},i=function(e,t,n){var a=Nf(t,r,0,n.length-1);return a===e?ve.none():o(n[a])?i(e,a,n):ve.from(n[a])};return Hv(e,n,t).bind(function(e){var t=e.index(),n=e.candidates();return i(t,t,n)})},sb=[lr("selector"),Er("getInitial",ve.none),Er("execute",bv),Ys("onEscape"),Er("executeOnMove",!1),Er("allowVertical",!0)],lb=function(e,t){return t.focusManager.get(e).bind(function(e){return Es(e,t.selector)})},fb=function(e,t,n){return lb(e,n).bind(function(r){return n.execute(e,t,r)})},db=function(e,t,n){t.getInitial(e).orThunk(function(){return Ns(e.element(),t.selector)}).each(function(n){t.focusManager.set(e,n)})},mb=function(e,t,n){return cb(e,n.selector,t,-1)},pb=function(e,t,n){return cb(e,n.selector,t,1)},gb=function(e){return function(t,n,r,o){return e(t,n,r,o).bind(function(){return r.executeOnMove?fb(t,n,r):ve.some(!0)})}},hb=function(e,t,n){return n.onEscape(e,t)},vb=function(e,t,n,r){var o=Kh().concat(n.allowVertical?Yh():[]),i=Xh().concat(n.allowVertical?Jh():[]);return[uv(nv(o),gb(_v(mb,pb))),uv(nv(i),gb(Av(mb,pb))),uv(nv($h()),fb),uv(nv(Gh()),fb),uv(nv(Wh()),hb)]},bb=ie([uv(nv(Gh()),yv)]),yb=mv(sb,lu.init,vb,bb,function(){return ve.some(db)}),wb=function(e,t,n){return ve.from(e[t]).bind(function(e){return ve.from(e[n]).map(function(e){return{rowIndex:t,columnIndex:n,cell:e}})})},xb=function(e,t,n,r){var o=e[t],i=o.length,a=Nf(n,r,0,i-1);return wb(e,t,a)},Cb=function(e,t,n,r){var o=Nf(n,r,0,e.length-1),i=e[o].length,a=Ef(t,0,i-1);return wb(e,o,a)},kb=function(e,t,n,r){var o=e[t],i=o.length,a=Ef(n+r,0,i-1);return wb(e,t,a)},Sb=function(e,t,n,r){var o=Ef(n+r,0,e.length-1),i=e[o].length,a=Ef(t,0,i-1);return wb(e,o,a)},Tb=function(e,t,n){return xb(e,t,n,1)},Nb=function(e,t,n){return xb(e,t,n,-1)},Eb=function(e,t,n){return Cb(e,n,t,-1)},Ob=function(e,t,n){return Cb(e,n,t,1)},_b=function(e,t,n){return kb(e,t,n,-1)},Ab=function(e,t,n){return kb(e,t,n,1)},Db=function(e,t,n){return Sb(e,n,t,-1)},Rb=function(e,t,n){return Sb(e,n,t,1)},Mb=[vr("selectors",[lr("row"),lr("cell")]),Er("cycles",!0),Er("previousSelector",ve.none),Er("execute",bv)],Pb=function(e,t,n){t.previousSelector(e).orThunk(function(){var n=t.selectors;return Ns(e.element(),n.cell)}).each(function(n){t.focusManager.set(e,n)})},Ib=function(e,t,n){return ff(e.element()).bind(function(r){return n.execute(e,t,r)})},zb=function(e,t){return Fe(e,function(e){return qd(e,t.selectors.cell)})},Bb=function(e,t){return function(n,r,o){var i=o.cycles?e:t;return Es(r,o.selectors.row).bind(function(e){var t=qd(e,o.selectors.cell);return Fv(t,r).bind(function(t){var r=qd(n,o.selectors.row);return Fv(r,e).bind(function(e){var n=zb(r,o);return i(n,e,t).map(function(e){return e.cell})})})})}},Lb=Bb(Nb,_b),Hb=Bb(Tb,Ab),Fb=Bb(Eb,Db),jb=Bb(Ob,Rb),Vb=ie([uv(nv(Kh()),_v(Lb,Hb)),uv(nv(Xh()),Av(Lb,Hb)),uv(nv(Yh()),Mv(Fb)),uv(nv(Jh()),Pv(jb)),uv(nv(Gh().concat($h())),Ib)]),Ub=ie([uv(nv(Gh()),yv)]),qb=mv(Mb,lu.init,Vb,Ub,function(){return ve.some(Pb)}),$b=[lr("selector"),Er("execute",bv),Er("moveOnTab",!1)],Wb=function(e,t,n){return n.focusManager.get(e).bind(function(r){return n.execute(e,t,r)})},Gb=function(e,t,n){Ns(e.element(),t.selector).each(function(n){t.focusManager.set(e,n)})},Kb=function(e,t,n){return cb(e,n.selector,t,-1)},Yb=function(e,t,n){return cb(e,n.selector,t,1)},Xb=function(e,t,n,r){return n.moveOnTab?Iv(Kb)(e,t,n,r):ve.none()},Jb=function(e,t,n,r){return n.moveOnTab?Iv(Yb)(e,t,n,r):ve.none()},Qb=ie([uv(nv(Yh()),Iv(Kb)),uv(nv(Jh()),Iv(Yb)),uv(rv([ov,nv(qh())]),Xb),uv(rv([av,nv(qh())]),Jb),uv(nv($h()),Wb),uv(nv(Gh()),Wb)]),Zb=ie([uv(nv(Gh()),yv)]),ey=mv($b,lu.init,Qb,Zb,function(){return ve.some(Gb)}),ty=[Ys("onSpace"),Ys("onEnter"),Ys("onShiftEnter"),Ys("onLeft"),Ys("onRight"),Ys("onTab"),Ys("onShiftTab"),Ys("onUp"),Ys("onDown"),Ys("onEscape"),Er("stopSpaceKeyup",!1),wr("focusIn")],ny=function(e,t,n){return[uv(nv(Gh()),n.onSpace),uv(rv([av,nv($h())]),n.onEnter),uv(rv([ov,nv($h())]),n.onShiftEnter),uv(rv([ov,nv(qh())]),n.onShiftTab),uv(rv([av,nv(qh())]),n.onTab),uv(nv(Yh()),n.onUp),uv(nv(Jh()),n.onDown),uv(nv(Kh()),n.onLeft),uv(nv(Xh()),n.onRight),uv(nv(Gh()),n.onSpace),uv(nv(Wh()),n.onEscape)]},ry=function(e,t,n){return n.stopSpaceKeyup?[uv(nv(Gh()),yv)]:[]},oy=mv(ty,lu.init,ny,ry,function(e){return e.focusIn}),iy=gv.schema(),ay=hv.schema(),uy=yb.schema(),cy=ub.schema(),sy=qb.schema(),ly=Sv.schema(),fy=ey.schema(),dy=oy.schema(),my=Object.freeze({__proto__:null,acyclic:iy,cyclic:ay,flow:uy,flatgrid:cy,matrix:sy,execution:ly,menu:fy,special:dy}),py=function(e){return zt(e,"setGridSize")},gy=Xl({branchKey:"mode",branches:my,name:"keying",active:{events:function(e,t){return e.handler.toEvents(e,t)}},apis:{focusIn:function(e,t,n){t.sendFocusIn(t).fold(function(){e.getSystem().triggerFocus(e.element(),e.element())},function(r){r(e,t,n)})},setGridSize:function(e,n,r,o,i){py(r)?r.setGridSize(o,i):t.console.error("Layout does not support setGridSize")}},state:Ev}),hy=function(e,t,n,r){df(function(){var t=Fe(r,e.getSystem().build);$m(e,t)},e.element())},vy=function(e,t,n,r){var o=e.getSystem().build(r);Gm(e,o,n)},by=function(e,t,n,r){vy(e,0,ba,r)},yy=function(e,t,n,r){vy(e,0,va,r)},wy=function(e,t,n,r){var o=xy(e);Ke(o,function(e){return Eo(r.element(),e.element())}).each(Ym)},xy=function(e,t){return e.components()},Cy=function(e,t,n,r,o){var i=xy(e);return ve.from(i[r]).map(function(t){return wy(e,0,0,t),o.each(function(t){vy(e,0,function(e,t){ya(e,t,r)},t)}),t})},ky=function(e,t,n,r,o){var i=xy(e);return Ye(i,r).bind(function(t){return Cy(e,0,0,t,o)})},Sy=Object.freeze({__proto__:null,append:by,prepend:yy,remove:wy,replaceAt:Cy,replaceBy:ky,set:hy,contents:xy}),Ty=Kl({fields:[],name:"replacing",apis:Sy}),Ny=function(e,t){var n=zi(t);return Kl({fields:[lr("enabled")],name:e,active:{events:ie(n)}})},Ey=function(e,t){return{key:e,value:{config:{},me:Ny(e,t),configAsRaw:ie({}),initialConfig:{},state:lu}}},Oy=function(e,t){t.ignore||(uf(e.element()),t.onFocus(e))},_y=function(e,t){t.ignore||cf(e.element())},Ay=function(e){return sf(e.element())},Dy=Object.freeze({__proto__:null,focus:Oy,blur:_y,isFocused:Ay}),Ry=function(e,t){var n=t.ignore?{}:{attributes:{tabindex:"-1"}};return hu(n)},My=function(e){return zi([Hi(ii(),function(t,n){Oy(t,e),n.stop()})].concat(e.stopMousedown?[Hi(qo(),function(e,t){t.event().prevent()})]:[]))},Py=Object.freeze({__proto__:null,exhibit:Ry,events:My}),Iy=[Ks("onFocus"),Er("stopMousedown",!1),Er("ignore",!1)],zy=Kl({fields:Iy,name:"focusing",active:Py,apis:Dy}),By=function(e,t,n){var r=t.aria;r.update(e,r,n.get())},Ly=function(e,t,n){t.toggleClass.each(function(t){n.get()?Uu(e.element(),t):$u(e.element(),t)})},Hy=function(e,t,n){Vy(e,t,n,!n.get())},Fy=function(e,t,n){n.set(!0),Ly(e,t,n),By(e,t,n)},jy=function(e,t,n){n.set(!1),Ly(e,t,n),By(e,t,n)},Vy=function(e,t,n,r){(r?Fy:jy)(e,t,n)},Uy=function(e,t,n){return n.get()},qy=function(e,t,n){Vy(e,t,n,t.selected)},$y=Object.freeze({__proto__:null,onLoad:qy,toggle:Hy,isOn:Uy,on:Fy,off:jy,set:Vy}),Wy=function(){return hu({})},Gy=function(e,t){var n=Hl(e,t,Hy),r=Fl(e,t,qy);return zi(Xe([e.toggleOnExecute?[n]:[],[r]]))},Ky=Object.freeze({__proto__:null,exhibit:Wy,events:Gy}),Yy=function(e,t,n){Aa(e.element(),"aria-pressed",n),t.syncWithExpanded&&Qy(e,t,n)},Xy=function(e,t,n){Aa(e.element(),"aria-selected",n)},Jy=function(e,t,n){Aa(e.element(),"aria-checked",n)},Qy=function(e,t,n){Aa(e.element(),"aria-expanded",n)},Zy=[Er("selected",!1),wr("toggleClass"),Er("toggleOnExecute",!0),Or("aria",{mode:"none"},er("mode",{pressed:[Er("syncWithExpanded",!1),Qs("update",Yy)],checked:[Qs("update",Jy)],expanded:[Qs("update",Qy)],selected:[Qs("update",Xy)],none:[Qs("update",te)]}))],ew=Kl({fields:Zy,name:"toggling",active:Ky,apis:$y,state:function(e){return{init:function(){var t=zr(e);return{get:function(){return t.get()},set:function(e){return t.set(e)},clear:function(){return t.set(e)},readState:function(){return t.get()}}}}}(!1)}),tw=function(){var e=function(e,t){t.stop(),Ri(e)};return[Hi(ti(),e),Hi(fi(),e),$i(Fo()),$i(qo())]},nw=function(e){var t=function(e){return Ji(function(t,n){e(t),n.stop()})};return zi(Xe([e.map(t).toArray(),tw()]))},rw=function(e){(ff(e.element()).isNone()||zy.isFocused(e))&&(zy.isFocused(e)||zy.focus(e),Di(e,"alloy.item-hover",{item:e}))},ow=function(e){Di(e,"alloy.item-focus",{item:e})},iw=ie("alloy.item-hover"),aw=ie("alloy.item-focus"),uw=function(e){return{dom:e.dom,domModification:de(de({},e.domModification),{attributes:de(de(de({role:e.toggling.isSome()?"menuitemcheckbox":"menuitem"},e.domModification.attributes),{"aria-haspopup":e.hasSubmenu}),e.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:ag.augment(e.itemBehaviours,[e.toggling.fold(ew.revoke,function(e){return ew.config(de({aria:{mode:"checked"}},e))}),zy.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:function(e){ow(e)}}),gy.config({mode:"execution"}),ng.config({store:{mode:"memory",initialValue:e.data}}),Ey("item-type-events",o(tw(),[Hi(Ko(),rw),Hi(li(),zy.focus)]))]),components:e.components,eventOrder:e.eventOrder}},cw=[lr("data"),lr("components"),lr("dom"),Er("hasSubmenu",!1),wr("toggling"),ag.field("itemBehaviours",[ew,zy,gy,ng]),Er("ignoreFocus",!1),Er("domModification",{}),Qs("builder",uw),Er("eventOrder",{})],sw=function(e){return{dom:e.dom,components:e.components,events:zi([Wi(li())])}},lw=[lr("dom"),lr("components"),Qs("builder",sw)],fw=ie([Pg({name:"widget",overrides:function(e){return{behaviours:Wl([ng.config({store:{mode:"manual",getValue:function(t){return e.data},setValue:function(){}}})])}}})]),dw=function(e){var t=Gg(0,e,fw()),n=Kg("item-widget",e,t.internals()),r=function(t){return Yg(t,e,"widget").map(function(e){return gy.focusIn(e),e})},o=function(t,n){return bh(n.event().target())?ve.none():function(){return e.autofocus?(n.setSource(t.element()),ve.none()):ve.none()}()};return{dom:e.dom,components:n,domModification:e.domModification,events:zi([Ji(function(e,t){r(e).each(function(e){t.stop()})}),Hi(Ko(),rw),Hi(li(),function(t,n){e.autofocus?r(t):zy.focus(t)})]),behaviours:ag.augment(e.widgetBehaviours,[ng.config({store:{mode:"memory",initialValue:e.data}}),zy.config({ignore:e.ignoreFocus,onFocus:function(e){ow(e)}}),gy.config({mode:"special",focusIn:e.autofocus?function(e){r(e)}:Jl(),onLeft:o,onRight:o,onEscape:function(t,n){return zy.isFocused(t)||e.autofocus?e.autofocus?(n.setSource(t.element()),ve.none()):ve.none():(zy.focus(t),ve.some(!0))}})])}},mw=[lr("uid"),lr("data"),lr("components"),lr("dom"),Er("autofocus",!1),Er("ignoreFocus",!1),ag.field("widgetBehaviours",[ng,zy,gy]),Er("domModification",{}),nh(fw()),Qs("builder",dw)],pw=er("type",{widget:mw,item:cw,separator:lw}),gw=function(e,t){return{mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}},hw=function(e,t){return{mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},focusManager:e.focusManager}},vw=function(e,t){return{mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}},bw=ie([Bg({factory:{sketch:function(e){var t=Jn("menu.spec item",pw,e);return t.builder(t)}},name:"items",unit:"item",defaults:function(e,t){return t.hasOwnProperty("uid")?t:de(de({},t),{uid:Qa("item")})},overrides:function(e,t){return{type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}}}})]),yw=ie([lr("value"),lr("items"),lr("dom"),lr("components"),Er("eventOrder",{}),rg("menuBehaviours",[Vh,ng,Ch,gy]),Or("movement",{mode:"menu",moveOnTab:!0},er("mode",{grid:[el(),Qs("config",gw)],matrix:[Qs("config",hw),lr("rowSelector")],menu:[Er("moveOnTab",!0),Qs("config",vw)]})),function(){return fr("markers",Us())}(),Er("fakeFocus",!1),Er("focusManager",lv()),Ks("onHighlight")]),ww=ie("alloy.menu-focus"),xw=function(e,t,n,r){return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:ig(e.menuBehaviours,[Vh.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight}),ng.config({store:{mode:"memory",initialValue:e.value}}),Ch.config({find:ve.some}),gy.config(e.movement.config(e,e.movement))]),events:zi([Hi(aw(),function(e,t){var n=t.event();e.getSystem().getByDom(n.target()).each(function(n){Vh.highlight(e,n),t.stop(),Di(e,ww(),{menu:e,item:n})})}),Hi(iw(),function(e,t){var n=t.event().item();Vh.highlight(e,n)})]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}}},Cw=mh({name:"Menu",configFields:yw(),partFields:bw(),factory:xw}),kw=function(e){return Et(e,function(e,t){return{k:e,v:t}})},Sw=function(e,t,n,r){return Pt(n,r).bind(function(r){return Pt(e,r).bind(function(r){var o=Sw(e,t,n,r);return ve.some([r].concat(o))})}).getOr([])},Tw=function(e,t){var n={};Tt(e,function(e,t){je(e,function(e){n[e]=t})});var r=t,o=kw(t),i=Nt(o,function(e,t){return[t].concat(Sw(n,r,o,t))});return Nt(n,function(e){return Pt(i,e).getOr([e])})},Nw=function(){var e=zr({}),t=zr({}),n=zr({}),r=zr(ve.none()),o=zr({}),i=function(){e.set({}),t.set({}),n.set({}),r.set(ve.none())},a=function(){return r.get().isNone()},u=function(e,n){var r;t.set(de(de({},t.get()),(r={},r[e]={type:"prepared",menu:n},r)))},c=function(i,a,u,c){r.set(ve.some(i)),e.set(u),t.set(a),o.set(c);var s=Tw(c,u);n.set(s)},s=function(t){return Rt(e.get(),function(e,n){return e===t})},l=function(e,t,n){return g(e).bind(function(r){return s(e).bind(function(e){return t(e).map(function(e){return{triggeredMenu:r,triggeringItem:e,triggeringPath:n}})})})},f=function(e,t){var o=qe(v(e).toArray(),function(e){return g(e).isSome()});return Pt(n.get(),e).bind(function(e){var n=Ze(o.concat(e)),i=Je(n,function(e,o){return l(e,t,n.slice(0,o+1)).fold(function(){return r.get().is(e)?[]:[ve.none()]},function(e){return[ve.some(e)]})});return gh(i)})},d=function(t){return Pt(e.get(),t).map(function(e){return[e].concat(Pt(n.get(),t).getOr([]))})},m=function(e){return Pt(n.get(),e).bind(function(e){return e.length>1?ve.some(e.slice(1)):ve.none()})},p=function(e){return Pt(n.get(),e)},g=function(e){return h(e).bind(Ew)},h=function(e){return Pt(t.get(),e)},v=function(t){return Pt(e.get(),t)};return{setMenuBuilt:u,setContents:c,expand:d,refresh:p,collapse:m,lookupMenu:h,lookupItem:v,otherMenus:function(e){var t=o.get();return et(kt(t),e)},getPrimary:function(){return r.get().bind(g)},getMenus:function(){return t.get()},clear:i,isClear:a,getTriggeringPath:f}},Ew=function(e){return"prepared"===e.type?ve.some(e.menu):ve.none()},Ow={init:Nw,extractPreparedMenu:Ew},_w=function(e,t){var n,r=zr(ve.none()),o=function(t,n,r){return Nt(r,function(r,o){var i=function(){return Cw.sketch(de(de({},r),{value:o,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:e.onHighlight,focusManager:e.fakeFocus?fv():lv()}))};return o===n?{type:"prepared",menu:t.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}})},i=Ow.init(),a=function(t){var n=o(t,e.data.primary,e.data.menus),r=s();return i.setContents(e.data.primary,n,e.data.expansions,r),i.getPrimary()},u=function(e){return ng.getValue(e).value},c=function(e,t,n){return at(t,function(e){if(!e.getSystem().isConnected())return ve.none();var t=Vh.getCandidates(e);return Ke(t,function(e){return u(e)===n})})},s=function(t){return Nt(e.data.menus,function(e,t){return Je(e.items,function(e){return"separator"===e.type?[]:[e.data.value]})})},l=function(e,t){Vh.highlight(e,t),Vh.getHighlighted(t).orThunk(function(){return Vh.getFirst(t)}).each(function(t){Mi(e,t.element(),li())})},f=function(e,t){return ph(Fe(t,function(t){return e.lookupMenu(t).bind(function(e){return"prepared"===e.type?ve.some(e.menu):ve.none()})}))},d=function(t,n,r){var o=f(n,n.otherMenus(r));je(o,function(n){Ku(n.element(),[e.markers.backgroundMenu]),e.stayInDom||Ty.remove(t,n)})},m=function(t){return r.get().getOrThunk(function(){var n={},o=qd(t.element(),"."+e.markers.item),i=qe(o,function(e){return"true"===Ra(e,"aria-haspopup")});return je(i,function(e){t.getSystem().getByDom(e).each(function(e){var t=u(e);n[t]=e})}),r.set(ve.some(n)),n})},p=function(e,t){var n=m(e);Tt(n,function(e,n){var r=ze(t,n);Aa(e.element(),"aria-expanded",r)})},g=function(t,n,r){return ve.from(r[0]).bind(function(o){return n.lookupMenu(o).bind(function(o){if("notbuilt"===o.type)return ve.none();var i=o.menu,a=f(n,r.slice(1));return je(a,function(t){Uu(t.element(),e.markers.backgroundMenu)}),ic(i.element())||Ty.append(t,Ic(i)),Ku(i.element(),[e.markers.backgroundMenu]),l(t,i),d(t,n,r),ve.some(i)})})};!function(e){e[e.HighlightSubmenu=0]="HighlightSubmenu",e[e.HighlightParent=1]="HighlightParent"}(n||(n={}));var h=function(e,t,n){if("notbuilt"===n.type){var r=e.getSystem().build(n.nbMenu());return i.setMenuBuilt(t,r),r}return n.menu},v=function(t,r,o){void 0===o&&(o=n.HighlightSubmenu);var a=u(r);return i.expand(a).bind(function(a){return p(t,a),ve.from(a[0]).bind(function(u){return i.lookupMenu(u).bind(function(c){var s=h(t,u,c);return ic(s.element())||Ty.append(t,Ic(s)),e.onOpenSubmenu(t,r,s,Ze(a)),o===n.HighlightSubmenu?(Vh.highlightFirst(s),g(t,i,a)):(Vh.dehighlightAll(s),ve.some(r))})})})},b=function(t,n){var r=u(n);return i.collapse(r).bind(function(r){return p(t,r),g(t,i,r).map(function(r){return e.onCollapseMenu(t,n,r),r})})},y=function(e,t){var n=u(t);return i.refresh(n).bind(function(t){return p(e,t),g(e,i,t)})},w=function(e,t){return bh(t.element())?ve.none():v(e,t,n.HighlightSubmenu)},x=function(e,t){return bh(t.element())?ve.none():b(e,t)},C=function(t,n){return b(t,n).orThunk(function(){return e.onEscape(t,n).map(function(){return t})})},k=function(t){return function(n,r){return Es(r.getSource(),"."+e.markers.item).bind(function(e){return n.getSystem().getByDom(e).toOption().bind(function(e){return t(n,e).map(function(){return!0})})})}},S=zi([Hi(ww(),function(e,t){var n=t.event().item();i.lookupItem(u(n)).each(function(){var n=t.event().menu();Vh.highlight(e,n);var r=u(t.event().item());i.refresh(r).each(function(t){return d(e,i,t)})})}),Ji(function(t,r){var o=r.event().target();t.getSystem().getByDom(o).each(function(r){0===u(r).indexOf("collapse-item")&&b(t,r),v(t,r,n.HighlightSubmenu).fold(function(){e.onExecute(t,r)},function(){})})}),Ki(function(t,n){a(t).each(function(n){Ty.append(t,Ic(n)),e.onOpenMenu(t,n),e.highlightImmediately&&l(t,n)})})].concat(e.navigateOnHover?[Hi(iw(),function(t,r){var o=r.event().item();y(t,o),v(t,o,n.HighlightParent),e.onHover(t,o)})]:[])),T=function(e){return Vh.getHighlighted(e).bind(Vh.getHighlighted)},N=function(e){T(e).each(function(t){b(e,t)})},E=function(e){i.getPrimary().each(function(t){l(e,t)})},O=function(e){return ve.from(e.components()[0]).filter(function(e){return"menu"===Ra(e.element(),"role")})},_=function(t){i.getPrimary().bind(function(e){return T(t).bind(function(e){var t=u(e),n=Mt(i.getMenus()),r=ph(Fe(n,Ow.extractPreparedMenu));return i.getTriggeringPath(t,function(e){return c(0,r,e)})}).map(function(t){return{primary:e,triggeringPath:t}})}).fold(function(){O(t).each(function(n){e.onRepositionMenu(t,n,[])})},function(n){var r=n.primary,o=n.triggeringPath;e.onRepositionMenu(t,r,o)})},A={collapseMenu:N,highlightPrimary:E,repositionMenus:_};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:ig(e.tmenuBehaviours,[gy.config({mode:"special",onRight:k(w),onLeft:k(x),onEscape:k(C),focusIn:function(e,t){i.getPrimary().each(function(t){Mi(e,t.element(),li())})}}),Vh.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),Ch.config({find:function(e){return Vh.getHighlighted(e)}}),Ty.config({})]),eventOrder:e.eventOrder,apis:A,events:S}},Aw=ie("collapse-item"),Dw=function(e,t,n){return{primary:e,menus:t,expansions:n}},Rw=function(e,t){return{primary:e,menus:on(e,t),expansions:{}}},Mw=function(e){return{value:qa(Aw()),meta:{text:e}}},Pw=dh({name:"TieredMenu",configFields:[Js("onExecute"),Js("onEscape"),Xs("onOpenMenu"),Xs("onOpenSubmenu"),Ks("onRepositionMenu"),Ks("onCollapseMenu"),Er("highlightImmediately",!0),vr("data",[lr("primary"),lr("menus"),lr("expansions")]),Er("fakeFocus",!1),Ks("onHighlight"),Ks("onHover"),$s(),lr("dom"),Er("navigateOnHover",!0),Er("stayInDom",!1),rg("tmenuBehaviours",[gy,Vh,Ch,Ty]),Er("eventOrder",{})],apis:{collapseMenu:function(e,t){e.collapseMenu(t)},highlightPrimary:function(e,t){e.highlightPrimary(t)},repositionMenus:function(e,t){e.repositionMenus(t)}},factory:_w,extraApis:{tieredData:Dw,singleData:Rw,collapseItem:Mw}}),Iw=function(e,t,n,r,o){var i=function(){return e.lazySink(t)},a="horizontal"===r.type?{layouts:{onLtr:function(){return Bl()},onRtl:function(){return Ll()}}}:{},u=function(e){return 2===e.length},c=function(e){return u(e)?a:{}};return Pw.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,highlightImmediately:r.menu.highlightImmediately,onEscape:function(){return wp.close(t),e.onEscape.map(function(e){return e(t)}),ve.some(!0)},onExecute:function(){return ve.some(!0)},onOpenMenu:function(e,t){Fm.positionWithinBounds(i().getOrDie(),n,t,o())},onOpenSubmenu:function(e,t,n,r){var o=i().getOrDie();Fm.position(o,de({anchor:"submenu",item:t},c(r)),n)},onRepositionMenu:function(e,t,r){var a=i().getOrDie();Fm.positionWithinBounds(a,n,t,o()),je(r,function(e){var t=c(e.triggeringPath);Fm.position(a,de({anchor:"submenu",item:e.triggeringItem},t),e.triggeredMenu)})}})},zw=function(e,t){var n=function(t,n){return e.getRelated(t).exists(function(e){return Ds(e,n)})},r=function(e,t){wp.setContent(e,t)},o=function(e,t,n){i(e,t,n,ve.none())},i=function(e,t,n,r){a(e,t,n,function(){return r.map(function(e){return bs(e)})})},a=function(t,n,r,o){var i=e.lazySink(t).getOrDie();wp.openWhileCloaked(t,r,function(){return Fm.positionWithinBounds(i,n,t,o())}),ng.setValue(t,ve.some({mode:"position",anchor:n,getBounds:o}))},u=function(e,t,n){c(e,t,n,function(){return ve.none()})},c=function(t,n,r,o){var i=Iw(e,t,n,r,o);wp.open(t,i),ng.setValue(t,ve.some({mode:"menu",menu:i}))},s=function(e){wp.isOpen(e)&&(ng.setValue(e,ve.none()),wp.close(e))},l=function(e){return wp.getState(e)},f=function(t){wp.isOpen(t)&&ng.getValue(t).each(function(n){switch(n.mode){case"menu":wp.getState(t).each(function(e){Pw.repositionMenus(e)});break;case"position":var r=e.lazySink(t).getOrDie();Fm.positionWithinBounds(r,n.anchor,t,n.getBounds())}})},d={setContent:r,showAt:o,showWithin:i,showWithinBounds:a,showMenuAt:u,showMenuWithinBounds:c,hide:s,getContent:l,reposition:f,isOpen:wp.isOpen};return{uid:e.uid,dom:e.dom,behaviours:ig(e.inlineBehaviours,[wp.config({isPartOf:function(e,t,r){return Ds(t,r)||n(e,r)},getAttachPoint:function(t){return e.lazySink(t).getOrDie()},onOpen:function(t){e.onShow(t)},onClose:function(t){e.onHide(t)}}),ng.config({store:{mode:"memory",initialValue:ve.none()}}),nf.config({channels:de(de({},Tp(de({isExtraPart:t.isExtraPart},e.fireDismissalEventInstead.map(function(e){return{fireEventInstead:{event:e.event}}}).getOr({})))),Ep(de(de({},e.fireRepositionEventInstead.map(function(e){return{fireEventInstead:{event:e.event}}}).getOr({})),{doReposition:f})))})]),eventOrder:e.eventOrder,apis:d}},Bw=dh({name:"InlineView",configFields:[lr("lazySink"),Ks("onShow"),Ks("onHide"),Sr("onEscape"),rg("inlineBehaviours",[wp,ng,nf]),Tr("fireDismissalEventInstead",[Er("event",Ci())]),Tr("fireRepositionEventInstead",[Er("event",ki())]),Er("getRelated",ve.none),Er("isExtraPart",se),Er("eventOrder",ve.none)],factory:zw,apis:{showAt:function(e,t,n,r){e.showAt(t,n,r)},showWithin:function(e,t,n,r,o){e.showWithin(t,n,r,o)},showWithinBounds:function(e,t,n,r,o){e.showWithinBounds(t,n,r,o)},showMenuAt:function(e,t,n,r){e.showMenuAt(t,n,r)},showMenuWithinBounds:function(e,t,n,r,o){e.showMenuWithinBounds(t,n,r,o)},hide:function(e,t){e.hide(t)},isOpen:function(e,t){return e.isOpen(t)},getContent:function(e,t){return e.getContent(t)},setContent:function(e,t,n){e.setContent(t,n)},reposition:function(e,t){e.reposition(t)}}}),Lw=function(e){return e.x},Hw=function(e,t){return e.x+e.width/2-t.width/2},Fw=function(e,t){return e.x+e.width-t.width},jw=function(e){return e.y},Vw=function(e,t){return e.y+e.height-t.height},Uw=function(e,t,n){return tl(Fw(e,t),Vw(e,t),n.innerSoutheast(),sl(),gl(e,{right:0,bottom:3}),"layout-inner-se")},qw=function(e,t,n){return tl(Lw(e),Vw(e,t),n.innerSouthwest(),cl(),gl(e,{left:1,bottom:3}),"layout-inner-sw")},$w=function(e,t,n){return tl(Fw(e,t),jw(e),n.innerNortheast(),ul(),gl(e,{right:0,top:2}),"layout-inner-ne")},Ww=function(e,t,n){return tl(Lw(e),jw(e),n.innerNorthwest(),al(),gl(e,{left:1,top:2}),"layout-inner-nw")},Gw=function(e,t,n){return tl(Hw(e,t),jw(e),n.innerNorth(),ll(),gl(e,{top:2}),"layout-inner-n")},Kw=function(e,t,n){return tl(Hw(e,t),Vw(e,t),n.innerSouth(),fl(),gl(e,{bottom:3}),"layout-inner-s")},Yw=tinymce.util.Tools.resolve("tinymce.util.Delay"),Xw=function(e){var t=nw(e.action),n=e.dom.tag,r=function(t){return Pt(e.dom,"attributes").bind(function(e){return Pt(e,t)})};return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:ag.augment(e.buttonBehaviours,[zy.config({}),gy.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:function(){if("button"===n){var e=r("type").getOr("button"),t=r("role").map(function(e){return{role:e}}).getOr({});return de({type:e},t)}return{role:r("role").getOr("button")}}()},eventOrder:e.eventOrder}},Jw=dh({name:"Button",factory:Xw,configFields:[Er("uid",void 0),lr("dom"),Er("components",[]),ag.field("buttonBehaviours",[zy,gy]),wr("action"),wr("role"),Er("eventOrder",{})]}),Qw=function(e){var t=u(e)&&zt(e,"uid")?e.uid:Qa("memento");return{get:function(e){return e.getSystem().getByUid(t).getOrDie()},getOpt:function(e){return e.getSystem().getByUid(t).toOption()},asSpec:function(){return de(de({},e),{uid:t})}}},Zw=function(e){return ve.from(e()["temporary-placeholder"]).getOr("!not found!")},ex=function(e,t){return ve.from(t()[e.toLowerCase()]).getOrThunk(function(){return Zw(t)})},tx=function(e,t,n){return ve.from(t()[e.toLowerCase()]).or(n).getOrThunk(function(){return Zw(t)})},nx=function(e,t){return at(e,function(e){return ve.from(t()[e.toLowerCase()])}).getOrThunk(function(){return Zw(t)})},rx={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},ox=function(e){var t=Qw({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:Wl([Ty.config({})])}),n=function(e){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+e+"%"}}}},r=function(e){return{dom:{tag:"div",classes:["tox-text"],innerHtml:e+"%"}}},o=Qw({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},r(0)],behaviours:Wl([Ty.config({})])}),i=function(e,t){e.getSystem().isConnected()&&o.getOpt(e).each(function(e){Ty.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(t)]},r(t)])})},a=function(e,n){if(e.getSystem().isConnected()){var r=t.get(e);Ty.set(r,[Dc(n)])}},u={updateProgress:i,updateText:a},c=Xe([e.icon.toArray(),e.level.toArray(),e.level.bind(function(e){return ve.from(rx[e])}).toArray()]);return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map(function(e){return["tox-notification","tox-notification--in","tox-notification--"+e]}).getOr(["tox-notification","tox-notification--in"])},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:nx(c,e.iconProvider)}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:Wl([Ty.config({})])}].concat(e.progress?[o.asSpec()]:[]).concat(e.closeButton?[Jw.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:ex("close",e.iconProvider),attributes:{"aria-label":e.translationProvider("Close")}}}],action:function(t){e.onAction(t)}})]:[]),apis:u}},ix=dh({name:"Notification",factory:ox,configFields:[wr("level"),lr("progress"),lr("icon"),lr("onAction"),lr("text"),lr("iconProvider"),lr("translationProvider"),Rr("closeButton",!0)],apis:{updateProgress:function(e,t,n){e.updateProgress(t,n)},updateText:function(e,t,n){e.updateText(t,n)}}}),ax=function(e,n){var r=null;return{cancel:function(){null!==r&&(t.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null===r&&(r=t.setTimeout(function(){e.apply(null,o),r=null},n))}}},ux=function(e,n){var r=null;return{cancel:function(){null!==r&&(t.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null!==r&&t.clearTimeout(r),r=t.setTimeout(function(){e.apply(null,o),r=null},n)}}},cx=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),sx=function(e,t){return e.isBlock(t)||ze(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t)},lx=function(e,t,n,r,o){var i=cx(e,function(t){return sx(e,t)});return ve.from(i.backwards(t,n,r,o))},fx=function(e,t){return dx(Vr.fromDom(e.selection.getNode())).getOrThunk(function(){var n=Vr.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());return ba(n,Vr.fromDom(t.extractContents())),t.insertNode(n.dom()),sa(n).each(function(e){return e.dom().normalize()}),Vd(n).map(function(t){e.selection.setCursorLocation(t.dom(),Ld(t))}),n})},dx=function(e){return Es(e,"[data-mce-autocompleter]")},mx=function(e){return e.collapsed&&3===e.startContainer.nodeType},px=function(e){return e.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},gx=function(e){return""!==e&&-1!=="  \f\n\r\t\v".indexOf(e)},hx=function(e,t){return e.substring(t.length)},vx=function(e,t,n){var r;for(r=t-1;r>=0;r--){var o=e.charAt(r);if(gx(o))return ve.none();if(o===n)break}return ve.some(r)},bx=function(e,t,n,r){if(void 0===r&&(r=0),!mx(t))return ve.none();var o=function(e,t,r){return vx(r,t,n).getOr(t)},i=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return lx(e,t.startContainer,t.startOffset,o,i).bind(function(e){var o=t.cloneRange();if(o.setStart(e.container,e.offset),o.setEnd(t.endContainer,t.endOffset),o.collapsed)return ve.none();var i=px(o);return 0!==i.lastIndexOf(n)||hx(i,n).length<r?ve.none():ve.some({text:hx(i,n),range:o,triggerChar:n})})},yx=function(e,t,n,r){return void 0===r&&(r=0),dx(Vr.fromDom(t.startContainer)).fold(function(){return bx(e,t,n,r)},function(t){var r=e.createRng();r.selectNode(t.dom());var o=px(r);return ve.some({range:r,text:hx(o,n),triggerChar:n})})},wx=function(e,t){t.on("keypress compositionend",e.onKeypress.throttle),t.on("remove",e.onKeypress.cancel);var n=function(e,t){Di(e,Jo(),{raw:t})};t.on("keydown",function(t){var r=function(){return e.getView().bind(Vh.getHighlighted)};8===t.which&&e.onKeypress.throttle(t),e.isActive()&&(27===t.which&&e.cancelIfNecessary(),e.isMenuOpen()?13===t.which?(r().each(Ri),t.preventDefault()):40===t.which?(r().fold(function(){e.getView().each(Vh.highlightFirst)},function(e){n(e,t)}),t.preventDefault(),t.stopImmediatePropagation()):37!==t.which&&38!==t.which&&39!==t.which||r().each(function(e){n(e,t),t.preventDefault(),t.stopImmediatePropagation()}):13!==t.which&&38!==t.which&&40!==t.which||e.cancelIfNecessary())}),t.on("NodeChange",function(t){e.isActive()&&!e.isProcessingAction()&&dx(Vr.fromDom(t.element)).isNone()&&e.cancelIfNecessary()})},xx={setup:wx},Cx=tinymce.util.Tools.resolve("tinymce.util.Promise"),kx=function(e,t){return{container:e,offset:t}},Sx=function(e){return e.nodeType===t.Node.TEXT_NODE},Tx=function(e){return e.nodeType===t.Node.ELEMENT_NODE},Nx=function(e){if(Sx(e))return kx(e,e.data.length);var t=e.childNodes;return t.length>0?Nx(t[t.length-1]):kx(e,t.length)},Ex=function(e,t){var n=e.childNodes;return n.length>0&&t<n.length?Ex(n[t],0):n.length>0&&Tx(e)&&n.length===t?Nx(n[n.length-1]):kx(e,t)},Ox=function(e,t){return lx(e,t.container,t.offset,function(e,t){return 0===t?-1:t},e.getRoot()).filter(function(e){var t=e.container.data.charAt(e.offset-1);return!gx(t)}).isSome()},_x=function(e){return function(t){var n=Ex(t.startContainer,t.startOffset);return!Ox(e,n)}},Ax=function(e,t,n){return at(n.triggerChars,function(n){return yx(e,t,n)})},Dx=function(e,t){var n=t(),r=e.selection.getRng();return Ax(e.dom,r,n).bind(function(n){return Rx(e,t,n)})},Rx=function(e,t,n,r){void 0===r&&(r={});var o=t(),i=e.selection.getRng(),a=i.startContainer.nodeValue,u=qe(o.lookupByChar(n.triggerChar),function(t){return n.text.length>=t.minChars&&t.matches.getOrThunk(function(){return _x(e.dom)})(n.range,a,n.text)});if(0===u.length)return ve.none();var c=Cx.all(Fe(u,function(e){return e.fetch(n.text,e.maxResults,r).then(function(t){return{matchText:n.text,items:t,columns:e.columns,onAction:e.onAction}})}));return ve.some({lookupData:c,context:n})},Mx=Pn([mr("type"),kr("text")]),Px=function(e){return Yn("separatormenuitem",Mx,e)},Ix=Pn([Ir("type",function(){return"autocompleteitem"}),Ir("active",function(){return!1}),Ir("disabled",function(){return!1}),Er("meta",{}),mr("value"),kr("text"),kr("icon")]),zx=Pn([mr("type"),mr("ch"),_r("minChars",1),Er("columns",1),_r("maxResults",10),Sr("matches"),gr("fetch"),gr("onAction")]),Bx=function(e){return Yn("Autocompleter.Separator",Mx,e)},Lx=function(e){return Yn("Autocompleter.Item",Ix,e)},Hx=function(e){return Yn("Autocompleter",zx,e)},Fx=function(e){var t={};return je(e,function(e){t[e]={}}),kt(t)},jx=function(e){var t=e.ui.registry.getAll().popups,n=Nt(t,function(e){return Hx(e).fold(function(e){throw new Error(Qn(e))},function(e){return e})}),r=Fx(Dt(n,function(e){return e.ch})),o=Mt(n);return{dataset:n,triggerChars:r,lookupByChar:function(e){return qe(o,function(t){return t.ch===e})}}};!function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"}(dv||(dv={}));var Vx,Ux=dv,qx="tox-menu-nav__js",$x={normal:qx,color:"tox-swatch"},Wx="tox-collection__item-label",Gx="tox-collection__item--active",Kx=function(e){return Pt($x,e).getOr(qx)},Yx=function(e){return"color"===e?"tox-swatches":"tox-menu"},Xx=function(e){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:Yx(e),tieredMenu:"tox-tiered-menu"}},Jx=function(e){var t=Xx(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:Kx(e)}},Qx=function(e,t,n){var r=Xx(n);return{tag:"div",classes:Xe([[r.menu,"tox-menu-"+t+"-column"],e?[r.hasIcons]:[]])}},Zx=[Cw.parts().items({})],eC=function(e,t,n){var r=Xx(n);return{dom:{tag:"div",classes:Xe([[r.tieredMenu]])},markers:Jx(n)}},tC=function(e,t){return function(n){var r=He(n,t);return Fe(r,function(t){return{dom:e,components:t}})}},nC=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Cw.parts().items({preprocess:"auto"!==e?tC({tag:"div",classes:["tox-swatches__row"]},e):ae})]}]}},rC=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Cw.parts().items({preprocess:tC({tag:"div",classes:["tox-collection__group"]},e)})]}},oC=function(e,t){var n=[],r=[];return je(e,function(e,o){t(e,o)?(r.length>0&&n.push(r),r=[],It(e.dom,"innerHtml")&&r.push(e)):r.push(e)}),r.length>0&&n.push(r),Fe(n,function(e){return{dom:{tag:"div",classes:["tox-collection__group"]},components:e}})},iC=function(e,t,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[Cw.parts().items({preprocess:function(n){return"auto"!==e&&e>1?tC({tag:"div",classes:["tox-collection__group"]},e)(n):oC(n,function(e,n){return"separator"===t[n].type})}})]}},aC=function(e,t){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Cw.parts().items({preprocess:function(t){return oC(t,function(t,n){return"separator"===e[n].type})}})]}},uC=function(e){return Be(e,function(e){return"icon"in e&&void 0!==e.icon})},cC=function(e){return t.console.error(Qn(e)),t.console.log(e),ve.none()},sC=function(e,t,n,r,o){var i=aC(n);return{value:e,dom:i.dom,components:i.components,items:n}},lC=function(e,t,n,r,o){if("color"===o){var i=nC(r);return{value:e,dom:i.dom,components:i.components,items:n}}if("normal"===o&&"auto"===r){var i=iC(r,n);return{value:e,dom:i.dom,components:i.components,items:n}}if("normal"===o&&1===r){var i=iC(1,n);return{value:e,dom:i.dom,components:i.components,items:n}}if("normal"===o){var i=iC(r,n);return{value:e,dom:i.dom,components:i.components,items:n}}if("listpreview"===o&&"auto"!==r){var i=rC(r);return{value:e,dom:i.dom,components:i.components,items:n}}return{value:e,dom:Qx(t,r,o),components:Zx,items:n}},fC=[Rr("disabled",!1),kr("text"),kr("shortcut"),Fn("value","value",Jt(function(){return qa("menuitem-value")}),tr()),Er("meta",{})],dC=Pn([mr("type"),Rr("active",!1),kr("icon")].concat(fC)),mC=function(e){return Yn("choicemenuitem",dC,e)},pC=["inserttable","colorswatch"],gC=Pn([mr("type"),pr("fancytype",pC),Mr("onAction",te)]),hC=function(e){return Yn("fancymenuitem",gC,e)},vC=Pn([mr("type"),Mr("onSetup",function(){return te}),Mr("onAction",te),kr("icon")].concat(fC)),bC=function(e){return Yn("menuitem",vC,e)},yC=Pn([mr("type"),gr("getSubmenuItems"),Mr("onSetup",function(){return te}),kr("icon")].concat(fC)),wC=function(e){return Yn("nestedmenuitem",yC,e)},xC=Pn([mr("type"),kr("icon"),Rr("active",!1),Mr("onSetup",function(){return te}),gr("onAction")].concat(fC)),CC=function(e){return Yn("togglemenuitem",xC,e)},kC=function(e,t,n){var r=qd(e.element(),"."+n);if(r.length>0){var o=Ye(r,function(e){var n=e.dom().getBoundingClientRect().top,o=r[0].dom().getBoundingClientRect().top;return Math.abs(n-o)>t}).getOr(r.length);return ve.some({numColumns:o,numRows:Math.ceil(r.length/o)})}return ve.none()},SC=function(e,t){return Wl([Ey(e,t)])},TC=function(e){return SC(qa("unnamed-events"),e)},NC={namedEvents:SC,unnamedEvents:TC},EC=[lr("lazySink"),lr("tooltipDom"),Er("exclusive",!0),Er("tooltipComponents",[]),Er("delay",300),Dr("mode","normal",["normal","follow-highlight"]),Er("anchor",function(e){return{anchor:"hotspot",hotspot:e,layouts:{onLtr:ie([Al,_l,Tl,El,Nl,Ol]),onRtl:ie([Al,_l,Tl,El,Nl,Ol])}}}),Ks("onHide"),Ks("onShow")],OC=function(){var e=zr(ve.none()),n=zr(ve.none()),r=function(){return n.get()},o=function(e){n.set(ve.some(e))},i=function(){n.set(ve.none())},a=function(){e.get().each(function(e){t.clearTimeout(e)})},u=function(n,r){a(),e.set(ve.some(t.setTimeout(function(){n()},r)))},c=function(){return n.get().isSome()},s=ie("not-implemented");return fu({getTooltip:r,isShowing:c,setTooltip:o,clearTooltip:i,clearTimer:a,resetTimer:u,readState:s})},_C=Object.freeze({__proto__:null,init:OC}),AC=qa("tooltip.exclusive"),DC=qa("tooltip.show"),RC=qa("tooltip.hide"),MC=function(e,t,n){e.getSystem().broadcastOn([AC],{})},PC=function(e,t,n,r){n.getTooltip().each(function(e){e.getSystem().isConnected()&&Ty.set(e,r)})},IC=Object.freeze({__proto__:null,hideAllExclusive:MC,setComponents:PC}),zC=function(e,t){var n=function(n){t.getTooltip().each(function(r){Ym(r),e.onHide(n,r),t.clearTooltip()}),t.clearTimer()},r=function(n){if(!t.isShowing()){MC(n);var r=e.lazySink(n).getOrDie(),o=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:zi("normal"===e.mode?[Hi(Ko(),function(e){Ai(n,DC)}),Hi(Wo(),function(e){Ai(n,RC)})]:[]),behaviours:Wl([Ty.config({})])});t.setTooltip(o),Wm(r,o),e.onShow(n,o),Fm.position(r,e.anchor(n),o)}};return zi(Xe([[Hi(DC,function(n){t.resetTimer(function(){r(n)},e.delay)}),Hi(RC,function(r){t.resetTimer(function(){n(r)},e.delay)}),Hi(ci(),function(e,t){ze(t.channels(),AC)&&n(e)}),Yi(function(e){n(e)})],"normal"===e.mode?[Hi(Yo(),function(e){Ai(e,DC)}),Hi(ai(),function(e){Ai(e,RC)}),Hi(Ko(),function(e){Ai(e,DC)}),Hi(Wo(),function(e){Ai(e,RC)})]:[Hi(Oi(),function(e,t){Ai(e,DC)}),Hi(_i(),function(e){Ai(e,RC)})]]))},BC=Object.freeze({__proto__:null,events:zC}),LC=Kl({fields:EC,name:"tooltipping",active:BC,state:_C,apis:IC}),HC=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),FC=tinymce.util.Tools.resolve("tinymce.util.I18n"),jC=["input","button","textarea","select"],VC=function(e,t,n){(t.disabled()?XC:JC)(e,t,n)},UC=function(e,t){return!0===t.useNative&&ze(jC,Qi(e.element()))},qC=function(e){return Pa(e.element(),"disabled")},$C=function(e){Aa(e.element(),"disabled","disabled")},WC=function(e){Ia(e.element(),"disabled")},GC=function(e){return"true"===Ra(e.element(),"aria-disabled")},KC=function(e){Aa(e.element(),"aria-disabled","true")},YC=function(e){Aa(e.element(),"aria-disabled","false")},XC=function(e,t,n){t.disableClass.each(function(t){Uu(e.element(),t)}),(UC(e,t)?$C:KC)(e),t.onDisabled(e)},JC=function(e,t,n){t.disableClass.each(function(t){$u(e.element(),t)}),(UC(e,t)?WC:YC)(e),t.onEnabled(e)},QC=function(e,t){return UC(e,t)?qC(e):GC(e)},ZC=function(e,t,n,r){(r?XC:JC)(e,t,n)},ek=Object.freeze({__proto__:null,enable:JC,disable:XC,isDisabled:QC,onLoad:VC,set:ZC}),tk=function(e,t){return hu({classes:t.disabled()?t.disableClass.toArray():[]})},nk=function(e,t){return zi([Bi(si(),function(t,n){return QC(t,e)}),Fl(e,t,VC)])},rk=Object.freeze({__proto__:null,exhibit:tk,events:nk}),ok=[Mr("disabled",se),Er("useNative",!0),wr("disableClass"),Ks("onDisabled"),Ks("onEnabled")],ik=Kl({fields:ok,name:"disabling",active:rk,apis:ek}),ak=tinymce.util.Tools.resolve("tinymce.EditorManager"),uk=function(e){var t=e.getParam("skin"),n=e.getParam("skin_url");if(!1!==t){var r=t||"oxide";n=n?e.documentBaseURI.toAbsolute(n):ak.baseURL+"/skins/ui/"+r}return n},ck=function(e){return e.getParam("readonly",!1,"boolean")},sk=function(e){return!1===e.getParam("skin")},lk=function(e){return e.getParam("height",Math.max(e.getElement().offsetHeight,200))},fk=function(e){return e.getParam("width",HC.DOM.getStyle(e.getElement(),"width"))},dk=function(e){return ve.from(e.getParam("min_width")).filter(_e)},mk=function(e){return ve.from(e.getParam("min_height")).filter(_e)},pk=function(e){return ve.from(e.getParam("max_width")).filter(_e)},gk=function(e){return ve.from(e.getParam("max_height")).filter(_e)},hk=function(e){return ve.from(e.getParam("style_formats")).filter(ke)},vk=function(e){return e.getParam("style_formats_merge",!1,"boolean")},bk=function(e){return e.getParam("removed_menuitems","")},yk=function(e){return!1!==e.getParam("menubar",!0,"boolean")},wk=function(e){var t=e.getParam("toolbar",!0),n=!0===t,r=xe(t),o=ke(t)&&t.length>0;return!Ck(e)&&(o||r||n)},xk=function(e){var t=Le(9,function(t){return e.getParam("toolbar"+(t+1),!1,"string")}),n=qe(t,function(e){return"string"==typeof e});return n.length>0?ve.some(n):ve.none()},Ck=function(e){return xk(e).fold(function(){return e.getParam("toolbar",[],"string[]").length>0},function(){return!0})};!function(e){e.default="wrap",e.floating="floating",e.sliding="sliding",e.scrolling="scrolling"}(Vx||(Vx={}));var kk,Sk=function(e){return e.getParam("toolbar_mode","","string")};!function(e){e.auto="auto",e.top="top",e.bottom="bottom"}(kk||(kk={}));var Tk,Nk=function(e){return e.getParam("toolbar_groups",{},"object")},Ek=function(e){return e.getParam("toolbar_location",kk.auto,"string")},Ok=function(e){return Ek(e)===kk.bottom},_k=function(e){return e.getParam("fixed_toolbar_container","","string")},Ak=function(e){var t=_k(e);return t.length>0&&e.inline?Ns(ac(),t):ve.none()},Dk=function(e){return e.inline&&Ak(e).isSome()},Rk=function(e){return Ak(e).getOr(ac())},Mk=function(e){return e.inline&&!yk(e)&&!wk(e)&&!Ck(e)},Pk=function(e){return(e.getParam("toolbar_sticky",!1,"boolean")||e.inline)&&!Dk(e)&&!Mk(e)},Ik=function(e){return e.getParam("draggable_modal",!1,"boolean")},zk=function(e){var t=e.getParam("menu");return t?Nt(t,function(e){return de(de({},e),{items:e.items})}):{}},Bk=function(e){return e.getParam("menubar")},Lk=function(e){return e.getParam("toolbar",!0)},Hk=function(e){return e.getParam("file_picker_callback")},Fk=function(e){return e.getParam("file_picker_types")},jk=function(e){return e.getParam("file_browser_callback_types")},Vk=function(e){return!1===e.getParam("typeahead_urls")},Uk=function(e){return e.getParam("anchor_top","#top","string")},qk=function(e){return e.getParam("anchor_bottom","#bottom","string")},$k=function(e){var t=e.getParam("file_picker_validator_handler",void 0,"function");return void 0===t?e.getParam("filepicker_validator_handler",void 0,"function"):t},Wk=Pn([function(e){return fr(e,ir)}("readonly")]),Gk=function(e,t){var n=e.outerContainer,r=n.element();t&&(e.mothership.broadcastOn([xp()],{target:r}),e.uiMothership.broadcastOn([xp()],{target:r})),e.mothership.broadcastOn(["silver.readonly"],{readonly:t}),e.uiMothership.broadcastOn(["silver.readonly"],{readonly:t})},Kk=function(e,t){e.on("init",function(){e.mode.isReadOnly()&&Gk(t,!0)}),e.on("SwitchMode",function(){return Gk(t,e.mode.isReadOnly())}),ck(e)&&e.setMode("readonly")},Yk=function(){var e;return nf.config({channels:(e={},e["silver.readonly"]={schema:Wk,onReceive:function(e,t){ik.set(e,t.readonly)}},e)})},Xk=function(e){return ik.config({disabled:e,disableClass:"tox-collection__item--state-disabled"})},Jk=function(e){return ik.config({disabled:e})},Qk=function(e){return ik.config({disabled:e,disableClass:"tox-tbtn--disabled"})},Zk=function(e){return ik.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1})},eS={item:Xk,button:Jk,splitButton:Qk,toolbarButton:Zk},tS=function(e,t){var n=e.getApi(t);return function(e){e(n)}},nS=function(e,t){return Ki(function(n){tS(e,n)(function(n){var r=e.onSetup(n);null!==r&&void 0!==r&&t.set(r)})})},rS=function(e,t){return Yi(function(n){return tS(e,n)(t.get())})},oS=function(e,t){return Ji(function(n,r){tS(e,n)(e.onAction),e.triggersSubmenu||t!==Ux.CLOSE_ON_EXECUTE||(Ai(n,mi()),r.stop())})},iS={"alloy.execute":["disabling","alloy.base.behaviour","toggling","item-events"]},aS=function(e){return Je(e,function(e){return e.toArray()})},uS=function(e,t,n,r){var o=zr(te);return{type:"item",dom:t.dom,components:aS(t.optComponents),data:e.data,eventOrder:iS,hasSubmenu:e.triggersSubmenu,itemBehaviours:Wl([Ey("item-events",[oS(e,n),nS(e,o),rS(e,o)]),eS.item(function(){return e.disabled||r.isReadOnly()}),Yk(),Ty.config({})].concat(e.itemBehaviours))}},cS=function(e){return{value:e.value,meta:de({text:e.text.getOr("")},e.meta)}},sS=tinymce.util.Tools.resolve("tinymce.Env"),lS=function(e){var t={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},n={meta:"Ctrl",access:"Shift+Alt"},r=sS.mac?t:n,o=e.split("+"),i=Fe(o,function(e){var t=e.toLowerCase().trim();return It(r,t)?r[t]:e});return sS.mac?i.join(""):i.join("+")},fS=function(e){return{dom:{tag:"div",classes:["tox-collection__item-icon"],innerHtml:e}}},dS=function(e){return{dom:{tag:"div",classes:[Wx]},components:[Dc(FC.translate(e))]}},mS=function(e){return{dom:{tag:"div",classes:[Wx],innerHtml:e}}},pS=function(e,t){return{dom:{tag:"div",classes:[Wx]},components:[{dom:{tag:e.tag,styles:e.styles},components:[Dc(FC.translate(t))]}]}},gS=function(e){return{dom:{tag:"div",classes:["tox-collection__item-accessory"],innerHtml:lS(e)}}},hS=function(e){return{dom:{tag:"div",classes:["tox-collection__item-checkmark"],innerHtml:ex("checkmark",e)}}},vS=function(e){return{dom:{tag:"div",classes:["tox-collection__item-caret"],innerHtml:ex("chevron-right",e)}}},bS=function(e){return{dom:{tag:"div",classes:["tox-collection__item-caret"],innerHtml:ex("chevron-down",e)}}},yS=function(e,t,n,r){return{dom:function(){var i=n.getOr(""),a=e.map(function(e){return{title:r.translate(e)}}).getOr({}),u={tag:"div",attributes:a,classes:["tox-swatch"]};return"custom"===t?de(de({},u),{tag:"button",classes:o(u.classes,["tox-swatches__picker-btn"]),innerHtml:i}):"remove"===t?de(de({},u),{classes:o(u.classes,["tox-swatch--remove"]),innerHtml:i}):de(de({},u),{attributes:de(de({},u.attributes),{"data-mce-color":t}),styles:{"background-color":t}})}(),optComponents:[]}},wS=function(e,t,n,r,o){var i=n?t.or(ve.some("")).map(fS):ve.none(),a=e.checkMark,u=e.ariaLabel.map(function(e){return{attributes:{title:FC.translate(e)}}}).getOr({});return{dom:de({tag:"div",classes:[qx,"tox-collection__item"].concat(o?["tox-collection__item-icon-rtl"]:[])},u),optComponents:[i,e.htmlContent.fold(function(){return e.textContent.map(r)},function(e){return ve.some(mS(e))}),e.shortcutContent.map(gS),a,e.caret]}},xS=["list-num-default","list-num-lower-alpha","list-num-lower-greek","list-num-lower-roman","list-num-upper-alpha","list-num-upper-roman"],CS=["list-bull-circle","list-bull-default","list-bull-square"],kS=function(e,t,r,o){void 0===o&&(o=ve.none());var i=FC.isRtl()&&e.iconContent.exists(function(e){return ze(CS,e)}),a=function(e){return e.map(function(e){return FC.isRtl()&&ze(xS,e)?e+"-rtl":e})}(e.iconContent).map(function(e){return tx(e,t.icons,o)}),u=ve.from(e.meta).fold(function(){return dS},function(e){return It(e,"style")?n(pS,e.style):dS});return"color"===e.presets?yS(e.ariaLabel,e.value,a,t):wS(e,a,r,u,i)},SS=function(e,t){return Pt(e,"tooltipWorker").map(function(e){return[LC.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(e){return{anchor:"submenu",item:e,overrides:{maxHeightFunction:Ff}}},mode:"follow-highlight",onShow:function(t,n){e(function(e){LC.setComponents(t,[Rc({element:Vr.fromDom(e)})])})}})]}).getOr([])},TS=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},NS=function(e){return HC.DOM.encode(e)},ES=function(e,t){var n=FC.translate(e),r=NS(n);if(t.length>0){var o=new RegExp(TS(t),"gi");return r.replace(o,function(e){return'<span class="tox-autocompleter-highlight">'+e+"</span>"})}return r},OS=function(e,t,n,r,o,i,a,u){void 0===u&&(u=!0);var c=kS({presets:r,textContent:ve.none(),htmlContent:n?e.text.map(function(e){return ES(e,t)}):ve.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:ve.none(),checkMark:ve.none(),caret:ve.none(),value:e.value},a.providers,u,e.icon);return uS({data:cS(e),disabled:e.disabled,getApi:function(){return{}},onAction:function(t){return o(e.value,e.meta)},onSetup:function(){return function(){}},triggersSubmenu:!1,itemBehaviours:SS(e.meta,a)},c,i,a.providers)},_S=function(e,t,n,r,o,i,a,u){void 0===u&&(u=!0);var c=function(e){return{setActive:function(t){ew.set(e,t)},isActive:function(){return ew.isOn(e)},isDisabled:function(){return ik.isDisabled(e)},setDisabled:function(t){return ik.set(e,t)}}},s=kS({presets:n,textContent:t?e.text:ve.none(),htmlContent:ve.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:ve.none(),checkMark:t?ve.some(hS(a.icons)):ve.none(),caret:ve.none(),value:e.value},a,u);return Ut(uS({data:cS(e),disabled:e.disabled,getApi:c,onAction:function(t){return r(e.value)},onSetup:function(e){return e.setActive(o),function(){}},triggersSubmenu:!1,itemBehaviours:[]},s,i,a),{toggling:{toggleClass:"tox-collection__item--enabled",toggleOnExecute:!1,selected:e.active}})},AS=ie(Vg("item-widget",fw())),DS=qa("cell-over"),RS=qa("cell-execute"),MS=function(e,t,n){var r,o=function(n){return Di(n,DS,{row:e,col:t})},i=function(n){return Di(n,RS,{row:e,col:t})},a=function(e,t){t.stop(),i(e)};return Pc({dom:{tag:"div",attributes:(r={role:"button"},r["aria-labelledby"]=n,r)},behaviours:Wl([Ey("insert-table-picker-cell",[Hi(Ko(),zy.focus),Hi(si(),i),Hi(ti(),a),Hi(fi(),a)]),ew.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),zy.config({onFocus:o})])})},PS=function(e,t,n){for(var r=[],o=0;o<t;o++){for(var i=[],a=0;a<n;a++)i.push(MS(o,a,e));r.push(i)}return r},IS=function(e,t,n,r,o){for(var i=0;i<r;i++)for(var a=0;a<o;a++)ew.set(e[i][a],i<=t&&a<=n)},zS=function(e){return Je(e,function(e){return Fe(e,Ic)})},BS=function(e,t){return Dc(t+1+"x"+(e+1))},LS=function(e){var t=qa("size-label"),n=PS(t,10,10),r=Qw({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:t}},components:[Dc("0x0")],behaviours:Wl([Ty.config({})])});return{type:"widget",data:{value:qa("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[AS().widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:zS(n).concat(r.asSpec()),behaviours:Wl([Ey("insert-table-picker",[qi(DS,function(e,t,o){var i=o.event().row(),a=o.event().col();IS(n,i,a,10,10),Ty.set(r.get(e),[BS(i,a)])}),qi(RS,function(t,n,r){e.onAction({numRows:r.event().row()+1,numColumns:r.event().col()+1}),Ai(t,mi())})]),gy.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},HS=function(e){return{value:e}},FS=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,jS=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,VS=function(e){return FS.test(e)||jS.test(e)},US=function(e){return{value:e.value.replace(FS,function(e,t,n,r){return t+t+n+n+r+r})}},qS=function(e){var t=US(e),n=jS.exec(t.value);return null===n?["FFFFFF","FF","FF","FF"]:n},$S=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t},WS=function(e){var t=$S(e.red)+$S(e.green)+$S(e.blue);return HS(t)},GS=Math.min,KS=Math.max,YS=Math.round,XS=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,JS=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,QS=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},ZS=function(e){var t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},eT=function(e){var t,n,r,o=(e.hue||0)%360,i=e.saturation/100,a=e.value/100;if(i=KS(0,GS(i,1)),a=KS(0,GS(a,1)),0===i)return t=n=r=YS(255*a),QS(t,n,r,1);var u=o/60,c=a*i,s=c*(1-Math.abs(u%2-1)),l=a-c;switch(Math.floor(u)){case 0:t=c,n=s,r=0;break;case 1:t=s,n=c,r=0;break;case 2:t=0,n=c,r=s;break;case 3:t=0,n=s,r=c;break;case 4:t=s,n=0,r=c;break;case 5:t=c,n=0,r=s;break;default:t=n=r=0}return t=YS(255*(t+l)),n=YS(255*(n+l)),r=YS(255*(r+l)),QS(t,n,r,1)},tT=function(e){var t=qS(e),n=parseInt(t[1],16),r=parseInt(t[2],16),o=parseInt(t[3],16);return QS(n,r,o,1)},nT=function(e,t,n,r){var o=parseInt(e,10),i=parseInt(t,10),a=parseInt(n,10),u=parseFloat(r);return QS(o,i,a,u)},rT=function(e){if("transparent"===e)return ve.some(QS(0,0,0,0));var t=XS.exec(e);if(null!==t)return ve.some(nT(t[1],t[2],t[3],"1"));var n=JS.exec(e);return null!==n?ve.some(nT(n[1],n[2],n[3],n[4])):ve.none()},oT=function(e){return"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")"},iT=QS(255,0,0,1),aT=function(e){return e.fire("SkinLoaded")},uT=function(e,t){return e.fire("SkinLoadError",t)},cT=function(e){return e.fire("ResizeEditor")},sT=function(e,t){return e.fire("ResizeContent",t)},lT=function(e,t){return e.fire("ScrollContent",t)},fT=function(e,t){return e.fire("TextColorChange",t)},dT=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),mT="tinymce-custom-colors",pT="choiceitem",gT=[{type:pT,text:"Light Green",value:"#BFEDD2"},{type:pT,text:"Light Yellow",value:"#FBEEB8"},{type:pT,text:"Light Red",value:"#F8CAC6"},{type:pT,text:"Light Purple",value:"#ECCAFA"},{type:pT,text:"Light Blue",value:"#C2E0F4"},{type:pT,text:"Green",value:"#2DC26B"},{type:pT,text:"Yellow",value:"#F1C40F"},{type:pT,text:"Red",value:"#E03E2D"},{type:pT,text:"Purple",value:"#B96AD9"},{type:pT,text:"Blue",value:"#3598DB"},{type:pT,text:"Dark Turquoise",value:"#169179"},{type:pT,text:"Orange",value:"#E67E23"},{type:pT,text:"Dark Red",value:"#BA372A"},{type:pT,text:"Dark Purple",value:"#843FA1"},{type:pT,text:"Dark Blue",value:"#236FA1"},{type:pT,text:"Light Gray",value:"#ECF0F1"},{type:pT,text:"Medium Gray",value:"#CED4D9"},{type:pT,text:"Gray",value:"#95A5A6"},{type:pT,text:"Dark Gray",value:"#7E8C8D"},{type:pT,text:"Navy Blue",value:"#34495E"},{type:pT,text:"Black",value:"#000000"},{type:pT,text:"White",value:"#ffffff"}],hT=function(e){void 0===e&&(e=10);var t=dT.getItem(mT),n=xe(t)?JSON.parse(t):[],r=function(t){return e-t.length<0?t.slice(0,e):t}(n),o=function(e){r.splice(e,1)};return{add:function(t){Ie(r,t).each(o),r.unshift(t),r.length>e&&r.pop(),dT.setItem(mT,JSON.stringify(r))},state:function(){return r.slice(0)}}}(10),vT=function(e){var n=[],r=t.document.createElement("canvas");r.height=1,r.width=1;for(var o=r.getContext("2d"),i=function(e,t){var n=t/255;return("0"+Math.round(e*n+255*(1-n)).toString(16)).slice(-2).toUpperCase()},a=0;a<e.length;a+=2)n.push({text:e[a+1],value:function(e){if(/^[0-9A-Fa-f]{6}$/.test(e))return"#"+e.toUpperCase();o.clearRect(0,0,r.width,r.height),o.fillStyle="#FFFFFF",o.fillStyle=e,o.fillRect(0,0,1,1);var t=o.getImageData(0,0,1,1).data,n=t[0],a=t[1],u=t[2],c=t[3];return"#"+i(n,c)+i(a,c)+i(u,c)}(e[a]),type:"choiceitem"});return n},bT=function(e,t){return e.getParam("color_cols",t,"number")},yT=function(e){return!1!==e.getParam("custom_colors")},wT=function(e){return e.getParam("color_map")},xT=function(e){var t=wT(e);return void 0!==t?vT(t):gT},CT=function(){return Fe(hT.state(),function(e){return{type:pT,text:e,value:e}})},kT=function(e){hT.add(e)},ST=function(e,t){var n;return e.dom.getParents(e.selection.getStart(),function(e){var r;(r=e.style["forecolor"===t?"color":"background-color"])&&(n=n||r)}),n},TT=function(e,t,n){e.undoManager.transact(function(){e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()})},NT=function(e,t){e.undoManager.transact(function(){e.focus(),e.formatter.remove(t,{value:null},null,!0),e.nodeChanged()})},ET=function(e){e.addCommand("mceApplyTextcolor",function(t,n){TT(e,t,n)}),e.addCommand("mceRemoveTextcolor",function(t){NT(e,t)})},OT=function(e){return Math.max(5,Math.ceil(Math.sqrt(e)))},_T=function(e){var t=xT(e),n=OT(t.length);return bT(e,n)},AT=function(e){var t={type:"choiceitem",text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},n={type:"choiceitem",text:"Custom color",icon:"color-picker",value:"custom"};return e?[t,n]:[t]},DT=function(e,t,n,r){if("custom"===n){BT(e)(function(n){n.each(function(n){kT(n),e.execCommand("mceApplyTextcolor",t,n),r(n)})},"#000000")}else"remove"===n?(r(""),e.execCommand("mceRemoveTextcolor",t)):(r(n),e.execCommand("mceApplyTextcolor",t,n))},RT=function(e,t){return e.concat(CT().concat(AT(t)))},MT=function(e,t){return function(n){n(RT(e,t))}},PT=function(e,t,n){var r="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";!function(t,n){e.setIconFill(t,n),e.setIconStroke(t,n)}(r,n)},IT=function(e,t,n,r,o){e.ui.registry.addSplitButton(t,{tooltip:r,presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:function(t){return ve.from(ST(e,n)).bind(function(e){return rT(e).map(function(e){var n=WS(e).value;return so(t.toLowerCase(),n)})}).getOr(!1)},columns:_T(e),fetch:MT(xT(e),yT(e)),onAction:function(t){null!==o.get()&&DT(e,n,o.get(),function(){})},onItemAction:function(r,i){DT(e,n,i,function(n){o.set(n),fT(e,{name:t,color:n})})},onSetup:function(n){null!==o.get()&&PT(n,t,o.get());var r=function(e){e.name===t&&PT(n,e.name,e.color)};return e.on("TextColorChange",r),function(){e.off("TextColorChange",r)}}})},zT=function(e,t,n,r){e.ui.registry.addNestedMenuItem(t,{text:r,icon:"forecolor"===t?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(t){DT(e,n,t.value,te)}}]}})},BT=function(e){return function(t,n){var r=function(e,t){"hex-valid"===t.name&&(t.value?e.enable("ok"):e.disable("ok"))},o={colorpicker:n},i=function(e){return function(t){var n=t.getData();e(ve.from(n.colorpicker)),t.close()}}(t);e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onAction:r,onSubmit:i,onClose:function(){},onCancel:function(){t(ve.none())}})}},LT=function(e){ET(e);var t=zr(null),n=zr(null);IT(e,"forecolor","forecolor","Text color",t),IT(e,"backcolor","hilitecolor","Background color",n),zT(e,"forecolor","forecolor","Text color"),zT(e,"backcolor","hilitecolor","Background color")},HT=function(e,t,n,r,o,i,a,u){var c=uC(t),s="color"!==o?"normal":"color",l=FT(t,n,r,s,i,a,u);return lC(e,c,l,r,o)},FT=function(e,t,n,r,o,i,a){return ph(Fe(e,function(u){return"choiceitem"===u.type?mC(u).fold(cC,function(c){return ve.some(_S(c,1===n,r,t,i(u.value),o,a,uC(e)))}):ve.none()}))},jT=function(e,t){var n=Jx(t);return 1===e?{mode:"menu",moveOnTab:!0}:"auto"===e?{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===t?"tox-swatches__row":"tox-collection__group")}},VT=function(e,t){return 1===e?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===e?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===t?".tox-swatches__row":".tox-collection__group",cell:"color"===t?".tox-swatch":".tox-collection__item"}}},UT={inserttable:LS,colorswatch:s},qT=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?ve.some(e[t]):ve.none()},$T=function(e,t){return qT(UT,e.fancytype).map(function(n){return n(e,t)})},WT=function(e,t,n,r){void 0===r&&(r=!0);var o=function(e){return{isDisabled:function(){return ik.isDisabled(e)},setDisabled:function(t){return ik.set(e,t)}}},i=kS({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:ve.none(),ariaLabel:e.text,caret:ve.none(),checkMark:ve.none(),shortcutContent:e.shortcut},n,r);return uS({data:cS(e),getApi:o,disabled:e.disabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,t,n)},GT=function(e,t,n,r,o){void 0===r&&(r=!0),void 0===o&&(o=!1);var i=o?bS(n.icons):vS(n.icons),a=function(e){return{isDisabled:function(){return ik.isDisabled(e)},setDisabled:function(t){return ik.set(e,t)}}},u=kS({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:ve.none(),ariaLabel:e.text,caret:ve.some(i),checkMark:ve.none(),shortcutContent:e.shortcut},n,r);return uS({data:cS(e),getApi:a,disabled:e.disabled,onAction:te,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},u,t,n)},KT=function(e){var t=e.text.fold(function(){return{}},function(e){return{innerHtml:e}});return{type:"separator",dom:de({tag:"div",classes:["tox-collection__item","tox-collection__group-heading"]},t),components:[]}},YT=function(e,t,n,r){void 0===r&&(r=!0);var o=function(e){return{setActive:function(t){ew.set(e,t)},isActive:function(){return ew.isOn(e)},isDisabled:function(){return ik.isDisabled(e)},setDisabled:function(t){return ik.set(e,t)}}},i=kS({iconContent:e.icon,textContent:e.text,htmlContent:ve.none(),ariaLabel:e.text,checkMark:ve.some(hS(n.icons)),caret:ve.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,r);return Ut(uS({data:cS(e),disabled:e.disabled,getApi:o,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,t,n),{toggling:{toggleClass:"tox-collection__item--enabled",toggleOnExecute:!1,selected:e.active}})},XT=OS,JT=KT,QT=WT,ZT=GT,eN=YT,tN=$T;!function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"}(Tk||(Tk={}));var nN=function(e,n,r,o,i){var a=r.shared.providers,u=function(e){return i?de(de({},e),{shortcut:ve.none(),icon:e.text.isSome()?ve.none():e.icon}):e};switch(e.type){case"menuitem":return bC(e).fold(cC,function(e){return ve.some(QT(u(e),n,a,o))});case"nestedmenuitem":return wC(e).fold(cC,function(e){return ve.some(ZT(u(e),n,a,o,i))});case"togglemenuitem":return CC(e).fold(cC,function(e){return ve.some(eN(u(e),n,a,o))});case"separator":return Px(e).fold(cC,function(e){return ve.some(JT(e))});case"fancymenuitem":return hC(e).fold(cC,function(e){return tN(u(e),r)});default:return t.console.error("Unknown item in general menu",e),ve.none()}},rN=function(e,t,n,r,o,i){var a=1===r,u=!a||uC(e);return ph(Fe(e,function(e){return"separator"===e.type?Bx(e).fold(cC,function(e){return ve.some(JT(e))}):Lx(e).fold(cC,function(e){return ve.some(XT(e,t,a,"normal",n,o,i,u))})}))},oN=function(e,t,n,r,o){var i=uC(t),a=ph(Fe(t,function(e){var t=function(e){return o?!e.hasOwnProperty("text"):i},a=function(e){return nN(e,n,r,t(e),o)};return a("nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?de(de({},e),{disabled:!0}):e)}));return(o?sC:lC)(e,i,a,1,"normal")},iN=function(e){return Pw.singleData(e.value,e)},aN=function(e,t,n,r){var o=n===Tk.ContentFocus?fv():lv(),i=jT(t,r),a=Jx(r);return{dom:e.dom,components:e.components,items:e.items,value:e.value,markers:{selectedItem:a.selectedItem,item:a.item},movement:i,fakeFocus:n===Tk.ContentFocus,focusManager:o,menuBehaviours:NC.unnamedEvents("auto"!==t?[]:[Ki(function(e,t){kC(e,4,a.item).each(function(t){var n=t.numColumns,r=t.numRows;gy.setGridSize(e,r,n)})})])}},uN=function(e,n){var r=zr(ve.none()),o=zr(!1),i=Pc(Bw.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Wl([Ey("dismissAutocompleter",[Hi(Ci(),function(){return s()})])]),lazySink:n.getSink})),a=function(){return Bw.isOpen(i)},u=function(){return r.get().isSome()},c=function(){u()&&Bw.hide(i)},s=function(){if(u()){var t=r.get().map(function(e){return e.element});dx(t.getOr(Vr.fromDom(e.selection.getNode()))).each(Sa),c(),r.set(ve.none()),o.set(!1)}},l=$t(function(){return jx(e)}),f=function(r,i){var a=at(i,function(e){return ve.from(e.columns)}).getOr(1);return Je(i,function(i){var u=i.items;return rN(u,i.matchText,function(n,a){var u=e.selection.getRng();yx(e.dom,u,r).fold(function(){return t.console.error("Lost context. Cursor probably moved")},function(e){var t=e.range,r={hide:function(){s()},reload:function(e){c(),g(e)}};o.set(!0),i.onAction(r,t,n,a),o.set(!1)})},a,Ux.BUBBLE_TO_SANDBOX,n)})},d=function(t){if(!u()){var n=fx(e,t.range);r.set(ve.some({triggerChar:t.triggerChar,element:n,matchLength:t.text.length})),o.set(!1)}},m=function(t,n,r,o){t.matchLength=n.text.length;var a=at(r,function(e){return ve.from(e.columns)}).getOr(1);Bw.showAt(i,{anchor:"node",root:Vr.fromDom(e.getBody()),node:ve.from(t.element)},Cw.sketch(aN(lC("autocompleter-value",!0,o,a,"normal"),a,Tk.ContentFocus,"normal"))),Bw.getContent(i).each(Vh.highlightFirst)},p=function(t){return r.get().map(function(n){return yx(e.dom,e.selection.getRng(),n.triggerChar).bind(function(n){return Rx(e,l,n,t)})}).getOrThunk(function(){return Dx(e,l)})},g=function(e){p(e).fold(s,function(e){d(e.context),e.lookupData.then(function(t){r.get().map(function(n){var r=e.context;if(n.triggerChar===r.triggerChar){var o=f(r.triggerChar,t);o.length>0?m(n,r,t,o):r.text.length-n.matchLength>=10?s():c()}})})})},h=ux(function(e){27!==e.which&&g()},50),v={onKeypress:h,cancelIfNecessary:s,isMenuOpen:a,isActive:u,isProcessingAction:o.get,getView:function(){return Bw.getContent(i)}};xx.setup(v,e)},cN={register:uN},sN=ie(!0),lN=function(e,t,n){return ts(e,t,sN,n)},fN=function(e,t,n){return ns(e,t,sN,n)},dN=Qc,mN=function(e,t,n){return Es(e,t,n).isSome()},pN=function(e){var t=e.raw();return void 0===t.touches||1!==t.touches.length?ve.none():ve.some(t.touches[0])},gN=function(e,t){var n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>5||r>5},hN=function(e){var t=zr(ve.none()),n=zr(!1),r=l(function(t){e.triggerEvent(di(),t),n.set(!0)},400),o=function(e){return pN(e).each(function(o){r.cancel();var i={x:o.clientX,y:o.clientY,target:e.target()};r.schedule(e),n.set(!1),t.set(ve.some(i))}),ve.none()},i=function(e){return r.cancel(),pN(e).each(function(e){t.get().each(function(n){gN(e,n)&&t.set(ve.none())})}),ve.none()},a=function(o){r.cancel();var i=function(e){return Eo(e.target,o.target())};return t.get().filter(i).map(function(t){return n.get()?(o.prevent(),!1):e.triggerEvent(fi(),o)})},u=an([{key:Fo(),value:o},{key:jo(),value:i},{key:Vo(),value:a}]);return{fireIfReady:function(e,t){return Pt(u,t).bind(function(t){return t(e)})}}},vN=function(e){return e.raw().which===Uh()[0]&&!ze(["input","textarea"],Qi(e.target()))&&!mN(e.target(),'[contenteditable="true"]')},bN=function(){return Co().browser.isFirefox()},yN=Mn([gr("triggerEvent"),Er("stopBackspace",!0)]),wN=function(e,t){return bN()?fN(e,"focus",t):lN(e,"focusin",t)},xN=function(e,t){return bN()?fN(e,"blur",t):lN(e,"focusout",t)},CN=function(e,n){var r=Jn("Getting GUI events settings",yN,n),o=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],i=hN(r),a=Fe(o.concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(t){return lN(e,t,function(e){i.fireIfReady(e,t).each(function(t){t&&e.kill()}),r.triggerEvent(t,e)&&e.kill()})}),u=zr(ve.none()),c=lN(e,"paste",function(e){i.fireIfReady(e,"paste").each(function(t){t&&e.kill()}),r.triggerEvent("paste",e)&&e.kill(),u.set(ve.some(t.setTimeout(function(){r.triggerEvent(ui(),e)},0)))}),s=lN(e,"keydown",function(e){r.triggerEvent("keydown",e)?e.kill():!0===r.stopBackspace&&vN(e)&&e.prevent()}),l=wN(e,function(e){r.triggerEvent("focusin",e)&&e.kill()}),f=zr(ve.none()),d=xN(e,function(e){r.triggerEvent("focusout",e)&&e.kill(),f.set(ve.some(t.setTimeout(function(){r.triggerEvent(ai(),e)},0)))});return{unbind:function(){je(a,function(e){e.unbind()}),s.unbind(),l.unbind(),d.unbind(),c.unbind(),u.get().each(t.clearTimeout),f.get().each(t.clearTimeout)}}},kN=function(e,t){var n=Pt(e,"target").map(function(e){return e()}).getOr(t);return zr(n)},SN=function(e,t){var n=zr(!1),r=zr(!1);return{stop:function(){n.set(!0)},cut:function(){r.set(!0)},isStopped:n.get,isCut:r.get,event:ie(e),setSource:t.set,getSource:t.get}},TN=function(e){var t=zr(!1);return{stop:function(){t.set(!0)},cut:te,isStopped:t.get,isCut:ie(!1),event:ie(e),setSource:ce("Cannot set source of a broadcasted event"),getSource:ce("Cannot get source of a broadcasted event")}},NN=Lt.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),EN=function(e,t,n,r,o,i){var a=e(t,r),u=SN(n,o);return a.fold(function(){return i.logEventNoHandlers(t,r),NN.complete()},function(e){var n=e.descHandler;return ku(n)(u),u.isStopped()?(i.logEventStopped(t,e.element,n.purpose()),NN.stopped()):u.isCut()?(i.logEventCut(t,e.element,n.purpose()),NN.complete()):sa(e.element).fold(function(){return i.logNoParent(t,e.element,n.purpose()),NN.complete()},function(r){return i.logEventResponse(t,e.element,n.purpose()),NN.resume(r)})})},ON=function(e,t,n,r,o,i){return EN(e,t,n,r,o,i).fold(function(){return!0},function(r){return ON(e,t,n,r,o,i)},function(){return!1})},_N=function(e,t,n,r,o){var i=kN(n,r);return EN(e,t,n,r,i,o)},AN=function(e,t,n){var r=TN(t);return je(e,function(e){var t=e.descHandler();ku(t)(r)}),r.isStopped()},DN=function(e,t,n,r){var o=n.target();return RN(e,t,n,o,r)},RN=function(e,t,n,r,o){var i=kN(n,r);return ON(e,t,n,r,i,o)},MN=function(e,t){return{element:e,descHandler:t}},PN=function(e,t){return{id:ie(e),descHandler:ie(t)}},IN=function(e){var t=e.dom,n=t.attributes,o=r(t,["attributes"]);return{uid:e.uid,dom:de({tag:"div",attributes:de({role:"presentation"},n)},o),components:e.components,behaviours:og(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},zN=dh({name:"Container",factory:IN,configFields:[Er("components",[]),rg("containerBehaviours",[]),Er("events",{}),Er("domModification",{}),Er("eventOrder",{})]}),BN=function(e){var t=function(t){return sa(e.element()).fold(function(){return!0},function(e){return Eo(t,e)})},n=d(),r=function(e,r){return n.find(t,e,r)},o=CN(e.element(),{triggerEvent:function(e,t){return Hs(e,t.target(),function(n){return DN(r,e,t,n)})}}),i={debugInfo:ie("real"),triggerEvent:function(e,t,n){Hs(e,t,function(o){return RN(r,e,n,t,o)})},triggerFocus:function(e,t){Ja(e).fold(function(){uf(e)},function(n){Hs(ii(),e,function(n){return _N(r,ii(),{originator:ie(t),kill:te,prevent:te,target:ie(e)},e,n),!1})})},triggerEscape:function(e,t){i.triggerEvent("keydown",e.element(),t.event())},getByUid:function(e){return h(e)},getByDom:function(e){return v(e)},build:Pc,addToGui:function(e){c(e)},removeFromGui:function(e){s(e)},addToWorld:function(e){a(e)},removeFromWorld:function(e){u(e)},broadcast:function(e){m(e)},broadcastOn:function(e,t){p(e,t)},broadcastEvent:function(e,t){g(e,t)},isConnected:ie(!0)},a=function(e){e.connect(i),na(e.element())||(n.register(e),je(e.components(),a),i.triggerEvent(gi(),e.element(),{target:ie(e.element())}))},u=function(e){na(e.element())||(je(e.components(),u),n.unregister(e)),e.disconnect()},c=function(t){Wm(e,t)},s=function(e){Ym(e)},l=function(){o.unbind(),ka(e.element())},f=function(e){var t=n.filter(ci());je(t,function(t){var n=t.descHandler();ku(n)(e)})},m=function(e){f({universal:ie(!0),data:ie(e)})},p=function(e,t){f({universal:ie(!1),channels:ie(e),data:ie(t)})},g=function(e,t){var r=n.filter(e);return AN(r,t)},h=function(e){return n.getById(e).fold(function(){return lt.error(new Error('Could not find component with uid: "'+e+'" in system.'))},lt.value)},v=function(e){var t=Ja(e).getOr("not found");return h(t)};return a(e),{root:ie(e),element:e.element,destroy:l,add:c,remove:s,getByUid:h,getByDom:v,addToWorld:a,removeFromWorld:u,broadcast:m,broadcastOn:p,broadcastEvent:g}},LN=function(e,t){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Fe(e.items,t.interpreter)}},HN=ie([Er("prefix","form-field"),rg("fieldBehaviours",[Ch,ng])]),FN=ie([zg({schema:[lr("dom")],name:"label"}),zg({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[lr("text")],name:"aria-descriptor"}),Pg({factory:{sketch:function(e){var t=rn(e,["factory"]);return e.factory.sketch(t)}},schema:[lr("factory")],name:"field"})]),jN=function(e,t,n,r){var o=ig(e.fieldBehaviours,[Ch.config({find:function(t){return Yg(t,e,"field")}}),ng.config({store:{mode:"manual",getValue:function(e){return Ch.getCurrent(e).bind(ng.getValue)},setValue:function(e,t){Ch.getCurrent(e).each(function(e){ng.setValue(e,t)})}}})]),i=zi([Ki(function(t,n){var r=Jg(t,e,["label","field","aria-descriptor"]);r.field().each(function(t){var n=qa(e.prefix);r.label().each(function(e){Aa(e.element(),"for",n),Aa(t.element(),"id",n)}),r["aria-descriptor"]().each(function(n){var r=qa(e.prefix);Aa(n.element(),"id",r),Aa(t.element(),"aria-describedby",r)})})})]),a={getField:function(t){return Yg(t,e,"field")},getLabel:function(t){return Yg(t,e,"label")}};return{uid:e.uid,dom:e.dom,components:t,behaviours:o,events:i,apis:a}},VN=mh({name:"FormField",configFields:HN(),partFields:FN(),factory:jN,apis:{getField:function(e,t){return e.getField(t)},getLabel:function(e,t){return e.getLabel(t)}}}),UN=function(e,t){return hu({attributes:an([{key:t.tabAttr,value:"true"}])})},qN=Object.freeze({__proto__:null,exhibit:UN}),$N=[Er("tabAttr","data-alloy-tabstop")],WN=Kl({fields:$N,name:"tabstopping",active:qN}),GN=function(e,t,n,r){var o=YN(e,t,n,r);return VN.sketch(o)},KN=function(e,t){return GN(e,t,[],[])},YN=function(e,t,n,r){return{dom:JN(n),components:e.toArray().concat([t]),fieldBehaviours:Wl(r)}},XN=function(){return JN([])},JN=function(e){return{tag:"div",classes:["tox-form__group"].concat(e)}},QN=function(e,t){return VN.parts().label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}})},ZN=qa("form-component-change"),eE=qa("form-close"),tE=qa("form-cancel"),nE=qa("form-action"),rE=qa("form-submit"),oE=qa("form-block"),iE=qa("form-unblock"),aE=qa("form-tabchange"),uE=qa("form-resize"),cE=function(e,t){var n=e.label.map(function(e){return QN(e,t)}),r=function(e){return function(t,n){Es(n.event().target(),"[data-collection-item-value]").each(function(r){e(t,n,r,Ra(r,"data-collection-item-value"))})}},o=function(e){return'"'===e?"&quot;":e},i=function(n,r){var i=Fe(r,function(n){var r=FC.translate(n.text),i=1===e.columns?'<div class="tox-collection__item-label">'+r+"</div>":"",a='<div class="tox-collection__item-icon">'+n.icon+"</div>",u={_:" "," - ":" ","-":" "},c=r.replace(/\_| \- |\-/g,function(e){return u[e]});return'<div class="tox-collection__item'+(t.isReadOnly()?" tox-collection__item--state-disabled":"")+'" tabindex="-1" data-collection-item-value="'+o(n.value)+'" title="'+c+'" aria-label="'+c+'">'+a+i+"</div>"}),a=e.columns>1&&"auto"!==e.columns?He(i,e.columns):[i],u=Fe(a,function(e){return'<div class="tox-collection__group">'+e.join("")+"</div>"});Ea(n.element(),u.join(""))},a=r(function(n,r,o,i){r.stop(),t.isReadOnly()||Di(n,nE,{name:e.name,value:i})}),u=[Hi(Ko(),r(function(e,t,n){uf(n)})),Hi(ti(),a),Hi(fi(),a),Hi(Yo(),r(function(e,t,n){Ns(e.element(),"."+Gx).each(function(e){$u(e,Gx)}),Uu(n,Gx)})),Hi(Xo(),r(function(e){Ns(e.element(),"."+Gx).each(function(e){$u(e,Gx)})})),Ji(r(function(t,n,r,o){Di(t,nE,{name:e.name,value:o})}))],c=function(e,t){return Fe(qd(e.element(),".tox-collection__item"),t)},s=VN.parts().field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:ae},behaviours:Wl([ik.config({disabled:t.isReadOnly,onDisabled:function(e){c(e,function(e){Uu(e,"tox-collection__item--state-disabled"),Aa(e,"aria-disabled",!0)})},onEnabled:function(e){c(e,function(e){$u(e,"tox-collection__item--state-disabled"),Ia(e,"aria-disabled")})}}),Yk(),Ty.config({}),ng.config({store:{mode:"memory",initialValue:[]},onSetValue:function(t,n){i(t,n),"auto"===e.columns&&kC(t,5,"tox-collection__item").each(function(e){var n=e.numRows,r=e.numColumns;gy.setGridSize(t,n,r)}),Ai(t,uE)}}),WN.config({}),gy.config(VT(e.columns,"normal")),Ey("collection-events",u)]),eventOrder:{"alloy.execute":["disabling","alloy.base.behaviour","collection-events"]}});return GN(n,s,["tox-form__group--collection"],[])},sE=ie([wr("data"),Er("inputAttributes",{}),Er("inputStyles",{}),Er("tag","input"),Er("inputClasses",[]),Ks("onSetValue"),Er("styles",{}),Er("eventOrder",{}),rg("inputBehaviours",[ng,zy]),Er("selectOnFocus",!0)]),lE=function(e){return Wl([zy.config({onFocus:e.selectOnFocus?function(e){var t=e.element(),n=wc(t);t.dom().setSelectionRange(0,n.length)}:te})])},fE=function(e){return de(de({},lE(e)),ig(e.inputBehaviours,[ng.config({store:de(de({mode:"manual"},e.data.map(function(e){return{initialValue:e}}).getOr({})),{getValue:function(e){return wc(e.element())},setValue:function(e,t){wc(e.element())!==t&&xc(e.element(),t)}}),onSetValue:e.onSetValue})]))},dE=function(e){return{tag:e.tag,attributes:de({type:"text"},e.inputAttributes),styles:e.inputStyles,classes:e.inputClasses}},mE=function(e,t){return{uid:e.uid,dom:dE(e),components:[],behaviours:fE(e),eventOrder:e.eventOrder}},pE=dh({name:"Input",configFields:sE(),factory:mE}),gE={},hE={exports:gE};!function(t,n,r,o){!function(o){if("object"==typeof n&&void 0!==r)r.exports=o();else if("function"==typeof t&&t.amd)t([],o);else{var i;i="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this,i.EphoxContactWrapper=o()}}(function(){return function(){function e(t,n,r){function i(u,c){if(!n[u]){if(!t[u]){var s="function"==typeof o&&o;if(!c&&s)return s(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}};t[u][0].call(f.exports,function(e){return i(t[u][1][e]||e)},f,f.exports,e,t,n,r)}return n[u].exports}for(var a="function"==typeof o&&o,u=0;u<r.length;u++)i(r[u]);return i}return e}()({1:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function u(){h&&p&&(h=!1,p.length?g=p.concat(g):v=-1,g.length&&c())}function c(){if(!h){var e=i(u);h=!0;for(var t=g.length;t;){for(p=g,g=[];++v<t;)p&&p[v].run();v=-1,t=g.length}p=null,h=!1,a(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var f,d,m=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(e){d=o}}();var p,g=[],h=!1,v=-1;m.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.push(new s(e,t)),1!==g.length||h||i(c)},s.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=l,m.addListener=l,m.once=l,m.off=l,m.removeListener=l,m.removeAllListeners=l,m.emit=l,m.prependListener=l,m.prependOnceListener=l,m.listeners=function(e){return[]},m.binding=function(e){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(e){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){function r(){}function o(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?u:c)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void c(t.promise,e)}u(t.promise,r)})}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void s(e);if("function"==typeof n)return void f(o(n,t),e)}e._state=1,e._value=t,s(e)}catch(t){c(e,t)}}function c(e,t){e._state=2,e._value=t,s(e)}function s(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e(function(e){n||(n=!0,u(t,e))},function(e){n||(n=!0,c(t,e))})}catch(e){if(n)return;n=!0,c(t,e)}}var d=setTimeout;i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new l(e,t,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,function(e){r(i,e)},n)}t[i]=a,0==--o&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var o=t.length,i=0;i<t.length;i++)r(i,t[i])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},i._immediateFn="function"==typeof e?function(t){e(t)}:function(e){d(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){function o(e,t){this._id=e,this._clearFn=t}var i=e("process/browser.js").nextTick,a=Function.prototype.apply,u=Array.prototype.slice,c={},s=0;n.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=s++,r=!(arguments.length<2)&&u.call(arguments,1);return c[t]=!0,i(function(){c[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete c[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),o=function(){return"undefined"!=typeof window?window:Function("return this;")()}();t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)})}(void 0,gE,hE,void 0);var vE,bE=hE.exports.boltExport,yE=function(e){var n=ve.none(),r=[],o=function(e){return yE(function(t){i(function(n){t(e(n))})})},i=function(e){u()?s(e):r.push(e)},a=function(e){u()||(n=ve.some(e),c(r),r=[])},u=function(){return n.isSome()},c=function(e){je(e,s)},s=function(e){n.each(function(n){t.setTimeout(function(){e(n)},0)})};return e(a),{get:i,map:o,isReady:u}},wE=function(e){return yE(function(t){t(e)})},xE={nu:yE,pure:wE},CE=function(e){t.setTimeout(function(){throw e},0)},kE=function(e){var t=function(t){e().then(t,CE)};return{map:function(t){return kE(function(){return e().then(t)})},bind:function(t){return kE(function(){return e().then(function(e){return t(e).toPromise()})})},anonBind:function(t){return kE(function(){return e().then(function(){return t.toPromise()})})},toLazy:function(){return xE.nu(t)},toCached:function(){var t=null;return kE(function(){return null===t&&(t=e()),t})},toPromise:e,get:t}},SE=function(e){return kE(function(){return new bE(e)})},TE=function(e){return kE(function(){return bE.resolve(e)})},NE={nu:SE,pure:TE},EE=["input","textarea"],OE=function(e){var t=Qi(e);return ze(EE,t)},_E=function(e,t){var n=t.getRoot(e).getOr(e.element());$u(n,t.invalidClass),t.notify.each(function(t){OE(e.element())&&Aa(e.element(),"aria-invalid",!1),t.getContainer(e).each(function(e){Ea(e,t.validHtml)}),t.onValid(e)})},AE=function(e,t,n,r){var o=t.getRoot(e).getOr(e.element());Uu(o,t.invalidClass),t.notify.each(function(t){OE(e.element())&&Aa(e.element(),"aria-invalid",!0),t.getContainer(e).each(function(e){Ea(e,r)}),t.onInvalid(e,r)})},DE=function(e,t,n){return t.validator.fold(function(){return NE.pure(lt.value(!0))},function(t){return t.validate(e)})},RE=function(e,t,n){return t.notify.each(function(t){t.onValidate(e)}),DE(e,t).map(function(n){return e.getSystem().isConnected()?n.fold(function(n){return AE(e,t,0,n),lt.error(n)},function(n){return _E(e,t),lt.value(n)}):lt.error("No longer in system")})},ME=function(e,t){var n=t.getRoot(e).getOr(e.element());return Wu(n,t.invalidClass)},PE=Object.freeze({__proto__:null,markValid:_E,markInvalid:AE,query:DE,run:RE,isInvalid:ME}),IE=function(e,t){return e.validator.map(function(t){return zi([Hi(t.onEvent,function(t){RE(t,e).get(ae)})].concat(t.validateOnLoad?[Ki(function(t){RE(t,e).get(te)})]:[]))}).getOr({})},zE=Object.freeze({__proto__:null,events:IE}),BE=[lr("invalidClass"),Er("getRoot",ve.none),Tr("notify",[Er("aria","alert"),Er("getContainer",ve.none),Er("validHtml",""),Ks("onValid"),Ks("onInvalid"),Ks("onValidate")]),Tr("validator",[lr("validate"),Er("onEvent","input"),Er("validateOnLoad",!0)])],LE=Kl({fields:BE,name:"invalidating",active:zE,apis:PE,extra:{validation:function(e){return function(t){var n=ng.getValue(t);return NE.pure(e(n))}}}}),HE=function(e,t,n,r){return n.getOrCreate(e,t,r)},FE=Object.freeze({__proto__:null,getCoupled:HE}),jE=[fr("others",Gn(lt.value,tr()))],VE=function(){var e={},t=function(t,n,r){var o=kt(n.others);if(o)return Pt(e,r).getOrThunk(function(){var o=Pt(n.others,r).getOrDie("No information found for coupled component: "+r),i=o(t),a=t.getSystem().build(i);return e[r]=a,a});throw new Error("Cannot find coupled component: "+r+". Known coupled components: "+JSON.stringify(o,null,2))},n=ie({});return fu({readState:n,getOrCreate:t})},UE=Object.freeze({__proto__:null,init:VE}),qE=Kl({fields:jE,name:"coupling",apis:FE,state:UE}),$E=ie("sink"),WE=ie(zg({name:$E(),overrides:ie({dom:{tag:"div"},behaviours:Wl([Fm.config({useFixed:le})]),events:zi([$i(Jo()),$i(qo()),$i(ti())])})}));!function(e){e[e.HighlightFirst=0]="HighlightFirst",e[e.HighlightNone=1]="HighlightNone"}(vE||(vE={}));var GE,KE=function(e,t){var n=e.getHotspot(t).getOr(t),r=e.getAnchorOverrides();return e.layouts.fold(function(){return{anchor:"hotspot",hotspot:n,overrides:r}},function(e){return{anchor:"hotspot",hotspot:n,overrides:r,layouts:e}})},YE=function(e,t,n){return(0,e.fetch)(n).map(t)},XE=function(e,t,n,r,o,i,a){var u=YE(e,t,r),c=tO(r,e);return u.map(function(e){return e.bind(function(e){return ve.from(Pw.sketch(de(de({},i.menu()),{uid:Qa(""),data:e,highlightImmediately:a===vE.HighlightFirst,onOpenMenu:function(e,t){var r=c().getOrDie();Fm.position(r,n,t),wp.decloak(o)},onOpenSubmenu:function(e,t,n){var r=c().getOrDie();Fm.position(r,{anchor:"submenu",item:t},n),wp.decloak(o)},onRepositionMenu:function(e,t,r){var o=c().getOrDie();Fm.position(o,n,t),je(r,function(e){Fm.position(o,{anchor:"submenu",item:e.triggeringItem},e.triggeredMenu)})},onEscape:function(){return zy.focus(r),wp.close(o),ve.some(!0)}})))})})},JE=function(e,t,n,r,o,i,a){var u=KE(e,n);return XE(e,t,u,n,r,o,a).map(function(e){return e.fold(function(){wp.isOpen(r)&&wp.close(r)},function(e){wp.cloak(r),wp.open(r,e),i(r)}),r})},QE=function(e,t,n,r,o,i,a){return wp.close(r),NE.pure(r)},ZE=function(e,t,n,r,o,i){var a=qE.getCoupled(n,"sandbox");return(wp.isOpen(a)?QE:JE)(e,t,n,a,r,o,i)},eO=function(e,t,n){var r=Ch.getCurrent(t).getOr(t),o=Kc(e.element());n?lc(r.element(),"min-width",o+"px"):Gc(r.element(),o)},tO=function(e,t){return e.getSystem().getByUid(t.uid+"-"+$E()).map(function(e){return function(){return lt.value(e)}}).getOrThunk(function(){return t.lazySink.fold(function(){return function(){return lt.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(t){return function(){return t(e)}})})},nO=function(e){wp.getState(e).each(function(e){Pw.repositionMenus(e)})},rO=function(e,t,n){var r=_s(),o=function(o,i){var a=KE(e,t);r.link(t.element()),e.matchWidth&&eO(a.hotspot,i,e.useMinWidth),e.onOpen(a,o,i),void 0!==n&&void 0!==n.onOpen&&n.onOpen(o,i)},i=function(e,o){r.unlink(t.element()),void 0!==n&&void 0!==n.onClose&&n.onClose(e,o)},a=tO(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:r.id,role:"listbox"}},behaviours:ag.augment(e.sandboxBehaviours,[ng.config({store:{mode:"memory",initialValue:t}}),wp.config({onOpen:o,onClose:i,isPartOf:function(e,n,r){return Ds(n,r)||Ds(t,r)},getAttachPoint:function(){return a().getOrDie()}}),Ch.config({find:function(e){return wp.getState(e).bind(function(e){return Ch.getCurrent(e)})}}),nf.config({channels:de(de({},Tp({isExtraPart:se})),Ep({doReposition:nO}))})])}},oO=function(e){var t=qE.getCoupled(e,"sandbox");nO(t)},iO=function(){return[Er("sandboxClasses",[]),ag.field("sandboxBehaviours",[Ch,nf,wp,ng])]},aO=ie([lr("dom"),lr("fetch"),Ks("onOpen"),Ys("onExecute"),Er("getHotspot",ve.some),Er("getAnchorOverrides",ie({})),Zf(),rg("dropdownBehaviours",[ew,qE,gy,zy]),lr("toggleClass"),Er("eventOrder",{}),wr("lazySink"),Er("matchWidth",!1),Er("useMinWidth",!1),wr("role")].concat(iO())),uO=ie([Ig({schema:[$s()],name:"menu",defaults:function(e){return{onExecute:e.onExecute}}}),WE()]),cO=function(e,t,n,r){var o,i=function(e){wp.getState(e).each(function(e){Pw.highlightPrimary(e)})},a=function(t){var n=i;ZE(e,function(e){return e},t,r,n,vE.HighlightFirst).get(te)},u={expand:function(t){ew.isOn(t)||ZE(e,function(e){return e},t,r,te,vE.HighlightNone).get(te)},open:function(t){ew.isOn(t)||ZE(e,function(e){return e},t,r,te,vE.HighlightFirst).get(te)},isOpen:ew.isOn,close:function(t){ew.isOn(t)&&ZE(e,function(e){return e},t,r,te,vE.HighlightFirst).get(te)},repositionMenus:function(e){ew.isOn(e)&&oO(e)}},c=function(e,t){return Ri(e),ve.some(!0)};return{uid:e.uid,dom:e.dom,components:t,behaviours:ig(e.dropdownBehaviours,[ew.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),qE.config({others:{sandbox:function(t){return rO(e,t,{onOpen:function(){ew.on(t)},onClose:function(){ew.off(t)}})}}}),gy.config({mode:"special",onSpace:c,onEnter:c,onDown:function(e,t){if(sO.isOpen(e)){var n=qE.getCoupled(e,"sandbox");i(n)}else sO.open(e);return ve.some(!0)},onEscape:function(e,t){return sO.isOpen(e)?(sO.close(e),ve.some(!0)):ve.none()}}),zy.config({})]),events:nw(ve.some(a)),eventOrder:de(de({},e.eventOrder),(o={},o[si()]=["disabling","toggling","alloy.base.behaviour"],o)),apis:u,domModification:{attributes:de(de({"aria-haspopup":"true"},e.role.fold(function(){return{}},function(e){return{role:e}})),"button"===e.dom.tag?{type:function(t){return Pt(e.dom,"attributes").bind(function(e){return Pt(e,t)})}("type").getOr("button")}:{})}}},sO=mh({name:"Dropdown",configFields:aO(),partFields:uO(),factory:cO,apis:{open:function(e,t){return e.open(t)},expand:function(e,t){return e.expand(t)},close:function(e,t){return e.close(t)},isOpen:function(e,t){return e.isOpen(t)},repositionMenus:function(e,t){return e.repositionMenus(t)}}}),lO=function(){return hu({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},fO=function(){return zi([Bi(ri(),ie(!0))])},dO=Object.freeze({__proto__:null,events:fO,exhibit:lO}),mO=Kl({fields:[],name:"unselecting",active:dO}),pO=function(e,t){return sO.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:Wl([eS.button(t.providers.isReadOnly),Yk(),mO.config({}),WN.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:function(n){return NE.nu(function(t){return e.fetch(t)}).map(function(r){return ve.from(iN(Ut(HT(qa("menu-value"),r,function(t){e.onItemAction(n,t)},e.columns,e.presets,Ux.CLOSE_ON_EXECUTE,function(){return!1},t.providers),{movement:jT(e.columns,e.presets)})))})},parts:{menu:eC(0,0,e.presets)}})},gO=qa("color-input-change"),hO=qa("color-swatch-change"),vO=qa("color-picker-cancel"),bO=function(e,t,n){var r=VN.parts().field({factory:pE,inputClasses:["tox-textfield"],onSetValue:function(e){return LE.run(e).get(function(){})},inputBehaviours:Wl([ik.config({disabled:t.providers.isReadOnly}),Yk(),WN.config({}),LE.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(e){return sa(e.element())},notify:{onValid:function(e){var t=ng.getValue(e);Di(e,gO,{color:t})}},validator:{validateOnLoad:!1,validate:function(e){var t=ng.getValue(e);if(0===t.length)return NE.pure(lt.value(!0));var n=Vr.fromTag("span");lc(n,"background-color",t);var r=gc(n,"background-color").fold(function(){return lt.error("blah")},function(e){return lt.value(t)});return NE.pure(r)}}})]),selectOnFocus:!1}),o=e.label.map(function(e){return QN(e,t.providers)}),i=function(e,t){Di(e,hO,{value:t})},a=function(e,t){u.getOpt(e).each(function(e){"custom"===t?n.colorPicker(function(t){t.fold(function(){return Ai(e,vO)},function(t){i(e,t),kT(t)})},"#ffffff"):"remove"===t?i(e,""):i(e,t)})},u=Qw(pO({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Nl,Tl,Al]},onLtr:function(){return[Tl,Nl,Al]}},components:[],fetch:MT(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:a},t));return VN.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:o.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,u.asSpec()]}]),fieldBehaviours:Wl([Ey("form-field-events",[Hi(gO,function(t,n){u.getOpt(t).each(function(e){lc(e.element(),"background-color",n.event().color())}),Di(t,ZN,{name:e.name})}),Hi(hO,function(e,t){VN.getField(e).each(function(n){ng.setValue(n,t.event().value()),Ch.getCurrent(e).each(zy.focus)})}),Hi(vO,function(e,t){VN.getField(e).each(function(t){Ch.getCurrent(e).each(zy.focus)})})])])})},yO=function(e,t,n){return{hue:e,saturation:t,value:n}},wO=function(e){var t=0,n=0,r=0,o=e.red/255,i=e.green/255,a=e.blue/255,u=Math.min(o,Math.min(i,a)),c=Math.max(o,Math.max(i,a));if(u===c)return r=u,yO(0,0,100*r);var s=o===u?i-a:a===u?o-i:a-o;return t=o===u?3:a===u?1:5,t=60*(t-s/(c-u)),n=(c-u)/c,r=c,yO(Math.round(t),Math.round(100*n),Math.round(100*r))},xO=function(e){var t=(100-e)/100*360,n=yO(t,100,100),r=eT(n);return WS(r)},CO=qa("rgb-hex-update"),kO=qa("slider-update"),SO=qa("palette-update"),TO=zg({schema:[lr("dom")],name:"label"}),NO=function(e){return zg({name:e+"-edge",overrides:function(t){return t.model.manager.edgeActions[e].fold(function(){return{}},function(e){return{events:zi([Fi(Fo(),function(t,n,r){return e(t,r)},[t]),Fi(qo(),function(t,n,r){return e(t,r)},[t]),Fi($o(),function(t,n,r){r.mouseIsDown.get()&&e(t,r)},[t])])}})}})},EO=NO("top-left"),OO=NO("top"),_O=NO("top-right"),AO=NO("right"),DO=NO("bottom-right"),RO=NO("bottom"),MO=NO("bottom-left"),PO=NO("left"),IO=Pg({name:"thumb",defaults:ie({dom:{styles:{position:"absolute"}}}),overrides:function(e){return{events:zi([Ui(Fo(),e,"spectrum"),Ui(jo(),e,"spectrum"),Ui(Vo(),e,"spectrum"),Ui(qo(),e,"spectrum"),Ui($o(),e,"spectrum"),Ui(Go(),e,"spectrum")])}}}),zO=Pg({schema:[Ir("mouseIsDown",function(){return zr(!1)})],name:"spectrum",overrides:function(e){var t=e.model,n=t.manager,r=function(t,r){return n.getValueFromEvent(r).map(function(r){return n.setValueFrom(t,e,r)})};return{behaviours:Wl([gy.config({mode:"special",onLeft:function(t){return n.onLeft(t,e)},onRight:function(t){return n.onRight(t,e)},onUp:function(t){return n.onUp(t,e)},onDown:function(t){return n.onDown(t,e)}}),zy.config({})]),events:zi([Hi(Fo(),r),Hi(jo(),r),Hi(qo(),r),Hi($o(),function(t,n){e.mouseIsDown.get()&&r(t,n)})])}}}),BO=[TO,PO,AO,OO,RO,EO,_O,MO,DO,IO,zO],LO=ie("slider.change.value"),HO=function(e){return-1!==e.type.indexOf("touch")},FO=function(e){var t=e.event().raw();if(HO(t)){var n=t;return void 0!==n.touches&&1===n.touches.length?ve.some(n.touches[0]).map(function(e){return jc(e.clientX,e.clientY)}):ve.none()}var r=t;return void 0!==r.clientX?ve.some(r).map(function(e){return jc(e.clientX,e.clientY)}):ve.none()},jO=function(e){return e.model.minX},VO=function(e){return e.model.minY},UO=function(e){return e.model.minX-1},qO=function(e){return e.model.minY-1},$O=function(e){return e.model.maxX},WO=function(e){return e.model.maxY},GO=function(e){return e.model.maxX+1},KO=function(e){return e.model.maxY+1},YO=function(e,t,n){return t(e)-n(e)},XO=function(e){return YO(e,$O,jO)},JO=function(e){return YO(e,WO,VO)},QO=function(e){return XO(e)/2},ZO=function(e){return JO(e)/2},e_=function(e){return e.stepSize},t_=function(e){return e.snapToGrid},n_=function(e){return e.snapStart},r_=function(e){return e.rounded},o_=function(e,t){return void 0!==e[t+"-edge"]},i_=function(e){return o_(e,"left")},a_=function(e){return o_(e,"right")},u_=function(e){return o_(e,"top")},c_=function(e){return o_(e,"bottom")},s_=function(e){return e.model.value.get()},l_=function(e){return{x:ie(e)}},f_=function(e){return{y:ie(e)}},d_=function(e,t){return{x:ie(e),y:ie(t)}},m_=function(e,t){Di(e,LO(),{value:t})},p_=function(e,t){m_(e,d_(UO(t),qO(t)))},g_=function(e,t){m_(e,f_(qO(t)))},h_=function(e,t){m_(e,d_(QO(t),qO(t)))},v_=function(e,t){m_(e,d_(GO(t),qO(t)))},b_=function(e,t){m_(e,l_(GO(t)))},y_=function(e,t){m_(e,d_(GO(t),ZO(t)))},w_=function(e,t){m_(e,d_(GO(t),KO(t)))},x_=function(e,t){m_(e,f_(KO(t)))},C_=function(e,t){m_(e,d_(QO(t),KO(t)))},k_=function(e,t){m_(e,d_(UO(t),KO(t)))},S_=function(e,t){m_(e,l_(UO(t)))},T_=function(e,t){m_(e,d_(UO(t),ZO(t)))},N_=function(e,t,n,r){return e<t?e:e>n?n:e===t?t-1:Math.max(t,e-r)},E_=function(e,t,n,r){return e>n?e:e<t?t:e===n?n+1:Math.min(n,e+r)},O_=function(e,t,n){return Math.max(t,Math.min(n,e))},__=function(e,t,n,r,o){return o.fold(function(){var o=e-t,i=Math.round(o/r)*r;return O_(t+i,t-1,n+1)},function(t){var o=(e-t)%r,i=Math.round(o/r),a=Math.floor((e-t)/r),u=Math.floor((n-t)/r),c=Math.min(u,a+i),s=t+c*r;return Math.max(t,s)})},A_=function(e,t,n){return Math.min(n,Math.max(e,t))-t},D_=function(e){var t=e.min,n=e.max,r=e.range,o=e.value,i=e.step,a=e.snap,u=e.snapStart,c=e.rounded,s=e.hasMinEdge,l=e.hasMaxEdge,f=e.minBound,d=e.maxBound,m=e.screenRange,p=s?t-1:t,g=l?n+1:n;if(o<f)return p;if(o>d)return g;var h=A_(o,f,d),v=O_(h/m*r+t,p,g);return a&&v>=t&&v<=n?__(v,t,n,i,u):c?Math.round(v):v},R_=function(e){var t=e.min,n=e.max,r=e.range,o=e.value,i=e.hasMinEdge,a=e.hasMaxEdge,u=e.maxBound,c=e.maxOffset,s=e.centerMinEdge,l=e.centerMaxEdge;return o<t?i?0:s:o>n?a?u:l:(o-t)/r*c},M_=function(e){return e.element().dom().getBoundingClientRect()},P_=function(e,t){return e[t]},I_=function(e){var t=M_(e);return P_(t,"left")},z_=function(e){var t=M_(e);return P_(t,"right")},B_=function(e){var t=M_(e);return P_(t,"top")},L_=function(e){var t=M_(e);return P_(t,"bottom")},H_=function(e){var t=M_(e);return P_(t,"width")},F_=function(e){var t=M_(e);return P_(t,"height")},j_=function(e,t,n){return(e+t)/2-n},V_=function(e,t){var n=M_(e),r=M_(t),o=P_(n,"left"),i=P_(n,"right"),a=P_(r,"left");return j_(o,i,a)},U_=function(e,t){var n=M_(e),r=M_(t),o=P_(n,"top"),i=P_(n,"bottom"),a=P_(r,"top");return j_(o,i,a)},q_=function(e,t){Di(e,LO(),{value:t})},$_=function(e){return{x:ie(e)}},W_=function(e,t,n){var r={min:jO(t),max:$O(t),range:XO(t),value:n,step:e_(t),snap:t_(t),snapStart:n_(t),rounded:r_(t),hasMinEdge:i_(t),hasMaxEdge:a_(t),minBound:I_(e),maxBound:z_(e),screenRange:H_(e)};return D_(r)},G_=function(e,t,n){var r=W_(e,t,n),o=$_(r);return q_(e,o),r},K_=function(e,t){var n=jO(t);q_(e,$_(n))},Y_=function(e,t){var n=$O(t);q_(e,$_(n))},X_=function(e,t,n){var r=e>0?E_:N_,o=r(s_(n).x(),jO(n),$O(n),e_(n));return q_(t,$_(o)),ve.some(o)},J_=function(e){return function(t,n){return X_(e,t,n).map(function(){return!0})}},Q_=function(e){return FO(e).map(function(e){return e.left()})},Z_=function(e,t,n,r,o){var i=H_(e),a=r.bind(function(t){return ve.some(V_(t,e))}).getOr(0),u=o.bind(function(t){return ve.some(V_(t,e))}).getOr(i),c={min:jO(t),max:$O(t),range:XO(t),value:n,hasMinEdge:i_(t),hasMaxEdge:a_(t),minBound:I_(e),minOffset:0,maxBound:z_(e),maxOffset:i,centerMinEdge:a,centerMaxEdge:u};return R_(c)},eA=function(e,t,n,r,o,i){var a=Z_(t,i,n,r,o);return I_(t)-I_(e)+a},tA=function(e,t,n,r){var o=s_(n),i=eA(e,r.getSpectrum(e),o.x(),r.getLeftEdge(e),r.getRightEdge(e),n),a=Kc(t.element())/2;lc(t.element(),"left",i-a+"px")},nA=J_(-1),rA=J_(1),oA=ve.none,iA=ve.none,aA={"top-left":ve.none(),top:ve.none(),"top-right":ve.none(),right:ve.some(b_),"bottom-right":ve.none(),bottom:ve.none(),"bottom-left":ve.none(),left:ve.some(S_)},uA=Object.freeze({__proto__:null,setValueFrom:G_,setToMin:K_,setToMax:Y_,findValueOfOffset:W_,getValueFromEvent:Q_,findPositionOfValue:eA,setPositionFromValue:tA,onLeft:nA,onRight:rA,onUp:oA,onDown:iA,edgeActions:aA}),cA=function(e,t){Di(e,LO(),{value:t})},sA=function(e){return{y:ie(e)}},lA=function(e,t,n){var r={min:VO(t),max:WO(t),range:JO(t),value:n,step:e_(t),snap:t_(t),snapStart:n_(t),rounded:r_(t),hasMinEdge:u_(t),hasMaxEdge:c_(t),minBound:B_(e),maxBound:L_(e),screenRange:F_(e)};return D_(r)},fA=function(e,t,n){var r=lA(e,t,n),o=sA(r);return cA(e,o),r},dA=function(e,t){var n=VO(t);cA(e,sA(n))},mA=function(e,t){var n=WO(t);cA(e,sA(n))},pA=function(e,t,n){var r=e>0?E_:N_,o=r(s_(n).y(),VO(n),WO(n),e_(n));return cA(t,sA(o)),ve.some(o)},gA=function(e){return function(t,n){return pA(e,t,n).map(function(){return!0})}},hA=function(e){return FO(e).map(function(e){return e.top()})},vA=function(e,t,n,r,o){var i=F_(e),a=r.bind(function(t){return ve.some(U_(t,e))}).getOr(0),u=o.bind(function(t){return ve.some(U_(t,e))}).getOr(i),c={min:VO(t),max:WO(t),range:JO(t),value:n,hasMinEdge:u_(t),hasMaxEdge:c_(t),minBound:B_(e),minOffset:0,maxBound:L_(e),maxOffset:i,centerMinEdge:a,centerMaxEdge:u};return R_(c)},bA=function(e,t,n,r,o,i){var a=vA(t,i,n,r,o);return B_(t)-B_(e)+a},yA=function(e,t,n,r){var o=s_(n),i=bA(e,r.getSpectrum(e),o.y(),r.getTopEdge(e),r.getBottomEdge(e),n),a=Bc(t.element())/2;lc(t.element(),"top",i-a+"px")},wA=ve.none,xA=ve.none,CA=gA(-1),kA=gA(1),SA={"top-left":ve.none(),top:ve.some(g_),"top-right":ve.none(),right:ve.none(),"bottom-right":ve.none(),bottom:ve.some(x_),"bottom-left":ve.none(),left:ve.none()},TA=Object.freeze({__proto__:null,setValueFrom:fA,setToMin:dA,setToMax:mA,findValueOfOffset:lA,getValueFromEvent:hA,findPositionOfValue:bA,setPositionFromValue:yA,onLeft:wA,onRight:xA,onUp:CA,onDown:kA,edgeActions:SA}),NA=function(e,t){Di(e,LO(),{value:t})},EA=function(e,t){return{x:ie(e),y:ie(t)}},OA=function(e,t,n){var r=W_(e,t,n.left()),o=lA(e,t,n.top()),i=EA(r,o);return NA(e,i),i},_A=function(e,t,n,r){var o=e>0?E_:N_,i=t?s_(r).x():o(s_(r).x(),jO(r),$O(r),e_(r)),a=t?o(s_(r).y(),VO(r),WO(r),e_(r)):s_(r).y();return NA(n,EA(i,a)),ve.some(i)},AA=function(e,t){return function(n,r){return _A(e,t,n,r).map(function(){return!0})}},DA=function(e,t){var n=jO(t),r=VO(t);NA(e,EA(n,r))},RA=function(e,t){var n=$O(t),r=WO(t);NA(e,EA(n,r))},MA=function(e){return FO(e)},PA=function(e,t,n,r){var o=s_(n),i=eA(e,r.getSpectrum(e),o.x(),r.getLeftEdge(e),r.getRightEdge(e),n),a=bA(e,r.getSpectrum(e),o.y(),r.getTopEdge(e),r.getBottomEdge(e),n),u=Kc(t.element())/2,c=Bc(t.element())/2;lc(t.element(),"left",i-u+"px"),lc(t.element(),"top",a-c+"px")},IA=AA(-1,!1),zA=AA(1,!1),BA=AA(-1,!0),LA=AA(1,!0),HA={"top-left":ve.some(p_),top:ve.some(h_),"top-right":ve.some(v_),right:ve.some(y_),"bottom-right":ve.some(w_),bottom:ve.some(C_),"bottom-left":ve.some(k_),left:ve.some(T_)},FA=Object.freeze({__proto__:null,setValueFrom:OA,setToMin:DA,setToMax:RA,getValueFromEvent:MA,setPositionFromValue:PA,onLeft:IA,onRight:zA,onUp:BA,onDown:LA,edgeActions:HA}),jA=[Er("stepSize",1),Er("onChange",te),Er("onChoose",te),Er("onInit",te),Er("onDragStart",te),Er("onDragEnd",te),Er("snapToGrid",!1),Er("rounded",!0),wr("snapStart"),fr("model",er("mode",{x:[Er("minX",0),Er("maxX",100),Ir("value",function(e){return zr(e.mode.minX)}),lr("getInitialValue"),Qs("manager",uA)],y:[Er("minY",0),Er("maxY",100),Ir("value",function(e){return zr(e.mode.minY)}),lr("getInitialValue"),Qs("manager",TA)],xy:[Er("minX",0),Er("maxX",100),Er("minY",0),Er("maxY",100),Ir("value",function(e){return zr({x:ie(e.mode.minX),y:ie(e.mode.minY)})}),lr("getInitialValue"),Qs("manager",FA)]})),rg("sliderBehaviours",[gy,ng]),Ir("mouseIsDown",function(){return zr(!1)})],VA=function(e,t,n,r){var o,i=function(t){return Xg(t,e,"thumb")},a=function(t){return Xg(t,e,"spectrum")},u=function(t){return Yg(t,e,"left-edge")},c=function(t){return Yg(t,e,"right-edge")},s=function(t){return Yg(t,e,"top-edge")},l=function(t){return Yg(t,e,"bottom-edge")},f=e.model,d=f.manager,m=function(t,n){d.setPositionFromValue(t,n,e,{getLeftEdge:u,getRightEdge:c,getTopEdge:s,getBottomEdge:l,getSpectrum:a})},p=function(t,n){f.value.set(n);var r=i(t);return m(t,r),e.onChange(t,r,n),ve.some(!0)},g=function(t){d.setToMin(t,e)},h=function(t){d.setToMax(t,e)},v=function(t){var n=e.mouseIsDown.get();e.mouseIsDown.set(!1),n&&function(){Yg(t,e,"thumb").each(function(n){var r=f.value.get();e.onChoose(t,n,r)})}()},b=function(t,n){n.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,i(t))},y=function(t,n){n.stop(),e.onDragEnd(t,i(t)),v(t)};return{uid:e.uid,dom:e.dom,components:t,behaviours:ig(e.sliderBehaviours,[gy.config({mode:"special",focusIn:function(t){return Yg(t,e,"spectrum").map(gy.focusIn).map(ie(!0))}}),ng.config({store:{mode:"manual",getValue:function(e){return f.value.get()}}}),nf.config({channels:(o={},o[kp()]={onReceive:v},o)})]),events:zi([Hi(LO(),function(e,t){p(e,t.event().value())}),Ki(function(t,n){var r=f.getInitialValue();f.value.set(r);var o=i(t);m(t,o);var u=a(t);e.onInit(t,o,u,f.value.get())}),Hi(Fo(),b),Hi(Vo(),y),Hi(qo(),b),Hi(Go(),y)]),apis:{resetToMin:g,resetToMax:h,changeValue:p,refresh:m},domModification:{styles:{position:"relative"}}}},UA=mh({name:"Slider",configFields:jA,partFields:BO,factory:VA,apis:{resetToMin:function(e,t){e.resetToMin(t)},resetToMax:function(e,t){e.resetToMax(t)},refresh:function(e,t){e.refresh(t)}}}),qA=function(e,t){var n=UA.parts().spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),r=UA.parts().thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return UA.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:ie({y:ie(0)})},components:[n,r],sliderBehaviours:Wl([zy.config({})]),onChange:function(e,t,n){Di(e,kO,{value:n})}})},$A=[rg("formBehaviours",[ng])],WA=function(e){return"<alloy.field."+e+">"},GA=function(e){var t=function(){var e=[];return{field:function(t,n){return e.push(t),qg("form",WA(t),n)},record:function(){return e}}}(),n=e(t),r=t.record(),o=Fe(r,function(e){return Pg({name:e,pname:WA(e)})});return uh("form",$A,o,YA,n)},KA=function(e,t){return e.fold(function(){return lt.error(t)},lt.value)},YA=function(e,t){return{uid:e.uid,dom:e.dom,components:t,behaviours:ig(e.formBehaviours,[ng.config({store:{mode:"manual",getValue:function(t){var n=Qg(t,e);return Nt(n,function(e,t){return e().bind(function(e){var n=Ch.getCurrent(e);return KA(n,new Error("Cannot find a current component to extract the value from for form part '"+t+"': "+Ha(e.element())))}).map(ng.getValue)})},setValue:function(t,n){Tt(n,function(n,r){Yg(t,e,r).each(function(e){Ch.getCurrent(e).each(function(e){ng.setValue(e,n)})})})}}})]),apis:{getField:function(t,n){return Yg(t,e,n).bind(Ch.getCurrent)}}}},XA={getField:su(function(e,t,n){return e.getField(t,n)}),sketch:GA},JA=qa("valid-input"),QA=qa("invalid-input"),ZA=qa("validating-input"),eD=function(e,t,n,r){var o=function(n,r){return LE.config({invalidClass:t("invalid"),notify:{onValidate:function(e){Di(e,ZA,{type:n})},onValid:function(e){Di(e,JA,{type:n,value:ng.getValue(e)})},onInvalid:function(e){Di(e,QA,{type:n,value:ng.getValue(e)})}},validator:{validate:function(t){var n=ng.getValue(t),o=r(n)?lt.value(!0):lt.error(e("aria.input.invalid"));return NE.pure(o)},validateOnLoad:!1}})},i=function(n,r,i,a,u){var c=e("colorcustom.rgb.range"),s=VN.parts().label({dom:{tag:"label",innerHtml:i,attributes:{"aria-label":a}}}),l=VN.parts().field({data:u,factory:pE,inputAttributes:de({type:"text"},"hex"===r?{"aria-live":"polite"}:{}),inputClasses:[t("textfield")],inputBehaviours:Wl([o(r,n),WN.config({})]),onSetValue:function(e){if(LE.isInvalid(e)){LE.run(e).get(te)}}}),f=[s,l],d="hex"!==r?[VN.parts()["aria-descriptor"]({text:c})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:f.concat(d)}},a=function(e,t){var n=WS(t);return XA.getField(e,"hex").each(function(t){zy.isFocused(t)||ng.setValue(e,{hex:n.value})}),n},u=function(e,t){var n=t.red,r=t.green,o=t.blue;ng.setValue(e,{red:n,green:r,blue:o})},c=Qw({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),s=function(e,t){c.getOpt(e).each(function(e){lc(e.element(),"background-color","#"+t.value)})};return dh({factory:function(){var o={red:zr(ve.some(255)),green:zr(ve.some(255)),blue:zr(ve.some(255)),hex:zr(ve.some("ffffff"))},l=function(e,t){var n=tT(t);u(e,n),p(n)},f=function(e){return o[e].get()},d=function(e,t){o[e].set(t)},m=function(){return f("red").bind(function(e){return f("green").bind(function(t){return f("blue").map(function(n){return QS(e,t,n,1)})})})},p=function(e){var t=e.red,n=e.green,r=e.blue;d("red",ve.some(t)),d("green",ve.some(n)),d("blue",ve.some(r))},g=function(e,t){var n=t.event();"hex"!==n.type()?d(n.type(),ve.none()):r(e)},h=function(e,t){n(e);var r=HS(t);d("hex",ve.some(t));var o=tT(r);u(e,o),p(o),Di(e,CO,{hex:r}),s(e,r)},v=function(e,t,n){var r=parseInt(n,10);d(t,ve.some(r)),m().each(function(t){var n=a(e,t);s(e,n)})},b=function(e){return"hex"===e.type()},y=function(e,t){var n=t.event();b(n)?h(e,n.value()):v(e,n.type(),n.value())},w=function(t){return{label:e("colorcustom.rgb."+t+".label"),description:e("colorcustom.rgb."+t+".description")}},x=w("red"),C=w("green"),k=w("blue"),S=w("hex");return Ut(XA.sketch(function(n){return{dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[n.field("red",VN.sketch(i(ZS,"red",x.label,x.description,255))),n.field("green",VN.sketch(i(ZS,"green",C.label,C.description,255))),n.field("blue",VN.sketch(i(ZS,"blue",k.label,k.description,255))),n.field("hex",VN.sketch(i(VS,"hex",S.label,S.description,"ffffff"))),c.asSpec()],formBehaviours:Wl([LE.config({invalidClass:t("form-invalid")}),Ey("rgb-form-events",[Hi(JA,y),Hi(QA,g),Hi(ZA,g)])])}}),{apis:{updateHex:function(e,t){ng.setValue(e,{hex:t.value}),l(e,t),s(e,t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:function(e,t,n){e.updateHex(t,n)}},extraApis:{}})},tD=function(e,t){var n=UA.parts().spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),r=UA.parts().thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:"<div class="+t("sv-palette-inner-thumb")+' role="presentation"></div>'}}),o=function(e,t){var n=e.width,r=e.height,o=e.getContext("2d");if(null!==o){o.fillStyle=t,o.fillRect(0,0,n,r);var i=o.createLinearGradient(0,0,n,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),o.fillStyle=i,o.fillRect(0,0,n,r);var a=o.createLinearGradient(0,0,0,r);a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)"),o.fillStyle=a,o.fillRect(0,0,n,r)}},i=function(e,t){var n=e.components()[0].element().dom();o(n,oT(t))};return dh({factory:function(e){var i=ie({x:ie(0),y:ie(0)}),a=function(e,t,n){Di(e,SO,{value:n})},u=function(e,t,n,r){o(n.element().dom(),oT(iT))},c=Wl([Ch.config({find:ve.some}),zy.config({})]);return UA.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:i},rounded:!1,components:[n,r],onChange:a,onInit:u,sliderBehaviours:c})},name:"SaturationBrightnessPalette",configFields:[],apis:{setRgba:function(e,t,n){i(t,n)}},extraApis:{}})},nD=function(e,t){var n=function(n){var r=eD(e,t,n.onValidHex,n.onInvalidHex),o=tD(0,t),i={paletteRgba:zr(iT)},a=Qw(o.sketch({})),u=Qw(r.sketch({})),c=function(e,t){a.getOpt(e).each(function(e){var n=tT(t);i.paletteRgba.set(n),o.setRgba(e,n)})},s=function(e,t){u.getOpt(e).each(function(e){r.updateHex(e,t)})},l=function(e,t,n){je(n,function(n){n(e,t)})};return{uid:n.uid,dom:n.dom,components:[a.asSpec(),qA(0,t),u.asSpec()],behaviours:Wl([Ey("colour-picker-events",[Hi(SO,function(){var e=[s];return function(t,n){var r=n.event().value(),o=i.paletteRgba.get(),a=wO(o),u=yO(a.hue,r.x(),100-r.y()),c=eT(u),s=WS(c);l(t,s,e)}}()),Hi(kO,function(){var e=[c,s];return function(t,n){var r=n.event().value(),o=xO(r.y());l(t,o,e)}}())]),Ch.config({find:function(e){return u.getOpt(e)}}),gy.config({mode:"acyclic"})])}};return dh({name:"ColourPicker",configFields:[lr("dom"),Er("onValidHex",te),Er("onInvalidHex",te)],factory:n})},rD=function(){return Ch.config({find:ve.some})},oD=function(e){return Ch.config({find:e.getOpt})},iD=function(e){return Ch.config({find:function(t){return ma(t.element(),e).bind(function(e){return t.getSystem().getByDom(e).toOption()})}})},aD={self:rD,memento:oD,childAt:iD},uD={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},cD=function(e){return uD[e]},sD=function(e){return cD(e)},lD=function(e){var n=function(e){return"tox-"+e},r=nD(sD,n),o=function(e){Di(e,nE,{name:"hex-valid",value:!0})},i=function(e){Di(e,nE,{name:"hex-valid",value:!1})},a=Qw(r.sketch({dom:{tag:"div",classes:[n("color-picker-container")],attributes:{role:"presentation"}},onValidHex:o,onInvalidHex:i}));return{dom:{tag:"div"},components:[a.asSpec()],behaviours:Wl([ng.config({store:{mode:"manual",getValue:function(e){var t=a.get(e);return Ch.getCurrent(t).bind(function(e){return ng.getValue(e).hex}).map(function(e){return"#"+e}).getOr("")},setValue:function(e,n){var r=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,o=r.exec(n),i=a.get(e);Ch.getCurrent(i).fold(function(){t.console.log("Can not find form")},function(e){ng.setValue(e,{hex:ve.from(o[1]).getOr("")}),XA.getField(e,"hex").each(function(e){Ai(e,Zo())})})}}}),aD.self()])}},fD=tinymce.util.Tools.resolve("tinymce.Resource"),dD=function(e){return Object.prototype.hasOwnProperty.call(e,"init")},mD=function(e){var t=zr(ve.none()),n=Qw({dom:{tag:e.tag}}),r=zr(ve.none());return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Wl([Ey("editor-foo-events",[Ki(function(o){n.getOpt(o).each(function(n){(dD(e)?e.init(n.element().dom()):fD.load(e.scriptId,e.scriptUrl).then(function(t){return t(n.element().dom(),e.settings)})).then(function(e){r.get().each(function(t){e.setValue(t)}),r.set(ve.none()),t.set(ve.some(e))})})})]),ng.config({store:{mode:"manual",getValue:function(){return t.get().fold(function(){return r.get().getOr("")},function(e){return e.getValue()})},setValue:function(e,n){t.get().fold(function(){r.set(ve.some(n))},function(e){return e.setValue(n)})}}}),aD.self()]),components:[n.asSpec()]}},pD=Pn([Er("preprocess",ae),Er("postprocess",ae)]),gD=function(e,t){var n=Jn("RepresentingConfigs.memento processors",pD,t);return ng.config({store:{mode:"manual",getValue:function(t){var r=e.get(t),o=ng.getValue(r);return n.postprocess(o)},setValue:function(t,r){var o=n.preprocess(r),i=e.get(t);ng.setValue(i,o)}}})},hD=function(e,t,n){return ng.config(Ut({store:{mode:"manual",getValue:t,setValue:n}},e.map(function(e){return{store:{initialValue:e}}}).getOr({})))},vD=function(e,t,n){return hD(e,function(e){return t(e.element())},function(e,t){return n(e.element(),t)})},bD=function(e){return vD(e,wc,xc)},yD=function(e){return vD(e,Na,Ea)},wD=function(e){return ng.config({store:{mode:"memory",initialValue:e}})},xD={memento:gD,withElement:vD,withComp:hD,domValue:bD,domHtml:yD,memory:wD},CD=".jpg,.jpeg,.png,.gif",kD=function(e){var t=new RegExp("("+CD.split(/\s*,\s*/).join("|")+")$","i");return qe(it(e),function(e){return t.test(e.name)})},SD=function(e,t){var n=function(e,t){t.stop()},r=function(e){return function(t,n){je(e,function(e){e(t,n)})}},o=function(e,t){if(!ik.isDisabled(e)){var n=t.event().raw();a(e,n.dataTransfer.files)}},i=function(e,t){var n=t.event().raw().target.files;a(e,n)},a=function(t,n){ng.setValue(t,kD(n)),Di(t,ZN,{name:e.name})},u=Qw({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Wl([Ey("input-file-events",[$i(ti()),$i(fi())])])}),c=function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Wl([xD.memory([]),aD.self(),ik.config({}),ew.config({toggleClass:"dragenter",toggleOnExecute:!1}),Ey("dropzone-events",[Hi("dragenter",r([n,ew.toggle])),Hi("dragleave",r([n,ew.toggle])),Hi("dragover",n),Hi("drop",r([n,o])),Hi(ei(),i)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:t.translate("Drop an image here")}},Jw.sketch({dom:{tag:"button",innerHtml:t.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[u.asSpec()],action:function(e){u.get(e).element().dom().click()},buttonBehaviours:Wl([WN.config({}),eS.button(t.isReadOnly),Yk()])})]}]}},s=e.label.map(function(e){return QN(e,t)}),l=VN.parts().field({factory:{sketch:c}});return GN(s,l,["tox-form__group--stretched"],[])},TD=function(e,t){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+e.columns+"col"]},components:Fe(e.items,t.interpreter)}},ND=qa("alloy-fake-before-tabstop"),ED=qa("alloy-fake-after-tabstop"),OD=function(e){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:Wl([zy.config({ignore:!0}),WN.config({})])}},_D=function(e){return{dom:{tag:"div",classes:["tox-navobj"]},components:[OD([ND]),e,OD([ED])],behaviours:Wl([aD.childAt(1)])}},AD=function(e,t){Di(e,Jo(),{raw:{which:9,shiftKey:t}})},DD=function(e,t){var n=t.element();Wu(n,ND)?AD(e,!0):Wu(n,ED)&&AD(e,!1)},RD=function(e){return mN(e,["."+ND,"."+ED].join(","),ie(!1))},MD=!(Co().browser.isIE()||Co().browser.isEdge()),PD=function(e){var t=zr("");return{getValue:function(e){return t.get()},setValue:function(n,r){if(e)Aa(n.element(),"srcdoc",r);else{Aa(n.element(),"src","javascript:''");var o=n.element().dom().contentWindow.document;o.open(),o.write(r),o.close()}t.set(r)}}},ID=function(e,t){var n=MD&&e.sandboxed,r=de(de({},e.label.map(function(e){return{title:e}}).getOr({})),n?{sandbox:"allow-scripts allow-same-origin"}:{}),o=PD(n),i=e.label.map(function(e){return QN(e,t)}),a=function(e){return _D({uid:e.uid,dom:{tag:"iframe",attributes:r},behaviours:Wl([WN.config({}),zy.config({}),xD.withComp(ve.none(),o.getValue,o.setValue)])})},u=VN.parts().field({factory:{sketch:a}});return GN(i,u,["tox-form__group--stretched"],[])},zD=window.Promise?window.Promise:function(){function e(e,t){return function(){return e.apply(t,arguments)}}function n(e){var t=this;if(null===this._state)return void this._deferreds.push(e);s(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var r;try{r=n(t._value)}catch(t){return void e.reject(t)}e.resolve(r)})}function r(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void u(e(n,t),e(r,this),e(o,this))}this._state=!0,this._value=t,i.call(this)}catch(e){o.call(this,e)}}function o(e){this._state=!1,this._value=e,i.call(this)}function i(){for(var e=0,t=this._deferreds;e<t.length;e++){var r=t[e];n.call(this,r)}this._deferreds=[]}function a(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function u(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(e){if(r)return;r=!0,n(e)}}var c=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(t,e(r,this),e(o,this))},s=c.immediateFn||"function"==typeof window.setImmediate&&window.setImmediate||function(e){t.setTimeout(e,1)},l=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var r=this;return new c(function(o,i){n.call(r,new a(e,t,o,i))})},c.all=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Array.prototype.slice.call(1===e.length&&l(e[0])?e[0]:e);return new c(function(e,t){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,function(e){r(i,e)},t)}n[i]=a,0==--o&&e(n)}catch(e){t(e)}}if(0===n.length)return e([]);for(var o=n.length,i=0;i<n.length;i++)r(i,n[i])})},c.resolve=function(e){return e&&"object"==typeof e&&e.constructor===c?e:new c(function(t){t(e)})},c.reject=function(e){return new c(function(t,n){n(e)})},c.race=function(e){return new c(function(t,n){for(var r=0,o=e;r<o.length;r++){o[r].then(t,n)}})},c}(),BD=function(e){return O(e)},LD=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],HD=function(e){return function(t){return z(t,e)}}([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),FD=F(P),jD=F(M),VD=function(e,t,n,r){return z(e,I(D(),t,n,r))},UD=function(e){return function(t){return L(t,e)}}([0,-1,0,-1,5,-1,0,-1,0]),qD=function(e){var t=function(t,n,r){for(var o=g(t),i=new Array(256),a=0;a<i.length;a++)i[a]=e(a,r);var u=function(e,t){for(var n=e.data,r=0;r<n.length;r+=4)n[r]=t[n[r]],n[r+1]=t[n[r+1]],n[r+2]=t[n[r+2]];return e}(o.getImageData(0,0,t.width,t.height),i);return o.putImageData(u,0,0),_(t,n)};return function(e,n){return e.toCanvas().then(function(r){return t(r,e.getType(),n)})}}(function(e,t){return 255*Math.pow(e/255,1-t)}),$D=function(e){return HD(e)},WD=function(e){return UD(e)},GD=function(e,t){return qD(e,t)},KD=function(e,t,n,r){return VD(e,t,n,r)},YD=function(e,t){return FD(e,t)},XD=function(e,t){return jD(e,t)},JD=function(e,t){return $(e,t)},QD=function(e,t,n,r,o){return G(e,t,n,r,o)},ZD=function(e,t,n){return Y(e,t,n)},eR=function(e,t){return U(e,t)},tR=function(e,t){return de({dom:{tag:"span",innerHtml:e,classes:["tox-icon","tox-tbtn__icon-wrap"]}},t)},nR=function(e,t){return tR(ex(e,t),{})},rR=function(e,t){return tR(ex(e,t),{behaviours:Wl([Ty.config({})])})},oR=function(e,t,n){return{dom:{tag:"span",innerHtml:n.translate(e),classes:[t+"__select-label"]},behaviours:Wl([Ty.config({})])}},iR=qa("toolbar.button.execute"),aR=function(e){return Ji(function(t,n){tS(e,t)(function(n){Di(t,iR,{buttonApi:n}),e.onAction(n)})})},uR={"alloy.execute":["disabling","alloy.base.behaviour","toggling","toolbar-button-events"]},cR=qa("update-menu-text"),sR=qa("update-menu-icon"),lR=function(e,t,n){var r=zr(te),i=e.text.map(function(e){return Qw(oR(e,t,n.providers))}),a=e.icon.map(function(e){return Qw(rR(e,n.providers.icons))}),u=function(e,t){var n=ng.getValue(e);return zy.focus(n),Di(n,"keydown",{raw:t.event().raw()}),sO.close(n),ve.some(!0)},c=e.role.fold(function(){return{}},function(e){return{role:e}}),s=e.tooltip.fold(function(){return{}},function(e){var t=n.providers.translate(e);return{title:t,"aria-label":t}});return Qw(sO.sketch(de(de({},c),{dom:{tag:"button",classes:[t,t+"--select"].concat(Fe(e.classes,function(e){return t+"--"+e})),attributes:de({},s)},components:aS([a.map(function(e){return e.asSpec()}),i.map(function(e){return e.asSpec()}),ve.some({dom:{tag:"div",classes:[t+"__select-chevron"],innerHtml:ex("chevron-down",n.providers.icons)}})]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Wl(o(e.dropdownBehaviours,[eS.button(function(){return e.disabled||n.providers.isReadOnly()}),Yk(),mO.config({}),Ty.config({}),Ey("dropdown-events",[nS(e,r),rS(e,r)]),Ey("menubutton-update-display-text",[Hi(cR,function(e,t){i.bind(function(t){return t.getOpt(e)}).each(function(e){Ty.set(e,[Dc(n.providers.translate(t.event().text()))])})}),Hi(sR,function(e,t){a.bind(function(t){return t.getOpt(e)}).each(function(e){Ty.set(e,[rR(t.event().icon(),n.providers.icons)])})})])])),eventOrder:Ut(uR,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Wl([gy.config({mode:"special",onLeft:u,onRight:u})]),lazySink:n.getSink,toggleClass:t+"--active",parts:{menu:eC(0,e.columns,e.presets)},fetch:function(){return NE.nu(e.fetch)}}))).asSpec()},fR=function(e){return xe(e)},dR=function(e){return"separator"===e.type},mR=function(e){return It(e,"getSubmenuItems")},pR={type:"separator"},gR=function(e,t){var n=We(e,function(e,n){return fR(n)?""===n?e:"|"===n?e.length>0&&!dR(e[e.length-1])?e.concat([pR]):e:It(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])},[]);return n.length>0&&dR(n[n.length-1])&&n.pop(),n},hR=function(e,t){var n=e.getSubmenuItems(),r=yR(n,t);return{item:e,menus:Ut(r.menus,on(e.value,r.items)),expansions:Ut(r.expansions,on(e.value,e.value))}},vR=function(e,t){return mR(e)?hR(e,t):{item:e,menus:{},expansions:{}}},bR=function(e){if(dR(e))return e;var t=Pt(e,"value").getOrThunk(function(){return qa("generated-menu-item")});return Ut({value:t},e)},yR=function(e,t){var n=gR(xe(e)?e.split(" "):e,t);return $e(n,function(e,n){var r=bR(n),o=vR(r,t);return{menus:Ut(e.menus,o.menus),items:[o.item].concat(e.items),expansions:Ut(e.expansions,o.expansions)}},{menus:{},expansions:{},items:[]})},wR=function(e,t,n,r){var o=qa("primary-menu"),i=yR(e,n.shared.providers.menuItems());if(0===i.items.length)return ve.none();var a=oN(o,i.items,t,n,r),u=Nt(i.menus,function(e,r){return oN(r,e,t,n,!1)}),c=Ut(u,on(o,a));return ve.from(Pw.tieredData(o,c,i.expansions))},xR=function(e){return{isDisabled:function(){return ik.isDisabled(e)},setDisabled:function(t){return ik.set(e,t)},setActive:function(t){var n=e.element();t?(Uu(n,"tox-tbtn--enabled"),Aa(n,"aria-pressed",!0)):($u(n,"tox-tbtn--enabled"),Ia(n,"aria-pressed"))},isActive:function(){return Wu(e.element(),"tox-tbtn--enabled")}}},CR=function(e,t,n,r){return lR({text:e.text,icon:e.icon,tooltip:e.tooltip,role:r,fetch:function(t){e.fetch(function(e){t(wR(e,Ux.CLOSE_ON_EXECUTE,n,!1))})},onSetup:e.onSetup,getApi:xR,columns:1,presets:"normal",classes:[],dropdownBehaviours:[WN.config({})]},t,n.shared)},kR=function(e,t,n){var r=function(e){return function(r){var o=!r.isActive();r.setActive(o),e.storage.set(o),n.shared.getSink().each(function(n){t().getOpt(n).each(function(t){uf(t.element()),Di(t,nE,{name:e.name,value:e.storage.get()})})})}},o=function(e){return function(t){t.setActive(e.storage.get())}};return function(t){t(Fe(e,function(e){var t=e.text.fold(function(){return{}},function(e){return{text:e}});return de(de({type:e.type,active:!1},t),{onAction:r(e),onSetup:o(e)})}))}},SR=function(e,t,n,r,o,i){void 0===n&&(n=[]);var a=t.fold(function(){return{}},function(e){return{action:e}}),u=de({buttonBehaviours:Wl([eS.button(function(){return e.disabled||i.isReadOnly()}),Yk(),WN.config({}),Ey("button press",[Li("click"),Li("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},a),c=Ut(u,{dom:r});return Ut(c,{components:o})},TR=function(e,t,n,r){void 0===r&&(r=[]);var o=e.tooltip.map(function(e){return{"aria-label":n.translate(e),title:n.translate(e)}}).getOr({}),i={tag:"button",classes:["tox-tbtn"],attributes:o},a=e.icon.map(function(e){return nR(e,n.icons)}),u=aS([a]);return SR(e,t,r,i,u,n)},NR=function(e,t,n,r){void 0===r&&(r=[]);var o=TR(e,ve.some(t),n,r);return Jw.sketch(o)},ER=function(e,t,n,r,i){void 0===r&&(r=[]),void 0===i&&(i=[]);var a=n.translate(e.text),u=e.icon?e.icon.map(function(e){return nR(e,n.icons)}):ve.none(),c=u.isSome()?aS([u]):[],s=u.isSome()?{}:{innerHtml:a},l=o(e.primary||e.borderless?["tox-button"]:["tox-button","tox-button--secondary"],u.isSome()?["tox-button--icon"]:[],e.borderless?["tox-button--naked"]:[],i),f=de(de({tag:"button",classes:l},s),{attributes:{title:a}});return SR(e,t,r,f,c,n)},OR=function(e,t,n,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var i=ER(e,ve.some(t),n,r,o);return Jw.sketch(i)},_R=function(e,n){return function(r){"custom"===n?Di(r,nE,{name:e,value:{}}):"submit"===n?Ai(r,rE):"cancel"===n?Ai(r,tE):t.console.error("Unknown button type: ",n)}},AR=function(e,t){return"menu"===t},DR=function(e,t){return"custom"===t||"cancel"===t||"submit"===t},RR=function(e,n,r){if(AR(0,n)){var o=function(){return u},i=e,a=de(de({},e),{onSetup:function(t){return t.setDisabled(e.disabled),te},fetch:kR(i.items,o,r)}),u=Qw(CR(a,"tox-tbtn",r,ve.none()));return u.asSpec()}if(DR(0,n)){var c=_R(e.name,n),s=de(de({},e),{borderless:!1});return OR(s,c,r.shared.providers,[])}t.console.error("Unknown footer button type: ",n)},MR=function(e,t){var n=_R(e.name,"custom");return KN(ve.none(),VN.parts().field(de({factory:Jw},ER(e,ve.some(n),t,[xD.memory(""),aD.self()]))))},PR=ie([Er("field1Name","field1"),Er("field2Name","field2"),Xs("onLockedChange"),Ws(["lockClass"]),Er("locked",!1),ag.field("coupledFieldBehaviours",[Ch,ng])]),IR=function(e,t,n){return Yg(e,t,n).bind(Ch.getCurrent)},zR=function(e,t){return Pg({factory:VN,name:e,overrides:function(e){return{fieldBehaviours:Wl([Ey("coupled-input-behaviour",[Hi(Zo(),function(n){IR(n,e,t).each(function(t){Yg(n,e,"lock").each(function(r){ew.isOn(r)&&e.onLockedChange(n,t,r)})})})])])}}})},BR=ie([zR("field1","field2"),zR("field2","field1"),Pg({factory:Jw,schema:[lr("dom")],name:"lock",overrides:function(e){return{buttonBehaviours:Wl([ew.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])}}})]),LR=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:ag.augment(e.coupledFieldBehaviours,[Ch.config({find:ve.some}),ng.config({store:{mode:"manual",getValue:function(t){var n,r=eh(t,e,["field1","field2"]);return n={},n[e.field1Name]=ng.getValue(r.field1()),n[e.field2Name]=ng.getValue(r.field2()),n},setValue:function(t,n){var r=eh(t,e,["field1","field2"]);zt(n,e.field1Name)&&ng.setValue(r.field1(),n[e.field1Name]),zt(n,e.field2Name)&&ng.setValue(r.field2(),n[e.field2Name])}}})]),apis:{getField1:function(t){return Yg(t,e,"field1")},getField2:function(t){return Yg(t,e,"field2")},getLock:function(t){return Yg(t,e,"lock")}}}},HR=mh({name:"FormCoupledInputs",configFields:PR(),partFields:BR(),factory:LR,apis:{getField1:function(e,t){return e.getField1(t)},getField2:function(e,t){return e.getField2(t)},getLock:function(e,t){return e.getLock(t)}}}),FR=function(e){var t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},n=e.value.toFixed(function(e){return e in t?t[e]:1}(e.unit));return-1!==n.indexOf(".")&&(n=n.replace(/\.?0*$/,"")),n+e.unit},jR=function(e){var t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,n=t.exec(e);if(null!==n){var r=parseFloat(n[1]),o=n[2];return lt.value({value:r,unit:o})}return lt.error(e)},VR=function(e,t){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},r=function(e){return Object.prototype.hasOwnProperty.call(n,e)};return e.unit===t?ve.some(e.value):r(e.unit)&&r(t)?n[e.unit]===n[t]?ve.some(e.value):ve.some(e.value/n[e.unit]*n[t]):ve.none()},UR=function(e){return ve.none()},qR=function(e,t){return function(n){return VR(n,t).map(function(n){return{value:n*e,unit:t}})}},$R=function(e,t){var n=jR(e).toOption(),r=jR(t).toOption();return hh(n,r,function(e,t){return VR(e,t.unit).map(function(e){return t.value/e}).map(function(e){return qR(e,t.unit)}).getOr(UR)}).getOr(UR)},WR=function(e,t){var n=UR,r=qa("ratio-event"),o=HR.parts().lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:ex("lock",t.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:ex("unlock",t.icons)}}],buttonBehaviours:Wl([ik.config({disabled:function(){return e.disabled||t.isReadOnly()}}),Yk(),WN.config({})])}),i=function(e){return{dom:{tag:"div",classes:["tox-form__group"]},components:e}},a=function(n){return VN.parts().field({factory:pE,inputClasses:["tox-textfield"],inputBehaviours:Wl([ik.config({disabled:function(){return e.disabled||t.isReadOnly()}}),Yk(),WN.config({}),Ey("size-input-events",[Hi(Yo(),function(e,t){Di(e,r,{isField1:n})}),Hi(ei(),function(t,n){Di(t,ZN,{name:e.name})})])]),selectOnFocus:!1})},u=function(e){return{dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}},c=HR.parts().field1(i([VN.parts().label(u("Width")),a(!0)])),s=HR.parts().field2(i([VN.parts().label(u("Height")),a(!1)]));return HR.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[c,s,i([u("&nbsp;"),o])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(e,t,r){jR(ng.getValue(e)).each(function(e){n(e).each(function(e){ng.setValue(t,FR(e))})})},coupledFieldBehaviours:Wl([ik.config({disabled:function(){return e.disabled||t.isReadOnly()},onDisabled:function(e){HR.getField1(e).bind(VN.getField).each(ik.disable),HR.getField2(e).bind(VN.getField).each(ik.disable),HR.getLock(e).each(ik.disable)},onEnabled:function(e){HR.getField1(e).bind(VN.getField).each(ik.enable),HR.getField2(e).bind(VN.getField).each(ik.enable),HR.getLock(e).each(ik.enable)}}),Yk(),Ey("size-input-events2",[Hi(r,function(e,t){var r=t.event().isField1(),o=r?HR.getField1(e):HR.getField2(e),i=r?HR.getField2(e):HR.getField1(e),a=o.map(ng.getValue).getOr(""),u=i.map(ng.getValue).getOr("");n=$R(a,u)})])])})},GR=ie(qa("undo")),KR=ie(qa("redo")),YR=ie(qa("zoom")),XR=ie(qa("back")),JR=ie(qa("apply")),QR=ie(qa("swap")),ZR=ie(qa("transform")),eM=ie(qa("temp-transform")),tM=ie(qa("transform-apply")),nM={undo:GR,redo:KR,zoom:YR,back:XR,apply:JR,swap:QR,transform:ZR,tempTransform:eM,transformApply:tM},rM=ie("save-state"),oM=ie("disable"),iM=ie("enable"),aM={formActionEvent:nE,saveState:rM,disable:oM,enable:iM},uM=function(e,t){var n=function(e,n,r,o){return Qw(OR({name:e,text:e,disabled:r,primary:o,icon:ve.none(),borderless:!1},n,t))},r=function(e,n,r,o){return Qw(NR({name:e,icon:ve.some(e),tooltip:ve.some(n),disabled:o,primary:!1,borderless:!1},r,t))},o=function(e,t){e.map(function(e){var n=e.get(t);n.hasConfigured(ik)&&ik.disable(n)})},i=function(e,t){e.map(function(e){var n=e.get(t);n.hasConfigured(ik)&&ik.enable(n)})},a={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},u=te,c=function(e,t,n){Di(e,t,n)},s=function(e){return Ai(e,aM.disable())},l=function(e){return Ai(e,aM.enable())},f=function(e,t){s(e),c(e,nM.transform(),{transform:t}),l(e)},d=function(e,t){s(e),c(e,nM.tempTransform(),{transform:t}),l(e)},m=function(e){return function(){oe.getOpt(e).each(function(e){Ty.set(e,[ne])})}},p=function(e,t){s(e),c(e,nM.transformApply(),{transform:t,swap:m(e)}),l(e)},g=function(){return n("Back",function(e){return c(e,nM.back(),{swap:m(e)})},!1,!1)},h=function(){return Qw({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Wl([ik.config({})])})},v=function(){return n("Apply",function(e){return c(e,nM.apply(),{swap:m(e)})},!0,!0)},b=function(){return function(t){var n=e.getRect();return QD(t,n.x,n.y,n.w,n.h)}},y=[g(),h(),n("Apply",function(t){var n=b();p(t,n),e.hideCrop()},!1,!0)],w=zN.sketch({dom:a,components:y.map(function(e){return e.asSpec()}),containerBehaviours:Wl([Ey("image-tools-crop-buttons-events",[Hi(aM.disable(),function(e,t){o(y,e)}),Hi(aM.enable(),function(e,t){i(y,e)})])])}),x=Qw(WR({name:"size",label:ve.none(),constrain:!0,disabled:!1},t)),C=function(e,t){return function(n){return ZD(n,e,t)}},k=[g(),h(),x,h(),n("Apply",function(e){x.getOpt(e).each(function(t){var n=ng.getValue(t),r=parseInt(n.width,10),o=parseInt(n.height,10),i=C(r,o);p(e,i)})},!1,!0)],S=zN.sketch({dom:a,components:k.map(function(e){return e.asSpec()}),containerBehaviours:Wl([Ey("image-tools-resize-buttons-events",[Hi(aM.disable(),function(e,t){o(k,e)}),Hi(aM.enable(),function(e,t){i(k,e)})])])}),T=function(e,t){return function(n){return e(n,t)}},N=T(JD,"h"),E=T(JD,"v"),O=T(eR,-90),_=T(eR,90),A=function(e,t){d(e,t)},D=[g(),h(),r("flip-horizontally","Flip horizontally",function(e){A(e,N)},!1),r("flip-vertically","Flip vertically",function(e){A(e,E)},!1),r("rotate-left","Rotate counterclockwise",function(e){A(e,O)},!1),r("rotate-right","Rotate clockwise",function(e){A(e,_)},!1),h(),v()],R=zN.sketch({dom:a,components:D.map(function(e){return e.asSpec()}),containerBehaviours:Wl([Ey("image-tools-fliprotate-buttons-events",[Hi(aM.disable(),function(e,t){o(D,e)}),Hi(aM.enable(),function(e,t){i(D,e)})])])}),M=function(e,n,r,o,i){var a=UA.parts().label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}),u=UA.parts().spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),c=UA.parts().thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Qw(UA.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:r,maxX:i,getInitialValue:ie({x:ie(o)})},components:[a,u,c],sliderBehaviours:Wl([zy.config({})]),onChoose:n}))},P=function(e,t,n,r,o){return M(e,function(e,n,r){var o=T(t,r.x()/100);f(e,o)},n,r,o)},I=function(e,t,n,r,o){return[g(),P(e,t,n,r,o),v()]},z=function(e,t,n,r,u){var c=I(e,t,n,r,u);return zN.sketch({dom:a,components:c.map(function(e){return e.asSpec()}),containerBehaviours:Wl([Ey("image-tools-filter-panel-buttons-events",[Hi(aM.disable(),function(e,t){o(c,e)}),Hi(aM.enable(),function(e,t){i(c,e)})])])})},B=[g(),h(),v()],L=zN.sketch({dom:a,components:B.map(function(e){return e.asSpec()})}),H=z("Brightness",YD,-100,0,100),F=z("Contrast",XD,-100,0,100),j=z("Gamma",GD,-100,0,100),V=function(e,t,n){return function(r){return KD(r,e,t,n)}},U=function(e){return M(e,function(e,t,n){var r=q.getOpt(e),o=W.getOpt(e),i=$.getOpt(e);r.each(function(t){o.each(function(n){i.each(function(r){var o=ng.getValue(t).x()/100,i=ng.getValue(r).x()/100,a=ng.getValue(n).x()/100,u=V(o,i,a);f(e,u)})})})},0,100,200)},q=U("R"),$=U("G"),W=U("B"),G=[g(),q,$,W,v()],K=zN.sketch({dom:a,components:G.map(function(e){return e.asSpec()})}),Y=function(e,t,n){return function(r){var o=function(){oe.getOpt(r).each(function(t){Ty.set(t,[e]),n(t)})};c(r,nM.swap(),{transform:t,swap:o})}},X=function(t){e.showCrop()},J=function(t){x.getOpt(t).each(function(t){var n=e.getMeasurements(),r=n.width,o=n.height;ng.setValue(t,{width:r,height:o})})},Q=ve.some(WD),Z=ve.some($D),ee=[r("crop","Crop",Y(w,ve.none(),X),!1),r("resize","Resize",Y(S,ve.none(),J),!1),r("orientation","Orientation",Y(R,ve.none(),u),!1),r("brightness","Brightness",Y(H,ve.none(),u),!1),r("sharpen","Sharpen",Y(L,Q,u),!1),r("contrast","Contrast",Y(F,ve.none(),u),!1),r("color-levels","Color levels",Y(K,ve.none(),u),!1),r("gamma","Gamma",Y(j,ve.none(),u),!1),r("invert","Invert",Y(L,Z,u),!1)],ne=zN.sketch({dom:a,components:ee.map(function(e){return e.asSpec()})}),re=zN.sketch({dom:{tag:"div"},components:[ne],containerBehaviours:Wl([Ty.config({})])}),oe=Qw(re);return{memContainer:oe,getApplyButton:function(e){return oe.getOpt(e).map(function(e){var t=e.components()[0];return t.components()[t.components().length-1]})}}},cM=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),sM=tinymce.util.Tools.resolve("tinymce.geom.Rect"),lM=tinymce.util.Tools.resolve("tinymce.util.Observable"),fM=tinymce.util.Tools.resolve("tinymce.util.Tools"),dM=tinymce.util.Tools.resolve("tinymce.util.VK"),mM=0,pM=function(e,t,n,r,o){function i(t,r,o,i){var a,u,c,s,f;a=r.x,u=r.y,c=r.w,s=r.h,a+=o*t.deltaX,u+=i*t.deltaY,c+=o*t.deltaW,s+=i*t.deltaH,c<20&&(c=20),s<20&&(s=20),f=e=sM.clamp({x:a,y:u,w:c,h:s},n,"move"===t.name),f=y(n,f),x.fire("updateRect",{rect:f}),l(f)}function a(e){var t=fM.map(h,function(e){return"#"+g+"-"+e.name}).concat(fM.map(v,function(e){return"#"+g+"-"+e})).join(",");e?cM(t,r).show():cM(t,r).hide()}function u(e){function n(e,t){t.h<0&&(t.h=0),t.w<0&&(t.w=0),cM("#"+g+"-"+e,r).css({left:t.x,top:t.y,width:t.w,height:t.h})}fM.each(h,function(t){cM("#"+g+"-"+t.name,r).css({left:e.w*t.xMul+e.x,top:e.h*t.yMul+e.y})}),n("top",{x:t.x,y:t.y,w:t.w,h:e.y-t.y}),n("right",{x:e.x+e.w,y:e.y,w:t.w-e.x-e.w+t.x,h:e.h}),n("bottom",{x:t.x,y:e.y+e.h,w:t.w,h:t.h-e.y-e.h+t.y}),n("left",{x:t.x,y:e.y,w:e.x-t.x,h:e.h}),n("move",e)}function c(t){e=t,u(e)}function s(n){t=n,u(e)}function l(e){c(b(n,e))}function f(t){n=t,u(e)}function d(){fM.each(m,function(e){e.destroy()}),m=[]}var m,p="tox-",g=p+"crid-"+mM++,h=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],v=["top","right","bottom","left"],b=function(e,t){return{x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},y=function(e,t){return{x:t.x-e.x,y:t.y-e.y,w:t.w,h:t.h}},w=function(){return y(n,e)};!function(){function t(t){var n;return new Q(g,{document:r.ownerDocument,handle:g+"-"+t.name,start:function(){n=e},drag:function(e){i(t,n,e.deltaX,e.deltaY)}})}cM('<div id="'+g+'" class="'+p+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(r),fM.each(v,function(e){cM("#"+g,r).append('<div id="'+g+"-"+e+'"class="'+p+'croprect-block" style="display: none" data-mce-bogus="all">')}),fM.each(h,function(e){cM("#"+g,r).append('<div id="'+g+"-"+e.name+'" class="'+p+"croprect-handle "+p+"croprect-handle-"+e.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+e.label+'" aria-grabbed="false" title="'+e.label+'">')}),m=fM.map(h,t),u(e),cM(r).on("focusin focusout",function(e){cM(e.target).attr("aria-grabbed","focus"===e.type?"true":"false")}),cM(r).on("keydown",function(t){function n(e,t,n,o,a){e.stopPropagation(),e.preventDefault(),i(r,n,o,a)}var r;switch(fM.each(h,function(e){if(t.target.id===g+"-"+e.name)return r=e,!1}),t.keyCode){case dM.LEFT:n(t,r,e,-10,0);break;case dM.RIGHT:n(t,r,e,10,0);break;case dM.UP:n(t,r,e,0,-10);break;case dM.DOWN:n(t,r,e,0,10);break;case dM.ENTER:case dM.SPACEBAR:t.preventDefault(),o()}})}();var x=fM.extend({toggleVisibility:a,setClampRect:f,setRect:c,getInnerRect:w,setInnerRect:l,setViewPortRect:s,destroy:d},lM);return x},gM={create:pM},hM=function(e){return new Cx(function(t){var n=function(){e.removeEventListener("load",n),t(e)};e.complete?t(e):e.addEventListener("load",n)})},vM=function(e){var t=Qw({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),n=zr(1),r=zr(ve.none()),o=zr({x:0,y:0,w:1,h:1}),i=zr({x:0,y:0,w:1,h:1}),a=function(e,i){p.getOpt(e).each(function(e){var a=n.get(),u=Kc(e.element()),c=Bc(e.element()),s=i.dom().naturalWidth*a,l=i.dom().naturalHeight*a,f=Math.max(0,u/2-s/2),d=Math.max(0,c/2-l/2),m={left:f.toString()+"px",top:d.toString()+"px",width:s.toString()+"px",height:l.toString()+"px",position:"absolute"};fc(i,m),t.getOpt(e).each(function(e){fc(e.element(),m)}),r.get().each(function(e){var t=o.get();e.setRect({x:t.x*a+f,y:t.y*a+d,w:t.w*a,h:t.h*a}),e.setClampRect({x:f,y:d,w:s,h:l}),e.setViewPortRect({x:0,y:0,w:u,h:c})})})},u=function(e,t){p.getOpt(e).each(function(e){var r=Kc(e.element()),o=Bc(e.element()),i=t.dom().naturalWidth,a=t.dom().naturalHeight,u=Math.min(r/i,o/a);u>=1?n.set(1):n.set(u)})},c=function(e,t){var n=Vr.fromTag("img");return Aa(n,"src",t),hM(n.dom()).then(function(){return p.getOpt(e).map(function(e){var t=Rc({element:n});Ty.replaceAt(e,1,ve.some(t));var r=i.get(),c={x:0,y:0,w:n.dom().naturalWidth,h:n.dom().naturalHeight};i.set(c);var s=sM.inflate(c,-20,-20);return o.set(s),r.w===c.w&&r.h===c.h||u(e,n),a(e,n),n})})},s=function(e,t){var r=n.get(),o=t>0?Math.min(2,r+.1):Math.max(.1,r-.1);n.set(o),p.getOpt(e).each(function(e){var t=e.components()[1].element();a(e,t)})},l=function(){r.get().each(function(e){e.toggleVisibility(!0)})},f=function(){r.get().each(function(e){e.toggleVisibility(!1)})},d=function(){return o.get()},m=zN.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[t.asSpec(),{dom:{tag:"img",attributes:{src:e}}},{dom:{tag:"div"},behaviours:Wl([Ey("image-panel-crop-events",[Ki(function(e){p.getOpt(e).each(function(e){var t=e.element().dom(),i=gM.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},t,function(){});i.toggleVisibility(!1),i.on("updateRect",function(e){var t=e.rect,r=n.get(),i={x:Math.round(t.x/r),y:Math.round(t.y/r),w:Math.round(t.w/r),h:Math.round(t.h/r)};o.set(i)}),r.set(ve.some(i))})})])])}],containerBehaviours:Wl([Ty.config({}),Ey("image-panel-events",[Ki(function(t){c(t,e)})])])}),p=Qw(m);return{memContainer:p,updateSrc:c,zoom:s,showCrop:l,hideCrop:f,getRect:d,getMeasurements:function(){var e=i.get();return{width:e.w,height:e.h}}}},bM=function(e,t,n,r,o){return NR({name:e,icon:ve.some(t),disabled:n,tooltip:ve.some(e),primary:!1,borderless:!1},r,o)},yM=function(e,t){t?ik.enable(e):ik.disable(e)},wM=function(e){var t=function(e,t,o){n.getOpt(e).each(function(e){yM(e,t)}),r.getOpt(e).each(function(e){yM(e,o)})},n=Qw(bM("Undo","undo",!0,function(e){Di(e,nM.undo(),{direction:1})},e)),r=Qw(bM("Redo","redo",!0,function(e){Di(e,nM.redo(),{direction:1})},e));return{container:zN.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[n.asSpec(),r.asSpec(),bM("Zoom in","zoom-in",!1,function(e){Di(e,nM.zoom(),{direction:1})},e),bM("Zoom out","zoom-out",!1,function(e){Di(e,nM.zoom(),{direction:-1})},e)]}),updateButtonUndoStates:t}},xM=function(e){var n=zr(e),r=zr(ve.none()),o=Z();o.add(e);var i=function(){return n.get()},a=function(e){n.set(e)},u=function(){return r.get().fold(function(){return n.get()},function(e){return e})},c=function(e){var t=s(e);return d(),r.set(ve.some(t)),t.url},s=function(e){return{blob:e,url:t.URL.createObjectURL(e)}},l=function(e){t.URL.revokeObjectURL(e.url)},f=function(e){fM.each(e,l)},d=function(){r.get().each(l),r.set(ve.none())},m=function(e){var t=s(e);a(t);var n=o.add(t).removed;return f(n),t.url};return{getBlobState:i,setBlobState:a,addBlobState:m,getTempState:u,updateTempState:c,addTempState:function(e){var t=s(e);return r.set(ve.some(t)),t.url},applyTempState:function(e){return r.get().fold(function(){},function(t){m(t.blob),e()})},destroyTempState:d,undo:function(){var e=o.undo();return a(e),e.url},redo:function(){var e=o.redo();return a(e),e.url},getHistoryStates:function(){return{undoEnabled:o.canUndo(),redoEnabled:o.canRedo()}}}},CM=function(e,n){var r=xM(e.currentState),o=function(e,t){var n=t.event().direction();S.zoom(e,n)},i=function(e){var t=r.getHistoryStates();T.updateButtonUndoStates(e,t.undoEnabled,t.redoEnabled),Di(e,aM.formActionEvent,{name:aM.saveState(),value:t.undoEnabled})},a=function(e){T.updateButtonUndoStates(e,!1,!1)},u=function(e,t){var n=r.undo();d(e,n).then(function(t){f(e),i(e)})},c=function(e,t){var n=r.redo();d(e,n).then(function(t){f(e),i(e)})},s=function(e){return e.toBlob()},l=function(e){Di(e,aM.formActionEvent,{name:aM.disable(),value:{}})},f=function(e){N.getApplyButton(e).each(function(e){ik.enable(e)}),Di(e,aM.formActionEvent,{name:aM.enable(),value:{}})},d=function(e,t){return l(e),S.updateSrc(e,t)},m=function(e,n,r,o,a){return l(e),BD(n).then(r).then(s).then(o).then(function(t){return d(e,t).then(function(t){return i(e),a(),f(e),t})}).catch(function(n){return t.console.log(n),f(e),n})},p=function(e,t,n){var o=r.getBlobState().blob;m(e,o,t,function(e){return r.updateTempState(e)},n)},g=function(e,t){var n=r.getTempState().blob;m(e,n,t,function(e){return r.addTempState(e)},te)},h=function(e,t,n){var o=r.getBlobState().blob;m(e,o,t,function(t){var n=r.addBlobState(t);return b(e),n},n)},v=function(e,t){var n=function(){b(e),t.event().swap()()};r.applyTempState(n)},b=function(e){var t=r.getBlobState().url;return r.destroyTempState(),i(e),t},y=function(e){var t=b(e);d(e,t).then(function(t){f(e)})},w=function(e,t){y(e),t.event().swap()(),S.hideCrop()},x=function(e,t){return p(e,t.event().transform(),te)},C=function(e,t){return g(e,t.event().transform())},k=function(e,t){return h(e,t.event().transform(),t.event().swap())},S=vM(e.currentState.url),T=wM(n),N=uM(S,n),E=function(e,t){a(e);var n=t.event().transform(),r=t.event().swap();n.fold(function(){r()},function(t){p(e,t,r)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[N.memContainer.asSpec(),S.memContainer.asSpec(),T.container],behaviours:Wl([ng.config({store:{mode:"manual",getValue:function(){return r.getBlobState()}}}),Ey("image-tools-events",[Hi(nM.undo(),u),Hi(nM.redo(),c),Hi(nM.zoom(),o),Hi(nM.back(),w),Hi(nM.apply(),v),Hi(nM.transform(),x),Hi(nM.tempTransform(),C),Hi(nM.transformApply(),k),Hi(nM.swap(),E)]),aD.self()])}},kM=function(e,t){return{dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"label",innerHtml:t.providers.translate(e.label),classes:["tox-label"]}}].concat(Fe(e.items,t.interpreter)),behaviours:Wl([aD.self(),Ty.config({}),xD.domHtml(ve.none()),gy.config({mode:"acyclic"})])}},SM=function(e,t){return{dom:{tag:"div",classes:e.classes},components:Fe(e.items,t.shared.interpreter)}},TM=function(e,t){var n=Fe(e.options,function(e){return{dom:{tag:"option",value:e.value,innerHtml:e.text}}}),r=e.data.map(function(e){return on("initialValue",e)}).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:ig(e.selectBehaviours,[zy.config({}),ng.config({store:de({mode:"manual",getValue:function(e){return wc(e.element())},setValue:function(t,n){Ke(e.options,function(e){return e.value===n}).isSome()&&xc(t.element(),n)}},r)})])}},NM=dh({name:"HtmlSelect",configFields:[lr("options"),rg("selectBehaviours",[zy,ng]),Er("selectClasses",[]),Er("selectAttributes",{}),wr("data")],factory:TM}),EM=function(e,t){var n=Fe(e.items,function(e){return{text:t.translate(e.text),value:e.value}}),r=e.label.map(function(e){return QN(e,t)}),o=VN.parts().field({dom:{},selectAttributes:{size:e.size},options:n,factory:NM,selectBehaviours:Wl([ik.config({disabled:function(){return e.disabled||t.isReadOnly()}}),WN.config({}),Ey("selectbox-change",[Hi(ei(),function(t,n){Di(t,ZN,{name:e.name})})])])}),i=e.size>1?ve.none():ve.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:ex("chevron-down",t.icons)}}),a={dom:{tag:"div",classes:["tox-selectfield"]},components:Xe([[o],i.toArray()])};return VN.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Xe([r.toArray(),[a]]),fieldBehaviours:Wl([ik.config({disabled:function(){return e.disabled||t.isReadOnly()},onDisabled:function(e){VN.getField(e).each(ik.disable)},onEnabled:function(e){VN.getField(e).each(ik.enable)}}),Yk()])})},OM=function(e,t){var n=function(e){return{dom:{tag:"th",innerHtml:t.translate(e)}}},r=function(e){return{dom:{tag:"td",innerHtml:t.translate(e)}}},o=function(e){return{dom:{tag:"tr"},components:Fe(e,r)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[function(e){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Fe(e,n)}]}}(e.header),function(e){return{dom:{tag:"tbody"},components:Fe(e,o)}}(e.cells)],behaviours:Wl([WN.config({}),zy.config({})])}},_M=function(e,t){var n=e.label.map(function(e){return QN(e,t)}),r=[ik.config({disabled:function(){return e.disabled||t.isReadOnly()}}),Yk(),gy.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:function(e){return Ai(e,rE),ve.some(!0)}}),Ey("textfield-change",[Hi(Zo(),function(t,n){Di(t,ZN,{name:e.name})}),Hi(ui(),function(t,n){Di(t,ZN,{name:e.name})})]),WN.config({})],o=e.validation.map(function(e){return LE.config({getRoot:function(e){return sa(e.element())},invalidClass:"tox-invalid",validator:{validate:function(t){var n=ng.getValue(t),r=e.validator(n);return NE.pure(!0===r?lt.value(n):lt.error(r))},validateOnLoad:e.validateOnLoad}})}).toArray(),i=e.placeholder.fold(ie({}),function(e){return{placeholder:t.translate(e)}}),a=e.inputMode.fold(ie({}),function(e){return{inputmode:e}}),u=de(de({},i),a),c=VN.parts().field({tag:!0===e.multiline?"textarea":"input",inputAttributes:u,inputClasses:[e.classname],inputBehaviours:Wl(Xe([r,o])),selectOnFocus:!1,factory:pE}),s=e.flex?["tox-form__group--stretched"]:[],l=s.concat(e.maximized?["tox-form-group--maximize"]:[]),f=[ik.config({disabled:function(){return e.disabled||t.isReadOnly()},onDisabled:function(e){VN.getField(e).each(ik.disable)},onEnabled:function(e){VN.getField(e).each(ik.enable)}}),Yk()];return GN(n,c,l,f)},AM=function(e,t){return _M({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:e.disabled,classname:"tox-textfield",validation:ve.none(),maximized:e.maximized},t)},DM=function(e,t){return _M({name:e.name,multiline:!0,label:e.label,inputMode:ve.none(),placeholder:e.placeholder,flex:!0,disabled:e.disabled,classname:"tox-textarea",validation:ve.none(),maximized:e.maximized},t)},RM=function(e,t){var n=e.stream.streams,r=n.setup(e,t);return zi([Hi(e.event,r),Yi(function(){return t.cancel()})].concat(e.cancelEvent.map(function(e){return[Hi(e,function(){return t.cancel()})]}).getOr([])))},MM=Object.freeze({__proto__:null,events:RM}),PM=function(e){var t=zr(null);return fu({readState:function(){return{timer:null!==t.get()?"set":"unset"}},setTimer:function(e){t.set(e)},cancel:function(){var e=t.get();null!==e&&e.cancel()}})},IM=function(e){return e.stream.streams.state(e)},zM=Object.freeze({__proto__:null,throttle:PM,init:IM}),BM=function(e,t){var n=e.stream,r=ux(e.onStream,n.delay);return t.setTimer(r),function(e,t){r.throttle(e,t),n.stopEvent&&t.stop()}},LM=[fr("stream",er("mode",{throttle:[lr("delay"),Er("stopEvent",!0),Qs("streams",{setup:BM,state:PM})]})),Er("event","input"),wr("cancelEvent"),Xs("onStream")],HM=Kl({fields:LM,name:"streaming",active:MM,state:zM}),FM=function(e,t,n){var r=ng.getValue(n);ng.setValue(t,r),VM(t)},jM=function(e,t){var n=e.element(),r=wc(n),o=n.dom();"number"!==Ra(n,"type")&&t(o,r)},VM=function(e){jM(e,function(e,t){return e.setSelectionRange(t.length,t.length)})},UM=function(e,t){jM(e,function(e,n){return e.setSelectionRange(t,n.length)})},qM=function(e,t,n){if(e.selectsOver){var r=ng.getValue(t),o=e.getDisplayText(r),i=ng.getValue(n);return 0===e.getDisplayText(i).indexOf(o)?ve.some(function(){FM(0,t,n),UM(t,o.length)}):ve.none()}return ve.none()},$M=ie("alloy.typeahead.itemexecute"),WM=function(e,t,n,r){var o=function(t,n,o){e.previewing.set(!1);var i=qE.getCoupled(t,"sandbox");if(wp.isOpen(i))Ch.getCurrent(i).each(function(e){Vh.getHighlighted(e).fold(function(){o(e)},function(){Ii(i,e.element(),"keydown",n)})});else{var u=function(e){Ch.getCurrent(e).each(o)};JE(e,a(t),t,i,r,u,vE.HighlightFirst).get(te)}},i=lE(e),a=function(e){return function(t){return t.map(function(t){var n=Mt(t.menus),r=Je(n,function(e){return qe(e.items,function(e){return"item"===e.type})});return ng.getState(e).update(Fe(r,function(e){return e.data})),t})}},u=[zy.config({}),ng.config({onSetValue:e.onSetValue,store:de({mode:"dataset",getDataKey:function(e){return wc(e.element())},getFallbackEntry:function(e){return{value:e,meta:{}}},setValue:function(t,n){xc(t.element(),e.model.getDisplayText(n))}},e.initialData.map(function(e){return on("initialValue",e)}).getOr({}))}),HM.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:function(t,n){var o=qE.getCoupled(t,"sandbox");if(zy.isFocused(t)&&wc(t.element()).length>=e.minChars){var i=Ch.getCurrent(o).bind(function(e){return Vh.getHighlighted(e).map(ng.getValue)});e.previewing.set(!0);var u=function(t){Ch.getCurrent(o).each(function(t){i.fold(function(){e.model.selectsOver&&Vh.highlightFirst(t)},function(e){Vh.highlightBy(t,function(t){return ng.getValue(t).value===e.value}),Vh.getHighlighted(t).orThunk(function(){return Vh.highlightFirst(t),ve.none()})})})};JE(e,a(t),t,o,r,u,vE.HighlightFirst).get(te)}},cancelEvent:pi()}),gy.config({mode:"special",onDown:function(e,t){return o(e,t,Vh.highlightFirst),ve.some(!0)},onEscape:function(e){var t=qE.getCoupled(e,"sandbox");return wp.isOpen(t)?(wp.close(t),ve.some(!0)):ve.none()},onUp:function(e,t){return o(e,t,Vh.highlightLast),ve.some(!0)},onEnter:function(t){var n=qE.getCoupled(t,"sandbox"),r=wp.isOpen(n);if(r&&!e.previewing.get())return Ch.getCurrent(n).bind(function(e){return Vh.getHighlighted(e)}).map(function(e){return Di(t,$M(),{item:e}),!0});var o=ng.getValue(t);return Ai(t,pi()),e.onExecute(n,t,o),r&&wp.close(n),ve.some(!0)}}),ew.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),qE.config({others:{sandbox:function(t){return rO(e,t,{onOpen:function(){return ew.on(t)},onClose:function(){return ew.off(t)}})}}}),Ey("typeaheadevents",[Ji(function(t){var n=te;ZE(e,a(t),t,r,n,vE.HighlightFirst).get(te)}),Hi($M(),function(t,n){var r=qE.getCoupled(t,"sandbox");FM(e.model,t,n.event().item()),Ai(t,pi()),e.onItemExecute(t,r,n.event().item(),ng.getValue(t)),wp.close(r),VM(t)})].concat(e.dismissOnBlur?[Hi(ai(),function(e){var t=qE.getCoupled(e,"sandbox");ff(t.element()).isNone()&&wp.close(t)})]:[]))];return{uid:e.uid,dom:dE(Ut(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:de(de({},i),ig(e.typeaheadBehaviours,u)),eventOrder:e.eventOrder}},GM=ie([wr("lazySink"),lr("fetch"),Er("minChars",5),Er("responseTime",1e3),Ks("onOpen"),Er("getHotspot",ve.some),Er("getAnchorOverrides",ie({})),Er("layouts",ve.none()),Er("eventOrder",{}),Pr("model",{},[Er("getDisplayText",function(e){return void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value}),Er("selectsOver",!0),Er("populateFromBrowse",!0)]),Ks("onSetValue"),Ys("onExecute"),Ks("onItemExecute"),Er("inputClasses",[]),Er("inputAttributes",{}),Er("inputStyles",{}),Er("matchWidth",!0),Er("useMinWidth",!1),Er("dismissOnBlur",!0),Ws(["openClass"]),wr("initialData"),rg("typeaheadBehaviours",[zy,ng,HM,gy,ew,qE]),Ir("previewing",function(){return zr(!0)})].concat(sE()).concat(iO())),KM=ie([Ig({schema:[$s()],name:"menu",overrides:function(e){return{fakeFocus:!0,onHighlight:function(t,n){e.previewing.get()?t.getSystem().getByUid(e.uid).each(function(r){qM(e.model,r,n).fold(function(){return Vh.dehighlight(t,n)},function(e){return e()})}):t.getSystem().getByUid(e.uid).each(function(t){e.model.populateFromBrowse&&FM(e.model,t,n)}),e.previewing.set(!1)},onExecute:function(t,n){return t.getSystem().getByUid(e.uid).toOption().map(function(e){return Di(e,$M(),{item:n}),!0})},onHover:function(t,n){e.previewing.set(!1),t.getSystem().getByUid(e.uid).each(function(t){e.model.populateFromBrowse&&FM(e.model,t,n)})}}}})]),YM=mh({name:"Typeahead",configFields:GM(),partFields:KM(),factory:WM}),XM=function(e){var n=function(){return XM(e.toCached())},r=function(t){return XM(e.bind(function(e){return e.fold(function(e){return NE.pure(lt.error(e))},function(e){return t(e)})}))},o=function(t){return XM(e.map(function(e){return e.bind(t)}))},i=function(t){return XM(e.map(function(e){return e.map(t)}))},a=function(t){return XM(e.map(function(e){return e.mapError(t)}))},u=function(t,n){return e.map(function(e){return e.fold(t,n)})},c=function(n,r){return XM(NE.nu(function(o){var i=!1,a=t.setTimeout(function(){i=!0,o(lt.error(r()))},n);e.get(function(e){i||(t.clearTimeout(a),o(e))})}))};return de(de({},e),{toCached:n,bindFuture:r,bindResult:o,mapResult:i,mapError:a,foldResult:u,withTimeout:c})},JM=function(e){return XM(NE.nu(e))},QM=function(e){return XM(NE.pure(lt.value(e)))},ZM=function(e){return XM(NE.pure(lt.error(e)))},eP=function(e){return XM(NE.pure(e))},tP=function(e){return XM(e.map(lt.value))},nP=function(e){return JM(function(t){e.then(function(e){t(lt.value(e))},function(e){t(lt.error(e))})})},rP={nu:JM,wrap:XM,pure:QM,value:QM,error:ZM,fromResult:eP,fromFuture:tP,fromPromise:nP},oP={type:"separator"},iP=function(e){return{type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:function(){}}},aP=function(e,t){return{type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:function(){}}},uP=function(e){return Fe(e,iP)},cP=function(e,t){return qe(t,function(t){return t.type===e})},sP=function(e,t){return uP(cP(e,t))},lP=function(e){return sP("header",e.targets)},fP=function(e){return sP("anchor",e.targets)},dP=function(e){return ve.from(e.anchorTop).map(function(e){return aP("<top>",e)}).toArray()},mP=function(e){return ve.from(e.anchorBottom).map(function(e){return aP("<bottom>",e)}).toArray()},pP=function(e){return Fe(e,function(e){return aP(e,e)})},gP=function(e){return We(e,function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(oP,t)},[])},hP=function(e,t){var n=e.toLowerCase();return qe(t,function(e){var t=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text;return so(t.toLowerCase(),n)||so(e.value.toLowerCase(),n)})},vP=function(e,t,n){var r=ng.getValue(t),o=void 0!==r.meta.text?r.meta.text:r.value;return n.getLinkInformation().fold(function(){return[]},function(t){var r=hP(o,pP(n.getHistory(e)));return"file"===e?gP([r,hP(o,lP(t)),hP(o,Xe([dP(t),fP(t),mP(t)]))]):r})},bP=qa("aria-invalid"),yP=function(e,t,n){var r,o=t.shared.providers,i=function(t){var r=ng.getValue(t);n.addToHistory(r.value,e.filetype)},a=VN.parts().field({factory:YM,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":bP,type:"url"},minChars:0,responseTime:0,fetch:function(r){var o=vP(e.filetype,r,n),i=wR(o,Ux.BUBBLE_TO_SANDBOX,t,!1);return NE.pure(i)},getHotspot:function(e){return d.getOpt(e)},onSetValue:function(e,t){e.hasConfigured(LE)&&LE.run(e).get(te)},typeaheadBehaviours:Wl(Xe([n.getValidationHandler().map(function(t){return LE.config({getRoot:function(e){return sa(e.element())},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(e,t){c.getOpt(e).each(function(e){Aa(e.element(),"title",o.translate(t))})}},validator:{validate:function(n){var r=ng.getValue(n);return rP.nu(function(n){t({type:e.filetype,url:r.value},function(e){if("invalid"===e.status){var t=lt.error(e.message);n(t)}else{var r=lt.value(e.message);n(r)}})})},validateOnLoad:!1}})}).toArray(),[ik.config({disabled:function(){return e.disabled||o.isReadOnly()}}),WN.config({}),Ey("urlinput-events",Xe(["file"===e.filetype?[Hi(Zo(),function(t){Di(t,ZN,{name:e.name})})]:[],[Hi(ei(),function(t){Di(t,ZN,{name:e.name}),i(t)}),Hi(ui(),function(t){Di(t,ZN,{name:e.name}),i(t)})]]))]])),eventOrder:(r={},r[Zo()]=["streaming","urlinput-events","invalidating"],r),model:{getDisplayText:function(e){return e.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:eC(0,0,"normal")},onExecute:function(e,t,n){Di(t,rE,{})},onItemExecute:function(t,n,r,o){i(t),Di(t,ZN,{name:e.name})}}),u=e.label.map(function(e){return QN(e,o)}),c=Qw(function(e,t,n,r){return void 0===n&&(n=e),void 0===r&&(r=e),{dom:{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],innerHtml:ex(n,o.icons),attributes:de({title:o.translate(r),"aria-live":"polite"},t.fold(function(){return{}},function(e){return{id:e}}))}}}("invalid",ve.some(bP),"warning")),s=Qw({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[c.asSpec()]}),l=n.getUrlPicker(e.filetype),f=qa("browser.url.event"),d=Qw({dom:{tag:"div",classes:["tox-control-wrap"]},components:[a,s.asSpec()],behaviours:Wl([ik.config({disabled:function(){return e.disabled||o.isReadOnly()}})])}),m=Qw(OR({name:e.name,icon:ve.some("browse"),text:e.label.getOr(""),disabled:e.disabled,primary:!1,borderless:!0},function(e){return Ai(e,f)},o,[],["tox-browse-url"])),p=function(t){Ch.getCurrent(t).each(function(n){var r=ng.getValue(n),o=de({fieldname:e.name},r);l.each(function(r){r(o).get(function(r){ng.setValue(n,r),Di(t,ZN,{name:e.name})})})})};return VN.sketch({dom:XN(),components:u.toArray().concat([function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Xe([[d.asSpec()],l.map(function(){return m.asSpec()}).toArray()])}}()]),fieldBehaviours:Wl([ik.config({disabled:function(){return e.disabled||o.isReadOnly()},onDisabled:function(e){VN.getField(e).each(ik.disable),m.getOpt(e).each(ik.disable)},onEnabled:function(e){VN.getField(e).each(ik.enable),m.getOpt(e).each(ik.enable)}}),Yk(),Ey("url-input-events",[Hi(f,p)])])})},wP=function(e,t){return zN.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+e.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Jw.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:ex(e.icon,t.icons),attributes:{title:t.translate(e.iconTooltip)}},action:function(t){Di(t,nE,{name:"alert-banner",value:e.url})}})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]})},xP=function(e,t){var n=ng.config({store:{mode:"manual",getValue:function(e){return e.element().dom().checked},setValue:function(e,t){e.element().dom().checked=t}}}),r=function(e){return e.element().dom().click(),ve.some(!0)},o=VN.parts().field({factory:{sketch:ae},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Wl([aD.self(),ik.config({disabled:function(){return e.disabled||t.isReadOnly()}}),WN.config({}),zy.config({}),n,gy.config({mode:"special",onEnter:r,onSpace:r,stopSpaceKeyup:!0}),Ey("checkbox-events",[Hi(ei(),function(t,n){Di(t,ZN,{name:e.name})})])])}),i=VN.parts().label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:t.translate(e.label)},behaviours:Wl([mO.config({})])}),a=function(e){return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e],innerHtml:ex("checked"===e?"selected":"unselected",t.icons)}}},u=Qw({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[a("checked"),a("unchecked")]});return VN.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,u.asSpec(),i],fieldBehaviours:Wl([ik.config({disabled:function(){return e.disabled||t.isReadOnly()},disableClass:"tox-checkbox--disabled",onDisabled:function(e){VN.getField(e).each(ik.disable)},onEnabled:function(e){VN.getField(e).each(ik.enable)}}),Yk()])})},CP=function(e){return"presentation"===e.presets?zN.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):zN.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:Wl([WN.config({}),zy.config({})])})},kP=function(e){return function(t,n,r){return Pt(n,"name").fold(function(){return e(n,r)},function(o){return t.field(o,e(n,r))})}},SP={bar:kP(function(e,t){return LN(e,t.shared)}),collection:kP(function(e,t){return cE(e,t.shared.providers)}),alertbanner:kP(function(e,t){return wP(e,t.shared.providers)}),input:kP(function(e,t){return AM(e,t.shared.providers)}),textarea:kP(function(e,t){return DM(e,t.shared.providers)}),label:kP(function(e,t){return kM(e,t.shared)}),iframe:function(e){return function(t,n,r){var o=Ut(n,{source:"dynamic"});return kP(e)(t,o,r)}}(function(e,t){return ID(e,t.shared.providers)}),button:kP(function(e,t){return MR(e,t.shared.providers)}),checkbox:kP(function(e,t){return xP(e,t.shared.providers)}),colorinput:kP(function(e,t){return bO(e,t.shared,t.colorinput)}),colorpicker:kP(lD),dropzone:kP(function(e,t){return SD(e,t.shared.providers)}),grid:kP(function(e,t){return TD(e,t.shared)}),selectbox:kP(function(e,t){return EM(e,t.shared.providers)}),sizeinput:kP(function(e,t){return WR(e,t.shared.providers)}),urlinput:kP(function(e,t){return yP(e,t,t.urlinput)}),customeditor:kP(mD),htmlpanel:kP(CP),imagetools:kP(function(e,t){return CM(e,t.shared.providers)}),table:kP(function(e,t){return OM(e,t.shared.providers)}),panel:kP(function(e,t){return SM(e,t)})},TP={field:function(e,t){return t}},NP=function(e,t,n){var r=Ut(n,{shared:{interpreter:function(t){return EP(e,t,r)}}});return EP(e,t,r)},EP=function(e,n,r){return Pt(SP,n.type).fold(function(){return t.console.error('Unknown factory type "'+n.type+'", defaulting to container: ',n),n},function(t){return t(e,n,r)})},OP=function(e,t){return EP(TP,e,t)},_P={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},AP=function(e,t,n){var r=$f(-12,12,_P),o={maxHeightFunction:Ff()},i=function(){return{anchor:"node",root:uc(ia(e())),node:ve.from(e()),bubble:r,layouts:{onRtl:function(){return[Ww]},onLtr:function(){return[$w]}},overrides:o}},a=function(){return{anchor:"hotspot",hotspot:t(),bubble:r,layouts:{onRtl:function(){return[Tl]},onLtr:function(){return[Nl]}},overrides:o}};return function(){return n()?i():a()}},DP=function(e,t,n){var r=function(){return{anchor:"node",root:uc(ia(e())),node:ve.from(e()),layouts:{onRtl:function(){return[Gw]},onLtr:function(){return[Gw]}}}},o=function(){return{anchor:"hotspot",hotspot:t(),layouts:{onRtl:function(){return[Al]},onLtr:function(){return[Al]}}}};return function(){return n()?r():o()}},RP=function(e,t){return function(){return{anchor:"selection",root:t(),getSelection:function(){var t=e.selection.getRng();return ve.some(Cd.range(Vr.fromDom(t.startContainer),t.startOffset,Vr.fromDom(t.endContainer),t.endOffset))}}}},MP=function(e){return function(t){return{anchor:"node",root:e(),node:t}}},PP=function(e,t,n){var r=Dk(e),o=function(){return Vr.fromDom(e.getBody())},i=function(){return Vr.fromDom(e.getContentAreaContainer())},a=function(){return r||!n()};return{inlineDialog:AP(i,t,a),banner:DP(i,t,a),cursor:RP(e,o),node:MP(o)}},IP=function(e){return function(t,n){BT(e)(t,n)}},zP=function(e){return function(){return yT(e)}},BP=function(e){return function(){return xT(e)}},LP=function(e){return function(){return _T(e)}},HP=function(e){return{colorPicker:IP(e),hasCustomColors:zP(e),getColors:BP(e),getColorCols:LP(e)}},FP=function(e){return function(){return Ik(e)}},jP=function(e){return{isDraggableModal:FP(e)}},VP=function(e){var t=zr(Ok(e)?"bottom":"top");return{isPositionedAtTop:function(){return"top"===t.get()},getDockingMode:t.get,setDockingMode:t.set}},UP=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],qP=function(e){return It(e,"items")},$P=function(e){return It(e,"block")},WP=function(e){return It(e,"inline")},GP=function(e){return It(e,"selector")},KP=function(e){return We(e,function(e,t){if(qP(t)){var n=KP(t.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}if(WP(t)||$P(t)||GP(t)){var r="custom-"+t.title.toLowerCase();return{customFormats:e.customFormats.concat([{name:r,format:t}]),formats:e.formats.concat([{title:t.title,format:r,icon:t.icon}])}}return de(de({},e),{formats:e.formats.concat(t)})},{customFormats:[],formats:[]})},YP=function(e,t){var n=KP(t),r=function(t){je(t,function(t){e.formatter.has(t.name)||e.formatter.register(t.name,t.format)})};return e.formatter?r(n.customFormats):e.on("init",function(){r(n.customFormats)}),n.formats},XP=function(e){return hk(e).map(function(t){var n=YP(e,t);return vk(e)?UP.concat(n):n}).getOr(UP)},JP=function(e,t,n){var r={type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)};return Ut(e,r)},QP=function(e,t,n,r){var o=function(e){return JP(e,n,r)},i=function(e){return Ut(e,{type:"submenu"})},a=function(t){var o=qa(t.title),i={type:"formatter",format:o,isSelected:n(o),getStylePreview:r(o)},a=Ut(t,i);return e.formatter.register(o,a),a},u=function(e){return Fe(e,function(e){var t=kt(e);if(zt(e,"items")){var n=u(e.items);return Ut(i(e),{getStyleItems:function(){return n}})}return zt(e,"format")?o(e):1===t.length&&ze(t,"title")?Ut(e,{type:"separator"}):a(e)})};return u(t)},ZP=function(e){var t=function(t){return function(){return e.formatter.match(t)}},n=function(t){return function(){var n=e.formatter.get(t);return void 0!==n?ve.some({tag:n.length>0?n[0].inline||n[0].block||"div":"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):ve.none()}},r=function(e){var t=e.items;return void 0!==t&&t.length>0?Je(t,r):[e.format]},o=zr([]),i=zr([]),a=zr([]),u=zr([]),c=zr(!1);return e.on("PreInit",function(a){var u=XP(e),c=QP(e,u,t,n);o.set(c),i.set(Je(c,r))}),e.on("addStyleModifications",function(o){var i=QP(e,o.items,t,n);a.set(i),c.set(o.replace),u.set(Je(i,r))}),{getData:function(){var e=c.get()?[]:o.get(),t=a.get();return e.concat(t)},getFlattenedKeys:function(){var e=c.get()?[]:i.get(),t=u.get();return e.concat(t)}}},eI=fM.trim,tI=function(e){return function(t){if(t&&1===t.nodeType){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},nI=tI("true"),rI=tI("false"),oI=function(e,t,n,r,o){return{type:e,title:t,url:n,level:r,attach:o}},iI=function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return nI(e)}return!1},aI=function(e,t){return Fe(qd(Vr.fromDom(t),e),function(e){return e.dom()})},uI=function(e){return e.innerText||e.textContent},cI=function(e){return e.id?e.id:qa("h")},sI=function(e){return e&&"A"===e.nodeName&&void 0!==(e.id||e.name)},lI=function(e){return sI(e)&&dI(e)},fI=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},dI=function(e){return iI(e)&&!rI(e)},mI=function(e){return fI(e)&&dI(e)},pI=function(e){return fI(e)?parseInt(e.nodeName.substr(1),10):0},gI=function(e){var t=cI(e),n=function(){e.id=t};return oI("header",uI(e),"#"+t,pI(e),n)},hI=function(e){var t=e.id||e.name,n=uI(e);return oI("anchor",n||"#"+t,"#"+t,0,te)},vI=function(e){return Fe(qe(e,mI),gI)},bI=function(e){return Fe(qe(e,lI),hI)},yI=function(e){return aI("h1,h2,h3,h4,h5,h6,a:not([href])",e)},wI=function(e){return eI(e.title).length>0},xI=function(e){var t=yI(e);return qe(vI(t).concat(bI(t)),wI)},CI={find:xI},kI="tinymce-url-history",SI=function(e){return xe(e)&&/^https?/.test(e)},TI=function(e){return ke(e)&&e.length<=5&&Qe(e,SI)},NI=function(e){return Ce(e)&&Rt(e,function(e){return!TI(e)}).isNone()},EI=function(){var e=dT.getItem(kI);if(null===e)return{};var n;try{n=JSON.parse(e)}catch(e){if(e instanceof SyntaxError)return t.console.log("Local storage "+kI+" was not valid JSON",e),{};throw e}return NI(n)?n:(t.console.log("Local storage "+kI+" was not valid format",n),{})},OI=function(e){if(!NI(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));dT.setItem(kI,JSON.stringify(e))},_I=function(e){var t=EI();return Object.prototype.hasOwnProperty.call(t,e)?t[e]:[]},AI=function(e,t){if(SI(e)){var n=EI(),r=Object.prototype.hasOwnProperty.call(n,t)?n[t]:[],o=qe(r,function(t){return t!==e});n[t]=[e].concat(o).slice(0,5),OI(n)}},DI=function(e){return!!e},RI=function(e){return Nt(fM.makeMap(e,/[, ]/),DI)},MI=function(e){return ve.from(Hk(e)).filter(Oe)},PI=function(e){var t=ve.some(Fk(e)).filter(DI),n=ve.some(jk(e)).filter(DI),r=t.or(n).map(RI);return MI(e).fold(function(){return!1},function(e){return r.fold(function(){return!0},function(e){return kt(e).length>0&&e})})},II=function(e,t){var n=PI(e);return Se(n)?n?MI(e):ve.none():n[t]?MI(e):ve.none()},zI=function(e,t){return II(e,t).map(function(n){return function(r){return NE.nu(function(o){var i=function(e,t){if(!xe(e))throw new Error("Expected value to be string");if(void 0!==t&&!Ce(t))throw new Error("Expected meta to be a object");o({value:e,meta:t})},a=de({filetype:t,fieldname:r.fieldname},ve.from(r.meta).getOr({}));n.call(e,i,r.value,a)})}})},BI=function(e){return Vk(e)?ve.none():ve.some({targets:CI.find(e.getBody()),anchorTop:Uk(e),anchorBottom:qk(e)})},LI=function(e){return ve.from($k(e))},HI=function(e){return{getHistory:_I,addToHistory:AI,getLinkInformation:function(){return BI(e)},getValidationHandler:function(){return LI(e)},getUrlPicker:function(t){return zI(e,t)}}},FI=function(e,t,n){var r=zr(!1),o=VP(t),i={shared:{providers:{icons:function(){return t.ui.registry.getAll().icons},menuItems:function(){return t.ui.registry.getAll().menuItems},translate:FC.translate,isReadOnly:function(){return t.mode.isReadOnly()}},interpreter:function(e){return OP(e,i)},anchors:PP(t,n,o.isPositionedAtTop),header:o,getSink:function(){return lt.value(e)}},urlinput:HI(t),styleselect:ZP(t),colorinput:HP(t),dialog:jP(t),isContextMenuOpen:function(){return r.get()},setContextMenuState:function(e){return r.set(e)}};return i},jI=ie(function(e,t){Xc(e,Math.floor(t))}),VI=ie([lr("items"),Ws(["itemSelector"]),rg("tgroupBehaviours",[gy])]),UI=ie([Bg({name:"items",unit:"item"})]),qI=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:ig(e.tgroupBehaviours,[gy.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},$I=mh({name:"ToolbarGroup",configFields:VI(),partFields:UI(),factory:qI}),WI=ie([lr("dom"),Er("shell",!0),rg("toolbarBehaviours",[Ty])]),GI=function(){return{behaviours:Wl([Ty.config({})])}},KI=ie([zg({name:"groups",overrides:GI})]),YI=function(e,n,r,o){var i=function(e,n){a(e).fold(function(){throw t.console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(e){Ty.set(e,n)})},a=function(t){return e.shell?ve.some(t):Yg(t,e,"groups")},u=e.shell?{behaviours:[Ty.config({})],components:[]}:{behaviours:[],components:n};return{uid:e.uid,dom:e.dom,components:u.components,behaviours:ig(e.toolbarBehaviours,u.behaviours),apis:{setGroups:i},domModification:{attributes:{role:"group"}}}},XI=mh({name:"Toolbar",configFields:WI(),partFields:KI(),factory:YI,apis:{setGroups:function(e,t,n){e.setGroups(t,n)}}}),JI=function(e,t){var n={len:0,list:[]};return We(e,function(e,n){return t(n,e.len).fold(ie(e),function(t){return{len:t.finish(),list:e.list.concat([t])}})},n).list},QI=function(e,t,n){return{within:ie(e),extra:ie(t),withinWidth:ie(n)}},ZI=function(e,t,n){var r=JI(e,function(e,t){var r=n(e);return ve.some({element:ie(e),start:ie(t),finish:ie(t+r),width:ie(r)})}),o=qe(r,function(e){return e.finish()<=t}),i=$e(o,function(e,t){return e+t.width()},0),a=r.slice(o.length);return{within:ie(o),extra:ie(a),withinWidth:ie(i)}},ez=function(e){return Fe(e,function(e){return e.element()})},tz=function(e,t,n){var r=ez(e.concat(t));return QI(r,[],n)},nz=function(e,t,n,r){var o=ez(e).concat([n]);return QI(o,ez(t),r)},rz=function(e,t,n){return QI(ez(e),[],n)},oz=function(e,t,n){var r=ZI(t,e,n);return 0===r.extra().length?ve.some(r):ve.none()},iz=function(e,t,n,r){var o=oz(e,t,n).getOrThunk(function(){return ZI(t,e-n(r),n)}),i=o.within(),a=o.extra(),u=o.withinWidth();return 1===a.length&&a[0].width()<=n(r)?tz(i,a,u):a.length>=1?nz(i,a,r,u):rz(i,0,u)},az=function(e,t){var n=Fe(t,function(e){return Ic(e)});XI.setGroups(e,n)},uz=function(e){return at(e,function(e){return ff(e.element()).bind(function(t){return e.getSystem().getByDom(t).toOption()})})},cz=function(e,t,n){var r=Xg(e,t,"primary"),o=qE.getCoupled(e,"overflowGroup");lc(r.element(),"visibility","hidden");var i=t.builtGroups.get().concat([o]),a=uz(i);n([]),az(r,i);var u=Kc(r.element()),c=iz(u,t.builtGroups.get(),function(e){return Kc(e.element())},o);0===c.extra().length?(Ty.remove(r,o),n([])):(az(r,c.within()),n(c.extra())),bc(r.element(),"visibility"),yc(r.element()),a.each(zy.focus)},sz=ie([rg("splitToolbarBehaviours",[qE]),Ir("builtGroups",function(){return zr([])})]),lz=ie([Ws(["overflowToggledClass"]),Sr("getOverflowBounds"),lr("lazySink"),Ir("overflowGroups",function(){return zr([])})].concat(sz())),fz=ie([Pg({factory:XI,schema:WI(),name:"primary"}),Ig({schema:WI(),name:"overflow"}),Ig({name:"overflow-button"}),Ig({name:"overflow-group"})]),dz=ie([Ws(["toggledClass"]),lr("lazySink"),gr("fetch"),Sr("getBounds"),Tr("fireDismissalEventInstead",[Er("event",Ci())]),Zf()]),mz=ie([Ig({name:"button",overrides:function(e){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Wl([ew.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Ig({factory:XI,schema:WI(),name:"toolbar",overrides:function(e){return{toolbarBehaviours:Wl([gy.config({mode:"cyclic",onEscape:function(t){return Yg(t,e,"button").each(zy.focus),ve.none()}})])}}})]),pz=function(e,t){var n=qE.getCoupled(e,"toolbarSandbox");wp.isOpen(n)?wp.close(n):wp.open(n,t.toolbar())},gz=function(e,t,n,r){var o=n.getBounds.map(function(e){return e()}),i=n.lazySink(e).getOrDie();Fm.positionWithinBounds(i,{anchor:"hotspot",hotspot:e,layouts:r,overrides:{maxWidthFunction:jI()}},t,o)},hz=function(e,t,n,r,o){XI.setGroups(t,o),gz(e,t,n,r),ew.on(e)},vz=function(e,t,n){var r=_s(),o=function(o,i){n.fetch().get(function(o){hz(e,i,n,t.layouts,o),r.link(e.element()),gy.focusIn(i)})},i=function(){ew.off(e),zy.focus(e),r.unlink(e.element())};return{dom:{tag:"div",attributes:{id:r.id}},behaviours:Wl([gy.config({mode:"special",onEscape:function(e){return wp.close(e),ve.some(!0)}}),wp.config({onOpen:o,onClose:i,isPartOf:function(t,n,r){return Ds(n,r)||Ds(e,r)},getAttachPoint:function(){return n.lazySink(e).getOrDie()}}),nf.config({channels:de(de({},Tp(de({isExtraPart:se},n.fireDismissalEventInstead.map(function(e){return{fireEventInstead:{event:e.event}}}).getOr({})))),Ep({doReposition:function(){wp.getState(qE.getCoupled(e,"toolbarSandbox")).each(function(r){gz(e,r,n,t.layouts)})}}))})])}},bz=function(e,t,n,r){return de(de({},Jw.sketch(de(de({},r.button()),{action:function(e){pz(e,r)},buttonBehaviours:ag.augment({dump:r.button().buttonBehaviours},[qE.config({others:{toolbarSandbox:function(t){return vz(t,n,e)}}})])}))),{apis:{setGroups:function(t,r){wp.getState(qE.getCoupled(t,"toolbarSandbox")).each(function(o){hz(t,o,e,n.layouts,r)})},reposition:function(t){wp.getState(qE.getCoupled(t,"toolbarSandbox")).each(function(r){gz(t,r,e,n.layouts)})},toggle:function(e){pz(e,r)},getToolbar:function(e){return wp.getState(qE.getCoupled(e,"toolbarSandbox"))}}})},yz=mh({name:"FloatingToolbarButton",factory:bz,configFields:dz(),partFields:mz(),apis:{setGroups:function(e,t,n){e.setGroups(t,n)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},getToolbar:function(e,t){return e.getToolbar(t)}}}),wz=function(e){return Fe(e,function(e){return Ic(e)})},xz=function(e,t,n){cz(e,n,function(r){n.overflowGroups.set(r),t.getOpt(e).each(function(e){yz.setGroups(e,wz(r))})})},Cz=function(e,t,n,r){var o=Qw(yz.sketch({fetch:function(){return NE.nu(function(t){t(wz(e.overflowGroups.get()))})},layouts:{onLtr:function(){return[Nl,Tl]},onRtl:function(){return[Tl,Nl]},onBottomLtr:function(){return[Ol,El]},onBottomRtl:function(){return[El,Ol]}},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:r["overflow-button"](),toolbar:r.overflow()}}));return{uid:e.uid,dom:e.dom,components:t,behaviours:ig(e.splitToolbarBehaviours,[qE.config({others:{overflowGroup:function(){return $I.sketch(de(de({},r["overflow-group"]()),{items:[o.asSpec()]}))}}})]),apis:{setGroups:function(t,n){e.builtGroups.set(Fe(n,t.getSystem().build)),xz(t,o,e)},refresh:function(t){return xz(t,o,e)},toggle:function(e){o.getOpt(e).each(function(e){yz.toggle(e)})},reposition:function(e){o.getOpt(e).each(function(e){yz.reposition(e)})},getOverflow:function(e){return o.getOpt(e).bind(function(e){return yz.getToolbar(e)})}},domModification:{attributes:{role:"group"}}}},kz=mh({name:"SplitFloatingToolbar",configFields:lz(),partFields:fz(),factory:Cz,apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},getOverflow:function(e,t){return e.getOverflow(t)}}}),Sz=function(e,t){return t.getAnimationRoot.fold(function(){return e.element()},function(t){return t(e)})},Tz=function(e){return e.dimension.property},Nz=function(e,t){return e.dimension.getDimension(t)},Ez=function(e,t){var n=Sz(e,t);Ku(n,[t.shrinkingClass,t.growingClass])},Oz=function(e,t){$u(e.element(),t.openClass),Uu(e.element(),t.closedClass),lc(e.element(),Tz(t),"0px"),yc(e.element())},_z=function(e,t){$u(e.element(),t.closedClass),Uu(e.element(),t.openClass),bc(e.element(),Tz(t))},Az=function(e,t,n,r){n.setCollapsed(),lc(e.element(),Tz(t),Nz(t,e.element())),yc(e.element()),Ez(e,t),Oz(e,t),t.onStartShrink(e),t.onShrunk(e)},Dz=function(e,t,n,r){var o=r.getOrThunk(function(){return Nz(t,e.element())});n.setCollapsed(),lc(e.element(),Tz(t),o),yc(e.element());var i=Sz(e,t);$u(i,t.growingClass),Uu(i,t.shrinkingClass),Oz(e,t),t.onStartShrink(e)},Rz=function(e,t,n){var r=Nz(t,e.element());("0px"===r?Az:Dz)(e,t,n,ve.some(r))},Mz=function(e,t,n){var r=Sz(e,t),o=Wu(r,t.shrinkingClass),i=Nz(t,e.element());_z(e,t);var a=Nz(t,e.element()),u=function(){lc(e.element(),Tz(t),i),yc(e.element())},c=function(){Oz(e,t)};(o?u:c)(),$u(r,t.shrinkingClass),Uu(r,t.growingClass),_z(e,t),lc(e.element(),Tz(t),a),n.setExpanded(),t.onStartGrow(e)},Pz=function(e,t,n){if(n.isExpanded()){bc(e.element(),Tz(t));var r=Nz(t,e.element());lc(e.element(),Tz(t),r)}},Iz=function(e,t,n){n.isExpanded()||Mz(e,t,n)},zz=function(e,t,n){n.isExpanded()&&Rz(e,t,n)},Bz=function(e,t,n){n.isExpanded()&&Az(e,t,n,ve.none())},Lz=function(e,t,n){return n.isExpanded()},Hz=function(e,t,n){return n.isCollapsed()},Fz=function(e,t,n){var r=Sz(e,t);return!0===Wu(r,t.growingClass)},jz=function(e,t,n){var r=Sz(e,t);return!0===Wu(r,t.shrinkingClass)},Vz=function(e,t,n){return!0===Fz(e,t)||!0===jz(e,t)},Uz=function(e,t,n){(n.isExpanded()?Rz:Mz)(e,t,n)},qz=Object.freeze({__proto__:null,refresh:Pz,grow:Iz,shrink:zz,immediateShrink:Bz,hasGrown:Lz,hasShrunk:Hz,isGrowing:Fz,isShrinking:jz,isTransitioning:Vz,toggleGrow:Uz,disableTransitions:Ez}),$z=function(e,t,n){var r=t.expanded;return hu(r?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:on(t.dimension.property,"0px")})},Wz=function(e,t){return zi([Gi(ni(),function(n,r){r.event().raw().propertyName===e.dimension.property&&(Ez(n,e),t.isExpanded()&&bc(n.element(),e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(n))})])},Gz=Object.freeze({__proto__:null,exhibit:$z,events:Wz}),Kz=[lr("closedClass"),lr("openClass"),lr("shrinkingClass"),lr("growingClass"),wr("getAnimationRoot"),Ks("onShrunk"),Ks("onStartShrink"),Ks("onGrown"),Ks("onStartGrow"),Er("expanded",!1),fr("dimension",er("property",{width:[Qs("property","width"),Qs("getDimension",function(e){return Kc(e)+"px"})],height:[Qs("property","height"),Qs("getDimension",function(e){return Bc(e)+"px"})]}))],Yz=function(e){var t=zr(e.expanded),r=function(){return"expanded: "+t.get()};return fu({isExpanded:function(){return!0===t.get()},isCollapsed:function(){return!1===t.get()},setCollapsed:n(t.set,!1),setExpanded:n(t.set,!0),readState:r})},Xz=Object.freeze({__proto__:null,init:Yz}),Jz=Kl({fields:Kz,name:"sliding",active:Gz,apis:qz,state:Xz}),Qz=ie([Ws(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Ks("onOpened"),Ks("onClosed")].concat(sz())),Zz=ie([Pg({factory:XI,schema:WI(),name:"primary"}),Pg({factory:XI,schema:WI(),name:"overflow",overrides:function(e){return{toolbarBehaviours:Wl([Jz.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:function(t){Yg(t,e,"overflow-button").each(function(e){ew.off(e),zy.focus(e)}),e.onClosed(t)},onGrown:function(t){gy.focusIn(t),e.onOpened(t)},onStartGrow:function(t){Yg(t,e,"overflow-button").each(ew.on)}}),gy.config({mode:"acyclic",onEscape:function(t){return Yg(t,e,"overflow-button").each(zy.focus),ve.some(!0)}})])}}}),Ig({name:"overflow-button",overrides:function(e){return{buttonBehaviours:Wl([ew.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Ig({name:"overflow-group"})]),eB=function(e,t){Yg(e,t,"overflow").each(function(n){tB(e,t),Jz.toggleGrow(n)})},tB=function(e,t){Yg(e,t,"overflow").each(function(n){cz(e,t,function(e){var t=Fe(e,function(e){return Ic(e)});XI.setGroups(n,t)}),Yg(e,t,"overflow-button").each(function(e){Jz.hasGrown(n)&&ew.on(e)}),Jz.refresh(n)})},nB=function(e,t,n,r){var o=function(t,n){var r=Fe(n,t.getSystem().build);e.builtGroups.set(r)};return{uid:e.uid,dom:e.dom,components:t,behaviours:ig(e.splitToolbarBehaviours,[qE.config({others:{overflowGroup:function(e){return $I.sketch(de(de({},r["overflow-group"]()),{items:[Jw.sketch(de(de({},r["overflow-button"]()),{action:function(t){Ai(e,"alloy.toolbar.toggle")}}))]}))}}}),Ey("toolbar-toggle-events",[Hi("alloy.toolbar.toggle",function(t){Yg(t,e,"overflow").each(function(n){tB(t,e),Jz.toggleGrow(n)})})])]),apis:{setGroups:function(t,n){o(t,n),tB(t,e)},refresh:function(t){return tB(t,e)},toggle:function(t){return eB(t,e)}},domModification:{attributes:{role:"group"}}}},rB=mh({name:"SplitSlidingToolbar",configFields:Qz(),partFields:Zz(),factory:nB,apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},toggle:function(e,t){e.toggle(t)}}}),oB=ie(qa("toolbar-height-change")),iB=function(e){var t=e.title.fold(function(){return{}},function(e){return{attributes:{title:e}}});return{dom:de({tag:"div",classes:["tox-toolbar__group"]},t),components:[$I.parts().items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Wl([WN.config({}),zy.config({})])}},aB=function(e){return $I.sketch(iB(e))},uB=function(e,t){var n=Ki(function(t){var n=Fe(e.initGroups,aB);XI.setGroups(t,n)});return Wl([eS.toolbarButton(e.providers.isReadOnly),Yk(),gy.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Ey("toolbar-events",[n])])},cB=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":iB({title:ve.none(),items:[]}),"overflow-button":TR({name:"more",icon:ve.some("more-drawer"),disabled:!1,tooltip:ve.some("More..."),primary:!1,borderless:!1},ve.none(),e.providers)},splitToolbarBehaviours:uB(e,t)}},sB=function(e){var t=cB(e),n=kz.parts().primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return kz.sketch(de(de({},t),{lazySink:e.getSink,getOverflowBounds:function(){var t=e.moreDrawerData.lazyHeader().element(),n=ys(t),r=ua(t),o=ys(r),i=Math.max(r.dom().scrollHeight,o.height);return vs(n.x+4,o.y,n.width-8,i)},parts:de(de({},t.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}}),components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},lB=function(e){var t=rB.parts().primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=rB.parts().overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),r=cB(e);return rB.sketch(de(de({},r),{components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(e){e.getSystem().broadcastOn([oB()],{type:"opened"})},onClosed:function(e){e.getSystem().broadcastOn([oB()],{type:"closed"})}}))},fB=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return XI.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===Vx.scrolling?["tox-toolbar--scrolling"]:[])},components:[XI.parts().groups({})],toolbarBehaviours:uB(e,t)})},dB=[Rr("disabled",!1),kr("tooltip"),kr("icon"),kr("text"),Mr("onSetup",function(){return te})],mB=Pn([mr("type"),gr("onAction")].concat(dB)),pB=function(e){return Yn("toolbarbutton",mB,e)},gB=[kr("text"),kr("tooltip"),kr("icon"),gr("fetch"),Mr("onSetup",function(){return te})],hB=Pn(o([mr("type")],gB)),vB=function(e){return Yn("menubutton",hB,e)},bB=Pn([mr("type"),kr("tooltip"),kr("icon"),kr("text"),Sr("select"),gr("fetch"),Mr("onSetup",function(){return te}),Dr("presets","normal",["normal","color","listpreview"]),Er("columns",1),gr("onAction"),gr("onItemAction")]),yB=function(e){return Yn("SplitButton",bB,e)},wB=[Rr("active",!1)].concat(dB),xB=Pn(wB.concat([mr("type"),gr("onAction")])),CB=function(e){return Yn("ToggleButton",xB,e)},kB=Pn([mr("type"),fr("items",function(e){var t=function(t,n,r){for(var o=[],i=0,a=e;i<a.length;i++){var u=a[i],c=u.extract(t,n,r);if(c.stype===ee.Value)return c;o.push(c)}return pn.consolidateArr(o)},n=function(){return"oneOf("+Fe(e,function(e){return e.toString()}).join(", ")+")"};return{extract:t,toString:n}}([qn([mr("name"),yr("items",or)]),or]))].concat(dB)),SB=function(e){return Yn("GroupToolbarButton",kB,e)},TB=[Mr("predicate",function(){return!1}),Dr("scope","node",["node","editor"]),Dr("position","selection",["node","selection","line"])],NB=dB.concat([Er("type","contextformbutton"),Er("primary",!1),gr("onAction"),Ir("original",ae)]),EB=wB.concat([Er("type","contextformbutton"),Er("primary",!1),gr("onAction"),Ir("original",ae)]),OB=dB.concat([Er("type","contextformbutton")]),_B=wB.concat([Er("type","contextformtogglebutton")]),AB=er("type",{contextformbutton:NB,contextformtogglebutton:EB}),DB=Pn([Er("type","contextform"),Mr("initValue",function(){return""}),kr("label"),yr("commands",AB),xr("launch",er("type",{contextformbutton:OB,contextformtogglebutton:_B}))].concat(TB)),RB=Pn([Er("type","contexttoolbar"),mr("items")].concat(TB)),MB=function(e){return Yn("ContextToolbar",RB,e)},PB=function(e){return Yn("ContextForm",DB,e)},IB=function(e,t,n){return n},zB=Object.freeze({__proto__:null,getState:IB}),BB=function(e,t){var n=function(n,r){e.updateState.each(function(e){var o=e(n,r);t.set(o)}),e.renderComponents.each(function(e){var o=e(r,t.get()),i=Fe(o,n.getSystem().build);$m(n,i)})};return zi([Hi(ci(),function(t,r){var o=r,i=e.channel;ze(o.channels(),i)&&n(t,o.data())}),Ki(function(t,r){e.initialData.each(function(e){n(t,e)})})])},LB=Object.freeze({__proto__:null,events:BB}),HB=function(){var e=zr(ve.none()),t=function(t){return e.set(t)},n=function(){return e.set(ve.none())},r=function(){return e.get()};return{readState:function(){return e.get().fold(function(){return"none"},function(e){return e})},get:r,set:t,clear:n}},FB=Object.freeze({__proto__:null,init:HB}),jB=[lr("channel"),wr("renderComponents"),wr("updateState"),wr("initialData")],VB=Kl({fields:jB,name:"reflecting",active:LB,apis:zB,state:FB}),UB=ie([lr("toggleClass"),lr("fetch"),Xs("onExecute"),Er("getHotspot",ve.some),Er("getAnchorOverrides",ie({})),Zf(),Xs("onItemExecute"),wr("lazySink"),lr("dom"),Ks("onOpen"),rg("splitDropdownBehaviours",[qE,gy,zy]),Er("matchWidth",!1),Er("useMinWidth",!1),Er("eventOrder",{}),wr("role")].concat(iO())),qB=Pg({factory:Jw,schema:[lr("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Wl([zy.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(Ri)},buttonBehaviours:Wl([ew.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])}}}),$B=Pg({factory:Jw,schema:[lr("dom")],name:"button",defaults:function(){return{buttonBehaviours:Wl([zy.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(function(n){e.onExecute(n,t)})}}}}),WB=ie([qB,$B,zg({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[lr("text")],name:"aria-descriptor"}),Ig({schema:[$s()],name:"menu",defaults:function(e){return{onExecute:function(t,n){t.getSystem().getByUid(e.uid).each(function(r){e.onItemExecute(r,t,n)})}}}}),WE()]),GB=function(e,t,n,r){var o=function(e){Ch.getCurrent(e).each(function(e){Vh.highlightFirst(e),gy.focusIn(e)})},i=function(t){var n=o;ZE(e,function(e){return e},t,r,n,vE.HighlightFirst).get(te)},a=function(e){return i(e),ve.some(!0)},u=function(t){var n=Xg(t,e,"button");return Ri(n),ve.some(!0)},c=de(de({},zi([Ki(function(t,n){Yg(t,e,"aria-descriptor").each(function(e){var n=qa("aria");Aa(e.element(),"id",n),Aa(t.element(),"aria-describedby",n)})})])),nw(ve.some(i))),s={repositionMenus:function(e){ew.isOn(e)&&oO(e)}};return{uid:e.uid,dom:e.dom,components:t,apis:s,eventOrder:de(de({},e.eventOrder),{"alloy.execute":["disabling","toggling","alloy.base.behaviour"]}),events:c,behaviours:ig(e.splitDropdownBehaviours,[qE.config({others:{sandbox:function(t){var n=Xg(t,e,"arrow");return rO(e,t,{onOpen:function(){ew.on(n),ew.on(t)},onClose:function(){ew.off(n),ew.off(t)}})}}}),gy.config({mode:"special",onSpace:u,onEnter:u,onDown:a}),zy.config({}),ew.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},KB=mh({name:"SplitDropdown",configFields:UB(),partFields:WB(),factory:GB,apis:{repositionMenus:function(e,t){return e.repositionMenus(t)}}}),YB=function(e){return{isDisabled:function(){return ik.isDisabled(e)},setDisabled:function(t){return ik.set(e,t)}}},XB=function(e){return{setActive:function(t){ew.set(e,t)},isActive:function(){return ew.isOn(e)},isDisabled:function(){return ik.isDisabled(e)},setDisabled:function(t){return ik.set(e,t)}}},JB=function(e,t){return e.map(function(e){return{"aria-label":t.translate(e),title:t.translate(e)}}).getOr({})},QB=qa("focus-button"),ZB=["checklist","ordered-list"],eL=["indent","outdent","table-insert-column-after","table-insert-column-before","unordered-list"],tL=function(e,t,n,r,o,i){var a,u=function(e){return FC.isRtl()&&ze(ZB,e)?e+"-rtl":e},c=FC.isRtl()&&e.exists(function(e){return ze(eL,e)});return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]).concat(c?["tox-tbtn__icon-rtl"]:[]),attributes:JB(n,i)},components:aS([e.map(function(e){return nR(u(e),i.icons)}),t.map(function(e){return oR(e,"tox-tbtn",i)})]),eventOrder:(a={},a[qo()]=["focusing","alloy.base.behaviour","common-button-display-events"],a),buttonBehaviours:Wl([eS.toolbarButton(i.isReadOnly),Yk(),Ey("common-button-display-events",[Hi(qo(),function(e,t){t.event().prevent(),Ai(e,QB)})])].concat(r.map(function(n){return VB.config({channel:n,initialData:{icon:e,text:t},renderComponents:function(e,t){return aS([e.icon.map(function(e){return nR(u(e),i.icons)}),e.text.map(function(e){return oR(e,"tox-tbtn",i)})])}})}).toArray()).concat(o.getOr([])))}},nL=function(e,t,n,r){var o=t.shared;return yz.sketch({lazySink:o.getSink,fetch:function(){return NE.nu(function(t){t(Fe(n(e.items),aB))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:tL(e.icon,e.text,e.tooltip,ve.none(),ve.none(),o.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r}}}})},rL=function(e,t,n){var r=zr(te),o=tL(e.icon,e.text,e.tooltip,ve.none(),ve.none(),n);return Jw.sketch({dom:o.dom,components:o.components,eventOrder:uR,buttonBehaviours:Wl([Ey("toolbar-button-events",[aR({onAction:e.onAction,getApi:t.getApi}),nS(t,r),rS(t,r)]),eS.toolbarButton(function(){return e.disabled||n.isReadOnly()}),Yk()].concat(t.toolbarButtonBehaviours))})},oL=function(e,t){return iL(e,t,[])},iL=function(e,t,n){return rL(e,{toolbarButtonBehaviours:[].concat(n.length>0?[Ey("toolbarButtonWith",n)]:[]),getApi:YB,onSetup:e.onSetup},t)},aL=function(e,t){return uL(e,t,[])},uL=function(e,t,n){return Ut(rL(e,{toolbarButtonBehaviours:[Ty.config({}),ew.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[Ey("toolbarToggleButtonWith",n)]:[]),getApi:XB,onSetup:e.onSetup},t))},cL=function(e,t,n){return function(r){return NE.nu(function(e){return t.fetch(e)}).map(function(o){return ve.from(iN(Ut(HT(qa("menu-value"),o,function(n){t.onItemAction(e(r),n)},t.columns,t.presets,Ux.CLOSE_ON_EXECUTE,t.select.getOr(function(){return!1}),n),{movement:jT(t.columns,t.presets),menuBehaviours:NC.unnamedEvents("auto"!==t.columns?[]:[Ki(function(e,n){kC(e,4,Kx(t.presets)).each(function(t){var n=t.numRows,r=t.numColumns;gy.setGridSize(e,n,r)})})])})))})}},sL=function(e,t){var n,r=qa("channel-update-split-dropdown-display"),o=function(e){return{isDisabled:function(){return ik.isDisabled(e)},setDisabled:function(t){return ik.set(e,t)},setIconFill:function(t,n){Ns(e.element(),'svg path[id="'+t+'"], rect[id="'+t+'"]').each(function(e){Aa(e,"fill",n)})},setIconStroke:function(t,n){Ns(e.element(),'svg path[id="'+t+'"], rect[id="'+t+'"]').each(function(e){Aa(e,"stroke",n)})},setActive:function(t){Aa(e.element(),"aria-pressed",t),Ns(e.element(),"span").each(function(n){e.getSystem().getByDom(n).each(function(e){return ew.set(e,t)})})},isActive:function(){return Ns(e.element(),"span").exists(function(t){return e.getSystem().getByDom(t).exists(ew.isOn)})}}},i=zr(te),a={getApi:o,onSetup:e.onSetup};return KB.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:de({"aria-pressed":!1},JB(e.tooltip,t.providers))},onExecute:function(t){e.onAction(o(t))},onItemExecute:function(e,t,n){},splitDropdownBehaviours:Wl([eS.splitButton(t.providers.isReadOnly),Yk(),Ey("split-dropdown-events",[Hi(QB,zy.focus),nS(a,i),rS(a,i)]),mO.config({})]),eventOrder:(n={},n[wi()]=["alloy.base.behaviour","split-dropdown-events"],n),toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:cL(o,e,t.providers),parts:{menu:eC(0,e.columns,e.presets)},components:[KB.parts().button(tL(e.icon,e.text,ve.none(),ve.some(r),ve.some([ew.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),t.providers)),KB.parts().arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:ex("chevron-down",t.providers.icons)},buttonBehaviours:Wl([eS.splitButton(t.providers.isReadOnly),Yk()])}),KB.parts()["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})},lL=function(e){return{hide:function(){return Ai(e,mi())},getValue:function(){return ng.getValue(e)}}},fL=function(e,t){return Hi(iR,function(n,r){var o=e.get(n),i=lL(o);t.onAction(i,r.event().buttonApi())})},dL=function(e,t,n){var o=t.original,i=(o.primary,r(o,["primary"])),a=Xn(pB(de(de({},i),{type:"button",onAction:function(){}})));return iL(a,n.backstage.shared.providers,[fL(e,t)])},mL=function(e,t,n){var o=t.original,i=(o.primary,r(o,["primary"])),a=Xn(CB(de(de({},i),{type:"togglebutton",onAction:function(){}})));return uL(a,n.backstage.shared.providers,[fL(e,t)])},pL=function(e,t,n){var r={backstage:{shared:{providers:n}}};return"contextformtogglebutton"===t.type?mL(e,t,r):dL(e,t,r)},gL=function(e,t,n){var r=Fe(t,function(t){return Qw(pL(e,t,n))});return{asSpecs:function(){return Fe(r,function(e){return e.asSpec()})},findPrimary:function(e){return at(t,function(t,n){return t.primary?ve.from(r[n]).bind(function(t){return t.getOpt(e)}).filter(ue(ik.isDisabled)):ve.none()})}}},hL=function(e,t){var n=e.label.fold(function(){return{}},function(e){return{"aria-label":e}}),r=Qw(pE.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:Wl([gy.config({mode:"special",onEnter:function(e){return o.findPrimary(e).map(function(e){return Ri(e),!0})},onLeft:function(e,t){return t.cut(),ve.none()},onRight:function(e,t){return t.cut(),ve.none()}})])})),o=gL(r,e.commands,t);return[{title:ve.none(),items:[r.asSpec()]},{title:ve.none(),items:o.asSpecs()}]},vL=function(e,t,n){return fB({type:e,uid:qa("context-toolbar"),initGroups:hL(t,n),onEscape:ve.none,cyclicKeying:!0,providers:n})},bL={renderContextForm:vL,buildInitGroups:hL},yL=function(e,t){var n=Math.max(t.x,e.x),r=e.right-n,o=t.width-(n-t.x);return{x:n,width:Math.min(r,o)}},wL=function(e,t,n,r){var o=Vr.fromDom(e.getContainer()),i=Ns(o,".tox-editor-header").getOr(o),a=bs(i),u=a.y>=t.bottom,c=r&&!u;if(e.inline&&c)return{y:Math.max(a.bottom,n.y),bottom:n.bottom};if(e.inline&&!c)return{y:n.y,bottom:Math.min(a.y,n.bottom)};var s=bs(o);return c?{y:Math.max(a.bottom,n.y),bottom:Math.min(s.bottom,n.bottom)}:{y:Math.max(s.y,n.y),bottom:Math.min(a.y,n.bottom)}},xL=function(e,n){var r=cs(t.window),o=bs(Vr.fromDom(e.getContentAreaContainer())),i=yk(e)||wk(e)||Ck(e),a=yL(o,r),u=a.x,c=a.width;if(e.inline&&!i)return vs(u,r.y,c,r.height);var s=n.header.isPositionedAtTop(),l=wL(e,o,r,s),f=l.y,d=l.bottom;return vs(u,f,c,d-f)},CL=function(e,t){var n=qe(t,function(t){return t.predicate(e.dom())}),r=Ue(n,function(e){return"contexttoolbar"===e.type});return{contextToolbars:r.pass,contextForms:r.fail}},kL=function(e){if(e.length<=1)return e;var t=function(t){return Be(e,function(e){return e.position===t})},n=function(t){return qe(e,function(e){return e.position===t})},r=t("selection"),o=t("node");if(r||o){if(o&&r){var i=n("node"),a=Fe(n("selection"),function(e){return de(de({},e),{position:"node"})});return i.concat(a)}return n(r?"selection":"node")}return n("line")},SL=function(e){if(e.length<=1)return e;var t=function(t){return Ke(e,function(e){return e.position===t})};return t("selection").orThunk(function(){return t("node")}).orThunk(function(){return t("line")}).map(function(e){return e.position}).fold(function(){return[]},function(t){return qe(e,function(e){return e.position===t})})},TL=function(e,t,n){var r=CL(e,t);if(r.contextForms.length>0)return ve.some({elem:e,toolbars:[r.contextForms[0]]});var o=CL(e,n);if(o.contextForms.length>0)return ve.some({elem:e,toolbars:[o.contextForms[0]]});if(r.contextToolbars.length>0||o.contextToolbars.length>0){var i=kL(r.contextToolbars.concat(o.contextToolbars));return ve.some({elem:e,toolbars:i})}return ve.none()},NL=function(e,t,n){return e(t)?ve.none():Ro(t,function(e){var t=CL(e,n.inNodeScope),r=t.contextToolbars,o=t.contextForms,i=o.length>0?o:SL(r);return i.length>0?ve.some({elem:e,toolbars:i}):ve.none()},e)},EL=function(e,t){var n=Vr.fromDom(t.getBody()),r=function(e){return Eo(e,n)},o=Vr.fromDom(t.selection.getNode());return function(e){return!r(e)&&!Ao(n,e)}(o)?ve.none():TL(o,e.inNodeScope,e.inEditorScope).orThunk(function(){return NL(r,o,e)})},OL=function(e,t){var n={},r=[],o=[],i={},a={},u=function(e,u){var c=Xn(PB(u));n[e]=c,c.launch.map(function(n){i["form:"+e]=de(de({},u.launch),{type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:function(){t(c)}})}),"editor"===c.scope?o.push(c):r.push(c),a[e]=c},c=function(e,t){MB(t).each(function(n){"editor"===t.scope?o.push(n):r.push(n),a[e]=n})},s=kt(e);return je(s,function(t){var n=e[t];"contextform"===n.type?u(t,n):"contexttoolbar"===n.type&&c(t,n)}),{forms:n,inNodeScope:r,inEditorScope:o,lookupTable:a,formNavigators:i}},_L=qa("forward-slide"),AL=qa("backward-slide"),DL=qa("change-slide-event"),RL=function(e){var t=zr([]);return Bw.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(e){t.set([]),Bw.getContent(e).each(function(e){bc(e.element(),"visibility")}),$u(e.element(),"tox-pop--resizing"),bc(e.element(),"width")},inlineBehaviours:Wl([Ey("context-toolbar-events",[Gi(ni(),function(e,t){$u(e.element(),"tox-pop--resizing"),bc(e.element(),"width")}),Hi(DL,function(e,t){bc(e.element(),"width");var n=Kc(e.element());Bw.setContent(e,t.event().contents()),Uu(e.element(),"tox-pop--resizing");var r=Kc(e.element());lc(e.element(),"width",n+"px"),Bw.getContent(e).each(function(n){t.event().focus().bind(function(t){return uf(t),ff(e.element())}).orThunk(function(){return gy.focusIn(n),lf()})}),Yw.setTimeout(function(){lc(e.element(),"width",r+"px")},0)}),Hi(_L,function(e,n){Bw.getContent(e).each(function(e){t.set(t.get().concat([{bar:e,focus:lf()}]))}),Di(e,DL,{contents:n.event().forwardContents(),focus:ve.none()})}),Hi(AL,function(e,n){ot(t.get()).each(function(n){t.set(t.get().slice(0,t.get().length-1)),Di(e,DL,{contents:Ic(n.bar),focus:n.focus})})})]),gy.config({mode:"special",onEscape:function(n){return ot(t.get()).fold(function(){return e.onEscape()},function(e){return Ai(n,AL),ve.some(!0)})}})]),lazySink:function(){return lt.value(e.sink)}})},ML=function(e,t,n){var r=function(e,r,i,a){var u=t.shared.providers.translate(e.title);if("separator"===e.type)return ve.some({type:"separator",text:u});if("submenu"===e.type){var c=Je(e.getStyleItems(),function(e){return o(e,r,a)});return 0===r&&c.length<=0?ve.none():ve.some({type:"nestedmenuitem",text:u,disabled:c.length<=0,getSubmenuItems:function(){return Je(e.getStyleItems(),function(e){return o(e,r,a)})}})}return ve.some(de({type:"togglemenuitem",text:u,icon:e.icon,active:e.isSelected(a),disabled:i,onAction:n.onAction(e)},e.getStylePreview().fold(function(){return{}},function(e){return{meta:{style:e}}})))},o=function(e,t,o){var i="formatter"===e.type&&n.isInvalid(e);return 0===t?i?[]:r(e,t,!1,o).toArray():r(e,t,i,o).toArray()},i=function(e){var t=n.getCurrentValue(),r=n.shouldHide?0:1;return Je(e,function(e){return o(e,r,t)})};return{validateItems:i,getFetch:function(e,t){return function(n){var r=t(),o=i(r);n(wR(o,Ux.CLOSE_ON_EXECUTE,e,!1))}}}},PL=function(e,t,n){var r=n.dataset,o="basic"===r.type?function(){return Fe(r.data,function(e){return JP(e,n.isSelectedFor,n.getPreviewFor)})}:r.getData;return{items:ML(0,t,n),getStyleItems:o}},IL=function(e,t,n){var r=PL(0,t,n),o=r.items,i=r.getStyleItems,a=function(e){return{getComponent:function(){return e}}},u=function(t){return n.setInitialValue.each(function(e){return e(t.getComponent())}),n.nodeChangeHandler.map(function(n){var r=n(t.getComponent());return e.on("NodeChange",r),function(){e.off("NodeChange",r)}}).getOr(te)};return lR({text:n.icon.isSome()?ve.none():ve.some(""),icon:n.icon,tooltip:ve.from(n.tooltip),role:ve.none(),fetch:o.getFetch(t,i),onSetup:u,getApi:a,columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)},zL=function(e){return Fe(e,function(e){var t=e,n=e,r=e.split("=");return r.length>1&&(t=r[0],n=r[1]),{title:t,format:n}})},BL=function(e){return{type:"basic",data:e}};!function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"}(GE||(GE={}));var LL,HL=function(e,t){return t===GE.SemiColon?e.replace(/;$/,"").split(";"):e.split(" ")},FL=function(e,t,n,r){var o=e.getParam(t,n,"string");return{type:"basic",data:zL(HL(o,r))}},jL=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],VL=function(e){var t=function(){return Ke(jL,function(t){return e.formatter.match(t.format)})},n=function(t){return function(){return e.formatter.match(t)}},r=function(e){return function(){return ve.none()}},o=function(e){var n=t(),r=n.fold(function(){return"left"},function(e){return e.title.toLowerCase()});Di(e,sR,{icon:"align-"+r})},i=ve.some(function(e){return function(){return o(e)}}),a=ve.some(function(e){return o(e)}),u=BL(jL),c=function(t){return function(){return Ke(jL,function(e){return e.format===t.format}).each(function(t){return e.execCommand(t.command)})}};return{tooltip:"Align",icon:ve.some("align-left"),isSelectedFor:n,getCurrentValue:ie(ve.none()),getPreviewFor:r,onAction:c,setInitialValue:a,nodeChangeHandler:i,dataset:u,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},UL=function(e,t){return IL(e,t,VL(e))},qL=function(e,t){var n=PL(0,t,VL(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},$L=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],WL=function(e){var t=e.split(/\s*,\s*/);return Fe(t,function(e){return e.replace(/^['"]+|['"]+$/g,"")})},GL=function(e){return 0===e.indexOf("-apple-system")&&function(){var t=WL(e.toLowerCase());return Qe($L,function(e){return t.indexOf(e.toLowerCase())>-1})}()},KL=function(e){var t=function(){var t=function(e){return e?WL(e)[0]:""},n=e.queryCommandValue("FontName"),r=s.data,o=n?n.toLowerCase():"";return{matchOpt:Ke(r,function(e){var n=e.format;return n.toLowerCase()===o||t(n).toLowerCase()===t(o).toLowerCase()}).orThunk(function(){return GL(o)?ve.from({title:"System Font",format:o}):ve.none()}),font:n}},n=function(e){return function(t){return t.exists(function(t){return t.format===e})}},r=function(){return t().matchOpt},o=function(e){return function(){return ve.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}})}},i=function(t){return function(){e.undoManager.transact(function(){e.focus(),e.execCommand("FontName",!1,t.format)})}},a=function(e){var n=t(),r=n.matchOpt,o=n.font,i=r.fold(function(){return o},function(e){return e.title});Di(e,cR,{text:i})},u=ve.some(function(e){return function(){return a(e)}}),c=ve.some(function(e){return a(e)}),s=FL(e,"font_formats","Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",GE.SemiColon);return{tooltip:"Fonts",icon:ve.none(),isSelectedFor:n,getCurrentValue:r,getPreviewFor:o,onAction:i,setInitialValue:c,nodeChangeHandler:u,dataset:s,shouldHide:!1,isInvalid:function(){return!1}}},YL=function(e,t){return IL(e,t,KL(e))},XL=function(e,t){var n=PL(0,t,KL(e));e.ui.registry.addNestedMenuItem("fontformats",{text:t.shared.providers.translate("Fonts"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},JL={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},QL=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},ZL=function(e,t){return/[0-9.]+px$/.test(e)?QL(72*parseInt(e,10)/96,t||0)+"pt":e},eH=function(e){return Pt(JL,e).getOr("")},tH=function(e){var t=function(){var t=ve.none(),n=s.data,r=e.queryCommandValue("FontSize");if(r)for(var o=3;t.isNone()&&o>=0;o--)!function(e){var o=ZL(r,e),i=eH(o);t=Ke(n,function(e){return e.format===r||e.format===o||e.format===i})}(o);return{matchOpt:t,size:r}},n=function(e){return function(t){return t.exists(function(t){return t.format===e})}},r=function(){return t().matchOpt},o=ie(ie(ve.none())),i=function(t){return function(){e.undoManager.transact(function(){e.focus(),e.execCommand("FontSize",!1,t.format)})}},a=function(e){var n=t(),r=n.matchOpt,o=n.size,i=r.fold(function(){return o},function(e){return e.title});Di(e,cR,{text:i})},u=ve.some(function(e){return function(){return a(e)}}),c=ve.some(function(e){return a(e)}),s=FL(e,"fontsize_formats","8pt 10pt 12pt 14pt 18pt 24pt 36pt",GE.Space);return{tooltip:"Font sizes",icon:ve.none(),isSelectedFor:n,getPreviewFor:o,getCurrentValue:r,onAction:i,setInitialValue:c,nodeChangeHandler:u,dataset:s,shouldHide:!1,isInvalid:function(){return!1}}},nH=function(e,t){return IL(e,t,tH(e))},rH=function(e,t){var n=PL(0,t,tH(e));e.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},oH=function(e,t,n){var r=t();return at(n,function(t){return Ke(r,function(n){return e.formatter.matchNode(t,n.format)})}).orThunk(function(){return e.formatter.match("p")?ve.some({title:"Paragraph",format:"p"}):ve.none()})},iH=function(e){var t=e.selection.getStart(!0)||e.getBody();return e.dom.getParents(t,function(){return!0},e.getBody())},aH=function(e,t){return function(n){var r=zr(ve.none()),o=function(){n.setActive(e.formatter.match(t));var o=e.formatter.formatChanged(t,n.setActive).unbind;r.set(ve.some(o))};return e.initialized?o():e.on("init",o),function(){return r.get().each(function(e){return e()})}}},uH=function(e){return function(t){return function(){e.undoManager.transact(function(){e.focus(),e.execCommand("mceToggleFormat",!1,t.format)})}}},cH=function(e){var t=function(t){return oH(e,function(){return u.data},t)},n=function(t){return function(){return e.formatter.match(t)}},r=function(t){return function(){var n=e.formatter.get(t);return ve.some({tag:n.length>0?n[0].inline||n[0].block||"div":"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))})}},o=function(e,n){var r=t(e),o=r.fold(function(){return"Paragraph"},function(e){return e.title});Di(n,cR,{text:o})},i=ve.some(function(e){return function(t){return o(t.parents,e)}}),a=ve.some(function(t){var n=iH(e);o(n,t)}),u=FL(e,"block_formats","Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",GE.SemiColon);return{tooltip:"Blocks",icon:ve.none(),isSelectedFor:n,getCurrentValue:ie(ve.none()),getPreviewFor:r,onAction:uH(e),setInitialValue:a,nodeChangeHandler:i,dataset:u,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},sH=function(e,t){return IL(e,t,cH(e))},lH=function(e,t){var n=PL(0,t,cH(e));e.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},fH=function(e,t){var n=function(t){return function(){return e.formatter.match(t)}},r=function(t){return function(){var n=e.formatter.get(t);return void 0!==n?ve.some({tag:n.length>0?n[0].inline||n[0].block||"div":"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):ve.none()}},o=function(t,n){var r=function(e){var t=e.items;return void 0!==t&&t.length>0?Je(t,r):[{title:e.title,format:e.format}]},o=Je(XP(e),r),i=oH(e,function(){return o},t),a=i.fold(function(){return"Paragraph"},function(e){return e.title});Di(n,cR,{text:a})},i=ve.some(function(e){return function(t){return o(t.parents,e)}}),a=ve.some(function(t){var n=iH(e);o(n,t)});return{tooltip:"Formats",icon:ve.none(),isSelectedFor:n,getCurrentValue:ie(ve.none()),getPreviewFor:r,onAction:uH(e),setInitialValue:a,nodeChangeHandler:i,shouldHide:e.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(t){return!e.formatter.canApply(t.format)},dataset:t}},dH=function(e,t){var n=de({type:"advanced"},t.styleselect);return IL(e,t,fH(e,n))},mH=function(e,t){var n=de({type:"advanced"},t.styleselect),r=PL(0,t,fH(e,n));e.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})},pH=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],gH=function(e,t){return function(n,r,o){var i=e(n).mapError(function(e){return Qn(e)}).getOrDie();return t(i,r,o)}},hH={button:gH(pB,function(e,t){return oL(e,t.backstage.shared.providers)}),togglebutton:gH(CB,function(e,t){return aL(e,t.backstage.shared.providers)}),menubutton:gH(vB,function(e,t){return CR(e,"tox-tbtn",t.backstage,ve.none())}),splitbutton:gH(yB,function(e,t){return sL(e,t.backstage.shared)}),grouptoolbarbutton:gH(SB,function(e,t,n){var r,o=n.ui.registry.getAll().buttons,i=function(e){return SH(n,{buttons:o,toolbar:e,allowToolbarGroups:!1},t,ve.none())},a=(r={},r[Jf]=t.backstage.shared.header.isPositionedAtTop()?Rs.TopToBottom:Rs.BottomToTop,r);switch(Sk(n)){case Vx.floating:return nL(e,t.backstage,i,a);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(e,t){return dH(e,t.backstage)},fontsizeSelectButton:function(e,t){return nH(e,t.backstage)},fontSelectButton:function(e,t){return YL(e,t.backstage)},formatButton:function(e,t){return sH(e,t.backstage)},alignMenuButton:function(e,t){return UL(e,t.backstage)}},vH=function(e,n,r){return Pt(hH,e.type).fold(function(){return t.console.error("skipping button defined by",e),ve.none()},function(t){return ve.some(t(e,n,r))})},bH={styleselect:hH.styleSelectButton,fontsizeselect:hH.fontsizeSelectButton,fontselect:hH.fontSelectButton,formatselect:hH.formatButton,align:hH.alignMenuButton},yH=function(e){var t=Fe(pH,function(t){var n=qe(t.items,function(t){return It(e,t)||It(bH,t)});return{name:t.name,items:n}});return qe(t,function(e){return e.items.length>0})},wH=function(e){var t=e.split("|");return Fe(t,function(e){return{items:e.trim().split(" ")}})},xH=function(e){return Ae(e,function(e){return It(e,"name")&&It(e,"items")})},CH=function(e){var n=e.toolbar,r=e.buttons;return!1===n?[]:void 0===n||!0===n?yH(r):xe(n)?wH(n):xH(n)?n:(t.console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},kH=function(e,n,r,o,i,a){return Pt(n,r.toLowerCase()).orThunk(function(){return a.bind(function(e){return at(e,function(e){return Pt(n,e+r.toLowerCase())})})}).fold(function(){return Pt(bH,r.toLowerCase()).map(function(t){return t(e,i)}).orThunk(function(){return ve.none()})},function(n){return"grouptoolbarbutton"!==n.type||o?vH(n,i,e):(t.console.warn("Ignoring the '"+r+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),ve.none())})},SH=function(e,t,n,r){var o=CH(t),i=Fe(o,function(o){var i=Je(o.items,function(o){return 0===o.trim().length?[]:kH(e,t.buttons,o,t.allowToolbarGroups,n,r).toArray()});return{title:ve.from(e.translate(o.name)),items:i}});return qe(i,function(e){return e.items.length>0})},TH={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},NH={maxHeightFunction:Ff(),maxWidthFunction:jI()},EH={onLtr:function(){return[_l,Al,El,Tl,Ol,Nl,Gw,Kw,$w,Uw,Ww,qw]},onRtl:function(){return[_l,Al,Ol,Nl,El,Tl,Gw,Kw,Ww,qw,$w,Uw]}},OH={onLtr:function(){return[Al,Tl,Nl,El,Ol,_l,Gw,Kw,$w,Uw,Ww,qw]},onRtl:function(){return[Al,Nl,Tl,Ol,El,_l,Gw,Kw,Ww,qw,$w,Uw]}},_H=function(e,t){return"line"===e?{bubble:$f(12,0,TH),layouts:{onLtr:function(){return[Dl]},onRtl:function(){return[Rl]}},overrides:NH}:{bubble:$f(0,12,TH),layouts:t?OH:EH,overrides:NH}},AH=function(e,t,n,r){var o=Co().deviceType.isTouch,i=Pc(RL({sink:n,onEscape:function(){return e.focus(),ve.some(!0)}})),a=function(){return xL(e,r.backstage.shared)},u=function(e,t,n,r){return Math.max(e,n)<=Math.min(t,r)},c=function(){var t=m.get().map(function(e){return e.getBoundingClientRect()}).getOrThunk(function(){return e.selection.getRng().getBoundingClientRect()}),n=e.inline?os().top():ys(Vr.fromDom(e.getBody())).y;return{y:t.top+n,bottom:t.bottom+n}},s=function(){if(o()&&r.backstage.isContextMenuOpen())return!0;var e=c(),t=a();return!u(e.y,e.bottom,t.y,t.bottom)},l=function(){Bw.hide(i)},f=function(){d.get().each(function(e){var t=i.element();bc(t,"display"),s()?lc(t,"display","none"):Fm.positionWithinBounds(n,e,i,ve.some(a()))})},d=zr(ve.none()),m=zr(ve.none()),p=zr(null),g=function(t){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:Wl([gy.config({mode:"acyclic"}),Ey("pop-dialog-wrap-events",[Ki(function(t){e.shortcuts.add("ctrl+F9","focus statusbar",function(){return gy.focusIn(t)})}),Yi(function(t){e.shortcuts.remove("ctrl+F9")})])])}},h=$t(function(){return OL(t,function(e){var t=y([e]);Di(i,_L,{forwardContents:g(t)})})}),v=function(t,n){return SH(e,{buttons:t,toolbar:n.items,allowToolbarGroups:!1},r,ve.some(["form:"]))},b=function(e,t){return bL.buildInitGroups(e,t)},y=function(t){var n=e.ui.registry.getAll().buttons,o=h(),i=de(de({},n),o.formNavigators),a=Sk(e)===Vx.scrolling?Vx.scrolling:Vx.default,u=Xe(Fe(t,function(e){return"contexttoolbar"===e.type?v(i,e):b(e,r.backstage.shared.providers)}));return fB({type:a,uid:qa("context-toolbar"),initGroups:u,onEscape:ve.none,cyclicKeying:!0,providers:r.backstage.shared.providers})};e.on("contexttoolbar-show",function(t){var n=h();Pt(n.lookupTable,t.toolbarKey).each(function(n){x([n],t.target===e?ve.none():ve.some(t)),Bw.getContent(i).each(gy.focusIn)})});var w=function(e,t){var n="node"===e?r.backstage.shared.anchors.node(t):r.backstage.shared.anchors.cursor();return Ut(n,_H(e,o()))},x=function(e,t){if(k(),!o()||!r.backstage.isContextMenuOpen()){var n=y(e),u=t.map(Vr.fromDom),c=w(e[0].position,u);d.set(ve.some(c)),m.set(t);var l=i.element();bc(l,"display"),Bw.showWithinBounds(i,c,g(n),function(){return ve.some(a())}),s()&&lc(l,"display","none")}},C=function(){if(e.hasFocus()){var t=h();EL(t,e).fold(function(){d.set(ve.none()),Bw.hide(i)},function(e){x(e.toolbars,ve.some(e.elem.dom()))})}},k=function(){var e=p.get();null!==e&&(Yw.clearTimeout(e),p.set(null))},S=function(e){k(),p.set(e)};e.on("init",function(){e.on("contexttoolbar-hide",l),e.on("ScrollContent ScrollWindow longpress",f),e.on("click keyup focus SetContent ObjectResized ResizeEditor",function(){S(Yw.setEditorTimeout(e,C,0))}),e.on("focusout",function(t){Yw.setEditorTimeout(e,function(){ff(n.element()).isNone()&&ff(i.element()).isNone()&&(d.set(ve.none()),Bw.hide(i))},0)}),e.on("SwitchMode",function(){e.mode.isReadOnly()&&(d.set(ve.none()),Bw.hide(i))}),e.on("NodeChange",function(t){ff(i.element()).fold(function(){S(Yw.setEditorTimeout(e,C,0))},function(e){})})})},DH=function(e,n,r){var o=function(e,t){je([n,r],function(n){n.broadcastEvent(e,t)})},i=function(e,t){je([n,r],function(n){n.broadcastOn([e],t)})},a=function(e){return i(xp(),{target:e.target()})},u=lN(Vr.fromDom(t.document),"touchstart",a),c=lN(Vr.fromDom(t.document),"touchmove",function(e){return o(hi(),e)}),s=lN(Vr.fromDom(t.document),"touchend",function(e){return o(vi(),e)}),l=lN(Vr.fromDom(t.document),"mousedown",a),f=lN(Vr.fromDom(t.document),"mouseup",function(e){0===e.raw().button&&i(kp(),{target:e.target()})}),d=function(e){return i(xp(),{target:Vr.fromDom(e.target)})},m=function(e){0===e.button&&i(kp(),{target:Vr.fromDom(e.target)})},p=function(e){return o(bi(),dN(e))},g=function(e){i(Cp(),{}),o(yi(),dN(e))},h=function(){return i(Cp(),{})};e.on("PostRender",function(){e.on("click",d),e.on("tap",d),e.on("mouseup",m),e.on("ScrollWindow",p),e.on("ResizeWindow",g),e.on("ResizeEditor",h)}),e.on("remove",function(){e.off("click",d),e.off("tap",d),e.off("mouseup",m),e.off("ScrollWindow",p),e.off("ResizeWindow",g),e.off("ResizeEditor",h),l.unbind(),u.unbind(),c.unbind(),s.unbind(),f.unbind()}),e.on("detach",function(){ep(n),ep(r),n.destroy(),r.destroy()})},RH=rh,MH=Hg,PH=ie([Er("shell",!1),lr("makeItem"),Er("setupItem",te),ag.field("listBehaviours",[Ty])]),IH=function(){return{behaviours:Wl([Ty.config({})])}},zH=zg({name:"items",overrides:IH}),BH=ie([zH]),LH=ie("CustomList"),HH=function(e,n,r,o){var i=function(n,r){u(n).fold(function(){throw t.console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(t){var o=Ty.contents(t),i=r.length,a=i-o.length,u=a>0?Le(a,function(){return e.makeItem()}):[],c=o.slice(i);je(c,function(e){return Ty.remove(t,e)}),je(u,function(e){return Ty.append(t,e)});var s=Ty.contents(t);je(s,function(t,o){e.setupItem(n,t,r[o],o)})})},a=e.shell?{behaviours:[Ty.config({})],components:[]}:{behaviours:[],components:n},u=function(t){return e.shell?ve.some(t):Yg(t,e,"items")};return{uid:e.uid,dom:e.dom,components:a.components,behaviours:ig(e.listBehaviours,a.behaviours),apis:{setItems:i}}},FH=mh({name:LH(),configFields:PH(),partFields:BH(),factory:HH,apis:{setItems:function(e,t,n){e.setItems(t,n)}}}),jH=function(e){return(gc(e,"position").is("fixed")?ve.none():la(e)).orThunk(function(){var t=Vr.fromTag("span");return sa(e).bind(function(e){ba(e,t);var n=la(t);return ka(t),n})})},VH=function(e){return jH(e).map(qc).getOrThunk(function(){return jc(0,0)})},UH=Lt.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),qH=function(e,t){var n=e.element();Uu(n,t.transitionClass),$u(n,t.fadeOutClass),Uu(n,t.fadeInClass),t.onShow(e)},$H=function(e,t){var n=e.element();Uu(n,t.transitionClass),$u(n,t.fadeInClass),Uu(n,t.fadeOutClass),t.onHide(e)},WH=function(e,t){return e.y<t.bottom&&e.bottom>t.y},GH=function(e,t){return e.y>=t.y},KH=function(e,t){return e.bottom<=t.bottom},YH=function(e,t,n){return Qe(e,function(e){switch(e){case"bottom":return KH(t,n);case"top":return GH(t,n)}})},XH=function(e,t){return t.getInitialPosition().map(function(t){return vs(t.bounds.x,t.bounds.y,Kc(e),Bc(e))})},JH=function(e,t,n){n.setInitialPosition(ve.some({style:hc(e),position:mc(e,"position")||"static",bounds:t}))},QH=function(e,t,n){return n.getInitialPosition().bind(function(r){switch(n.setInitialPosition(ve.none()),r.position){case"static":return ve.some(UH.static());case"absolute":var o=jH(e).map(bs).getOrThunk(function(){return bs(ac())});return ve.some(UH.absolute(mf("absolute",Pt(r.style,"left").map(function(e){return t.x-o.x}),Pt(r.style,"top").map(function(e){return t.y-o.y}),Pt(r.style,"right").map(function(e){return o.right-t.right}),Pt(r.style,"bottom").map(function(e){return o.bottom-t.bottom}))));default:return ve.none()}})},ZH=function(e,t,n){return XH(e,n).filter(function(e){return YH(n.getModes(),e,t)}).bind(function(t){return QH(e,t,n)})},eF=function(e,t,n){var r=bs(e);if(YH(n.getModes(),r,t))return ve.none();JH(e,r,n);var o=ws(),i=r.x-o.x,a=t.y-o.y,u=o.bottom-t.bottom,c=r.y<=t.y;return ve.some(UH.fixed(mf("fixed",ve.some(i),c?ve.some(a):ve.none(),ve.none(),c?ve.none():ve.some(u))))},tF=function(e,t,n){var r=e.element();return gc(r,"position").is("fixed")?ZH(r,t,n):eF(r,t,n)},nF=function(e,t){var n=e.element();return XH(n,t).bind(function(e){return QH(n,e,t)})},rF=function(e,t){je(["left","right","top","bottom","position"],function(t){return bc(e.element(),t)}),t.onUndocked(e)},oF=function(e,t,n){pf(e.element(),n),("fixed"===n.position()?t.onDocked:t.onUndocked)(e)},iF=function(e,t,n,r,o){void 0===o&&(o=!1),t.contextual.each(function(t){t.lazyContext(e).each(function(i){var a=WH(i,r);if(a!==n.isVisible())if(n.setVisible(a),o&&!a)Gu(e.element(),[t.fadeOutClass]),t.onHide(e);else{var u=a?qH:$H;u(e,t)}})})},aF=function(e,t,n){var r=t.lazyViewport(e),o=n.isDocked();o&&iF(e,t,n,r),tF(e,r,n).each(function(i){n.setDocked(!o),i.fold(function(){return rF(e,t)},function(n){return oF(e,t,n)},function(o){iF(e,t,n,r,!0),oF(e,t,o)})})},uF=function(e,t,n){var r=e.element();n.setDocked(!1),nF(e,n).each(function(n){n.fold(function(){return rF(e,t)},function(n){return oF(e,t,n)},te)}),n.setVisible(!0),t.contextual.each(function(t){Ku(r,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)}),cF(e,t,n)},cF=function(e,t,n){e.getSystem().isConnected()&&aF(e,t,n)},sF=function(e,t,n){n.isDocked()&&uF(e,t,n)},lF=function(e,t,n){return n.isDocked()},fF=function(e,t,n,r){return n.setModes(r)},dF=function(e,t,n){return n.getModes()},mF=Object.freeze({__proto__:null,refresh:cF,reset:sF,isDocked:lF,getModes:dF,setModes:fF}),pF=function(e,t){return zi([Gi(ni(),function(n,r){e.contextual.each(function(e){if(Wu(n.element(),e.transitionClass)){Ku(n.element(),[e.transitionClass,e.fadeInClass]);(t.isVisible()?e.onShown:e.onHidden)(n)}r.stop()})}),Hi(bi(),function(n,r){cF(n,e,t)}),Hi(yi(),function(n,r){sF(n,e,t)})])},gF=Object.freeze({__proto__:null,events:pF}),hF=[Tr("contextual",[mr("fadeInClass"),mr("fadeOutClass"),mr("transitionClass"),gr("lazyContext"),Ks("onShow"),Ks("onShown"),Ks("onHide"),Ks("onHidden")]),Mr("lazyViewport",ws),function(e,t,n){return Or(e,t,In(n))}("modes",["top","bottom"],or),Ks("onDocked"),Ks("onUndocked")],vF=function(e){var t=zr(!1),n=zr(!0),r=zr(ve.none()),o=zr(e.modes),i=function(){return"docked:  "+t.get()+", visible: "+n.get()+", modes: "+o.get().join(",")};return fu({isDocked:t.get,setDocked:t.set,getInitialPosition:r.get,setInitialPosition:r.set,isVisible:n.get,setVisible:n.set,getModes:o.get,setModes:o.set,readState:i})},bF=Object.freeze({__proto__:null,init:vF}),yF=Kl({fields:hF,name:"docking",active:gF,apis:mF,state:bF}),wF={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},xF=function(e,t){var n=ia(t),r=n.dom().defaultView.innerHeight,o=os(n),i=Vr.fromDom(e.elm),a=ys(i),u=Bc(i),c=a.y,s=c+u,l=qc(t),f=Bc(t),d=l.top(),m=d+f,p=Math.abs(d-o.top())<2,g=Math.abs(m-(o.top()+r))<2;if(p&&c<m)is(o.left(),c-f,n);else if(g&&s>d){var h=c-r+u+f;is(o.left(),h,n)}},CF=function(e,t){return ze(yF.getModes(e),t)},kF=function(e){var t=function(e){return Lc(e)+(parseInt(mc(e,"margin-top"),10)||0)+(parseInt(mc(e,"margin-bottom"),10)||0)},n=e.element();sa(n).each(function(r){var o="padding-"+yF.getModes(e)[0];if(yF.isDocked(e)){var i=Kc(r);lc(n,"width",i+"px"),lc(r,o,t(n)+"px")}else bc(n,"width"),bc(r,o)})},SF=function(e,t){t?($u(e,wF.fadeOutClass),Gu(e,[wF.transitionClass,wF.fadeInClass])):($u(e,wF.fadeInClass),Gu(e,[wF.fadeOutClass,wF.transitionClass]))},TF=function(e,t){var n=Vr.fromDom(e.getContainer());t?(Uu(n,"tox-tinymce--toolbar-sticky-on"),$u(n,"tox-tinymce--toolbar-sticky-off")):(Uu(n,"tox-tinymce--toolbar-sticky-off"),$u(n,"tox-tinymce--toolbar-sticky-on"))},NF=function(e,t){var n=ia(t);lf(n).filter(function(e){return!Eo(t,e)}).filter(function(t){return Eo(t,Vr.fromDom(n.dom().body))||Ao(e,t)}).each(function(){return uf(t)})},EF=function(e,t){return ff(e).orThunk(function(){return t().toOption().bind(function(e){return ff(e.element())})})},OF=function(e,t,n){e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",function(){n().each(yF.reset)}),e.on("ResizeWindow ResizeEditor",function(){n().each(kF)}),e.on("SkinLoaded",function(){n().each(function(e){yF.isDocked(e)?yF.reset(e):yF.refresh(e)})}),e.on("FullscreenStateChanged",function(){n().each(yF.reset)})),e.on("AfterScrollIntoView",function(e){n().each(function(t){yF.refresh(t);var n=t.element();Bv(n)&&xF(e,n)})}),e.on("PostRender",function(){TF(e,!1)})},_F=function(e){return e().map(yF.isDocked).getOr(!1)},AF=function(){var e;return[nf.config({channels:(e={},e[oB()]={onReceive:kF},e)})]},DF=function(e,t){var n=zr(ve.none()),r=t.getSink,i=function(e){r().each(function(t){return e(t.element())})},a=function(t){e.inline||kF(t),TF(e,yF.isDocked(t)),t.getSystem().broadcastOn([Cp()],{}),r().each(function(e){return e.getSystem().broadcastOn([Cp()],{})})},u=e.inline?[]:AF();return o([zy.config({}),yF.config({contextual:de({lazyContext:function(t){var n=Lc(t.element()),r=e.inline?e.getContentAreaContainer():e.getContainer(),o=bs(Vr.fromDom(r)),i=o.height-n,a=o.y+(CF(t,"top")?0:n);return ve.some(vs(o.x,a,o.width,i))},onShow:function(){i(function(e){return SF(e,!0)})},onShown:function(e){i(function(e){return Ku(e,[wF.transitionClass,wF.fadeInClass])}),n.get().each(function(t){NF(e.element(),t),n.set(ve.none())})},onHide:function(e){n.set(EF(e.element(),r)),i(function(e){return SF(e,!1)})},onHidden:function(){i(function(e){return Ku(e,[wF.transitionClass])})}},wF),modes:[t.header.getDockingMode()],onDocked:a,onUndocked:a})],u)},RF=Object.freeze({__proto__:null,setup:OF,isDocked:_F,getBehaviours:DF}),MF=te,PF=se,IF=ie([]),zF=Object.freeze({__proto__:null,setup:MF,isDocked:PF,getBehaviours:IF}),BF=function(e){var t=e.editor,n=e.sticky?DF:IF;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:Wl(n(t,e.sharedBackstage))}},LF=function(e,t){var n=function(e,n){var r=Fe(n,function(e){var n={type:"menubutton",text:e.text,fetch:function(t){t(e.getItems())}},r=vB(n).mapError(function(e){return Qn(e)}).getOrDie();return CR(r,"tox-mbtn",t.backstage,ve.some("menuitem"))});Ty.set(e,r)},r={focus:gy.focusIn,setMenus:n};return{uid:e.uid,dom:e.dom,components:[],behaviours:Wl([Ty.config({}),Ey("menubar-events",[Ki(function(t){e.onSetup(t)}),Hi(Ko(),function(e,t){Ns(e.element(),".tox-mbtn--active").each(function(n){Es(t.event().target(),".tox-mbtn").each(function(t){Eo(n,t)||e.getSystem().getByDom(n).each(function(n){e.getSystem().getByDom(t).each(function(e){sO.expand(e),sO.close(n),zy.focus(e)})})})})}),Hi(Si(),function(e,t){t.event().prevFocus().bind(function(t){return e.getSystem().getByDom(t).toOption()}).each(function(n){t.event().newFocus().bind(function(t){return e.getSystem().getByDom(t).toOption()}).each(function(e){sO.isOpen(n)&&(sO.expand(e),sO.close(n))})})})]),gy.config({mode:"flow",selector:".tox-mbtn",onEscape:function(t){return e.onEscape(t),ve.some(!0)}}),WN.config({})]),apis:r,domModification:{attributes:{role:"menubar"}}}},HF=dh({factory:LF,name:"silver.Menubar",configFields:[lr("dom"),lr("uid"),lr("onEscape"),lr("backstage"),Er("onSetup",te)],apis:{focus:function(e,t){e.focus(t)},setMenus:function(e,t,n){e.setMenus(t,n)}}}),FF=[rg("slotBehaviours",[])],jF=function(e){return"<alloy.field."+e+">"},VF=function(e){var t=function(){var e=[];return{slot:function(t,n){return e.push(t),qg("container",jF(t),n)},record:function(){return e}}}(),n=e(t),r=t.record(),o=Fe(r,function(e){return Pg({name:e,pname:jF(e)})});return uh("container",FF,o,UF,n)},UF=function(e,t){var n=function(t){return Zg(e)},r=function(t,n){return Yg(t,e,n)},o=function(t,n){return function(r,o){return Yg(r,e,o).map(function(e){return t(e,o)}).getOr(n)}},i=function(e,t){return"true"!==Ra(e.element(),"aria-hidden")},a=function(e,t){if(!i(e)){var n=e.element();bc(n,"display"),Ia(n,"aria-hidden"),Di(e,Ti(),{name:t,visible:!0})}},u=function(e,t){if(i(e)){var n=e.element();lc(n,"display","none"),Aa(n,"aria-hidden","true"),Di(e,Ti(),{name:t,visible:!1})}},c=o(i,!1),s=o(u),l=function(e){return function(t,n){je(n,function(n){return e(t,n)})}}(s),f=function(e){return l(e,n())},d=o(a),m={getSlotNames:n,getSlot:r,isShowing:c,hideSlot:s,hideAllSlots:f,showSlot:d};return{uid:e.uid,dom:e.dom,components:t,behaviours:og(e.slotBehaviours),apis:m}},qF=Nt({getSlotNames:function(e,t){return e.getSlotNames(t)},getSlot:function(e,t,n){return e.getSlot(t,n)},isShowing:function(e,t,n){return e.isShowing(t,n)},hideSlot:function(e,t,n){return e.hideSlot(t,n)},hideAllSlots:function(e,t){return e.hideAllSlots(t)},showSlot:function(e,t,n){return e.showSlot(t,n)}},function(e){return su(e)}),$F=de(de({},qF),{sketch:VF}),WF=Pn([kr("icon"),kr("tooltip"),Mr("onShow",te),Mr("onHide",te),Mr("onSetup",function(){return te})]),GF=function(e){return Yn("sidebar",WF,e)},KF=function(e){var t=e.ui.registry.getAll().sidebars;je(kt(t),function(n){var r=t[n],o=function(){return ve.from(e.queryCommandValue("ToggleSidebar")).is(n)};e.ui.registry.addToggleButton(n,{icon:r.icon,tooltip:r.tooltip,onAction:function(t){e.execCommand("ToggleSidebar",!1,n),t.setActive(o())},onSetup:function(t){var n=function(){return t.setActive(o())};return e.on("ToggleSidebar",n),function(){e.off("ToggleSidebar",n)}}})})},YF=function(e){return{element:function(){return e.element().dom()}}},XF=function(e,t){var n=Fe(kt(t),function(e){var n=t[e],r=Xn(GF(n));return{name:e,getApi:YF,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}});return Fe(n,function(t){var r=zr(te);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:NC.unnamedEvents([nS(t,r),rS(t,r),Hi(Ti(),function(e,t){var r=t.event();Ke(n,function(e){return e.name===r.name()}).each(function(t){(r.visible()?t.onShow:t.onHide)(t.getApi(e))})})])})})},JF=function(e){return $F.sketch(function(t){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:XF(t,e),slotBehaviours:NC.unnamedEvents([Ki(function(e){return $F.hideAllSlots(e)})])}})},QF=function(e,t){Ch.getCurrent(e).each(function(e){return Ty.set(e,[JF(t)])})},ZF=function(e,t){Ch.getCurrent(e).each(function(e){Ch.getCurrent(e).each(function(n){Jz.hasGrown(e)?$F.isShowing(n,t)?Jz.shrink(e):($F.hideAllSlots(n),$F.showSlot(n,t)):($F.hideAllSlots(n),$F.showSlot(n,t),Jz.grow(e))})})},ej=function(e){return Ch.getCurrent(e).bind(function(e){return Jz.isGrowing(e)||Jz.hasGrown(e)?Ch.getCurrent(e).bind(function(e){return Ke($F.getSlotNames(e),function(t){return $F.isShowing(e,t)})}):ve.none()})},tj=qa("FixSizeEvent"),nj=qa("AutoSizeEvent"),rj=function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Wl([WN.config({}),zy.config({}),Jz.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(e){Ch.getCurrent(e).each($F.hideAllSlots),Ai(e,nj)},onGrown:function(e){Ai(e,nj)},onStartGrow:function(e){Di(e,tj,{width:gc(e.element(),"width").getOr("")})},onStartShrink:function(e){Di(e,tj,{width:Kc(e.element())+"px"})}}),Ty.config({}),Ch.config({find:function(e){var t=Ty.contents(e);return rt(t)}})])}],behaviours:Wl([aD.childAt(0),Ey("sidebar-sliding-events",[Hi(tj,function(e,t){lc(e.element(),"width",t.event().width())}),Hi(nj,function(e,t){bc(e.element(),"width")})])])}},oj=function(e){var t=void 0!==e.dom().attributes?e.dom().attributes:[];return We(t,function(e,t){var n;return"class"===t.name?e:de(de({},e),(n={},n[t.name]=t.value,n))},{})},ij=function(e){return Array.prototype.slice.call(e.dom().classList,0)},aj=function(e){var t=Vr.fromHtml(e),n=da(t),r=oj(t),o=ij(t),i=0===n.length?{}:{innerHtml:Na(t)};return de({tag:Qi(t),classes:o,attributes:r},i)},uj=function(e){return{dom:{tag:"div",attributes:{"aria-label":e.translate("Loading...")},classes:["tox-throbber__busy-spinner"]},components:[{dom:aj('<div class="tox-spinner"><div></div><div></div><div></div></div>')}],behaviours:Wl([gy.config({mode:"special",onTab:function(){return ve.some(!0)},onShiftTab:function(){return ve.some(!0)}}),zy.config({})])}},cj=function(e,t,n){var r=e.element();!0===t?(Ty.set(e,[uj(n)]),bc(r,"display"),Ia(r,"aria-hidden")):(Ty.set(e,[]),lc(r,"display","none"),Aa(r,"aria-hidden","true"))},sj=function(e){return{uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Wl([Ty.config({})]),components:[]}},lj=function(e,t,n){var r=zr(!1),o=zr(ve.none()),i=function(e){e!==r.get()&&(cj(t(),e,n.providers),r.set(e))};e.on("ProgressState",function(t){if(o.get().each(Yw.clearTimeout),_e(t.time)){var n=Yw.setEditorTimeout(e,function(){return i(t.state)},t.time);o.set(ve.some(n))}else i(t.state),o.set(ve.none())})},fj=function(e,t,n){var r={getSocket:function(t){return RH.getPart(t,e,"socket")},setSidebar:function(t,n){RH.getPart(t,e,"sidebar").each(function(e){return QF(e,n)})},toggleSidebar:function(t,n){RH.getPart(t,e,"sidebar").each(function(e){return ZF(e,n)})},whichSidebar:function(t){return RH.getPart(t,e,"sidebar").bind(ej).getOrNull()},getHeader:function(t){return RH.getPart(t,e,"header")},getToolbar:function(t){return RH.getPart(t,e,"toolbar")},setToolbar:function(t,n){RH.getPart(t,e,"toolbar").each(function(e){e.getApis().setGroups(e,n)})},setToolbars:function(t,n){RH.getPart(t,e,"multiple-toolbar").each(function(e){FH.setItems(e,n)})},refreshToolbar:function(t){RH.getPart(t,e,"toolbar").each(function(e){return e.getApis().refresh(e)})},getThrobber:function(t){return RH.getPart(t,e,"throbber")},focusToolbar:function(t){RH.getPart(t,e,"toolbar").orThunk(function(){return RH.getPart(t,e,"multiple-toolbar")}).each(function(e){gy.focusIn(e)})},setMenubar:function(t,n){RH.getPart(t,e,"menubar").each(function(e){HF.setMenus(e,n)})},focusMenubar:function(t){RH.getPart(t,e,"menubar").each(function(e){HF.focus(e)})}};return{uid:e.uid,dom:e.dom,components:t,apis:r,behaviours:e.behaviours}},dj=MH.optional({factory:HF,name:"menubar",schema:[lr("backstage")]}),mj=function(e){return e.type===Vx.sliding?lB:e.type===Vx.floating?sB:fB},pj=MH.optional({factory:{sketch:function(e){return FH.sketch({uid:e.uid,dom:e.dom,listBehaviours:Wl([gy.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return fB({type:e.type,uid:qa("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:function(){return ve.none()}})},setupItem:function(e,t,n,r){XI.setGroups(t,n)},shell:!0})}},name:"multiple-toolbar",schema:[lr("dom"),lr("onEscape")]}),gj=MH.optional({factory:{sketch:function(e){return mj(e)({type:e.type,uid:e.uid,onEscape:function(){return e.onEscape(),ve.some(!0)},cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})}},name:"toolbar",schema:[lr("dom"),lr("onEscape"),lr("getSink")]}),hj=MH.optional({factory:{sketch:BF},name:"header",schema:[lr("dom")]}),vj=MH.optional({name:"socket",schema:[lr("dom")]}),bj=MH.optional({factory:{sketch:rj},name:"sidebar",schema:[lr("dom")]}),yj=MH.optional({factory:{sketch:sj},name:"throbber",schema:[lr("dom")]}),wj=mh({name:"OuterContainer",factory:fj,configFields:[lr("dom"),lr("behaviours")],partFields:[hj,dj,gj,pj,vj,bj,yj],apis:{getSocket:function(e,t){return e.getSocket(t)},setSidebar:function(e,t,n){e.setSidebar(t,n)},toggleSidebar:function(e,t,n){e.toggleSidebar(t,n)},whichSidebar:function(e,t){return e.whichSidebar(t)},getHeader:function(e,t){return e.getHeader(t)},getToolbar:function(e,t){return e.getToolbar(t)},setToolbar:function(e,t,n){var r=Fe(n,function(e){return aB(e)});e.setToolbar(t,r)},setToolbars:function(e,t,n){var r=Fe(n,function(e){return Fe(e,aB)});e.setToolbars(t,r)},refreshToolbar:function(e,t){return e.refreshToolbar(t)},getThrobber:function(e,t){return e.getThrobber(t)},setMenubar:function(e,t,n){e.setMenubar(t,n)},focusMenubar:function(e,t){e.focusMenubar(t)},focusToolbar:function(e,t){e.focusToolbar(t)}}}),xj={file:{title:"File",items:"newdocument restoredraft | preview | print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},Cj=function(e,t,n){var r=bk(n).split(/[ ,]/);return{text:e.title,getItems:function(){return Je(e.items,function(e){var n=e.toLowerCase();return 0===n.trim().length?[]:Be(r,function(e){return e===n})?[]:"separator"===n||"|"===n?[{type:"separator"}]:t.menuItems[n]?[t.menuItems[n]]:[]})}}},kj=function(e){return"string"==typeof e?e.split(" "):e},Sj=function(e,t){var n=de(de({},xj),t.menus),r=kt(t.menus).length>0,o=kj(void 0===t.menubar||!0===t.menubar?"file edit view insert format tools table help":!1===t.menubar?"":t.menubar),i=qe(o,function(e){return r?t.menus.hasOwnProperty(e)&&t.menus[e].hasOwnProperty("items")||xj.hasOwnProperty(e):xj.hasOwnProperty(e)}),a=Fe(i,function(r){var o=n[r];return Cj({title:o.title,items:kj(o.items)},t,e)});return qe(a,function(e){var t=function(e){return"separator"!==e.type};return e.getItems().length>0&&Be(e.getItems(),t)})},Tj=function(e){var t=function(){e._skinLoaded=!0,aT(e)};return function(){e.initialized?t():e.on("init",t)}},Nj=function(e,t){return function(){return uT(e,{message:t})}},Ej=function(e,t){var n,r=uk(t);r&&(n=r+"/skin.min.css",t.contentCSS.push(r+(e?"/content.inline":"/content")+".min.css")),!1===sk(t)&&n?t.ui.styleSheetLoader.load(n,Tj(t),Nj(t,"Skin could not be loaded")):Tj(t)()},Oj=n(Ej,!1),_j=n(Ej,!0),Aj=function(e,t,n,r){var o=t.outerContainer,i=n.toolbar,a=n.buttons;if(Ae(i,xe)){var u=i.map(function(t){var o={toolbar:t,buttons:a,allowToolbarGroups:n.allowToolbarGroups};return SH(e,o,{backstage:r},ve.none())});wj.setToolbars(o,u)}else wj.setToolbar(o,SH(e,n,{backstage:r},ve.none()))},Dj=HC.DOM,Rj=Co(),Mj=Rj.os.isiOS()&&Rj.os.version.major<=12,Pj=function(e){var t=e.getWin(),n=e.getDoc().documentElement,r=zr(jc(t.innerWidth,t.innerHeight)),o=zr(jc(n.offsetWidth,n.offsetHeight)),i=function(n){var o=r.get();o.left()===t.innerWidth&&o.top()===t.innerHeight||(r.set(jc(t.innerWidth,t.innerHeight)),sT(e,n))},a=function(t){var n=e.getDoc().documentElement,r=o.get();r.left()===n.offsetWidth&&r.top()===n.offsetHeight||(o.set(jc(n.offsetWidth,n.offsetHeight)),sT(e,t))},u=function(t){return lT(e,t)};Dj.bind(t,"resize",i),Dj.bind(t,"scroll",u);var c=fN(Vr.fromDom(e.getBody()),"load",a);e.on("NodeChange",a),e.on("remove",function(){c.unbind(),Dj.unbind(t,"resize",i),Dj.unbind(t,"scroll",u)})},Ij=function(e,t,n,r,o){var i=zr(0);Oj(e);var a=Vr.fromDom(o.targetNode),u=ec(Zu(a));Qm(a,t.mothership),Jm(u,t.uiMothership),e.on("PostRender",function(){Aj(e,t,n,r),i.set(e.getWin().innerWidth),wj.setMenubar(t.outerContainer,Sj(e,n)),wj.setSidebar(t.outerContainer,n.sidebar),Pj(e)});var c=wj.getSocket(t.outerContainer).getOrDie("Could not find expected socket element");if(!0===Mj){fc(c.element(),{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var s=ax(function(){e.fire("ScrollContent")},20);lN(c.element(),"scroll",s.throttle)}Kk(e,t),e.addCommand("ToggleSidebar",function(n,r){wj.toggleSidebar(t.outerContainer,r),e.fire("ToggleSidebar")}),e.addQueryValueHandler("ToggleSidebar",function(){return wj.whichSidebar(t.outerContainer)});var l=Sk(e),f=function(){wj.refreshToolbar(t.outerContainer)};return l!==Vx.sliding&&l!==Vx.floating||e.on("ResizeWindow ResizeEditor ResizeContent",function(){var t=e.getWin().innerWidth;t!==i.get()&&(f(),i.set(t))}),{iframeContainer:c.element().dom(),editorContainer:t.outerContainer.element().dom()}},zj=Object.freeze({__proto__:null,render:Ij}),Bj=function(e){var t=zr(ve.none()),n=function(){t.get().each(e)},r=function(){n(),t.set(ve.none())},o=function(e){n(),t.set(ve.some(e))};return{clear:r,isSet:function(){return t.get().isSome()},set:o}},Lj=function(){return Bj(function(e){e.unbind()})},Hj=function(){var e=zr(ve.none()),t=function(){e.set(ve.none())},n=function(t){e.set(ve.some(t))},r=function(t){e.get().each(t)};return{clear:t,set:n,isSet:function(){return e.get().isSome()},on:r}},Fj=function(e){return/^[0-9\.]+(|px)$/i.test(""+e)?ve.some(parseInt(""+e,10)):ve.none()},jj=function(e){return _e(e)?e+"px":e},Vj=function(e,t,n){var r=t.filter(function(t){return e<t}),o=n.filter(function(t){return e>t});return r.or(o).getOr(e)},Uj=function(e){var t=lk(e),n=mk(e),r=gk(e);return Fj(t).map(function(e){return Vj(e,n,r)})},qj=function(e){return Uj(e).getOr(lk(e))},$j=function(e){var t=fk(e),n=dk(e),r=pk(e);return Fj(t).map(function(e){return Vj(e,n,r)})},Wj=function(e){return $j(e).getOr(fk(e))},Gj=function(e,t,n,r,o){var i=n.uiMothership,a=n.outerContainer,u=HC.DOM,c=Dk(e),s=Pk(e),l=pk(e).or($j(e)),f=r.shared.header,d=f.isPositionedAtTop,m=Sk(e),p=m===Vx.sliding||m===Vx.floating,g=zr(!1),h=function(){return g.get()&&!e.removed},v=function(e){return p?e.fold(function(){return 0},function(e){return e.components().length>1?Bc(e.components()[1].element()):0}):0},b=function(n){switch(Ek(e)){case kk.auto:var r=wj.getToolbar(a),o=v(r),i=Bc(n.element())-o,u=bs(t);if(u.y>i)return"top";var c=ua(t),s=Math.max(c.dom().scrollHeight,Bc(c));if(u.bottom<s-i)return"bottom";return ws().bottom<u.bottom-i?"bottom":"top";case kk.bottom:return"bottom";case kk.top:default:return"top"}},y=function(e){var t=o.get();yF.setModes(t,[e]),f.setDockingMode(e);var n=d()?Rs.TopToBottom:Rs.BottomToTop;Aa(t.element(),Jf,n)},w=function(){var e=l.getOrThunk(function(){var e=Fj(mc(ac(),"margin-left")).getOr(0);return Kc(ac())-qc(t).left()+e});lc(o.get().element(),"max-width",e+"px")},x=function(){var e=wj.getToolbar(a),n=v(e),r=bs(t),i=d()?Math.max(r.y-Bc(o.get().element())+n,0):r.bottom;fc(a.element(),{position:"absolute",top:Math.round(i)+"px",left:Math.round(r.x)+"px"})},C=function(){i.broadcastOn([Cp()],{})},k=function(e){if(void 0===e&&(e=!1),h()){if(c||w(),p&&wj.refreshToolbar(a),c||x(),s){var t=o.get();e?yF.reset(t):yF.refresh(t)}C()}},S=function(e){if(void 0===e&&(e=!0),!c&&s&&h()){var t=f.getDockingMode(),n=b(o.get());n!==t&&(y(n),e&&k(!0))}};return{isVisible:h,isPositionedAtTop:d,show:function(){g.set(!0),lc(a.element(),"display","flex"),u.addClass(e.getBody(),"mce-edit-focus"),bc(i.element(),"display"),S(!1),k()},hide:function(){g.set(!1),n.outerContainer&&(lc(a.element(),"display","none"),u.removeClass(e.getBody(),"mce-edit-focus")),lc(i.element(),"display","none")},update:k,updateMode:S,repositionPopups:C}},Kj=function(e,t){var n=bs(e);return{pos:t?n.y:n.bottom,bounds:n}},Yj=function(e,t,n){var r=zr(Kj(t,n.isPositionedAtTop())),o=function(o){var i=Kj(t,n.isPositionedAtTop()),a=i.pos,u=i.bounds,c=r.get(),s=c.pos,l=c.bounds,f=u.height!==l.height||u.width!==l.width;r.set({pos:a,bounds:u}),f&&sT(e,o),n.isVisible()&&(s!==a?n.update(!0):f&&(n.updateMode(),n.repositionPopups()))};e.on("activate",n.show),e.on("deactivate",n.hide),e.on("SkinLoaded ResizeWindow",function(){return n.update(!0)}),e.on("NodeChange keydown",function(e){Yw.requestAnimationFrame(function(){return o(e)})}),e.on("ScrollWindow",function(){return n.updateMode()});var i=Lj();i.set(fN(Vr.fromDom(e.getBody()),"load",o)),e.on("remove",function(){i.clear()})},Xj=function(e,t,n,r,o){var i=t.mothership,a=t.uiMothership,u=t.outerContainer,c=zr(null),s=Vr.fromDom(o.targetNode),l=Gj(e,s,t,r,c);_j(e);var f=function(){if(c.get())return void l.show();c.set(wj.getHeader(u).getOrDie());var o=Rk(e);Jm(o,i),Jm(o,a),Aj(e,t,n,r),wj.setMenubar(u,Sj(e,n)),l.show(),Yj(e,s,l),e.nodeChanged()};return e.on("focus",f),e.on("blur hide",l.hide),e.on("init",function(){e.hasFocus()&&f()}),Kk(e,t),{editorContainer:u.element().dom()}},Jj=Object.freeze({__proto__:null,render:Xj}),Qj=function(e){var t=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];fM.each(t,function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,onAction:function(){return e.execCommand(t.cmd)},icon:t.icon,onSetup:aH(e,t.name)})});var n={name:"alignnone",text:"No alignment",cmd:"JustifyNone",icon:"align-none"};e.ui.registry.addButton(n.name,{tooltip:n.text,onAction:function(){return e.execCommand(n.cmd)},icon:n.icon})},Zj=function(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}},eV=function(e){fM.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(t,n){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:aH(e,t.name),onAction:Zj(e,t.name)})});for(var t=1;t<=6;t++){var n="h"+t;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:aH(e,n),onAction:Zj(e,n)})}},tV=function(e){fM.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(t){e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:function(){return e.execCommand(t.action)}})})},nV=function(e){fM.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:function(){return e.execCommand(t.action)},onSetup:aH(e,t.name)})})},rV=function(e){eV(e),tV(e),nV(e)},oV=function(e){fM.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(t){e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:function(){return e.execCommand(t.action)}})}),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:Zj(e,"code")})},iV=function(e){rV(e),oV(e)},aV=function(e,t,n){var r=function(){return!!t.undoManager&&t.undoManager[n]()},o=function(){e.setDisabled(t.mode.isReadOnly()||!r())};return e.setDisabled(!r()),t.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o),function(){return t.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o)}},uV=function(e){e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(t){return aV(t,e,"hasUndo")},onAction:function(){return e.execCommand("undo")}}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(t){return aV(t,e,"hasRedo")},onAction:function(){return e.execCommand("redo")}})},cV=function(e){e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(t){return aV(t,e,"hasUndo")},onAction:function(){return e.execCommand("undo")}}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(t){return aV(t,e,"hasRedo")},onAction:function(){return e.execCommand("redo")}})},sV=function(e){uV(e),cV(e)},lV=function(e,t){e.setActive(t.hasVisual);var n=function(t){e.setActive(t.hasVisual)};return t.on("VisualAid",n),function(){return t.off("VisualAid",n)}},fV=function(e){e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(t){return lV(t,e)},onAction:function(){e.execCommand("mceToggleVisualAid")}})},dV=function(e){e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return e.execCommand("mceToggleVisualAid")}})},mV=function(e){dV(e),fV(e)},pV=function(e,t){e.setDisabled(!t.queryCommandState("outdent"));var n=function(){e.setDisabled(!t.queryCommandState("outdent"))};return t.on("NodeChange",n),function(){return t.off("NodeChange",n)}},gV=function(e){e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:function(t){return pV(t,e)},onAction:function(){return e.execCommand("outdent")}}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:function(){return e.execCommand("indent")}})},hV=function(e){gV(e)},vV=function(e,t){qL(e,t),XL(e,t),mH(e,t),lH(e,t),rH(e,t)},bV=function(e,t){Qj(e),iV(e),vV(e,t),sV(e),LT(e),mV(e),hV(e)},yV=function(e,t){return{anchor:"makeshift",x:e,y:t}},wV=function(e,t,n){return yV(e.x+t,e.y+n)},xV=function(e){return"longpress"===e.type||0===e.type.indexOf("touch")},CV=function(e){if(xV(e)){var t=e.touches[0];return yV(t.pageX,t.pageY)}return yV(e.pageX,e.pageY)},kV=function(e){if(xV(e)){var t=e.touches[0];return yV(t.clientX,t.clientY)}return yV(e.clientX,e.clientY)},SV=function(e,t){var n=HC.DOM.getPos(e);return wV(t,n.x,n.y)},TV=function(e,t){return"contextmenu"===t.type||"longpress"===t.type?e.inline?CV(t):SV(e.getContentAreaContainer(),kV(t)):NV(e)},NV=function(e){return{anchor:"selection",root:Vr.fromDom(e.selection.getNode())}},EV=function(e){return{anchor:"node",node:ve.some(Vr.fromDom(e.selection.getNode())),root:Vr.fromDom(e.getBody())}},OV=function(e,t,n){return n?EV(e):TV(e,t)},_V=function(e,t,n,r,o,i){var a=n(),u=OV(e,t,i);wR(a,Ux.CLOSE_ON_EXECUTE,r,!1).map(function(e){t.preventDefault(),Bw.showMenuAt(o,u,{menu:{markers:Jx("normal")},data:e})})},AV={onLtr:function(){return[Al,Tl,Nl,El,Ol,_l,Gw,Kw,$w,Uw,Ww,qw]},onRtl:function(){return[Al,Nl,Tl,Ol,El,_l,Gw,Kw,Ww,qw,$w,Uw]}},DV={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},RV=function(e,t){var n=e.selection;if(n.isCollapsed()||t.touches.length<1)return!1;var r=t.touches[0],o=n.getRng();return Xd(e.getWin(),Cd.domRange(o)).exists(function(e){return e.left()<=r.clientX&&e.right()>=r.clientX&&e.top()<=r.clientY&&e.bottom()>=r.clientY})},MV=function(e,t,n){var r=t?EV(e):TV(e,n);return de({bubble:$f(0,12,DV),layouts:AV,overrides:{maxWidthFunction:jI(),maxHeightFunction:Ff()}},r)},PV=function(e){var t=e.selection.getRng(),n=function(){Yw.setEditorTimeout(e,function(){e.selection.setRng(t)},10),i()};e.once("touchend",n);var r=function(e){e.preventDefault(),e.stopImmediatePropagation()};e.on("mousedown",r,!0);var o=function(){return i()};e.once("longpresscancel",o);var i=function(){e.off("touchend",n),e.off("longpresscancel",o),e.off("mousedown",r)}},IV=function(e,t,n,r,o,i,a){var u=MV(e,i,t);wR(n,Ux.CLOSE_ON_EXECUTE,r,!0).map(function(n){t.preventDefault(),Bw.showMenuWithinBounds(o,u,{menu:{markers:Jx("normal"),highlightImmediately:a},data:n,type:"horizontal"},function(){return ve.some(xL(e,r.shared))}),e.fire("contexttoolbar-hide")})},zV=function(e,t,n,r,o,i){var a=Co(),u=a.os.isiOS(),c=a.os.isOSX(),s=a.os.isAndroid(),l=a.deviceType.isTouch(),f=function(){return!(s||u||c&&l)},d=function(){var a=n();IV(e,t,a,r,o,i,f())};if(!c&&!u||i)s&&!i&&e.selection.setCursorLocation(t.target,0),d();else{var m=function(){PV(e),d()};RV(e,t)?m():(e.once("selectionchange",m),e.once("touchend",function(){return e.off("selectionchange",m)}))}},BV=function(e){return"string"==typeof e?e.split(/[ ,]/):e},LV=function(e){return e.getParam("contextmenu_never_use_native",!1,"boolean")},HV=function(e,t,n){var r=e.ui.registry.getAll().contextMenus;return ve.from(e.getParam(t)).map(BV).getOrThunk(function(){return qe(BV(n),function(e){return It(r,e)})})},FV=function(e){return!1===e.getParam("contextmenu")},jV=function(e){return HV(e,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},VV=function(e){return xe(e)?"|"===e:"separator"===e.type},UV={type:"separator"},qV=function(e){if(xe(e))return e;switch(e.type){case"separator":return UV;case"submenu":return{type:"nestedmenuitem",text:e.text,icon:e.icon,getSubmenuItems:function(){var t=e.getSubmenuItems();return xe(t)?t:Fe(t,qV)}};default:return{type:"menuitem",text:e.text,icon:e.icon,onAction:ne(e.onAction)}}},$V=function(e,t){if(0===t.length)return e;var n=ot(e).filter(function(e){return!VV(e)}),r=n.fold(function(){return[]},function(e){return[UV]});return e.concat(r).concat(t).concat([UV])},WV=function(e,t,n){var r=We(t,function(t,r){if(It(e,r)){var o=e[r].update(n);if(xe(o))return $V(t,o.split(" "));if(o.length>0){var i=Fe(o,qV);return $V(t,i)}return t}return t.concat([r])},[]);return r.length>0&&VV(r[r.length-1])&&r.pop(),r},GV=function(e,t){return t.ctrlKey&&!LV(e)},KV=function(e,t){return"longpress"!==t.type&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType)},YV=function(e,t,n){var r=Co(),o=r.deviceType.isTouch,i=Pc(Bw.sketch({dom:{tag:"div"},lazySink:t,onEscape:function(){return e.focus()},onShow:function(){return n.setContextMenuState(!0)},onHide:function(){return n.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:Wl([Ey("dismissContextMenu",[Hi(Ci(),function(t,n){wp.close(t),e.focus()})])])})),a=function(e){return Bw.hide(i)},u=function(t){if(LV(e)&&t.preventDefault(),!GV(e,t)&&!FV(e)){var r=KV(e,t),a=function(){var n=r?e.selection.getStart(!0):t.target,o=e.ui.registry.getAll(),i=jV(e);return WV(o.contextMenus,i,n)};(o()?zV:_V)(e,t,a,n,i,r)}};e.on("init",function(){var t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(o()?"":" ResizeWindow");e.on(t,a),e.on("longpress contextmenu",u)})},XV=Lt.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),JV=function(e){return function(t){return t.translate(-e.left(),-e.top())}},QV=function(e){return function(t){return t.translate(e.left(),e.top())}},ZV=function(e){return function(t,n){return We(e,function(e,t){return t(e)},jc(t,n))}},eU=function(e,t,n){return e.fold(ZV([QV(n),JV(t)]),ZV([JV(t)]),ZV([]))},tU=function(e,t,n){return e.fold(ZV([QV(n)]),ZV([]),ZV([QV(t)]))},nU=function(e,t,n){return e.fold(ZV([]),ZV([JV(n)]),ZV([QV(t),JV(n)]))},rU=function(e,t,n,r,o,i){var a=tU(e,o,i),u=tU(t,o,i);return Math.abs(a.left()-u.left())<=n&&Math.abs(a.top()-u.top())<=r},oU=function(e,t,n,r,o,i){var a=tU(e,o,i),u=tU(t,o,i),c=Math.abs(a.left()-u.left()),s=Math.abs(a.top()-u.top());return jc(c,s)},iU=function(e,t,n){var r=e.fold(function(e,t){return{position:ve.some("absolute"),left:ve.some(e+"px"),top:ve.some(t+"px")}},function(e,t){return{position:ve.some("absolute"),left:ve.some(e-n.left()+"px"),top:ve.some(t-n.top()+"px")}},function(e,t){return{position:ve.some("fixed"),left:ve.some(e+"px"),top:ve.some(t+"px")}});return de({right:ve.none(),bottom:ve.none()},r)},aU=function(e,t,n){return e.fold(function(e,r){return cU(e+t,r+n)},function(e,r){return sU(e+t,r+n)},function(e,r){return lU(e+t,r+n)})},uU=function(e,t,n,r){var o=function(e,o){return function(i,a){var u=e(t,n,r);return o(i.getOr(u.left()),a.getOr(u.top()))}};return e.fold(o(nU,cU),o(tU,sU),o(eU,lU))},cU=XV.offset,sU=XV.absolute,lU=XV.fixed,fU=function(e,t){var n=Ra(e,t);return Te(n)?NaN:parseInt(n,10)},dU=function(e,t){var n=e.element(),r=fU(n,t.leftAttr),o=fU(n,t.topAttr);return isNaN(r)||isNaN(o)?ve.none():ve.some(jc(r,o))},mU=function(e,t,n){var r=e.element();Aa(r,t.leftAttr,n.left()+"px"),Aa(r,t.topAttr,n.top()+"px")},pU=function(e,t){var n=e.element();Ia(n,t.leftAttr),Ia(n,t.topAttr)},gU=function(e,t,n,r){return dU(e,t).fold(function(){return n},function(e){return lU(e.left()+r.left(),e.top()+r.top())})},hU=function(e,t,n,r,o,i){var a=gU(e,t,n,r),u=t.mustSnap?yU(e,t,a,o,i):wU(e,t,a,o,i),c=eU(a,o,i);return mU(e,t,c),u.fold(function(){return{coord:lU(c.left(),c.top()),extra:ve.none()}},function(e){return{coord:e.output,extra:e.extra}})},vU=function(e,t){pU(e,t)},bU=function(e,t,n,r){return at(e,function(e){var o=e.sensor;return rU(t,o,e.range.left(),e.range.top(),n,r)?ve.some({output:uU(e.output,t,n,r),extra:e.extra}):ve.none()})},yU=function(e,t,n,r,o){var i=t.getSnapPoints(e);return bU(i,n,r,o).orThunk(function(){return We(i,function(e,t){var i=t.sensor,a=oU(n,i,t.range.left(),t.range.top(),r,o);return e.deltas.fold(function(){return{deltas:ve.some(a),snap:ve.some(t)}},function(n){return(a.left()+a.top())/2<=(n.left()+n.top())/2?{deltas:ve.some(a),snap:ve.some(t)}:e})},{deltas:ve.none(),snap:ve.none()}).snap.map(function(e){return{output:uU(e.output,n,r,o),extra:e.extra}})})},wU=function(e,t,n,r,o){var i=t.getSnapPoints(e);return bU(i,n,r,o)},xU=function(e,t,n){return{coord:uU(e.output,e.output,t,n),extra:e.extra}},CU=function(e,t,n,r){var o=t.getTarget(e.element());if(t.repositionTarget){var i=ia(e.element()),a=os(i),u=VH(o),c=xU(r,a,u),s=iU(c.coord,0,u);dc(o,s)}},kU=Object.freeze({__proto__:null,snapTo:CU}),SU=function(e){sa(e.element()).filter(ta).each(function(e){Ma(e,"data-initial-z-index").fold(function(){return bc(e,"z-index")},function(t){return lc(e,"z-index",t)}),Ia(e,"data-initial-z-index")})},TU=function(e){sa(e.element()).filter(ta).each(function(t){gc(t,"z-index").each(function(e){Aa(t,"data-initial-z-index",e)}),lc(t,"z-index",mc(e.element(),"z-index"))})},NU=function(e,t){e.getSystem().addToGui(t),TU(t)},EU=function(e){SU(e),e.getSystem().removeFromGui(e)},OU=function(e,t,n){return e.getSystem().build(zN.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}))},_U=Tr("snaps",[lr("getSnapPoints"),Ks("onSensor"),lr("leftAttr"),lr("topAttr"),Er("lazyViewport",ws),Er("mustSnap",!1)]),AU=[Er("useFixed",se),lr("blockerClass"),Er("getTarget",ae),Er("onDrag",te),Er("repositionTarget",!0),Er("onDrop",te),Mr("getBounds",ws),_U],DU=function(e){return vh(gc(e,"left"),gc(e,"top"),gc(e,"position"),function(e,t,n){return("fixed"===n?lU:cU)(parseInt(e,10),parseInt(t,10))}).getOrThunk(function(){var t=qc(e);return sU(t.left(),t.top())})},RU=function(e,t,n,r,o){var i=o.bounds,a=tU(t,n,r),u=Ef(a.left(),i.x,i.x+i.width-o.width),c=Ef(a.top(),i.y,i.y+i.height-o.height),s=sU(u,c);return t.fold(function(){var e=nU(s,n,r);return cU(e.left(),e.top())},function(){return s},function(){var e=eU(s,n,r);return lU(e.left(),e.top())})},MU=function(e,t,n,r,o,i,a){var u=t.fold(function(){var e=aU(n,i.left(),i.top()),t=eU(e,r,o);return lU(t.left(),t.top())},function(t){var a=hU(e,t,n,i,r,o);return a.extra.each(function(n){t.onSensor(e,n)}),a.coord});return RU(0,u,r,o,a)},PU=function(e,t,n,r){var o=t.getTarget(e.element());if(t.repositionTarget){var i=ia(e.element()),a=os(i),u=VH(o),c=DU(o),s=MU(e,t.snaps,c,a,u,r,n),l=iU(s,0,u);dc(o,l)}t.onDrag(e,o,r)},IU=function(e,t){return{bounds:e.getBounds(),height:Lc(t.element()),width:Yc(t.element())}},zU=function(e,t,n,r,o){var i=n.update(r,o),a=n.getStartData().getOrThunk(function(){return IU(t,e)});i.each(function(n){PU(e,t,a,n)})},BU=function(e,t,n,r){t.each(EU),n.snaps.each(function(t){vU(e,t)});var o=n.getTarget(e.element());r.reset(),n.onDrop(e,o)},LU=function(e){return function(t,n){var r=function(e){n.setStartData(IU(t,e))};return zi(o([Hi(bi(),function(e){n.getStartData().each(function(){return r(e)})})],e(t,n,r)))}},HU=function(e){return zi([Hi(qo(),e.forceDrop),Hi(Go(),e.drop),Hi($o(),function(t,n){e.move(n.event())}),Hi(Wo(),e.delayDrop)])},FU=function(e){return ve.from(jc(e.x(),e.y()))},jU=function(e,t){return jc(t.left()-e.left(),t.top()-e.top())},VU=Object.freeze({__proto__:null,getData:FU,getDelta:jU}),UU=function(e,t,n){return[Hi(qo(),function(r,o){if(0===o.event().raw().button){o.stop();var i=function(){return BU(r,ve.some(c),e,t)},a=l(i,200),u={drop:i,delayDrop:a.schedule,forceDrop:i,move:function(n){a.cancel(),zU(r,e,t,VU,n)}},c=OU(r,e.blockerClass,HU(u));!function(){n(r),NU(r,c)}()}})]},qU=o(AU,[Qs("dragger",{handlers:LU(UU)})]),$U=function(e){return zi([Hi(Fo(),e.forceDrop),Hi(Vo(),e.drop),Hi(Uo(),e.drop),Hi(jo(),function(t,n){e.move(n.event())})])},WU=function(e){var t=e[0];return ve.some(jc(t.clientX,t.clientY))},GU=function(e){var t=e.raw(),n=t.touches;return 1===n.length?WU(n):ve.none()},KU=function(e,t){return jc(t.left()-e.left(),t.top()-e.top())},YU=Object.freeze({__proto__:null,getData:GU,getDelta:KU}),XU=function(e,t,n){var r=zr(ve.none());return[Hi(Fo(),function(o,i){i.stop();var a=function(){BU(o,r.get(),e,t),r.set(ve.none())},u={drop:a,delayDrop:function(){},forceDrop:a,move:function(n){zU(o,e,t,YU,n)}},c=OU(o,e.blockerClass,$U(u));r.set(ve.some(c));!function(){n(o),NU(o,c)}()}),Hi(jo(),function(n,r){r.stop(),zU(n,e,t,YU,r.event())}),Hi(Vo(),function(n,o){o.stop(),BU(n,r.get(),e,t),r.set(ve.none())}),Hi(Uo(),function(n){BU(n,r.get(),e,t),r.set(ve.none())})]},JU=o(AU,[Qs("dragger",{handlers:LU(XU)})]),QU=function(e,t,n){return o(UU(e,t,n),XU(e,t,n))},ZU=o(AU,[Qs("dragger",{handlers:LU(QU)})]),eq=qU,tq=JU,nq=ZU,rq=Object.freeze({__proto__:null,mouse:eq,touch:tq,mouseOrTouch:nq}),oq=function(){var e=ve.none(),t=ve.none(),n=function(){e=ve.none(),t=ve.none()},r=function(t,n){var r=e.map(function(e){return t.getDelta(e,n)});return e=ve.some(n),r},o=function(e,t){return e.getData(t).bind(function(t){return r(e,t)})},i=function(e){t=ve.some(e)},a=function(){return t},u=ie({});return fu({readState:u,reset:n,update:o,getStartData:a,setStartData:i})},iq=Object.freeze({__proto__:null,init:oq}),aq=Xl({branchKey:"mode",branches:rq,name:"dragging",active:{events:function(e,t){return e.dragger.handlers(e,t)}},extra:{snap:function(e){return{sensor:e.sensor,range:e.range,output:e.output,extra:ve.from(e.extra)}}},state:iq,apis:kU}),uq=function(e,t,n,r,o,i){return e.fold(function(){return aq.snap({sensor:sU(n-20,r-20),range:jc(o,i),output:sU(ve.some(n),ve.some(r)),extra:{td:t}})},function(e){var o=n-20,i=r-20,a=e.element().dom().getBoundingClientRect();return aq.snap({sensor:sU(o,i),range:jc(40,40),output:sU(ve.some(n-a.width/2),ve.some(r-a.height/2)),extra:{td:t}})})},cq=function(e,t,n){var r=function(e,t){return e.exists(function(e){return Eo(e,t)})};return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(e,o){var i=o.td;r(t.get(),i)||(t.set(ve.some(i)),n(i))},mustSnap:!0}},sq=function(e){return Qw(Jw.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Wl([aq.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),mO.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},lq=function(e,t){var n=zr([]),r=zr([]),o=zr(!1),i=zr(ve.none()),a=zr(ve.none()),u=function(e){var n=ys(e);return uq(m.getOpt(t),e,n.x,n.y,n.width,n.height)},c=function(){return Fe(n.get(),function(e){return u(e)})},s=function(e){var n=ys(e);return uq(p.getOpt(t),e,n.right,n.bottom,n.width,n.height)},l=function(){return Fe(r.get(),function(e){return s(e)})},f=cq(c,i,function(t){a.get().each(function(n){e.fire("TableSelectorChange",{start:t,finish:n})})}),d=cq(l,a,function(t){i.get().each(function(n){e.fire("TableSelectorChange",{start:n,finish:t})})}),m=sq(f),p=sq(d),g=Pc(m.asSpec()),h=Pc(p.asSpec()),v=function(t,n,r,o){var i=n.dom().getBoundingClientRect();bc(t.element(),"display");var a=ca(Vr.fromDom(e.getBody())).dom().innerHeight,u=r(i),c=o(i,a);(u||c)&&lc(t.element(),"display","none")},b=function(e,t,n,r){var o=n(t);aq.snapTo(e,o),v(e,t,function(e){return e[r]<0},function(e,t){return e[r]>t})},y=function(e){return b(g,e,u,"top")},w=function(){return i.get().each(y)},x=function(e){return b(h,e,s,"bottom")},C=function(){return a.get().each(x)};Co().deviceType.isTouch()&&(e.on("TableSelectionChange",function(e){o.get()||(Wm(t,g),Wm(t,h),o.set(!0)),i.set(ve.some(e.start)),a.set(ve.some(e.finish)),e.otherCells.each(function(t){n.set(t.upOrLeftCells),r.set(t.downOrRightCells),y(e.start),x(e.finish)})}),e.on("ResizeEditor ResizeWindow ScrollContent",function(){w(),C()}),e.on("TableSelectionClear",function(){o.get()&&(Ym(g),Ym(h),o.set(!1)),i.set(ve.none()),a.set(ve.none())}))};!function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"}(LL||(LL={}));var fq=function(e,t,n,r,o){var i={};return i.height=Vj(r+t.top(),mk(e),gk(e)),n===LL.Both&&(i.width=Vj(o+t.left(),dk(e),pk(e))),i},dq=function(e,t,n){var r=Vr.fromDom(e.getContainer()),o=fq(e,t,n,Bc(r),Kc(r));Tt(o,function(e,t){return lc(r,t,jj(e))}),cT(e)},mq=function(e){if(1===e.nodeType){if("BR"===e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1},pq=function(e,t,n){t.delimiter||(t.delimiter="»");var r=function(r){var o=r||[],i=Fe(o,function(t,r){return Jw.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":r,"tab-index":-1,"aria-level":r+1},innerHtml:t.name},action:function(n){e.focus(),e.selection.select(t.element),e.nodeChanged()},buttonBehaviours:Wl([eS.button(n.isReadOnly),Yk()])})}),a={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+t.delimiter+" "}};return We(i.slice(1),function(e,t){var n=e;return n.push(a),n.push(t),n},[i[0]])},o=function(t){for(var n=[],r=t.length;r-- >0;){var o=t[r];if(1===o.nodeType&&!mq(o)){var i=e.fire("ResolveName",{name:o.nodeName.toLowerCase(),target:o});if(i.isDefaultPrevented()||n.push({name:i.name,element:o}),i.isPropagationStopped())break}}return n};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Wl([gy.config({mode:"flow",selector:"div[role=button]"}),ik.config({disabled:n.isReadOnly}),Yk(),WN.config({}),Ty.config({}),Ey("elementPathEvents",[Ki(function(t,n){e.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return gy.focusIn(t)}),e.on("NodeChange",function(e){var n=o(e.parents);n.length>0?Ty.set(t,r(n)):Ty.set(t,[])})})])]),components:[]}},gq=function(e,t){var n=function(e,n,r){return Ty.set(e,[Dc(t.translate(["{0} "+r,n[r]]))])};return Jw.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Wl([eS.button(t.isReadOnly),Yk(),WN.config({}),Ty.config({}),ng.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Ey("wordcount-events",[Ji(function(e){var t=ng.getValue(e),r="words"===t.mode?"characters":"words";ng.setValue(e,{mode:r,count:t.count}),n(e,t.count,r)}),Ki(function(t){e.on("wordCountUpdate",function(e){var r=ng.getValue(t).mode;ng.setValue(t,{mode:r,count:e.wordCount}),n(t,e.wordCount,r)})})])]),eventOrder:{"alloy.execute":["disabling","alloy.base.behaviour","wordcount-events"]}})},hq=function(e,t){var n=function(n){return{dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize"),"aria-hidden":"true"},innerHtml:ex("resize-handle",t.icons)},behaviours:Wl([aq.config({mode:"mouse",repositionTarget:!1,onDrag:function(t,r,o){dq(e,o,n)},blockerClass:"tox-blocker"})])}},r=function(){var e=FC.translate(["Powered by {0}","Tiny"]);return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:'<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+e+'">'+e+"</a>"}}},o=function(e){var t=!so(e.getParam("plugins","","string"),"autoresize"),n=e.getParam("resize",t);return!1===n?LL.None:"both"===n?LL.Both:LL.Vertical},i=function(){var n=[];return e.getParam("elementpath",!0,"boolean")&&n.push(pq(e,{},t)),so(e.getParam("plugins","","string"),"wordcount")&&n.push(gq(e,t)),e.getParam("branding",!0,"boolean")&&n.push(r()),n.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:n}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:function(){var t=i(),r=o(e);return r!==LL.None&&t.push(n(r)),t}()}},vq=function(e){var t,n=e.inline,r=n?Jj:zj,o=Pk(e)?RF:zF,i=ve.none(),a=Co(),u=a.browser.isIE(),c=u?["tox-platform-ie"]:[],s=a.deviceType.isTouch(),l=s?["tox-platform-touch"]:[],f=Ok(e),d=FC.isRtl()?{attributes:{dir:"rtl"}}:{},m={attributes:(t={},t[Jf]=f?Rs.BottomToTop:Rs.TopToBottom,t)},p=function(){return i.bind(wj.getHeader)},g=function(){return o.isDocked(p)},h=Pc({dom:de({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(c).concat(l)},d),behaviours:Wl([Fm.config({useFixed:function(){return g()}})])}),v=function(){return lt.value(h)},b=Qw({dom:{tag:"div",classes:["tox-anchorbar"]}}),y=function(){return i.bind(function(e){return b.getOpt(e)}).getOrDie("Could not find a anchor bar element")},w=function(){return i.bind(function(e){return wj.getToolbar(e)}).getOrDie("Could not find more toolbar element")},x=function(){return i.bind(function(e){return wj.getThrobber(e)}).getOrDie("Could not find throbber element")},C=FI(h,e,y),k=wj.parts().menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:C,onEscape:function(){e.focus()}}),S=Sk(e),T=wj.parts().toolbar(de({dom:{tag:"div",classes:["tox-toolbar"]},getSink:v,providers:C.shared.providers,onEscape:function(){e.focus()},type:S,lazyToolbar:w,lazyHeader:function(){return p().getOrDie("Could not find header element")}},m)),N=wj.parts()["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:C.shared.providers,onEscape:function(){},type:S}),E=wj.parts().socket({dom:{tag:"div",classes:["tox-edit-area"]}}),O=wj.parts().sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),_=wj.parts().throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:C}),A=e.getParam("statusbar",!0,"boolean"),D=A&&!n?ve.some(hq(e,C.shared.providers)):ve.none(),R={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[E,O]},M=Ck(e),P=wk(e),I=yk(e),z=wj.parts().header({dom:de({tag:"div",classes:["tox-editor-header"]},m),components:Xe([I?[k]:[],function(){return M?[N]:P?[T]:[]}(),Dk(e)?[]:[b.asSpec()]]),sticky:Pk(e),editor:e,sharedBackstage:C.shared}),B=Xe([f?[]:[z],n?[]:[R],f?[z]:[]]),L={dom:{tag:"div",classes:["tox-editor-container"]},components:B},H=Xe([[L],n?[]:D.toArray(),[_]]),F=Mk(e),j=de(de({role:"application"},FC.isRtl()?{dir:"rtl"}:{}),F?{"aria-hidden":"true"}:{}),V=Pc(wj.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(f?["tox-tinymce--toolbar-bottom"]:[]).concat(l).concat(c),styles:de({visibility:"hidden"},F?{opacity:"0",border:"0"}:{}),attributes:j},components:H,behaviours:Wl([gy.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a"})])}));i=ve.some(V),e.shortcuts.add("alt+F9","focus menubar",function(){wj.focusMenubar(V)}),e.shortcuts.add("alt+F10","focus toolbar",function(){wj.focusToolbar(V)});var U=BN(V),q=BN(h);DH(e,U,q);var $=function(){return{channels:{broadcastAll:q.broadcast,broadcastOn:q.broadcastOn,register:function(){}}}},W=function(){var t=jj(qj(e)),n=jj(Wj(e));return e.inline||(vc("div","width",n)&&lc(V.element(),"width",n),vc("div","height",t)?lc(V.element(),"height",t):lc(V.element(),"height","200px")),t};return{mothership:U,uiMothership:q,backstage:C,renderUI:function(){o.setup(e,C.shared,p),bV(e,C),YV(e,v,C),KF(e),lj(e,x,C.shared),Nt(Nk(e),function(t,n){e.ui.registry.addGroupToolbarButton(n,t)});var t=e.ui.registry.getAll(),n=t.buttons,i=t.menuItems,a=t.contextToolbars,u=t.sidebars,c=xk(e),s={menuItems:i,menus:zk(e),menubar:Bk(e),toolbar:c.getOrThunk(function(){return Lk(e)}),allowToolbarGroups:S===Vx.floating,buttons:n,sidebar:u};AH(e,a,h,{backstage:C}),lq(e,h);var l=e.getElement(),f=W(),d={mothership:U,uiMothership:q,outerContainer:V},m={targetNode:l,height:f};return r.render(e,d,s,C,m)},getUi:$}},bq=function(e,t){var n=ve.from(Ra(e,"id")).fold(function(){var e=qa("dialog-describe");return Aa(t,"id",e),e},ae);Aa(e,"aria-describedby",n)},yq=function(e,t){var n=ve.from(Ra(e,"id")).fold(function(){var e=qa("dialog-label");return Aa(t,"id",e),e},ae);Aa(e,"aria-labelledby",n)},wq=ie([lr("lazySink"),wr("dragBlockClass"),Mr("getBounds",ws),Er("useTabstopAt",ie(!0)),Er("eventOrder",{}),rg("modalBehaviours",[gy]),Ys("onExecute"),Js("onEscape")]),xq={sketch:ae},Cq=ie([zg({name:"draghandle",overrides:function(e,t){return{behaviours:Wl([aq.config({mode:"mouse",getTarget:function(e){return Ts(e,'[role="dialog"]').getOr(e)},blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])}}}),Pg({schema:[lr("dom")],name:"title"}),Pg({factory:xq,schema:[lr("dom")],name:"close"}),Pg({factory:xq,schema:[lr("dom")],name:"body"}),zg({factory:xq,schema:[lr("dom")],name:"footer"}),Ig({factory:{sketch:function(e,t){return de(de({},e),{dom:t.dom,components:t.components})}},schema:[Er("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Er("components",[])],name:"blocker"})]),kq=function(e,t,n,r){var o=qa("alloy.dialog.busy"),i=qa("alloy.dialog.idle"),a=Wl([gy.config({mode:"special",onTab:function(){return ve.some(!0)},onShiftTab:function(){return ve.some(!0)}}),zy.config({})]),u=function(t){var n=e.lazySink(t).getOrDie(),u=zr(ve.none()),c=r.blocker(),s=n.getSystem().build(de(de({},c),{components:c.components.concat([Ic(t)]),behaviours:Wl([zy.config({}),Ey("dialog-blocker-events",[Gi(Yo(),function(){gy.focusIn(t)}),Hi(i,function(e,n){Pa(t.element(),"aria-busy")&&(Ia(t.element(),"aria-busy"),u.get().each(function(e){return Ty.remove(t,e)}))}),Hi(o,function(e,n){Aa(t.element(),"aria-busy","true");var r=n.event().getBusySpec();u.get().each(function(e){Ty.remove(t,e)});var o=r(t,a),i=e.getSystem().build(o);u.set(ve.some(i)),Ty.append(t,Ic(i)),i.hasConfigured(gy)&&gy.focusIn(i)})])])}));Wm(n,s),gy.focusIn(t)},c=function(e){sa(e.element()).each(function(t){e.getSystem().getByDom(t).each(function(e){Ym(e)})})},s=function(t){return Xg(t,e,"body")},l=function(t){return Xg(t,e,"footer")},f=function(e,t){Di(e,o,{getBusySpec:t})},d=function(e){Ai(e,i)},m=qa("modal-events"),p=de(de({},e.eventOrder),{"alloy.system.attached":[m].concat(e.eventOrder["alloy.system.attached"]||[])});return{uid:e.uid,dom:e.dom,components:t,apis:{show:u,hide:c,getBody:s,getFooter:l,setIdle:d,setBusy:f},eventOrder:p,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:ig(e.modalBehaviours,[Ty.config({}),gy.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt}),Ey(m,[Ki(function(t){yq(t.element(),Xg(t,e,"title").element()),bq(t.element(),Xg(t,e,"body").element())})])])}},Sq=mh({name:"ModalDialog",configFields:wq(),partFields:Cq(),factory:kq,apis:{show:function(e,t){e.show(t)},hide:function(e,t){e.hide(t)},getBody:function(e,t){return e.getBody(t)},getFooter:function(e,t){return e.getFooter(t)},setBusy:function(e,t,n){e.setBusy(t,n)},setIdle:function(e,t){e.setIdle(t)}}}),Tq=Pn([mr("type"),mr("name")].concat(fC)),Nq=ir,Eq=[Fn("name","name",Jt(function(){return qa("button-name")}),or),kr("icon"),Dr("align","end",["start","end"]),Rr("primary",!1),Rr("disabled",!1)],Oq=o(Eq,[mr("text")]),_q=o([pr("type",["submit","cancel","custom"])],Oq),Aq=o([pr("type",["menu"]),kr("text"),kr("tooltip"),kr("icon"),yr("items",Tq)],Eq),Dq=er("type",{submit:_q,cancel:_q,custom:_q,menu:Aq}),Rq=[mr("type"),mr("text"),pr("level",["info","warn","error","success"]),mr("icon"),Er("url","")],Mq=Pn(Rq),Pq=function(e){return[mr("type"),e]},Iq=[mr("type"),mr("text"),Rr("disabled",!1),Rr("primary",!1),Fn("name","name",Jt(function(){return qa("button-name")}),or),kr("icon"),Rr("borderless",!1)],zq=Pn(Iq),Bq=[mr("type"),mr("name"),mr("label"),Rr("disabled",!1)],Lq=Pn(Bq),Hq=ir,Fq=[mr("type"),mr("name")],jq=Fq.concat([kr("label")]),Vq=jq,Uq=Pn(Vq),qq=or,$q=jq,Wq=Pn($q),Gq=or,Kq=jq,Yq=Pn(Kq),Xq=function(){return In(Un)}(),Jq=function(e){return[mr("type"),dr("columns"),e]},Qq=jq.concat([Rr("sandboxed",!0)]),Zq=Pn(Qq),e$=or,t$=jq.concat([kr("inputMode"),kr("placeholder"),Rr("maximized",!1),Rr("disabled",!1)]),n$=Pn(t$),r$=or,o$=jq.concat([br("items",[mr("text"),mr("value")]),_r("size",1),Rr("disabled",!1)]),i$=Pn(o$),a$=or,u$=jq.concat([Rr("constrain",!0),Rr("disabled",!1)]),c$=Pn(u$),s$=Pn([mr("width"),mr("height")]),l$=jq.concat([kr("placeholder"),Rr("maximized",!1),Rr("disabled",!1)]),f$=Pn(l$),d$=or,m$=jq.concat([Dr("filetype","file",["image","media","file"]),Er("disabled",!1)]),p$=Pn(m$),g$=Pn([mr("value"),Er("meta",{})]),h$=Fq.concat([Ar("tag","textarea"),mr("scriptId"),mr("scriptUrl"),function(e,t){return Or(e,t,cr)}("settings",void 0)]),v$=Fq.concat([Ar("tag","textarea"),gr("init")]),b$=Wn(function(e){return Yn("customeditor.old",Mn(v$),e).orThunk(function(){return Yn("customeditor.new",Mn(h$),e)})}),y$=or,w$=[mr("type"),mr("html"),Dr("presets","presentation",["presentation","document"])],x$=Pn(w$),C$=jq.concat([fr("currentState",Pn([lr("blob"),mr("url")]))]),k$=Pn(C$),S$=jq.concat([Er("columns","auto")]),T$=Pn(S$),N$=qn([mr("value"),mr("text"),mr("icon")]),E$=function(e){return[mr("type"),mr("label"),e]},O$=[mr("type"),yr("header",or),yr("cells",In(or))],_$=Pn(O$),A$=function(e){return Fn("items","items",Yt(),In(Wn(function(t){return Yn("Checking item of "+e,D$,t).fold(function(e){return lt.error(Qn(e))},function(e){return lt.value(e)})})))},D$=$n(function(){return Zn("type",{alertbanner:Mq,bar:Pn(Pq(A$("bar"))),button:zq,checkbox:Lq,colorinput:Uq,colorpicker:Wq,dropzone:Yq,grid:Pn(Jq(A$("grid"))),iframe:Zq,input:n$,selectbox:i$,sizeinput:c$,textarea:f$,urlinput:p$,customeditor:b$,htmlpanel:x$,imagetools:k$,collection:T$,label:Pn(E$(A$("label"))),table:_$,panel:M$})}),R$=[mr("type"),Er("classes",[]),yr("items",D$)],M$=Pn(R$),P$=[Fn("name","name",Jt(function(){return qa("tab-name")}),or),mr("title"),yr("items",D$)],I$=[mr("type"),br("tabs",P$)],z$=Pn(I$),B$=Oq,L$=Dq,H$=Pn([mr("title"),fr("body",Zn("type",{panel:M$,tabpanel:z$})),Ar("size","normal"),yr("buttons",L$),Er("initialData",{}),Mr("onAction",te),Mr("onChange",te),Mr("onSubmit",te),Mr("onClose",te),Mr("onCancel",te),Er("onTabChange",te)]),F$=function(e){return Yn("dialog",H$,e)},j$=function(e){return Ce(e)?[e].concat(Je(Mt(e),j$)):ke(e)?Je(e,j$):[]},V$=function(e){return xe(e.type)&&xe(e.name)},U$={checkbox:Hq,colorinput:qq,colorpicker:Gq,dropzone:Xq,input:r$,iframe:e$,sizeinput:s$,selectbox:a$,size:s$,textarea:d$,urlinput:g$,customeditor:y$,collection:N$,togglemenuitem:Nq},q$=function(e){return ve.from(U$[e.type])},$$=function(e){return qe(j$(e),V$)},W$=function(e){var t=$$(e),n=Je(t,function(e){return q$(e).fold(function(){return[]},function(t){return[fr(e.name,t)]})});return Pn(n)},G$=Pn(o([pr("type",["cancel","custom"])],B$)),K$=Pn([mr("title"),mr("url"),Cr("height"),Cr("width"),function(e,t){return xr(e,In(t))}("buttons",G$),Mr("onAction",te),Mr("onCancel",te),Mr("onClose",te),Mr("onMessage",te)]),Y$=function(e){return Yn("dialog",K$,e)},X$=function(e){return{internalDialog:Xn(F$(e)),dataValidator:W$(e),initialData:e.initialData}},J$={open:function(e,t){var n=X$(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(e,t){return e(Xn(Y$(t)))},redial:function(e){return X$(e)}},Q$=function(e){var t=[],n={};return Tt(e,function(e,r){e.fold(function(){t.push(r)},function(e){n[r]=e})}),t.length>0?lt.error(t):lt.value(n)},Z$=function(e,n){var r=Qw(XA.sketch(function(t){return{dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:Fe(e.items,function(e){return NP(t,e,n)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[r.asSpec()]}],behaviours:Wl([gy.config({mode:"acyclic",useTabstopAt:ue(RD)}),aD.memento(r),xD.memento(r,{postprocess:function(e){return Q$(e).fold(function(e){return t.console.error(e),{}},function(e){return e})}})])}},eW=function(e,t){return{uid:e.uid,dom:e.dom,components:e.components,events:nw(e.action),behaviours:ig(e.tabButtonBehaviours,[zy.config({}),gy.config({mode:"execution",useSpace:!0,useEnter:!0}),ng.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification}},tW=dh({name:"TabButton",configFields:[Er("uid",void 0),lr("value"),Fn("dom","dom",Qt(function(){return{attributes:{role:"tab",id:qa("aria"),"aria-selected":"false"}}}),tr()),wr("action"),Er("domModification",{}),rg("tabButtonBehaviours",[zy,gy,ng]),lr("view")],factory:eW}),nW=ie([lr("tabs"),lr("dom"),Er("clickToDismiss",!1),rg("tabbarBehaviours",[Vh,gy]),Ws(["tabClass","selectedClass"])]),rW=Bg({factory:tW,name:"tabs",unit:"tab",overrides:function(e){var t=function(e,t){Vh.dehighlight(e,t),Di(e,Ei(),{tabbar:e,button:t})},n=function(e,t){Vh.highlight(e,t),Di(e,Ni(),{tabbar:e,button:t})};return{action:function(r){var o=r.getSystem().getByUid(e.uid).getOrDie(),i=Vh.isHighlighted(o,r);!function(){return i&&e.clickToDismiss?t:i?te:n}()(o,r)},domModification:{classes:[e.markers.tabClass]}}}}),oW=ie([rW]),iW=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:ig(e.tabbarBehaviours,[Vh.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:function(e,t){Aa(t.element(),"aria-selected","true")},onDehighlight:function(e,t){Aa(t.element(),"aria-selected","false")}}),gy.config({mode:"flow",getInitial:function(e){return Vh.getHighlighted(e).map(function(e){return e.element()})},selector:"."+e.markers.tabClass,executeOnMove:!0})])}},aW=mh({name:"Tabbar",configFields:nW(),partFields:oW(),factory:iW}),uW=function(e,t){return{uid:e.uid,dom:e.dom,behaviours:ig(e.tabviewBehaviours,[Ty.config({})]),domModification:{attributes:{role:"tabpanel"}}}},cW=dh({name:"Tabview",configFields:[rg("tabviewBehaviours",[Ty])],factory:uW}),sW=ie([Er("selectFirst",!0),Ks("onChangeTab"),Ks("onDismissTab"),Er("tabs",[]),rg("tabSectionBehaviours",[])]),lW=Pg({factory:aW,schema:[lr("dom"),vr("markers",[lr("tabClass"),lr("selectedClass")])],name:"tabbar",defaults:function(e){return{tabs:e.tabs}}}),fW=Pg({factory:cW,name:"tabview"}),dW=ie([lW,fW]),mW=function(e,t,n,r){var o=function(t){var n=ng.getValue(t);Yg(t,e,"tabview").each(function(r){Ke(e.tabs,function(e){return e.value===n}).each(function(n){var o=n.view();Ma(t.element(),"id").each(function(e){Aa(r.element(),"aria-labelledby",e)}),Ty.set(r,o),e.onChangeTab(r,t,o)})})},i=function(t,n){Yg(t,e,"tabbar").each(function(e){n(e).each(Ri)})};return{uid:e.uid,dom:e.dom,components:t,behaviours:og(e.tabSectionBehaviours),events:zi(Xe([e.selectFirst?[Ki(function(e,t){i(e,Vh.getFirst)})]:[],[Hi(Ni(),function(e,t){var n=t.event().button();o(n)}),Hi(Ei(),function(t,n){var r=n.event().button();e.onDismissTab(t,r)})]])),apis:{getViewItems:function(t){return Yg(t,e,"tabview").map(function(e){return Ty.contents(e)}).getOr([])},showTab:function(e,t){i(e,function(e){var n=Vh.getCandidates(e);return Ke(n,function(e){return ng.getValue(e)===t}).filter(function(t){return!Vh.isHighlighted(e,t)})})}}}},pW=mh({name:"TabSection",configFields:sW(),partFields:dW(),factory:mW,apis:{getViewItems:function(e,t){return e.getViewItems(t)},showTab:function(e,t,n){e.showTab(t,n)}}}),gW=function(e,t,n){return Fe(e,function(r,o){Ty.set(n,e[o].view());var i=t.dom().getBoundingClientRect();return Ty.set(n,[]),i.height})},hW=function(e){return rt(nt(e,function(e,t){return e>t?-1:e<t?1:0}))},vW=function(e,n,r){var o,i=ua(e).dom(),a=Ts(e,".tox-dialog-wrap").getOr(e),u="fixed"===mc(a,"position");o=u?Math.max(i.clientHeight,t.window.innerHeight):Math.max(i.offsetHeight,i.scrollHeight);var c=Bc(n),s=n.dom().offsetLeft>=r.dom().offsetLeft+Kc(r),l=s?Math.max(Bc(r),c):c,f=parseInt(mc(e,"margin-top"),10)||0,d=parseInt(mc(e,"margin-bottom"),10)||0;return o-(Bc(e)+f+d-l)},bW=function(e,t){rt(e).each(function(e){return pW.showTab(t,e.value)})},yW=function(e,t){lc(e,"height",t+"px"),Co().browser.isIE()?bc(e,"flex-basis"):lc(e,"flex-basis",t+"px")},wW=function(e,t,n){Ts(e,'[role="dialog"]').each(function(e){Ns(e,'[role="tablist"]').each(function(r){n.get().map(function(n){return lc(t,"height","0"),lc(t,"flex-basis","0"),Math.min(n,vW(e,t,r))}).each(function(e){yW(t,e)})})})},xW=function(e){return Ns(e,'[role="tabpanel"]')},CW=function(e){return{smartTabHeight:function(){var t=zr(ve.none());return{extraEvents:[Ki(function(n){var r=n.element();xW(r).each(function(o){lc(o,"visibility","hidden"),n.getSystem().getByDom(o).toOption().each(function(n){var r=gW(e,o,n),i=hW(r);t.set(i)}),wW(r,o,t),bc(o,"visibility"),bW(e,n),Yw.requestAnimationFrame(function(){wW(r,o,t)})})}),Hi(yi(),function(e){var n=e.element();xW(n).each(function(e){wW(n,e,t)})}),Hi(uE,function(e,n){var r=e.element();xW(r).each(function(e){var n=lf();lc(e,"visibility","hidden");var o=gc(e,"height").map(function(e){return parseInt(e,10)});bc(e,"height"),bc(e,"flex-basis");var i=e.dom().getBoundingClientRect().height;o.forall(function(e){return i>e})?(t.set(ve.from(i)),wW(r,e,t)):o.each(function(t){yW(e,t)}),bc(e,"visibility"),n.each(uf)})})],selectFirst:!1}}(),naiveTabHeight:function(){return{extraEvents:[],selectFirst:!0}}()}},kW=function(e,t){var n=zr({}),r=function(e){var t=ng.getValue(e),r=Q$(t).getOr({}),o=n.get(),i=Ut(o,r);n.set(i)},o=function(e){var t=n.get();ng.setValue(e,t)},i=zr(null),a=Fe(e.tabs,function(e){return{value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:t.shared.providers.translate(e.title)},view:function(){return[XA.sketch(function(n){return{dom:{tag:"div",classes:["tox-form"]},components:Fe(e.items,function(e){return NP(n,e,t)}),formBehaviours:Wl([gy.config({mode:"acyclic",useTabstopAt:ue(RD)}),Ey("TabView.form.events",[Ki(o),Yi(r)]),nf.config({channels:an([{key:"send-data-to-section",value:{onReceive:r}},{key:"send-data-to-view",value:{onReceive:o}}])})])}})]}}}),u=CW(a).smartTabHeight;return pW.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(e,t,n){var r=ng.getValue(t);Di(e,aE,{name:r,oldName:i.get()}),i.set(r)},tabs:a,components:[pW.parts().tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[aW.parts().tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Wl([WN.config({})])}),pW.parts().tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:u.selectFirst,tabSectionBehaviours:Wl([Ey("tabpanel",u.extraEvents),gy.config({mode:"acyclic"}),Ch.config({find:function(e){return rt(pW.getViewItems(e))}}),ng.config({store:{mode:"manual",getValue:function(e){return e.getSystem().broadcastOn(["send-data-to-section"],{}),n.get()},setValue:function(e,t){n.set(t),e.getSystem().broadcastOn(["send-data-to-view"],{})}}})])})},SW=qa("update-dialog"),TW=qa("update-title"),NW=qa("update-body"),EW=qa("update-footer"),OW=qa("body-send-message"),_W=function(e,t,n,r){var o=function(e){switch(e.body.type){case"tabpanel":return[kW(e.body,n)];default:return[Z$(e.body,n)]}},i=function(e,t){return ve.some({isTabPanel:function(){return"tabpanel"===t.body.type}})},a={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:de(de({},t.map(function(e){return{id:e}}).getOr({})),r?a:{})},components:[],behaviours:Wl([aD.childAt(0),VB.config({channel:NW,updateState:i,renderComponents:o,initialData:e})])}},AW=function(e,t,n,r){return _W(e,ve.some(t),n,r)},DW=function(e,t){var n=_W(e,ve.none(),t,!1);return Sq.parts().body(n)},RW=function(e){var t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[_D({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:Wl([WN.config({}),zy.config({})])})]}],behaviours:Wl([gy.config({mode:"acyclic",useTabstopAt:ue(RD)})])};return Sq.parts().body(t)},MW=sS.deviceType.isTouch(),PW=function(e,t){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}},IW=function(e,t){return Sq.parts().close(Jw.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:Wl([WN.config({})])}))},zW=function(){return Sq.parts().title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},BW=function(e,t){return Sq.parts().body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:aj("<p>"+t.translate(e)+"</p>")}]}]})},LW=function(e){return Sq.parts().footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e})},HW=function(e,t){return[zN.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),zN.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})]},FW=function(e){var t;return Sq.sketch({lazySink:e.lazySink,onEscape:function(t){return e.onEscape(t),ve.some(!0)},useTabstopAt:function(e){return!RD(e)},dom:{tag:"div",classes:["tox-dialog"].concat(e.extraClasses),styles:de({position:"relative"},e.extraStyles)},components:o([e.header,e.body],e.footer.toArray()),parts:{blocker:{dom:aj('<div class="tox-dialog-wrap"></div>'),components:[{dom:{tag:"div",classes:MW?["tox-dialog-wrap__backdrop","tox-dialog-wrap__backdrop--opaque"]:["tox-dialog-wrap__backdrop"]}}]}},dragBlockClass:"tox-dialog-wrap",modalBehaviours:Wl(o([zy.config({}),Ey("dialog-events",e.dialogEvents.concat([Gi(Yo(),function(e,t){gy.focusIn(e)})])),Ey("scroll-lock",[Ki(function(){Uu(ac(),"tox-dialog__disable-scroll")}),Yi(function(){$u(ac(),"tox-dialog__disable-scroll")})])],e.extraBehaviours)),eventOrder:de((t={},t[si()]=["dialog-events"],t[wi()]=["scroll-lock","dialog-events","alloy.base.behaviour"],t[xi()]=["alloy.base.behaviour","dialog-events","scroll-lock"],t),e.eventOrder)})},jW=function(e){return Jw.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M17.953 7.453L13.422 12l4.531 4.547-1.406 1.406L12 13.422l-4.547 4.531-1.406-1.406L10.578 12 6.047 7.453l1.406-1.406L12 10.578l4.547-4.531z" fill-rule="evenodd"></path></svg>'}}],action:function(e){Ai(e,tE)}})},VW=function(e,t,n){var r=function(e){return[Dc(n.translate(e.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:de({},t.map(function(e){return{id:e}}).getOr({}))},components:r(e),behaviours:Wl([VB.config({channel:TW,renderComponents:r})])}},UW=function(){return{dom:aj('<div class="tox-dialog__draghandle"></div>')}},qW=function(e,t,n){return zN.sketch({dom:aj('<div class="tox-dialog__header"></div>'),components:[VW(e,ve.some(t),n),UW(),jW(n)],containerBehaviours:Wl([aq.config({mode:"mouse",blockerClass:"blocker",getTarget:function(e){return Es(e,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},$W=function(e,t){var n=Sq.parts().title(VW(e,ve.none(),t)),r=Sq.parts().draghandle(UW()),o=Sq.parts().close(jW(t)),i=[n].concat(e.draggable?[r]:[]).concat([o]);return zN.sketch({dom:aj('<div class="tox-dialog__header"></div>'),components:i})},WW=function(e,t){return $W({title:t.shared.providers.translate(e),draggable:t.dialog.isDraggableModal()},t.shared.providers)},GW=function(e,t){return{onClose:function(){return t.closeWindow()},onBlock:function(t){Sq.setBusy(e(),function(e,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":t.message()},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:n,components:[{dom:aj('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}})},onUnblock:function(){Sq.setIdle(e())}}},KW=function(e,t,n,r){var i,a=function(e,t){return ve.some(t)};return Pc(FW(de(de({},e),{lazySink:r.shared.getSink,extraBehaviours:o([VB.config({channel:SW,updateState:a,initialData:t}),xD.memory({})],e.extraBehaviours),onEscape:function(e){Ai(e,tE)},dialogEvents:n,eventOrder:(i={},i[ci()]=["reflecting","receiving"],i[wi()]=["scroll-lock","reflecting","messages","dialog-events","alloy.base.behaviour"],i[xi()]=["alloy.base.behaviour","dialog-events","messages","reflecting","scroll-lock"],i)})))},YW=function(e){var t=function(e){var t=Fe(e.items,function(e){var t=zr(!1);return de(de({},e),{storage:t})});return de(de({},e),{items:t})};return Fe(e,function(e){return"menu"===e.type?t(e):e})},XW=function(e){return We(e,function(e,t){if("menu"===t.type){return We(t.items,function(e,t){return e[t.name]=t.storage,e},e)}return e},{})},JW=function(e,t){return[qi(Yo(),DD),e(eE,function(e,n){t.onClose(),n.onClose()}),e(tE,function(e,t,n,r){t.onCancel(e),Ai(r,eE)}),Hi(iE,function(e,n){return t.onUnblock()}),Hi(oE,function(e,n){return t.onBlock(n.event())})]},QW=function(e,t){var n=function(t,n){return Hi(t,function(t,o){r(t,function(r,i){n(e(),r,o.event(),t)})})},r=function(e,t){VB.getState(e).get().each(function(n){t(n,e)})};return o(JW(n,t),[n(nE,function(e,t,n){t.onAction(e,{name:n.name()})})])},ZW=function(e,t,n){var r=function(t,n){return Hi(t,function(t,r){i(t,function(o,i){n(e(),o,r.event(),t)})})},i=function(e,t){VB.getState(e).get().each(function(n){t(n.internalDialog,e)})};return o(JW(r,t),[r(rE,function(e,t){return t.onSubmit(e)}),r(ZN,function(e,t,n){t.onChange(e,{name:n.name()})}),r(nE,function(e,t,r,o){var i=function(){return gy.focusIn(o)},a=function(e){return Pa(e,"disabled")||Ma(e,"aria-disabled").exists(function(e){return"true"===e})},u=lf();t.onAction(e,{name:r.name(),value:r.value()}),lf().fold(i,function(e){a(e)?i():u.exists(function(t){return Ao(e,t)&&a(t)})?i():n().toOption().filter(function(t){return!Ao(t.element(),e)}).each(i)})}),r(aE,function(e,t,n){t.onTabChange(e,{newTabName:n.name(),oldTabName:n.oldName()})}),Yi(function(t){var n=e();ng.setValue(t,n.getData())})])},eG={initUrlDialog:QW,initDialog:ZW},tG=function(e,t){return RR(e,e.type,t)},nG=function(e,t,n){return Ke(t,function(e){return e.name===n}).bind(function(t){return t.memento.getOpt(e)})},rG=function(e,t){var n=t.map(function(e){return e.footerButtons}).getOr([]),r=Ue(n,function(e){return"start"===e.align}),o=function(e,t){return zN.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+e]},components:Fe(t,function(e){return e.memento.asSpec()})})};return[o("start",r.pass),o("end",r.fail)]},oG=function(e,t){var n=function(e,n){var r=Fe(n.buttons,function(e){var n=Qw(tG(e,t));return{name:e.name,align:e.align,memento:n}}),o=function(e,t){return nG(e,r,t)};return ve.some({lookupByName:o,footerButtons:r})};return{dom:aj('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Wl([VB.config({channel:EW,initialData:e,updateState:n,renderComponents:rG})])}},iG=function(e,t){return oG(e,t)},aG=function(e,t){return Sq.parts().footer(oG(e,t))},uG=function(e,t){if(e.getRoot().getSystem().isConnected()){var n=Ch.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return XA.getField(n,t).fold(function(){var r=e.getFooter();return VB.getState(r).get().bind(function(e){return e.lookupByName(n,t)})},function(e){return ve.some(e)})}return ve.none()},cG=function(e,t){var n=e.getRoot();return VB.getState(n).get().map(function(e){return Xn(Yn("data",e.dataValidator,t))}).getOr(t)},sG=function(e,t,n){var r=function(t){var n=e.getRoot();n.getSystem().isConnected()&&t(n)},o=function(){var t=e.getRoot(),r=t.getSystem().isConnected()?e.getFormWrapper():t,o=ng.getValue(r),i=Nt(n,function(e){return e.get()});return de(de({},o),i)},i=function(t){r(function(r){var o=p.getData(),i=de(de({},o),t),a=cG(e,i),u=e.getFormWrapper();ng.setValue(u,a),Tt(n,function(e,t){It(i,t)&&e.set(i[t])})})},a=function(t){uG(e,t).each(ik.disable)},u=function(t){uG(e,t).each(ik.enable)},c=function(t){uG(e,t).each(zy.focus)},s=function(e){if(!xe(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r(function(t){Di(t,oE,{message:e})})},l=function(){r(function(e){Ai(e,iE)})},f=function(t){r(function(n){var r=e.getBody();VB.getState(r).get().exists(function(e){return e.isTabPanel()})&&Ch.getCurrent(r).each(function(e){pW.showTab(e,t)})})},d=function(e){r(function(n){var r=t(e);n.getSystem().broadcastOn([SW],r),n.getSystem().broadcastOn([TW],r.internalDialog),n.getSystem().broadcastOn([NW],r.internalDialog),n.getSystem().broadcastOn([EW],r.internalDialog),p.setData(r.initialData)})},m=function(){r(function(e){Ai(e,eE)})},p={getData:o,setData:i,disable:a,enable:u,focus:c,block:s,unblock:l,showTab:f,redial:d,close:m};return p},lG=function(e,t,n){var r=WW(e.internalDialog.title,n),o=DW({body:e.internalDialog.body},n),i=YW(e.internalDialog.buttons),a=XW(i),u=aG({buttons:i},n),c=eG.initDialog(function(){return m},GW(function(){return f},t),n.shared.getSink),s="normal"!==e.internalDialog.size?"large"===e.internalDialog.size?["tox-dialog--width-lg"]:["tox-dialog--width-md"]:[],l={header:r,body:o,footer:ve.some(u),extraClasses:s,extraBehaviours:[],extraStyles:{}},f=KW(l,e,c,n),d=function(){var e=function(){var e=Sq.getBody(f);return Ch.getCurrent(e).getOr(e)};return{getRoot:function(){return f},getBody:function(){return Sq.getBody(f)},getFooter:function(){return Sq.getFooter(f)},getFormWrapper:e}}(),m=sG(d,t.redial,a);return{dialog:f,instanceApi:m}},fG=function(e,t,n,r){var o,i,a=qa("dialog-label"),u=qa("dialog-content"),c=function(e,t){return ve.some(t)},s=Qw(qW({title:e.internalDialog.title,draggable:!0},a,n.shared.providers)),l=Qw(AW({body:e.internalDialog.body},u,n,r)),f=YW(e.internalDialog.buttons),d=XW(f),m=Qw(iG({buttons:f},n)),p=eG.initDialog(function(){return h},{onBlock:function(){},onUnblock:function(){},onClose:function(){return t.closeWindow()}},n.shared.getSink),g=Pc({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(o={role:"dialog"},o["aria-labelledby"]=a,o["aria-describedby"]=""+u,o)},eventOrder:(i={},i[ci()]=[VB.name(),nf.name()],i[si()]=["execute-on-form"],i[wi()]=["reflecting","execute-on-form"],i),behaviours:Wl([gy.config({mode:"cyclic",onEscape:function(e){return Ai(e,eE),ve.some(!0)},useTabstopAt:function(e){return!RD(e)&&("button"!==Qi(e)||"disabled"!==Ra(e,"disabled"))}}),VB.config({channel:SW,updateState:c,initialData:e}),zy.config({}),Ey("execute-on-form",p.concat([Gi(Yo(),function(e,t){gy.focusIn(e)})])),xD.memory({})]),components:[s.asSpec(),l.asSpec(),m.asSpec()]}),h=sG({getRoot:function(){return g},getFooter:function(){return m.get(g)},getBody:function(){return l.get(g)},getFormWrapper:function(){var e=l.get(g);return Ch.getCurrent(e).getOr(e)}},t.redial,d);return{dialog:g,instanceApi:h}},dG=tinymce.util.Tools.resolve("tinymce.util.URI"),mG=function(e){var t=function(t){e.getSystem().isConnected()&&t(e)};return{block:function(e){if(!xe(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");t(function(t){Di(t,oE,{message:e})})},unblock:function(){t(function(e){Ai(e,iE)})},close:function(){t(function(e){Ai(e,eE)})},sendMessage:function(e){t(function(t){t.getSystem().broadcastOn([OW],e)})}}},pG=["insertContent","setContent","execCommand","close","block","unblock"],gG=function(e){return Ce(e)&&-1!==pG.indexOf(e.mceAction)},hG=function(e){return!gG(e)&&Ce(e)&&It(e,"mceAction")},vG=function(e,t,n){switch(n.mceAction){case"insertContent":e.insertContent(n.content);break;case"setContent":e.setContent(n.content);break;case"execCommand":var r=!!Se(n.ui)&&n.ui;e.execCommand(n.cmd,r,n.value);break;case"close":t.close();break;case"block":t.block(n.message);break;case"unblock":t.unblock()}},bG=function(e,n,r,o){var i,a=WW(e.title,o),u=RW(e),c=e.buttons.bind(function(e){return 0===e.length?ve.none():ve.some(aG({buttons:e},o))}),s=eG.initUrlDialog(function(){return b},GW(function(){return v},n)),l=de(de({},e.height.fold(function(){return{}},function(e){return{height:e+"px","max-height":e+"px"}})),e.width.fold(function(){return{}},function(e){return{width:e+"px","max-width":e+"px"}})),f=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],d=new dG(e.url,{base_uri:new dG(t.window.location.href)}),m=d.protocol+"://"+d.host+(d.port?":"+d.port:""),p=zr(ve.none()),g=[Ey("messages",[Ki(function(){var n=lN(Vr.fromDom(t.window),"message",function(t){if(d.isSameOrigin(new dG(t.raw().origin))){var n=t.raw().data;gG(n)?vG(r,b,n):hG(n)&&e.onMessage(b,n)}});p.set(ve.some(n))}),Yi(function(){p.get().each(function(e){return e.unbind()})})]),nf.config({channels:(i={},i[OW]={onReceive:function(e,t){Ns(e.element(),"iframe").each(function(e){e.dom().contentWindow.postMessage(t,m)})}},i)})],h={header:a,body:u,footer:c,extraClasses:f,extraBehaviours:g,extraStyles:l},v=KW(h,e,s,o),b=mG(v);return{dialog:v,instanceApi:b}},yG=function(e){var t=e.backstage.shared;return{open:function(n,r){var o=function(){Sq.hide(c),r()},i=Qw(RR({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:ve.none()},"cancel",e.backstage)),a=zW(),u=IW(o,t.providers),c=Pc(FW({lazySink:function(){return t.getSink()},header:PW(a,u),body:BW(n,t.providers),footer:ve.some(LW(HW([],[i.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Hi(tE,o)],eventOrder:{}}));Sq.show(c);var s=i.get(c);zy.focus(s)}}},wG=function(e){var t=e.backstage.shared;return{open:function(n,r){var o=function(e){Sq.hide(s),r(e)},i=Qw(RR({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:ve.none()},"submit",e.backstage)),a=RR({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:ve.none()},"cancel",e.backstage),u=zW(),c=IW(function(){return o(!1)},t.providers),s=Pc(FW({lazySink:function(){return t.getSink()},header:PW(u,c),body:BW(n,t.providers),footer:ve.some(LW(HW([],[a,i.asSpec()]))),onEscape:function(){return o(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Hi(tE,function(){return o(!1)}),Hi(rE,function(){return o(!0)})],eventOrder:{}}));Sq.show(s);var l=i.get(s);zy.focus(l)}}},xG=function(e,t){return Xn(Yn("data",t,e))},CG=function(e){return mN(e,".tox-alert-dialog")||mN(e,".tox-confirm-dialog")},kG=function(e,t,n){return t&&n?[]:[yF.config({contextual:{lazyContext:function(){return ve.some(bs(Vr.fromDom(e.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},SG=function(e){var t=e.backstage,n=e.editor,r=Pk(n),i=yG(e),a=wG(e),u=function(e,n,r){return void 0!==n&&"toolbar"===n.inline?f(e,t.shared.anchors.inlineDialog(),r,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?f(e,t.shared.anchors.cursor(),r,n.ariaAttrs):l(e,r)},c=function(e,t){return s(e,t)},s=function(e,r){var o=function(e){var o=bG(e,{closeWindow:function(){Sq.hide(o.dialog),r(o.instanceApi)}},n,t);return Sq.show(o.dialog),o.instanceApi};return J$.openUrl(o,e)},l=function(e,n){var r=function(e,r,o){var i=r,a={dataValidator:o,initialData:i,internalDialog:e},u=lG(a,{redial:J$.redial,closeWindow:function(){Sq.hide(u.dialog),n(u.instanceApi)}},t);return Sq.show(u.dialog),u.instanceApi.setData(i),u.instanceApi};return J$.open(r,e)},f=function(e,i,a,u){var c=function(e,c,s){var l=xG(c,s),f=Hj(),d=t.shared.header.isPositionedAtTop(),m={dataValidator:s,initialData:l,internalDialog:e},p=function(){return f.on(function(e){Bw.reposition(e),yF.refresh(e)})},g=fG(m,{redial:J$.redial,closeWindow:function(){f.on(Bw.hide),n.off("ResizeEditor",p),f.clear(),a(g.instanceApi)}},t,u),h=Pc(Bw.sketch(de(de({lazySink:t.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},d?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Wl(o([Ey("window-manager-inline-events",[Hi(Ci(),function(e,t){Ai(g.dialog,tE)})])],kG(n,r,d))),isExtraPart:function(e,t){return CG(t)}})));return f.set(h),Bw.showWithin(h,i,Ic(g.dialog),ve.some(ac())),r&&d||(yF.refresh(h),n.on("ResizeEditor",p)),g.instanceApi.setData(l),gy.focusIn(g.dialog),g.instanceApi};return J$.open(c,e)},d=function(e,t){a.open(e,function(e){t(e)})};return{open:u,openUrl:c,alert:function(e,t){i.open(e,function(){t()})},close:function(e){e.close()},confirm:d}};!function(){fe.add("silver",function(e){var t=vq(e),n=t.uiMothership,r=t.backstage,o=t.renderUI,i=t.getUi;cN.register(e,r.shared);var a=SG({editor:e,backstage:r});return{renderUI:o,getWindowManagerImpl:ie(a),getNotificationManagerImpl:function(){return c(e,{backstage:r},n)},ui:i()}})}()}(window)}).call(t,n(5))},function(e,t,n){n(46)},function(e,t){!function(e){"use strict";var t=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},r.apply(this,arguments)},o=function(){},i=function(e){return function(){return e}},a=i(!1),u=i(!0),c=i("[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"),s=function(){return l},l=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:a,isSome:a,isNone:u,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:n,orThunk:t,map:s,each:o,bind:s,exists:a,forall:u,filter:s,equals:e,equals_:e,toArray:function(){return[]},toString:i("none()")}}(),f=function(e){var t=i(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:u,isNone:a,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return f(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:l},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(a,function(t){return n(e,t)})}};return o},d=function(e){return null===e||void 0===e?l:f(e)},m={some:f,none:s,from:d},p=c,g=tinymce.util.Tools.resolve("tinymce.util.Tools"),h=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},v=function(e){return function(t){return h(t)===e}},b=function(e){return function(t){return typeof t===e}},y=v("string"),w=v("array"),x=b("boolean"),C=b("function"),k=b("number"),S=Array.prototype.slice,T=Array.prototype.push,N=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},E=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},O=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n)}},_=function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var u=e[i],c=t(u);c!==n&&(r.push(o),o=[]),n=c,o.push(u)}return 0!==o.length&&r.push(o),r},A=function(e,t,n){return E(e,function(e){n=t(n,e)}),n},D=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!w(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);T.apply(t,e[n])}return t},R=function(e,t){return D(N(e,t))},M=function(e,t){var n=S.call(e,0);return n.sort(t),n},P=Object.hasOwnProperty,I=function(e,t){return P.call(e,t)},z=(void 0!==e.window?e.window:Function("return this;")(),function(e){return e.dom().nodeType}),B=function(e){return function(t){return z(t)===e}}(3),L=function(t,n,r){if(!(y(r)||x(r)||k(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")},H=function(e,t,n){L(e.dom(),t,n)},F=function(t,n){var r=n||e.document,o=r.createElement("div");if(o.innerHTML=t,!o.hasChildNodes()||o.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return U(o.childNodes[0])},j=function(t,n){var r=n||e.document,o=r.createElement(t);return U(o)},V=function(t,n){var r=n||e.document,o=r.createTextNode(t);return U(o)},U=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:i(e)}},q=function(e,t,n){var r=e.dom();return m.from(r.elementFromPoint(t,n)).map(U)},$={fromHtml:F,fromTag:j,fromText:V,fromDom:U,fromPoint:q},W=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},G=function(t,n){return W(t,n,e.Node.DOCUMENT_POSITION_PRECEDING)},K=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},Y=function(t,n){var r=void 0===n?e.document:n.dom();return K(r)?[]:N(r.querySelectorAll(t),$.fromDom)},X=function(e){return m.from(e.dom().parentNode).map($.fromDom)},J=function(e){return N(e.dom().childNodes,$.fromDom)},Q=function(e,t){return{element:i(e),offset:i(t)}},Z=function(e,t){var n=J(e);return n.length>0&&t<n.length?Q(n[t],0):Q(e,t)},ee=function(e,t){X(e).each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},te=function(e,t){e.dom().appendChild(t.dom())},ne=function(e,t){ee(e,t),te(t,e)},re=function(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?m.from(t.dom().nodeValue):m.none()};return{get:n,getOption:r,set:function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r}}}(B,"text"),oe=function(e){return re.get(e)},ie=(C(e.Element.prototype.attachShadow)&&C(e.Node.prototype.getRootNode),function(e,t){return Y(t,e)}),ae=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ue=function(e,t){return e.isBlock(t)||I(e.schema.getShortEndedElements(),t.nodeName)},ce=function(e,t){return"false"===e.getContentEditable(t)},se=function(e,t){return"true"===e.getContentEditable(t)&&"false"===e.getContentEditableParent(t.parentNode)},le=function(e,t){return!e.isBlock(t)&&I(e.schema.getWhiteSpaceElements(),t.nodeName)},fe=function(e,t){return ue(e,t)||ce(e,t)||le(e,t)||se(e,t)},de=function(e){return 3===e.nodeType},me=function(){return{sOffset:0,fOffset:0,elements:[]}},pe=function(e,t){return Z($.fromDom(e),t)},ge=function(e,t,n,r,o,i){void 0===i&&(i=!0);for(var a=i?t(!1):n;a;){var u=ce(e,a);if(u||le(e,a)){if(u?r.cef(a):r.boundary(a))break;a=t(!0)}else{if(ue(e,a)){if(r.boundary(a))break}else de(a)&&r.text(a);if(a===o)break;a=t(!1)}}},he=function(e,t,n,r,o){if(!fe(e,n)){var i=e.getParent(r,e.isBlock),a=new ae(n,i),c=o?a.next:a.prev;ge(e,c,n,{boundary:u,cef:u,text:function(e){o?t.fOffset+=e.length:t.sOffset+=e.length,t.elements.push($.fromDom(e))}})}},ve=function(e,t,n,r,o,i){void 0===i&&(i=!0);var a=new ae(n,t),u=[],c=me();he(e,c,n,t,!1);var s=function(){return c.elements.length>0&&(u.push(c),c=me()),!1};return ge(e,a.next,n,{boundary:s,cef:function(e){return s(),o&&u.push.apply(u,o.cef(e)),!1},text:function(e){c.elements.push($.fromDom(e)),o&&o.text(e,c)}},r,i),r&&he(e,c,r,t,!0),s(),u},be=function(e,t){var n=pe(t.startContainer,t.startOffset),r=n.element().dom(),o=pe(t.endContainer,t.endOffset),i=o.element().dom();return ve(e,t.commonAncestorContainer,r,i,{text:function(e,t){e===i?t.fOffset+=e.length-o.offset():e===r&&(t.sOffset+=n.offset())},cef:function(t){var n=R(ie($.fromDom(t),"*[contenteditable=true]"),function(t){var n=t.dom();return ve(e,n,n)});return M(n,function(e,t){return G(e.elements[0].dom(),t.elements[0].dom())?1:-1})}},!1)},ye=function(e,t){return t.collapsed?[]:be(e,t)},we=function(e,t){var n=e.createRng();return n.selectNode(t),ye(e,n)},xe=function(e,t){return R(t,function(t){return we(e,t)})},Ce=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=e.length);var o=t.regex;o.lastIndex=n;for(var i,a=[];i=o.exec(e);){var u=i[t.matchIndex],c=i.index+i[0].indexOf(u),s=c+u.length;if(s>r)break;a.push({start:c,finish:s}),o.lastIndex=s}return a},ke=function(e,t){var n=A(e,function(e,n){var r=oe(n),o=e.last,i=o+r.length,a=R(t,function(e,t){return e.start<i&&e.finish>o?[{element:n,start:Math.max(o,e.start)-o,finish:Math.min(i,e.finish)-o,matchId:t}]:[]});return{results:e.results.concat(a),last:i}},{results:[],last:0}).results;return _(n,function(e){return e.matchId})},Se=function(e,t){return R(t,function(t){var n=t.elements,r=N(n,oe).join(""),o=Ce(r,e,t.sOffset,r.length-t.fOffset);return ke(n,o)})},Te=function(e,t){O(e,function(e,n){O(e,function(e){var r=$.fromDom(t.cloneNode(!1));H(r,"data-mce-index",n);var o=e.element.dom();if(o.length===e.finish&&0===e.start)ne(e.element,r);else{o.length!==e.finish&&o.splitText(e.finish);var i=o.splitText(e.start);ne($.fromDom(i),r)}})})},Ne=function(e,t,n,r){var o=we(e,n),i=Se(t,o);return Te(i,r),i.length},Ee=function(e,t,n,r){var o=n.getBookmark(),i=e.select("td[data-mce-selected],th[data-mce-selected]"),a=i.length>0?xe(e,i):ye(e,n.getRng()),u=Se(t,a);return Te(u,r),n.moveToBookmark(o),u.length},Oe=function(e){var t=e.getAttribute("data-mce-index");return"number"==typeof t?""+t:t},_e=function(e,t,n,r){var o=e.dom.create("span",{"data-mce-bogus":1});o.className="mce-match-marker";var i=e.getBody();return Fe(e,t,!1),r?Ee(e.dom,n,e.selection,o):Ne(e.dom,n,i,o)},Ae=function(e){var t=e.parentNode;e.firstChild&&t.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)},De=function(e,t){var n=[],r=g.toArray(e.getBody().getElementsByTagName("span"));if(r.length)for(var o=0;o<r.length;o++){var i=Oe(r[o]);null!==i&&i.length&&(i===t.toString()&&n.push(r[o]))}return n},Re=function(e,t,n){var r=t.get(),o=r.index,i=e.dom;n=!1!==n,n?o+1===r.count?o=0:o++:o-1==-1?o=r.count-1:o--,i.removeClass(De(e,r.index),"mce-match-marker-selected");var a=De(e,o);return a.length?(i.addClass(De(e,o),"mce-match-marker-selected"),e.selection.scrollIntoView(a[0]),o):-1},Me=function(e,t){var n=t.parentNode;e.remove(t),e.isEmpty(n)&&e.remove(n)},Pe=function(e,t){var n=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]"),r="("+n+")";return t?"(?:^|\\s|"+p()+")"+r+"(?=$|\\s|"+p()+")":r},Ie=function(e,t,n,r,o,i){var a=Pe(n,o),u={regex:new RegExp(a,r?"g":"gi"),matchIndex:1},c=_e(e,t,u,i);if(c){var s=Re(e,t,!0);t.set({index:s,count:c,text:n,matchCase:r,wholeWord:o,inSelection:i})}return c},ze=function(e,t){var n=Re(e,t,!0);t.set(r(r({},t.get()),{index:n}))},Be=function(e,t){var n=Re(e,t,!1);t.set(r(r({},t.get()),{index:n}))},Le=function(e){var t=Oe(e);return null!==t&&t.length>0},He=function(e,t,n,o,i){var a,u=t.get(),c=u.index,s=c;o=!1!==o;for(var l=e.getBody(),f=g.grep(g.toArray(l.getElementsByTagName("span")),Le),d=0;d<f.length;d++){var m=Oe(f[d]),p=a=parseInt(m,10);if(i||p===u.index){for(n.length?(f[d].firstChild.nodeValue=n,Ae(f[d])):Me(e.dom,f[d]);f[++d];){if((p=parseInt(Oe(f[d]),10))!==a){d--;break}Me(e.dom,f[d])}o&&s--}else a>c&&f[d].setAttribute("data-mce-index",String(a-1))}return t.set(r(r({},u),{count:i?0:u.count-1,index:s})),o?ze(e,t):Be(e,t),!i&&t.get().count>0},Fe=function(e,t,n){var o,i,a,u=t.get(),c=g.toArray(e.getBody().getElementsByTagName("span"));for(o=0;o<c.length;o++){var s=Oe(c[o]);null!==s&&s.length&&(s===u.index.toString()&&(i||(i=c[o].firstChild),a=c[o].firstChild),Ae(c[o]))}if(t.set(r(r({},u),{index:-1,count:0,text:""})),i&&a){var l=e.dom.createRng();return l.setStart(i,0),l.setEnd(a,a.data.length),!1!==n&&e.selection.setRng(l),l}},je=function(e,t){return t.get().count>1},Ve=function(e,t){return t.get().count>1},Ue=function(e,t){return{done:function(n){return Fe(e,t,n)},find:function(n,r,o,i){return void 0===i&&(i=!1),Ie(e,t,n,r,o,i)},next:function(){return ze(e,t)},prev:function(){return Be(e,t)},replace:function(n,r,o){return He(e,t,n,r,o)}}},qe=function(){var e=t(m.none()),n=function(){e.set(m.none())},r=function(t){e.set(m.some(t))},o=function(t){e.get().each(t)};return{clear:n,set:r,isSet:function(){return e.get().isSome()},on:o}},$e=tinymce.util.Tools.resolve("tinymce.Env"),We=function(e,t){function n(n){(je(e,t)?n.enable:n.disable)("next"),(Ve(e,t)?n.enable:n.disable)("prev")}function o(t){e.windowManager.alert("Could not find the specified string.",function(){t.focus("findtext")})}var i=qe();e.undoManager.add();var a=g.trim(e.selection.getContent({format:"text"})),u=function(e){var n=e.getData(),o=t.get();t.set(r(r({},o),{matchCase:n.matchcase,wholeWord:n.wholewords,inSelection:n.inselection}))},c=function(e,t){var n=["replace","replaceall","prev","next"],r=t?e.disable:e.enable;E(n,r)},s=function(e,t){$e.browser.isSafari()&&$e.deviceType.isTouch()&&("find"===t||"replace"===t||"replaceall"===t)&&e.focus(t)},l=function(r){Fe(e,t,!1),c(r,!0),n(r)},f=function(r){var i=r.getData(),a=t.get();if(!i.findtext.length)return void l(r);if(a.text===i.findtext&&a.matchCase===i.matchcase&&a.wholeWord===i.wholewords)ze(e,t);else{var u=Ie(e,t,i.findtext,i.matchcase,i.wholewords,i.inselection);u<=0&&o(r),c(r,0===u)}n(r)},d=t.get(),m={findtext:a,replacetext:"",wholewords:d.wholeWord,matchcase:d.matchCase,inselection:d.inSelection},p={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace All",disabled:!0}],initialData:m,onChange:function(e,n){"findtext"===n.name&&t.get().count>0&&l(e)},onAction:function(r,o){var i=r.getData();switch(o.name){case"find":f(r);break;case"replace":He(e,t,i.replacetext)?n(r):l(r);break;case"replaceall":He(e,t,i.replacetext,!0,!0),l(r);break;case"prev":Be(e,t),n(r);break;case"next":ze(e,t),n(r);break;case"matchcase":case"wholewords":case"inselection":u(r),l(r)}s(r,o.name)},onSubmit:function(e){f(e),s(e,"find")},onClose:function(){e.focus(),Fe(e,t),e.undoManager.add()}};i.set(e.windowManager.open(p,{inline:"toolbar"}))},Ge=function(e,t){e.addCommand("SearchReplace",function(){We(e,t)})},Ke=function(e,t){return function(){We(e,t)}},Ye=function(e,t){e.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:Ke(e,t),icon:"search"}),e.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:Ke(e,t),icon:"search"}),e.shortcuts.add("Meta+F","",Ke(e,t))};!function(){n.add("searchreplace",function(e){var n=t({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return Ge(e,n),Ye(e,n),Ue(e,n)})}()}(window)},function(e,t,n){n(48)},function(e,t){!function(e){"use strict";function t(e,t){return q.each(t,function(t){e=t.constructor===RegExp?e.replace(t,""):e.replace(t[0],t[1])}),e}function n(e){function n(e){var t=e.name,r=e;if("br"===t)return void(i+="\n");if("wbr"!==t){if(a[t]&&(i+=" "),u[t])return void(i+=" ");if(3===e.type&&(i+=e.value),!e.shortEnded&&(e=e.firstChild))do{n(e)}while(e=e.next);c[t]&&r.next&&(i+="\n","p"===t&&(i+="\n"))}}var r=ae(),o=ne({},r),i="",a=r.getShortEndedElements(),u=q.makeMap("script noscript style textarea video audio iframe object"," "),c=r.getBlockElements();return e=t(e,[/<!\[[^\]]+\]>/g]),n(o.parse(e)),i}function r(e){function n(e,t,n){return t||n?oe:" "}return e=t(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,n],/<br class="Apple-interchange-newline">/g,/<br>$/i])}function o(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)}function i(e){var t,n=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return e=e.replace(/^[\u00a0 ]+/,""),q.each(n,function(n){if(n.test(e))return t=!0,!1}),t}function a(e){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(e)}function u(e){function t(e){var n="";if(3===e.type)return e.value;if(e=e.firstChild)do{n+=t(e)}while(e=e.next);return n}function n(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do{if(!n(e,t))return!1}while(e=e.next);return!0}function r(e){if(e._listIgnore)return void e.remove();if(e=e.firstChild)do{r(e)}while(e=e.next)}function o(e,t,o){var i=e._listLevel||s;i!==s&&(i<s?u&&(u=u.parent.parent):(c=u,u=null)),u&&u.name===t?u.append(e):(c=c||u,u=new ie(t,1),o>1&&u.attr("start",""+o),e.wrap(u)),e.name="li",i>s&&c&&c.lastChild.append(u),s=i,r(e),n(e,/^\u00a0+/),n(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),n(e,/^\u00a0+/)}for(var u,c,s=1,l=[],f=e.firstChild;void 0!==f&&null!==f;)if(l.push(f),null!==(f=f.walk()))for(;void 0!==f&&f.parent!==e;)f=f.walk();for(var d=0;d<l.length;d++)if(e=l[d],"p"===e.name&&e.firstChild){var m=t(e);if(a(m)){o(e,"ul");continue}if(i(m)){var p=/([0-9]+)\./.exec(m),g=1;p&&(g=parseInt(p[1],10)),o(e,"ol",g);continue}if(e._listLevel){o(e,"ul",1);continue}u=null}else c=u,u=null}function c(e,t,n,r){var o,i={},a=e.dom.parseStyle(r);return q.each(a,function(a,u){switch(u){case"mso-list":o=/\w+ \w+([0-9]+)/i.exec(r),o&&(n._listLevel=parseInt(o[1],10)),/Ignore/i.test(a)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":u="text-align";break;case"vert-align":u="vertical-align";break;case"font-color":case"mso-foreground":u="color";break;case"mso-background":case"mso-highlight":u="background";break;case"font-weight":case"font-style":return void("normal"!==a&&(i[u]=a));case"mso-element":if(/^(comment|comment-list)$/i.test(a))return void n.remove()}if(0===u.indexOf("mso-comment"))return void n.remove();0!==u.indexOf("mso-")&&("all"===ve(e)||t&&t[u])&&(i[u]=a)}),/(bold)/i.test(i["font-weight"])&&(delete i["font-weight"],n.wrap(new ie("b",1))),/(italic)/i.test(i["font-style"])&&(delete i["font-style"],n.wrap(new ie("i",1))),(i=e.dom.serializeStyle(i,n.name))||null}function s(e,t){e.on("PastePreProcess",function(n){n.content=t(e,n.content,n.internal,n.wordContent)})}function l(e,t){e.on("PastePostProcess",function(n){t(e,n.node)})}function f(e,n){if(!o(n))return n;var r=[];return q.each(e.schema.getBlockElements(),function(e,t){r.push(t)}),n=t(n,[[new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+r.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g"),"$1"]]),n=t(n,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function d(e,t,n,r){if(r||n)return t;var o,i=de(e);if(!1===me(e)||"all"===i)return t;if(i&&(o=i.split(/[, ]/)),o){var a=e.dom,u=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(e,t,n,r){var i=a.parseStyle(a.decode(n)),c={};if("none"===o)return t+r;for(var s=0;s<o.length;s++){var l=i[o[s]],f=a.getStyle(u,o[s],!0);/color/.test(o[s])&&(l=a.toHex(l),f=a.toHex(f)),f!==l&&(c[o[s]]=l)}return c=a.serializeStyle(c,"span"),c?t+' style="'+c+'"'+r:t+r})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(e,t,n,r){return t+' style="'+n+'"'+r})}function m(e,t){e.$("a",t).find("font,u").each(function(t,n){e.dom.remove(n,!0)})}var p=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},g=tinymce.util.Tools.resolve("tinymce.PluginManager"),h=function(t){return!(!/(^|[ ,])powerpaste([, ]|$)/.test(t.getParam("plugins"))||!g.get("powerpaste"))&&(void 0!==e.window.console&&e.window.console.log&&e.window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0)},v=function(e,t){return{clipboard:e,quirks:t}},b=function(e,t,n,r){return e.fire("PastePreProcess",{content:t,internal:n,wordContent:r})},y=function(e,t,n,r){return e.fire("PastePostProcess",{node:t,internal:n,wordContent:r})},w=function(e,t){return e.fire("PastePlainTextToggle",{state:t})},x=function(e,t){return e.fire("paste",{ieFake:t})},C=function(e,t){"text"===t.pasteFormat.get()?(t.pasteFormat.set("html"),w(e,!1)):(t.pasteFormat.set("text"),w(e,!0)),e.focus()},k=function(e,t){e.addCommand("mceTogglePlainTextPaste",function(){C(e,t)}),e.addCommand("mceInsertClipboardContent",function(e,n){n.content&&t.pasteHtml(n.content,n.internal),n.text&&t.pasteText(n.text)})},S=function(){},T=function(e){return function(){return e}},N=T(!1),E=T(!0),O=function(){return _},_=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:N,isSome:N,isNone:E,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:T(null),getOrUndefined:T(void 0),or:n,orThunk:t,map:O,each:S,bind:O,exists:N,forall:E,filter:O,equals:e,equals_:e,toArray:function(){return[]},toString:T("none()")}}(),A=function(e){var t=T(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:E,isNone:N,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return A(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:_},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(N,function(t){return n(e,t)})}};return o},D=function(e){return null===e||void 0===e?_:A(e)},R={some:A,none:O,from:D},M=function(e){return function(t){return typeof t===e}}("function"),P=Array.prototype.slice,I=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},z=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},B=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},L=function(e,t,n){return z(e,function(e){n=t(n,e)}),n},H=M(Array.from)?Array.from:function(e){return P.call(e)},F=function(){var e=p(R.none()),t=function(){e.set(R.none())},n=function(t){e.set(R.some(t))},r=function(t){e.get().each(t)};return{clear:t,set:n,isSet:function(){return e.get().isSome()},on:r}},j=tinymce.util.Tools.resolve("tinymce.Env"),V=tinymce.util.Tools.resolve("tinymce.util.Delay"),U=tinymce.util.Tools.resolve("tinymce.util.Promise"),q=tinymce.util.Tools.resolve("tinymce.util.Tools"),$=tinymce.util.Tools.resolve("tinymce.util.VK"),W="\x3c!-- x-tinymce/html --\x3e",G=function(e){return W+e},K=function(e){return e.replace(W,"")},Y=function(e){return-1!==e.indexOf(W)},X=tinymce.util.Tools.resolve("tinymce.html.Entities"),J=function(e){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e)},Q=function(e){return e.replace(/\r?\n/g,"<br>")},Z=function(e,t){var n,r=[],o="<"+e;if("object"==typeof t){for(n in t)t.hasOwnProperty(n)&&r.push(n+'="'+X.encodeAllRaw(t[n])+'"');r.length&&(o+=" "+r.join(" "))}return o+">"},ee=function(e,t,n){var r=e.split(/\n\n/),o=Z(t,n),i="</"+t+">",a=q.map(r,function(e){return e.split(/\n/).join("<br />")}),u=function(e){return o+e+i};return 1===a.length?a[0]:q.map(a,u).join("")},te=function(e,t,n){return t?ee(e,!0===t?"p":t,n):Q(e)},ne=tinymce.util.Tools.resolve("tinymce.html.DomParser"),re=tinymce.util.Tools.resolve("tinymce.html.Serializer"),oe=" ",ie=tinymce.util.Tools.resolve("tinymce.html.Node"),ae=tinymce.util.Tools.resolve("tinymce.html.Schema"),ue=function(e){return e.getParam("paste_block_drop",!1)},ce=function(e){return e.getParam("paste_data_images",!1)},se=function(e){return e.getParam("paste_filter_drop",!0)},le=function(e){return e.getParam("paste_preprocess")},fe=function(e){return e.getParam("paste_postprocess")},de=function(e){return e.getParam("paste_webkit_styles")},me=function(e){return e.getParam("paste_remove_styles_if_webkit",!0)},pe=function(e){return e.getParam("paste_merge_formats",!0)},ge=function(e){return e.getParam("smart_paste",!0)},he=function(e){return e.getParam("paste_as_text",!1)},ve=function(e){return e.getParam("paste_retain_style_properties")},be=function(e){return e.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")},ye=function(e){return e.getParam("paste_convert_word_fake_lists",!0)},we=function(e){return e.getParam("paste_enable_default_filters",!0)},xe=function(e){return e.getParam("validate")},Ce=function(e){return e.getParam("allow_html_data_urls",!1,"boolean")},ke=function(e){return e.getParam("paste_data_images",!1,"boolean")},Se=function(e){return e.getParam("images_dataimg_filter")},Te=function(e){return e.getParam("images_reuse_filename")},Ne=function(e){return e.getParam("forced_root_block")},Ee=function(e){return e.getParam("forced_root_block_attrs")},Oe=function(){return-1!==e.navigator.userAgent.indexOf(" Edge/")},_e=function(e,n){var r,o=ve(e);o&&(r=q.makeMap(o.split(/[, ]/))),n=t(n,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,oe],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join(oe):""}]]);var i=be(e),a=ae({valid_elements:i,valid_children:"-li[p]"});q.each(a.elements,function(e){e.attributes.class||(e.attributes.class={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))});var s=ne({},a);s.addAttributeFilter("style",function(t){for(var n,o=t.length;o--;)n=t[o],n.attr("style",c(e,r,n,n.attr("style"))),"span"===n.name&&n.parent&&!n.attributes.length&&n.unwrap()}),s.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)t=e[r],n=t.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)}),s.addNodeFilter("del",function(e){for(var t=e.length;t--;)e[t].remove()}),s.addNodeFilter("a",function(e){for(var t,n,r,o=e.length;o--;)if(t=e[o],n=t.attr("href"),r=t.attr("name"),n&&-1!==n.indexOf("#_msocom_"))t.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1])&&(n="#"+n),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){t.unwrap();continue}t.attr({href:n,name:r})}else t.unwrap()});var l=s.parse(n);return ye(e)&&u(l),n=re({validate:xe(e)},a).serialize(l)},Ae=function(e,t){return we(e)?_e(e,t):t},De=function(e,t){var n=ne({},e.schema);n.addNodeFilter("meta",function(e){q.each(e,function(e){return e.remove()})});var r=n.parse(t,{forced_root_block:!1,isRootContent:!0});return re({validate:xe(e)},e.schema).serialize(r)},Re=function(e,t){return{content:e,cancelled:t}},Me=function(e,t,n,r){var o=e.dom.create("div",{style:"display:none"},t),i=y(e,o,n,r);return Re(i.node.innerHTML,i.isDefaultPrevented())},Pe=function(e,t,n,r){var o=b(e,t,n,r),i=De(e,o.content);return e.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?Me(e,i,n,r):Re(i,o.isDefaultPrevented())},Ie=function(e,t,n){var r=o(t),i=r?Ae(e,t):t;return Pe(e,i,n,r)},ze=function(e,t){return e.insertContent(t,{merge:pe(e),paste:!0}),!0},Be=function(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)},Le=function(e){return Be(e)&&/.(gif|jpe?g|png)$/.test(e)},He=function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.insertContent('<img src="'+t+'">')}),!0},Fe=function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.execCommand("mceInsertLink",!1,t)}),!0},je=function(e,t,n){return!(!1!==e.selection.isCollapsed()||!Be(t))&&Fe(e,t,n)},Ve=function(e,t,n){return!!Le(t)&&He(e,t,n)},Ue=function(e,t){q.each([je,Ve,ze],function(n){return!0!==n(e,t,ze)})},qe=function(e,t,n){n||!1===ge(e)?ze(e,t):Ue(e,t)},$e=function(e){return-1!==" \f\t\v".indexOf(e)},We=function(e){return"\n"===e||"\r"===e},Ge=function(e,t){return t<e.length&&t>=0&&We(e[t])},Ke=function(e){return L(e,function(t,n){return $e(n)||n===oe?t.pcIsSpace||""===t.str||t.str.length===e.length-1||Ge(e,t.str.length+1)?{pcIsSpace:!1,str:t.str+oe}:{pcIsSpace:!0,str:t.str+" "}:{pcIsSpace:We(n),str:t.str+n}},{pcIsSpace:!1,str:""}).str},Ye=function(e,t,n,r){var o=Ie(e,t,n);!1===o.cancelled&&qe(e,o.content,r)},Xe=function(e,t,n){var r=n||Y(t);Ye(e,K(t),r,!1)},Je=function(e,t){var n=e.dom.encode(t).replace(/\r\n/g,"\n"),r=Ke(n),o=te(r,Ne(e),Ee(e));Ye(e,o,!1,!0)},Qe=function(e){var t={};if(e){if(e.getData){var n=e.getData("Text");n&&n.length>0&&-1===n.indexOf("data:text/mce-internal,")&&(t["text/plain"]=n)}if(e.types)for(var r=0;r<e.types.length;r++){var o=e.types[r];try{t[o]=e.getData(o)}catch(e){t[o]=""}}}return t},Ze=function(e,t){var n=Qe(t.clipboardData||e.getDoc().dataTransfer);return Oe()?q.extend(n,{"text/html":""}):n},et=function(e,t){return t in e&&e[t].length>0},tt=function(e){return et(e,"text/html")||et(e,"text/plain")},nt=function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(e);return t?{type:t[1],data:decodeURIComponent(t[2])}:{type:null,data:null}},rt=function(e,t){var n=Se(e);return!n||n(t)},ot=function(e,t){var n=t.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i);return n?e.dom.encode(n[1]):null},it=function(e){var t=0;return function(){return e+t++}}("mceclip"),at=function(t,n){var r=nt(n.uri),o=r.data,i=r.type,a=it(),u=Te(t)&&n.blob.name?ot(t,n.blob.name):a,c=new e.Image;if(c.src=n.uri,rt(t,c)){var s=t.editorUpload.blobCache,l=void 0,f=s.getByData(o,i);f?l=f:(l=s.create(a,n.blob,o,u),s.add(l)),Xe(t,'<img src="'+l.blobUri()+'">',!1)}else Xe(t,'<img src="'+n.uri+'">',!1)},ut=function(e){return"paste"===e.type},ct=function(e){return U.all(I(e,function(e){return new U(function(t){var n=e.getAsFile?e.getAsFile():e,r=new window.FileReader;r.onload=function(){t({blob:n,uri:r.result})},r.readAsDataURL(n)})}))},st=function(e){var t=e.items?I(H(e.items),function(e){return e.getAsFile()}):[],n=e.files?H(e.files):[];return B(t.length>0?t:n,function(e){return/^image\/(jpeg|png|gif|bmp)$/.test(e.type)})},lt=function(e,t,n){var r=ut(t)?t.clipboardData:t.dataTransfer;if(ke(e)&&r){var o=st(r);if(o.length>0)return t.preventDefault(),ct(o).then(function(t){n&&e.selection.setRng(n),z(t,function(t){at(e,t)})}),!0}return!1},ft=function(t){var n=t.clipboardData;return-1!==e.navigator.userAgent.indexOf("Android")&&n&&n.items&&0===n.items.length},dt=function(e){return $.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode},mt=function(t,o,i){function a(e,i,a,u){var c;et(e,"text/html")?c=e["text/html"]:(c=o.getHtml(),u=u||Y(c),o.isDefaultContent(c)&&(a=!0)),c=r(c),o.remove();var s=!1===u&&J(c),l=Le(c);if((!c.length||s&&!l)&&(a=!0),(a||l)&&(c=et(e,"text/plain")&&s?e["text/plain"]:n(c)),o.isDefaultContent(c))return void(i||t.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."));a?Je(t,c):Xe(t,c,u)}var u,c=F();t.on("keydown",function(n){function r(e){dt(e)&&!e.isDefaultPrevented()&&o.remove()}if(dt(n)&&!n.isDefaultPrevented()){if((u=n.shiftKey&&86===n.keyCode)&&j.webkit&&-1!==e.navigator.userAgent.indexOf("Version/"))return;if(n.stopImmediatePropagation(),c.set(n),window.setTimeout(function(){c.clear()},100),j.ie&&u)return n.preventDefault(),void x(t,!0);o.remove(),o.create(),t.once("keyup",r),t.once("paste",function(){t.off("keyup",r)})}});var s=function(){return o.getLastRng()||t.selection.getRng()};t.on("paste",function(e){var n=c.isSet(),r=Ze(t,e),l="text"===i.get()||u,f=et(r,"x-tinymce/html");return u=!1,e.isDefaultPrevented()||ft(e)?void o.remove():!tt(r)&&lt(t,e,s())?void o.remove():(n||e.preventDefault(),!j.ie||n&&!e.ieFake||et(r,"text/html")||(o.create(),t.dom.bind(o.getEl(),"paste",function(e){e.stopPropagation()}),t.getDoc().execCommand("Paste",!1,null),r["text/html"]=o.getHtml()),void(et(r,"text/html")?(e.preventDefault(),f||(f=Y(r["text/html"])),a(r,n,l,f)):V.setEditorTimeout(t,function(){a(r,n,l,f)},0)))})},pt=function(e,t,n){mt(e,t,n);var r;e.parser.addNodeFilter("img",function(t,n,o){var i=function(e){e.attr("data-mce-object")||r===j.transparentSrc||e.remove()};if(!ke(e)&&function(e){return e.data&&!0===e.data.paste}(o))for(var a=t.length;a--;)(r=t[a].attr("src"))&&(!function(e){return 0===e.indexOf("webkit-fake-url")}(r)?!Ce(e)&&function(e){return 0===e.indexOf("data:")}(r)&&i(t[a]):i(t[a]))})},gt=function(t){return j.ie&&t.inline?e.document.body:t.getBody()},ht=function(e){return gt(e)!==e.getBody()},vt=function(e,t,n){ht(e)&&e.dom.bind(t,"paste keyup",function(t){Tt(e,n)||e.fire("paste")})},bt=function(e,t,n){var r=e.dom,o=e.getBody();t.set(e.selection.getRng());var i=e.dom.add(gt(e),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n);(j.ie||j.gecko)&&r.setStyle(i,"left","rtl"===r.getStyle(o,"direction",!0)?65535:-65535),r.bind(i,"beforedeactivate focusin focusout",function(e){e.stopPropagation()}),vt(e,i,n),i.focus(),e.selection.select(i,!0)},yt=function(e,t){if(wt(e)){for(var n=void 0,r=t.get();n=e.dom.get("mcepastebin");)e.dom.remove(n),e.dom.unbind(n);r&&e.selection.setRng(r)}t.set(null)},wt=function(e){return e.dom.get("mcepastebin")},xt=function(e){var t=function(t,n){t.appendChild(n),e.dom.remove(n,!0)},n=q.grep(gt(e).childNodes,function(e){return"mcepastebin"===e.id}),r=n.shift();q.each(n,function(e){t(r,e)});for(var o=e.dom.select("div[id=mcepastebin]",r),i=o.length-1;i>=0;i--){var a=e.dom.create("div");r.insertBefore(a,o[i]),t(a,o[i])}return r?r.innerHTML:""},Ct=function(e){return e.get()},kt=function(e,t){return t===e},St=function(e){return e&&"mcepastebin"===e.id},Tt=function(e,t){var n=wt(e);return St(n)&&kt(t,n.innerHTML)},Nt=function(e){var t=p(null);return{create:function(){return bt(e,t,"%MCEPASTEBIN%")},remove:function(){return yt(e,t)},getEl:function(){return wt(e)},getHtml:function(){return xt(e)},getLastRng:function(){return Ct(t)},isDefault:function(){return Tt(e,"%MCEPASTEBIN%")},isDefaultContent:function(e){return kt("%MCEPASTEBIN%",e)}}},Et=function(e,t){var n=Nt(e);return e.on("PreInit",function(){return pt(e,n,t)}),{pasteFormat:t,pasteHtml:function(t,n){return Xe(e,t,n)},pasteText:function(t){return Je(e,t)},pasteImageData:function(t,n){return lt(e,t,n)},getDataTransferItems:Qe,hasHtmlOrText:tt,hasContentType:et}},Ot=function(e){return!1===j.iOS&&void 0!==e&&"function"==typeof e.setData&&!0!==Oe()},_t=function(e,t,n){if(!Ot(e))return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData("x-tinymce/html",t),!0}catch(e){return!1}},At=function(e,t,n,r){_t(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},Dt=function(e){return function(t,n){var r=G(t),o=e.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),i=e.dom.create("div",{contenteditable:"true"},r);e.dom.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),o.appendChild(i),e.dom.add(e.getBody(),o);var a=e.selection.getRng();i.focus();var u=e.dom.createRng();u.selectNodeContents(i),e.selection.setRng(u),V.setTimeout(function(){e.selection.setRng(a),o.parentNode.removeChild(o),n()},0)}},Rt=function(e){return{html:e.selection.getContent({contextual:!0}),text:e.selection.getContent({format:"text"})}},Mt=function(e){return!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody())},Pt=function(e){return!e.selection.isCollapsed()||Mt(e)},It=function(e){return function(t){Pt(e)&&At(t,Rt(e),Dt(e),function(){if(j.browser.isChrome()){var t=e.selection.getRng();V.setEditorTimeout(e,function(){e.selection.setRng(t),e.execCommand("Delete")},0)}else e.execCommand("Delete")})}},zt=function(e){return function(t){Pt(e)&&At(t,Rt(e),Dt(e),function(){})}},Bt=function(e){e.on("cut",It(e)),e.on("copy",zt(e))},Lt=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Ht=function(e,t){return Lt.getCaretRangeFromPoint(t.clientX,t.clientY,e.getDoc())},Ft=function(e){var t=e["text/plain"];return!!t&&0===t.indexOf("file://")},jt=function(e,t){e.focus(),e.selection.setRng(t)},Vt=function(e,t,n){ue(e)&&e.on("dragend dragover draggesture dragdrop drop drag",function(e){e.preventDefault(),e.stopPropagation()}),ce(e)||e.on("drop",function(e){var t=e.dataTransfer;t&&t.files&&t.files.length>0&&e.preventDefault()}),e.on("drop",function(o){var i=Ht(e,o);if(!o.isDefaultPrevented()&&!n.get()){var a=t.getDataTransferItems(o.dataTransfer),u=t.hasContentType(a,"x-tinymce/html");if((t.hasHtmlOrText(a)&&!Ft(a)||!t.pasteImageData(o,i))&&i&&se(e)){var c=a["mce-internal"]||a["text/html"]||a["text/plain"];c&&(o.preventDefault(),V.setEditorTimeout(e,function(){e.undoManager.transact(function(){a["mce-internal"]&&e.execCommand("Delete"),jt(e,i),c=r(c),a["text/html"]?t.pasteHtml(c,u):t.pasteText(c)})}))}}}),e.on("dragstart",function(e){n.set(!0)}),e.on("dragover dragend",function(t){ce(e)&&!1===n.get()&&(t.preventDefault(),jt(e,Ht(e,t))),"dragend"===t.type&&n.set(!1)})},Ut=function(e){var t=e.plugins.paste,n=le(e);n&&e.on("PastePreProcess",function(e){n.call(t,t,e)});var r=fe(e);r&&e.on("PastePostProcess",function(e){r.call(t,t,e)})},qt=function(e){j.webkit&&s(e,d),j.ie&&(s(e,f),l(e,m))},$t=function(e,t){return function(n){n.setActive("text"===t.pasteFormat.get());var r=function(e){return n.setActive(e.state)};return e.on("PastePlainTextToggle",r),function(){return e.off("PastePlainTextToggle",r)}}},Wt=function(e,t){e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:function(){return e.execCommand("mceTogglePlainTextPaste")},onSetup:$t(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:function(){return e.execCommand("mceTogglePlainTextPaste")},onSetup:$t(e,t)})};!function(){g.add("paste",function(e){if(!1===h(e)){var t=p(!1),n=p(he(e)?"text":"html"),r=Et(e,n),o=qt(e);return Wt(e,r),k(e,r),Ut(e),Bt(e),Vt(e,r,t),v(r,o)}})}()}(window)},function(e,t,n){n(50)},function(e,t){!function(e){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(){},r=function(e){return function(){return e}},o=function(e){return function(t){return!e(t)}},i=r(!1),a=r(!0),u=function(){return c},c=function(){var e=function(e){return e.isNone()},t=function(e){return e()},o=function(e){return e};return{fold:function(e,t){return e()},is:i,isSome:i,isNone:a,getOr:o,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:r(null),getOrUndefined:r(void 0),or:o,orThunk:t,map:u,each:n,bind:u,exists:i,forall:a,filter:u,equals:e,equals_:e,toArray:function(){return[]},toString:r("none()")}}(),s=function(e){var t=r(e),n=function(){return u},o=function(t){return t(e)},u={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:a,isNone:i,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return s(t(e))},each:function(t){t(e)},bind:o,exists:o,forall:o,filter:function(t){return t(e)?u:c},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(i,function(t){return n(e,t)})}};return u},l=function(e){return null===e||void 0===e?c:s(e)},f={some:s,none:u,from:l},d=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},m=function(e){return function(t){return d(t)===e}},p=function(e){return function(t){return typeof t===e}},g=m("string"),h=m("array"),v=p("boolean"),b=p("function"),y=p("number"),w=Array.prototype.slice,x=Array.prototype.push,C=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},k=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},S=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},T=function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var u=e[i],c=t(u);c!==n&&(r.push(o),o=[]),n=c,o.push(u)}return 0!==o.length&&r.push(o),r},N=function(e,t,n){return k(e,function(e){n=t(n,e)}),n},E=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return f.some(i);if(n(i,r))break}return f.none()},O=function(e,t){return E(e,t,i)},_=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!h(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);x.apply(t,e[n])}return t},A=function(e,t){return _(C(e,t))},D=function(e){var t=w.call(e,0);return t.reverse(),t},R=function(e){return 0===e.length?f.none():f.some(e[0])},M=function(e){return 0===e.length?f.none():f.some(e[e.length-1])},P=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},I=function(t,n){return P(t,n,e.Node.DOCUMENT_POSITION_CONTAINED_BY)},z=function(){return z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},z.apply(this,arguments)},B=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},L=function(e,t){var n=B(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return j(r(1),r(2))},H=function(e,t){var n=String(t).toLowerCase();return 0===e.length?F():L(e,n)},F=function(){return j(0,0)},j=function(e,t){return{major:e,minor:t}},V={nu:j,detect:H,unknown:F},U=function(){return q({current:void 0,version:V.unknown()})},q=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r("Edge"),isChrome:r("Chrome"),isIE:r("IE"),isOpera:r("Opera"),isFirefox:r("Firefox"),isSafari:r("Safari")}},$={unknown:U,nu:q,edge:r("Edge"),chrome:r("Chrome"),ie:r("IE"),opera:r("Opera"),firefox:r("Firefox"),safari:r("Safari")},W=function(){return G({current:void 0,version:V.unknown()})},G=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r("Windows"),isiOS:r("iOS"),isAndroid:r("Android"),isOSX:r("OSX"),isLinux:r("Linux"),isSolaris:r("Solaris"),isFreeBSD:r("FreeBSD"),isChromeOS:r("ChromeOS")}},K={unknown:W,nu:G,windows:r("Windows"),ios:r("iOS"),android:r("Android"),linux:r("Linux"),osx:r("OSX"),solaris:r("Solaris"),freebsd:r("FreeBSD"),chromeos:r("ChromeOS")},Y=function(e,t,n,o){var i=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!i,u=e.isiOS()||e.isAndroid(),c=u||o("(pointer:coarse)"),s=i||!a&&u&&o("(min-device-width:768px)"),l=a||u&&!s,f=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!l&&!s&&!f;return{isiPad:r(i),isiPhone:r(a),isTablet:r(s),isPhone:r(l),isTouch:r(c),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:r(f),isDesktop:r(d)}},X=function(e,t){var n=String(t).toLowerCase();return O(e,function(e){return e.search(n)})},J=function(e,t){return X(e,t).map(function(e){var n=V.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Q=function(e,t){return X(e,t).map(function(e){var n=V.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Z={detectBrowser:J,detectOs:Q},ee=function(e,t){return-1!==e.indexOf(t)},te=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ne=function(e){return function(t){return ee(t,e)}},re=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return ee(e,"edge/")&&ee(e,"chrome")&&ee(e,"safari")&&ee(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,te],search:function(e){return ee(e,"chrome")&&!ee(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return ee(e,"msie")||ee(e,"trident")}},{name:"Opera",versionRegexes:[te,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ne("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ne("firefox")},{name:"Safari",versionRegexes:[te,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(ee(e,"safari")||ee(e,"mobile/"))&&ee(e,"applewebkit")}}],oe=[{name:"Windows",search:ne("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return ee(e,"iphone")||ee(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ne("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ne("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ne("linux"),versionRegexes:[]},{name:"Solaris",search:ne("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ne("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ne("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ie={browsers:r(re),oses:r(oe)},ae=function(e,t){var n=ie.browsers(),r=ie.oses(),o=Z.detectBrowser(n,e).fold($.unknown,$.nu),i=Z.detectOs(r,e).fold(K.unknown,K.nu);return{browser:o,os:i,deviceType:Y(i,o,e,t)}},ue={detect:ae},ce=function(t){return e.window.matchMedia(t).matches},se=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}}(function(){return ue.detect(e.navigator.userAgent,ce)}),le=function(){return se()},fe=function(t,n){var r=n||e.document,o=r.createElement("div");if(o.innerHTML=t,!o.hasChildNodes()||o.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return pe(o.childNodes[0])},de=function(t,n){var r=n||e.document,o=r.createElement(t);return pe(o)},me=function(t,n){var r=n||e.document,o=r.createTextNode(t);return pe(o)},pe=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:r(e)}},ge=function(e,t,n){var r=e.dom();return f.from(r.elementFromPoint(t,n)).map(pe)},he={fromHtml:fe,fromTag:de,fromText:me,fromDom:pe,fromPoint:ge},ve=function(e,t){var n=e.dom();if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},be=function(e,t){return e.dom()===t.dom()},ye=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},we=function(e,t){return I(e.dom(),t.dom())},xe=function(e,t){return le().browser.isIE()?we(e,t):ye(e,t)},Ce=ve,ke=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Se=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Te=tinymce.util.Tools.resolve("tinymce.util.VK"),Ne=function(e,t,n){return e.isSome()&&t.isSome()?f.some(n(e.getOrDie(),t.getOrDie())):f.none()},Ee=function(t,n){var r=n||e.document,o=r.createDocumentFragment();return k(t,function(e){o.appendChild(e.dom())}),he.fromDom(o)},Oe=(void 0!==e.window?e.window:Function("return this;")(),function(e){return e.dom().nodeName.toLowerCase()}),_e=function(e){return e.dom().nodeType},Ae=function(e){return function(t){return _e(t)===e}}(1),De=function(e){return f.from(e.dom().parentNode).map(he.fromDom)},Re=function(e){return C(e.dom().childNodes,he.fromDom)},Me=function(e,t){var n=e.dom().childNodes;return f.from(n[t]).map(he.fromDom)},Pe=function(e){return Me(e,0)},Ie=function(e){return Me(e,e.dom().childNodes.length-1)},ze=function(e,t){De(e).each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},Be=function(e,t){e.dom().appendChild(t.dom())},Le=function(e,t){k(t,function(t){ze(e,t)})},He=function(e,t){k(t,function(t){Be(e,t)})},Fe=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},je=function(e,t,n){return e.fire("ListMutation",{action:t,element:n})},Ve=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Ue=tinymce.util.Tools.resolve("tinymce.util.Tools"),qe=function(e){return function(t){return t&&t.nodeName.toLowerCase()===e}},$e=function(e){return function(t){return t&&e.test(t.nodeName)}},We=function(e){return e&&3===e.nodeType},Ge=$e(/^(OL|UL|DL)$/),Ke=$e(/^(OL|UL)$/),Ye=qe("ol"),Xe=$e(/^(LI|DT|DD)$/),Je=$e(/^(DT|DD)$/),Qe=$e(/^(TH|TD)$/),Ze=qe("br"),et=function(e){return e.parentNode.firstChild===e},tt=function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},nt=function(e,t){return e&&e.nodeName in t},rt=function(e,t){return!!Ze(t)&&!(!e.isBlock(t.nextSibling)||Ze(t.previousSibling))},ot=function(e,t,n){var r=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&r},it=function(e,t){return e.isChildOf(t,e.getRoot())},at=function(e,t){var n=t||e.selection.getStart(!0);return e.dom.getParent(n,"OL,UL,DL",mt(e,n))},ut=function(e,t){return e&&1===t.length&&t[0]===e},ct=function(e){return Ue.grep(e.querySelectorAll("ol,ul,dl"),function(e){return Ge(e)})},st=function(e){var t=at(e),n=e.selection.getSelectedBlocks();return ut(t,n)?ct(t):Ue.grep(n,function(e){return Ge(e)&&t!==e})},lt=function(e,t){var n=Ue.map(t,function(t){var n=e.dom.getParent(t,"li,dd,dt",mt(e,t));return n||t});return Ve.unique(n)},ft=function(e){var t=e.selection.getSelectedBlocks();return Ue.grep(lt(e,t),function(e){return Xe(e)})},dt=function(e){return S(ft(e),Je)},mt=function(e,t){var n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()},pt=function(e,t){var n=e.dom.getParents(t,"ol,ul",mt(e,t));return M(n)},gt=function(e){var t=pt(e,e.selection.getStart()),n=S(e.selection.getSelectedBlocks(),Ke);return t.toArray().concat(n)},ht=function(e){var t=gt(e);return vt(e,t)},vt=function(e,t){var n=C(t,function(t){return pt(e,t).getOr(t)});return Ve.unique(n)},bt=function(e){return e.getParam("lists_indent_on_tab",!0)},yt=function(e){var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t},wt=function(e){return e.getParam("forced_root_block_attrs",{})},xt=function(e,t){var n,r,o,i=e.dom,a=e.schema.getBlockElements(),u=i.createFragment(),c=yt(e);if(c&&(r=i.create(c),r.tagName===c.toUpperCase()&&i.setAttribs(r,wt(e)),nt(t.firstChild,a)||u.appendChild(r)),t)for(;n=t.firstChild;){var s=n.nodeName;o||"SPAN"===s&&"bookmark"===n.getAttribute("data-mce-type")||(o=!0),nt(n,a)?(u.appendChild(n),r=null):c?(r||(r=i.create(c),u.appendChild(r)),r.appendChild(n)):u.appendChild(n)}return c?o||r.appendChild(i.create("br",{"data-mce-bogus":"1"})):u.appendChild(i.create("br")),u},Ct=Object.keys,kt=function(e,t){for(var n=Ct(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},St=function(e){return function(t,n){e[n]=t}},Tt=function(e,t,n,r){var o={};return kt(e,function(e,o){(t(e,o)?n:r)(e,o)}),o},Nt=function(e,t){var r={};return Tt(e,t,St(r),n),r},Et=function(t,n,r){if(!(g(r)||v(r)||y(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")},Ot=function(e,t){var n=e.dom();kt(t,function(e,t){Et(n,t,e)})},_t=function(e){return N(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},At=function(e){return void 0!==e.style&&b(e.style.getPropertyValue)},Dt=(b(e.Element.prototype.attachShadow)&&b(e.Node.prototype.getRootNode),function(t,n,r){if(!g(r))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new Error("CSS value must be a string: "+r);At(t)&&t.style.setProperty(n,r)}),Rt=function(e,t,n){var r=e.dom();Dt(r,t,n)},Mt=function(e,t){return he.fromDom(e.dom().cloneNode(t))},Pt=function(e){return Mt(e,!0)},It=function(e,t){var n=he.fromTag(t),r=_t(e);return Ot(n,r),n},zt=function(e,t){var n=It(e,t);ze(e,n);var r=Re(e);return He(n,r),Fe(e),n},Bt=function(e,t){Be(e.item,t.list)},Lt=function(e){for(var t=1;t<e.length;t++)Bt(e[t-1],e[t])},Ht=function(e,t){Ne(M(e),R(t),Bt)},Ft=function(e,t){var n={list:he.fromTag(t,e),item:he.fromTag("li",e)};return Be(n.list,n.item),n},jt=function(e,t,n){for(var r=[],o=0;o<n;o++)r.push(Ft(e,t.listType));return r},Vt=function(e,t){for(var n=0;n<e.length-1;n++)Rt(e[n].item,"list-style-type","none");M(e).each(function(e){Ot(e.list,t.listAttributes),Ot(e.item,t.itemAttributes),He(e.item,t.content)})},Ut=function(e,t){Oe(e.list)!==t.listType&&(e.list=zt(e.list,t.listType)),Ot(e.list,t.listAttributes)},qt=function(e,t,n){var r=he.fromTag("li",e);return Ot(r,t),He(r,n),r},$t=function(e,t){Be(e.list,t),e.item=t},Wt=function(e,t,n){var r=t.slice(0,n.depth);return M(r).each(function(t){var r=qt(e,n.itemAttributes,n.content);$t(t,r),Ut(t,n)}),r},Gt=function(e,t,n){var r=jt(e,n,n.depth-t.length);return Lt(r),Vt(r,n),Ht(t,r),t.concat(r)},Kt=function(e,t){var n=N(t,function(t,n){return n.depth>t.length?Gt(e,t,n):Wt(e,t,n)},[]);return R(n).map(function(e){return e.list})},Yt=function(e){return Ce(e,"OL,UL")},Xt=function(e){return Pe(e).map(Yt).getOr(!1)},Jt=function(e){return Ie(e).map(Yt).getOr(!1)},Qt=function(e){return e.depth>0},Zt=function(e){return e.isSelected},en=function(e){var t=Re(e),n=Jt(e)?t.slice(0,-1):t;return C(n,Pt)},tn=function(e,t,n){return De(e).filter(Ae).map(function(r){return{depth:t,dirty:!1,isSelected:n,content:en(e),itemAttributes:_t(e),listAttributes:_t(r),listType:Oe(r)}})},nn=function(e,t){switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0},rn=function(e,t){e.listType=t.listType,e.listAttributes=z({},t.listAttributes)},on=function(e){e.listAttributes=Nt(e.listAttributes,function(e,t){return"start"!==t})},an=function(e,t){var n=e[t].depth,r=function(e){return e.depth===n&&!e.dirty},o=function(e){return e.depth<n};return E(D(e.slice(0,t)),r,o).orThunk(function(){return E(e.slice(t+1),r,o)})},un=function(e){return k(e,function(t,n){an(e,n).fold(function(){t.dirty&&on(t)},function(e){return rn(t,e)})}),e},cn=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},sn=function(e,t,n,r){return Pe(r).filter(Yt).fold(function(){t.each(function(e){be(e.start,r)&&n.set(!0)});var o=tn(r,e,n.get());t.each(function(e){be(e.end,r)&&n.set(!1)});var i=Ie(r).filter(Yt).map(function(r){return ln(e,t,n,r)}).getOr([]);return o.toArray().concat(i)},function(r){return ln(e,t,n,r)})},ln=function(e,t,n,r){return A(Re(r),function(r){return(Yt(r)?ln:sn)(e+1,t,n,r)})},fn=function(e,t){var n=cn(!1);return C(e,function(e){return{sourceList:e,entries:ln(0,t,n,e)}})},dn=function(e,t){var n=un(t);return C(n,function(t){var n=Ee(t.content);return he.fromDom(xt(e,n.dom()))})},mn=function(e,t){var n=un(t);return Kt(e.contentDocument,n).toArray()},pn=function(e,t){return A(T(t,Qt),function(t){return R(t).map(Qt).getOr(!1)?mn(e,t):dn(e,t)})},gn=function(e,t){k(S(e,Zt),function(e){return nn(t,e)})},hn=function(e){var t=C(ft(e),he.fromDom);return Ne(O(t,o(Xt)),O(D(t),o(Xt)),function(e,t){return{start:e,end:t}})},vn=function(e,t,n){var r=fn(t,hn(e));k(r,function(t){gn(t.entries,n);var r=pn(e,t.entries);k(r,function(t){je(e,"Indent"===n?"IndentList":"OutdentList",t.dom())}),Le(t.sourceList,r),Fe(t.sourceList)})},bn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),yn=bn.DOM,wn=function(e,t,n){var r=yn.select('span[data-mce-type="bookmark"]',t),o=xt(e,n),i=yn.createRng();i.setStartAfter(n),i.setEndAfter(t);for(var a=i.extractContents(),u=a.firstChild;u;u=u.firstChild)if("LI"===u.nodeName&&e.dom.isEmpty(u)){yn.remove(u);break}e.dom.isEmpty(a)||yn.insertAfter(a,t),yn.insertAfter(o,t),ot(e.dom,n.parentNode)&&function(e){Ue.each(r,function(t){e.parentNode.insertBefore(t,n.parentNode)}),yn.remove(e)}(n.parentNode),yn.remove(n),ot(e.dom,t)&&yn.remove(t)},xn=function(e,t){Ce(t,"dd")?zt(t,"dt"):Ce(t,"dt")&&De(t).each(function(n){return wn(e,n.dom(),t.dom())})},Cn=function(e){Ce(e,"dt")&&zt(e,"dd")},kn=function(e,t,n){"Indent"===t?k(n,Cn):k(n,function(t){return xn(e,t)})},Sn=function(e,t){if(We(e))return{container:e,offset:t};var n=ke.getNode(e,t);return We(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&We(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&We(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},Tn=function(e){var t=e.cloneRange(),n=Sn(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);var r=Sn(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},Nn=function(e,t){var n=C(ht(e),he.fromDom),r=C(dt(e),he.fromDom),o=!1;if(n.length||r.length){var i=e.selection.getBookmark();vn(e,n,t),kn(e,t,r),e.selection.moveToBookmark(i),e.selection.setRng(Tn(e.selection.getRng())),e.nodeChanged(),o=!0}return o},En=function(e){return Nn(e,"Indent")},On=function(e){return Nn(e,"Outdent")},_n=function(e){return Nn(e,"Flatten")},An=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Dn=bn.DOM,Rn=function(e){var t={},n=function(n){var r,o,i;o=e[n?"startContainer":"endContainer"],i=e[n?"startOffset":"endOffset"],1===o.nodeType&&(r=Dn.create("span",{"data-mce-type":"bookmark"}),o.hasChildNodes()?(i=Math.min(i,o.childNodes.length-1),n?o.insertBefore(r,o.childNodes[i]):Dn.insertAfter(r,o.childNodes[i])):o.appendChild(r),o=r,i=0),t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=i};return n(!0),e.collapsed||n(),t},Mn=function(e){function t(t){var n,r,o;n=o=e[t?"startContainer":"endContainer"],r=e[t?"startOffset":"endOffset"],n&&(1===n.nodeType&&(r=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1}(n),n=n.parentNode,Dn.remove(o),!n.hasChildNodes()&&Dn.isBlock(n)&&n.appendChild(Dn.create("br"))),e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=r)}t(!0),t();var n=Dn.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),Tn(n)},Pn=function(e){switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},In=function(e){return/\btox\-/.test(e.className)},zn=function(e,t,n){return function(){var r=function(e){var r=E(e.parents,Ge,Qe).filter(function(e){return e.nodeName===t&&!In(e)}).isSome();n(r)};return e.on("NodeChange",r),function(){return e.off("NodeChange",r)}}},Bn=function(e,t,n){var r=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",r)},Ln=function(e,t){Ue.each(t,function(t,n){e.setAttribute(n,t)})},Hn=function(e,t,n){Ln(t,n["list-attributes"]),Ue.each(e.select("li",t),function(e){Ln(e,n["list-item-attributes"])})},Fn=function(e,t,n){Bn(e,t,n),Hn(e,t,n)},jn=function(e,t,n){Ue.each(n,function(n){var r;return e.setStyle(t,(r={},r[n]="",r))})},Vn=function(e,t,n,r){var o=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"];for(1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!n&&Ze(o.nextSibling)&&(o=o.nextSibling);o.parentNode!==r;){if(tt(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o},Un=function(e,t,n){for(var r,o=[],i=e.dom,a=Vn(e,t,!0,n),u=Vn(e,t,!1,n),c=[],s=a;s&&(c.push(s),s!==u);s=s.nextSibling);return Ue.each(c,function(t){if(tt(e,t))return o.push(t),void(r=null);if(i.isBlock(t)||Ze(t))return Ze(t)&&i.remove(t),void(r=null);var a=t.nextSibling;if(An.isBookmarkNode(t)&&(tt(e,a)||!a&&t.parentNode===n))return void(r=null);r||(r=i.create("p"),t.parentNode.insertBefore(r,t),o.push(r)),r.appendChild(t)}),o},qn=function(e,t,n){var r=e.getStyle(t,"list-style-type"),o=n?n["list-style-type"]:"";return o=null===o?"":o,r===o},$n=function(e,t,n){void 0===n&&(n={});var r=e.selection.getRng(),o="LI",i=mt(e,e.selection.getStart(!0)),a=e.dom;if("false"!==a.getContentEditable(e.selection.getNode())){t=t.toUpperCase(),"DL"===t&&(o="DT");var u=Rn(r);Ue.each(Un(e,r,i),function(r){var i,u=r.previousSibling;u&&Ge(u)&&u.nodeName===t&&qn(a,u,n)?(i=u,r=a.rename(r,o),u.appendChild(r)):(i=a.create(t),r.parentNode.insertBefore(i,r),i.appendChild(r),r=a.rename(r,o)),jn(a,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Fn(a,i,n),Xn(e.dom,i)}),e.selection.setRng(Mn(u))}},Wn=function(e,t){return e&&t&&Ge(e)&&e.nodeName===t.nodeName},Gn=function(e,t,n){return e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0)},Kn=function(e,t){return e.className===t.className},Yn=function(e,t,n){return Wn(t,n)&&Gn(e,t,n)&&Kn(t,n)},Xn=function(e,t){var n,r;if(n=t.nextSibling,Yn(e,t,n)){for(;r=n.firstChild;)t.appendChild(r);e.remove(n)}if(n=t.previousSibling,Yn(e,t,n)){for(;r=n.lastChild;)t.insertBefore(r,t.firstChild);e.remove(n)}},Jn=function(e,t,n,r){if(t.nodeName!==n){var o=e.dom.rename(t,n);Fn(e.dom,o,r),je(e,Pn(n),o)}else Fn(e.dom,t,r),je(e,Pn(n),t)},Qn=function(e,t,n,r,o){if(t.nodeName!==r||Zn(o)){var i=Rn(e.selection.getRng(!0));Ue.each([t].concat(n),function(t){Jn(e,t,r,o)}),e.selection.setRng(Mn(i))}else _n(e)},Zn=function(e){return"list-style-type"in e},er=function(e,t,n,r){if(t!==e.getBody())if(t)if(t.nodeName!==n||Zn(r)||In(t)){var o=Rn(e.selection.getRng(!0));Fn(e.dom,t,r);var i=e.dom.rename(t,n);Xn(e.dom,i),e.selection.setRng(Mn(o)),je(e,Pn(n),i)}else _n(e);else $n(e,n,r),je(e,Pn(n),t)},tr=function(e,t,n){var r=at(e),o=st(e);n=n||{},r&&o.length>0?Qn(e,r,o,t,n):er(e,r,t,n)},nr=bn.DOM,rr=function(e,t){var n,r=t.parentNode;"LI"===r.nodeName&&r.firstChild===t&&(n=r.previousSibling,n&&"LI"===n.nodeName?(n.appendChild(t),ot(e,r)&&nr.remove(r)):nr.setStyle(r,"listStyleType","none")),Ge(r)&&(n=r.previousSibling)&&"LI"===n.nodeName&&n.appendChild(t)},or=function(e,t){Ue.each(Ue.grep(e.select("ol,ul",t)),function(t){rr(e,t)})},ir=function(e,t,n,r){var o=t.startContainer,i=t.startOffset;if(We(o)&&(n?i<o.data.length:i>0))return o;var a=e.schema.getNonEmptyElements();1===o.nodeType&&(o=ke.getNode(o,i));var u=new Se(o,r);for(n&&rt(e.dom,o)&&u.next();o=u[n?"next":"prev2"]();){if("LI"===o.nodeName&&!o.hasChildNodes())return o;if(a[o.nodeName])return o;if(We(o)&&o.data.length>0)return o}},ar=function(e,t){var n=t.childNodes;return 1===n.length&&!Ge(n[0])&&e.isBlock(n[0])},ur=function(e,t){ar(e,t)&&e.remove(t.firstChild,!0)},cr=function(e,t,n){var r,o=ar(e,n)?n.firstChild:n;if(ur(e,t),!ot(e,t,!0))for(;r=t.firstChild;)o.appendChild(r)},sr=function(e,t,n){var r,o=t.parentNode;if(it(e,t)&&it(e,n)){Ge(n.lastChild)&&(r=n.lastChild),o===n.lastChild&&Ze(o.previousSibling)&&e.remove(o.previousSibling);var i=n.lastChild;i&&Ze(i)&&t.hasChildNodes()&&e.remove(i),ot(e,n,!0)&&e.$(n).empty(),cr(e,t,n),r&&n.appendChild(r);var a=xe(he.fromDom(n),he.fromDom(t)),u=a?e.getParents(t,Ge,n):[];e.remove(t),k(u,function(t){ot(e,t)&&t!==e.getRoot()&&e.remove(t)})}},lr=function(e,t,n){e.dom.$(n).empty(),sr(e.dom,t,n),e.selection.setCursorLocation(n)},fr=function(e,t,n,r){var o=e.dom;if(o.isEmpty(r))lr(e,n,r);else{var i=Rn(t);sr(o,n,r),e.selection.setRng(Mn(i))}},dr=function(e,t,n,r){var o=Rn(t);sr(e.dom,n,r);var i=Mn(o);e.selection.setRng(i)},mr=function(e,t){var n=e.dom,r=e.selection,o=r.getStart(),i=mt(e,o),a=n.getParent(r.getStart(),"LI",i);if(a){var u=a.parentNode;if(u===e.getBody()&&ot(n,u))return!0;var c=Tn(r.getRng()),s=n.getParent(ir(e,c,t,i),"LI",i);if(s&&s!==a)return e.undoManager.transact(function(){t?fr(e,c,s,a):et(a)?On(e):dr(e,c,a,s)}),!0;if(!s&&!t&&0===c.startOffset&&0===c.endOffset)return e.undoManager.transact(function(){_n(e)}),!0}return!1},pr=function(e,t,n){var r=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),r&&e.isEmpty(r)&&e.remove(r)},gr=function(e,t){var n=e.dom,r=e.selection.getStart(),o=mt(e,r),i=n.getParent(r,n.isBlock,o);if(i&&n.isEmpty(i)){var a=Tn(e.selection.getRng()),u=n.getParent(ir(e,a,t,o),"LI",o);if(u)return e.undoManager.transact(function(){pr(n,i,o),Xn(n,u.parentNode),e.selection.select(u,!0),e.selection.collapse(t)}),!0}return!1},hr=function(e,t){return mr(e,t)||gr(e,t)},vr=function(e){var t=e.selection.getStart(),n=mt(e,t);return!!(e.dom.getParent(t,"LI,DT,DD",n)||ft(e).length>0)&&(e.undoManager.transact(function(){e.execCommand("Delete"),or(e.dom,e.getBody())}),!0)},br=function(e,t){return e.selection.isCollapsed()?hr(e,t):vr(e)},yr=function(e){e.on("keydown",function(t){t.keyCode===Te.BACKSPACE?br(e,!1)&&t.preventDefault():t.keyCode===Te.DELETE&&br(e,!0)&&t.preventDefault()})},wr=function(e){return{backspaceDelete:function(t){br(e,t)}}},xr=function(e){var t=e.dom,n=at(e);Ye(n)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:t.getAttrib(n,"start")||"1"},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(n){var r=n.getData();e.undoManager.transact(function(){t.setAttrib(at(e),"start","1"===r.start?"":r.start)}),n.close()}})},Cr=function(e,t){return function(){var n=e.dom.getParent(e.selection.getStart(),"UL,OL,DL");return n&&n.nodeName===t}},kr=function(e){e.on("BeforeExecCommand",function(t){var n=t.command.toLowerCase();"indent"===n?En(e):"outdent"===n&&On(e)}),e.addCommand("InsertUnorderedList",function(t,n){tr(e,"UL",n)}),e.addCommand("InsertOrderedList",function(t,n){tr(e,"OL",n)}),e.addCommand("InsertDefinitionList",function(t,n){tr(e,"DL",n)}),e.addCommand("RemoveList",function(){_n(e)}),e.addCommand("mceListProps",function(){xr(e)}),e.addQueryStateHandler("InsertUnorderedList",Cr(e,"UL")),e.addQueryStateHandler("InsertOrderedList",Cr(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",Cr(e,"DL"))},Sr=function(e){return!(!/(^|[ ,])rtc([, ]|$)/.test(e.getParam("plugins","","string"))||!t.get("rtc"))},Tr=function(e){e.on("keydown",function(t){t.keyCode!==Te.TAB||Te.metaKeyPressed(t)||e.undoManager.transact(function(){(t.shiftKey?On(e):En(e))&&t.preventDefault()})})},Nr=function(e){bt(e)&&Tr(e),yr(e)},Er=function(e){var t=function(t){return function(){return e.execCommand(t)}};(function(e,t){var n=e.getParam("plugins","","string");return-1!==Ue.inArray(n.split(/[ ,]/),t)})(e,"advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:function(t){return zn(e,"OL",t.setActive)}}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:function(t){return zn(e,"UL",t.setActive)}}))},Or=function(e){var t={text:"List properties...",icon:"ordered-list",onAction:function(){return xr(e)},onSetup:function(t){return zn(e,"OL",function(e){return t.setDisabled(!e)})}};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:function(t){var n=at(e,t);return Ye(n)?["listprops"]:[]}})};!function(){t.add("lists",function(e){return!1===Sr(e)&&(Nr(e),kr(e)),Er(e),Or(e),wr(e)})}()}(window)},function(e,t,n){n(52)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.util.Tools"),n=function(e,t,n){var r="UL"===t?"InsertUnorderedList":"InsertOrderedList";e.execCommand(r,!1,!1===n?null:{"list-style-type":n})},r=function(e){e.addCommand("ApplyUnorderedListStyle",function(t,r){n(e,"UL",r["list-style-type"])}),e.addCommand("ApplyOrderedListStyle",function(t,r){n(e,"OL",r["list-style-type"])})},o=function(e){var t=e.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return t?t.split(/[ ,]/):[]},i=function(e){var t=e.getParam("advlist_bullet_styles","default,circle,square");return t?t.split(/[ ,]/):[]},a=function(){},u=function(e){return function(){return e}},c=u(!1),s=u(!0),l=function(){return f},f=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:c,isSome:c,isNone:s,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(void 0),or:n,orThunk:t,map:l,each:a,bind:l,exists:c,forall:s,filter:l,equals:e,equals_:e,toArray:function(){return[]},toString:u("none()")}}(),d=function(e){var t=u(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:s,isNone:c,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return d(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:f},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(c,function(t){return n(e,t)})}};return o},m=function(e){return null===e||void 0===e?f:d(e)},p={some:d,none:l,from:m},g=function(e,t){return e.$.contains(e.getBody(),t)},h=function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},v=function(e){return function(t){return t&&/^(OL|UL|DL)$/.test(t.nodeName)&&g(e,t)}},b=function(e){var t=e.dom.getParent(e.selection.getNode(),"ol,ul"),n=e.dom.getStyle(t,"listStyleType");return p.from(n)},y=function(e,t){for(var n=0;n<e.length;n++){if(t(e[n]))return n}return-1},w=function(e){return e.replace(/\-/g," ").replace(/\b\w/g,function(e){return e.toUpperCase()})},x=function(e,n,r){var o=y(n.parents,h),i=-1!==o?n.parents.slice(0,o):n.parents,a=t.grep(i,v(e));return a.length>0&&a[0].nodeName===r},C=function(e,r,o,i,a,u){e.ui.registry.addSplitButton(r,{tooltip:o,icon:"OL"===a?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(e){e(t.map(u,function(e){var t="OL"===a?"num":"bull",n="disc"===e||"decimal"===e?"default":e;return{type:"choiceitem",value:"default"===e?"":e,icon:"list-"+t+"-"+n,text:w(e)}}))},onAction:function(){return e.execCommand(i)},onItemAction:function(t,r){n(e,a,r)},select:function(t){return b(e).map(function(e){return t===e}).getOr(!1)},onSetup:function(t){var n=function(n){t.setActive(x(e,n,a))};return e.on("NodeChange",n),function(){return e.off("NodeChange",n)}}})},k=function(e,t,n,r,o,i){e.ui.registry.addToggleButton(t,{active:!1,tooltip:n,icon:"OL"===o?"ordered-list":"unordered-list",onSetup:function(t){var n=function(n){t.setActive(x(e,n,o))};return e.on("NodeChange",n),function(){return e.off("NodeChange",n)}},onAction:function(){return e.execCommand(r)}})},S=function(e,t,n,r,o,i){i.length>1?C(e,t,n,r,o,i):k(e,t,n,r,o)},T=function(e){S(e,"numlist","Numbered list","InsertOrderedList","OL",o(e)),S(e,"bullist","Bullet list","InsertUnorderedList","UL",i(e))};!function(){e.add("advlist",function(e){(function(e,n){return-1!==t.inArray(e.getParam("plugins","","string").split(/[ ,]/),n)})(e,"lists")&&(T(e),r(e))})}()}()},function(e,t,n){n(54)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e,t){e.focus(),e.undoManager.transact(function(){e.setContent(t)}),e.selection.setCursorLocation(),e.nodeChanged()},n=function(e){return e.getContent({source_view:!0})},r=function(e){var r=n(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:r},onSubmit:function(n){t(e,n.getData().code),n.close()}})},o=function(e){e.addCommand("mceCodeEditor",function(){r(e)})},i=function(e){e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:function(){return r(e)}}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:function(){return r(e)}})};!function(){e.add("code",function(e){return o(e),i(e),{}})}()}()},function(e,t,n){n(56)},function(e,t){!function(e){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e,t){return e.fire("insertCustomChar",{chr:t})},r=function(e,t){var r=n(e,t).chr;e.execCommand("mceInsertContent",!1,r)},o=tinymce.util.Tools.resolve("tinymce.util.Tools"),i=function(e){return e.getParam("charmap")},a=function(e){return e.getParam("charmap_append")},u=function(){},c=function(e){return function(){return e}},s=c(!1),l=c(!0),f=function(){return d},d=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:s,isSome:s,isNone:l,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:c(null),getOrUndefined:c(void 0),or:n,orThunk:t,map:f,each:u,bind:f,exists:s,forall:l,filter:f,equals:e,equals_:e,toArray:function(){return[]},toString:c("none()")}}(),m=function(e){var t=c(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:l,isNone:s,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return m(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:d},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(s,function(t){return n(e,t)})}};return o},p=function(e){return null===e||void 0===e?d:m(e)},g={some:m,none:f,from:p},h=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},v=function(e){return function(t){return h(t)===e}}("array"),b=Array.prototype.push,y=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},w=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},x=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return g.some(i);if(n(i,r))break}return g.none()},C=function(e,t){return x(e,t,s)},k=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!v(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);b.apply(t,e[n])}return t},S=function(e,t){return k(y(e,t))},T=o.isArray,N=function(){return[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}]},E=function(e){return o.grep(e,function(e){return T(e)&&2===e.length})},O=function(e){return T(e)?[].concat(E(e)):"function"==typeof e?e():[]},_=function(e,t){var n=i(e);n&&(t=[{name:"User Defined",characters:O(n)}]);var r=a(e);if(r){var u=o.grep(t,function(e){return"User Defined"===e.name});return u.length?(u[0].characters=[].concat(u[0].characters).concat(O(r)),t):[].concat(t).concat({name:"User Defined",characters:O(r)})}return t},A=function(e){var t=_(e,N());return t.length>1?[{name:"All",characters:S(t,function(e){return e.characters})}].concat(t):t},D=function(e){return{getCharMap:function(){return A(e)},insertChar:function(t){r(e,t)}}},R=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},M=function(t,n){var r=null;return{cancel:function(){null!==r&&(e.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null!==r&&e.clearTimeout(r),r=e.setTimeout(function(){t.apply(null,o),r=null},n)}}},P=String.fromCodePoint,I=function(e,t){return-1!==e.indexOf(t)},z=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(P)return P.apply(void 0,e);for(var n=[],r=0,o="",i=0,a=e.length;i!==a;++i){var u=+e[i];if(!(u<1114111&&u>>>0===u))throw RangeError("Invalid code point: "+u);u<=65535?r=n.push(u):(u-=65536,r=n.push(55296+(u>>10),u%1024+56320)),r>=16383&&(o+=String.fromCharCode.apply(null,n),n.length=0)}return o+String.fromCharCode.apply(null,n)},B=function(e,t,n){return!!I(z(e).toLowerCase(),n)||(I(t.toLowerCase(),n)||I(t.toLowerCase().replace(/\s+/g,""),n))},L=function(e,t){var n=[],r=t.toLowerCase();return w(e.characters,function(e){B(e[0],e[1],r)&&n.push(e)}),y(n,function(e){return{text:e[1],value:z(e[0]),icon:z(e[0])}})},H=function(e,t){var n=function(){return[{label:"Search",type:"input",name:"pattern"},{type:"collection",name:"results"}]},o=function(){return y(t,function(e){return{title:e.name,name:e.name,items:n()}})},i=R(1===t.length?"User Defined":"All"),a=function(e,n){C(t,function(e){return e.name===i.get()}).each(function(t){var r=L(t,n);e.setData({results:r})})},u=M(function(e){var t=e.getData().pattern;a(e,t)},40),c=1===t.length?function(){return{type:"panel",items:n()}}():function(){return{type:"tabpanel",tabs:o()}}(),s={pattern:"",results:L(t[0],"")},l={title:"Special Character",size:"normal",body:c,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:s,onAction:function(t,n){"results"===n.name&&(r(e,n.value),t.close())},onTabChange:function(e,t){i.set(t.newTabName),u.throttle(e)},onChange:function(e,t){"pattern"===t.name&&u.throttle(e)}};e.windowManager.open(l).focus("pattern")},F=function(e,t){e.addCommand("mceShowCharmap",function(){H(e,t)})},j=tinymce.util.Tools.resolve("tinymce.util.Promise"),V=function(e,t){e.ui.registry.addAutocompleter("charmap",{ch:":",columns:"auto",minChars:2,fetch:function(e,n){return new j(function(n,r){n(L(t,e))})},onAction:function(t,n,r){e.selection.setRng(n),e.insertContent(r),t.hide()}})},U=function(e){e.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:function(){return e.execCommand("mceShowCharmap")}}),e.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:function(){return e.execCommand("mceShowCharmap")}})};!function(){t.add("charmap",function(e){var t=A(e);return F(e,t),U(e),V(e,t[0]),D(e)})}()}(window)},function(e,t,n){n(58)},function(e,t){!function(e){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(){},r=function(e){return function(){return e}},o=r(!1),i=r(!0),a=function(){return u},u=function(){var e=function(e){return e.isNone()},t=function(e){return e()},u=function(e){return e};return{fold:function(e,t){return e()},is:o,isSome:o,isNone:i,getOr:u,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:r(null),getOrUndefined:r(void 0),or:u,orThunk:t,map:a,each:n,bind:a,exists:o,forall:i,filter:a,equals:e,equals_:e,toArray:function(){return[]},toString:r("none()")}}(),c=function(e){var t=r(e),n=function(){return s},a=function(t){return t(e)},s={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:i,isNone:o,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return c(t(e))},each:function(t){t(e)},bind:a,exists:a,forall:a,filter:function(t){return t(e)?s:u},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(o,function(t){return n(e,t)})}};return s},s=function(e){return null===e||void 0===e?u:c(e)},l={some:c,none:a,from:s},f=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1},d=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},m=function(e,t){return-1!==e.indexOf(t)},p=function(e,t){return m(e.title.toLowerCase(),t)||f(e.keywords,function(e){return m(e.toLowerCase(),t)})},g=function(e,t,n){for(var r=[],i=t.toLowerCase(),a=n.fold(function(){return o},function(e){return function(t){return t>=e}}),u=0;u<e.length&&(0!==t.length&&!p(e[u],i)||(r.push({value:e[u].char,text:e[u].title,icon:e[u].char}),!a(r.length)));u++);return r},h=function(e,t){e.ui.registry.addAutocompleter("emoticons",{ch:":",columns:"auto",minChars:2,fetch:function(e,n){return t.waitForLoad().then(function(){var r=t.listAll();return g(r,e,l.some(n))})},onAction:function(t,n,r){e.selection.setRng(n),e.insertContent(r),t.hide()}})},v=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},b=function(t,n){var r=null;return{cancel:function(){null!==r&&(e.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null!==r&&e.clearTimeout(r),r=e.setTimeout(function(){t.apply(null,o),r=null},n)}}},y=function(e,t){e.insertContent(t)},w=function(){return w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},w.apply(this,arguments)},x=Object.prototype.hasOwnProperty,C=function(e,t){return t},k=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)x.call(i,a)&&(r[a]=e(r[a],i[a]))}return r}}(C),S=Object.keys,T=Object.hasOwnProperty,N=function(e,t){for(var n=S(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},E=function(e,t){return O(e,function(e,n){return{k:n,v:t(e,n)}})},O=function(e,t){var n={};return N(e,function(e,r){var o=t(e,r);n[o.k]=o.v}),n},_=function(e,t){return T.call(e,t)},A=tinymce.util.Tools.resolve("tinymce.Resource"),D=tinymce.util.Tools.resolve("tinymce.util.Delay"),R=tinymce.util.Tools.resolve("tinymce.util.Promise"),M=function(e,t){return e.getParam("emoticons_database_url",t+"/js/emojis"+e.suffix+".js")},P=function(e){return e.getParam("emoticons_database_id","tinymce.plugins.emoticons","string")},I=function(e){return e.getParam("emoticons_append",{},"object")},z={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},B=function(e,t){return _(e,t)?e[t]:t},L=function(e){var t=I(e);return E(t,function(e){return w({keywords:[],category:"user"},e)})},H=function(t,n,r){var o=v(l.none()),i=v(l.none()),a=function(e){var t={},n=[];N(e,function(e,r){var o={title:r,keywords:e.keywords,char:e.char,category:B(z,e.category)},i=void 0!==t[o.category]?t[o.category]:[];t[o.category]=i.concat([o]),n.push(o)}),o.set(l.some(t)),i.set(l.some(n))};t.on("init",function(){A.load(r,n).then(function(e){var n=L(t);a(k(e,n))},function(t){e.console.log("Failed to load emoticons: "+t),o.set(l.some({})),i.set(l.some([]))})});var u=function(e){return"All"===e?c():o.get().bind(function(t){return l.from(t[e])}).getOr([])},c=function(){return i.get().getOr([])},s=function(){return["All"].concat(S(o.get().getOr({})))},f=function(){return d()?R.resolve(!0):new R(function(t,r){var o=15,i=D.setInterval(function(){d()?(D.clearInterval(i),t(!0)):--o<0&&(e.console.log("Could not load emojis from url: "+n),D.clearInterval(i),r(!1))},100)})},d=function(){return o.get().isSome()&&i.get().isSome()};return{listCategories:s,hasLoaded:d,waitForLoad:f,listAll:c,listCategory:u}},F=function(e,t){var n={pattern:"",results:g(t.listAll(),"",l.some(300))},r=v("All"),o=function(e){var n=e.getData(),o=r.get(),i=t.listCategory(o),a=g(i,n.pattern,"All"===o?l.some(300):l.none());e.setData({results:a})},i=b(function(e){o(e)},200),a={label:"Search",type:"input",name:"pattern"},u={type:"collection",name:"results"},c=function(){return{title:"Emoticons",size:"normal",body:{type:"tabpanel",tabs:d(t.listCategories(),function(e){return{title:e,name:e,items:[a,u]}})},initialData:n,onTabChange:function(e,t){r.set(t.newTabName),i.throttle(e)},onChange:i.throttle,onAction:function(t,n){"results"===n.name&&(y(e,n.value),t.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}},s=e.windowManager.open(c());s.focus("pattern"),t.hasLoaded()||(s.block("Loading emoticons..."),t.waitForLoad().then(function(){s.redial(c()),i.throttle(s),s.focus("pattern"),s.unblock()}).catch(function(e){s.redial({title:"Emoticons",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"<p>Could not load emoticons</p>"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),s.focus("pattern"),s.unblock()}))},j=function(e,t){var n=function(){return F(e,t)};e.ui.registry.addButton("emoticons",{tooltip:"Emoticons",icon:"emoji",onAction:n}),e.ui.registry.addMenuItem("emoticons",{text:"Emoticons...",icon:"emoji",onAction:n})};!function(){t.add("emoticons",function(e,t){var n=M(e,t),r=P(e),o=H(e,n,r);j(e,o),h(e,o)})}()}(window)},function(e,t,n){n(60)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){e.addCommand("InsertHorizontalRule",function(){e.execCommand("mceInsertContent",!1,"<hr />")})},n=function(e){e.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:function(){return e.execCommand("InsertHorizontalRule")}}),e.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:function(){return e.execCommand("InsertHorizontalRule")}})};!function(){e.add("hr",function(e){t(e),n(e)})}()}()},function(e,t,n){n(62)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){var t=e.getParam("nonbreaking_force_tab",0);return"boolean"==typeof t?!0===t?3:0:t},n=function(e){return e.getParam("nonbreaking_wrap",!0,"boolean")},r=function(e,t){for(var n="",r=0;r<t;r++)n+=e;return n},o=function(e){return!!e.plugins.visualchars&&e.plugins.visualchars.isEnabled()},i=function(e,t){var i=function(){return o(e)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"},a=n(e),u=a||e.plugins.visualchars?function(){return'<span class="'+i()+'" contenteditable="false">'+r("&nbsp;",t)+"</span>"}():r("&nbsp;",t);e.undoManager.transact(function(){return e.insertContent(u)})},a=function(e){e.addCommand("mceNonBreaking",function(){i(e,1)})},u=tinymce.util.Tools.resolve("tinymce.util.VK"),c=function(e){var n=t(e);n>0&&e.on("keydown",function(t){if(t.keyCode===u.TAB&&!t.isDefaultPrevented()){if(t.shiftKey)return;t.preventDefault(),t.stopImmediatePropagation(),i(e,n)}})},s=function(e){e.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:function(){return e.execCommand("mceNonBreaking")}}),e.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:function(){return e.execCommand("mceNonBreaking")}})};!function(){e.add("nonbreaking",function(e){a(e),s(e),c(e)})}()}()},function(e,t,n){n(64)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){return e.getParam("insertdatetime_dateformat",e.translate("%Y-%m-%d"))},n=function(e){return e.getParam("insertdatetime_timeformat",e.translate("%H:%M:%S"))},r=function(e){return e.getParam("insertdatetime_formats",["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"])},o=function(e){var t=r(e);return t.length>0?t[0]:n(e)},i=function(e){return e.getParam("insertdatetime_element",!1)},a="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),u="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),c="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),s="January February March April May June July August September October November December".split(" "),l=function(e,t){if(e=""+e,e.length<t)for(var n=0;n<t-e.length;n++)e="0"+e;return e},f=function(e,t,n){return n=n||new Date,t=t.replace("%D","%m/%d/%Y"),t=t.replace("%r","%I:%M:%S %p"),t=t.replace("%Y",""+n.getFullYear()),t=t.replace("%y",""+n.getYear()),t=t.replace("%m",l(n.getMonth()+1,2)),t=t.replace("%d",l(n.getDate(),2)),t=t.replace("%H",""+l(n.getHours(),2)),t=t.replace("%M",""+l(n.getMinutes(),2)),t=t.replace("%S",""+l(n.getSeconds(),2)),t=t.replace("%I",""+((n.getHours()+11)%12+1)),t=t.replace("%p",n.getHours()<12?"AM":"PM"),t=t.replace("%B",""+e.translate(s[n.getMonth()])),t=t.replace("%b",""+e.translate(c[n.getMonth()])),t=t.replace("%A",""+e.translate(u[n.getDay()])),t=t.replace("%a",""+e.translate(a[n.getDay()])),t=t.replace("%%","%")},d=function(e,t,n,r){var o=e.dom.create("time",{datetime:n},r);t.parentNode.insertBefore(o,t),e.dom.remove(t),e.selection.select(o,!0),e.selection.collapse(!1)},m=function(e,t){if(i(e)){var n=f(e,t),r=void 0;r=/%[HMSIp]/.test(t)?f(e,"%Y-%m-%dT%H:%M"):f(e,"%Y-%m-%d");var o=e.dom.getParent(e.selection.getStart(),"time");o?d(e,o,r,n):e.insertContent('<time datetime="'+r+'">'+n+"</time>")}else e.insertContent(f(e,t))},p=function(e){e.addCommand("mceInsertDate",function(){m(e,t(e))}),e.addCommand("mceInsertTime",function(){m(e,n(e))})},g=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},h=tinymce.util.Tools.resolve("tinymce.util.Tools"),v=function(e){var t=r(e),n=g(o(e));e.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:function(e){return e===n.get()},fetch:function(n){n(h.map(t,function(t){return{type:"choiceitem",text:f(e,t),value:t}}))},onAction:function(t){m(e,n.get())},onItemAction:function(t,r){n.set(r),m(e,r)}});var i=function(t){return function(){n.set(t),m(e,t)}};e.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:function(){return h.map(t,function(t){return{type:"menuitem",text:f(e,t),onAction:i(t)}})}})};!function(){e.add("insertdatetime",function(e){p(e),v(e)})}()}()},function(e,t,n){n(66)},function(e,t){!function(e){"use strict";var t=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(e){return{isFullscreen:function(){return null!==e.get()}}},o=function(){},i=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},a=function(e,t){return function(n){return e(t(n))}},u=function(e){return function(){return e}},c=u(!1),s=u(!0),l=function(){return f},f=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:c,isSome:c,isNone:s,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(void 0),or:n,orThunk:t,map:l,each:o,bind:l,exists:c,forall:s,filter:l,equals:e,equals_:e,toArray:function(){return[]},toString:u("none()")}}(),d=function(e){var t=u(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:s,isNone:c,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return d(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:f},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(c,function(t){return n(e,t)})}};return o},m=function(e){return null===e||void 0===e?f:d(e)},p={some:d,none:l,from:m},g=function(e){var n=t(p.none()),r=function(){n.get().each(e)},o=function(){r(),n.set(p.none())},i=function(e){r(),n.set(p.some(e))};return{clear:o,isSet:function(){return n.get().isSome()},set:i}},h=function(){return g(function(e){e.unbind()})},v=function(){var e=t(p.none()),n=function(){e.set(p.none())},r=function(t){e.set(p.some(t))},o=function(t){e.get().each(t)};return{clear:n,set:r,isSet:function(){return e.get().isSome()},on:o}},b=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},y=function(e){return function(t){return b(t)===e}},w=function(e){return function(t){return typeof t===e}},x=y("string"),C=y("array"),k=w("boolean"),S=function(e){return null===e||void 0===e},T=function(e){return!S(e)},N=w("function"),E=w("number"),O=Array.prototype.push,_=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},A=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},D=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},R=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!C(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);O.apply(t,e[n])}return t},M=function(e,t){return R(_(e,t))},P=function(e){return 0===e.length?p.none():p.some(e[0])},I=Object.keys,z=function(e,t){for(var n=I(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},B=function(e){return void 0!==e.style&&N(e.style.getPropertyValue)},L=function(t,n){var r=n||e.document,o=r.createElement("div");if(o.innerHTML=t,!o.hasChildNodes()||o.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return j(o.childNodes[0])},H=function(t,n){var r=n||e.document,o=r.createElement(t);return j(o)},F=function(t,n){var r=n||e.document,o=r.createTextNode(t);return j(o)},j=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:u(e)}},V=function(e,t,n){var r=e.dom();return p.from(r.elementFromPoint(t,n)).map(j)},U={fromHtml:L,fromTag:H,fromText:F,fromDom:j,fromPoint:V},q=(void 0!==e.window?e.window:Function("return this;")(),function(e){return e.dom().nodeType}),$=function(e){return function(t){return q(t)===e}},W=$(1),G=$(3),K=$(9),Y=$(11),X=function(e,t){var n=e.dom();if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},J=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},Q=function(t,n){var r=void 0===n?e.document:n.dom();return J(r)?[]:_(r.querySelectorAll(t),U.fromDom)},Z=function(e,t){return e.dom()===t.dom()},ee=function(e){return U.fromDom(e.dom().ownerDocument)},te=function(e){return K(e)?e:ee(e)},ne=function(e){return p.from(e.dom().parentNode).map(U.fromDom)},re=function(e,t){for(var n=N(t)?t:c,r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=U.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},oe=function(e){var t=function(t){return D(t,function(t){return!Z(e,t)})};return ne(e).map(ie).map(t).getOr([])},ie=function(e){return _(e.dom().childNodes,U.fromDom)},ae=function(e){return Y(e)},ue=N(e.Element.prototype.attachShadow)&&N(e.Node.prototype.getRootNode),ce=u(ue),se=ue?function(e){return U.fromDom(e.dom().getRootNode())}:te,le=function(e){var t=se(e);return ae(t)?p.some(t):p.none()},fe=function(e){return U.fromDom(e.dom().host)},de=function(e){if(ce()&&T(e.target)){var t=U.fromDom(e.target);if(W(t)&&me(U.fromDom(e.target))){var n=e;if(n.composed&&n.composedPath){var r=n.composedPath();if(r)return P(r)}}}return p.from(e.target)},me=function(e){return T(e.dom().shadowRoot)},pe=function(e){var t=G(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&null!==t.ownerDocument&&le(U.fromDom(t)).fold(function(){return t.ownerDocument.body.contains(t)},a(pe,fe))},ge=function(t,n,r){if(!(x(r)||k(r)||E(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")},he=function(e,t,n){ge(e.dom(),t,n)},ve=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},be=function(e,t){e.dom().removeAttribute(t)},ye=function(t,n,r){if(!x(r))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new Error("CSS value must be a string: "+r);B(t)&&t.style.setProperty(n,r)},we=function(e,t){var n=e.dom();z(t,function(e,t){ye(n,t,e)})},xe=function(t,n){var r=t.dom(),o=e.window.getComputedStyle(r),i=o.getPropertyValue(n);return""!==i||pe(t)?i:Ce(r,n)},Ce=function(e,t){return B(e)?e.style.getPropertyValue(t):""},ke=function(e,t,n,r,o,i,a){return{target:u(e),x:u(t),y:u(n),stop:r,prevent:o,kill:i,raw:u(a)}},Se=function(e){var t=U.fromDom(de(e).getOr(e.target)),n=function(){return e.stopPropagation()},r=function(){return e.preventDefault()},o=i(r,n);return ke(t,e.clientX,e.clientY,n,r,o,e)},Te=function(e,t){var n=function(n,r){return Te(e+n,t+r)};return{left:u(e),top:u(t),translate:n}},Ne=Te,Ee=function(t){var n=void 0!==t?t.dom():e.document,r=n.body.scrollLeft||n.documentElement.scrollLeft,o=n.body.scrollTop||n.documentElement.scrollTop;return Ne(r,o)},Oe=function(t){var n=void 0===t?e.window:t;return p.from(n.visualViewport)},_e=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},Ae=function(t){var n=void 0===t?e.window:t,r=n.document,o=Ee(U.fromDom(r));return Oe(n).fold(function(){var e=n.document.documentElement,t=e.clientWidth,r=e.clientHeight;return _e(o.left(),o.top(),t,r)},function(e){return _e(Math.max(e.pageLeft,o.left()),Math.max(e.pageTop,o.top()),e.width,e.height)})},De=function(e,t,n){return Oe(n).map(function(t){var n=function(e){return Se(e)};return t.addEventListener(e,n),{unbind:function(){return t.removeEventListener(e,n)}}}).getOrThunk(function(){return{unbind:o}})},Re=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Me=tinymce.util.Tools.resolve("tinymce.Env"),Pe=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ie=function(e,t){e.fire("FullscreenStateChanged",{state:t})},ze=function(e,t,n){return D(re(e,n),t)},Be=function(e,t){return D(oe(e),t)},Le=function(e){return Q(e)},He=function(e,t,n){return ze(e,function(e){return X(e,t)},n)},Fe=function(e,t){return Be(e,function(e){return X(e,t)})},je="data-ephox-mobile-fullscreen-style",Ve="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",Ue=Me.os.isAndroid(),qe=function(e){var t=xe(e,"background-color");return void 0!==t&&""!==t?"background-color:"+t+"!important":"background-color:rgb(255,255,255)!important;"},$e=function(e,t,n){var r=function(e){return Fe(e,"*:not(.tox-silver-sink)")},o=function(t){return function(n){var r=ve(n,"style"),o=void 0===r?"no-styles":r.trim();o!==t&&(he(n,je,o),we(n,e.parseStyle(t)))}},i=He(t,"*"),a=M(i,r),u=qe(n);A(a,o("display:none!important;")),A(i,o("position:absolute!important;"+Ve+u)),o((!0===Ue?"":"position:absolute!important;")+Ve+u)(t)},We=function(e){var t=Le("["+je+"]");A(t,function(t){var n=ve(t,je);"no-styles"!==n?we(t,e.parseStyle(n)):be(t,"style"),be(t,je)})},Ge=Re.DOM,Ke=function(){var t=Ae(e.window);return{x:t.x,y:t.y}},Ye=function(t){e.window.scrollTo(t.x,t.y)},Xe=Oe().fold(function(){return{bind:o,unbind:o}},function(t){var n=v(),r=h(),o=h(),i=function(){e.document.body.scrollTop=0,e.document.documentElement.scrollTop=0},a=function(){e.window.requestAnimationFrame(function(){n.on(function(e){return we(e,{top:t.offsetTop+"px",left:t.offsetLeft+"px",height:t.height+"px",width:t.width+"px"})})})},u=Pe.throttle(function(){i(),a()},50);return{bind:function(e){n.set(e),u(),r.set(De("resize")),o.set(De("scroll"))},unbind:function(){n.on(function(){r.clear(),o.clear()}),n.clear()}}}),Je=function(t,n){var r=e.document.body,o=e.document.documentElement,i=t.getContainer(),a=U.fromDom(i),u=n.get(),c=U.fromDom(t.getBody()),s=Me.deviceType.isTouch(),l=i.style,f=t.iframeElement,d=f.style,m=function(){s&&We(t.dom),Ge.removeClass(r,"tox-fullscreen"),Ge.removeClass(o,"tox-fullscreen"),Ge.removeClass(i,"tox-fullscreen"),Xe.unbind()};if(u)d.width=u.iframeWidth,d.height=u.iframeHeight,l.width=u.containerWidth,l.height=u.containerHeight,l.top=u.containerTop,l.left=u.containerLeft,Ye(u.scrollPos),n.set(null),Ie(t,!1),m(),t.off("remove",m);else{var p={scrollPos:Ke(),containerWidth:l.width,containerHeight:l.height,containerTop:l.top,containerLeft:l.left,iframeWidth:d.width,iframeHeight:d.height};s&&$e(t.dom,a,c),d.width=d.height="100%",l.width=l.height="",Ge.addClass(r,"tox-fullscreen"),Ge.addClass(o,"tox-fullscreen"),Ge.addClass(i,"tox-fullscreen"),Xe.bind(a),t.on("remove",m),n.set(p),Ie(t,!0)}},Qe=function(e,t){e.addCommand("mceFullScreen",function(){Je(e,t)})},Ze=function(e,t){return function(n){n.setActive(null!==t.get());var r=function(e){return n.setActive(e.state)};return e.on("FullscreenStateChanged",r),function(){return e.off("FullscreenStateChanged",r)}}},et=function(e,t){e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:function(){return e.execCommand("mceFullScreen")},onSetup:Ze(e,t)}),e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:function(){return e.execCommand("mceFullScreen")},onSetup:Ze(e,t)})};!function(){n.add("fullscreen",function(e){var n=t(null);return e.inline?r(n):(Qe(e,n),et(e,n),e.addShortcut("Meta+Shift+F","","mceFullScreen"),r(n))})}()}(window)},function(e,t,n){n(68)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(e){return e.getParam("content_style","")},o=function(e){return e.getParam("content_css_cors",!1,"boolean")},i=function(e){return e.getParam("body_class","","hash")[e.id]||""},a=function(e){var t=e.getParam("body_class","","string");return-1===t.indexOf("=")?t:i(e)},u=function(e){var t=e.getParam("body_id","","hash");return t[e.id]||t},c=function(e){var t=e.getParam("body_id","tinymce","string");return-1===t.indexOf("=")?t:u(e)},s=function(e){var i="",u=e.dom.encode,s=r(e);i+='<base href="'+u(e.documentBaseURI.getURI())+'">',s&&(i+='<style type="text/css">'+s+"</style>");var l=o(e)?' crossorigin="anonymous"':"";n.each(e.contentCSS,function(t){i+='<link type="text/css" rel="stylesheet" href="'+u(e.documentBaseURI.toAbsolute(t))+'"'+l+">"});var f=c(e),d=a(e),m=t.mac?"e.metaKey":"e.ctrlKey && !e.altKey",p='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+m+")) {e.preventDefault();}}}, false);<\/script> ",g=e.getBody().dir,h=g?' dir="'+u(g)+'"':"";return"<!DOCTYPE html><html><head>"+i+'</head><body id="'+u(f)+'" class="mce-content-body '+u(d)+'"'+h+">"+e.getContent()+p+"</body></html>"},l=function(e){var t=s(e);e.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:t}}).focus("close")},f=function(e){e.addCommand("mcePreview",function(){l(e)})},d=function(e){e.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:function(){return e.execCommand("mcePreview")}}),e.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:function(){return e.execCommand("mcePreview")}})};!function(){e.add("preview",function(e){f(e),d(e)})}()}()},function(e,t,n){n(70)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=function(e){e.addCommand("mcePrint",function(){t.browser.isIE()?e.getDoc().execCommand("print",!1,null):e.getWin().print()})},r=function(e){e.ui.registry.addButton("print",{icon:"print",tooltip:"Print",onAction:function(){return e.execCommand("mcePrint")}}),e.ui.registry.addMenuItem("print",{text:"Print...",icon:"print",onAction:function(){return e.execCommand("mcePrint")}})};!function(){e.add("print",function(e){n(e),r(e),e.addShortcut("Meta+P","","mcePrint")})}()}()},function(e,t,n){n(72)},function(e,t){!function(e){"use strict";function t(t){var n=function(n,r,o,i){var a=new e.XMLHttpRequest;a.open("POST",t.url),a.withCredentials=t.credentials,a.upload.onprogress=function(e){i(e.loaded/e.total*100)},a.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=function(){if(a.status<200||a.status>=300)return void o("HTTP Error: "+a.status);var e=JSON.parse(a.responseText);if(!e||"string"!=typeof e.location)return void o("Invalid JSON: "+a.responseText);r(st(t.basePath,e.location))};var u=new e.FormData;u.append("file",n.blob(),n.filename()),a.send(u)},o=function(e,t){return new H(function(n,o){try{t(e,n,o,r)}catch(e){o(e.message)}})},i=function(e){return e===n},a=function(e){return!t.url&&i(t.handler)?H.reject("Upload url missing from the settings."):o(e,t.handler)};return t=et.extend({credentials:!1,handler:n},t),{upload:a}}var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(){},o=function(e){return function(){return e}},i=o(!1),a=o(!0),u=function(){return c},c=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:i,isSome:i,isNone:a,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:o(null),getOrUndefined:o(void 0),or:n,orThunk:t,map:u,each:r,bind:u,exists:i,forall:a,filter:u,equals:e,equals_:e,toArray:function(){return[]},toString:o("none()")}}(),s=function(e){var t=o(e),n=function(){return u},r=function(t){return t(e)},u={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:a,isNone:i,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return s(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?u:c},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(i,function(t){return n(e,t)})}};return u},l=function(e){return null===e||void 0===e?c:s(e)},f={some:s,none:u,from:l},d=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},m=function(e){return function(t){return d(t)===e}},p=function(e){return function(t){return typeof t===e}},g=m("string"),h=m("object"),v=m("array"),b=function(e){return function(t){return e===t}}(null),y=p("boolean"),w=p("number"),x=Array.prototype.push,C=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!v(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);x.apply(t,e[n])}return t},k=function(e){return 0===e.length?f.none():f.some(e[0])},S=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return f.none()},T=Object.prototype.hasOwnProperty,N=function(e,t){return h(e)&&h(t)?E(e,t):t},E=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)T.call(i,a)&&(r[a]=e(r[a],i[a]))}return r}}(N),O=function(){return O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},O.apply(this,arguments)},_=(void 0!==e.window?e.window:Function("return this;")(),function(t,n,r){if(!(g(r)||y(r)||w(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")}),A=function(e,t,n){_(e.dom(),t,n)},D=function(e,t){e.dom().removeAttribute(t)},R=function(t,n){var r=n||e.document,o=r.createElement("div");if(o.innerHTML=t,!o.hasChildNodes()||o.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return I(o.childNodes[0])},M=function(t,n){var r=n||e.document,o=r.createElement(t);return I(o)},P=function(t,n){var r=n||e.document,o=r.createTextNode(t);return I(o)},I=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:o(e)}},z=function(e,t,n){var r=e.dom();return f.from(r.elementFromPoint(t,n)).map(I)},B={fromHtml:R,fromTag:M,fromText:P,fromDom:I,fromPoint:z},L=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),H=tinymce.util.Tools.resolve("tinymce.util.Promise"),F=tinymce.util.Tools.resolve("tinymce.util.XHR"),j=function(e){return e.getParam("image_dimensions",!0,"boolean")},V=function(e){return e.getParam("image_advtab",!1,"boolean")},U=function(e){return e.getParam("image_uploadtab",!0,"boolean")},q=function(e){return e.getParam("image_prepend_url","","string")},$=function(e){return e.getParam("image_class_list")},W=function(e){return e.getParam("image_description",!0,"boolean")},G=function(e){return e.getParam("image_title",!1,"boolean")},K=function(e){return e.getParam("image_caption",!1,"boolean")},Y=function(e){return e.getParam("image_list",!1)},X=function(e){return!!Q(e)},J=function(e){return!!Z(e)},Q=function(e){return e.getParam("images_upload_url","","string")},Z=function(e){return e.getParam("images_upload_handler",void 0,"function")},ee=function(e){return e.getParam("images_upload_base_path",void 0,"string")},te=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},ne=function(e){return e.getParam("a11y_advanced_options",!1,"boolean")},re=function(e){return e.getParam("automatic_uploads",!0,"boolean")},oe=function(e,t){return Math.max(parseInt(e,10),parseInt(t,10))},ie=function(t){return new H(function(n){var r=e.document.createElement("img"),o=function(e){r.parentNode&&r.parentNode.removeChild(r),n(e)};r.onload=function(){var e=oe(r.width,r.clientWidth),t=oe(r.height,r.clientHeight),n={width:e,height:t};o(H.resolve(n))},r.onerror=function(){o(H.reject("Failed to get image dimensions for: "+t))};var i=r.style;i.visibility="hidden",i.position="fixed",i.bottom=i.left="0px",i.width=i.height="auto",e.document.body.appendChild(r),r.src=t})},ae=function(e){return e&&(e=e.replace(/px$/,"")),e},ue=function(e){return e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e},ce=function(e){if(e.margin){var t=String(e.margin).split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e},se=function(e,t){var n=Y(e);"string"==typeof n?F.send({url:n,success:function(e){t(JSON.parse(e))}}):"function"==typeof n?n(t):t(n)},le=function(e,t,n){var r=function(){n.onload=n.onerror=null,e.selection&&(e.selection.select(n),e.nodeChanged())};n.onload=function(){t.width||t.height||!j(e)||e.dom.setAttribs(n,{width:String(n.clientWidth),height:String(n.clientHeight)}),r()},n.onerror=r},fe=function(t){return new H(function(n,r){var o=new e.FileReader;o.onload=function(){n(o.result)},o.onerror=function(){r(o.error.message)},o.readAsDataURL(t)})},de=function(e){return"IMG"===e.nodeName&&(e.hasAttribute("data-mce-object")||e.hasAttribute("data-mce-placeholder"))},me=L.DOM,pe=function(e){return e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?ae(e.style.marginLeft):""},ge=function(e){return e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?ae(e.style.marginTop):""},he=function(e){return e.style.borderWidth?ae(e.style.borderWidth):""},ve=function(e,t){return e.hasAttribute(t)?e.getAttribute(t):""},be=function(e,t){return e.style[t]?e.style[t]:""},ye=function(e){return null!==e.parentNode&&"FIGURE"===e.parentNode.nodeName},we=function(e,t,n){""===n?e.removeAttribute(t):e.setAttribute(t,n)},xe=function(e){var t=me.create("figure",{class:"image"});me.insertAfter(t,e),t.appendChild(e),t.appendChild(me.create("figcaption",{contentEditable:"true"},"Caption")),t.contentEditable="false"},Ce=function(e){var t=e.parentNode;me.insertAfter(e,t),me.remove(t)},ke=function(e){ye(e)?Ce(e):xe(e)},Se=function(e,t){var n=e.getAttribute("style"),r=t(null!==n?n:"");r.length>0?(e.setAttribute("style",r),e.setAttribute("data-mce-style",r)):e.removeAttribute("style")},Te=function(e,t){return function(e,n,r){e.style[n]?(e.style[n]=ue(r),Se(e,t)):we(e,n,r)}},Ne=function(e,t){return e.style[t]?ae(e.style[t]):ve(e,t)},Ee=function(e,t){var n=ue(t);e.style.marginLeft=n,e.style.marginRight=n},Oe=function(e,t){var n=ue(t);e.style.marginTop=n,e.style.marginBottom=n},_e=function(e,t){var n=ue(t);e.style.borderWidth=n},Ae=function(e,t){e.style.borderStyle=t},De=function(e){return be(e,"borderStyle")},Re=function(e){return"FIGURE"===e.nodeName},Me=function(e){return"IMG"===e.nodeName},Pe=function(e){return 0===me.getAttrib(e,"alt").length&&"presentation"===me.getAttrib(e,"role")},Ie=function(e){return Pe(e)?"":ve(e,"alt")},ze=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},Be=function(t,n){var r=e.document.createElement("img");return we(r,"style",n.style),(pe(r)||""!==n.hspace)&&Ee(r,n.hspace),(ge(r)||""!==n.vspace)&&Oe(r,n.vspace),(he(r)||""!==n.border)&&_e(r,n.border),(De(r)||""!==n.borderStyle)&&Ae(r,n.borderStyle),t(r.getAttribute("style"))},Le=function(t,n){var r=e.document.createElement("img");if(qe(t,O(O({},n),{caption:!1}),r),je(r,n.alt,n.isDecorative),n.caption){var o=me.create("figure",{class:"image"});return o.appendChild(r),o.appendChild(me.create("figcaption",{contentEditable:"true"},"Caption")),o.contentEditable="false",o}return r},He=function(e,t){return{src:ve(t,"src"),alt:Ie(t),title:ve(t,"title"),width:Ne(t,"width"),height:Ne(t,"height"),class:ve(t,"class"),style:e(ve(t,"style")),caption:ye(t),hspace:pe(t),vspace:ge(t),border:he(t),borderStyle:be(t,"borderStyle"),isDecorative:Pe(t)}},Fe=function(e,t,n,r,o){n[r]!==t[r]&&o(e,r,n[r])},je=function(e,t,n){if(n){me.setAttrib(e,"role","presentation");var r=B.fromDom(e);A(r,"alt","")}else{if(b(t)){var r=B.fromDom(e);D(r,"alt")}else{var r=B.fromDom(e);A(r,"alt",t)}"presentation"===me.getAttrib(e,"role")&&me.setAttrib(e,"role","")}},Ve=function(e,t,n){n.alt===t.alt&&n.isDecorative===t.isDecorative||je(e,n.alt,n.isDecorative)},Ue=function(e,t){return function(n,r,o){e(n,o),Se(n,t)}},qe=function(e,t,n){var r=He(e,n);Fe(n,r,t,"caption",function(e,t,n){return ke(e)}),Fe(n,r,t,"src",we),Fe(n,r,t,"title",we),Fe(n,r,t,"width",Te(0,e)),Fe(n,r,t,"height",Te(0,e)),Fe(n,r,t,"class",we),Fe(n,r,t,"style",Ue(function(e,t){return we(e,"style",t)},e)),Fe(n,r,t,"hspace",Ue(Ee,e)),Fe(n,r,t,"vspace",Ue(Oe,e)),Fe(n,r,t,"border",Ue(_e,e)),Fe(n,r,t,"borderStyle",Ue(Ae,e)),Ve(n,r,t)},$e=function(e,t){var n=e.dom.styles.parse(t),r=ce(n),o=e.dom.styles.parse(e.dom.styles.serialize(r));return e.dom.styles.serialize(o)},We=function(e){var t=e.selection.getNode(),n=e.dom.getParent(t,"figure.image");return n?e.dom.select("img",n)[0]:t&&("IMG"!==t.nodeName||de(t))?null:t},Ge=function(e,t){var n=e.dom,r=n.getParent(t.parentNode,function(t){return!!e.schema.getTextBlockElements()[t.nodeName]},e.getBody());return r?n.split(r,t):t},Ke=function(e){var t=We(e);return t?He(function(t){return $e(e,t)},t):ze()},Ye=function(e,t){var n=Le(function(t){return $e(e,t)},t);e.dom.setAttrib(n,"data-mce-id","__mcenew"),e.focus(),e.selection.setContent(n.outerHTML);var r=e.dom.select('*[data-mce-id="__mcenew"]')[0];if(e.dom.setAttrib(r,"data-mce-id",null),Re(r)){var o=Ge(e,r);e.selection.select(o)}else e.selection.select(r)},Xe=function(e,t){e.dom.setAttrib(t,"src",t.getAttribute("src"))},Je=function(e,t){if(t){var n=e.dom.is(t.parentNode,"figure.image")?t.parentNode:t;e.dom.remove(n),e.focus(),e.nodeChanged(),e.dom.isEmpty(e.getBody())&&(e.setContent(""),e.selection.setCursorLocation())}},Qe=function(e,t){var n=We(e);if(qe(function(t){return $e(e,t)},t,n),Xe(e,n),Re(n.parentNode)){var r=n.parentNode;Ge(e,r),e.selection.select(n.parentNode)}else e.selection.select(n),le(e,t,n)},Ze=function(e,t){var n=We(e);if(n){var r=He(function(t){return $e(e,t)},n),o=O(O({},r),t);o.src?Qe(e,o):Je(e,n)}else t.src&&Ye(e,O(O({},ze()),t))},et=tinymce.util.Tools.resolve("tinymce.util.Tools"),tt=function(e){return g(e.value)?e.value:""},nt=function(e,t){var n=[];return et.each(e,function(e){var r=g(e.text)?e.text:g(e.title)?e.title:"";if(void 0!==e.menu){var o=nt(e.menu,t);n.push({text:r,items:o})}else{var i=t(e);n.push({text:r,value:i})}}),n},rt=function(e){return void 0===e&&(e=tt),function(t){return t?f.from(t).map(function(t){return nt(t,e)}):f.none()}},ot=function(e){return rt(tt)(e)},it=function(e){return Object.prototype.hasOwnProperty.call(e,"items")},at=function(e,t){return S(e,function(e){return it(e)?at(e.items,t):e.value===t?f.some(e):f.none()})},ut=function(e,t){return e.bind(function(e){return at(e,t)})},ct={sanitizer:rt,sanitize:ot,findEntry:ut},st=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t},lt=function(e){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"selectbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},ft={makeTab:lt},dt=function(e){var t=ct.sanitizer(function(t){return e.convertURL(t.value||t.url,"src")}),n=new H(function(n){se(e,function(e){n(t(e).map(function(e){return C([[{text:"None",value:""}],e])}))})}),r=ct.sanitize($(e)),o=V(e),i=U(e),a=X(e),u=J(e),c=Ke(e),s=W(e),l=G(e),d=j(e),m=K(e),p=ne(e),h=Q(e),v=ee(e),b=te(e),y=Z(e),w=re(e),x=f.some(q(e)).filter(function(e){return g(e)&&e.length>0});return n.then(function(e){return{image:c,imageList:e,classList:r,hasAdvTab:o,hasUploadTab:i,hasUploadUrl:a,hasUploadHandler:u,hasDescription:s,hasImageTitle:l,hasDimensions:d,hasImageCaption:m,url:h,basePath:v,credentials:b,handler:y,prependURL:x,hasAccessibilityOptions:p,automaticUploads:w}})},mt=function(e){var t={name:"src",type:"urlinput",filetype:"image",label:"Source"},n=e.imageList.map(function(e){return{name:"images",type:"selectbox",label:"Image list",items:e}}),r={name:"alt",type:"input",label:"Alternative description",disabled:e.hasAccessibilityOptions&&e.image.isDecorative},o={name:"title",type:"input",label:"Image title"},i={name:"dimensions",type:"sizeinput"},a={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},u=e.classList.map(function(e){return{name:"classes",type:"selectbox",label:"Class",items:e}}),c={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]};return C([[t],n.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[a]:[],e.hasDescription?[r]:[],e.hasImageTitle?[o]:[],e.hasDimensions?[i]:[],[{type:"grid",columns:2,items:C([u.toArray(),e.hasImageCaption?[c]:[]])}]])},pt=function(e){return{title:"General",name:"general",items:mt(e)}},gt={makeTab:pt,makeItems:mt},ht=function(e){return{title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]}},vt={makeTab:ht},bt=function(e){return{prevImage:ct.findEntry(e.imageList,e.image.src),prevAlt:e.image.alt,open:!0}},yt=function(e){return{src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e.class,caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[],isDecorative:e.isDecorative}},wt=function(e,t){return{src:e.src.value,alt:0===e.alt.length&&t?null:e.alt,title:e.title,width:e.dimensions.width,height:e.dimensions.height,class:e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle,isDecorative:e.isDecorative}},xt=function(e,t){return/^(?:[a-zA-Z]+:)?\/\//.test(t)?f.none():e.prependURL.bind(function(e){return t.substring(0,e.length)!==e?f.some(e+t):f.none()})},Ct=function(e,t){var n=t.getData();xt(e,n.src.value).each(function(e){t.setData({src:{value:e,meta:n.src.meta}})})},kt=function(e,t,n){e.hasDescription&&g(n.alt)&&(t.alt=n.alt),e.hasAccessibilityOptions&&(t.isDecorative=n.isDecorative||t.isDecorative||!1),e.hasImageTitle&&g(n.title)&&(t.title=n.title),e.hasDimensions&&(g(n.width)&&(t.dimensions.width=n.width),g(n.height)&&(t.dimensions.height=n.height)),g(n.class)&&ct.findEntry(e.classList,n.class).each(function(e){t.classes=e.value}),e.hasImageCaption&&y(n.caption)&&(t.caption=n.caption),e.hasAdvTab&&(g(n.style)&&(t.style=n.style),g(n.vspace)&&(t.vspace=n.vspace),g(n.border)&&(t.border=n.border),g(n.hspace)&&(t.hspace=n.hspace),g(n.borderstyle)&&(t.borderstyle=n.borderstyle))},St=function(e,t){var n=t.getData(),r=n.src.meta;if(void 0!==r){var o=E({},n);kt(e,o,r),t.setData(o)}},Tt=function(e,t,n,r){var o=r.getData(),i=o.src.value,a=o.src.meta||{};a.width||a.height||!t.hasDimensions||e.imageSize(i).then(function(e){n.open&&r.setData({dimensions:e})})},Nt=function(e,t,n){var r=n.getData(),o=ct.findEntry(e.imageList,r.src.value);t.prevImage=o,n.setData({images:o.map(function(e){return e.value}).getOr("")})},Et=function(e,t,n,r){Ct(t,r),St(t,r),Tt(e,t,n,r),Nt(t,n,r)},Ot=function(e,t,n,r){var o=r.getData(),i=ct.findEntry(t.imageList,o.images);i.each(function(e){""===o.alt||n.prevImage.map(function(e){return e.text===o.alt}).getOr(!1)?""===e.value?r.setData({src:e,alt:n.prevAlt}):r.setData({src:e,alt:e.text}):r.setData({src:e})}),n.prevImage=i,Et(e,t,n,r)},_t=function(e){return e["margin-top"]&&e["margin-bottom"]&&e["margin-top"]===e["margin-bottom"]?ae(String(e["margin-top"])):""},At=function(e){return e["margin-right"]&&e["margin-left"]&&e["margin-right"]===e["margin-left"]?ae(String(e["margin-right"])):""},Dt=function(e){return e["border-width"]?ae(String(e["border-width"])):""},Rt=function(e){return e["border-style"]?String(e["border-style"]):""},Mt=function(e,t,n){return t(e(t(n)))},Pt=function(e,t,n){var r=ce(e(n.style)),o=E({},n);return o.vspace=_t(r),o.hspace=At(r),o.border=Dt(r),o.borderstyle=Rt(r),o.style=Mt(e,t,r),o},It=function(e,t){var n=t.getData(),r=Pt(e.parseStyle,e.serializeStyle,n);t.setData(r)},zt=function(e,t,n){var r=E(yt(t.image),n.getData()),o=Be(e.normalizeCss,wt(r,!1));n.setData({style:o})},Bt=function(n,r,o,i){var a=i.getData();i.block("Uploading image"),k(a.fileinput).fold(function(){i.unblock()},function(a){var u=e.URL.createObjectURL(a),c=t({url:r.url,basePath:r.basePath,credentials:r.credentials,handler:r.handler}),s=function(){i.unblock(),e.URL.revokeObjectURL(u)},l=function(e){i.setData({src:{value:e,meta:{}}}),i.showTab("general"),Et(n,r,o,i)};fe(a).then(function(e){var t=n.createBlobCache(a,u,e);r.automaticUploads?c.upload(t).then(function(e){l(e),s()}).catch(function(e){s(),n.alertErr(e)}):(n.addToBlobCache(t),l(t.blobUri()),i.unblock())})})},Lt=function(e,t,n){return function(r,o){"src"===o.name?Et(e,t,n,r):"images"===o.name?Ot(e,t,n,r):"alt"===o.name?n.prevAlt=r.getData().alt:"style"===o.name?It(e,r):"vspace"===o.name||"hspace"===o.name||"border"===o.name||"borderstyle"===o.name?zt(e,t,r):"fileinput"===o.name?Bt(e,t,n,r):"isDecorative"===o.name&&(r.getData().isDecorative?r.disable("alt"):r.enable("alt"))}},Ht=function(e){return function(){e.open=!1}},Ft=function(e){if(e.hasAdvTab||e.hasUploadUrl||e.hasUploadHandler){return{type:"tabpanel",tabs:C([[gt.makeTab(e)],e.hasAdvTab?[ft.makeTab(e)]:[],e.hasUploadTab&&(e.hasUploadUrl||e.hasUploadHandler)?[vt.makeTab(e)]:[]])}}return{type:"panel",items:gt.makeItems(e)}},jt=function(e){return function(t){var n=bt(t);return{title:"Insert/Edit Image",size:"normal",body:Ft(t),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:yt(t.image),onSubmit:e.onSubmit(t),onChange:Lt(e,t,n),onClose:Ht(n)}}},Vt=function(e){return function(t){return function(n){var r=E(yt(t.image),n.getData());e.execCommand("mceUpdateImage",!1,wt(r,t.hasAccessibilityOptions)),e.editorUpload.uploadImagesAuto(),n.close()}}},Ut=function(e){return function(t){return ie(e.documentBaseURI.toAbsolute(t)).then(function(e){return{width:String(e.width),height:String(e.height)}})}},qt=function(e){return function(t,n,r){return e.editorUpload.blobCache.create({blob:t,blobUri:n,name:t.name?t.name.replace(/\.[^\.]+$/,""):null,base64:r.split(",")[1]})}},$t=function(e){return function(t){e.editorUpload.blobCache.add(t)}},Wt=function(e){return function(t){e.windowManager.alert(t)}},Gt=function(e){return function(t){return $e(e,t)}},Kt=function(e){return function(t){return e.dom.parseStyle(t)}},Yt=function(e){return function(t,n){return e.dom.serializeStyle(t,n)}},Xt=function(e){var t={onSubmit:Vt(e),imageSize:Ut(e),addToBlobCache:$t(e),createBlobCache:qt(e),alertErr:Wt(e),normalizeCss:Gt(e),parseStyle:Kt(e),serializeStyle:Yt(e)},n=function(){return dt(e).then(jt(t)).then(function(t){return e.windowManager.open(t)})};return{open:n,openLater:function(){n()}}},Jt=function(e){e.addCommand("mceImage",Xt(e).openLater),e.addCommand("mceUpdateImage",function(t,n){e.undoManager.transact(function(){return Ze(e,n)})})},Qt=function(e){var t=e.attr("class");return t&&/\bimage\b/.test(t)},Zt=function(e){return function(t){for(var n=t.length,r=function(t){t.attr("contenteditable",e?"true":null)};n--;){var o=t[n];Qt(o)&&(o.attr("contenteditable",e?"false":null),et.each(o.getAll("figcaption"),r))}}},en=function(e){e.on("PreInit",function(){e.parser.addNodeFilter("figure",Zt(!0)),e.serializer.addNodeFilter("figure",Zt(!1))})},tn=function(e){e.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Xt(e).openLater,onSetup:function(t){return e.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",t.setActive).unbind}}),e.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Xt(e).openLater}),e.ui.registry.addContextMenu("image",{update:function(e){return Re(e)||Me(e)&&!de(e)?["image"]:[]}})};!function(){n.add("image",function(e){en(e),tn(e),Jt(e)})}()}(window)},function(e,t,n){n(74)},function(e,t){!function(e){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.util.VK"),r=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},o=function(e){return function(t){return r(t)===e}},i=function(e){return function(t){return typeof t===e}},a=o("string"),u=o("array"),c=function(e){return function(t){return e===t}}(null),s=i("boolean"),l=i("function"),f=function(e){var t=e.getParam("link_assume_external_targets",!1);return s(t)&&t?1:!a(t)||"http"!==t&&"https"!==t?0:t},d=function(e){return e.getParam("link_context_toolbar",!1,"boolean")},m=function(e){return e.getParam("link_list")},p=function(e){return e.getParam("default_link_target")},g=function(e){return e.getParam("target_list",!0)},h=function(e){return e.getParam("rel_list",[],"array")},v=function(e){return e.getParam("link_class_list",[],"array")},b=function(e){return e.getParam("link_title",!0,"boolean")},y=function(e){return e.getParam("allow_unsafe_link_target",!1,"boolean")},w=function(e){return e.getParam("link_quicklink",!1,"boolean")},x=function(e){return e.getParam("link_default_protocol","http","string")},C=function(){},k=function(e){return function(){return e}},S=k(!1),T=k(!0),N=function(){return E},E=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:S,isSome:S,isNone:T,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:k(null),getOrUndefined:k(void 0),or:n,orThunk:t,map:N,each:C,bind:N,exists:S,forall:T,filter:N,equals:e,equals_:e,toArray:function(){return[]},toString:k("none()")}}(),O=function(e){var t=k(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:T,isNone:S,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return O(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:E},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(S,function(t){return n(e,t)})}};return o},_=function(e){return null===e||void 0===e?E:O(e)},A={some:O,none:N,from:_},D=Array.prototype.indexOf,R=Array.prototype.push,M=function(e,t){return D.call(e,t)},P=function(e,t){return M(e,t)>-1},I=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},z=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},B=function(e,t,n){return z(e,function(e){n=t(n,e)}),n},L=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!u(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);R.apply(t,e[n])}return t},H=function(e,t){return L(I(e,t))},F=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return A.none()},j=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},V=tinymce.util.Tools.resolve("tinymce.util.Tools"),U=function(e){return a(e.value)?e.value:""},q=function(e,t){var n=[];return V.each(e,function(e){var r=a(e.text)?e.text:a(e.title)?e.title:"";if(void 0!==e.menu);else{var o=t(e);n.push({text:r,value:o})}}),n},$=function(e){return void 0===e&&(e=U),function(t){return A.from(t).map(function(t){return q(t,e)})}},W=function(e){return $(U)(e)},G=function(e,t){return function(n){return{name:e,type:"selectbox",label:t,items:n}}},K={sanitize:W,sanitizeWith:$,createUi:G,getValue:U},Y=function(){return Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Y.apply(this,arguments)},X=Object.keys,J=function(e,t){for(var n=X(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},Q=function(e){return function(t,n){e[n]=t}},Z=function(e,t,n,r){var o={};return J(e,function(e,o){(t(e,o)?n:r)(e,o)}),o},ee=function(e,t){var n={};return Z(e,t,Q(n),C),n},te=function(e){return!(!/(^|[ ,])rtc([, ]|$)/.test(e.getParam("plugins","","string"))||!t.get("rtc"))},ne=function(e){return/^\w+:/i.test(e)},re=function(e){var t=e.getAttribute("data-mce-href");return t||e.getAttribute("href")},oe=function(e,t){var n=["noopener"],r=e?e.split(/\s+/):[],o=function(e){return e.filter(function(e){return-1===V.inArray(n,e)})},i=t?function(e){return e=o(e),e.length>0?e.concat(n):n}(r):o(r);return i.length>0?function(e){return V.trim(e.sort().join(" "))}(i):""},ie=function(e){return e.replace(/\uFEFF/g,"")},ae=function(e,t){return t=t||e.selection.getNode(),fe(t)?e.dom.select("a[href]",t)[0]:e.dom.getParent(t,"a[href]")},ue=function(e,t){var n=t?t.innerText||t.textContent:e.getContent({format:"text"});return ie(n)},ce=function(e){return e&&"A"===e.nodeName&&!!re(e)},se=function(e){return V.grep(e,ce).length>0},le=function(e){return!(/</.test(e)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(e)||-1===e.indexOf("href=")))},fe=function(e){return e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className)},de=function(e){return B(["title","rel","class","target"],function(t,n){return e[n].each(function(e){t[n]=e.length>0?e:null}),t},{href:e.href})},me=function(e,t){return"http"!==t&&"https"!==t||ne(e)?e:t+"://"+e},pe=function(e,t){var n=Y({},t);if(!(h(e).length>0)&&!1===y(e)){var r=oe(n.rel,"_blank"===n.target);n.rel=r||null}return A.from(n.target).isNone()&&!1===g(e)&&(n.target=p(e)),n.href=me(n.href,f(e)),n},ge=function(e,t,n,r){n.each(function(e){t.hasOwnProperty("innerText")?t.innerText=e:t.textContent=e}),e.dom.setAttribs(t,r),e.selection.select(t)},he=function(e,t,n,r){fe(t)?ke(e,t,r):n.fold(function(){e.execCommand("mceInsertLink",!1,r)},function(t){e.insertContent(e.dom.createHTML("a",r,e.dom.encode(t)))})},ve=function(e,t,n){var r=e.selection.getNode(),o=ae(e,r),i=pe(e,de(n));e.undoManager.transact(function(){n.href===t.href&&t.attach(),o?(e.focus(),ge(e,o,n.text,i)):he(e,r,n.text,i)})},be=function(e){e.undoManager.transact(function(){var t=e.selection.getNode();if(fe(t))Ce(e,t);else{var n=e.dom.getParent(t,"a[href]",e.getBody());n&&e.dom.remove(n,!0)}e.focus()})},ye=function(e){var t=e.class,n=e.href,r=e.rel,o=e.target,i=e.text,a=e.title;return ee({class:t.getOrNull(),href:n,rel:r.getOrNull(),target:o.getOrNull(),text:i.getOrNull(),title:a.getOrNull()},function(e,t){return!1===c(e)})},we=function(e,t,n){te(e)?e.execCommand("createlink",!1,ye(n)):ve(e,t,n)},xe=function(e){te(e)?e.execCommand("unlink"):be(e)},Ce=function(e,t){var n=e.dom.select("img",t)[0];if(n){var r=e.dom.getParents(n,"a[href]",t)[0];r&&(r.parentNode.insertBefore(n,r),e.dom.remove(r))}},ke=function(e,t,n){var r=e.dom.select("img",t)[0];if(r){var o=e.dom.create("a",n);r.parentNode.insertBefore(o,r),o.appendChild(r)}},Se=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},Te=function(e,t){return F(t,function(t){return A.some(t).filter(function(t){return t.value===e})})},Ne=function(e,t,n,r){var o=r[t],i=e.length>0;return void 0!==o?Te(o,n).map(function(t){return{url:{value:t.value,meta:{text:i?e:t.text,attach:C}},text:i?e:t.text}}):A.none()},Ee=function(e,t){return"link"===t?e.catalogs.link:"anchor"===t?e.catalogs.anchor:A.none()},Oe=function(e,t){var n=Se(e.text),r=function(e){if(n.get().length<=0){var t=void 0!==e.url.meta.text?e.url.meta.text:e.url.value,r=void 0!==e.url.meta.title?e.url.meta.title:"";return A.some({text:t,title:r})}return A.none()},o=function(e,r){var o=Ee(t,r.name).getOr([]);return Ne(n.get(),r.name,o,e)};return{onChange:function(e,t){return"url"===t.name?r(e()):P(["anchor","link"],t.name)?o(e(),t):"text"===t.name?(n.set(e().text),A.none()):A.none()}}},_e={init:Oe,getDelta:Ne},Ae=tinymce.util.Tools.resolve("tinymce.util.Delay"),De=tinymce.util.Tools.resolve("tinymce.util.Promise"),Re=function(e,t,n){var r=e.selection.getRng();Ae.setEditorTimeout(e,function(){e.windowManager.confirm(t,function(t){e.selection.setRng(r),n(t)})})},Me=function(e){var t=e.href;return t.indexOf("@")>0&&-1===t.indexOf("/")&&-1===t.indexOf("mailto:")?A.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(e){return Y(Y({},e),{href:"mailto:"+t})}}):A.none()},Pe=function(e,t){return function(n){var r=n.href;return 1===e&&!ne(r)||0===e&&/^\s*www[\.|\d\.]/i.test(r)?A.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+t+":// prefix?",preprocess:function(e){return Y(Y({},e),{href:t+"://"+r})}}):A.none()}},Ie=function(e,t){return F([Me,Pe(f(e),x(e))],function(e){return e(t)}).fold(function(){return De.resolve(t)},function(n){return new De(function(r){Re(e,n.message,function(e){r(e?n.preprocess(t):t)})})})},ze={preprocess:Ie},Be=function(e){var t=e.dom.select("a:not([href])"),n=H(t,function(e){var t=e.name||e.id;return t?[{text:t,value:"#"+t}]:[]});return n.length>0?A.some([{text:"None",value:""}].concat(n)):A.none()},Le={getAnchors:Be},He=function(e){var t=v(e);return t.length>0?K.sanitize(t):A.none()},Fe={getClasses:He},je=tinymce.util.Tools.resolve("tinymce.util.XHR"),Ve=function(e){try{return A.some(JSON.parse(e))}catch(e){return A.none()}},Ue=function(e){var t=function(t){return e.convertURL(t.value||t.url,"href")},n=m(e);return new De(function(e){a(n)?je.send({url:n,success:function(t){return e(Ve(t))},error:function(t){return e(A.none())}}):l(n)?n(function(t){return e(A.some(t))}):e(A.from(n))}).then(function(e){return e.bind(K.sanitizeWith(t)).map(function(e){return e.length>0?[{text:"None",value:""}].concat(e):e})})},qe={getLinks:Ue},$e=function(e,t){var n=h(e);if(n.length>0){var r=t.is("_blank"),o=!1===y(e),i=function(e){return oe(K.getValue(e),r)};return(o?K.sanitizeWith(i):K.sanitize)(n)}return A.none()},We={getRels:$e},Ge=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Ke=function(e){var t=g(e);return u(t)?K.sanitize(t).orThunk(function(){return A.some(Ge)}):!1===t?A.none():A.some(Ge)},Ye={getTargets:Ke},Xe=function(e,t,n){var r=e.getAttrib(t,n);return null!==r&&r.length>0?A.some(r):A.none()},Je=function(e,t){var n=e.dom,r=le(e.selection.getContent()),o=r?A.some(ue(e.selection,t)):A.none(),i=t?A.some(n.getAttrib(t,"href")):A.none(),a=t?A.from(n.getAttrib(t,"target")):A.none(),u=Xe(n,t,"rel"),c=Xe(n,t,"class");return{url:i,text:o,title:Xe(n,t,"title"),target:a,rel:u,linkClass:c}},Qe=function(e,t){return qe.getLinks(e).then(function(n){var r=Je(e,t);return{anchor:r,catalogs:{targets:Ye.getTargets(e),rels:We.getRels(e,r.target),classes:Fe.getClasses(e),anchor:Le.getAnchors(e),link:n},optNode:A.from(t),flags:{titleEnabled:b(e)}}})},Ze={collect:Qe},et=function(e,t){return function(n){var r=n.getData();if(!r.url.value)return xe(e),void n.close();var o=function(e){return A.from(r[e]).filter(function(n){return!t.anchor[e].is(n)})},i={href:r.url.value,text:o("text"),target:o("target"),rel:o("rel"),class:o("linkClass"),title:o("title")},a={href:r.url.value,attach:void 0!==r.url.meta&&r.url.meta.attach?r.url.meta.attach:function(){}};ze.preprocess(e,i).then(function(t){we(e,a,t)}),n.close()}},tt=function(e){var t=ae(e);return Ze.collect(e,t)},nt=function(e,t){return{url:{value:e.anchor.url.getOr(""),meta:{attach:function(){},text:e.anchor.url.fold(function(){return""},function(){return e.anchor.text.getOr("")}),original:{value:e.anchor.url.getOr("")}}},text:e.anchor.text.getOr(""),title:e.anchor.title.getOr(""),anchor:e.anchor.url.getOr(""),link:e.anchor.url.getOr(""),rel:e.anchor.rel.getOr(""),target:e.anchor.target.or(t).getOr(""),linkClass:e.anchor.linkClass.getOr("")}},rt=function(e,t,n){var r=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],o=e.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),i=e.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],a=A.from(p(n)),u=nt(e,a),c=_e.init(u,e),s=e.catalogs;return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:L([r,o,i,j([s.anchor.map(K.createUi("anchor","Anchors")),s.rels.map(K.createUi("rel","Rel")),s.targets.map(K.createUi("target","Open link in...")),s.link.map(K.createUi("link","Link list")),s.classes.map(K.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:u,onChange:function(e,t){var n=t.name;c.onChange(e.getData,{name:n}).each(function(t){e.setData(t)})},onSubmit:t}},ot=function(e){tt(e).then(function(t){var n=et(e,t);return rt(t,n,e)}).then(function(t){e.windowManager.open(t)})},it=function(t,n){e.document.body.appendChild(t),t.dispatchEvent(n),e.document.body.removeChild(t)},at=function(t){var n=e.document.createElement("a");n.target="_blank",n.href=t,n.rel="noreferrer noopener";var r=e.document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,e.window,0,0,0,0,0,!1,!1,!1,!1,0,null),it(n,r)},ut=function(e,t){return e.dom.getParent(t,"a[href]")},ct=function(e){return ut(e,e.selection.getStart())},st=function(e){return!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey},lt=function(e,t){if(t){var n=re(t);if(/^#/.test(n)){var r=e.$(n);r.length&&e.selection.scrollIntoView(r[0],!0)}else at(t.href)}},ft=function(e){return function(){ot(e)}},dt=function(e){return function(){lt(e,ct(e))}},mt=function(e){e.on("click",function(t){var r=ut(e,t.target);r&&n.metaKeyPressed(t)&&(t.preventDefault(),lt(e,r))}),e.on("keydown",function(t){var n=ct(e);n&&13===t.keyCode&&st(t)&&(t.preventDefault(),lt(e,n))})},pt=function(e){return function(t){var n=function(n){return t.setActive(!e.mode.isReadOnly()&&!!ae(e,n.element))};return e.on("NodeChange",n),function(){return e.off("NodeChange",n)}}},gt=function(e){return function(t){var n=e.dom.getParents(e.selection.getStart());t.setDisabled(!se(n));var r=function(e){return t.setDisabled(!se(e.parents))};return e.on("NodeChange",r),function(){return e.off("NodeChange",r)}}},ht=function(e){e.addCommand("mceLink",function(){w(e)?e.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):ft(e)()})},vt=function(e){e.addShortcut("Meta+K","",function(){e.execCommand("mceLink")})},bt=function(e){e.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:ft(e),onSetup:pt(e)}),e.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:dt(e),onSetup:gt(e)}),e.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return xe(e)},onSetup:gt(e)})},yt=function(e){e.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:dt(e),onSetup:gt(e)}),e.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:ft(e)}),e.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return xe(e)},onSetup:gt(e)})},wt=function(e){e.ui.registry.addContextMenu("link",{update:function(t){return se(e.dom.getParents(t,"a"))?"link unlink openlink":"link"}})},xt=function(e){var t=function(e){e.selection.collapse(!1)},n=function(t){var n=e.selection.getNode();return t.setDisabled(!ae(e,n)),function(){}};e.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:pt(e)},label:"Link",predicate:function(t){return!!ae(e,t)&&d(e)},initValue:function(){var t=ae(e);return t?re(t):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(t){var n=e.selection.getNode();return t.setActive(!!ae(e,n)),pt(e)(t)},onAction:function(n){var r=ae(e),o=n.getValue();if(r)e.undoManager.transact(function(){e.dom.setAttrib(r,"href",o),t(e),n.hide()});else{var i={href:o,attach:function(){}},a=le(e.selection.getContent()),u=a?A.some(ue(e.selection,r)).filter(function(e){return e.length>0}).or(A.from(o)):A.none();we(e,i,{href:o,text:u,title:A.none(),rel:A.none(),target:A.none(),class:A.none()}),n.hide()}}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:n,onAction:function(t){xe(e),t.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:n,onAction:function(t){dt(e)(),t.hide()}}]})};!function(){t.add("link",function(e){bt(e),yt(e),wt(e),xt(e),mt(e),ht(e),vt(e)})}()}(window)},function(e,t,n){n(76)},function(e,t){!function(e){"use strict";function t(e){return e&&"PRE"===e.nodeName&&-1!==e.className.indexOf("language-")}function n(e){return function(t,n){return e(n)}}var r=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=function(){},i=function(e){return function(){return e}},a=i(!1),u=i(!0),c=function(){return s},s=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:a,isSome:a,isNone:u,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:n,orThunk:t,map:c,each:o,bind:c,exists:a,forall:u,filter:c,equals:e,equals_:e,toArray:function(){return[]},toString:i("none()")}}(),l=function(e){var t=i(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:u,isNone:a,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return l(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:s},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(a,function(t){return n(e,t)})}};return o},f=function(e){return null===e||void 0===e?s:l(e)},d={some:l,none:c,from:f},m=function(e){return 0===e.length?d.none():d.some(e[0])},p=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),g=void 0!==e.window?e.window:Function("return this;")(),h={},v={exports:h},b={};!function(e,t,n,r){var o=window.Prism;window.Prism={manual:!0},function(r){if("object"==typeof t&&void 0!==n)n.exports=r();else if("function"==typeof e&&e.amd)e([],r);else{var o;o="undefined"!=typeof window?window:void 0!==b?b:"undefined"!=typeof self?self:this,o.EphoxContactWrapper=r()}}(function(){return function(){function e(t,n,o){function i(u,c){if(!n[u]){if(!t[u]){var s="function"==typeof r&&r;if(!c&&s)return s(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}};t[u][0].call(f.exports,function(e){return i(t[u][1][e]||e)},f,f.exports,e,t,n,o)}return n[u].exports}for(var a="function"==typeof r&&r,u=0;u<o.length;u++)i(o[u]);return i}return e}()({1:[function(e,t,n){Prism.languages.c=Prism.languages.extend("clike",{"class-name":{pattern:/(\b(?:enum|struct)\s+)\w+/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*\/%&|^!=<>]=?/,number:/(?:\b0x(?:[\da-f]+\.?[\da-f]*|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?)[ful]*/i}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z]+(?:[^\r\n\\]|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,alias:"property",inside:{string:{pattern:/(#\s*include\s*)(?:<.+?>|("|')(?:\\?.)+?\2)/,lookbehind:!0},directive:{pattern:/(#\s*)\b(?:define|defined|elif|else|endif|error|ifdef|ifndef|if|import|include|line|pragma|undef|using)\b/,lookbehind:!0,alias:"keyword"}}},constant:/\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/}),delete Prism.languages.c.boolean},{}],2:[function(e,t,n){Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*\/~^%]/,punctuation:/[{}[\];(),.:]/}},{}],3:[function(e,t,n){(function(e){var n="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},r=function(e){function t(e,t,n,r,o){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length,this.greedy=!!o}var n=/\blang(?:uage)?-([\w-]+)\b/i,r=0,o={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof t?new t(e.type,o.util.encode(e.content),e.alias):Array.isArray(e)?e.map(o.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++r}),e.__id},clone:function e(t,n){var r,i,a=o.util.type(t);switch(n=n||{},a){case"Object":if(i=o.util.objId(t),n[i])return n[i];r={},n[i]=r;for(var u in t)t.hasOwnProperty(u)&&(r[u]=e(t[u],n));return r;case"Array":return i=o.util.objId(t),n[i]?n[i]:(r=[],n[i]=r,t.forEach(function(t,o){r[o]=e(t,n)}),r);default:return t}},getLanguage:function(e){for(;e&&!n.test(e.className);)e=e.parentElement;return e?(e.className.match(n)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(r.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}}},languages:{extend:function(e,t){var n=o.util.clone(o.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){r=r||o.languages;var i=r[e],a={};for(var u in i)if(i.hasOwnProperty(u)){if(u==t)for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c]);n.hasOwnProperty(u)||(a[u]=i[u])}var s=r[e];return r[e]=a,o.languages.DFS(o.languages,function(t,n){n===s&&t!=e&&(this[t]=a)}),a},DFS:function e(t,n,r,i){i=i||{};var a=o.util.objId;for(var u in t)if(t.hasOwnProperty(u)){n.call(t,u,t[u],r||u);var c=t[u],s=o.util.type(c);"Object"!==s||i[a(c)]?"Array"!==s||i[a(c)]||(i[a(c)]=!0,e(c,n,u,i)):(i[a(c)]=!0,e(c,n,null,i))}}},plugins:{},highlightAll:function(e,t){o.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),o.hooks.run("before-all-elements-highlight",r);for(var i,a=0;i=r.elements[a++];)o.highlightElement(i,!0===t,r.callback)},highlightElement:function(t,r,i){function a(e){f.highlightedCode=e,o.hooks.run("before-insert",f),f.element.innerHTML=f.highlightedCode,o.hooks.run("after-highlight",f),o.hooks.run("complete",f),i&&i.call(f.element)}var u=o.util.getLanguage(t),c=o.languages[u];t.className=t.className.replace(n,"").replace(/\s+/g," ")+" language-"+u;var s=t.parentNode;s&&"pre"===s.nodeName.toLowerCase()&&(s.className=s.className.replace(n,"").replace(/\s+/g," ")+" language-"+u);var l=t.textContent,f={element:t,language:u,grammar:c,code:l};if(o.hooks.run("before-sanity-check",f),!f.code)return o.hooks.run("complete",f),void(i&&i.call(f.element));if(o.hooks.run("before-highlight",f),!f.grammar)return void a(o.util.encode(f.code));if(r&&e.Worker){var d=new Worker(o.filename);d.onmessage=function(e){a(e.data)},d.postMessage(JSON.stringify({language:f.language,code:f.code,immediateClose:!0}))}else a(o.highlight(f.code,f.grammar,f.language))},highlight:function(e,n,r){var i={code:e,grammar:n,language:r};return o.hooks.run("before-tokenize",i),i.tokens=o.tokenize(i.code,i.grammar),o.hooks.run("after-tokenize",i),t.stringify(o.util.encode(i.tokens),i.language)},matchGrammar:function(e,n,r,i,a,u,c){for(var s in r)if(r.hasOwnProperty(s)&&r[s]){var l=r[s];l=Array.isArray(l)?l:[l];for(var f=0;f<l.length;++f){if(c&&c==s+","+f)return;var d=l[f],m=d.inside,p=!!d.lookbehind,g=!!d.greedy,h=0,v=d.alias;if(g&&!d.pattern.global){var b=d.pattern.toString().match(/[imsuy]*$/)[0];d.pattern=RegExp(d.pattern.source,b+"g")}d=d.pattern||d;for(var y=i,w=a;y<n.length;w+=n[y].length,++y){var x=n[y];if(n.length>e.length)return;if(!(x instanceof t)){if(g&&y!=n.length-1){d.lastIndex=w;var C=d.exec(e);if(!C)break;for(var k=C.index+(p&&C[1]?C[1].length:0),S=C.index+C[0].length,T=y,N=w,E=n.length;T<E&&(N<S||!n[T].type&&!n[T-1].greedy);++T)N+=n[T].length,k>=N&&(++y,w=N);if(n[y]instanceof t)continue;O=T-y,x=e.slice(w,N),C.index-=w}else{d.lastIndex=0;var C=d.exec(x),O=1}if(C){p&&(h=C[1]?C[1].length:0);var k=C.index+h,C=C[0].slice(h),S=k+C.length,_=x.slice(0,k),A=x.slice(S),D=[y,O];_&&(++y,w+=_.length,D.push(_));var R=new t(s,m?o.tokenize(C,m):C,v,C,g);if(D.push(R),A&&D.push(A),Array.prototype.splice.apply(n,D),1!=O&&o.matchGrammar(e,n,r,y,w,!0,s+","+f),u)break}else if(u)break}}}}},tokenize:function(e,t){var n=[e],r=t.rest;if(r){for(var i in r)t[i]=r[i];delete t.rest}return o.matchGrammar(e,n,t,0,0,!1),n},hooks:{all:{},add:function(e,t){var n=o.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=o.hooks.all[e];if(n&&n.length)for(var r,i=0;r=n[i++];)r(t)}},Token:t};if(e.Prism=o,t.stringify=function(e,n){if("string"==typeof e)return e;if(Array.isArray(e))return e.map(function(e){return t.stringify(e,n)}).join("");var r={type:e.type,content:t.stringify(e.content,n),tag:"span",classes:["token",e.type],attributes:{},language:n};if(e.alias){var i=Array.isArray(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(r.classes,i)}o.hooks.run("wrap",r);var a=Object.keys(r.attributes).map(function(e){return e+'="'+(r.attributes[e]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+r.tag+' class="'+r.classes.join(" ")+'"'+(a?" "+a:"")+">"+r.content+"</"+r.tag+">"},!e.document)return e.addEventListener?(o.disableWorkerMessageHandler||e.addEventListener("message",function(t){var n=JSON.parse(t.data),r=n.language,i=n.code,a=n.immediateClose;e.postMessage(o.highlight(i,o.languages[r],r)),a&&e.close()},!1),o):o;var i=o.util.currentScript();if(i&&(o.filename=i.src,i.hasAttribute("data-manual")&&(o.manual=!0)),!o.manual){var a=function(){o.manual||o.highlightAll()},u=document.readyState;"loading"===u||"interactive"===u&&i&&i.defer?document.addEventListener("DOMContentLoaded",a):window.requestAnimationFrame?window.requestAnimationFrame(a):window.setTimeout(a,16)}return o}(n);void 0!==t&&t.exports&&(t.exports=r),void 0!==e&&(e.Prism=r)}).call(this,void 0!==b?b:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,n){Prism.languages.cpp=Prism.languages.extend("c",{"class-name":{pattern:/(\b(?:class|enum|struct)\s+)\w+/,lookbehind:!0},keyword:/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|class|compl|const|constexpr|const_cast|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+\.?[\da-f']*|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+\.?[\d']*|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]*/i,greedy:!0},operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*\/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:true|false)\b/}),Prism.languages.insertBefore("cpp","string",{"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}})},{}],5:[function(e,t,n){Prism.languages.csharp=Prism.languages.extend("clike",{keyword:/\b(?:abstract|add|alias|as|ascending|async|await|base|bool|break|byte|case|catch|char|checked|class|const|continue|decimal|default|delegate|descending|do|double|dynamic|else|enum|event|explicit|extern|false|finally|fixed|float|for|foreach|from|get|global|goto|group|if|implicit|in|int|interface|internal|into|is|join|let|lock|long|namespace|new|null|object|operator|orderby|out|override|params|partial|private|protected|public|readonly|ref|remove|return|sbyte|sealed|select|set|short|sizeof|stackalloc|static|string|struct|switch|this|throw|true|try|typeof|uint|ulong|unchecked|unsafe|ushort|using|value|var|virtual|void|volatile|where|while|yield)\b/,string:[{pattern:/@("|')(?:\1\1|\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*?\1/,greedy:!0}],"class-name":[{pattern:/\b[A-Z]\w*(?:\.\w+)*\b(?=\s+\w+)/,inside:{punctuation:/\./}},{pattern:/(\[)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/(\b(?:class|interface)\s+[A-Z]\w*(?:\.\w+)*\s*:\s*)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/((?:\b(?:class|interface|new)\s+)|(?:catch\s+\())[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}}],number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)f?/i,operator:/>>=?|<<=?|[-=]>|([-+&|?])\1|~|[-+*\/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),Prism.languages.insertBefore("csharp","class-name",{"generic-method":{pattern:/\w+\s*<[^>\r\n]+?>\s*(?=\()/,inside:{function:/^\w+/,"class-name":{pattern:/\b[A-Z]\w*(?:\.\w+)*\b/,inside:{punctuation:/\./}},keyword:Prism.languages.csharp.keyword,punctuation:/[<>(),.:]/}},preprocessor:{pattern:/(^\s*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(\s*#)\b(?:define|elif|else|endif|endregion|error|if|line|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}}),Prism.languages.dotnet=Prism.languages.cs=Prism.languages.csharp},{}],6:[function(e,t,n){!function(e){var t=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+[\s\S]*?(?:;|(?=\s*\{))/,inside:{rule:/@[\w-]+/}},url:{pattern:RegExp("url\\((?:"+t.source+"|[^\n\r()]*)\\)","i"),inside:{function:/^url/i,punctuation:/^\(|\)$/}},selector:RegExp("[^{}\\s](?:[^{};\"']|"+t.source+")*?(?=\\s*\\{)"),string:{pattern:t,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),e.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:n.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:e.languages.css}},alias:"language-css"}},n.tag))}(Prism)},{}],7:[function(e,t,n){!function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|null|open|opens|package|private|protected|provides|public|requires|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/\b[A-Z](?:\w*[a-z]\w*)?\b/;e.languages.java=e.languages.extend("clike",{"class-name":[n,/\b[A-Z]\w*(?=\s+\w+\s*[;,=())])/],keyword:t,function:[e.languages.clike.function,{pattern:/(\:\:)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x[\da-f_]*\.?[\da-f_p+-]+\b|(?:\b\d[\d_]*\.?[\d_]*|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*\/%&|^!=<>]=?)/m,lookbehind:!0}}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"}}),e.languages.insertBefore("java","class-name",{annotation:{alias:"punctuation",pattern:/(^|[^.])@\w+/,lookbehind:!0},namespace:{pattern:/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)[a-z]\w*(?:\.[a-z]\w*)+/,lookbehind:!0,inside:{punctuation:/\./}},generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":n,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})}(Prism)},{}],8:[function(e,t,n){Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/--|\+\+|\*\*=?|=>|&&|\|\||[!=]==|<<=?|>>>?=?|[-+*\/%&|^!=<>]=?|\.{3}|\?[.?]?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^\/\\\[\r\n])+\/[gimyus]{0,6}(?=(?:\s|\/\*[\s\S]*?\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.js=Prism.languages.javascript},{}],9:[function(e,t,n){!function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,r,o,i){if(n.language===r){var a=n.tokenStack=[];n.code=n.code.replace(o,function(e){if("function"==typeof i&&!i(e))return e;for(var o,u=a.length;-1!==n.code.indexOf(o=t(r,u));)++u;return a[u]=e,o}),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,r){function o(u){for(var c=0;c<u.length&&!(i>=a.length);c++){var s=u[c];if("string"==typeof s||s.content&&"string"==typeof s.content){var l=a[i],f=n.tokenStack[l],d="string"==typeof s?s:s.content,m=t(r,l),p=d.indexOf(m);if(p>-1){++i;var g=d.substring(0,p),h=new e.Token(r,e.tokenize(f,n.grammar),"language-"+r,f),v=d.substring(p+m.length),b=[];g&&b.push.apply(b,o([g])),b.push(h),v&&b.push.apply(b,o([v])),"string"==typeof s?u.splice.apply(u,[c,1].concat(b)):s.content=b}}else s.content&&o(s.content)}return u}if(n.language===r&&n.tokenStack){n.grammar=e.languages[r];var i=0,a=Object.keys(n.tokenStack);o(n.tokens)}}}})}(Prism)},{}],10:[function(e,t,n){Prism.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:(?!<!--)[^"'\]]|"[^"]*"|'[^']*'|<!--[\s\S]*?-->)*\]\s*)?>/i,greedy:!0},cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s\/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var o={};o[e]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,e),"i"),lookbehind:!0,greedy:!0,inside:r},Prism.languages.insertBefore("markup","cdata",o)}}),Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup},{}],11:[function(e,t,n){!function(e){e.languages.php=e.languages.extend("clike",{keyword:/\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|class|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|eval|exit|extends|final|finally|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|new|or|parent|print|private|protected|public|require|require_once|return|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i,boolean:{pattern:/\b(?:false|true)\b/i,alias:"constant"},constant:[/\b[A-Z_][A-Z0-9_]*\b/,/\b(?:null)\b/i],comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0}}),e.languages.insertBefore("php","string",{"shell-comment":{pattern:/(^|[^\\])#.*/,lookbehind:!0,alias:"comment"}}),e.languages.insertBefore("php","comment",{delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"}}),e.languages.insertBefore("php","keyword",{variable:/\$+(?:\w+\b|(?={))/i,package:{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/,lookbehind:!0,inside:{punctuation:/\\/}}}),e.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/,lookbehind:!0}});var t={pattern:/{\$(?:{(?:{[^{}]+}|[^{}]+)}|[^{}])+}|(^|[^\\{])\$+(?:\w+(?:\[.+?]|->\w+)*)/,lookbehind:!0,inside:e.languages.php};e.languages.insertBefore("php","string",{"nowdoc-string":{pattern:/<<<'([^']+)'(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\1;/,greedy:!0,alias:"string",inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},"heredoc-string":{pattern:/<<<(?:"([^"]+)"(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\1;|([a-z_]\w*)(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\2;)/i,greedy:!0,alias:"string",inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:t}},"single-quoted-string":{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0,alias:"string"},"double-quoted-string":{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,alias:"string",inside:{interpolation:t}}}),delete e.languages.php.string,e.hooks.add("before-tokenize",function(t){if(/<\?/.test(t.code)){var n=/<\?(?:[^"'\/#]|\/(?![*\/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#)(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|\/\*[\s\S]*?(?:\*\/|$))*?(?:\?>|$)/gi;e.languages["markup-templating"].buildPlaceholders(t,"php",n)}}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"php")})}(Prism)},{}],12:[function(e,t,n){Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]+?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:{{)*){(?!{)(?:[^{}]|{(?!{)(?:[^{}]|{(?!{)(?:[^{}])+})+})+}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]+?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^\s*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python},{}],13:[function(e,t,n){!function(e){e.languages.ruby=e.languages.extend("clike",{comment:[/#.*/,{pattern:/^=begin\s[\s\S]*?^=end/m,greedy:!0}],"class-name":{pattern:/(\b(?:class)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|protected|private|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/});var t={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:e.languages.ruby}};delete e.languages.ruby.function,e.languages.insertBefore("ruby","keyword",{regex:[{pattern:/%r([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1[gim]{0,3}/,greedy:!0,inside:{interpolation:t}},{pattern:/%r\((?:[^()\\]|\\[\s\S])*\)[gim]{0,3}/,greedy:!0,inside:{interpolation:t}},{pattern:/%r\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}[gim]{0,3}/,greedy:!0,inside:{interpolation:t}},{pattern:/%r\[(?:[^\[\]\\]|\\[\s\S])*\][gim]{0,3}/,greedy:!0,inside:{interpolation:t}},{pattern:/%r<(?:[^<>\\]|\\[\s\S])*>[gim]{0,3}/,greedy:!0,inside:{interpolation:t}},{pattern:/(^|[^\/])\/(?!\/)(?:\[.+?]|\\.|[^\/\\\r\n])+\/[gim]{0,3}(?=\s*(?:$|[\r\n,.;})]))/,lookbehind:!0,greedy:!0}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:{pattern:/(^|[^:]):[a-zA-Z_]\w*(?:[?!]|\b)/,lookbehind:!0},"method-definition":{pattern:/(\bdef\s+)[\w.]+/,lookbehind:!0,inside:{function:/\w+$/,rest:e.languages.ruby}}}),e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|Fixnum|Float|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z]\w*(?:[?!]|\b)/}),e.languages.ruby.string=[{pattern:/%[qQiIwWxs]?([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/,greedy:!0,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\((?:[^()\\]|\\[\s\S])*\)/,greedy:!0,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/,greedy:!0,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\[(?:[^\[\]\\]|\\[\s\S])*\]/,greedy:!0,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?<(?:[^<>\\]|\\[\s\S])*>/,greedy:!0,inside:{interpolation:t}},{pattern:/("|')(?:#\{[^}]+\}|\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{interpolation:t}}],e.languages.rb=e.languages.ruby}(Prism)},{}],14:[function(e,t,n){var r=e("prismjs/components/prism-core");e("prismjs/components/prism-clike"),e("prismjs/components/prism-markup-templating"),e("prismjs/components/prism-c"),e("prismjs/components/prism-cpp"),e("prismjs/components/prism-csharp"),e("prismjs/components/prism-css"),e("prismjs/components/prism-java"),e("prismjs/components/prism-javascript"),e("prismjs/components/prism-markup"),e("prismjs/components/prism-php"),e("prismjs/components/prism-python"),e("prismjs/components/prism-ruby"),t.exports={boltExport:r}},{"prismjs/components/prism-c":1,"prismjs/components/prism-clike":2,"prismjs/components/prism-core":3,"prismjs/components/prism-cpp":4,"prismjs/components/prism-csharp":5,"prismjs/components/prism-css":6,"prismjs/components/prism-java":7,"prismjs/components/prism-javascript":8,"prismjs/components/prism-markup":10,"prismjs/components/prism-markup-templating":9,"prismjs/components/prism-php":11,"prismjs/components/prism-python":12,"prismjs/components/prism-ruby":13}]},{},[14])(14)});var i=window.Prism;window.Prism=o}(void 0,h,v,void 0);var y=v.exports.boltExport,w=function(e){return e.getParam("codesample_languages")},x=function(e){return e.getParam("codesample_global_prismjs",!1,"boolean")},C=function(e){return g.Prism&&x(e)?g.Prism:y},k=function(e){var n=e.selection?e.selection.getNode():null;return t(n)?d.some(n):d.none()},S=function(e,t,n){e.undoManager.transact(function(){var r=k(e);return n=p.DOM.encode(n),r.fold(function(){e.insertContent('<pre id="__new" class="language-'+t+'">'+n+"</pre>"),e.selection.select(e.$("#__new").removeAttr("id")[0])},function(r){e.dom.setAttrib(r,"class","language-"+t),r.innerHTML=n,C(e).highlightElement(r),e.selection.select(r)})})},T=function(e){return k(e).fold(function(){return""},function(e){return e.textContent})},N=function(e){var t=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],n=w(e);return n||t},E=function(e,t){return k(e).fold(function(){return t},function(e){var n=e.className.match(/language-(\w+)/);return n?n[1]:t})},O=function(e){var t=N(e),n=m(t).fold(function(){return""},function(e){return e.value}),r=E(e,n),o=T(e);e.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"selectbox",name:"language",label:"Language",items:t},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:r,code:o},onSubmit:function(t){var n=t.getData();S(e,n.language,n.code),t.close()}})},_=function(e){e.addCommand("codesample",function(){var n=e.selection.getNode();e.selection.isCollapsed()||t(n)?O(e):e.formatter.toggle("code")})},A=function(e){var r=e.$;e.on("PreProcess",function(e){r("pre[contenteditable=false]",e.node).filter(n(t)).each(function(e,t){var n=r(t),o=t.textContent;n.attr("class",r.trim(n.attr("class"))),n.removeAttr("contentEditable"),n.empty().append(r("<code></code>").each(function(){this.textContent=o}))})}),e.on("SetContent",function(){var o=r("pre").filter(n(t)).filter(function(e,t){return"false"!==t.contentEditable});o.length&&e.undoManager.transact(function(){o.each(function(t,n){r(n).find("br").each(function(t,n){n.parentNode.replaceChild(e.getDoc().createTextNode("\n"),n)}),n.contentEditable="false",n.innerHTML=e.dom.encode(n.textContent),C(e).highlightElement(n),n.className=r.trim(n.className)})})})},D=function(e){var t=e.selection.getStart();return e.dom.is(t,'pre[class*="language-"]')},R=function(e){e.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:function(){return O(e)},onSetup:function(t){var n=function(){t.setActive(D(e))};return e.on("NodeChange",n),function(){return e.off("NodeChange",n)}}}),e.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:function(){return O(e)}})};!function(){r.add("codesample",function(e){A(e),R(e),_(e),e.on("dblclick",function(n){t(n.target)&&O(e)})})}()}(window)},function(e,t,n){n(78)},function(e,t){!function(e){"use strict";function t(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}function n(e,t,n,r,o){return e(n,r)?T.some(n):I(o)&&o(n)?T.none():t(n,r,o)}function r(){var e=function(e){return qe.fromDom(e.dom().cloneNode(!1))},t=function(e){return e.dom().ownerDocument},n=function(e){return!!we(e)&&("body"===he(e)||j(ao,he(e)))},r=function(e){return!!we(e)&&j(["br","img","hr","input"],he(e))},o=function(e){return we(e)&&"false"===Ee(e,"contenteditable")},i=function(e,t){return e.dom().compareDocumentPosition(t.dom())},a=function(e,t){var n=De(e);Ne(t,n)};return{up:g({selector:jn,closest:qn,predicate:Bn,all:It}),down:g({selector:zn,predicate:Mn}),styles:g({get:rn,getRaw:an,set:tn,remove:un}),attrs:g({get:Ee,set:Te,remove:Ae,copyTo:a}),insert:g({before:sn,after:ln,afterAll:gn,append:dn,appendAll:hn,prepend:fn,wrap:mn}),remove:g({unwrap:yn,remove:bn}),create:g({nu:qe.fromTag,clone:e,text:qe.fromText}),query:g({comparePosition:i,prevSibling:Bt,nextSibling:Lt}),property:g({children:Ht,name:he,parent:Pt,document:t,isText:xe,isComment:ye,isElement:we,getText:Cr,setText:Sr,isBoundary:n,isEmptyTag:r,isNonEditable:o}),eq:Nt,is:At}}function o(e,t){var n=function(t,n){if(!z(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom();Le(r)&&(r.style[e]=n+"px")},r=function(n){var r=t(n);if(r<=0||null===r){var o=rn(n,e);return parseFloat(o)||0}return r},o=r,i=function(e,t){return Y(t,function(t,n){var r=rn(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o},0)};return{set:n,get:r,getOuter:o,aggregate:i,max:function(e,t,n){var r=i(e,n);return t>r?t-r:0}}}function i(){var e=T.none(),t=function(){e=T.none()},n=function(t,n){var r=e.map(function(e){return t.compare(e,n)});return e=T.some(n),r},r=function(e,t){t.extract(e).each(function(e){n(t,e).each(function(e){o.trigger.move(e)})})},o=Ka({move:Ga(["info"])});return{onEvent:r,reset:t,events:o.registry}}function a(){return{onEvent:d,reset:d}}function u(){var e=a(),t=i(),n=e,r=function(){n.reset(),n=t},o=function(){n.reset(),n=e},u=function(e,t){n.onEvent(e,t)};return{on:r,off:o,isOn:function(){return n===t},onEvent:u,events:t.events}}function c(e,t,n,r){var o=T.none(),i=function(){o=T.none()};return{mousedown:function(e){r.clear(t),o=Ph(e.target(),n)},mouseover:function(i){o.each(function(o){r.clearBeforeUpdate(t),Ph(i.target(),n).each(function(i){wo(o,i,n).each(function(n){var a=n.boxes.getOr([]);(a.length>1||1===a.length&&!Nt(o,i))&&(r.selectRange(t,a,n.start,n.finish),e.selectContents(i))})})})},mouseup:function(e){o.each(i)}}}function s(e,t,n){var r=function(t,r,o){n.targets().each(function(n){rr(r).each(function(i){var a=Zc(e),u=Vr(d,qe.fromDom(e.getDoc()),a),c=av(i,n,u);Oc(e,t,r,o,c)})})},o=function(){return _c(e)},i=rv.byAttr(Ao,r,o);return e.on("init",function(n){var r=e.getWin(),o=ns(e),a=is(e),u=function(){var t=e.selection,n=qe.fromDom(t.getStart()),r=qe.fromDom(t.getEnd());vo(rr,[n,r]).fold(function(){return i.clear(o)},d)},c=Yh(r,o,a,i),s=Xh(r,o,a,i),l=Jh(r,o,a,i),f=function(e){return!0===e.raw().shiftKey};e.on("TableSelectorChange",function(e){return l(e.start,e.finish)});var m=function(t,n){f(t)&&(n.kill()&&t.kill(),n.selection().each(function(t){var n=Ym.relative(t.start(),t.finish()),o=sp(r,n);e.selection.setRng(o)}))},p=function(t){var n=gu(t);if(n.raw().shiftKey&&Fh(n.raw().which)){var r=e.selection.getRng(),o=qe.fromDom(r.startContainer),i=qe.fromDom(r.endContainer);s.keyup(n,o,r.startOffset,i,r.endOffset).each(function(e){m(n,e)})}},g=function(n){var r=gu(n);t().each(function(e){return e.hideBars()});var o=e.selection.getRng(),i=qe.fromDom(e.selection.getStart()),a=qe.fromDom(o.startContainer),u=qe.fromDom(o.endContainer),c=ps(i).isRtl()?Vh:jh;s.keydown(r,a,o.startOffset,u,o.endOffset,c).each(function(e){m(r,e)}),t().each(function(e){return e.showBars()})},h=function(e){return 0===e.button},v=function(e){return void 0===e.buttons||(!(!vm.browser.isEdge()||0!==e.buttons)||0!=(1&e.buttons))},b=function(e){h(e)&&uv(e)&&c.mousedown(gu(e))},y=function(e){v(e)&&uv(e)&&c.mouseover(gu(e))},w=function(e){h(e)&&uv(e)&&c.mouseup(gu(e))},x=function(){var e=gs(qe.fromDom(o)),t=gs(0);return{touchEnd:function(n){var r=qe.fromDom(n.target);if("td"===he(r)||"th"===he(r)){var o=e.get(),i=t.get();Nt(o,r)&&n.timeStamp-i<300&&(n.preventDefault(),l(r,r))}e.set(r),t.set(n.timeStamp)}}}();e.on("mousedown",b),e.on("mouseover",y),e.on("mouseup",w),e.on("touchend",x.touchEnd),e.on("keyup",p),e.on("keydown",g),e.on("NodeChange",u)}),{clear:i.clear}}function l(e){var t=cd(e),n=cv(e,t),r=Ps(e),o=s(e,r.lazyResize,n),i=pd(e,r.lazyWire),a=Tm();return km(e,i,o,t,a),Sm(e,i,t),Ko(e,t,i,o),fv(e,n,a),sv(e,n,a),lv(e),e.on("PreInit",function(){e.serializer.addTempAttr(Oo),e.serializer.addTempAttr(_o),mv(e)}),Lc(e)&&e.on("keydown",function(t){ng(t,e,i,r.lazyWire)}),e.on("remove",function(){r.destroy()}),Dd(e,a,r,n)}var f=tinymce.util.Tools.resolve("tinymce.PluginManager"),d=function(){},m=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},p=function(e,t){return function(n){return e(t(n))}},g=function(e){return function(){return e}},h=function(e){return e},v=function(e){return function(t){return!e(t)}},b=function(e){return function(){throw new Error(e)}},y=g(!1),w=g(!0),x=function(){return C},C=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:y,isSome:y,isNone:w,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:g(null),getOrUndefined:g(void 0),or:n,orThunk:t,map:x,each:d,bind:x,exists:y,forall:w,filter:x,equals:e,equals_:e,toArray:function(){return[]},toString:g("none()")}}(),k=function(e){var t=g(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:w,isNone:y,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return k(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:C},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(y,function(t){return n(e,t)})}};return o},S=function(e){return null===e||void 0===e?C:k(e)},T={some:k,none:x,from:S},N=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},E=function(e){return function(t){return N(t)===e}},O=function(e){return function(t){return typeof t===e}},_=E("string"),A=E("object"),D=E("array"),R=O("boolean"),M=function(e){return null===e||void 0===e},P=function(e){return!M(e)},I=O("function"),z=O("number"),B=Array.prototype.slice,L=Array.prototype.indexOf,H=Array.prototype.push,F=function(e,t){return L.call(e,t)},j=function(e,t){return F(e,t)>-1},V=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1},U=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},q=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},$=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},W=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n)}},G=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},K=function(e,t,n){return W(e,function(e){n=t(n,e)}),n},Y=function(e,t,n){return $(e,function(e){n=t(n,e)}),n},X=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return T.some(i);if(n(i,r))break}return T.none()},J=function(e,t){return X(e,t,y)},Q=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return T.some(n)}return T.none()},Z=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!D(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);H.apply(t,e[n])}return t},ee=function(e,t){return Z(q(e,t))},te=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n))return!1}return!0},ne=function(e){var t=B.call(e,0);return t.reverse(),t},re=function(e){return 0===e.length?T.none():T.some(e[0])},oe=function(e){return 0===e.length?T.none():T.some(e[e.length-1])},ie=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return T.none()},ae=Object.keys,ue=Object.hasOwnProperty,ce=function(e,t){for(var n=ae(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},se=function(e,t){return le(e,function(e,n){return{k:n,v:t(e,n)}})},le=function(e,t){var n={};return ce(e,function(e,r){var o=t(e,r);n[o.k]=o.v}),n},fe=function(e){return function(t,n){e[n]=t}},de=function(e,t,n,r){var o={};return ce(e,function(e,o){(t(e,o)?n:r)(e,o)}),o},me=function(e,t){var n={};return de(e,t,fe(n),d),n},pe=function(e,t){return ge(e,t)?T.from(e[t]):T.none()},ge=function(e,t){return ue.call(e,t)},he=(void 0!==e.window?e.window:Function("return this;")(),function(e){return e.dom().nodeName.toLowerCase()}),ve=function(e){return e.dom().nodeType},be=function(e){return function(t){return ve(t)===e}},ye=function(e){return 8===ve(e)||"#comment"===he(e)},we=be(1),xe=be(3),Ce=be(9),ke=be(11),Se=function(t,n,r){if(!(_(r)||R(r)||z(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")},Te=function(e,t,n){Se(e.dom(),t,n)},Ne=function(e,t){var n=e.dom();ce(t,function(e,t){Se(n,t,e)})},Ee=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},Oe=function(e,t){return T.from(Ee(e,t))},_e=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Ae=function(e,t){e.dom().removeAttribute(t)},De=function(e){return Y(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},Re=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},Me=function(e,t){return-1!==e.indexOf(t)},Pe=function(e,t){return Re(e,t,0)},Ie=function(e,t){return Re(e,t,e.length-t.length)},ze=function(e){return function(t){return t.replace(e,"")}}(/^\s+|\s+$/g),Be=function(e){return e.length>0},Le=function(e){return void 0!==e.style&&I(e.style.getPropertyValue)},He=function(t,n){var r=n||e.document,o=r.createElement("div");if(o.innerHTML=t,!o.hasChildNodes()||o.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Ve(o.childNodes[0])},Fe=function(t,n){var r=n||e.document,o=r.createElement(t);return Ve(o)},je=function(t,n){var r=n||e.document,o=r.createTextNode(t);return Ve(o)},Ve=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:g(e)}},Ue=function(e,t,n){var r=e.dom();return T.from(r.elementFromPoint(t,n)).map(Ve)},qe={fromHtml:He,fromTag:Fe,fromText:je,fromDom:Ve,fromPoint:Ue},$e=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},We=function(t,n){return $e(t,n,e.Node.DOCUMENT_POSITION_CONTAINED_BY)},Ge=function(){return Ge=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ge.apply(this,arguments)},Ke=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},Ye=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},Xe=function(e,t){var n=Ye(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return Ze(r(1),r(2))},Je=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Qe():Xe(e,n)},Qe=function(){return Ze(0,0)},Ze=function(e,t){return{major:e,minor:t}},et={nu:Ze,detect:Je,unknown:Qe},tt=function(){return nt({current:void 0,version:et.unknown()})},nt=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r("Edge"),isChrome:r("Chrome"),isIE:r("IE"),isOpera:r("Opera"),isFirefox:r("Firefox"),isSafari:r("Safari")}},rt={unknown:tt,nu:nt,edge:g("Edge"),chrome:g("Chrome"),ie:g("IE"),opera:g("Opera"),firefox:g("Firefox"),safari:g("Safari")},ot=function(){return it({current:void 0,version:et.unknown()})},it=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r("Windows"),isiOS:r("iOS"),isAndroid:r("Android"),isOSX:r("OSX"),isLinux:r("Linux"),isSolaris:r("Solaris"),isFreeBSD:r("FreeBSD"),isChromeOS:r("ChromeOS")}},at={unknown:ot,nu:it,windows:g("Windows"),ios:g("iOS"),android:g("Android"),linux:g("Linux"),osx:g("OSX"),solaris:g("Solaris"),freebsd:g("FreeBSD"),chromeos:g("ChromeOS")},ut=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,a=e.isiOS()||e.isAndroid(),u=a||r("(pointer:coarse)"),c=o||!i&&a&&r("(min-device-width:768px)"),s=i||a&&!c,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),f=!s&&!c&&!l;return{isiPad:g(o),isiPhone:g(i),isTablet:g(c),isPhone:g(s),isTouch:g(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:g(l),isDesktop:g(f)}},ct=function(e,t){var n=String(t).toLowerCase();return J(e,function(e){return e.search(n)})},st=function(e,t){return ct(e,t).map(function(e){var n=et.detect(e.versionRegexes,t);return{current:e.name,version:n}})},lt=function(e,t){return ct(e,t).map(function(e){var n=et.detect(e.versionRegexes,t);return{current:e.name,version:n}})},ft={detectBrowser:st,detectOs:lt},dt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,mt=function(e){return function(t){return Me(t,e)}},pt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Me(e,"edge/")&&Me(e,"chrome")&&Me(e,"safari")&&Me(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,dt],search:function(e){return Me(e,"chrome")&&!Me(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Me(e,"msie")||Me(e,"trident")}},{name:"Opera",versionRegexes:[dt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:mt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:mt("firefox")},{name:"Safari",versionRegexes:[dt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Me(e,"safari")||Me(e,"mobile/"))&&Me(e,"applewebkit")}}],gt=[{name:"Windows",search:mt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Me(e,"iphone")||Me(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:mt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:mt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:mt("linux"),versionRegexes:[]},{name:"Solaris",search:mt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:mt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:mt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ht={browsers:g(pt),oses:g(gt)},vt=function(e,t){var n=ht.browsers(),r=ht.oses(),o=ft.detectBrowser(n,e).fold(rt.unknown,rt.nu),i=ft.detectOs(r,e).fold(at.unknown,at.nu);return{browser:o,os:i,deviceType:ut(i,o,e,t)}},bt={detect:vt},yt=function(t){return e.window.matchMedia(t).matches},wt=Ke(function(){return bt.detect(e.navigator.userAgent,yt)}),xt=function(){return wt()},Ct=function(e,t){var n=e.dom();if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},kt=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},St=function(t,n){var r=void 0===n?e.document:n.dom();return kt(r)?[]:q(r.querySelectorAll(t),qe.fromDom)},Tt=function(t,n){var r=void 0===n?e.document:n.dom();return kt(r)?T.none():T.from(r.querySelector(t)).map(qe.fromDom)},Nt=function(e,t){return e.dom()===t.dom()},Et=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},Ot=function(e,t){return We(e.dom(),t.dom())},_t=function(e,t){return xt().browser.isIE()?Ot(e,t):Et(e,t)},At=Ct,Dt=function(e){return qe.fromDom(e.dom().ownerDocument)},Rt=function(e){return Ce(e)?e:Dt(e)},Mt=function(e){return qe.fromDom(e.dom().ownerDocument.defaultView)},Pt=function(e){return T.from(e.dom().parentNode).map(qe.fromDom)},It=function(e,t){for(var n=I(t)?t:y,r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=qe.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},zt=function(e){return T.from(e.dom().offsetParent).map(qe.fromDom)},Bt=function(e){return T.from(e.dom().previousSibling).map(qe.fromDom)},Lt=function(e){return T.from(e.dom().nextSibling).map(qe.fromDom)},Ht=function(e){return q(e.dom().childNodes,qe.fromDom)},Ft=function(e,t){var n=e.dom().childNodes;return T.from(n[t]).map(qe.fromDom)},jt=function(e){return Ft(e,0)},Vt=function(e){return ke(e)},Ut=I(e.Element.prototype.attachShadow)&&I(e.Node.prototype.getRootNode),qt=g(Ut),$t=Ut?function(e){return qe.fromDom(e.dom().getRootNode())}:Rt,Wt=function(e){var t=$t(e);return Vt(t)?T.some(t):T.none()},Gt=function(e){return qe.fromDom(e.dom().host)},Kt=function(e){if(qt()&&P(e.target)){var t=qe.fromDom(e.target);if(we(t)&&Yt(qe.fromDom(e.target))){var n=e;if(n.composed&&n.composedPath){var r=n.composedPath();if(r)return re(r)}}}return T.from(e.target)},Yt=function(e){return P(e.dom().shadowRoot)},Xt=function(e){var t=xe(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&null!==t.ownerDocument&&Wt(qe.fromDom(t)).fold(function(){return t.ownerDocument.body.contains(t)},p(Xt,Gt))},Jt=function(){return Qt(qe.fromDom(e.document))},Qt=function(e){var t=e.dom().body;if(null===t||void 0===t)throw new Error("Body is not available yet");return qe.fromDom(t)},Zt=function(t,n,r){if(!_(r))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new Error("CSS value must be a string: "+r);Le(t)&&t.style.setProperty(n,r)},en=function(e,t){Le(e)&&e.style.removeProperty(t)},tn=function(e,t,n){var r=e.dom();Zt(r,t,n)},nn=function(e,t){var n=e.dom();ce(t,function(e,t){Zt(n,t,e)})},rn=function(t,n){var r=t.dom(),o=e.window.getComputedStyle(r),i=o.getPropertyValue(n);return""!==i||Xt(t)?i:on(r,n)},on=function(e,t){return Le(e)?e.style.getPropertyValue(t):""},an=function(e,t){var n=e.dom(),r=on(n,t);return T.from(r).filter(function(e){return e.length>0})},un=function(e,t){var n=e.dom();en(n,t),Oe(e,"style").map(ze).is("")&&Ae(e,"style")},cn=function(e,t){var n=e.dom(),r=t.dom();Le(n)&&Le(r)&&(r.style.cssText=n.style.cssText)},sn=function(e,t){Pt(e).each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},ln=function(e,t){Lt(e).fold(function(){Pt(e).each(function(e){dn(e,t)})},function(e){sn(e,t)})},fn=function(e,t){jt(e).fold(function(){dn(e,t)},function(n){e.dom().insertBefore(t.dom(),n.dom())})},dn=function(e,t){e.dom().appendChild(t.dom())},mn=function(e,t){sn(e,t),dn(t,e)},pn=function(e,t){$(t,function(t){sn(e,t)})},gn=function(e,t){$(t,function(n,r){var o=0===r?e:t[r-1];ln(o,n)})},hn=function(e,t){$(t,function(t){dn(e,t)})},vn=function(e){e.dom().textContent="",$(Ht(e),function(e){bn(e)})},bn=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},yn=function(e){var t=Ht(e);t.length>0&&pn(e,t),bn(e)},wn=function(e,t){return{rows:g(e),columns:g(t)}},xn=function(e,t){return{row:g(e),column:g(t)}},Cn=function(e,t,n){return{element:g(e),rowspan:g(t),colspan:g(n)}},kn=function(e,t,n,r){return{element:g(e),rowspan:g(t),colspan:g(n),isNew:g(r)}},Sn=function(e,t,n,r,o){return{element:g(e),rowspan:g(t),colspan:g(n),row:g(r),column:g(o)}},Tn=function(e,t,n){return{element:g(e),cells:g(t),section:g(n)}},Nn=function(e,t){return{element:g(e),isNew:g(t)}},En=function(e,t,n,r){return{element:g(e),cells:g(t),section:g(n),isNew:g(r)}},On=function(e,t){return{cells:g(e),section:g(t)}},_n=function(e,t){return{details:g(e),section:g(t)}},An=function(e,t,n,r){return{startRow:g(e),startCol:g(t),finishRow:g(n),finishCol:g(r)}},Dn=function(e,t,n){return G(It(e,n),t)},Rn=function(e,t){return G(Ht(e),t)},Mn=function(e,t){var n=[];return $(Ht(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(Mn(e,t))}),n},Pn=function(e,t,n){return Dn(e,function(e){return Ct(e,t)},n)},In=function(e,t){return Rn(e,function(e){return Ct(e,t)})},zn=function(e,t){return St(t,e)},Bn=function(e,t,n){for(var r=e.dom(),o=I(n)?n:g(!1);r.parentNode;){r=r.parentNode;var i=qe.fromDom(r);if(t(i))return T.some(i);if(o(i))break}return T.none()},Ln=function(e,t,r){return n(function(e,t){return t(e)},Bn,e,t,r)},Hn=function(e,t){var n=function(e){return t(qe.fromDom(e))};return J(e.dom().childNodes,n).map(qe.fromDom)},Fn=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){var o=qe.fromDom(e.childNodes[r]);if(t(o))return T.some(o);var i=n(e.childNodes[r]);if(i.isSome())return i}return T.none()};return n(e.dom())},jn=function(e,t,n){return Bn(e,function(e){return Ct(e,t)},n)},Vn=function(e,t){return Hn(e,function(e){return Ct(e,t)})},Un=function(e,t){return Tt(t,e)},qn=function(e,t,r){return n(function(e,t){return Ct(e,t)},jn,e,t,r)},$n=function(e,t,n){return void 0===n&&(n=0),Oe(e,t).map(function(e){return parseInt(e,10)}).getOr(n)},Wn=function(e,t){return $n(e,t,1)},Gn=function(e){return Wn(e,"colspan")>1},Kn=function(e){return Wn(e,"rowspan")>1},Yn=function(e,t){return parseInt(rn(e,t),10)},Xn=g(10),Jn=g(10),Qn=function(e,t){return Zn(e,t,g(!0))},Zn=function(e,t,n){return ee(Ht(e),function(e){return Ct(e,t)?n(e)?[e]:[]:Zn(e,t,n)})},er=function(e,t,n){if(void 0===n&&(n=y),n(t))return T.none();if(j(e,he(t)))return T.some(t);var r=function(e){return Ct(e,"table")||n(e)};return jn(t,e.join(","),r)},tr=function(e,t){return er(["td","th"],e,t)},nr=function(e){return Qn(e,"th,td")},rr=function(e,t){return qn(e,"table",t)},or=function(e){return Qn(e,"tr")},ir=function(e){var t=or(e);return q(t,function(e){var t=e,n=Pt(t),r=n.map(function(e){var t=he(e);return"tfoot"===t||"thead"===t||"tbody"===t?t:"tbody"}).getOr("tbody"),o=q(nr(e),function(e){var t=$n(e,"rowspan",1),n=$n(e,"colspan",1);return Cn(e,t,n)});return Tn(t,o,r)})},ar=function(e,t){return q(e,function(e){var n=q(nr(e),function(e){var t=$n(e,"rowspan",1),n=$n(e,"colspan",1);return Cn(e,t,n)});return Tn(e,n,t.section())})},ur=function(e,t){return e+","+t},cr=function(e,t,n){var r=e.access[ur(t,n)];return void 0!==r?T.some(r):T.none()},sr=function(e,t,n){var r=lr(e,function(e){return n(t,e.element())});return r.length>0?T.some(r[0]):T.none()},lr=function(e,t){var n=ee(e.all,function(e){return e.cells()});return G(n,t)},fr=function(e){var t={},n=[],r=e.length,o=0;return $(e,function(e,r){var i=[];$(e.cells(),function(e){for(var n=0;void 0!==t[ur(r,n)];)n++;for(var a=Sn(e.element(),e.rowspan(),e.colspan(),r,n),u=0;u<e.colspan();u++)for(var c=0;c<e.rowspan();c++){var s=r+c,l=n+u,f=ur(s,l);t[f]=a,o=Math.max(o,l+1)}i.push(a)}),n.push(Tn(e.element(),i,e.section()))}),{grid:wn(r,o),access:t,all:n}},dr=function(e){var t=ir(e);return fr(t)},mr=function(e){var t=q(e.all,function(e){return e.cells()});return Z(t)},pr={fromTable:dr,generate:fr,getAt:cr,findItem:sr,filterItems:lr,justCells:mr},gr=function(e,t,n,r){return{minRow:e,minCol:t,maxRow:n,maxCol:r}},hr=function(e,t){var n=e.grid.columns(),r=e.grid.rows(),o=r,i=n,a=0,u=0;return ce(e.access,function(e){if(t(e)){var n=e.row(),r=n+e.rowspan()-1,c=e.column(),s=c+e.colspan()-1;n<o?o=n:r>a&&(a=r),c<i?i=c:s>u&&(u=s)}}),gr(o,i,a,u)},vr=function(e,t,n){var r=e[n].element(),o=qe.fromTag("td");dn(o,qe.fromTag("br")),(t?dn:fn)(r,o)},br=function(e,t,n,r){for(var o=t.grid.columns(),i=t.grid.rows(),a=0;a<i;a++)for(var u=!1,c=0;c<o;c++)if(!(a<n.minRow||a>n.maxRow||c<n.minCol||c>n.maxCol)){var s=pr.getAt(t,a,c).filter(r).isNone();s?vr(e,u,a):u=!0}},yr=function(e,t){var n=G(Qn(e,"tr"),function(e){return 0===e.dom().childElementCount});$(n,bn),t.minCol!==t.maxCol&&t.minRow!==t.maxRow||$(Qn(e,"th,td"),function(e){Ae(e,"rowspan"),Ae(e,"colspan")}),Ae(e,"width"),Ae(e,"height"),un(e,"width"),un(e,"height")},wr=function(e,t){var n=function(e){return Ct(e.element(),t)},r=ir(e),o=pr.generate(r),i=hr(o,n),a="th:not("+t+"),td:not("+t+")",u=Zn(e,"th,td",function(e){return Ct(e,a)});return $(u,bn),br(r,o,i,n),yr(e,i),e},xr=function(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?T.from(t.dom().nodeValue):T.none()};return{get:n,getOption:r,set:function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r}}}(xe,"text"),Cr=function(e){return xr.get(e)},kr=function(e){return xr.getOption(e)},Sr=function(e,t){return xr.set(e,t)},Tr=function(e){return"img"===he(e)?1:kr(e).fold(function(){return Ht(e).length},function(e){return e.length})},Nr=function(e){return kr(e).filter(function(e){return 0!==e.trim().length||e.indexOf(" ")>-1}).isSome()},Er=["img","br"],Or=function(e){return Nr(e)||j(Er,he(e))},_r=function(e){return Fn(e,Or)},Ar=function(e){return Dr(e,Or)},Dr=function(e,t){var n=function(e){for(var r=Ht(e),o=r.length-1;o>=0;o--){var i=r[o];if(t(i))return T.some(i);var a=n(i);if(a.isSome())return a}return T.none()};return n(e)},Rr=function(e,t){return qe.fromDom(e.dom().cloneNode(t))},Mr=function(e){return Rr(e,!1)},Pr=function(e){return Rr(e,!0)},Ir=function(e,t){var n=qe.fromTag(t),r=De(e);return Ne(n,r),n},zr=function(e,t){var n=Ir(e,t),r=Ht(Pr(e));return hn(n,r),n},Br=function(){var e=qe.fromTag("td");return dn(e,qe.fromTag("br")),e},Lr=function(e,t,n){var r=zr(e,t);return ce(n,function(e,t){null===e?Ae(r,t):Te(r,t,e)}),r},Hr=function(e){return e},Fr=function(e){return function(){return qe.fromTag("tr",e.dom())}},jr=function(e,t,n){return _r(e).map(function(r){var o=n.join(","),i=Pn(r,o,function(t){return Nt(t,e)});return K(i,function(e,t){var n=Mr(t);return Ae(n,"contenteditable"),dn(e,n),n},t)}).getOr(t)},Vr=function(e,t,n){var r=function(t){var r=Dt(t.element()),o=qe.fromTag(he(t.element()),r.dom()),i=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),a=i.length>0?jr(t.element(),o,i):o;return dn(a,qe.fromTag("br")),cn(t.element(),o),un(o,"height"),1!==t.colspan()&&un(t.element(),"width"),e(t.element(),o),o};return{row:Fr(t),cell:r,replace:Lr,gap:Br}},Ur=function(e){return{row:Fr(e),cell:Br,replace:Hr,gap:Br}},qr=function(t,n){var r=n||e.document,o=r.createElement("div");return o.innerHTML=t,Ht(qe.fromDom(o))},$r=function(e){return q(e,qe.fromDom)},Wr=function(e,t){var n=t.column(),r=t.column()+t.colspan()-1,o=t.row(),i=t.row()+t.rowspan()-1;return n<=e.finishCol()&&r>=e.startCol()&&o<=e.finishRow()&&i>=e.startRow()},Gr=function(e,t){return t.column()>=e.startCol()&&t.column()+t.colspan()-1<=e.finishCol()&&t.row()>=e.startRow()&&t.row()+t.rowspan()-1<=e.finishRow()},Kr=function(e,n){for(var r=!0,o=t(Gr,n),i=n.startRow();i<=n.finishRow();i++)for(var a=n.startCol();a<=n.finishCol();a++)r=r&&pr.getAt(e,i,a).exists(o);return r?T.some(n):T.none()},Yr=function(e,t){return An(Math.min(e.row(),t.row()),Math.min(e.column(),t.column()),Math.max(e.row()+e.rowspan()-1,t.row()+t.rowspan()-1),Math.max(e.column()+e.colspan()-1,t.column()+t.colspan()-1))},Xr=function(e,t,n){var r=pr.findItem(e,t,Nt),o=pr.findItem(e,n,Nt);return r.bind(function(e){return o.map(function(t){return Yr(e,t)})})},Jr=function(e,t,n){return Xr(e,t,n).bind(function(t){return Kr(e,t)})},Qr=function(e,t,n,r){return pr.findItem(e,t,Nt).bind(function(t){var o=n>0?t.row()+t.rowspan()-1:t.row(),i=r>0?t.column()+t.colspan()-1:t.column();return pr.getAt(e,o+n,i+r).map(function(e){return e.element()})})},Zr=function(e,n,r){return Xr(e,n,r).map(function(n){var r=pr.filterItems(e,t(Wr,n));return q(r,function(e){return e.element()})})},eo=function(e,t){var n=function(e,t){return _t(t,e)};return pr.findItem(e,t,n).map(function(e){return e.element()})},to=function(e,t,n){return rr(e).bind(function(r){var o=io(r);return Qr(o,e,t,n)})},no=function(e,t,n){var r=io(e);return Zr(r,t,n)},ro=function(e,t,n,r,o){var i=io(e),a=Nt(e,n)?T.some(t):eo(i,t),u=Nt(e,o)?T.some(r):eo(i,r);return a.bind(function(e){return u.bind(function(t){return Zr(i,e,t)})})},oo=function(e,t,n){var r=io(e);return Jr(r,t,n)},io=pr.fromTable,ao=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],uo=function(e,t,n,r){return r(e,t,n[0],n.slice(1))},co=function(e,t,n){return n.length>0?uo(e,t,n,so):T.none()},so=function(e,t,n,r){var o=t(e,n);return K(r,function(n,r){var o=t(e,r);return lo(e,n,o)},o)},lo=function(e,n,r){return n.bind(function(n){return r.filter(t(e.eq,n))})},fo=function(e,n){return t(e.eq,n)},mo=function(e,t,n,r){void 0===r&&(r=y);var o=[t].concat(e.up().all(t)),i=[n].concat(e.up().all(n)),a=function(e){return Q(e,r).fold(function(){return e},function(t){return e.slice(0,t+1)})},u=a(o),c=a(i),s=J(u,function(t){return V(c,fo(e,t))});return{firstpath:g(u),secondpath:g(c),shared:g(s)}},po=co,go=mo,ho=r(),vo=function(e,t){return po(ho,function(t,n){return e(n)},t)},bo=function(e,t,n){return go(ho,e,t,n)},yo=function(e){return jn(e,"table")},wo=function(e,t,n){var r=function(e){return function(t){return void 0!==n&&n(t)||Nt(t,e)}};return Nt(e,t)?T.some({boxes:T.some([e]),start:e,finish:t}):yo(e).bind(function(o){return yo(t).bind(function(i){if(Nt(o,i))return T.some({boxes:no(o,e,t),start:e,finish:t});if(_t(o,i)){var a=Pn(t,"td,th",r(o)),u=a.length>0?a[a.length-1]:t;return T.some({boxes:ro(o,e,o,t,i),start:e,finish:u})}if(_t(i,o)){var a=Pn(e,"td,th",r(i)),c=a.length>0?a[a.length-1]:e;return T.some({boxes:ro(i,e,o,t,i),start:e,finish:c})}return bo(e,t).shared().bind(function(a){return qn(a,"table",n).bind(function(n){var a=Pn(t,"td,th",r(n)),u=a.length>0?a[a.length-1]:t,c=Pn(e,"td,th",r(n)),s=c.length>0?c[c.length-1]:e;return T.some({boxes:ro(n,e,o,t,i),start:s,finish:u})})})})})},xo=function(e,t){var n=zn(e,t);return n.length>0?T.some(n):T.none()},Co=function(e,t){return J(e,function(e){return Ct(e,t)})},ko=function(e,t,n){return Un(e,t).bind(function(t){return Un(e,n).bind(function(e){return vo(yo,[t,e]).map(function(n){return{first:g(t),last:g(e),table:g(n)}})})})},So=function(e,t){return jn(e,"table").bind(function(n){return Un(n,t).bind(function(t){return wo(t,e).bind(function(e){return e.boxes.map(function(t){return{boxes:t,start:e.start,finish:e.finish}})})})})},To=function(e,t,n,r,o){return Co(e,o).bind(function(e){return to(e,t,n).bind(function(e){return So(e,r)})})},No=function(e,t){return xo(e,t)},Eo=function(e,t,n){return ko(e,t,n).bind(function(t){var n=function(t){return Nt(e,t)},r=jn(t.first(),"thead,tfoot,tbody,table",n),o=jn(t.last(),"thead,tfoot,tbody,table",n);return r.bind(function(e){return o.bind(function(n){return Nt(e,n)?oo(t.table(),t.first(),t.last()):T.none()})})})},Oo="data-mce-first-selected",_o="data-mce-last-selected",Ao=Object.freeze({__proto__:null,selected:"data-mce-selected",selectedSelector:"td[data-mce-selected],th[data-mce-selected]",attributeSelector:"[data-mce-selected]",firstSelected:Oo,firstSelectedSelector:"td[data-mce-first-selected],th[data-mce-first-selected]",lastSelected:_o,lastSelectedSelector:"td[data-mce-last-selected],th[data-mce-last-selected]"}),Do=function(t){if(!D(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var n=[],r={};return $(t,function(o,i){var a=ae(o);if(1!==a.length)throw new Error("one and only one name per case");var u=a[0],c=o[u];if(void 0!==r[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!D(c))throw new Error("case arguments must be an array");n.push(u),r[u]=function(){var r=arguments.length;if(r!==c.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+c.length+" ("+c+"), got "+r);for(var o=new Array(r),a=0;a<o.length;a++)o[a]=arguments[a];var s=function(e){var t=ae(e);if(n.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+t.join(","));if(!te(n,function(e){return j(t,e)}))throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+n.join(", "));return e[u].apply(null,o)};return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);return arguments[i].apply(null,o)},match:s,log:function(t){e.console.log(t,{constructors:n,constructor:u,params:o})}}}}),r},Ro={generate:Do},Mo=Ro.generate([{none:[]},{multiple:["elements"]},{single:["selection"]}]),Po=function(e,t,n,r){return e.fold(t,n,r)},Io=Mo.none,zo=Mo.multiple,Bo=Mo.single,Lo=function(e,t){return Po(t.get(),g([]),h,g([e]))},Ho=function(e,t){var n=function(e){return _e(e,"rowspan")&&parseInt(Ee(e,"rowspan"),10)>1||_e(e,"colspan")&&parseInt(Ee(e,"colspan"),10)>1},r=Lo(e,t);return r.length>0&&te(r,n)?T.some(r):T.none()},Fo=function(e,t){return Po(t.get(),T.none,function(t,n){return 0===t.length?T.none():Eo(e,"td[data-mce-first-selected],th[data-mce-first-selected]","td[data-mce-last-selected],th[data-mce-last-selected]").bind(function(e){return t.length>1?T.some({bounds:g(e),cells:g(t)}):T.none()})},T.none)},jo=function(e){return{element:g(e),mergable:T.none,unmergable:T.none,selection:g([e])}},Vo=function(e,t,n){return{element:g(n),mergable:g(Fo(t,e)),unmergable:g(Ho(n,e)),selection:g(Lo(n,e))}},Uo=function(e,t,n){return{element:g(e),clipboard:g(t),generators:g(n)}},qo=function(e,t,n,r){return{selection:g(Lo(t,e)),clipboard:g(n),generators:g(r)}},$o=function(e){return rr(e[0]).map(Pr).map(function(e){return[wr(e,"[data-mce-selected]")]})},Wo=function(e,t){return q(t,function(t){return e.selection.serializer.serialize(t.dom(),{})}).join("")},Go=function(e){return q(e,function(e){return e.dom().innerText}).join("")},Ko=function(e,t,n,r){e.on("BeforeGetContent",function(n){var r=function(t){n.preventDefault(),$o(t).each(function(t){n.content="text"===n.format?Go(t):Wo(e,t)})};!0===n.selection&&Po(t.get(),d,r,d)}),e.on("BeforeSetContent",function(t){if(!0===t.selection&&!0===t.paste){T.from(e.dom.getParent(e.selection.getStart(),"th,td")).each(function(o){var i=qe.fromDom(o);rr(i).each(function(o){var a=G(qr(t.content),function(e){return"meta"!==he(e)});if(1===a.length&&function(e){return"table"===he(e)}(a[0])){t.preventDefault();var u=qe.fromDom(e.getDoc()),c=Ur(u),s=Uo(i,a[0],c);n.pasteCells(o,s).each(function(t){e.selection.setRng(t),e.focus(),r.clear(o)})}})})}})},Yo=function(e,t){var n=function(n,r){return Yo(e+n,t+r)};return{left:g(e),top:g(t),translate:n}},Xo=Yo,Jo=function(e){var t=e.getBoundingClientRect();return Xo(t.left,t.top)},Qo=function(e,t){return void 0!==e?e:void 0!==t?t:0},Zo=function(e){var t=e.dom().ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom())return Xo(n.offsetLeft,n.offsetTop);var i=Qo(r.pageYOffset,o.scrollTop),a=Qo(r.pageXOffset,o.scrollLeft),u=Qo(o.clientTop,n.clientTop),c=Qo(o.clientLeft,n.clientLeft);return ei(e).translate(a-c,i-u)},ei=function(e){var t=e.dom(),n=t.ownerDocument,r=n.body;return r===t?Xo(r.offsetLeft,r.offsetTop):Xt(e)?Jo(t):Xo(0,0)},ti=function(e){var t=T.from(e.dom().documentElement).map(qe.fromDom).getOr(e);return{parent:g(t),view:g(e),origin:g(Xo(0,0))}},ni=function(e,t){var n=function(){return Zo(t)};return{parent:g(t),view:g(e),origin:n}},ri=function(e,t){return{parent:g(t),view:g(e),origin:g(Xo(0,0))}},oi={only:ti,detached:ni,body:ri},ii=o("height",function(e){var t=e.dom();return Xt(e)?t.getBoundingClientRect().height:t.offsetHeight}),ai=function(e){return ii.get(e)},ui=function(e){return ii.getOuter(e)},ci=o("width",function(e){return e.dom().offsetWidth}),si=function(e){return ci.get(e)},li=function(e){return ci.getOuter(e)},fi=function(e,t){return{row:e,y:t}},di=function(e,t){return{col:e,x:t}},mi=function(e){return Zo(e).left()+li(e)},pi=function(e){return Zo(e).left()},gi=function(e,t){return di(e,pi(t))},hi=function(e,t){return di(e,mi(t))},vi=function(e){return Zo(e).top()},bi=function(e,t){return fi(e,vi(t))},yi=function(e,t){return fi(e,vi(t)+ui(t))},wi=function(e,t,n){if(0===n.length)return[];var r=q(n.slice(1),function(t,n){return t.map(function(t){return e(n,t)})}),o=n[n.length-1].map(function(e){return t(n.length-1,e)});return r.concat([o])},xi=function(e){return-e},Ci={delta:h,positions:function(e){return wi(bi,yi,e)},edge:vi},ki={delta:h,edge:pi,positions:function(e){return wi(gi,hi,e)}},Si={delta:xi,edge:mi,positions:function(e){return wi(hi,gi,e)}},Ti=function(e){var t=e.grid,n=U(t.columns(),h),r=U(t.rows(),h);return q(n,function(t){return Ni(function(){return ee(r,function(n){return pr.getAt(e,n,t).filter(function(e){return e.column()===t}).fold(g([]),function(e){return[e]})})},function(e){return 1===e.colspan()},function(){return pr.getAt(e,0,t)})})},Ni=function(e,t,n){var r=e();return J(r,t).orThunk(function(){return T.from(r[0]).orThunk(n)}).map(function(e){return e.element()})},Ei=function(e){var t=e.grid,n=U(t.rows(),h),r=U(t.columns(),h);return q(n,function(t){return Ni(function(){return ee(r,function(n){return pr.getAt(e,t,n).filter(function(e){return e.row()===t}).fold(g([]),function(e){return[e]})})},function(e){return 1===e.rowspan()},function(){return pr.getAt(e,t,0)})})},Oi=function(e,t){if(t<0||t>=e.length-1)return T.none();var n=e[t].fold(function(){var n=ne(e.slice(0,t));return ie(n,function(e,t){return e.map(function(e){return{value:e,delta:t+1}})})},function(e){return T.some({value:e,delta:0})}),r=e[t+1].fold(function(){var n=e.slice(t+1);return ie(n,function(e,t){return e.map(function(e){return{value:e,delta:t+1}})})},function(e){return T.some({value:e,delta:1})});return n.bind(function(e){return r.map(function(t){var n=t.delta+e.delta;return Math.abs(t.value-e.value)/n})})},_i=function(){var e=xt().browser;return e.isIE()||e.isEdge()},Ai=function(e,t){var n=parseFloat(e);return isNaN(n)?t:n},Di=function(e,t,n){return Ai(rn(e,t),n)},Ri=function(e){var t=e.dom().getBoundingClientRect().height;return"border-box"===rn(e,"box-sizing")?t:t-Di(e,"padding-top",0)-Di(e,"padding-bottom",0)-(Di(e,"border-top-width",0)+Di(e,"border-bottom-width",0))},Mi=function(e){var t=e.dom().getBoundingClientRect().width;return"border-box"===rn(e,"box-sizing")?t:t-Di(e,"padding-left",0)-Di(e,"padding-right",0)-(Di(e,"border-left-width",0)+Di(e,"border-right-width",0))},Pi=function(e){return _i()?Ri(e):Di(e,"height",ai(e))},Ii=function(e){return _i()?Mi(e):Di(e,"width",si(e))},zi=/(\d+(\.\d+)?)(\w|%)*/,Bi=/(\d+(\.\d+)?)%/,Li=/(\d+(\.\d+)?)px|em/,Hi=function(e,t){var n=zt(e).getOr(Qt(Dt(e)));return t(e)/t(n)*100},Fi=function(e,t){tn(e,"width",t+"px")},ji=function(e,t){tn(e,"width",t+"%")},Vi=function(e,t){tn(e,"height",t+"px")},Ui=function(e){return an(e,"height").getOrThunk(function(){return Pi(e)+"px"})},qi=function(e,t,n,r){var o=rr(e).map(function(e){var r=n(e);return Math.floor(t/100*r)}).getOr(t);return r(e,o),o},$i=function(e,t,n,r){var o=parseInt(e,10);return Ie(e,"%")&&"table"!==he(t)?qi(t,o,n,r):o},Wi=function(e){var t=Ui(e);return t?$i(t,e,ai,Vi):ai(e)},Gi=function(e,t,n){return n(e)/Wn(e,t)},Ki=function(e){return an(e,"width").fold(function(){return T.from(Ee(e,"width"))},function(e){return T.some(e)})},Yi=function(e,t){return e/t.pixelWidth()*100},Xi=function(e,t,n){var r=Bi.exec(t);if(null!==r)return parseFloat(r[1]);var o=Ii(e);return Yi(o,n)},Ji=function(e,t){return Ki(e).fold(function(){var n=si(e);return Yi(n,t)},function(n){return Xi(e,n,t)})},Qi=function(e,t){return e/100*t.pixelWidth()},Zi=function(e,t,n){var r=Li.exec(t);if(null!==r)return parseInt(r[1],10);var o=Bi.exec(t);if(null!==o){var i=parseFloat(o[1]);return Qi(i,n)}return Ii(e)},ea=function(e,t){return Ki(e).fold(function(){return Ii(e)},function(n){return Zi(e,n,t)})},ta=function(e){return Gi(e,"rowspan",Wi)},na=function(e){return Ki(e).bind(function(e){var t=zi.exec(e);return null!==t?T.some({width:g(parseFloat(t[1])),unit:g(t[3])}):T.none()})},ra=function(e,t,n){tn(e,"width",t+n)},oa=function(e){return si(e)+"px"},ia=function(e){return Hi(e,si)+"%"},aa=function(e){return Ki(e).exists(function(e){return Bi.test(e)})},ua=function(e){return Ki(e).exists(function(e){return Li.test(e)})},ca=function(e){return Ki(e).isNone()},sa=g(Bi),la=g(Li),fa=function(e,t,n){return an(e,t).fold(function(){return n(e)+"px"},function(e){return e})},da=function(e,t){return fa(e,"width",function(e){return ea(e,t)})},ma=function(e){return fa(e,"height",ta)},pa=function(e,t,n,r,o){var i=Ti(e),a=q(i,function(e){return e.map(t.edge)});return q(i,function(e,t){return e.filter(v(Gn)).fold(function(){var e=Oi(a,t);return r(e)},function(e){return n(e,o)})})},ga=function(e){return e.map(function(e){return e+"px"}).getOr("")},ha=function(e,t,n){return pa(e,t,da,ga,n)},va=function(e,t,n){return pa(e,t,Ji,function(e){return e.fold(function(){return n.minCellWidth()},function(e){return e/n.pixelWidth()*100})},n)},ba=function(e,t,n){return pa(e,t,ea,function(e){return e.getOrThunk(n.minCellWidth)},n)},ya=function(e,t,n,r){var o=Ei(e),i=q(o,function(e){return e.map(t.edge)});return q(o,function(e,t){return e.filter(v(Kn)).fold(function(){var e=Oi(i,t);return r(e)},function(e){return n(e)})})},wa=function(e,t){return ya(e,t,ta,function(e){return e.getOrThunk(Jn)})},xa=function(e,t){return ya(e,t,ma,ga)},Ca=Ro.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),ka=function(e,t,n){var r=n.substring(0,n.length-e.length),o=parseFloat(r);return r===o.toString()?t(o):Ca.invalid(n)},Sa=function(e){return Ie(e,"%")?ka("%",Ca.percent,e):Ie(e,"px")?ka("px",Ca.pixels,e):Ca.invalid(e)},Ta=Ge(Ge({},Ca),{from:Sa}),Na=function(e,t){return q(e,function(e){return Ta.from(e).fold(function(){return e},function(e){return e/t*100+"%"},function(e){return e+"%"})})},Ea=function(e,t,n){var r=n/t;return q(e,function(e){return Ta.from(e).fold(function(){return e},function(e){return e*r+"px"},function(e){return e/100*n+"px"})})},Oa=function(e,t){var n=e.fold(function(){return g("")},function(e){return g(e/t+"px")},function(e){return g(e/t+"px")});return U(t,n)},_a=function(e,t,n){return e.fold(function(){return t},function(e){return Ea(t,n,e)},function(e){return Na(t,n)})},Aa=function(e,t,n){var r=Ta.from(n),o=te(e,function(e){return"0px"===e})?Oa(r,e.length):_a(r,e,t);return Pa(o)},Da=function(e,t){return 0===e.length?t:K(e,function(e,t){return Ta.from(t).fold(g(0),h,h)+e},0)},Ra=function(e,t){var n=Math.floor(e);return{value:n+t,remainder:e-n}},Ma=function(e,t){return Ta.from(e).fold(g(e),function(e){return e+t+"px"},function(e){return e+t+"%"})},Pa=function(e){if(0===e.length)return e;var t=K(e,function(e,t){var n=Ta.from(t).fold(function(){return{value:t,remainder:0}},function(e){return Ra(e,"px")},function(e){return{value:e+"%",remainder:0}});return{output:[n.value].concat(e.output),remainder:e.remainder+n.remainder}},{output:[],remainder:0}),n=t.output;return n.slice(0,n.length-1).concat([Ma(n[n.length-1],Math.round(t.remainder))])},Ia=Ta.from,za=function(e,t,n){$(t,function(t){var r=e.slice(t.column(),t.colspan()+t.column()),o=Da(r,Xn());tn(t.element(),"width",o+n)})},Ba=function(e,t,n,r){$(n,function(t){var n=e.slice(t.row(),t.rowspan()+t.row()),o=Da(n,Jn());tn(t.element(),"height",o+r)}),$(t,function(t,n){tn(t.element(),"height",e[n])})},La=function(e){return Ia(e).fold(g("px"),g("px"),g("%"))},Ha=function(e,t,n,r,o){var i=pr.fromTable(e),a=i.all,u=pr.justCells(i);t.each(function(t){var n=La(t),a=si(e),c=ha(i,r,o),s=Aa(c,a,t);za(s,u,n),tn(e,"width",t)}),n.each(function(t){var n=La(t),r=ai(e),o=xa(i,Ci),c=Aa(o,r,t);Ba(c,a,u,n),tn(e,"height",t)})},Fa=aa,ja=ua,Va=ca,Ua=ia,qa={ltr:ki,rtl:Si},$a=function(e){var t=function(t){return e(t).isRtl()?qa.rtl:qa.ltr},n=function(e,n){return t(n).delta(e,n)},r=function(e,n){return t(n).positions(e,n)};return{delta:n,edge:function(e){return t(e).edge(e)},positions:r}},Wa=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return $(e,function(e,n){r[e]=g(t[n])}),r}},Ga=function(e){var t=Wa.apply(null,e),n=[];return{bind:function(e){if(void 0===e)throw new Error("Event bind error: undefined handler");n.push(e)},unbind:function(e){n=G(n,function(t){return t!==e})},trigger:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=t.apply(null,e);$(n,function(e){e(o)})}}},Ka=function(e){return{registry:se(e,function(e){return{bind:e.bind,unbind:e.unbind}}),trigger:se(e,function(e){return e.trigger})}},Ya=Ro.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Xa=Ge({},Ya),Ja=function(e,t){return 0===e.length?Xa.none():1===e.length?Xa.only(0):0===t?Xa.left(0,1):t===e.length-1?Xa.right(t-1,t):t>0&&t<e.length-1?Xa.middle(t-1,t,t+1):Xa.none()},Qa=function(e,t,n,r){var o=e.slice(0),i=Ja(e,t),a=function(e){return q(e,g(0))},u=g(a(o)),c=function(e){return r.singleColumnWidth(o[e],n)},s=function(e,t){if(n>=0){var i=Math.max(r.minCellWidth(),o[t]-n);return a(o.slice(0,e)).concat([n,i-o[t]]).concat(a(o.slice(t+1)))}var u=Math.max(r.minCellWidth(),o[e]+n),c=o[e]-u;return a(o.slice(0,e)).concat([u-o[e],c]).concat(a(o.slice(t+1)))},l=s,f=function(e,t,n){return s(t,n)},d=function(e,t){if(n>=0)return a(o.slice(0,t)).concat([n]);var i=Math.max(r.minCellWidth(),o[t]+n);return a(o.slice(0,t)).concat([i-o[t]])};return i.fold(u,c,l,f,d)},Za=function(e,t,n){for(var r=0,o=e;o<t;o++)r+=void 0!==n[o]?n[o]:0;return r},eu=function(e,t){var n=pr.justCells(e);return q(n,function(e){var n=Za(e.column(),e.column()+e.colspan(),t);return{element:e.element(),width:n,colspan:e.colspan()}})},tu=function(e,t){var n=pr.justCells(e);return q(n,function(e){var n=Za(e.row(),e.row()+e.rowspan(),t);return{element:e.element,height:g(n),rowspan:e.rowspan}})},nu=function(e,t){return q(e.all,function(e,n){return{element:e.element,height:g(t[n])}})},ru=function(e){return K(e,function(e,t){return e+t},0)},ou=function(e,t,n,r,o){var i=o.getCellDelta(t),a=pr.fromTable(e),u=o.getWidths(a,r,o),c=Qa(u,n,i,o),s=q(c,function(e,t){return e+u[t]}),l=eu(a,s);$(l,function(e){o.setElementWidth(e.element,e.width)}),n===a.grid.columns()-1&&o.adjustTableWidth(i)},iu=function(e,t,n,r){var o=pr.fromTable(e),i=wa(o,r),a=q(i,function(e,r){return n===r?Math.max(t+e,Jn()):e}),u=tu(o,a),c=nu(o,a);$(c,function(e){Vi(e.element(),e.height())}),$(u,function(e){Vi(e.element(),e.height())});var s=ru(a);Vi(e,s)},au=function(e,t,n,r){var o=pr.generate(t),i=r.getWidths(o,n,r),a=eu(o,i);$(a,function(e){r.setElementWidth(e.element,e.width)})},uu=function(e,t,n,r,o,i,a){return{target:g(e),x:g(t),y:g(n),stop:r,prevent:o,kill:i,raw:g(a)}},cu=function(e){var t=qe.fromDom(Kt(e).getOr(e.target)),n=function(){return e.stopPropagation()},r=function(){return e.preventDefault()},o=m(r,n);return uu(t,e.clientX,e.clientY,n,r,o,e)},su=function(e,t){return function(n){e(n)&&t(cu(n))}},lu=function(e,n,r,o,i){var a=su(r,o);return e.dom().addEventListener(n,a,i),{unbind:t(du,e,n,a,i)}},fu=function(e,t,n,r){return lu(e,t,n,r,!1)},du=function(e,t,n,r){e.dom().removeEventListener(t,n,r)},mu=g(!0),pu=function(e,t,n){return fu(e,t,mu,n)},gu=cu,hu=function(e,t){var n=Ee(e,t);return void 0===n||""===n?[]:n.split(" ")},vu=function(e,t,n){var r=hu(e,t),o=r.concat([n]);return Te(e,t,o.join(" ")),!0},bu=function(e,t,n){var r=G(hu(e,t),function(e){return e!==n});return r.length>0?Te(e,t,r.join(" ")):Ae(e,t),!1},yu=function(e){return void 0!==e.dom().classList},wu=function(e){return hu(e,"class")},xu=function(e,t){return vu(e,"class",t)},Cu=function(e,t){return bu(e,"class",t)},ku=function(e,t){yu(e)?e.dom().classList.add(t):xu(e,t)},Su=function(e){0===(yu(e)?e.dom().classList:wu(e)).length&&Ae(e,"class")},Tu=function(e,t){if(yu(e)){e.dom().classList.remove(t)}else Cu(e,t);Su(e)},Nu=function(e,t){return yu(e)&&e.dom().classList.contains(t)},Eu=function(e){var t=e.replace(/\./g,"-");return{resolve:function(e){return t+"-"+e}}},Ou=Eu("ephox-dragster"),_u=Ou.resolve,Au=function(e){var t=Ge({layerClass:_u("blocker")},e),n=qe.fromTag("div");return Te(n,"role","presentation"),nn(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),ku(n,_u("blocker")),ku(n,t.layerClass),{element:function(){return n},destroy:function(){bn(n)}}},Du=function(e){return e.slice(0).sort()},Ru=function(e,t){throw new Error("All required keys ("+Du(e).join(", ")+") were not specified. Specified keys were: "+Du(t).join(", ")+".")},Mu=function(e){throw new Error("Unsupported keys for object: "+Du(e).join(", "))},Pu=function(e,t){if(!D(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");$(t,function(t){if(!_(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")})},Iu=function(e,t){throw new Error("All values need to be of type: "+t+". Keys ("+Du(e).join(", ")+") were not.")},zu=function(e){var t=Du(e);J(t,function(e,n){return n<t.length-1&&e===t[n+1]}).each(function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")})},Bu=function(e,t){return Lu(e,t,{validate:I,label:"function"})},Lu=function(e,t,n){if(0===t.length)throw new Error("You must specify at least one required field.");return Pu("required",t),zu(t),function(r){var o=ae(r);te(t,function(e){return j(o,e)})||Ru(t,o),e(t,o);var i=G(t,function(e){return!n.validate(r[e],e)});return i.length>0&&Iu(i,n.label),r}},Hu=function(e,t){var n=G(t,function(t){return!j(e,t)});n.length>0&&Mu(n)},Fu=function(e){return Bu(Hu,e)},ju=Fu(["compare","extract","mutate","sink"]),Vu=Fu(["element","start","stop","destroy"]),Uu=Fu(["forceDrop","drop","move","delayDrop"]),qu=function(e,t){return Xo(t.left()-e.left(),t.top()-e.top())},$u=function(e){return T.some(Xo(e.x(),e.y()))},Wu=function(e,t){e.mutate(t.left(),t.top())},Gu=function(e,t){var n=Au(t),r=pu(n.element(),"mousedown",e.forceDrop),o=pu(n.element(),"mouseup",e.drop),i=pu(n.element(),"mousemove",e.move),a=pu(n.element(),"mouseout",e.delayDrop),u=function(){n.destroy(),o.unbind(),i.unbind(),a.unbind(),r.unbind()},c=function(e){dn(e,n.element())},s=function(){bn(n.element())};return Vu({element:n.element,start:c,stop:s,destroy:u})},Ku=ju({compare:qu,extract:$u,sink:Gu,mutate:Wu}),Yu=function(t,n){var r=null;return{cancel:function(){null!==r&&(e.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null!==r&&e.clearTimeout(r),r=e.setTimeout(function(){t.apply(null,o),r=null},n)}}},Xu=function(e,t,n){var r=!1,o=Ka({start:Ga([]),stop:Ga([])}),i=u(),a=function(){p.stop(),i.isOn()&&(i.off(),o.trigger.stop())},c=Yu(a,200),s=function(e){p.start(e),i.on(),o.trigger.start()},l=function(e){c.cancel(),i.onEvent(e,t)};i.events.move.bind(function(n){t.mutate(e,n.info())});var f=function(){r=!0},d=function(){r=!1},m=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];r&&e.apply(null,t)}},p=t.sink(Uu({forceDrop:a,drop:m(a),move:m(l),delayDrop:m(c.throttle)}),n),g=function(){p.destroy()};return{element:p.element,go:s,on:f,off:d,destroy:g,events:o.registry}},Ju=function(e,t){void 0===t&&(t={});var n=void 0!==t.mode?t.mode:Ku;return Xu(e,n,t)},Qu=function(e){return"true"===Ee(e,"contenteditable")},Zu=function(e,t){return qn(e,"[contenteditable]",t)},ec=Eu("ephox-snooker"),tc=ec.resolve,nc=function(){var e=Ka({drag:Ga(["xDelta","yDelta"])});return{mutate:function(t,n){e.trigger.drag(t,n)},events:e.registry}},rc=function(){var e=Ka({drag:Ga(["xDelta","yDelta","target"])}),t=T.none(),n=nc();return n.events.drag.bind(function(n){t.each(function(t){e.trigger.drag(n.xDelta(),n.yDelta(),t)})}),{assign:function(e){t=T.some(e)},get:function(){return t},mutate:n.mutate,events:e.registry}},oc=function(e,t,n,r,o){var i=qe.fromTag("div");return nn(i,{position:"absolute",left:t-r/2+"px",top:n+"px",height:o+"px",width:r+"px"}),Ne(i,{"data-column":e,role:"presentation"}),i},ic=function(e,t,n,r,o){var i=qe.fromTag("div");return nn(i,{position:"absolute",left:t+"px",top:n-o/2+"px",height:o+"px",width:r+"px"}),Ne(i,{"data-row":e,role:"presentation"}),i},ac=tc("resizer-bar"),uc=tc("resizer-rows"),cc=tc("resizer-cols"),sc=function(e){var t=zn(e.parent(),"."+ac);$(t,bn)},lc=function(e,t,n){var r=e.origin();$(t,function(t){t.each(function(t){var o=n(r,t);ku(o,ac),dn(e.parent(),o)})})},fc=function(e,t,n,r){lc(e,t,function(e,t){var o=oc(t.col,t.x-e.left(),n.top()-e.top(),7,r);return ku(o,cc),o})},dc=function(e,t,n,r){lc(e,t,function(e,t){var o=ic(t.row,n.left()-e.left(),t.y-e.top(),r,7);return ku(o,uc),o})},mc=function(e,t,n,r,o,i){var a=Zo(t),u=n.length>0?o.positions(n,t):[];dc(e,u,a,li(t));var c=r.length>0?i.positions(r,t):[];fc(e,c,a,ui(t))},pc=function(e,t,n,r){sc(e);var o=pr.fromTable(t),i=Ei(o),a=Ti(o);mc(e,t,i,a,n,r)},gc=function(e,t){var n=zn(e.parent(),"."+ac);$(n,t)},hc=function(e){gc(e,function(e){tn(e,"display","none")})},vc=function(e){gc(e,function(e){tn(e,"display","block")})},bc=function(e){return Nu(e,uc)},yc=function(e){return Nu(e,cc)},wc=tc("resizer-bar-dragging"),xc=function(e,n,r){var o=rc(),i=Ju(o,{}),a=T.none(),u=function(e,t){return T.from(Ee(e,t))};o.events.drag.bind(function(e){u(e.target(),"data-row").each(function(t){var n=Yn(e.target(),"top");tn(e.target(),"top",n+e.yDelta()+"px")}),u(e.target(),"data-column").each(function(t){var n=Yn(e.target(),"left");tn(e.target(),"left",n+e.xDelta()+"px")})});var c=function(e,t){return Yn(e,t)-$n(e,"data-initial-"+t,0)};i.events.stop.bind(function(){o.get().each(function(t){a.each(function(o){u(t,"data-row").each(function(e){var n=c(t,"top");Ae(t,"data-initial-top"),h.trigger.adjustHeight(o,n,parseInt(e,10))}),u(t,"data-column").each(function(e){var n=c(t,"left");Ae(t,"data-initial-left"),h.trigger.adjustWidth(o,n,parseInt(e,10))}),pc(e,o,r,n)})})});var s=function(t,n){h.trigger.startAdjust(),o.assign(t),Te(t,"data-initial-"+n,Yn(t,n)),ku(t,wc),tn(t,"opacity","0.2"),i.go(e.parent())},l=pu(e.parent(),"mousedown",function(e){bc(e.target())&&s(e.target(),"top"),yc(e.target())&&s(e.target(),"left")}),f=function(t){return Nt(t,e.view())},d=function(e){return qn(e,"table",f).filter(function(e){return Zu(e,f).exists(Qu)})},m=pu(e.view(),"mouseover",function(t){d(t.target()).fold(function(){Xt(t.target())&&sc(e)},function(t){a=T.some(t),pc(e,t,r,n)})}),p=function(){l.unbind(),m.unbind(),i.destroy(),sc(e)},g=function(t){pc(e,t,r,n)},h=Ka({adjustHeight:Ga(["table","delta","row"]),adjustWidth:Ga(["table","delta","column"]),startAdjust:Ga([])});return{destroy:p,refresh:g,on:i.on,off:i.off,hideBars:t(hc,e),showBars:t(vc,e),events:h.registry}},Cc=function(e,t,n){var r=Ci,o=xc(e,t,r),i=Ka({beforeResize:Ga(["table"]),afterResize:Ga(["table"]),startDrag:Ga([])});return o.events.adjustHeight.bind(function(e){var t=e.table();i.trigger.beforeResize(t);var n=r.delta(e.delta(),t);iu(t,n,e.row(),r),i.trigger.afterResize(t)}),o.events.startAdjust.bind(function(e){i.trigger.startDrag()}),o.events.adjustWidth.bind(function(e){var r=e.table();i.trigger.beforeResize(r);var o=t.delta(e.delta(),r),a=n(r);ou(r,o,e.column(),t,a),i.trigger.afterResize(r)}),{on:o.on,off:o.off,hideBars:o.hideBars,showBars:o.showBars,destroy:o.destroy,events:i.registry}},kc={create:Cc},Sc=function(e,t){return e.fire("newrow",{node:t})},Tc=function(e,t){return e.fire("newcell",{node:t})},Nc=function(e,t,n,r){e.fire("ObjectResizeStart",{target:t,width:n,height:r})},Ec=function(e,t,n,r){e.fire("ObjectResized",{target:t,width:n,height:r})},Oc=function(e,t,n,r,o){e.fire("TableSelectionChange",{cells:t,start:n,finish:r,otherCells:o})},_c=function(e){e.fire("TableSelectionClear")},Ac={"border-collapse":"collapse",width:"100%"},Dc=function(e){if(Yc(e)){var t=e.getBody().offsetWidth;return Ge(Ge({},Ac),{width:t+"px"})}return Xc(e)?me(Ac,function(e,t){return"width"!==t}):Ac},Rc={border:"1"},Mc=function(e){return e.getParam("table_sizing_mode","auto")},Pc=function(e){return e.getParam("table_responsive_width")},Ic=function(e){return e.getParam("table_default_attributes",Rc,"object")},zc=function(e){return e.getParam("table_default_styles",Dc(e),"object")},Bc=function(e){return e.getParam("table_resize_bars",!0,"boolean")},Lc=function(e){return e.getParam("table_tab_navigation",!0,"boolean")},Hc=function(e){return e.getParam("table_cell_advtab",!0,"boolean")},Fc=function(e){return e.getParam("table_row_advtab",!0,"boolean")},jc=function(e){return e.getParam("table_advtab",!0,"boolean")},Vc=function(e){return e.getParam("table_appearance_options",!0,"boolean")},Uc=function(e){return e.getParam("table_grid",!0,"boolean")},qc=function(e){return e.getParam("table_style_by_css",!1,"boolean")},$c=function(e){return e.getParam("table_cell_class_list",[],"array")},Wc=function(e){return e.getParam("table_row_class_list",[],"array")},Gc=function(e){return e.getParam("table_class_list",[],"array")},Kc=function(e){return"relative"===Mc(e)||!0===Pc(e)},Yc=function(e){return"fixed"===Mc(e)||!1===Pc(e)},Xc=function(e){return"responsive"===Mc(e)},Jc=function(e){return e.getParam("table_toolbar","tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol")},Qc=function(e){var t=e.getParam("table_header_type","section","string");return j(["section","cells","sectionCells","auto"],t)?t:"section"},Zc=function(e){var t=e.getParam("table_clone_elements");return _(t)?T.some(t.split(/[ ,]/)):Array.isArray(t)?T.some(t):T.none()},es=function(e){var t=e.getParam("object_resizing",!0);return _(t)?"table"===t:t},ts=function(e){return e.nodeName.toLowerCase()},ns=function(e){return qe.fromDom(e.getBody())},rs=function(e){return e.getBoundingClientRect().width},os=function(e){return e.getBoundingClientRect().height},is=function(e){return function(t){return Nt(t,ns(e))}},as=function(e){return e?e.replace(/px$/,""):""},us=function(e){return/^\d+(\.\d+)?$/.test(e)?e+"px":e},cs=function(e){Ae(e,"data-mce-style"),$(nr(e),function(e){return Ae(e,"data-mce-style")})},ss=function(e,t){var n=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width");return T.from(n).filter(Be)},ls=function(e){return/^(\d+(\.\d+)?)%$/.test(e)},fs=function(e){return"rtl"===rn(e,"direction")?"rtl":"ltr"},ds={isRtl:g(!1)},ms={isRtl:g(!0)},ps=function(e){return"rtl"===fs(e)?ms:ds},gs=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},hs=function(e){var t=function(){return si(e)},n=g(0);return{width:t,pixelWidth:t,getWidths:ba,getCellDelta:n,singleColumnWidth:g([0]),minCellWidth:n,setElementWidth:d,adjustTableWidth:d,label:"none"}},vs=function(e,t){var n=gs(parseFloat(e)),r=gs(si(t)),o=function(e){return e/r.get()*100},i=function(e,t){return[100-e]},a=function(){return Xn()/r.get()*100},u=function(e){var o=n.get(),i=e/100*o,a=o+i;ji(t,a),n.set(a),r.set(si(t))};return{width:n.get,pixelWidth:r.get,getWidths:va,getCellDelta:o,singleColumnWidth:i,minCellWidth:a,setElementWidth:ji,adjustTableWidth:u,label:"percent"}},bs=function(e,t){var n=gs(e),r=n.get;return{width:r,pixelWidth:r,getWidths:ba,getCellDelta:h,singleColumnWidth:function(e,t){return[Math.max(Xn(),e+t)-e]},minCellWidth:Xn,setElementWidth:Fi,adjustTableWidth:function(e){var o=r()+e;Fi(t,o),n.set(o)},label:"pixel"}},ys=function(e,t){var n=sa().exec(t);if(null!==n)return vs(n[1],e);var r=la().exec(t);if(null!==r){var o=parseInt(r[1],10);return bs(o,e)}var i=si(e);return bs(i,e)},ws=function(e){return Ki(e).fold(function(){return hs(e)},function(t){return ys(e,t)})},xs={getTableSize:ws,pixelSize:bs,percentageSize:vs,noneSize:hs},Cs=function(e,t){if(Kc(e)){var n=ss(e,t.dom()).filter(ls).getOrThunk(function(){return Ua(t)});return xs.percentageSize(n,t)}return Yc(e)?xs.pixelSize(si(t),t):xs.getTableSize(t)},ks=function(e){Ae(e,"width")},Ss=function(e,t,n){var r=ia(e);Ha(e,T.some(r),T.none(),t,n),ks(e)},Ts=function(e,t,n){var r=oa(e);Ha(e,T.some(r),T.none(),t,n),ks(e)},Ns=function(e){un(e,"width"),$(nr(e),function(e){un(e,"width"),ks(e)}),ks(e)},Es=function(e,t){var n=$a(ps),r=Cs(e,t);Ss(t,n,r)},Os=function(e,t){var n=$a(ps),r=Cs(e,t);Ts(t,n,r)},_s=Ns,As=function(e){$(nr(e),function(e){var t=rn(e,"width");tn(e,"width",t),Ae(e,"width")})},Ds=function(){var e=qe.fromTag("div");return nn(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),dn(Jt(),e),e},Rs=function(e,t){return e.inline?oi.body(ns(e),Ds()):oi.only(qe.fromDom(e.getDoc()))},Ms=function(e,t){e.inline&&bn(t.parent())},Ps=function(e){var t,n,r=T.none(),o=T.none(),i=T.none(),a=function(e){return"TABLE"===e.nodeName},u=function(){return o},c=function(){return i.getOr(oi.only(qe.fromDom(e.getBody())))},s=function(){o.each(function(e){e.destroy()}),i.each(function(t){Ms(e,t)})};return e.on("init",function(){var t=$a(ps),n=Rs(e);if(i=T.some(n),es(e)&&Bc(e)){var a=function(t){return Cs(e,t)},u=kc.create(n,t,a);u.on(),u.events.startDrag.bind(function(t){r=T.some(e.selection.getRng())}),u.events.beforeResize.bind(function(t){var n=t.table().dom();Nc(e,n,rs(n),os(n))}),u.events.afterResize.bind(function(t){var n=t.table(),o=n.dom();cs(n),r.each(function(t){e.selection.setRng(t),e.focus()}),Ec(e,o,rs(o),os(o)),e.undoManager.add()}),o=T.some(u)}}),e.on("ObjectResizeStart",function(r){var o=r.target;if(a(o)){var i=qe.fromDom(o);!ja(i)&&Yc(e)?Os(e,i):!Fa(i)&&Kc(e)&&Es(e,i),t=r.width,n=ss(e,o).getOr("")}}),e.on("ObjectResized",function(r){var o=r.target;if(a(o)){var i=qe.fromDom(o);if(""===n||!ls(n)&&Xc(e))Es(e,i);else if(ls(n)){var u=parseFloat(n.replace("%","")),c=r.width*u/t;tn(i,"width",c+"%")}else As(i);cs(i)}}),e.on("SwitchMode",function(){u().each(function(t){e.mode.isReadOnly()?t.hideBars():t.showBars()})}),{lazyResize:u,lazyWire:c,destroy:s}},Is=function(e,t){return{element:g(e),offset:g(t)}},zs=function(e,t,n){return e.property().isText(t)&&0===e.property().getText(t).trim().length||e.property().isComment(t)?n(t).bind(function(t){return zs(e,t,n).orThunk(function(){return T.some(t)})}):T.none()},Bs=function(e,t){return e.property().isText(t)?e.property().getText(t).length:e.property().children(t).length},Ls=function(e,t){var n=zs(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(n))return Is(n,Bs(e,n));var r=e.property().children(n);return r.length>0?Ls(e,r[r.length-1]):Is(n,Bs(e,n))},Hs=Ls,Fs=r(),js=function(e){return Hs(Fs,e)},Vs=function(e,t){na(e).each(function(n){var r=n.width()/2;ra(e,r,n.unit()),ra(t,r,n.unit())})},Us=function(e){return pr.fromTable(e).grid},qs=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},$s=function(e,t,n){return e.isSome()&&t.isSome()?T.some(n(e.getOrDie(),t.getOrDie())):T.none()},Ws=function(e,t,n,r){n===r?Ae(e,t):Te(e,t,n)},Gs=function(e,n){var r=[],o=[],i=oe(In(e,"caption,colgroup")).fold(function(){return t(fn,e)},function(e){return t(ln,e)}),a=function(t,n){var a=Vn(e,n).getOrThunk(function(){var t=qe.fromTag(n,Dt(e).dom());return"thead"===n?i(t):dn(e,t),t});vn(a);var u=q(t,function(e){e.isNew()&&r.push(e.element());var t=e.element();return vn(t),$(e.cells(),function(e){e.isNew()&&o.push(e.element()),Ws(e.element(),"colspan",e.colspan(),1),Ws(e.element(),"rowspan",e.rowspan(),1),dn(t,e.element())}),t});hn(a,u)},u=function(t){Vn(e,t).each(bn)},c=function(e,t){e.length>0?a(e,t):u(t)},s=[],l=[],f=[];return $(n,function(e){switch(e.section()){case"thead":s.push(e);break;case"tbody":l.push(e);break;case"tfoot":f.push(e)}}),c(s,"thead"),c(l,"tbody"),c(f,"tfoot"),{newRows:r,newCells:o}},Ks=function(e){return q(e,function(e){var t=Mr(e.element());return $(e.cells(),function(e){var n=Pr(e.element());Ws(n,"colspan",e.colspan(),1),Ws(n,"rowspan",e.rowspan(),1),dn(t,n)}),t})},Ys=function(e,t,n){var r=e.cells(),o=r.slice(0,t),i=r.slice(t),a=o.concat([n]).concat(i);return Js(e,a)},Xs=function(e,t,n){e.cells()[t]=n},Js=function(e,t){return On(t,e.section())},Qs=function(e,t){var n=e.cells(),r=q(n,t);return On(r,e.section())},Zs=function(e,t){return e.cells()[t]},el=function(e,t){return Zs(e,t).element()},tl=function(e){return e.cells().length},nl=function(e,t){return q(e,function(e){return Zs(e,t)})},rl=function(e,t){return e[t]},ol=function(e,t){if(0===e.length)return 0;var n=e[0];return Q(e,function(e){return!t(n.element(),e.element())}).fold(function(){return e.length},function(e){return e})},il=function(e,t,n,r){var o=rl(e,t).cells().slice(n),i=ol(o,r),a=nl(e,n).slice(t);return{colspan:i,rowspan:ol(a,r)}},al=function(e,t){var n=q(e,function(e){return q(e.cells(),function(){return!1})}),r=function(e,t,r,o){for(var i=e;i<e+r;i++)for(var a=t;a<t+o;a++)n[i][a]=!0};return q(e,function(o,i){var a=ee(o.cells(),function(o,a){if(!1===n[i][a]){var u=il(e,i,a,t);return r(i,a,u.rowspan,u.colspan),[kn(o.element(),u.rowspan,u.colspan,o.isNew())]}return[]});return _n(a,o.section())})},ul=function(e,t,n){for(var r=[],o=0;o<e.grid.rows();o++){for(var i=[],a=0;a<e.grid.columns();a++){var u=pr.getAt(e,o,a).map(function(e){return Nn(e.element(),n)}).getOrThunk(function(){return Nn(t.gap(),!0)});i.push(u)}var c=On(i,e.all[o].section());r.push(c)}return r},cl=function(e,t){return ul(e,t,!1)},sl=function(e,t){var n=function(e){return ie(e,function(e){return Pt(e.element()).map(function(e){var t=Pt(e).isNone();return Nn(e,t)})}).getOrThunk(function(){return Nn(t.row(),!0)})};return q(e,function(e){var t=n(e.details());return En(t.element(),e.details(),e.section(),t.isNew())})},ll=function(e,t){var n=al(e,Nt);return sl(n,t)},fl=function(e,t){return ie(e.all,function(e){return J(e.cells(),function(e){return Nt(t,e.element())})})},dl=function(e,t,n,r,o){return function(i,a,u,c,s,l){var f=pr.fromTable(a);return t(f,u).map(function(t){var n=cl(f,c),r=e(n,t,Nt,o(c)),i=ll(r.grid(),c);return{grid:g(i),cursor:r.cursor}}).fold(function(){return T.none()},function(e){var t=Gs(a,e.grid()),o=T.from(l).getOrThunk(function(){return xs.getTableSize(a)});return n(a,e.grid(),s,o),r(a),pc(i,a,Ci,s),T.some({cursor:e.cursor,newRows:g(t.newRows),newCells:g(t.newCells)})})}},ml=function(e,t){return tr(t.element()).bind(function(t){return fl(e,t)})},pl=function(e,t){return tr(t.element()).bind(function(n){return fl(e,n).map(function(e){return Ge(Ge({},e),{generators:t.generators,clipboard:t.clipboard})})})},gl=function(e,t){var n=q(t.selection(),function(t){return tr(t).bind(function(t){return fl(e,t)})}),r=qs(n);return r.length>0?T.some({cells:r,generators:t.generators,clipboard:t.clipboard}):T.none()},hl=function(e,t){return t.mergable()},vl=function(e,t){return t.unmergable()},bl=function(e,t){var n=q(t.selection(),function(t){return tr(t).bind(function(t){return fl(e,t)})}),r=qs(n);return r.length>0?T.some(r):T.none()},yl=function(e,t,n,r){if(0===e.length)return e;for(var o=t.startRow();o<=t.finishRow();o++)for(var i=t.startCol();i<=t.finishCol();i++)Xs(e[o],i,Nn(r(),!1));return e},wl=function(e,t,n,r){for(var o=!0,i=0;i<e.length;i++)for(var a=0;a<tl(e[0]);a++){var u=el(e[i],a),c=n(u,t);!0===c&&!1===o?Xs(e[i],a,Nn(r(),!0)):!0===c&&(o=!1)}return e},xl=function(e,t){return Y(e,function(e,n){return V(e,function(e){return t(e.element(),n.element())})?e:e.concat([n])},[])},Cl=function(e,t,n,r){return t>0&&t<e[0].cells().length&&$(e,function(e){var o=e.cells()[t-1],i=e.cells()[t];n(i.element(),o.element())&&Xs(e,t,Nn(r(),!0))}),e},kl=function(e,t,n,r){if(t>0&&t<e.length){var o=e[t-1].cells(),i=xl(o,n);$(i,function(o){for(var i=T.none(),a=t;a<e.length;a++)!function(t){for(var a=0;a<tl(e[0]);a++)!function(a){var u=e[t].cells()[a];n(u.element(),o.element())&&(i.isNone()&&(i=T.some(r())),i.each(function(n){Xs(e[t],a,Nn(n,!0))}))}(a)}(a)})}return e},Sl=function(e){var t=function(t){return e===t},n=function(t){return Sl(e)},r=function(t){return Sl(e)},o=function(t){return Sl(t(e))},i=function(t){return Sl(e)},a=function(t){t(e)},u=function(t){return t(e)},c=function(t,n){return n(e)},s=function(t){return t(e)},l=function(t){return t(e)},f=function(){return T.some(e)};return{is:t,isValue:w,isError:y,getOr:g(e),getOrThunk:g(e),getOrDie:g(e),or:n,orThunk:r,fold:c,map:o,mapError:i,each:a,bind:u,exists:s,forall:l,toOption:f}},Tl=function(e){var t=function(e){return e()},n=function(){return b(String(e))()},r=function(e){return e},o=function(e){return e()},i=function(t){return Tl(e)},a=function(t){return Tl(t(e))},u=function(t){return Tl(e)};return{is:y,isValue:y,isError:w,getOr:h,getOrThunk:t,getOrDie:n,or:r,orThunk:o,fold:function(t,n){return t(e)},map:i,mapError:a,each:d,bind:u,exists:y,forall:w,toOption:T.none}},Nl=function(e,t){return e.fold(function(){return Tl(t)},Sl)},El={value:Sl,error:Tl,fromOption:Nl},Ol=function(e,t,n){if(e.row()>=t.length||e.column()>tl(t[0]))return El.error("invalid start address out of table bounds, row: "+e.row()+", column: "+e.column());var r=t.slice(e.row()),o=r[0].cells().slice(e.column()),i=tl(n[0]),a=n.length;return El.value({rowDelta:r.length-a,colDelta:o.length-i})},_l=function(e,t){return{rowDelta:0,colDelta:tl(e[0])-tl(t[0])}},Al=function(e,t){return{rowDelta:e.length-t.length,colDelta:0}},Dl=function(e,t){return q(e,function(){return Nn(t.cell(),!0)})},Rl=function(e,t,n){return e.concat(U(t,function(){return Js(e[e.length-1],Dl(e[e.length-1].cells(),n))}))},Ml=function(e,t,n){return q(e,function(e){return Js(e,e.cells().concat(Dl(U(t,h),n)))})},Pl=function(e,t,n){var r=t.colDelta<0?Ml:h;return(t.rowDelta<0?Rl:h)(r(e,Math.abs(t.colDelta),n),Math.abs(t.rowDelta),n)},Il=function(e,n,r,o){var i=Zs(e[n],r),a=t(o,i.element()),u=e[n];return e.length>1&&tl(u)>1&&(r>0&&a(el(u,r-1))||r<u.cells().length-1&&a(el(u,r+1))||n>0&&a(el(e[n-1],r))||n<e.length-1&&a(el(e[n+1],r)))},zl=function(e,t,n,r,o){for(var i=e.row(),a=e.column(),u=n.length,c=tl(n[0]),s=i+u,l=a+c,f=i;f<s;f++)for(var d=a;d<l;d++){Il(t,f,d,o)&&wl(t,el(t[f],d),o,r.cell);var m=el(n[f-i],d-a),p=r.replace(m);Xs(t[f],d,Nn(p,!0))}return t},Bl=function(e,t,n,r,o){return Ol(e,t,n).map(function(i){var a=Pl(t,i,r);return zl(e,a,n,r,o)})},Ll=function(e,t,n,r,o){Cl(t,e,o,r.cell);var i=Al(n,t),a=Pl(n,i,r),u=Al(t,a),c=Pl(t,u,r);return q(c,function(t,n){var r=t.cells().slice(0,e).concat(a[n].cells()).concat(t.cells().slice(e,t.cells().length));return Js(t,r)})},Hl=function(e,t,n,r,o){kl(t,e,o,r.cell);var i=_l(n,t),a=Pl(n,i,r),u=_l(t,a),c=Pl(t,u,r);return c.slice(0,e).concat(a).concat(c.slice(e,c.length))},Fl=function(e,t,n,r,o){var i=e.slice(0,t),a=e.slice(t),u=Qs(e[n],function(n,i){return t>0&&t<e.length&&r(el(e[t-1],i),el(e[t],i))?Zs(e[t],i):Nn(o(n.element(),r),!0)});return i.concat([u]).concat(a)},jl=function(e,t,n,r,o){return q(e,function(e){var i=t>0&&t<tl(e)&&r(el(e,t-1),el(e,t)),a=i?Zs(e,t):Nn(o(el(e,n),r),!0);return Ys(e,t,a)})},Vl=function(e,t,n){var r=q(e,function(e){var r=e.cells().slice(0,t).concat(e.cells().slice(n+1));return On(r,e.section())});return G(r,function(e){return e.cells().length>0})},Ul=function(e,t,n){return e.slice(0,t).concat(e.slice(n+1))},ql=function(e,t,n,r){var o=function(e){return V(t,function(t){return n(e.element(),t.element())})};return q(e,function(e){return Qs(e,function(e){return o(e)?Nn(r(e.element(),n),!0):e})})},$l=function(e,t,n,r){return void 0!==el(e[t],n)&&t>0&&r(el(e[t-1],n),el(e[t],n))},Wl=function(e,t,n){return t>0&&n(el(e,t-1),el(e,t))},Gl=function(e,t,n,r){var o=ee(e,function(r,o){return $l(e,o,t,n)||Wl(r,t,n)?[]:[Zs(r,t)]});return ql(e,o,n,r)},Kl=function(e,t,n,r){var o=e[t],i=ee(o.cells(),function(r,i){return $l(e,t,i,n)||Wl(o,i,n)?[]:[r]});return ql(e,i,n,r)},Yl=Fu(["cell","row","replace","gap"]),Xl=function(e){var t=$n(e,"colspan",1),n=$n(e,"rowspan",1);return{element:g(e),colspan:g(t),rowspan:g(n)}},Jl=function(e,t){void 0===t&&(t=Xl),Yl(e);var n=gs(T.none()),r=function(t){return e.cell(t)},o=function(e){var n=t(e);return r(n)},i=function(e){var t=o(e);return n.get().isNone()&&n.set(T.some(t)),a=T.some({item:e,replacement:t}),t},a=T.none();return{getOrInit:function(e,t){return a.fold(function(){return i(e)},function(n){return t(e,n.item)?n.replacement:i(e)})},cursor:n.get}},Ql=function(e,t){return function(n){var r=gs(T.none());Yl(n);var o=[],i=function(e,t){return J(o,function(n){return t(n.item,e)})},a=function(i){var a={scope:e},u=n.replace(i,t,a);return o.push({item:i,sub:u}),r.get().isNone()&&r.set(T.some(u)),u};return{replaceOrInit:function(e,t){return i(e,t).fold(function(){return a(e)},function(n){return t(e,n.item)?n.sub:a(e)})},cursor:r.get}}},Zl=function(e){Yl(e);var t=gs(T.none());return{combine:function(n){return t.get().isNone()&&t.set(T.some(n)),function(){var t=e.cell({element:g(n),colspan:g(1),rowspan:g(1)});return un(t,"width"),un(n,"width"),t}},cursor:t.get}},ef={modification:Jl,transform:Ql,merging:Zl},tf=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],nf=function(e,t){var n=e.property().name(t);return j(["ol","ul"],n)},rf=function(e,t){var n=e.property().name(t);return j(tf,n)},of=function(e,t){return j(["br","img","hr","input"],e.property().name(t))},af=r(),uf=function(e){return rf(af,e)},cf=function(e){return nf(af,e)},sf=function(e){return of(af,e)},lf=function(e){var t=function(e){return"br"===he(e)},n=function(e){return te(e,function(e){return t(e)||xe(e)&&0===Cr(e).trim().length})},r=function(e){return"li"===he(e)||Bn(e,cf).isSome()},o=function(e){return Lt(e).map(function(e){return!!uf(e)||!!sf(e)&&"img"!==he(e)}).getOr(!1)},i=function(e){return Ar(e).bind(function(n){var i=o(n);return Pt(n).map(function(o){return!0===i||r(o)||t(n)||uf(o)&&!Nt(e,o)?[]:[qe.fromTag("br")]})}).getOr([])},a=function(){var t=ee(e,function(e){var t=Ht(e);return n(t)?[]:t.concat(i(e))});return 0===t.length?[qe.fromTag("br")]:t}();vn(e[0]),hn(e[0],a)},ff=function(e){0===nr(e).length&&bn(e)},df=function(e,t){return{grid:g(e),cursor:g(t)}},mf=function(e,t,n){return pf(e,t,n).orThunk(function(){return pf(e,0,0)})},pf=function(e,t,n){return T.from(e[t]).bind(function(e){return T.from(e.cells()[n]).bind(function(e){return T.from(e.element())})})},gf=function(e,t,n){return df(e,pf(e,t,n))},hf=function(e){return Y(e,function(e,t){return V(e,function(e){return e.row()===t.row()})?e:e.concat([t])},[]).sort(function(e,t){return e.row()-t.row()})},vf=function(e){return Y(e,function(e,t){return V(e,function(e){return e.column()===t.column()})?e:e.concat([t])},[]).sort(function(e,t){return e.column()-t.column()})},bf=function(e,t,n,r){var o=t[0].row(),i=t[0].row(),a=hf(t),u=Y(a,function(e,t){return Fl(e,i,o,n,r.getOrInit)},e);return gf(u,i,t[0].column())},yf=function(e,t,n,r){var o=hf(t),i=o[o.length-1].row(),a=o[o.length-1].row()+o[o.length-1].rowspan(),u=Y(o,function(e,t){return Fl(e,a,i,n,r.getOrInit)},e);return gf(u,a,t[0].column())},wf=function(e,t,n,r){var o=vf(t),i=o[0].column(),a=o[0].column(),u=Y(o,function(e,t){return jl(e,a,i,n,r.getOrInit)},e);return gf(u,t[0].row(),a)},xf=function(e,t,n,r){var o=t[t.length-1].column(),i=t[t.length-1].column()+t[t.length-1].colspan(),a=vf(t),u=Y(a,function(e,t){return jl(e,i,o,n,r.getOrInit)},e);return gf(u,t[0].row(),i)},Cf=function(e,t,n,r){var o=Kl(e,t.row(),n,r.replaceOrInit);return gf(o,t.row(),t.column())},kf=function(e,t,n,r){var o=Gl(e,t.column(),n,r.replaceOrInit);return gf(o,t.row(),t.column())},Sf=function(e,t,n,r){var o=Kl(e,t.row(),n,r.replaceOrInit);return gf(o,t.row(),t.column())},Tf=function(e,t,n,r){var o=Gl(e,t.column(),n,r.replaceOrInit);return gf(o,t.row(),t.column())},Nf=function(e,t,n,r){var o=vf(t),i=Vl(e,o[0].column(),o[o.length-1].column()),a=mf(i,t[0].row(),t[0].column());return df(i,a)},Ef=function(e,t,n,r){var o=hf(t),i=Ul(e,o[0].row(),o[o.length-1].row()),a=mf(i,t[0].row(),t[0].column());return df(i,a)},Of=function(e,t,n,r){var o=t.cells();lf(o);var i=yl(e,t.bounds(),0,g(o[0]));return df(i,T.from(o[0]))},_f=function(e,t,n,r){var o=K(t,function(e,t){return wl(e,t,n,r.combine(t))},e);return df(o,T.from(t[0]))},Af=function(e,t,n,r){var o=function(e,t){var n=pr.fromTable(e);return ul(n,t,!0)}(t.clipboard(),t.generators()),i=xn(t.row(),t.column());return Bl(i,e,o,t.generators(),n).fold(function(){return df(e,T.some(t.element()))},function(e){var n=mf(e,t.row(),t.column());return df(e,n)})},Df=function(e,t,n){var r=ar(e,n),o=pr.generate(r);return ul(o,t,!0)},Rf=function(e,t,n,r){var o=e[t.cells[0].row()],i=t.cells[0].column(),a=Df(t.clipboard(),t.generators(),o),u=Ll(i,e,a,t.generators(),n),c=mf(u,t.cells[0].row(),t.cells[0].column());return df(u,c)},Mf=function(e,t,n,r){var o=e[t.cells[0].row()],i=t.cells[t.cells.length-1].column()+t.cells[t.cells.length-1].colspan(),a=Df(t.clipboard(),t.generators(),o),u=Ll(i,e,a,t.generators(),n),c=mf(u,t.cells[0].row(),t.cells[0].column());return df(u,c)},Pf=function(e,t,n,r){var o=e[t.cells[0].row()],i=t.cells[0].row(),a=Df(t.clipboard(),t.generators(),o),u=Hl(i,e,a,t.generators(),n),c=mf(u,t.cells[0].row(),t.cells[0].column());return df(u,c)},If=function(e,t,n,r){var o=e[t.cells[0].row()],i=t.cells[t.cells.length-1].row()+t.cells[t.cells.length-1].rowspan(),a=Df(t.clipboard(),t.generators(),o),u=Hl(i,e,a,t.generators(),n),c=mf(u,t.cells[0].row(),t.cells[0].column());return df(u,c)},zf=function(e,t){var n=pr.fromTable(e);return bl(n,t).bind(function(e){var t=e[e.length-1],r=e[0].column(),o=t.column()+t.colspan(),i=Z(q(n.all,function(e){return G(e.cells(),function(e){return e.column()>=r&&e.column()<o})}));return Bf(i,function(e){return"th"===he(e.element())})}).getOr("")},Bf=function(e,t){var n=G(e,t);return 0===n.length?T.some("td"):n.length===e.length?T.some("th"):T.none()},Lf=au,Hf=dl(bf,bl,d,d,ef.modification),Ff=dl(yf,bl,d,d,ef.modification),jf=dl(wf,bl,Lf,d,ef.modification),Vf=dl(xf,bl,Lf,d,ef.modification),Uf=dl(Nf,bl,Lf,ff,ef.modification),qf=dl(Ef,bl,d,ff,ef.modification),$f=dl(kf,ml,d,d,ef.transform("row","th")),Wf=dl(Tf,ml,d,d,ef.transform(null,"td")),Gf=(dl(Cf,ml,d,d,ef.transform("col","th")),dl(Sf,ml,d,d,ef.transform(null,"td")),dl(Of,hl,d,d,ef.merging)),Kf=dl(_f,vl,Lf,d,ef.merging),Yf=dl(Af,pl,Lf,d,ef.modification),Xf=dl(Rf,gl,d,d,ef.modification),Jf=dl(Mf,gl,d,d,ef.modification),Qf=dl(Pf,gl,d,d,ef.modification),Zf=dl(If,gl,d,d,ef.modification),ed=zf,td=function(e){return ts(e.parentNode)},nd=function(e){return"thead"===e?"header":"tfoot"===e?"footer":"body"},rd=function(e,t){var n="thead"===td(t),r=!V(t.cells,function(e){return"th"!==ts(e)});return n||r?T.some({thead:n,ths:r}):T.none()},od=function(e,t){return nd(rd(0,t).fold(function(){return td(t)},function(e){return"thead"}))},id=function(e,t,n){var r=e.getParent(t,"table"),o=t.parentNode,i=ts(o);if(n!==i){var a=e.select(n,r)[0];if(!a){a=e.create(n);var u=r.firstChild;"thead"===n?oe(In(qe.fromDom(r),"caption,colgroup")).fold(function(){return r.insertBefore(a,u)},function(t){return e.insertAfter(a,t.dom())}):r.appendChild(a)}"tbody"===n&&"thead"===i&&a.firstChild?a.insertBefore(t,a.firstChild):a.appendChild(t),o.hasChildNodes()||e.remove(o)}},ad=function(e,t,n,r){return $(t,function(t){var o=ts(t)!==n?e.rename(t,n):t;e.setAttrib(o,"scope",r)})},ud=function(e,t,n){var r=e.dom;if("header"===n){var o=Qc(e),i="auto"===o?function(){var e=rr(qe.fromDom(t.cells[0])).map(function(e){return or(e)}).getOr([]);return ie(e,function(e){return rd(0,e.dom())}).map(function(e){return e.thead&&e.ths?"sectionCells":e.thead?"section":"cells"}).getOr("section")}():o;ad(r,t.cells,"section"===i?"td":"th","col"),id(r,t,"cells"===i?"tbody":"thead")}else ad(r,t.cells,"td",null),id(r,t,"footer"===n?"tfoot":"tbody")},cd=function(e){return{get:function(){var t=ns(e);return No(t,"td[data-mce-selected],th[data-mce-selected]").fold(function(){return void 0===e.selection.getStart()?Io():Bo(e.selection)},function(e){return zo(e)})}}},sd=function(e){return function(t){return T.from(t.dom.getParent(t.selection.getStart(),e)).map(function(e){return qe.fromDom(e)})}},ld=sd("th,td"),fd=sd("th,td,caption"),dd=function(e){return ld(e).map(function(t){return Lo(t,cd(e))}).map(function(e){return q(e,function(e){return e.dom()})}).getOr([])},md=function(e){var t=ld(e),n=t.bind(function(e){return rr(e)}).map(function(e){return or(e)}).map(function(e){return q(e,function(e){return e.dom()})});return $s(t,n,function(t,n){return G(n,function(n){return V(n.cells,function(n){return"1"===e.dom.getAttrib(n,"data-mce-selected")||n===t.dom()})})}).getOr([])},pd=function(e,t){var n=function(e){return"table"===he(ns(e))},r=function(t){return!1===n(e)||Us(t).rows()>1},o=function(t){return!1===n(e)||Us(t).columns()>1},i=Zc(e),a=function(t,n,r,o){return function(a,u){cs(a);var c=o(),s=qe.fromDom(e.getDoc()),l=$a(ps),f=Vr(r,s,i),d=Cs(e,a);return n(a)?t(c,a,u,f,l,d).bind(function(t){return $(t.newRows(),function(t){Sc(e,t.dom())}),$(t.newCells(),function(t){Tc(e,t.dom())}),t.cursor().map(function(t){var n=js(t),r=e.dom.createRng();return r.setStart(n.element().dom(),n.offset()),r.setEnd(n.element().dom(),n.offset()),r})}):T.none()}},u=a(qf,r,d,t),c=a(Uf,o,d,t),s=a(Hf,w,d,t),l=a(Ff,w,d,t),f=a(jf,w,Vs,t),m=a(Vf,w,Vs,t),p=a(Gf,w,d,t),g=a(Kf,w,d,t),h=a(Xf,w,d,t),v=a(Jf,w,d,t),b=a(Qf,w,d,t),y=a(Zf,w,d,t),x=a(Yf,w,d,t),C=function(e,t){return pe(e,"type").filter(function(e){return j(t,e)})};return{deleteRow:u,deleteColumn:c,insertRowsBefore:s,insertRowsAfter:l,insertColumnsBefore:f,insertColumnsAfter:m,mergeCells:p,unmergeCells:g,pasteColsBefore:h,pasteColsAfter:v,pasteRowsBefore:b,pasteRowsAfter:y,pasteCells:x,setTableCellType:function(e,t){return C(t,["td","th"]).each(function(t){ad(e.dom,dd(e),t,null)})},setTableRowType:function(e,t){return C(t,["header","body","footer"]).each(function(t){q(md(e),function(n){return ud(e,n,t)})})},makeColumnHeader:a($f,w,d,t),unmakeColumnHeader:a(Wf,w,d,t),getTableRowType:function(e){var t=md(e);if(t.length>0){var n=q(t,function(e){return od(0,e)}),r=j(n,"header"),o=j(n,"footer");if(r||o){var i=j(n,"body");return!r||i||o?r||i||!o?"":"footer":"header"}return"body"}},getTableCellType:function(e){return Bf(dd(e),function(e){return"th"===ts(e)}).getOr("")},getTableColType:ed}},gd={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"}},hd=function(){return qe.fromTag("th")},vd=function(){return qe.fromTag("td")},bd=function(e,t,n,r){for(var o=qe.fromTag("tr"),i=0;i<e;i++){var a=r<t||i<n?hd():vd();i<n&&Te(a,"scope","row"),r<t&&Te(a,"scope","col"),dn(a,qe.fromTag("br")),dn(o,a)}return o},yd=function(e,t,n,r){return U(e,function(e){return bd(t,n,r,e)})},wd=function(e,t,n,r,o,i){void 0===i&&(i=gd);var a=qe.fromTag("table"),u="cells"!==o;nn(a,i.styles),Ne(a,i.attributes);var c=Math.min(e,n);if(u&&n>0){var s=qe.fromTag("thead");dn(a,s);var l="sectionCells"===o?c:0,f=yd(n,t,l,r);hn(s,f)}var d=qe.fromTag("tbody");dn(a,d);var m=u?e-c:e,p=u?0:n,g=yd(m,t,p,r);return hn(d,g),a},xd=function(e){return e.dom().innerHTML},Cd=function(e){var t=qe.fromTag("div"),n=qe.fromDom(e.dom().cloneNode(!0));return dn(t,n),xd(t)},kd=function(e,t){e.selection.select(t.dom(),!0),e.selection.collapse(!0)},Sd=function(e,n){Un(n,"td,th").each(t(kd,e))},Td=function(e,t){$(zn(t,"tr"),function(t){Sc(e,t.dom()),$(zn(t,"th,td"),function(t){Tc(e,t.dom())})})},Nd=function(e){return _(e)&&-1!==e.indexOf("%")},Ed=function(e,t,n,r,o){var i=zc(e),a={styles:i,attributes:Ic(e)},u=wd(n,t,o,r,Qc(e),a);Te(u,"data-mce-id","__mce");var c=Cd(u);return e.insertContent(c),Un(ns(e),'table[data-mce-id="__mce"]').map(function(t){return Yc(e)?Os(e,t):Xc(e)?_s(t):(Kc(e)||Nd(i.width))&&Es(e,t),cs(t),Ae(t,"data-mce-id"),Td(e,t),Sd(e,t),t.dom()}).getOr(null)},Od=function(e,t,n,r,o){void 0===r&&(r={});var i=function(e){return z(e)&&e>0};if(i(t)&&i(n)){var a=r.headerRows||0,u=r.headerColumns||0;return Ed(e,n,t,u,a)}return console.error(o),null},_d=function(e){return function(){return e().fold(function(){return[]},function(e){return q(e,function(e){return e.dom()})})}},Ad=function(e){return function(t){var n=t.length>0?T.some($r(t)):T.none();e(n)}},Dd=function(e,t,n,r){return{insertTable:function(t,n,r){return void 0===r&&(r={}),Od(e,n,t,r,"Invalid values for insertTable - rows and columns values are required to insert a table.")},setClipboardRows:Ad(t.setRows),getClipboardRows:_d(t.getRows),setClipboardCols:Ad(t.setColumns),getClipboardCols:_d(t.getColumns),resizeHandler:n,selectionTargets:r}},Rd=function(e,t,n){var r=Wn(e,t);1===n||r<=1?Ae(e,t):Te(e,t,Math.min(n,r))},Md=function(e,t){var n=pr.fromTable(e);return bl(n,t).map(function(e){var t=e[e.length-1],r=e[0].column(),o=t.column()+t.colspan();return q(n.all,function(e){var t=G(e.cells(),function(e){return e.column()>=r&&e.column()<o}),n=q(t,function(e){var t=Pr(e.element());return Rd(t,"colspan",o-r),t}),i=qe.fromTag("tr");return hn(i,n),i})})},Pd=function(e,t,n){var r=pr.fromTable(e);return bl(r,t).map(function(e){var t=ul(r,n,!1),o=t.slice(e[0].row(),e[e.length-1].row()+e[e.length-1].rowspan()),i=ll(o,n);return Ks(i)})},Id=tinymce.util.Tools.resolve("tinymce.util.Tools"),zd=function(e,t,n){var r=e.select("td,th",t);return function(t,r){for(var o=0;o<r.length;o++){var i=e.getStyle(r[o],n);if(void 0===t&&(t=i),t!==i)return""}return t}(void 0,r)},Bd=function(e,t,n){n&&e.formatter.apply("align"+n,{},t)},Ld=function(e,t,n){n&&e.formatter.apply("valign"+n,{},t)},Hd=function(e,t){Id.each("left center right".split(" "),function(n){e.formatter.remove("align"+n,{},t)})},Fd=function(e,t){Id.each("top middle bottom".split(" "),function(n){e.formatter.remove("valign"+n,{},t)})},jd=function(e,t){return function(e,t){return t.concat(q(e,function(e){return{text:e.text||e.title,value:e.value}}))}(e,t||[])},Vd=function(e){return function(t){return Pe(t,"rgb")?e.toHex(t):t}},Ud=function(e,t){var n=qe.fromDom(t);return{borderwidth:an(n,"border-width").getOr(""),borderstyle:an(n,"border-style").getOr(""),bordercolor:an(n,"border-color").map(Vd(e)).getOr(""),backgroundcolor:an(n,"background-color").map(Vd(e)).getOr("")}},qd=function(e){var t=e[0],n=e.slice(1);return $(n,function(e){$(ae(t),function(n){ce(e,function(e,r){var o=t[n];""!==o&&n===r&&o!==e&&(t[n]="")})})}),t},$d=function(e){var t=[{name:"borderstyle",type:"selectbox",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],n={name:"borderwidth",type:"input",label:"Border width"};return{title:"Advanced",name:"advanced",items:"cell"===e?[n].concat(t):t}},Wd=function(e,t,n,r){return J(e,function(e){return n.formatter.matchNode(r,t+e)}).getOr("")},Gd=t(Wd,["left","center","right"],"align"),Kd=t(Wd,["top","middle","bottom"],"valign"),Yd=function(e,t){var n=zc(e),r=Ic(e),o={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},i=t?function(e){return{borderstyle:pe(n,"border-style").getOr(""),bordercolor:Vd(e)(pe(n,"border-color").getOr("")),backgroundcolor:Vd(e)(pe(n,"background-color").getOr(""))}}(e.dom):{};return Ge(Ge(Ge(Ge(Ge(Ge({},o),n),r),i),function(){var t=n["border-width"];return qc(e)&&t?{border:t}:pe(r,"border").fold(function(){return{}},function(e){return{border:e}})}()),function(){var e=pe(n,"border-spacing").or(pe(r,"cellspacing")).fold(function(){return{}},function(e){return{cellspacing:e}}),t=pe(n,"border-padding").or(pe(r,"cellpadding")).fold(function(){return{}},function(e){return{cellpadding:e}});return Ge(Ge({},e),t)}())},Xd=function(e,t,n){var r=e.dom;return Ge({width:r.getStyle(t,"width")||r.getAttrib(t,"width"),height:r.getStyle(t,"height")||r.getAttrib(t,"height"),cellspacing:r.getStyle(t,"border-spacing")||r.getAttrib(t,"cellspacing"),cellpadding:r.getAttrib(t,"cellpadding")||zd(e.dom,t,"padding"),border:function(t,n){var r=an(qe.fromDom(n),"border-width");return qc(e)&&r.isSome()?r.getOr(""):t.getAttrib(n,"border")||zd(e.dom,n,"border-width")||zd(e.dom,n,"border")}(r,t),caption:!!r.select("caption",t)[0],class:r.getAttrib(t,"class",""),align:Gd(e,t)},n?Ud(r,t):{})},Jd=function(e,t,n){var r=e.dom;return Ge({height:r.getStyle(t,"height")||r.getAttrib(t,"height"),scope:r.getAttrib(t,"scope"),class:r.getAttrib(t,"class",""),type:od(0,t),align:Gd(e,t)},n?Ud(r,t):{})},Qd=function(e,t,n){var r=e.dom;return Ge({width:r.getStyle(t,"width")||r.getAttrib(t,"width"),height:r.getStyle(t,"height")||r.getAttrib(t,"height"),scope:r.getAttrib(t,"scope"),celltype:ts(t),class:r.getAttrib(t,"class",""),halign:Gd(e,t),valign:Kd(e,t)},n?Ud(r,t):{})},Zd=function(e){var t=jd($c(e));return t.length>0?T.some({name:"class",type:"selectbox",label:"Class",items:t}):T.none()},em=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"selectbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"selectbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"selectbox",label:"H Align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"selectbox",label:"V Align",items:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}],tm=function(e){return Zd(e).fold(function(){return em},function(e){return em.concat(e)})},nm=function(e){return function(t,n){var r=t.dom;return{setAttrib:function(t,o){e&&!o||r.setAttrib(n,t,o)},setStyle:function(t,o){e&&!o||r.setStyle(n,t,o)},setFormat:function(r,o){e&&!o||(""===o?t.formatter.remove(r,{value:null},n,!0):t.formatter.apply(r,{value:o},n))}}}},rm={normal:nm(!1),ifTruthy:nm(!0)},om=function(e,t){e.setAttrib("scope",t.scope),e.setAttrib("class",t.class),e.setStyle("width",us(t.width)),e.setStyle("height",us(t.height))},im=function(e,t){e.setFormat("tablecellbackgroundcolor",t.backgroundcolor),e.setFormat("tablecellbordercolor",t.bordercolor),e.setFormat("tablecellborderstyle",t.borderstyle),e.setFormat("tablecellborderwidth",us(t.borderwidth))},am=function(e,t,n){var r=e.dom,o=1===t.length;$(t,function(t){var i=n.celltype&&ts(t)!==n.celltype?r.rename(t,n.celltype):t,a=o?rm.normal(e,i):rm.ifTruthy(e,i);om(a,n),Hc(e)&&im(a,n),o&&(Hd(e,i),Fd(e,i)),n.halign&&Bd(e,i,n.halign),n.valign&&Ld(e,i,n.valign)})},um=function(e,t,n){var r=n.getData();n.close(),e.undoManager.transact(function(){am(e,t,r),e.focus()})},cm=function(e){var n=dd(e);if(0!==n.length){var r=q(n,function(t){return Qd(e,t,Hc(e))}),o=qd(r),i={type:"tabpanel",tabs:[{title:"General",name:"general",items:tm(e)},$d("cell")]},a={type:"panel",items:[{type:"grid",columns:2,items:tm(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:Hc(e)?i:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onSubmit:t(um,e,n)})}},sm=function(e){var t=jd(Wc(e));return t.length>0?T.some({name:"class",type:"selectbox",label:"Class",items:t}):T.none()},lm=[{type:"selectbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"selectbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],fm=function(e){return sm(e).fold(function(){return lm},function(e){return lm.concat(e)})},dm=function(e,t){e.setAttrib("scope",t.scope),e.setAttrib("class",t.class),e.setStyle("height",us(t.height))},mm=function(e,t){e.setStyle("background-color",t.backgroundcolor),e.setStyle("border-color",t.bordercolor),e.setStyle("border-style",t.borderstyle)},pm=function(e,t,n,r){var o=1===t.length;$(t,function(t){r.type!==ts(t.parentNode)&&ud(e,t,r.type);var i=o?rm.normal(e,t):rm.ifTruthy(e,t);dm(i,r),Fc(e)&&mm(i,r),r.align!==n.align&&(Hd(e,t),Bd(e,t,r.align))})},gm=function(e,t,n,r){var o=r.getData();r.close(),e.undoManager.transact(function(){pm(e,t,n,o),e.focus()})},hm=function(e){var n=md(e);if(0!==n.length){var r=q(n,function(t){return Jd(e,t,Fc(e))}),o=qd(r),i={type:"tabpanel",tabs:[{title:"General",name:"general",items:fm(e)},$d("row")]},a={type:"panel",items:[{type:"grid",columns:2,items:fm(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:Fc(e)?i:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onSubmit:t(gm,e,n,o)})}},vm=tinymce.util.Tools.resolve("tinymce.Env"),bm=function(e,t,n){var r=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],o=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],i=Vc(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],a=[{type:"selectbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],u=t.length>0?[{type:"selectbox",name:"class",label:"Class",items:t}]:[];return r.concat(o).concat(i).concat(a).concat(u)},ym=function(e,t,n,r){if("TD"===t.tagName||"TH"===t.tagName)_(n)?e.setStyle(t,n,r):e.setStyle(t,n);else if(t.children)for(var o=0;o<t.children.length;o++)ym(e,t.children[o],n,r)},wm=function(e,t,n){var r=e.dom,o={},i={};if(o.class=n.class,i.height=us(n.height),r.getAttrib(t,"width")&&!qc(e)?o.width=as(n.width):i.width=us(n.width),qc(e)?(i["border-width"]=us(n.border),i["border-spacing"]=us(n.cellspacing)):(o.border=n.border,o.cellpadding=n.cellpadding,o.cellspacing=n.cellspacing),qc(e)&&t.children)for(var a=0;a<t.children.length;a++)ym(r,t.children[a],{"border-width":us(n.border),padding:us(n.cellpadding)}),jc(e)&&ym(r,t.children[a],{"border-color":n.bordercolor});jc(e)&&(i["background-color"]=n.backgroundcolor,i["border-color"]=n.bordercolor,i["border-style"]=n.borderstyle),o.style=r.serializeStyle(Ge(Ge({},zc(e)),i)),r.setAttribs(t,Ge(Ge({},Ic(e)),o))},xm=function(e,t,n){var r,o=e.dom,i=n.getData();n.close(),""===i.class&&delete i.class,e.undoManager.transact(function(){if(!t){var n=parseInt(i.cols,10)||1,a=parseInt(i.rows,10)||1;t=Ed(e,n,a,0,0)}wm(e,t,i),r=o.select("caption",t)[0],r&&!i.caption&&o.remove(r),!r&&i.caption&&(r=o.create("caption"),r.innerHTML=vm.ie?" ":'<br data-mce-bogus="1"/>',t.insertBefore(r,t.firstChild)),""===i.align?Hd(e,t):Bd(e,t,i.align),e.focus(),e.addVisual()})},Cm=function(e,n){var r,o=e.dom,i=Yd(e,jc(e));!1===n?(r=o.getParent(e.selection.getStart(),"table"),r?i=Xd(e,r,jc(e)):jc(e)&&(i.borderstyle="",i.bordercolor="",i.backgroundcolor="")):(i.cols="1",i.rows="1",jc(e)&&(i.borderstyle="",i.bordercolor="",i.backgroundcolor=""));var a=jd(Gc(e));a.length>0&&i.class&&(i.class=i.class.replace(/\s*mce\-item\-table\s*/g,""));var u={type:"grid",columns:2,items:bm(e,a,n)},c=jc(e)?function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[u]},$d("table")]}}():function(){return{type:"panel",items:[u]}}();e.windowManager.open({title:"Table Properties",size:"normal",body:c,onSubmit:t(xm,e,r),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:i})},km=function(e,n,r,o,i){var a=is(e),u=function(){return fd(e).each(function(t){rr(t,a).filter(v(a)).each(function(t){var n=qe.fromText("");if(ln(t,n),bn(t),e.dom.isEmpty(e.getBody()))e.setContent(""),e.selection.setCursorLocation();else{var r=e.dom.createRng();r.setStart(n.dom(),0),r.setEnd(n.dom(),0),e.selection.setRng(r),e.nodeChanged()}})})},c=function(t){return fd(e).each(function(n){Xc(e)||Yc(e)||Kc(e)||rr(n,a).each(function(n){"relative"!==t||Fa(n)?"fixed"!==t||ja(n)?"responsive"!==t||Va(n)||_s(n):Os(e,n):Es(e,n),cs(n)})})},s=function(e){return rr(e,a)},l=function(t){return ld(e).each(function(n){s(n).each(function(i){var a=Vo(o,i,n);t(i,a).each(function(t){e.selection.setRng(t),e.focus(),r.clear(i),cs(i)})})})},f=function(){return ld(e).map(function(t){return s(t).bind(function(n){var r=Vo(o,n,t),i=Vr(d,qe.fromDom(e.getDoc()),T.none());return Pd(n,r,i)})})},m=function(){return ld(e).map(function(e){return s(e).bind(function(t){var n=Vo(o,t,e);return Md(t,n)})})},p=function(t,n){return n().each(function(n){var i=q(n,function(e){return Pr(e)});ld(e).each(function(n){return s(n).each(function(a){var u=Ur(qe.fromDom(e.getDoc())),c=qo(o,n,i,u);t(a,c).each(function(t){e.selection.setRng(t),e.focus(),r.clear(a)})})})})};ce({mceTableSplitCells:function(){return l(n.unmergeCells)},mceTableMergeCells:function(){return l(n.mergeCells)},mceTableInsertRowBefore:function(){return l(n.insertRowsBefore)},mceTableInsertRowAfter:function(){return l(n.insertRowsAfter)},mceTableInsertColBefore:function(){return l(n.insertColumnsBefore)},mceTableInsertColAfter:function(){return l(n.insertColumnsAfter)},mceTableDeleteCol:function(){return l(n.deleteColumn)},mceTableDeleteRow:function(){return l(n.deleteRow)},mceTableCutCol:function(e){return m().each(function(e){i.setColumns(e),l(n.deleteColumn)})},mceTableCutRow:function(e){return f().each(function(e){i.setRows(e),l(n.deleteRow)})},mceTableCopyCol:function(e){return m().each(function(e){return i.setColumns(e)})},mceTableCopyRow:function(e){return f().each(function(e){return i.setRows(e)})},mceTablePasteColBefore:function(e){return p(n.pasteColsBefore,i.getColumns)},mceTablePasteColAfter:function(e){return p(n.pasteColsAfter,i.getColumns)},mceTablePasteRowBefore:function(e){return p(n.pasteRowsBefore,i.getRows)},mceTablePasteRowAfter:function(e){return p(n.pasteRowsAfter,i.getRows)},mceTableDelete:u,mceTableSizingMode:function(e,t){return c(t)}},function(t,n){return e.addCommand(n,t)}),ce({mceTableCellType:function(t,r){return n.setTableCellType(e,r)},mceTableRowType:function(t,r){return n.setTableRowType(e,r)}},function(t,n){return e.addCommand(n,t)}),e.addCommand("mceTableColType",function(e,t){return pe(t,"type").each(function(e){return l("th"===e?n.makeColumnHeader:n.unmakeColumnHeader)})}),ce({mceTableProps:t(Cm,e,!1),mceTableRowProps:t(hm,e),mceTableCellProps:t(cm,e)},function(t,n){return e.addCommand(n,function(){return t()})}),e.addCommand("mceInsertTable",function(t,n){A(n)&&ae(n).length>0?Od(e,n.rows,n.columns,n.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):Cm(e,!0)}),e.addCommand("mceTableApplyCellStyle",function(t,n){if(A(n)){var r=dd(e);0!==r.length&&ce(n,function(t,n){var o="tablecell"+n.toLowerCase().replace("-","");e.formatter.has(o)&&_(t)&&$(r,function(n){rm.normal(e,n).setFormat(o,t)})})}})},Sm=function(e,t,n){var r=is(e),o=function(e){return rr(e,r)};ce({mceTableRowType:function(){return t.getTableRowType(e)},mceTableCellType:function(){return t.getTableCellType(e)},mceTableColType:function(){return ld(e).bind(function(e){return o(e).map(function(r){var o=Vo(n,r,e);return t.getTableColType(r,o)})}).getOr("")}},function(t,n){return e.addQueryValueHandler(n,t)})},Tm=function(){var e=gs(T.none()),t=gs(T.none()),n=function(e){e.set(T.none())};return{getRows:e.get,setRows:function(r){e.set(r),n(t)},clearRows:function(){return n(e)},getColumns:t.get,setColumns:function(r){t.set(r),n(e)},clearColumns:function(){return n(t)}}},Nm=Ro.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Em=function(e){return void 0===e&&(e=void 0),Nm.none(e)},Om=Ge(Ge({},Nm),{none:Em}),_m=function(e,t){return rr(e,t).bind(function(t){var n=nr(t);return Q(n,function(t){return Nt(e,t)}).map(function(e){return{index:e,all:n}})})},Am=function(e,t){return _m(e,t).fold(function(){return Om.none(e)},function(t){return t.index+1<t.all.length?Om.middle(e,t.all[t.index+1]):Om.last(e)})},Dm=function(e,t){return _m(e,t).fold(function(){return Om.none()},function(t){return t.index-1>=0?Om.middle(e,t.all[t.index-1]):Om.first(e)})},Rm=function(e,t,n,r){return{start:g(e),soffset:g(t),finish:g(n),foffset:g(r)}},Mm={create:Rm},Pm=Ro.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Im=function(e,t,n,r){return e.fold(t,n,r)},zm=function(e){return e.fold(h,h,h)},Bm=Pm.before,Lm=Pm.on,Hm=Pm.after,Fm={before:Bm,on:Lm,after:Hm,cata:Im,getStart:zm},jm=Ro.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Vm=function(e){return jm.exact(e.start(),e.soffset(),e.finish(),e.foffset())},Um=function(e){return e.match({domRange:function(e){return qe.fromDom(e.startContainer)},relative:function(e,t){return Fm.getStart(e)},exact:function(e,t,n,r){return e}})},qm=jm.domRange,$m=jm.relative,Wm=jm.exact,Gm=function(e){var t=Um(e);return Mt(t)},Km=Mm.create,Ym={domRange:qm,relative:$m,exact:Wm,exactFromRange:Vm,getWin:Gm,range:Km},Xm=function(e,t){var n=e.document.createRange();return Jm(n,t),n},Jm=function(e,t){return e.selectNodeContents(t.dom())},Qm=function(e,t){t.fold(function(t){e.setStartBefore(t.dom())},function(t,n){e.setStart(t.dom(),n)},function(t){e.setStartAfter(t.dom())})},Zm=function(e,t){t.fold(function(t){e.setEndBefore(t.dom())},function(t,n){e.setEnd(t.dom(),n)},function(t){e.setEndAfter(t.dom())})},ep=function(e,t,n){var r=e.document.createRange();return Qm(r,t),Zm(r,n),r},tp=function(e,t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},np=function(e){return{left:g(e.left),top:g(e.top),right:g(e.right),bottom:g(e.bottom),width:g(e.width),height:g(e.height)}},rp=function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?T.some(n).map(np):T.none()},op=Ro.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),ip=function(e,t,n){return t(qe.fromDom(n.startContainer),n.startOffset,qe.fromDom(n.endContainer),n.endOffset)},ap=function(e,t){return t.match({domRange:function(e){return{ltr:g(e),rtl:T.none}},relative:function(t,n){return{ltr:Ke(function(){return ep(e,t,n)}),rtl:Ke(function(){return T.some(ep(e,n,t))})}},exact:function(t,n,r,o){return{ltr:Ke(function(){return tp(e,t,n,r,o)}),rtl:Ke(function(){return T.some(tp(e,r,o,t,n))})}}})},up=function(e,t){var n=t.ltr();if(n.collapsed){return t.rtl().filter(function(e){return!1===e.collapsed}).map(function(e){return op.rtl(qe.fromDom(e.endContainer),e.endOffset,qe.fromDom(e.startContainer),e.startOffset)}).getOrThunk(function(){return ip(0,op.ltr,n)})}return ip(0,op.ltr,n)},cp=function(e,t){var n=ap(e,t);return up(0,n)},sp=function(e,t){return cp(e,t).match({ltr:function(t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},rtl:function(t,n,r,o){var i=e.document.createRange();return i.setStart(r.dom(),o),i.setEnd(t.dom(),n),i}})},lp=(op.ltr,op.rtl,function(e,t,n,r,o){if(0===o)return 0;if(t===r)return o-1;for(var i=r,a=1;a<o;a++){var u=e(a),c=Math.abs(t-u.left);if(n<=u.bottom){if(n<u.top||c>i)return a-1;i=c}}return 0}),fp=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},dp=function(e,t,n,r,o){var i=function(n){var r=e.dom().createRange();return r.setStart(t.dom(),n),r.collapse(!0),r},a=function(e){return i(e).getBoundingClientRect()},u=Cr(t).length,c=lp(a,n,r,o.right,u);return i(c)},mp=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getClientRects();return ie(i,function(e){return fp(e,n,r)?T.some(e):T.none()}).map(function(o){return dp(e,t,n,r,o)})},pp=function(e,t,n,r){var o=e.dom().createRange(),i=Ht(t);return ie(i,function(t){return o.selectNode(t.dom()),fp(o.getBoundingClientRect(),n,r)?gp(e,t,n,r):T.none()})},gp=function(e,t,n,r){return xe(t)?mp(e,t,n,r):pp(e,t,n,r)},hp=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getBoundingClientRect(),a=Math.max(i.left,Math.min(i.right,n)),u=Math.max(i.top,Math.min(i.bottom,r));return gp(e,t,a,u)},vp=function(e,t){return t-e.left<e.right-t},bp=function(e,t,n){var r=e.dom().createRange();return r.selectNode(t.dom()),r.collapse(n),r},yp=function(e,t,n){var r=e.dom().createRange();r.selectNode(t.dom());var o=r.getBoundingClientRect(),i=vp(o,n);return(!0===i?_r:Ar)(t).map(function(t){return bp(e,t,i)})},wp=function(e,t,n){var r=t.dom().getBoundingClientRect(),o=vp(r,n);return T.some(bp(e,t,o))},xp=function(e,t,n){return(0===Ht(t).length?wp:yp)(e,t,n)},Cp=function(e,t,n){return T.from(e.dom().caretPositionFromPoint(t,n)).bind(function(t){if(null===t.offsetNode)return T.none();var n=e.dom().createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),T.some(n)})},kp=function(e,t,n){return T.from(e.dom().caretRangeFromPoint(t,n))},Sp=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getBoundingClientRect(),a=Math.max(i.left,Math.min(i.right,n)),u=Math.max(i.top,Math.min(i.bottom,r));return hp(e,t,a,u)},Tp=function(e,t,n){return qe.fromPoint(e,t,n).bind(function(r){var o=function(){return xp(e,r,t)};return 0===Ht(r).length?o():Sp(e,r,t,n).orThunk(o)})},Np=document.caretPositionFromPoint?Cp:document.caretRangeFromPoint?kp:Tp,Ep=function(e,t,n){var r=qe.fromDom(e.document);return Np(r,t,n).map(function(e){return Mm.create(qe.fromDom(e.startContainer),e.startOffset,qe.fromDom(e.endContainer),e.endOffset)})},Op=function(e,t){var n=he(e);return"input"===n?Fm.after(e):j(["br","img"],n)?0===t?Fm.before(e):Fm.after(e):Fm.on(e,t)},_p=function(e,t){var n=e.fold(Fm.before,Op,Fm.after),r=t.fold(Fm.before,Op,Fm.after);return Ym.relative(n,r)},Ap=function(e,t,n,r){var o=Op(e,t),i=Op(n,r);return Ym.relative(o,i)},Dp=function(e){return e.match({domRange:function(e){var t=qe.fromDom(e.startContainer),n=qe.fromDom(e.endContainer);return Ap(t,e.startOffset,n,e.endOffset)},relative:_p,exact:Ap})},Rp=function(e,t,n,r){var o=Dt(e),i=o.dom().createRange();return i.setStart(e.dom(),t),i.setEnd(n.dom(),r),i},Mp=function(e,t,n,r){var o=Rp(e,t,n,r),i=Nt(e,n)&&t===r;return o.collapsed&&!i},Pp=function(e,t){T.from(e.getSelection()).each(function(e){e.removeAllRanges(),e.addRange(t)})},Ip=function(e,t,n,r,o){var i=tp(e,t,n,r,o);Pp(e,i)},zp=function(e,t,n,r,o,i){t.collapse(n.dom(),r),t.extend(o.dom(),i)},Bp=function(e,t){return cp(e,t).match({ltr:function(t,n,r,o){Ip(e,t,n,r,o)},rtl:function(t,n,r,o){var i=e.getSelection();if(i.setBaseAndExtent)i.setBaseAndExtent(t.dom(),n,r.dom(),o);else if(i.extend)try{zp(0,i,t,n,r,o)}catch(i){Ip(e,r,o,t,n)}else Ip(e,r,o,t,n)}})},Lp=function(e,t,n,r,o){var i=Ap(t,n,r,o);Bp(e,i)},Hp=function(e,t,n){var r=_p(t,n);Bp(e,r)},Fp=function(e){var t=Ym.getWin(e).dom(),n=function(e,n,r,o){return tp(t,e,n,r,o)},r=Dp(e);return cp(t,r).match({ltr:n,rtl:n})},jp=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return T.some(Mm.create(qe.fromDom(t.startContainer),t.startOffset,qe.fromDom(n.endContainer),n.endOffset))}return T.none()},Vp=function(e){var t=qe.fromDom(e.anchorNode),n=qe.fromDom(e.focusNode);return Mp(t,e.anchorOffset,n,e.focusOffset)?T.some(Mm.create(t,e.anchorOffset,n,e.focusOffset)):jp(e)},Up=function(e,t){var n=Xm(e,t);Pp(e,n)},qp=function(e){return T.from(e.getSelection()).filter(function(e){return e.rangeCount>0}).bind(Vp)},$p=function(e){return qp(e).map(function(e){return Ym.exact(e.start(),e.soffset(),e.finish(),e.foffset())})},Wp=function(e,t){var n=sp(e,t);return rp(n)},Gp=function(e,t,n){return Ep(e,t,n)},Kp=function(e){e.getSelection().removeAllRanges()},Yp=tinymce.util.Tools.resolve("tinymce.util.VK"),Xp=function(e,t,n,r){return eg(e,t,Am(n),r)},Jp=function(e,t,n,r){return eg(e,t,Dm(n),r)},Qp=function(e,t){var n=Ym.exact(t,0,t,0);return Fp(n)},Zp=function(e,t){var n=zn(t,"tr");return oe(n).bind(function(e){return Un(e,"td,th").map(function(e){return Qp(0,e)})})},eg=function(e,t,n,r,o){return n.fold(T.none,T.none,function(e,t){return _r(t).map(function(e){return Qp(0,e)})},function(n){return rr(n,t).bind(function(t){var o=jo(n);return e.undoManager.transact(function(){r.insertRowsAfter(t,o)}),Zp(0,t)})})},tg=["table","li","dl"],ng=function(e,t,n,r){if(e.keyCode===Yp.TAB){var o=ns(t),i=function(e){var t=he(e);return Nt(e,o)||j(tg,t)},a=t.selection.getRng();if(a.collapsed){var u=qe.fromDom(a.startContainer);tr(u,i).each(function(o){e.preventDefault(),(e.shiftKey?Jp:Xp)(t,i,o,n,r).each(function(e){t.selection.setRng(e)})})}}},rg=function(e,t){return{selection:g(e),kill:g(t)}},og={create:rg},ig=function(e,t,n,r){return{start:g(Fm.on(e,t)),finish:g(Fm.on(n,r))}},ag={create:ig},ug=function(e,t){var n=sp(e,t);return Mm.create(qe.fromDom(n.startContainer),n.startOffset,qe.fromDom(n.endContainer),n.endOffset)},cg=ag.create,sg=function(e,t,n,r,o,i,a){return Nt(n,o)&&r===i?T.none():qn(n,"td,th",t).bind(function(n){return qn(o,"td,th",t).bind(function(r){return lg(e,t,n,r,a)})})},lg=function(e,t,n,r,o){return Nt(n,r)?T.none():wo(n,r,t).bind(function(t){var r=t.boxes.getOr([]);return r.length>0?(o(e,r,t.start,t.finish),T.some(og.create(T.some(cg(n,0,n,Tr(n))),!0))):T.none()})},fg=function(e,t,n,r,o){var i=function(e){return o.clearBeforeUpdate(n),o.selectRange(n,e.boxes,e.start,e.finish),e.boxes};return To(r,e,t,o.firstSelectedSelector,o.lastSelectedSelector).map(i)},dg=function(e,t){return{item:g(e),mode:g(t)}},mg=function(e,t,n,r){return void 0===r&&(r=pg),e.property().parent(t).map(function(e){return dg(e,r)})},pg=function(e,t,n,r){return void 0===r&&(r=gg),n.sibling(e,t).map(function(e){return dg(e,r)})},gg=function(e,t,n,r){void 0===r&&(r=gg);var o=e.property().children(t);return n.first(o).map(function(e){return dg(e,r)})},hg=[{current:mg,next:pg,fallback:T.none()},{current:pg,next:gg,fallback:T.some(mg)},{current:gg,next:gg,fallback:T.some(pg)}],vg=function(e,t,n,r,o){return void 0===o&&(o=hg),J(o,function(e){return e.current===n}).bind(function(n){return n.current(e,t,r,n.next).orThunk(function(){return n.fallback.bind(function(n){return vg(e,t,n,r)})})})},bg=function(){return{sibling:function(e,t){return e.query().prevSibling(t)},first:function(e){return e.length>0?T.some(e[e.length-1]):T.none()}}},yg=function(){return{sibling:function(e,t){return e.query().nextSibling(t)},first:function(e){return e.length>0?T.some(e[0]):T.none()}}},wg={left:bg,right:yg},xg=function(e,t,n,r,o,i){return vg(e,t,r,o).bind(function(t){return i(t.item())?T.none():n(t.item())?T.some(t.item()):xg(e,t.item(),n,t.mode(),o,i)})},Cg=function(e,t,n,r){return xg(e,t,n,pg,wg.left(),r)},kg=function(e,t,n,r){return xg(e,t,n,pg,wg.right(),r)},Sg=function(e){return function(t){return 0===e.property().children(t).length}},Tg=function(e,t,n){return Eg(e,t,Sg(e),n)},Ng=function(e,t,n){return Og(e,t,Sg(e),n)},Eg=Cg,Og=kg,_g=r(),Ag=function(e,t){return Tg(_g,e,t)},Dg=function(e,t){return Ng(_g,e,t)},Rg=function(e,t,n){return Eg(_g,e,t,n)},Mg=function(e,t,n){return Og(_g,e,t,n)},Pg=function(e,t,n){return Bn(e,t,n).isSome()},Ig=Ro.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),zg=function(e,t,n){var r=e.getRect(t),o=e.getRect(n);return o.right>r.left&&o.left<r.right},Bg=function(e){return qn(e,"tr")},Lg=function(e,t,n,r,o,i,a){return qn(r,"td,th",a).bind(function(n){return qn(t,"td,th",a).map(function(t){return Nt(n,t)?Nt(r,n)&&Tr(n)===o?i(t):Ig.none("in same cell"):vo(Bg,[n,t]).fold(function(){return zg(e,t,n)?Ig.success():i(t)},function(e){return i(t)})})}).getOr(Ig.none("default"))},Hg=function(e,t,n,r,o){return e.fold(t,n,r,o)},Fg=Ge(Ge({},Ig),{verify:Lg,cata:Hg}),jg=function(e,t,n,r){return{parent:g(e),children:g(t),element:g(n),index:g(r)}},Vg=function(e){return Pt(e).bind(function(t){var n=Ht(t);return Ug(n,e).map(function(r){return jg(t,n,e,r)})})},Ug=function(e,n){return Q(e,t(Nt,n))},qg=function(e){return"br"===he(e)},$g=function(e,t,n){return t(e,n).bind(function(e){return xe(e)&&0===Cr(e).trim().length?$g(e,t,n):T.some(e)})},Wg=function(e,t,n){return n.traverse(t).orThunk(function(){return $g(t,n.gather,e)}).map(n.relative)},Gg=function(e,t){return Ft(e,t).filter(qg).orThunk(function(){return Ft(e,t-1).filter(qg)})},Kg=function(e,t,n,r){return Gg(t,n).bind(function(t){return r.traverse(t).fold(function(){return $g(t,r.gather,e).map(r.relative)},function(e){return Vg(e).map(function(e){return Fm.on(e.parent(),e.index())})})})},Yg=function(e,t,n,r){return(qg(t)?Wg(e,t,r):Kg(e,t,n,r)).map(function(e){return{start:g(e),finish:g(e)}})},Xg=function(e){return Fg.cata(e,function(e){return T.none()},function(){return T.none()},function(e){return T.some(Is(e,0))},function(e){return T.some(Is(e,Tr(e)))})},Jg=function(e,t){return{left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}},Qg=function(e,t){return{left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}},Zg=function(e,t,n){return{left:e.left+t,top:e.top+n,right:e.right+t,bottom:e.bottom+n}},eh=function(e){return e.top},th=function(e){return e.bottom},nh=function(e,t,n){return n>=0&&n<Tr(t)?e.getRangedRect(t,n,t,n+1):n>0?e.getRangedRect(t,n-1,t,n):T.none()},rh=function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}},oh=function(e,t){return T.some(e.getRect(t))},ih=function(e,t,n){return we(t)?oh(e,t).map(rh):xe(t)?nh(e,t,n).map(rh):T.none()},ah=function(e,t){return we(t)?oh(e,t).map(rh):xe(t)?e.getRangedRect(t,0,t,Tr(t)).map(rh):T.none()},uh=Ro.generate([{none:[]},{retry:["caret"]}]),ch=function(e,t){return e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right},sh=function(e,t,n){return Ln(t,uf).fold(g(!1),function(t){return ah(e,t).exists(function(e){return ch(n,e)})})},lh=function(e,t,n,r,o){var i=Jg(o,5);return Math.abs(n.bottom-r.bottom)<1?uh.retry(i):n.top>o.bottom?uh.retry(i):n.top===o.bottom?uh.retry(Jg(o,1)):sh(e,t,o)?uh.retry(Zg(i,5,0)):uh.none()},fh=function(e,t,n,r,o){var i=Qg(o,5);return Math.abs(n.top-r.top)<1?uh.retry(i):n.bottom<o.top?uh.retry(i):n.bottom===o.top?uh.retry(Qg(o,1)):sh(e,t,o)?uh.retry(Zg(i,5,0)):uh.none()},dh={point:eh,adjuster:fh,move:Qg,gather:Ag},mh={point:th,adjuster:lh,move:Jg,gather:Dg},ph=function(e,t,n){return e.elementFromPoint(t,n).filter(function(e){return"table"===he(e)}).isSome()},gh=function(e,t,n,r,o){return hh(e,t,n,t.move(r,5),o)},hh=function(e,t,n,r,o){return 0===o?T.some(r):ph(e,r.left,t.point(r))?gh(e,t,n,r,o-1):e.situsFromPoint(r.left,t.point(r)).bind(function(i){return i.start().fold(T.none,function(i){return ah(e,i).bind(function(a){return t.adjuster(e,i,a,n,r).fold(T.none,function(r){return hh(e,t,n,r,o-1)})}).orThunk(function(){return T.some(r)})},T.none)})},vh=function(e,t){return e.situsFromPoint(t.left,t.bottom+5)},bh=function(e,t){return e.situsFromPoint(t.left,t.top-5)},yh=function(e,t,n){return e.point(t)>n.getInnerHeight()?T.some(e.point(t)-n.getInnerHeight()):e.point(t)<0?T.some(-e.point(t)):T.none()},wh=function(e,t,n){var r=e.move(n,5),o=hh(t,e,n,r,100).getOr(r);return yh(e,o,t).fold(function(){return t.situsFromPoint(o.left,e.point(o))},function(n){return t.scrollBy(0,n),t.situsFromPoint(o.left,e.point(o)-n)})},xh={tryUp:t(wh,dh),tryDown:t(wh,mh),ieTryUp:bh,ieTryDown:vh,getJumpSize:g(5)},Ch=function(e,t,n){return e.getSelection().bind(function(r){return Yg(t,r.finish(),r.foffset(),n).fold(function(){return T.some(Is(r.finish(),r.foffset()))},function(o){var i=e.fromSitus(o),a=Fg.verify(e,r.finish(),r.foffset(),i.finish(),i.foffset(),n.failure,t);return Xg(a)})})},kh=function(e,t,n,r,o,i){return 0===i?T.none():Nh(e,t,n,r,o).bind(function(a){var u=e.fromSitus(a),c=Fg.verify(e,n,r,u.finish(),u.foffset(),o.failure,t);return Fg.cata(c,function(){return T.none()},function(){return T.some(a)},function(a){return Nt(n,a)&&0===r?Sh(e,n,r,Qg,o):kh(e,t,a,0,o,i-1)},function(a){return Nt(n,a)&&r===Tr(a)?Sh(e,n,r,Jg,o):kh(e,t,a,Tr(a),o,i-1)})})},Sh=function(e,t,n,r,o){return ih(e,t,n).bind(function(t){return Th(e,o,r(t,xh.getJumpSize()))})},Th=function(e,t,n){var r=xt().browser;return r.isChrome()||r.isSafari()||r.isFirefox()||r.isEdge()?t.otherRetry(e,n):r.isIE()?t.ieRetry(e,n):T.none()},Nh=function(e,t,n,r,o){return ih(e,n,r).bind(function(t){return Th(e,o,t)})},Eh=function(e,t,n){return Ch(e,t,n).bind(function(r){return kh(e,t,r.element(),r.offset(),n,20).map(e.fromSitus)})},Oh=function(e,t){return Pg(e,function(e){return Pt(e).exists(function(e){return Nt(e,t)})})},_h=function(e,t,n,r,o){return qn(r,"td,th",t).bind(function(r){return qn(r,"table",t).bind(function(i){return Oh(o,i)?Eh(e,t,n).bind(function(e){return qn(e.finish(),"td,th",t).map(function(t){return{start:g(r),finish:g(t),range:g(e)}})}):T.none()})})},Ah=function(e,t,n,r,o,i){return xt().browser.isIE()?T.none():i(r,t).orThunk(function(){return _h(e,t,n,r,o).map(function(e){var t=e.range();return og.create(T.some(cg(t.start(),t.soffset(),t.finish(),t.foffset())),!0)})})},Dh=function(e,t){return qn(e,"tr",t).bind(function(e){return qn(e,"table",t).bind(function(n){var r=zn(n,"tr");return Nt(e,r[0])?Rg(n,function(e){return Ar(e).isSome()},t).map(function(e){var t=Tr(e);return og.create(T.some(cg(e,t,e,t)),!0)}):T.none()})})},Rh=function(e,t){return qn(e,"tr",t).bind(function(e){return qn(e,"table",t).bind(function(n){var r=zn(n,"tr");return Nt(e,r[r.length-1])?Mg(n,function(e){return _r(e).isSome()},t).map(function(e){return og.create(T.some(cg(e,0,e,0)),!0)}):T.none()})})},Mh=function(e,t,n,r,o,i,a){return _h(e,n,r,o,i).bind(function(e){return lg(t,n,e.start(),e.finish(),a)})},Ph=function(e,t){return qn(e,"td,th",t)},Ih={traverse:Lt,gather:Dg,relative:Fm.before,otherRetry:xh.tryDown,ieRetry:xh.ieTryDown,failure:Fg.failedDown},zh={traverse:Bt,gather:Ag,relative:Fm.before,otherRetry:xh.tryUp,ieRetry:xh.ieTryUp,failure:Fg.failedUp},Bh=function(e){return function(t){return t===e}},Lh=Bh(38),Hh=Bh(40),Fh=function(e){return e>=37&&e<=40},jh={isBackward:Bh(37),isForward:Bh(39)},Vh={isBackward:Bh(39),isForward:Bh(37)},Uh=function(e){return{left:e.left(),top:e.top(),right:e.right(),bottom:e.bottom(),width:e.width(),height:e.height()}},qh={toRaw:Uh},$h=function(t){var n=void 0!==t?t.dom():e.document,r=n.body.scrollLeft||n.documentElement.scrollLeft,o=n.body.scrollTop||n.documentElement.scrollTop;return Xo(r,o)},Wh=function(t,n,r){(void 0!==r?r.dom():e.document).defaultView.scrollBy(t,n)},Gh=function(e){var t=function(t,n){return qe.fromPoint(qe.fromDom(e.document),t,n)},n=function(e){return e.dom().getBoundingClientRect()},r=function(t,n,r,o){var i=Ym.exact(t,n,r,o);return Wp(e,i).map(qh.toRaw)},o=function(){return $p(e).map(function(t){return ug(e,t)})},i=function(t){var n=Ym.relative(t.start(),t.finish());return ug(e,n)},a=function(t,n){return Gp(e,t,n).map(function(e){return ag.create(e.start(),e.soffset(),e.finish(),e.foffset())})},u=function(){Kp(e)},c=function(t){void 0===t&&(t=!1),$p(e).each(function(n){return n.fold(function(e){return e.collapse(t)},function(n,r){var o=t?n:r;Hp(e,o,o)},function(n,r,o,i){var a=t?n:o,u=t?r:i;Lp(e,a,u,a,u)})})},s=function(t){Up(e,t)};return{elementFromPoint:t,getRect:n,getRangedRect:r,getSelection:o,fromSitus:i,situsFromPoint:a,clearSelection:u,collapseSelection:c,setSelection:function(t){Lp(e,t.start(),t.soffset(),t.finish(),t.foffset())},setRelativeSelection:function(t,n){Hp(e,t,n)},selectContents:s,getInnerHeight:function(){return e.innerHeight},getScrollY:function(){return $h(qe.fromDom(e.document)).top()},scrollBy:function(t,n){Wh(t,n,qe.fromDom(e.document))}}},Kh=function(e,t){return{rows:e,cols:t}},Yh=function(e,t,n,r){var o=Gh(e),i=c(o,t,n,r);return{mousedown:i.mousedown,mouseover:i.mouseover,mouseup:i.mouseup}},Xh=function(e,n,r,o){var i=Gh(e),a=function(){return o.clear(n),T.none()};return{keydown:function(e,u,c,s,l,f){var d=e.raw(),m=d.which,p=!0===d.shiftKey;return xo(n,o.selectedSelector).fold(function(){return Hh(m)&&p?t(Mh,i,n,r,Ih,s,u,o.selectRange):Lh(m)&&p?t(Mh,i,n,r,zh,s,u,o.selectRange):Hh(m)?t(Ah,i,r,Ih,s,u,Rh):Lh(m)?t(Ah,i,r,zh,s,u,Dh):T.none},function(e){var t=function(t){return function(){return ie(t,function(t){return fg(t.rows,t.cols,n,e,o)}).fold(function(){return ko(n,o.firstSelectedSelector,o.lastSelectedSelector).map(function(e){var t=Hh(m)||f.isForward(m)?Fm.after:Fm.before;return i.setRelativeSelection(Fm.on(e.first(),0),t(e.table())),o.clear(n),og.create(T.none(),!0)})},function(e){return T.some(og.create(T.none(),!0))})}};return Hh(m)&&p?t([Kh(1,0)]):Lh(m)&&p?t([Kh(-1,0)]):f.isBackward(m)&&p?t([Kh(0,-1),Kh(-1,0)]):f.isForward(m)&&p?t([Kh(0,1),Kh(1,0)]):Fh(m)&&!1===p?a:T.none})()},keyup:function(e,t,i,a,u){return xo(n,o.selectedSelector).fold(function(){var c=e.raw(),s=c.which;return 0==(!0===c.shiftKey)?T.none():Fh(s)?sg(n,r,t,i,a,u,o.selectRange):T.none()},T.none)}}},Jh=function(e,t,n,r){var o=Gh(e);return function(e,i){r.clearBeforeUpdate(t),wo(e,i,n).each(function(e){var n=e.boxes.getOr([]);r.selectRange(t,n,e.start,e.finish),o.selectContents(i),o.collapseSelection()})}},Qh=function(e,t){$(t,function(t){Tu(e,t)})},Zh=function(e){return function(t){ku(t,e)}},ev=function(e){return function(t){Qh(t,e)}},tv=function(e){var t=Zh(e.selected),n=ev([e.selected,e.lastSelected,e.firstSelected]),r=function(t){var r=zn(t,e.selectedSelector);$(r,n)};return{clearBeforeUpdate:r,clear:r,selectRange:function(n,o,i,a){r(n),$(o,t),ku(i,e.firstSelected),ku(a,e.lastSelected)},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},nv=function(e,t,n){var r=function(t){Ae(t,e.selected),Ae(t,e.firstSelected),Ae(t,e.lastSelected)},o=function(t){Te(t,e.selected,"1")},i=function(e){a(e),n()},a=function(t){var n=zn(t,e.selectedSelector);$(n,r)};return{clearBeforeUpdate:a,clear:i,selectRange:function(n,r,a,u){i(n),$(r,o),Te(a,e.firstSelected,"1"),Te(u,e.lastSelected,"1"),t(r,a,u)},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},rv={byClass:tv,byAttr:nv},ov=function(e,t,n){var r=e.slice(0,t[t.length-1].row()+1),o=ll(r,n);return ee(o,function(e){var n=e.cells().slice(0,t[t.length-1].column()+1);return q(n,function(e){return e.element()})})},iv=function(e,t,n){var r=e.slice(t[0].row()+t[0].rowspan()-1,e.length),o=ll(r,n);return ee(o,function(e){var n=e.cells().slice(t[0].column()+t[0].colspan()-1,+e.cells().length);return q(n,function(e){return e.element()})})},av=function(e,t,n){var r=pr.fromTable(e);return bl(r,t).map(function(e){var t=ul(r,n,!1);return{upOrLeftCells:ov(t,e,n),downOrRightCells:iv(t,e,n)}})},uv=function(e){return!1===Nu(qe.fromDom(e.target),"ephox-snooker-resizer-bar")},cv=function(e,t){var n=gs(T.none()),r=gs([]),o=function(){return fd(e).bind(function(e){var n=function(e){return"caption"===he(e)};return rr(e).map(function(r){return n(e)?jo(e):Vo(t,r,e)})})},i=function(){n.set(Ke(o)()),$(r.get(),function(e){return e()})},a=function(e,t){var o=function(){return n.get().fold(function(){e.setDisabled(!0)},function(n){e.setDisabled(t(n))})};return o(),r.set(r.get().concat([o])),function(){r.set(G(r.get(),function(e){return e!==o}))}},u=function(e){return a(e,function(e){return!1})},c=function(e){return a(e,function(e){return"caption"===he(e.element())})},s=function(e){return function(t){return a(t,function(t){return"caption"===he(t.element())||e().isNone()})}},l=function(e){return a(e,function(e){return e.mergable().isNone()})},f=function(e){return a(e,function(e){return e.unmergable().isNone()})};return e.on("NodeChange ExecCommand TableSelectorChange",i),{onSetupTable:u,onSetupCellOrRow:c,onSetupPasteable:s,onSetupMergeable:l,onSetupUnmergeable:f,resetTargets:i,targets:function(){return n.get()}}},sv=function(e,t,n){e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(e){return e("inserttable | cell row column | advtablesort | tableprops deletetable")}});var r=function(t){return function(){return e.execCommand(t)}};e.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:r("mceTableProps"),icon:"table",onSetup:t.onSetupTable}),e.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:r("mceTableDelete"),icon:"table-delete-table",onSetup:t.onSetupTable}),e.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:r("mceTableCellProps"),icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:r("mceTableMergeCells"),icon:"table-merge-cells",onSetup:t.onSetupMergeable}),e.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:r("mceTableSplitCells"),icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),e.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:r("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:r("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:r("mceTableDeleteRow"),icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:r("mceTableRowProps"),icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:r("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:r("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:r("mceTableDeleteCol"),icon:"table-delete-column",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:t.onSetupPasteable(n.getRows)}),e.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:t.onSetupPasteable(n.getRows)}),e.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:t.onSetupPasteable(n.getColumns)}),e.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:t.onSetupPasteable(n.getColumns)}),e.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:r("mceInsertTable"),icon:"table"})},lv=function(e){var t=function(t){return e.dom.is(t,"table")&&e.getBody().contains(t)},n=Jc(e);n.length>0&&e.ui.registry.addContextToolbar("table",{predicate:t,items:n,scope:"node",position:"node"})},fv=function(e,t,n){var r=function(t){return function(){return e.execCommand(t)}},o=function(t){var n=t.numRows,r=t.numColumns;e.undoManager.transact(function(){Ed(e,r,n,0,0)}),e.addVisual()},i={text:"Table properties",onSetup:t.onSetupTable,onAction:r("mceTableProps")},a={text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,onAction:r("mceTableDelete")};e.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:r("mceTableInsertRowBefore"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:r("mceTableInsertRowAfter"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:r("mceTableDeleteRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:r("mceTableRowProps"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:t.onSetupPasteable(n.getRows)}),e.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:t.onSetupPasteable(n.getRows)});var u={type:"nestedmenuitem",text:"Row",getSubmenuItems:function(){return"tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter"}};e.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:r("mceTableInsertColBefore"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:r("mceTableInsertColAfter"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:r("mceTableDeleteCol"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:t.onSetupPasteable(n.getColumns)}),e.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:t.onSetupPasteable(n.getColumns)});var c={type:"nestedmenuitem",text:"Column",getSubmenuItems:function(){return"tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn"}};e.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:r("mceTableCellProps"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:r("mceTableMergeCells"),onSetup:t.onSetupMergeable}),e.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:r("mceTableSplitCells"),onSetup:t.onSetupUnmergeable});var s={type:"nestedmenuitem",text:"Cell",getSubmenuItems:function(){return"tablecellprops tablemergecells tablesplitcells"}};!1===Uc(e)?e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:r("mceInsertTable")}):e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:o}]}}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:r("mceInsertTable")}),e.ui.registry.addMenuItem("tableprops",i),e.ui.registry.addMenuItem("deletetable",a),e.ui.registry.addNestedMenuItem("row",u),e.ui.registry.addNestedMenuItem("column",c),e.ui.registry.addNestedMenuItem("cell",s),e.ui.registry.addContextMenu("table",{update:function(){return t.resetTargets(),t.targets().fold(function(){return""},function(e){return"caption"===he(e.element())?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"})}})},dv={tablecellbackgroundcolor:{selector:"td,th",styles:{backgroundColor:"%value"},remove_similar:!0},tablecellbordercolor:{selector:"td,th",styles:{borderColor:"%value"},remove_similar:!0},tablecellborderstyle:{selector:"td,th",styles:{borderStyle:"%value"},remove_similar:!0},tablecellborderwidth:{selector:"td,th",styles:{borderWidth:"%value"},remove_similar:!0}},mv=function(e){e.formatter.register(dv)};!function(){f.add("table",l)}()}(window)},function(e,t,n){n(80)},function(e,t){!function(e){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(e,t){var r,o=e.dom,i=e.selection.getSelectedBlocks();i.length&&(r=o.getAttrib(i[0],"dir"),n.each(i,function(e){o.getParent(e.parentNode,'*[dir="'+t+'"]',o.getRoot())||o.setAttrib(e,"dir",r!==t?t:null)}),e.nodeChanged())},o=function(e){e.addCommand("mceDirectionLTR",function(){r(e,"ltr")}),e.addCommand("mceDirectionRTL",function(){r(e,"rtl")})},i=function(){},a=function(e,t){return function(n){return e(t(n))}},u=function(e){return function(){return e}},c=u(!1),s=u(!0),l=function(){return f},f=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:c,isSome:c,isNone:s,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(void 0),or:n,orThunk:t,map:l,each:i,bind:l,exists:c,forall:s,filter:l,equals:e,equals_:e,toArray:function(){return[]},toString:u("none()")}}(),d=function(e){var t=u(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:s,isNone:c,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return d(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:f},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(c,function(t){return n(e,t)})}};return o},m=function(e){return null===e||void 0===e?f:d(e)},p={some:d,none:l,from:m},g=function(t,n){var r=n||e.document,o=r.createElement("div");if(o.innerHTML=t,!o.hasChildNodes()||o.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return b(o.childNodes[0])},h=function(t,n){var r=n||e.document,o=r.createElement(t);return b(o)},v=function(t,n){var r=n||e.document,o=r.createTextNode(t);return b(o)},b=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:u(e)}},y=function(e,t,n){var r=e.dom();return p.from(r.elementFromPoint(t,n)).map(b)},w={fromHtml:g,fromTag:h,fromText:v,fromDom:b,fromPoint:y},x=function(e){return function(t){return typeof t===e}}("function"),C=function(e){return void 0!==e.style&&x(e.style.getPropertyValue)},k=(void 0!==e.window?e.window:Function("return this;")(),function(e){return e.dom().nodeType}),S=function(e){return function(t){return k(t)===e}},T=S(3),N=S(9),E=S(11),O=function(e){return w.fromDom(e.dom().ownerDocument)},_=function(e){return N(e)?e:O(e)},A=function(e){return E(e)},D=x(e.Element.prototype.attachShadow)&&x(e.Node.prototype.getRootNode),R=D?function(e){return w.fromDom(e.dom().getRootNode())}:_,M=function(e){var t=R(e);return A(t)?p.some(t):p.none()},P=function(e){return w.fromDom(e.dom().host)},I=function(e){var t=T(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&null!==t.ownerDocument&&M(w.fromDom(t)).fold(function(){return t.ownerDocument.body.contains(t)},a(I,P))},z=function(t,n){var r=t.dom(),o=e.window.getComputedStyle(r),i=o.getPropertyValue(n);return""!==i||I(t)?i:B(r,n)},B=function(e,t){return C(e)?e.style.getPropertyValue(t):""},L=function(e){return"rtl"===z(e,"direction")?"rtl":"ltr"},H=function(e,t){return function(n){var r=function(e){var r=w.fromDom(e.element);n.setActive(L(r)===t)};return e.on("NodeChange",r),function(){return e.off("NodeChange",r)}}},F=function(e){e.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return e.execCommand("mceDirectionLTR")},onSetup:H(e,"ltr")}),e.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return e.execCommand("mceDirectionRTL")},onSetup:H(e,"rtl")})};!function(){t.add("directionality",function(e){o(e),F(e)})}()}(window)},function(e,t,n){n(82)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){return e},n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},n.apply(this,arguments)},r=function(e){return e.replace(/\uFEFF/g,"")},o={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\ufeff￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:"[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"},i={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},a=[new RegExp(o.aletter),new RegExp(o.midnumlet),new RegExp(o.midletter),new RegExp(o.midnum),new RegExp(o.numeric),new RegExp(o.cr),new RegExp(o.lf),new RegExp(o.newline),new RegExp(o.extend),new RegExp(o.format),new RegExp(o.katakana),new RegExp(o.extendnumlet),new RegExp("@")],u=new RegExp("^"+o.punctuation+"$"),c=/^\s+$/,s=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},l=a,f=i.OTHER,d=function(e){for(var t=f,n=l.length,r=0;r<n;++r){var o=l[r];if(o&&o.test(e)){t=r;break}}return t},m=function(e){var t={};return function(n){if(t[n])return t[n];var r=e(n);return t[n]=r,r}},p=function(e){var t=m(d);return s(e,t)},g=function(e,t){var n=e[t],r=e[t+1];if(t<0||t>e.length-1&&0!==t)return!1;if(n===i.ALETTER&&r===i.ALETTER)return!1;var o=e[t+2];if(n===i.ALETTER&&(r===i.MIDLETTER||r===i.MIDNUMLET||r===i.AT)&&o===i.ALETTER)return!1;var a=e[t-1];return(n!==i.MIDLETTER&&n!==i.MIDNUMLET&&r!==i.AT||r!==i.ALETTER||a!==i.ALETTER)&&((n!==i.NUMERIC&&n!==i.ALETTER||r!==i.NUMERIC&&r!==i.ALETTER)&&((n!==i.MIDNUM&&n!==i.MIDNUMLET||r!==i.NUMERIC||a!==i.NUMERIC)&&((n!==i.NUMERIC||r!==i.MIDNUM&&r!==i.MIDNUMLET||o!==i.NUMERIC)&&(n!==i.EXTEND&&n!==i.FORMAT&&a!==i.EXTEND&&a!==i.FORMAT&&r!==i.EXTEND&&r!==i.FORMAT&&((n!==i.CR||r!==i.LF)&&(n===i.NEWLINE||n===i.CR||n===i.LF||(r===i.NEWLINE||r===i.CR||r===i.LF||(n!==i.KATAKANA||r!==i.KATAKANA)&&((r!==i.EXTENDNUMLET||n!==i.ALETTER&&n!==i.NUMERIC&&n!==i.KATAKANA&&n!==i.EXTENDNUMLET)&&((n!==i.EXTENDNUMLET||r!==i.ALETTER&&r!==i.NUMERIC&&r!==i.KATAKANA)&&n!==i.AT)))))))))},h=c,v=u,b=function(e){return"http"===e||"https"===e},y=function(e,t){var n;for(n=t;n<e.length&&!h.test(e[n]);n++);return n},w=function(e,t){var n=y(e,t+1);return"://"===e.slice(t+1,n).join("").substr(0,3)?n:t},x=function(e,t,n,r){for(var o=[],i=[],a=0;a<n.length;++a)if(i.push(e[a]),g(n,a)){var u=t[a];if((r.includeWhitespace||!h.test(u))&&(r.includePunctuation||!v.test(u))){var c=a-i.length+1,s=a+1,l=t.slice(c,s).join("");if(b(l)){var f=w(t,a),d=e.slice(s,f);Array.prototype.push.apply(i,d),a=f}o.push(i)}i=[]}return o},C=function(){return{includeWhitespace:!1,includePunctuation:!1}},k=function(e,t,r){r=n(n({},C()),r);for(var o=[],i=[],a=0;a<e.length;a++){var u=t(e[a]);"\ufeff"!==u&&(o.push(e[a]),i.push(u))}var c=p(i);return x(o,i,c,r)},S=k,T=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),N=function(e,t){for(var n=t.getBlockElements(),o=t.getShortEndedElements(),i=[],a="",u=new T(e,e);e=u.next();)3===e.nodeType?a+=r(e.data):function(e){return n[e.nodeName]||o[e.nodeName]}(e)&&a.length&&(i.push(a),a="");return a.length&&i.push(a),i},E=function(e){return e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},O=function(e,n){var r=N(e,n).join("\n");return S(r.split(""),t).length},_=function(e,t){var n=N(e,t).join("");return E(n)},A=function(e,t){var n=N(e,t).join("").replace(/\s/g,"");return E(n)},D=function(e,t){return function(){return t(e.getBody(),e.schema)}},R=function(e,t){return function(){return t(e.selection.getRng().cloneContents(),e.schema)}},M=function(e){return D(e,O)},P=function(e){return{body:{getWordCount:M(e),getCharacterCount:D(e,_),getCharacterCountWithoutSpaces:D(e,A)},selection:{getWordCount:R(e,O),getCharacterCount:R(e,_),getCharacterCountWithoutSpaces:R(e,A)},getCount:M(e)}},I=tinymce.util.Tools.resolve("tinymce.util.Delay"),z=function(e,t){e.fire("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})},B=function(e,t){z(e,t)},L=function(e,t,n){var r=I.debounce(function(){return B(e,t)},n);e.on("init",function(){B(e,t),I.setEditorTimeout(e,function(){e.on("SetContent BeforeAddUndo Undo Redo keyup",r)},0)})},H=function(e,t){e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},F=function(e,t){e.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:function(){return H(e,t)}}),e.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:function(){return H(e,t)}})};!function(t){void 0===t&&(t=300),e.add("wordcount",function(e){var n=P(e);return F(e,n),L(e,n,t),n})}()}()},function(e,t,n){n(84)},function(e,t){!function(){"use strict";var e=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e){return{addTab:function(t){var n=e.get();n[t.name]=t,e.set(n)}}},r=function(e,t){e.addCommand("mceHelp",t)},o=function(e,t){e.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:t}),e.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:t})},i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},i.apply(this,arguments)},a=function(){},u=function(e){return function(){return e}},c=u(!1),s=u(!0),l=function(){return f},f=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:c,isSome:c,isNone:s,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(void 0),or:n,orThunk:t,map:l,each:a,bind:l,exists:c,forall:s,filter:l,equals:e,equals_:e,toArray:function(){return[]},toString:u("none()")}}(),d=function(e){var t=u(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:s,isNone:c,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return d(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:f},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(c,function(t){return n(e,t)})}};return o},m=function(e){return null===e||void 0===e?f:d(e)},p={some:d,none:l,from:m},g=Array.prototype.indexOf,h=function(e,t){return g.call(e,t)},v=function(e,t){return h(e,t)>-1},b=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},y=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},w=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return p.some(i);if(n(i,r))break}return p.none()},x=function(e,t){return w(e,t,c)},C=Object.keys,k=Object.hasOwnProperty,S=function(e,t){return T(e,t)?p.from(e[t]):p.none()},T=function(e,t){return k.call(e,t)},N=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},E=function(e){return p.from(e.getParam("help_tabs"))},O=function(e){return e.getParam("forced_plugins")},_=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Header 1"},{shortcuts:["Access + 2"],action:"Header 2"},{shortcuts:["Access + 3"],action:"Header 3"},{shortcuts:["Access + 4"],action:"Header 4"},{shortcuts:["Access + 5"],action:"Header 5"},{shortcuts:["Access + 6"],action:"Header 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],A=tinymce.util.Tools.resolve("tinymce.Env"),D=function(e){var t={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},n={meta:"Ctrl ",access:"Shift + Alt "},r=A.mac?t:n,o=e.split("+"),i=b(o,function(e){var t=e.toLowerCase().trim();return T(r,t)?r[t]:e});return A.mac?i.join("").replace(/\s/,""):i.join("+")},R=function(){return{name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:b(_,function(e){var t=b(e.shortcuts,D).join(" or ");return[e.action,t]})}]}},M=tinymce.util.Tools.resolve("tinymce.util.I18n"),P=[{key:"advlist",name:"Advanced List"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"bbcode",name:"BBCode"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullpage",name:"Full Page"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"hr",name:"Horizontal Rule"},{key:"image",name:"Image"},{key:"imagetools",name:"Image Tools"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"legacyoutput",name:"Legacy Output"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"noneditable",name:"Noneditable"},{key:"pagebreak",name:"Page Break"},{key:"paste",name:"Paste"},{key:"preview",name:"Preview"},{key:"print",name:"Print"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"spellchecker",name:"Spell Checker"},{key:"tabfocus",name:"Tab Focus"},{key:"table",name:"Table"},{key:"template",name:"Template"},{key:"textcolor",name:"Text Color"},{key:"textpattern",name:"Text Pattern"},{key:"toc",name:"Table of Contents"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"advcode",name:"Advanced Code Editor*"},{key:"formatpainter",name:"Format Painter*"},{key:"powerpaste",name:"PowerPaste*"},{key:"tinydrive",name:"Tiny Drive*",slug:"drive"},{key:"tinymcespellchecker",name:"Spell Checker Pro*"},{key:"a11ychecker",name:"Accessibility Checker*"},{key:"linkchecker",name:"Link Checker*"},{key:"mentions",name:"Mentions*"},{key:"mediaembed",name:"Enhanced Media Embed*"},{key:"checklist",name:"Checklist*"},{key:"casechange",name:"Case Change*"},{key:"permanentpen",name:"Permanent Pen*"},{key:"pageembed",name:"Page Embed*"},{key:"tinycomments",name:"Tiny Comments*",slug:"comments"},{key:"advtable",name:"Advanced Tables*"},{key:"autocorrect",name:"Autocorrect*"}],I=function(e){var t=function(e){return'<a href="'+e.url+'" target="_blank" rel="noopener">'+e.name+"</a>"},n=function(e,n){return x(P,function(e){return e.key===n}).fold(function(){var r=e.plugins[n].getMetadata;return"function"==typeof r?t(r()):n},function(e){var n=e.slug||e.key;return t({name:e.name,url:"https://www.tiny.cloud/docs/plugins/"+n})})},r=function(e){var t=C(e.plugins),n=O(e);return void 0===n?t:y(t,function(e){return!v(n,e)})},o=function(e){var t=r(e),o=b(t,function(t){return"<li>"+n(e,t)+"</li>"}),i=o.length,a=o.join("");return"<p><b>"+M.translate(["Plugins installed ({0}):",i])+"</b></p><ul>"+a+"</ul>"};return{name:"plugins",title:"Plugins",items:[{type:"htmlpanel",presets:"document",html:[function(e){return null==e?"":'<div data-mce-tabstop="1" tabindex="-1">'+o(e)+"</div>"}(e),function(){var e=["Accessibility Checker","Advanced Code Editor","Advanced Tables","Case Change","Checklist","Tiny Comments","Tiny Drive","Enhanced Media Embed","Format Painter","Link Checker","Mentions","MoxieManager","Page Embed","Permanent Pen","PowerPaste","Spell Checker Pro"],t=b(e,function(e){return"<li>"+M.translate(e)+"</li>"}).join("");return'<div data-mce-tabstop="1" tabindex="-1"><p><b>'+M.translate("Premium plugins:")+"</b></p><ul>"+t+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" target="_blank">'+M.translate("Learn more...")+"</a></li></ul></div>"}()].join("")}]}},z=tinymce.util.Tools.resolve("tinymce.EditorManager"),B=function(){var e=function(e,t){return 0===e.indexOf("@")?"X.X.X":e+"."+t}(z.majorVersion,z.minorVersion),t='<a href="https://www.tinymce.com/docs/changelog/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" target="_blank">TinyMCE '+e+"</a>";return{name:"versions",title:"Version",items:[{type:"htmlpanel",html:"<p>"+M.translate(["You are using {0}",t])+"</p>",presets:"document"}]}},L=function(){return{name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:"<h1>Editor UI keyboard navigation</h1>\n\n<h2>Activating keyboard navigation</h2>\n\n<p>The sections of the outer UI of the editor - the menubar, toolbar, sidebar and footer - are all keyboard navigable. As such, there are multiple ways to activate keyboard navigation:</p>\n<ul>\n  <li>Focus the menubar: Alt + F9 (Windows) or &#x2325;F9 (MacOS)</li>\n  <li>Focus the toolbar: Alt + F10 (Windows) or &#x2325;F10 (MacOS)</li>\n  <li>Focus the footer: Alt + F11 (Windows) or &#x2325;F11 (MacOS)</li>\n</ul>\n\n<p>Focusing the menubar or toolbar will start keyboard navigation at the first item in the menubar or toolbar, which will be highlighted with a gray background. Focusing the footer will start keyboard navigation at the first item in the element path, which will be highlighted with an underline. </p>\n\n<h2>Moving between UI sections</h2>\n\n<p>When keyboard navigation is active, pressing tab will move the focus to the next major section of the UI, where applicable. These sections are:</p>\n<ul>\n  <li>the menubar</li>\n  <li>each group of the toolbar </li>\n  <li>the sidebar</li>\n  <li>the element path in the footer </li>\n  <li>the wordcount toggle button in the footer </li>\n  <li>the branding link in the footer </li>\n</ul>\n\n<p>Pressing shift + tab will move backwards through the same sections, except when moving from the footer to the toolbar. Focusing the element path then pressing shift + tab will move focus to the first toolbar group, not the last.</p>\n\n<h2>Moving within UI sections</h2>\n\n<p>Keyboard navigation within UI sections can usually be achieved using the left and right arrow keys. This includes:</p>\n<ul>\n  <li>moving between menus in the menubar</li>\n  <li>moving between buttons in a toolbar group</li>\n  <li>moving between items in the element path</li>\n</ul>\n\n<p>In all these UI sections, keyboard navigation will cycle within the section. For example, focusing the last button in a toolbar group then pressing right arrow will move focus to the first item in the same toolbar group. </p>\n\n<h1>Executing buttons</h1>\n\n<p>To execute a button, navigate the selection to the desired button and hit space or enter.</p>\n\n<h1>Opening, navigating and closing menus</h1>\n\n<p>When focusing a menubar button or a toolbar button with a menu, pressing space, enter or down arrow will open the menu. When the menu opens the first item will be selected. To move up or down the menu, press the up or down arrow key respectively. This is the same for submenus, which can also be opened and closed using the left and right arrow keys.</p>\n\n<p>To close any active menu, hit the escape key. When a menu is closed the selection will be restored to its previous selection. This also works for closing submenus.</p>\n\n<h1>Context toolbars and menus</h1>\n\n<p>To focus an open context toolbar such as the table context toolbar, press Ctrl + F9 (Windows) or &#x2303;F9 (MacOS).</p>\n\n<p>Context toolbar navigation is the same as toolbar navigation, and context menu navigation is the same as standard menu navigation.</p>\n\n<h1>Dialog navigation</h1>\n\n<p>There are two types of dialog UIs in TinyMCE: tabbed dialogs and non-tabbed dialogs.</p>\n\n<p>When a non-tabbed dialog is opened, the first interactive component in the dialog will be focused. Users can navigate between interactive components by pressing tab. This includes any footer buttons. Navigation will cycle back to the first dialog component if tab is pressed while focusing the last component in the dialog. Pressing shift + tab will navigate backwards.</p>\n\n<p>When a tabbed dialog is opened, the first button in the tab menu is focused. Pressing tab will navigate to the first interactive component in that tab, and will cycle through the tab’s components, the footer buttons, then back to the tab button. To switch to another tab, focus the tab button for the current tab, then use the arrow keys to cycle through the tab buttons.</p>"}]}},H=function(e,t){var n={},r=b(e,function(e){return"string"==typeof e?(T(t,e)&&(n[e]=t[e]),e):(n[e.name]=e,e.name)});return{tabs:n,names:r}},F=function(e){var t=C(e),n=t.indexOf("versions");return-1!==n&&(t.splice(n,1),t.push("versions")),{tabs:e,names:t}},j=function(e,t){var n,r=R(),o=L(),a=I(e),u=B(),c=i((n={},n[r.name]=r,n[o.name]=o,n[a.name]=a,n[u.name]=u,n),t.get());return E(e).fold(function(){return F(c)},function(e){return H(e,c)})},V=function(e,t){return function(){var n=j(e,t),r=n.tabs,o=n.names,i=b(o,function(e){return S(r,e)}),a=N(i),u={type:"tabpanel",tabs:a};e.windowManager.open({title:"Help",size:"medium",body:u,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})}};!function(){t.add("help",function(t){var i=e({}),a=n(i),u=V(t,i);return o(t,u),r(t,u),t.shortcuts.add("Alt+0","Open help dialog","mceHelp"),a})}()}()},function(e,t,n){"use strict";var r=n(86);t.a=r.a},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(87),o=n(88),i=n(15),a=n(89),u=this&&this.__assign||function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},u.apply(this,arguments)},c=function(e,t,n){return e(n||"div",{attrs:{id:t}})},s=function(e,t){return e("textarea",{attrs:{id:t},style:{visibility:"hidden"}})},l=function(e){return function(){var t=u(u({},e.$props.init),{readonly:e.$props.disabled,selector:"#"+e.elementId,plugins:Object(i.d)(e.$props.init&&e.$props.init.plugins,e.$props.plugins),toolbar:e.$props.toolbar||e.$props.init&&e.$props.init.toolbar,inline:e.inlineEditor,setup:function(t){e.editor=t,t.on("init",function(n){return Object(i.a)(n,e,t)}),e.$props.init&&"function"==typeof e.$props.init.setup&&e.$props.init.setup(t)}});Object(i.c)(e.element)&&(e.element.style.visibility=""),Object(o.a)().init(t)}},f={props:a.a,created:function(){this.elementId=this.$props.id||Object(i.e)("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==Object(o.a)())l(this)();else if(this.element&&this.element.ownerDocument){var e=this.$props.cloudChannel?this.$props.cloudChannel:"5",t=this.$props.apiKey?this.$props.apiKey:"no-api-key",n=Object(i.b)(this.$props.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+t+"/tinymce/"+e+"/tinymce.min.js":this.$props.tinymceScriptSrc;r.a.load(this.element.ownerDocument,n,l(this))}},beforeDestroy:function(){null!==Object(o.a)()&&Object(o.a)().remove(this.editor)},render:function(e){return this.inlineEditor?c(e,this.elementId,this.$props.tagName):s(e,this.elementId)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(15),o=function(){return{listeners:[],scriptId:Object(r.e)("tiny-script"),scriptLoaded:!1}},i=function(){var e=o(),t=function(e,t,n,r){var o=t.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=e,o.src=n;var i=function(){o.removeEventListener("load",i),r()};o.addEventListener("load",i),t.head&&t.head.appendChild(o)};return{load:function(n,r,o){e.scriptLoaded?o():(e.listeners.push(o),n.getElementById(e.scriptId)||t(e.scriptId,n,r,function(){e.listeners.forEach(function(e){return e()}),e.scriptLoaded=!0}))},reinitialize:function(){e=o()}}}()},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return o});var r=function(){return"undefined"!=typeof window?window:e},o=function(){var e=r();return e&&e.tinymce?e.tinymce:null}}).call(t,n(5))},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return"html"===e||"text"===e}}}},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("editor",{attrs:{value:e.htmlContent,init:{height:500,language:"zh_CN",language_url:e.publicPath+"tinymce/langs/zh_CN.js",skin:"oxide",skin_url:e.publicPath+"tinymce/skins/ui/oxide",content_css:e.publicPath+"tinymce/skins/content/default/content.css",menubar:!0,toolbar:"undo redo |         fontselect fontsizeselect formatselect |         bold italic underline strikethrough superscript subscript codeformat |         alignleft aligncenter alignright alignjustify |         outdent indent |         forecolor backcolor removeformat |         numlist bullist |         code |         charmap emoticons hr nonbreaking insertdatetime |         fullscreen  preview print |         image link codesample table |         ltr rtl |         wordcount",toolbar_mode:"sliding",plugins:"searchreplace paste lists advlist code charmap emoticons hr nonbreaking insertdatetime fullscreen preview print image link codesample table directionality wordcount help",image_description:!1,images_reuse_filename:!0,images_upload_handler:e.fileUpLoad,file_picker_types:"file",file_picker_callback:e.filePickerCallback,emoticons_database_url:e.publicPath+"tinymce/plugins/emoticons/emojis.min.js",elementpath:!1,branding:!1},disabled:e.disabled},on:{input:e.editorChange}}),e._v(" "),-1!==e.attachPercentage?n("el-dialog",{attrs:{title:"正在上传...",visible:-1!==e.attachPercentage,width:"30%","show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":""}},[n("div",{staticClass:"tx-c"},[n("el-progress",{attrs:{type:"circle",percentage:e.attachPercentage}})],1),e._v(" "),n("div",{staticClass:"tx-c margin-top-size-nomal"},[n("el-button",{on:{click:e.attachCancelHandler}},[e._v("取 消")])],1)]):e._e()],1)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";var r=n(16),o=n(92),i=n(0),a=i(r.a,o.a,!1,null,null,null);t.a=a.exports},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.logo?n("img",{staticStyle:{height:"40px"},attrs:{src:e.logoUrl,alt:""}}):e._e()},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";var r=n(17),o=n(94),i=n(0),a=i(r.a,o.a,!1,null,null,null);t.a=a.exports},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.user?n("div",{staticClass:"app-testBank-header-btns"},[e.avatarUrl?n("el-avatar",{attrs:{src:e.avatarUrl,size:"medium"}}):n("el-avatar",{staticClass:"bgcolor",attrs:{size:"medium"}},[e._v(" "+e._s(e.user.name&&e.user.name.slice(-2)||"")+" ")])],1):e._e()},o=[],i={render:r,staticRenderFns:o};t.a=i}]).default});
//# sourceMappingURL=xcedu-components.js.map