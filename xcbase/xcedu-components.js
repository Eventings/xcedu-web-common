!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("XcShare")):"function"==typeof define&&define.amd?define("XcComponents",["XcShare"],t):"object"==typeof exports?exports.XcComponents=t(require("XcShare")):e.XcComponents=t(e.XcShare)}("undefined"!=typeof self?self:this,function(__WEBPACK_EXTERNAL_MODULE_24__){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=18)}([function(e,t){e.exports=function(e,t,n,r,o,i){var a,u=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(a=e,u=e.default);var c="function"==typeof u?u.options:u;t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId=o);var l;if(i?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=l):r&&(l=r),l){var f=c.functional,d=f?c.render:c.beforeCreate;f?(c._injectStyles=l,c.render=function(e,t){return l.call(t),d(e,t)}):c.beforeCreate=d?[].concat(d,l):[l]}return{esModule:a,exports:u,options:c}}},function(e,t,n){"use strict";function r(e){return c.axios.get("/api-base/rangeScopes",{params:e})}function o(e){return c.axios.get("/api-base/rangeScopes?type=search",{params:e})}function i(e){return c.axios.get("/api-base/attachments/settings",{params:e})}function a(e){return c.axios.post("/api-base/attachments/save",e)}function u(e){return c.axios.get("/api-base/attachments/infoList",{params:e})}function s(){return c.axios.get("/api-base/users/userInfo")}t.a=r,t.c=o,t.b=i,t.f=a,t.e=u,t.d=s;var c=n(24);n.n(c)},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!Object(o.a)(n))throw TypeError("Stringified UUID is invalid");return n}for(var o=n(4),i=[],a=0;a<256;++a)i.push((a+256).toString(16).substr(1));t.a=r},function(e,t,n){"use strict";function r(e){return"string"==typeof e&&o.a.test(e)}var o=n(31);t.a=r},function(e,t){function n(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var i=r(o);return[n].concat(o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"})).concat([i]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){function r(e){for(var t=0;t<e.length;t++){var n=e[t],r=l[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(i(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{for(var a=[],o=0;o<n.parts.length;o++)a.push(i(n.parts[o]));l[n.id]={id:n.id,refs:1,parts:a}}}}function o(){var e=document.createElement("style");return e.type="text/css",f.appendChild(e),e}function i(e){var t,n,r=document.querySelector("style["+v+'~="'+e.id+'"]');if(r){if(m)return h;r.parentNode.removeChild(r)}if(b){var i=p++;r=d||(d=o()),t=a.bind(null,r,i,!1),n=a.bind(null,r,i,!0)}else r=o(),t=u.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}function a(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function u(e,t){var n=t.css,r=t.media,o=t.sourceMap;if(r&&e.setAttribute("media",r),g.ssrId&&e.setAttribute(v,t.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=n(22),l={},f=s&&(document.head||document.getElementsByTagName("head")[0]),d=null,p=0,m=!1,h=function(){},g=null,v="data-vue-ssr-id",b="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,n,o){m=n,g=o||{};var i=c(e,t);return r(i),function(t){for(var n=[],o=0;o<i.length;o++){var a=i[o],u=l[a.id];u.refs--,n.push(u)}t?(i=c(e,t),r(i)):i=[];for(var o=0;o<n.length;o++){var u=n[o];if(0===u.refs){for(var s=0;s<u.parts.length;s++)u.parts[s]();delete l[u.id]}}}};var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";var r=n(23),o=n.n(r),i=n(1);t.a={name:"chooseUser",components:{tree:o.a},props:{allowWrite:{type:Boolean,default:!1},value:{type:Array,default:function(){return[]}},selectRole:{type:Array,default:function(){return[]}},getUser:{type:Function,default:i.a},getSearchList:{type:Function,default:i.c},disabled:{type:Boolean,default:!1},single:{type:Boolean,default:!1},usersOnly:{type:Boolean,default:!1},title:{type:String,default:"选择成员对象"},gradeOnly:{type:Boolean,default:!1}},data:function(){return{orgUserSearchValue:"",selectedSearchValue:"",dialogVisible:!1,activeName:"",orgUserNodes:[],orgUserSearchNodes:[],orgUserTree:null,groupNodes:[],groupSearchNodes:[],groupTree:null,myGroupNodes:[],myGroupSearchNodes:[],myGroupTree:null,gradeNodes:[],gradeSearchNodes:[],gradeTree:null,inputVisible:!1,inputVal:"",inputSearchList:[],selectedArr:[],selelctedFilterArr:[],tabRoles:[],setting:{dblClickExpand:!1,check:{enable:!0,chkboxType:{Y:"",N:""},chkStyle:this.single?"radio":"checkbox",radioType:"all"},data:{key:{name:"name"},simpleData:{enable:!0,pIdKey:"pId"}},view:{showIcon:!1,addDiyDom:this.addDiyDom}},isFullScreen:!1}},computed:{dynamicTags:function(){for(var e=[],t=this.selectedArr,n=0;n<t.length;n++)e.push(t[n].name+(t[n].orgName?"<"+t[n].orgName+">":""));return e},filterSelectedList:function(){var e=this.selectedSearchValue;return e?this.selelctedFilterArr.filter(function(t){return-1!==t.name.toString().indexOf(e)}):this.selelctedFilterArr}},watch:{value:function(e,t){this.value=e,this.selectedArr=this.value}},mounted:function(){this.tabRoles=this.selectRole,this.loadTreeData(),this.selectedArr=this.value},methods:{changeSelect:function(e){console.log(e)},handleTreeSelect:function(e,t){if(""===e.value?this[t+"Nodes"]=this[t+"SearchNodes"]:e.value?this[t+"SearchValue"]=e.value:this[t+"SearchValue"]=e.name+"<"+e.orgName+">",this[t+"SearchValue"]){var n=this[t+"SearchValue"];n=-1!==n.indexOf("<")?n.substring(0,n.indexOf("<")):n,this.searchTree(n,t)}},searchTree:function(e,t){var n=this[t+"SearchNodes"];this[t+"Nodes"]=e?n.filter(this.createFilter(e)):n},handleIconClick:function(){},treeSearch:function(e,t){var n=this.orgUserSearchNodes,r=e?n.filter(this.createFilter(e)):n;this.setting.data.key.name=e?"fullOrgName":"name",t(r)},createFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},openChooseUserModal:function(){this.activeName=this.tabRoles[0],this.selelctedFilterArr=JSON.parse(JSON.stringify(this.selectedArr)),this.canceSelectAllBtns();var e=!0,t=!1,n=void 0;try{for(var r,o=this.tabRoles[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;this.initTreeCheck(this[i+"Tree"])}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}},clearAll:function(){this.selelctedFilterArr=[],this.canceSelectAllBtns();var e=!0,t=!1,n=void 0;try{for(var r,o=this.tabRoles[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;this.initTreeCheck(this[i+"Tree"])}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}},canceSelectAllBtns:function(){var e=document.querySelectorAll("input.selectAllBtn"),t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){o.value.checked=!1}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}},loadTreeData:function(){var e=this,t=!0,n=!1,r=void 0;try{for(var o,i=this.tabRoles[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;!function(t){var n={type:t};e.getUser(n).then(function(n){e.addFullOrgName(n),e[t+"Nodes"]=n,e[t+"SearchNodes"]=n})}(a)}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}},addFullOrgName:function(e){for(var t=0;t<e.length;t++){for(var n=e[t].pId,r=[];"-1"!==n&&""!==n;)for(var o=0;o<e.length;o++)if(n===e[o].id){r.push(e[o].name),n=e[o].pId;break}e[t].fullOrgName=e[t].name,r.length&&(e[t].fullOrgName+=" <"+r.reverse().join("-")+">")}},addDiyDom:function(e,t){if(!this.single&&t.isParent){var n=document.createElement("label"),r=document.createElement("input"),o=document.createElement("span");o.innerHTML="全选",r.setAttribute("type","checkbox"),r.setAttribute("class","selectAllBtn"),n.appendChild(r),n.appendChild(o);document.getElementById(t.tId).appendChild(n);var i=window.jQuery.fn.zTree.getZTreeObj(e);r.onclick=function(){var e=this.checked,n=t.children;if(e){var r=!0,o=!1,a=void 0;try{for(var u,s=n[Symbol.iterator]();!(r=(u=s.next()).done);r=!0){var c=u.value;i.checkNode(c,!0,!1,!0)}}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}}else{var l=!0,f=!1,d=void 0;try{for(var p,m=n[Symbol.iterator]();!(l=(p=m.next()).done);l=!0){var h=p.value;i.checkNode(h,!1,!1,!0)}}catch(e){f=!0,d=e}finally{try{!l&&m.return&&m.return()}finally{if(f)throw d}}}}}},clickNode:function(e,t,n,r){n.checked?this[r].checkNode(n,!1,!1,!0):this[r].checkNode(n,!0,!1,!0)},handleCreated:function(e,t){this[t]=e;var n=e.getNodes();if(n=e.transformToArray(n),this.usersOnly)for(var r=0;r<n.length;r++)"user"!==n[r].popCode&&e.setChkDisabled(n[r],!0,!1,!1);if(this.gradeOnly)for(var o=0;o<n.length;o++)"grade"!==n[o].popCode&&e.setChkDisabled(n[o],!0,!1,!1);this.initTreeCheck(e)},initTreeCheck:function(e){if(e){if(e.checkAllNodes(!1),this.single){var t=e.getSelectedNodes();t.length&&e.checkNode(t[0],!1,!1,!0)}for(var n=this.selelctedFilterArr,r=0;r<n.length;r++){var o=e.getNodesByParam("id",n[r].id,null);if(o.length>0)for(var i=0;i<o.length;i++)if(e.checkNode(o[i],!0,!1,!1),null!==o[i].getParentNode()){var a=o[i].getParentNode();e.expandNode(a,!0,!1,!1,!1)}}}},handleSelect:function(e){this.inputVisible=!1;var t=!1,n=!0,r=!1,o=void 0;try{for(var i,a=this.selectedArr[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(i.value.id===e.id){t=!0;break}}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}t||this.selectedArr.push(e)},querySearchAsync:function(e,t){var n=this,r=void 0;this.getSearchList({searchName:e}).then(function(o){r=o;var i=e?r.filter(n.createStateFilter(e)):r;t(i),0===i.length&&(n.inputVal="")})},createStateFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleClose:function(e){this.selectedArr.splice(this.dynamicTags.indexOf(e),1),this.$emit("input",this.selectedArr)},showInput:function(){this.disabled||(this.allowWrite?(this.inputVisible=!0,this.$nextTick(function(){this.$refs.saveTagInput.focus()})):this.chooseUser())},chooseUser:function(){this.orgUserSearchValue="",this.selectedSearchValue="",this.handleTreeSelect({value:""},"orgUser"),this.dialogVisible=!0},onCheck:function(e,t,n){if(n.checked){for(var r=0;r<this.selelctedFilterArr.length;r++)if(this.selelctedFilterArr[r].id===n.id)return;this.single&&(this.selelctedFilterArr=[]);var o={id:n.id,pid:n.pId,name:n.name,popcode:n.popCode,orgName:n.orgName,iconSkin:n.iconSkin,canSelect:n.canSelect,open:n.open,fullOrgName:n.fullOrgName};this.selelctedFilterArr.push(o)}else{this.cancelTreeSelected(window.jQuery.fn.zTree.getZTreeObj(t),n.id);for(var i=0;i<this.selelctedFilterArr.length;i++)if(n.id===this.selelctedFilterArr[i].id){this.selelctedFilterArr.splice(i,1);break}}},delItem:function(e,t){for(var n=0;n<this.selelctedFilterArr.length;n++)if(this.selelctedFilterArr[n].id===t){this.selelctedFilterArr.splice(n,1);break}var r=!0,o=!1,i=void 0;try{for(var a,u=this.tabRoles[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;if(this[s+"Tree"])return void this.cancelTreeSelected(this[s+"Tree"],t)}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}},cancelTreeSelected:function(e,t){var n=e.getNodesByParam("id",t,null);if(n.length>0)for(var r=0;r<n.length;r++)n[r].checked&&e.checkNode(n[r],!1,!1,!1)},submitSelectedValue:function(){this.selectedArr=this.selelctedFilterArr,this.$emit("input",this.selectedArr),this.dialogVisible=!1},handleClearSearchValue:function(e){this.$refs[e+"SearchInput"].activated=!0}}}},function(e,t,n){"use strict";var r=n(1),o=n(29),i=n(9),a=n.n(i),u=n(10);t.a={name:"FileUp",inheritAttrs:!1,props:{value:{type:String,default:""},uploadType:{type:String,default:"file"},accept:String,dir:{type:String,default:""},acceptTips:{type:String,default:""},domainId:{type:String,default:""},readonly:{type:Boolean,default:!1}},data:function(){return{publicPath:window.XcComponents.path,client:null,fileList:[]}},computed:{PATH:function(){var e=this.domainId;if(!e){var t=window.webStorage.getItem("userInfo");e=t&&JSON.parse(t).domainId}return(e||"domain")+"/"+(this.dir||"anonymous")+"/"},tip:function(){return this.acceptTips||"image"!==this.uploadType?this.acceptTips:"只能上传图片格式的文件"},fileAccept:function(){return this.accept||"image"!==this.uploadType?this.accept:"image/*"}},watch:{value:{immediate:!0,handler:function(e){var t=this;if(e){var n=e.split(","),o=!1;if(n.length!==this.fileList.length&&(o=!0),!o)for(var i=0;i<n.length;i++){for(var a=!1,u=0;u<this.fileList.length;u++)if(n[i]===this.fileList[u].id){a=!0;break}if(!a){o=!0;break}}o&&Object(r.e)({idList:e}).then(function(e){for(var n=0;n<e.length;n++)e[n].status="success",e[n].progress=-1;t.fileList=e})}else this.fileList.length&&(this.fileList=[])}}},beforeDestroy:function(){this.fileList.forEach(function(e){e.url&&0===e.url.indexOf("blob:")&&URL.revokeObjectURL(e.url)})},methods:{getClient:function(){var e=this;return new Promise(function(t,n){e.client?t(e.client):Object(r.b)().then(function(n){e.client=new a.a({region:"oss-cn-shenzhen",accessKeyId:n.accessKeyId,accessKeySecret:n.accessKeySecret,bucket:"gtyzfile"}),t(e.client)}).catch(function(){return n()})})},delFile:function(e){var t=this;this.$confirm("是否确认删除该"+("image"===this.uploadType?"图片？":"附件？"),"",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.fileList.splice(e,1);for(var n=[],r=0;r<t.fileList.length;r++)n.push(t.fileList[r].id);t.$emit("input",n.join(","))})},beforeUpload:function(e){return-1===e.name.indexOf(".")?(this.$message.error("禁止上传无格式的文件！"),!1):"image/*"===this.fileAccept&&-1===e.type.indexOf("image/")?(this.$message.error("只能上传图片格式的文件！"),!1):void 0},fileUpLoad:function(e){var t=this,n=Object(u.a)().replace(/-/g,""),r=e.file,o={displayName:r.name,fileSize:r.size,id:n,url:URL.createObjectURL(r),status:"ready",progress:0};this.fileList.push(o);var i=n+r.name.substring(r.name.lastIndexOf("."));this.getClient().then(function(e){e.multipartUpload(t.PATH+i,r,{progress:function(e){o.progress=100*e}}).then(function(e){t.uploadOnSuccess(e,o)}).catch(function(e){window.console.log(e)})})},uploadOnSuccess:function(e,t){var n=this;Object(r.f)({displayName:t.displayName,fileSize:t.fileSize,id:t.id,relativePath:this.PATH,storageLocation:"ALIYUN"}).then(function(e){t.status="success",t.progress=-1,n.$emit("input",n.value?n.value+","+t.id:t.id)})},getFileSize:function(e){return e/1024<1?"1KB":e/1024/1024<1?(e/1024).toFixed(1)+"KB":e/1024/1024/1024<1?(e/1024/1024).toFixed(1)+"MB":">1GB"},getFileTypeImg:function(e){return-1!==e.indexOf("image")?"images.png":"text/plain"===e?"txt.png":-1!==e.indexOf("video")?"video.png":-1!==e.indexOf("audio")?"audio.png":"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===e||"application/msword"===e?"word.png":"application/x-zip-compressed"===e?"zip.png":"application/pdf"===e?"pdf.png":"application/x-rar-compressed"===e?"rar.png":"application/x-xls"===e||"application/vnd.ms-excel"===e||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e?"excel.png":"application/x-ppt"===e||"application/vnd.ms-powerpoint"===e||"application/vnd.openxmlformats-officedocument.presentationml.presentation"===e?"ppt.png":void 0},previewImage:function(e){this.$refs.imageBox[e].clickHandler()},download:function(e){0===e.url.indexOf("blob:")?Object(o.a)(e.url,e.displayName):this.getClient().then(function(t){var n=t.signatureUrl(e.url.replace(/.*\.com\//,""),{response:{"content-disposition":'attachment; filename="'+e.displayName+'"'}});window.location=n})},validateFinished:function(){for(var e=0;e<this.fileList.length;e++)if(-1!==this.fileList[e].progress)return!1;return!0}}}},function(module,exports,__webpack_require__){(function(global){var require,require;!function(e){module.exports=e()}(function(){var define,module,exports;return function(){function e(t,n,r){function o(a,u){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!u&&s)return require(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){return o(t[a][1][e]||e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}return e}()({1:[function(e,t,n){"use strict";var r=e("./browser/client");r.Buffer=e("buffer").Buffer,r.urllib=e("../shims/xhr"),r.version=e("./browser/version").version,t.exports=r},{"../shims/xhr":291,"./browser/client":2,"./browser/version":5,buffer:73}],2:[function(e,t,n){(function(n,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(){var e=x.name,t=x.version;e&&e.toLowerCase&&"ie"===e.toLowerCase()&&t.split(".")[0]<10&&console.warn("ali-oss does not support the current browser")}function a(){return location&&"https:"===location.protocol}function u(e,t){if(i(),!(this instanceof u))return new u(e,t);e&&e.inited?this.options=e:this.options=u.initOptions(e),this.options.cancelFlag=!1,this.options.urllib?this.urllib=this.options.urllib:(this.urllib=_,this.agent=this.options.agent||M),this.ctx=t,this.userAgent=this._getUserAgent(),this.options.amendTimeSkewed=0}var s=e("babel-runtime/core-js/promise"),c=o(s),l=e("babel-runtime/regenerator"),f=o(l),d=e("babel-runtime/core-js/object/assign"),p=o(d),m=e("debug")("ali-oss"),h=e("copy-to"),g=e("xml2js"),v=e("agentkeepalive"),b=e("merge-descriptors"),y=e("url"),w=e("is-type-of"),x=e("platform"),C=e("utility"),_=e("urllib"),S=e("./version"),k=e("bowser"),T=e("../common/signUtils"),E=e("../common/utils/isIP"),O=E.isIP,N=e("../common/client/initOptions"),A=e("../common/utils/createRequest"),D=A.createRequest,M=new v;t.exports=u,u.initOptions=function(e){e.stsToken||console.warn("Please use STS Token for safety, see more details at https://help.aliyun.com/document_detail/32077.html");var t=(0,p.default)({secure:a(),useFetch:!1},e);return N(t)};var I=u.prototype;I.debug=m,b(I,e("./object")),b(I,e("../common/bucket/getBucketWebsite")),b(I,e("../common/bucket/putBucketWebsite")),b(I,e("../common/bucket/deleteBucketWebsite")),b(I,e("../common/bucket/getBucketLifecycle")),b(I,e("../common/bucket/putBucketLifecycle")),b(I,e("../common/bucket/deleteBucketLifecycle")),b(I,e("../common/bucket/putBucketVersioning")),b(I,e("../common/bucket/getBucketVersioning")),b(I,e("./managed-upload")),b(I,e("../common/multipart")),b(I,e("../common/parallel")),I.signature=function(e){return this.debug("authorization stringToSign: %s",e,"info"),T.computeSignature(this.options.accessKeySecret,e)},I.authorization=function(e,t,n,r){var o=T.buildCanonicalString(e.toUpperCase(),t,{headers:r,parameters:n});return T.authorization(this.options.accessKeyId,this.options.accessKeySecret,o)},I.request=function(e){var t,n,r,o,i,a;return f.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:return t=D.call(this,e),this.options.useFetch||(t.params.mode="disable-fetch"),n=void 0,r=void 0,o=!!e.stream,u.prev=5,u.next=8,f.default.awrap(this.urllib.request(t.url,t.params));case 8:n=u.sent,this.debug("response %s %s, got %s, headers: %j",e.method,t.url,n.status,n.headers,"info"),u.next=15;break;case 12:u.prev=12,u.t0=u.catch(5),r=u.t0;case 15:if(i=void 0,!n||!e.successStatuses||-1!==e.successStatuses.indexOf(n.status)){u.next=28;break}return u.next=19,f.default.awrap(this.requestError(n));case 19:if(i=u.sent,"RequestTimeTooSkewed"!==i.code||o){u.next=25;break}return this.options.amendTimeSkewed=+new Date(i.serverTime)-new Date,u.next=24,f.default.awrap(this.request(e));case 24:return u.abrupt("return",u.sent);case 25:i.params=e,u.next=32;break;case 28:if(!r){u.next=32;break}return u.next=31,f.default.awrap(this.requestError(r));case 31:i=u.sent;case 32:if(!i){u.next=34;break}throw i;case 34:if(!e.xmlResponse){u.next=39;break}return u.next=37,f.default.awrap(this.parseXML(n.data));case 37:a=u.sent,n.data=a;case 39:return u.abrupt("return",n);case 40:case"end":return u.stop()}},null,this,[[5,12]])},I._getResource=function(e){var t="/";return e.bucket&&(t+=e.bucket+"/"),e.object&&(t+=e.object),t},I._isIP=O,I._escape=function(e){return C.encodeURIComponent(e).replace(/%2F/g,"/")},I._getReqUrl=function(e){var t={};h(this.options.endpoint).to(t);var n=this._isIP(t.hostname),r=this.options.cname;!e.bucket||r||n||(t.host=e.bucket+"."+t.host);var o="/";e.bucket&&n&&(o+=e.bucket+"/"),e.object&&(o+=this._escape(e.object).replace(/\+/g,"%2B")),t.pathname=o;var i={};if(e.query&&b(i,e.query),e.subres){var a={};w.string(e.subres)?a[e.subres]="":w.array(e.subres)?e.subres.forEach(function(e){a[e]=""}):a=e.subres,b(i,a)}return t.query=i,y.format(t)},I._getUserAgent=function(){var e=r&&r.browser?"js":"nodejs",t="aliyun-sdk-"+e+"/"+S.version,n=x.description;return!n&&r&&(n="Node.js "+r.version.slice(1)+" on "+r.platform+" "+r.arch),this._checkUserAgent(t+" "+n)},I._checkUserAgent=function(e){return e.replace(/\u03b1/,"alpha").replace(/\u03b2/,"beta")},I.checkBrowserAndVersion=function(e,t){return k.name===e&&k.version.split(".")[0]===t},I.parseXML=function(e){return new c.default(function(t,r){n.isBuffer(e)&&(e=e.toString()),g.parseString(e,{explicitRoot:!1,explicitArray:!1},function(e,n){e?r(e):t(n)})})},I.requestError=function(e){var t,n,r,o;return f.default.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t=null,e.data&&e.data.length){i.next=5;break}-1===e.status||-2===e.status?(t=new Error(e.message),t.name=e.name,t.status=e.status,t.code=e.name):(404===e.status?(t=new Error("Object not exists"),t.name="NoSuchKeyError",t.status=404,t.code="NoSuchKey"):412===e.status?(t=new Error("Pre condition failed"),t.name="PreconditionFailedError",t.status=412,t.code="PreconditionFailed"):(t=new Error("Unknow error, status: "+e.status),t.name="UnknowError",t.status=e.status),t.requestId=e.headers["x-oss-request-id"],t.host=""),i.next=33;break;case 5:return n=String(e.data),this.debug("request response error data: %s",n,"error"),r=void 0,i.prev=8,i.next=11,f.default.awrap(this.parseXML(n));case 11:if(i.t0=i.sent,i.t0){i.next=14;break}i.t0={};case 14:r=i.t0,i.next=24;break;case 17:return i.prev=17,i.t1=i.catch(8),this.debug(n,"error"),i.t1.message+="\nraw xml: "+n,i.t1.status=e.status,i.t1.requestId=e.headers["x-oss-request-id"],i.abrupt("return",i.t1);case 24:o=r.Message||"unknow request error, status: "+e.status,r.Condition&&(o+=" (condition: "+r.Condition+")"),t=new Error(o),t.name=r.Code?r.Code+"Error":"UnknowError",t.status=e.status,t.code=r.Code,t.requestId=r.RequestId,t.hostId=r.HostId,t.serverTime=r.ServerTime;case 33:return this.debug("generate error %j",t,"error"),i.abrupt("return",t);case 35:case"end":return i.stop()}},null,this,[[8,17]])}}).call(this,{isBuffer:e("../../node_modules/is-buffer/index.js")},e("_process"))},{"../../node_modules/is-buffer/index.js":197,"../common/bucket/deleteBucketLifecycle":6,"../common/bucket/deleteBucketWebsite":7,"../common/bucket/getBucketLifecycle":8,"../common/bucket/getBucketVersioning":9,"../common/bucket/getBucketWebsite":10,"../common/bucket/putBucketLifecycle":11,"../common/bucket/putBucketVersioning":12,"../common/bucket/putBucketWebsite":13,"../common/client/initOptions":15,"../common/multipart":18,"../common/parallel":33,"../common/signUtils":34,"../common/utils/createRequest":38,"../common/utils/isIP":45,"./managed-upload":3,"./object":4,"./version":5,_process:208,agentkeepalive:48,"babel-runtime/core-js/object/assign":54,"babel-runtime/core-js/promise":61,"babel-runtime/regenerator":68,bowser:70,"copy-to":76,debug:288,"is-type-of":289,"merge-descriptors":200,platform:206,url:238,urllib:291,utility:290,xml2js:249}],3:[function(e,t,n){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(this instanceof o))return new o(e,t);C.call(this,t),this.file=e,this.reader=new FileReader,this.start=0,this.finish=!1,this.fileBuffer=null}var i=e("babel-runtime/core-js/array/from"),a=r(i),u=e("babel-runtime/core-js/promise"),s=r(u),c=e("babel-runtime/regenerator"),l=r(c),f=e("is-type-of"),d=e("util"),p=e("path"),m=e("mime"),h=e("copy-to"),g=e("../common/utils/isBlob"),v=g.isBlob,b=e("../common/utils/isFile"),y=b.isFile,w=n;w.multipartUpload=function(e,t,n){var r,o,i,a,u,s,c,f,d;return l.default.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(this.resetCancelFlag(),n=n||{},!n.checkpoint||!n.checkpoint.uploadId){h.next=6;break}return h.next=5,l.default.awrap(this._resumeMultipart(n.checkpoint,n));case 5:return h.abrupt("return",h.sent);case 6:return r=102400,n.mime||(y(t)?n.mime=m.getType(p.extname(t.name)):v(t)?n.mime=t.type:n.mime=m.getType(p.extname(t))),n.headers=n.headers||{},this._convertMetaToHeaders(n.meta,n.headers),h.next=12,l.default.awrap(this._getFileSize(t));case 12:if(!((o=h.sent)<r)){h.next=25;break}return i=this._createStream(t,0,o),n.contentLength=o,h.next=18,l.default.awrap(this.putStream(e,i,n));case 18:if(a=h.sent,!n||!n.progress){h.next=22;break}return h.next=22,l.default.awrap(n.progress(1));case 22:return u={res:a.res,bucket:this.options.bucket,name:e,etag:a.res.headers.etag},(n.headers&&n.headers["x-oss-callback"]||n.callback)&&(u.data=a.data),h.abrupt("return",u);case 25:if(!n.partSize||parseInt(n.partSize,10)===n.partSize){h.next=27;break}throw new Error("partSize must be int number");case 27:if(!(n.partSize&&n.partSize<r)){h.next=29;break}throw new Error("partSize must not be smaller than "+r);case 29:return h.next=31,l.default.awrap(this.initMultipartUpload(e,n));case 31:if(s=h.sent,c=s.uploadId,f=this._getPartSize(o,n.partSize),d={file:t,name:e,fileSize:o,partSize:f,uploadId:c,doneParts:[]},!n||!n.progress){h.next=38;break}return h.next=38,l.default.awrap(n.progress(0,d,s.res));case 38:return h.next=40,l.default.awrap(this._resumeMultipart(d,n));case 40:return h.abrupt("return",h.sent);case 41:case"end":return h.stop()}},null,this)},w._resumeMultipart=function(e,t){var n,r,o,i,u,c,f,d,p,m,g,v,b,y,w,x,C,_;return l.default.async(function(S){for(;;)switch(S.prev=S.next){case 0:if(n=this,!this.isCancel()){S.next=3;break}throw this._makeCancelEvent();case 3:return r=e.file,o=e.fileSize,i=e.partSize,u=e.uploadId,c=e.doneParts,f=e.name,d=[],c.length>0&&h(c).to(d),p=this._divideParts(o,i),m=p.length,g=!1,v=function(n,o){var i=this;return new s.default(function(a,s){var d,v,b,y;return l.default.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,n.isCancel()){i.next=18;break}return d=p[o-1],v={stream:n._createStream(r,d.start,d.end),size:d.end-d.start},i.next=6,l.default.awrap(n._uploadPart(f,u,o,v));case 6:if(b=i.sent,n.isCancel()||g){i.next=15;break}if(e.doneParts.push({number:o,etag:b.res.headers.etag}),!t.progress){i.next=12;break}return i.next=12,l.default.awrap(t.progress(c.length/m,e,b.res));case 12:a({number:o,etag:b.res.headers.etag}),i.next=16;break;case 15:a();case 16:i.next=19;break;case 18:a();case 19:i.next=30;break;case 21:i.prev=21,i.t0=i.catch(0),y=new Error,y.name=i.t0.name,y.message=i.t0.message,y.stack=i.t0.stack,y.partNum=o,h(i.t0).to(y),s(y);case 30:case"end":return i.stop()}},null,i,[[0,21]])})},b=(0,a.default)(new Array(m),function(e,t){return t+1}),y=d.map(function(e){return e.number}),w=b.filter(function(e){return y.indexOf(e)<0}),x=5,C=t.parallel||x,S.next=17,l.default.awrap(this._parallel(w,C,function(e){return new s.default(function(t,r){v(n,e).then(function(e){e&&d.push(e),t()}).catch(function(e){r(e)})})}));case 17:if(_=S.sent,g=!0,!this.isCancel()){S.next=22;break}throw v=null,this._makeCancelEvent();case 22:if(!(_&&_.length>0)){S.next=25;break}throw _[0].message="Failed to upload some parts with error: "+_[0].toString()+" part_num: "+_[0].partNum,_[0];case 25:return S.next=27,l.default.awrap(this.completeMultipartUpload(f,u,d,t));case 27:return S.abrupt("return",S.sent);case 28:case"end":return S.stop()}},null,this)},w._getFileSize=function(e){return l.default.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!f.buffer(e)){t.next=4;break}return t.abrupt("return",e.length);case 4:if(!v(e)&&!y(e)){t.next=6;break}return t.abrupt("return",e.size);case 6:throw new Error("_getFileSize requires Buffer/File/Blob.");case 7:case"end":return t.stop()}},null,this)};var x=e("stream"),C=x.Readable;d.inherits(o,C),o.prototype.readFileAndPush=function(e){if(this.fileBuffer)for(var t=!0;t&&this.fileBuffer&&this.start<this.fileBuffer.length;){var n=this.start,r=n+e;r=r>this.fileBuffer.length?this.fileBuffer.length:r,this.start=r,t=this.push(this.fileBuffer.slice(n,r))}},o.prototype._read=function(e){if(this.file&&this.start>=this.file.size||this.fileBuffer&&this.start>=this.fileBuffer.length||this.finish||0===this.start&&!this.file)return this.finish||(this.fileBuffer=null,this.finish=!0),void this.push(null);e=e||16384;var n=this;this.reader.onload=function(r){n.fileBuffer=t.from(new Uint8Array(r.target.result)),n.file=null,n.readFileAndPush(e)},0===this.start?this.reader.readAsArrayBuffer(this.file):this.readFileAndPush(e)},w._createStream=function(e,t,n){if(v(e)||y(e))return new o(e.slice(t,n));throw new Error("_createStream requires File/Blob.")},w._getPartSize=function(e,t){return t?Math.max(Math.ceil(e/1e4),t):1048576},w._divideParts=function(e,t){for(var n=Math.ceil(e/t),r=[],o=0;o<n;o++){var i=t*o,a=Math.min(i+t,e);r.push({start:i,end:a})}return r}}).call(this,e("buffer").Buffer)},{"../common/utils/isBlob":43,"../common/utils/isFile":44,"babel-runtime/core-js/array/from":52,"babel-runtime/core-js/promise":61,"babel-runtime/regenerator":68,buffer:73,"copy-to":76,"is-type-of":289,mime:202,path:205,stream:230,util:243}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/core-js/promise"),i=r(o),a=e("babel-runtime/core-js/object/keys"),u=r(a),s=e("babel-runtime/core-js/object/assign"),c=r(s),l=e("babel-runtime/regenerator"),f=r(l),d=e("utility"),p=e("fs"),m=e("is-type-of"),h=e("url"),g=e("copy-to"),v=e("path"),b=e("mime"),y=e("../common/callback"),w=e("../common/signUtils"),x=e("merge-descriptors"),C=e("../common/utils/isBlob"),_=C.isBlob,S=e("../common/utils/isFile"),k=S.isFile,T=n;T.append=function(e,t,n){var r;return f.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=n||{},void 0===n.position&&(n.position="0"),n.subres={append:"",position:n.position},n.method="POST",o.next=6,f.default.awrap(this.put(e,t,n));case 6:return r=o.sent,r.nextAppendPosition=r.res.headers["x-oss-next-append-position"],o.abrupt("return",r);case 9:case"end":return o.stop()}},null,this)},T.put=function(e,t,n){var r,o,i,a,u,s,c;return f.default.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(r=void 0,n=n||{},e=this._objectName(e),!m.buffer(t)){l.next=7;break}r=t,l.next=33;break;case 7:if(!_(t)&&!k(t)){l.next=32;break}return n.mime||(k(t)?n.mime=b.getType(v.extname(t.name)):n.mime=t.type),o=this._createStream(t,0,t.size),l.next=12,f.default.awrap(this._getFileSize(t));case 12:return n.contentLength=l.sent,l.prev=13,l.next=16,f.default.awrap(this.putStream(e,o,n));case 16:return i=l.sent,l.abrupt("return",i);case 20:if(l.prev=20,l.t0=l.catch(13),"RequestTimeTooSkewed"!==l.t0.code){l.next=29;break}return this.options.amendTimeSkewed=+new Date(l.t0.serverTime)-new Date,l.next=26,f.default.awrap(this.put(e,t,n));case 26:return l.abrupt("return",l.sent);case 29:throw l.t0;case 30:l.next=33;break;case 32:throw new TypeError("Must provide Buffer/Blob/File for put.");case 33:return n.headers=n.headers||{},this._convertMetaToHeaders(n.meta,n.headers),a=n.method||"PUT",u=this._objectRequestParams(a,e,n),y.encodeCallback(u,n),u.mime=n.mime,u.content=r,u.successStatuses=[200],l.next=43,f.default.awrap(this.request(u));case 43:return s=l.sent,c={name:e,url:this._objectUrl(e),res:s.res},u.headers&&u.headers["x-oss-callback"]&&(c.data=JSON.parse(s.data.toString())),l.abrupt("return",c);case 47:case"end":return l.stop()}},null,this,[[13,20]])},T.putStream=function(e,t,n){var r,o,i,a;return f.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=n||{},n.headers=n.headers||{},e=this._objectName(e),n.contentLength?n.headers["Content-Length"]=n.contentLength:n.headers["Transfer-Encoding"]="chunked",this._convertMetaToHeaders(n.meta,n.headers),r=n.method||"PUT",o=this._objectRequestParams(r,e,n),y.encodeCallback(o,n),o.mime=n.mime,o.stream=t,o.successStatuses=[200],u.next=13,f.default.awrap(this.request(o));case 13:return i=u.sent,a={name:e,url:this._objectUrl(e),res:i.res},o.headers&&o.headers["x-oss-callback"]&&(a.data=JSON.parse(i.data.toString())),u.abrupt("return",a);case 17:case"end":return u.stop()}},null,this)},x(T,e("../common/object/copyObject")),x(T,e("../common/object/getObjectTagging")),x(T,e("../common/object/putObjectTagging")),x(T,e("../common/object/deleteObjectTagging")),x(T,e("../common/image")),x(T,e("../common/object/getBucketVersions")),x(T,e("../common/object/getACL")),x(T,e("../common/object/putACL")),x(T,e("../common/object/head")),x(T,e("../common/object/delete")),x(T,e("../common/object/get")),x(T,e("../common/object/putSymlink")),x(T,e("../common/object/getSymlink")),x(T,e("../common/object/deleteMulti")),x(T,e("../common/object/getObjectMeta")),T.putMeta=function(e,t,n){var r;return f.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,f.default.awrap(this.copy(e,e,{meta:t||{},timeout:n&&n.timeout,ctx:n&&n.ctx}));case 2:return r=o.sent,o.abrupt("return",r);case 4:case"end":return o.stop()}},null,this)},T.list=function(e,t){var n,r,o,i,a;return f.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this._objectRequestParams("GET","",t),n.query=e,n.xmlResponse=!0,n.successStatuses=[200],u.next=6,f.default.awrap(this.request(n));case 6:return r=u.sent,o=r.data.Contents,i=this,o&&(Array.isArray(o)||(o=[o]),o=o.map(function(e){return{name:e.Key,url:i._objectUrl(e.Key),lastModified:e.LastModified,etag:e.ETag,type:e.Type,size:Number(e.Size),storageClass:e.StorageClass,owner:{id:e.Owner.ID,displayName:e.Owner.DisplayName}}})),a=r.data.CommonPrefixes||null,a&&(Array.isArray(a)||(a=[a]),a=a.map(function(e){return e.Prefix})),u.abrupt("return",{res:r.res,objects:o,prefixes:a,nextMarker:r.data.NextMarker||null,isTruncated:"true"===r.data.IsTruncated});case 13:case"end":return u.stop()}},null,this)},T.restore=function(e,t){var n,r;return f.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:return t=t||{},t.subres=(0,c.default)({restore:""},t.subres),t.versionId&&(t.subres.versionId=t.versionId),n=this._objectRequestParams("POST",e,t),n.successStatuses=[202],o.next=7,f.default.awrap(this.request(n));case 7:return r=o.sent,o.abrupt("return",{res:r.res});case 9:case"end":return o.stop()}},null,this)},T.signatureUrl=function(e,t){t=t||{},e=this._objectName(e),t.method=t.method||"GET";var n=d.timestamp()+(t.expires||1800),r={bucket:this.options.bucket,object:e},o=this._getResource(r);this.options.stsToken&&(t["security-token"]=this.options.stsToken);var i=w._signatureForURL(this.options.accessKeySecret,t,o,n),a=h.parse(this._getReqUrl(r));return a.query={OSSAccessKeyId:this.options.accessKeyId,Expires:n,Signature:i.Signature},g(i.subResource).to(a.query),a.format()},T.getObjectUrl=function(e,t){return t?"/"!==t[t.length-1]&&(t+="/"):t=this.options.endpoint.format(),t+this._escape(this._objectName(e))},T._objectUrl=function(e){return this._getReqUrl({bucket:this.options.bucket,object:e})},T.generateObjectUrl=function(e,t){if(t)"/"!==t[t.length-1]&&(t+="/");else{t=this.options.endpoint.format();var n=h.parse(t),r=this.options.bucket;n.hostname=r+"."+n.hostname,n.host=r+"."+n.host,t=n.format()}return t+this._escape(this._objectName(e))},T._objectRequestParams=function(e,t,n){if(!this.options.bucket)throw new Error("Please create a bucket first");n=n||{},t=this._objectName(t);var r={object:t,bucket:this.options.bucket,method:e,subres:n&&n.subres,timeout:n&&n.timeout,ctx:n&&n.ctx};return n.headers&&(r.headers={},g(n.headers).to(r.headers)),r},T._objectName=function(e){return e.replace(/^\/+/,"")},T._convertMetaToHeaders=function(e,t){e&&(0,u.default)(e).forEach(function(n){t["x-oss-meta-"+n]=e[n]})},T._deleteFileSafe=function(e){var t=this;return new i.default(function(n){p.exists(e,function(r){r?p.unlink(e,function(r){r&&t.debug("unlink %j error: %s",e,r,"error"),n()}):n()})})}},{"../common/callback":14,"../common/image":16,"../common/object/copyObject":19,"../common/object/delete":20,"../common/object/deleteMulti":21,"../common/object/deleteObjectTagging":22,"../common/object/get":23,"../common/object/getACL":24,"../common/object/getBucketVersions":25,"../common/object/getObjectMeta":26,"../common/object/getObjectTagging":27,"../common/object/getSymlink":28,"../common/object/head":29,"../common/object/putACL":30,"../common/object/putObjectTagging":31,"../common/object/putSymlink":32,"../common/signUtils":34,"../common/utils/isBlob":43,"../common/utils/isFile":44,"babel-runtime/core-js/object/assign":54,"babel-runtime/core-js/object/keys":60,"babel-runtime/core-js/promise":61,"babel-runtime/regenerator":68,"copy-to":76,fs:71,"is-type-of":289,"merge-descriptors":200,mime:202,path:205,url:238,utility:290}],5:[function(e,t,n){"use strict";n.version="6.10.0"},{}],6:[function(e,t,n){"use strict";var r=e("babel-runtime/regenerator"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=e("../utils/checkBucketName"),a=i.checkBucketName;n.deleteBucketLifecycle=function(e,t){var n,r;return o.default.async(function(i){for(;;)switch(i.prev=i.next){case 0:return a(e),n=this._bucketRequestParams("DELETE",e,"lifecycle",t),n.successStatuses=[204],i.next=5,o.default.awrap(this.request(n));case 5:return r=i.sent,i.abrupt("return",{res:r.res});case 7:case"end":return i.stop()}},null,this)}},{"../utils/checkBucketName":35,"babel-runtime/regenerator":68}],7:[function(e,t,n){"use strict";var r=e("babel-runtime/regenerator"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=e("../utils/checkBucketName"),a=i.checkBucketName;n.deleteBucketWebsite=function(e,t){var n,r;return o.default.async(function(i){for(;;)switch(i.prev=i.next){case 0:return a(e),n=this._bucketRequestParams("DELETE",e,"website",t),n.successStatuses=[204],i.next=5,o.default.awrap(this.request(n));case 5:return r=i.sent,i.abrupt("return",{res:r.res});case 7:case"end":return i.stop()}},null,this)}},{"../utils/checkBucketName":35,"babel-runtime/regenerator":68}],8:[function(e,t,n){"use strict";var r=e("babel-runtime/regenerator"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=e("../utils/checkBucketName"),a=i.checkBucketName,u=e("../utils/isArray"),s=u.isArray,c=e("../utils/formatObjKey"),l=c.formatObjKey;n.getBucketLifecycle=function(e,t){var n,r,i;return o.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:return a(e),n=this._bucketRequestParams("GET",e,"lifecycle",t),n.successStatuses=[200],n.xmlResponse=!0,u.next=6,o.default.awrap(this.request(n));case 6:return r=u.sent,i=r.data.Rule||null,i&&(s(i)||(i=[i]),i=i.map(function(e){return e.ID&&(e.id=e.ID,delete e.ID),e.Tag&&!s(e.Tag)&&(e.Tag=[e.Tag]),l(e,"firstLowerCase")})),u.abrupt("return",{rules:i,res:r.res});case 10:case"end":return u.stop()}},null,this)}},{"../utils/checkBucketName":35,"../utils/formatObjKey":40,"../utils/isArray":42,"babel-runtime/regenerator":68}],9:[function(e,t,n){"use strict";var r=e("babel-runtime/regenerator"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=e("../utils/checkBucketName"),a=i.checkBucketName;n.getBucketVersioning=function(e,t){var n,r,i;return o.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:return a(e),n=this._bucketRequestParams("GET",e,"versioning",t),n.xmlResponse=!0,n.successStatuses=[200],u.next=6,o.default.awrap(this.request(n));case 6:return r=u.sent,i=r.data.Status,u.abrupt("return",{status:r.status,versionStatus:i,res:r.res});case 9:case"end":return u.stop()}},null,this)}},{"../utils/checkBucketName":35,"babel-runtime/regenerator":68}],10:[function(e,t,n){"use strict";var r=e("babel-runtime/regenerator"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=e("../utils/checkBucketName"),a=i.checkBucketName,u=e("../utils/isObject"),s=u.isObject;n.getBucketWebsite=function(e,t){var n,r,i;return o.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:return a(e),n=this._bucketRequestParams("GET",e,"website",t),n.successStatuses=[200],n.xmlResponse=!0,u.next=6,o.default.awrap(this.request(n));case 6:return r=u.sent,i=[],r.data.RoutingRules&&r.data.RoutingRules.RoutingRule&&(i=s(r.data.RoutingRules.RoutingRule)?[r.data.RoutingRules.RoutingRule]:r.data.RoutingRules.RoutingRule),u.abrupt("return",{index:r.data.IndexDocument&&r.data.IndexDocument.Suffix||"",supportSubDir:r.data.IndexDocument&&r.data.IndexDocument.SupportSubDir||"false",type:r.data.IndexDocument&&r.data.IndexDocument.Type,routingRules:i,error:r.data.ErrorDocument&&r.data.ErrorDocument.Key||null,res:r.res});case 10:case"end":return u.stop()}},null,this)}},{"../utils/checkBucketName":35,"../utils/isObject":46,"babel-runtime/regenerator":68}],11:[function(e,t,n){"use strict";function r(e){e.days&&(e.expiration={days:e.days}),e.date&&(e.expiration={createdBeforeDate:e.date})}function o(e,t){var n=e.days,r=e.createdBeforeDate;if(!n&&!r)throw new Error(t+" must includes days or createdBeforeDate");if(n&&!/^[1-9][0-9]*$/.test(n))throw new Error("days must be a positive integer");if(r&&!/\d{4}-\d{2}-\d{2}T00:00:00.000Z/.test(r))throw new Error("createdBeforeDate must be date and conform to iso8601 format")}function i(e){if(!d(e)&&!g(e))throw new Error("tag must be Object or Array");e=g(e)?[e]:e;var t={};m(e).forEach(function(e){t[e.key]=e.value}),w(t)}function a(e){if(e.id&&C(e.id)>255)throw new Error("ID is composed of 255 bytes at most");if(""===e.prefix||void 0===e.prefix)throw new Error("Rule must includes prefix");if(!["Enabled","Disabled"].includes(e.status))throw new Error("Status must be  Enabled or Disabled");if(e.transition){if(!["IA","Archive"].includes(e.transition.storageClass))throw new Error("StorageClass must be  IA or Archive");o(e.transition,"Transition")}if(e.expiration)if(e.expiration.expiredObjectDeleteMarker){if(e.expiration.days||e.expiration.createdBeforeDate)throw new Error("expiredObjectDeleteMarker cannot be used with days or createdBeforeDate")}else o(e.expiration,"Expiration");if(e.abortMultipartUpload&&o(e.abortMultipartUpload,"AbortMultipartUpload"),!(e.expiration||e.abortMultipartUpload||e.transition||e.noncurrentVersionTransition))throw new Error("Rule must includes expiration or abortMultipartUpload or transition or noncurrentVersionTransition");if(e.tag){if(e.abortMultipartUpload)throw new Error("Tag cannot be used with abortMultipartUpload");i(e.tag)}}var u=e("babel-runtime/regenerator"),s=function(e){return e&&e.__esModule?e:{default:e}}(u),c=e("../utils/checkBucketName"),l=c.checkBucketName,f=e("../utils/isArray"),d=f.isArray,p=e("../utils/deepCopy"),m=p.deepCopy,h=e("../utils/isObject"),g=h.isObject,v=e("../utils/obj2xml"),b=v.obj2xml,y=e("../utils/checkObjectTag"),w=y.checkObjectTag,x=e("../utils/getStrBytesCount"),C=x.getStrBytesCount;n.putBucketLifecycle=function(e,t,n){var o,i,u,c,f;return s.default.async(function(p){for(;;)switch(p.prev=p.next){case 0:if(l(e),d(t)){p.next=3;break}throw new Error("rules must be Array");case 3:return o=this._bucketRequestParams("PUT",e,"lifecycle",n),i=[],u={LifecycleConfiguration:{Rule:i}},t.forEach(function(e){r(e),a(e),e.id&&(e.ID=e.id,delete e.id),i.push(e)}),c=b(u,{headers:!0,firstUpperCase:!0}),o.content=c,o.mime="xml",o.successStatuses=[200],p.next=13,s.default.awrap(this.request(o));case 13:return f=p.sent,p.abrupt("return",{res:f.res});case 15:case"end":return p.stop()}},null,this)}},{"../utils/checkBucketName":35,"../utils/checkObjectTag":36,"../utils/deepCopy":39,"../utils/getStrBytesCount":41,"../utils/isArray":42,"../utils/isObject":46,"../utils/obj2xml":47,"babel-runtime/regenerator":68}],12:[function(e,t,n){"use strict";var r=e("babel-runtime/regenerator"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=e("../utils/checkBucketName"),a=i.checkBucketName,u=e("../utils/obj2xml"),s=u.obj2xml;n.putBucketVersioning=function(e,t){var n,r,i,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(a(e),["Enabled","Suspended"].includes(t)){c.next=3;break}throw new Error("status must be Enabled or Suspended");case 3:return n=this._bucketRequestParams("PUT",e,"versioning",u),r={VersioningConfiguration:{Status:t}},n.mime="xml",n.content=s(r,{headers:!0}),c.next=9,o.default.awrap(this.request(n));case 9:return i=c.sent,c.abrupt("return",{res:i.res,status:i.status});case 11:case"end":return c.stop()}},null,this)}},{"../utils/checkBucketName":35,"../utils/obj2xml":47,"babel-runtime/regenerator":68}],13:[function(e,t,n){"use strict";var r=e("babel-runtime/regenerator"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=e("../utils/checkBucketName"),a=i.checkBucketName,u=e("../utils/obj2xml"),s=u.obj2xml,c=e("../utils/isArray"),l=c.isArray;n.putBucketWebsite=function(e){var t,n,r,i,u,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=arguments[2];return o.default.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(a(e),t=this._bucketRequestParams("PUT",e,"website",f),n={Suffix:c.index||"index.html"},r={IndexDocument:n},i={WebsiteConfiguration:r},c.supportSubDir&&(n.SupportSubDir=c.supportSubDir),c.type&&(n.Type=c.type),c.error&&(r.ErrorDocument={Key:c.error}),void 0===c.routingRules){d.next=12;break}if(l(c.routingRules)){d.next=11;break}throw new Error("RoutingRules must be Array");case 11:r.RoutingRules={RoutingRule:c.routingRules};case 12:return i=s(i),t.content=i,t.mime="xml",t.successStatuses=[200],d.next=18,o.default.awrap(this.request(t));case 18:return u=d.sent,d.abrupt("return",{res:u.res});case 20:case"end":return d.stop()}},null,this)}},{"../utils/checkBucketName":35,"../utils/isArray":42,"../utils/obj2xml":47,"babel-runtime/regenerator":68}],14:[function(e,t,n){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/core-js/object/keys"),i=r(o),a=e("babel-runtime/core-js/json/stringify"),u=r(a);n.encodeCallback=function(e,n){if(e.headers=e.headers||{},!Object.prototype.hasOwnProperty.call(e.headers,"x-oss-callback")&&n.callback){var r={callbackUrl:encodeURI(n.callback.url),callbackBody:n.callback.body};n.callback.host&&(r.callbackHost=n.callback.host),n.callback.contentType&&(r.callbackBodyType=n.callback.contentType);var o=t.from((0,u.default)(r)).toString("base64");if(e.headers["x-oss-callback"]=o,n.callback.customValue){var a={};(0,i.default)(n.callback.customValue).forEach(function(e){a["x:"+e]=n.callback.customValue[e]}),e.headers["x-oss-callback-var"]=t.from((0,u.default)(a)).toString("base64")}}}}).call(this,e("buffer").Buffer)},{"babel-runtime/core-js/json/stringify":53,"babel-runtime/core-js/object/keys":60,buffer:73}],15:[function(e,t,n){"use strict";function r(e,t){var n=s.parse(e);if(n.protocol||(n=s.parse("http"+(t?"s":"")+"://"+e)),"http:"!==n.protocol&&"https:"!==n.protocol)throw new Error("Endpoint protocol must be http or https.");return n}function o(e,t,n){var r=n?"https://":"http://",o=t?"-internal.aliyuncs.com":".aliyuncs.com";return"vpc100-oss-cn-"===e.substr(0,"vpc100-oss-cn-".length)&&(o=".aliyuncs.com"),s.parse(r+e+o)}var i=e("babel-runtime/core-js/object/assign"),a=function(e){return e&&e.__esModule?e:{default:e}}(i),u=e("humanize-ms"),s=e("url"),c=e("../utils/checkBucketName"),l=c.checkBucketName;t.exports=function(e){if(!e||!e.accessKeyId||!e.accessKeySecret)throw new Error("require accessKeyId, accessKeySecret");e.bucket&&l(e.bucket);var t=(0,a.default)({region:"oss-cn-hangzhou",internal:!1,secure:!1,timeout:6e4,bucket:null,endpoint:null,cname:!1,isRequestPay:!1,sldEnable:!1},e);if(t.accessKeyId=t.accessKeyId.trim(),t.accessKeySecret=t.accessKeySecret.trim(),t.timeout&&(t.timeout=u(t.timeout)),t.endpoint)t.endpoint=r(t.endpoint,t.secure);else{if(!t.region)throw new Error("require options.endpoint or options.region");t.endpoint=o(t.region,t.internal,t.secure)}return t.inited=!0,t}},{"../utils/checkBucketName":35,"babel-runtime/core-js/object/assign":54,"humanize-ms":194,url:238}],16:[function(e,t,n){"use strict";e("merge-descriptors")(n,e("./processObjectSave"))},{"./processObjectSave":17,"merge-descriptors":200}],17:[function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error(t+" is required");if("string"!=typeof e)throw new Error(t+" must be String")}var o=e("babel-runtime/regenerator"),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=e("../utils/checkBucketName"),u=a.checkBucketName,s=e("querystring"),c=e("js-base64"),l=c.Base64.encode;n.processObjectSave=function(e,t,n,o){var a,c,f,d;return i.default.async(function(p){for(;;)switch(p.prev=p.next){case 0:return r(e,"sourceObject"),r(t,"targetObject"),r(n,"process"),t=this._objectName(t),o&&u(o),a=this._objectRequestParams("POST",e,{subres:"x-oss-process"}),c=o?",b_"+l(o):"",t=l(t),f={"x-oss-process":n+"|sys/saveas,o_"+t+c},a.content=s.stringify(f),p.next=12,i.default.awrap(this.request(a));case 12:return d=p.sent,p.abrupt("return",{res:d.res,status:d.res.status});case 14:case"end":return p.stop()}},null,this)}},{"../utils/checkBucketName":35,"babel-runtime/regenerator":68,"js-base64":199,querystring:212}],18:[function(e,t,n){"use strict";var r=e("babel-runtime/regenerator"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=e("copy-to"),a=e("./callback"),u=e("./utils/deepCopy"),s=u.deepCopy,c=n;c.listUploads=function(e,t){var n,r,a,u;return o.default.async(function(s){for(;;)switch(s.prev=s.next){case 0:return t=t||{},n={},i(t).to(n),n.subres="uploads",r=this._objectRequestParams("GET","",n),r.query=e,r.xmlResponse=!0,r.successStatuses=[200],s.next=10,o.default.awrap(this.request(r));case 10:return a=s.sent,u=a.data.Upload||[],Array.isArray(u)||(u=[u]),u=u.map(function(e){return{name:e.Key,uploadId:e.UploadId,initiated:e.Initiated}}),s.abrupt("return",{res:a.res,uploads:u,bucket:a.data.Bucket,nextKeyMarker:a.data.NextKeyMarker,nextUploadIdMarker:a.data.NextUploadIdMarker,isTruncated:"true"===a.data.IsTruncated});case 15:case"end":return s.stop()}},null,this)},c.listParts=function(e,t,n,r){var a,u,s;return o.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:return r=r||{},a={},i(r).to(a),a.subres={uploadId:t},u=this._objectRequestParams("GET",e,a),u.query=n,u.xmlResponse=!0,u.successStatuses=[200],c.next=10,o.default.awrap(this.request(u));case 10:return s=c.sent,c.abrupt("return",{res:s.res,uploadId:s.data.UploadId,bucket:s.data.Bucket,name:s.data.Key,partNumberMarker:s.data.PartNumberMarker,nextPartNumberMarker:s.data.NextPartNumberMarker,maxParts:s.data.MaxParts,isTruncated:s.data.IsTruncated,parts:s.data.Part||[]});case 12:case"end":return c.stop()}},null,this)},c.abortMultipartUpload=function(e,t,n){var r,a,u;return o.default.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this._stop(),n=n||{},r={},i(n).to(r),r.subres={uploadId:t},a=this._objectRequestParams("DELETE",e,r),a.successStatuses=[204],s.next=9,o.default.awrap(this.request(a));case 9:return u=s.sent,s.abrupt("return",{res:u.res});case 11:case"end":return s.stop()}},null,this)},c.initMultipartUpload=function(e,t){var n,r,a;return o.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:return t=t||{},n={},i(t).to(n),n.headers=n.headers||{},this._convertMetaToHeaders(t.meta,n.headers),n.subres="uploads",r=this._objectRequestParams("POST",e,n),r.mime=t.mime,r.xmlResponse=!0,r.successStatuses=[200],u.next=12,o.default.awrap(this.request(r));case 12:return a=u.sent,u.abrupt("return",{res:a.res,bucket:a.data.Bucket,name:a.data.Key,uploadId:a.data.UploadId});case 14:case"end":return u.stop()}},null,this)},c.uploadPart=function(e,t,n,r,i,a,u){var s;return o.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:return s={stream:this._createStream(r,i,a),size:a-i},c.next=3,o.default.awrap(this._uploadPart(e,t,n,s,u));case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}},null,this)},c.completeMultipartUpload=function(e,t,n,r){var i,u,c,l,f,d,p,m;return o.default.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(i=n.concat().sort(function(e,t){return e.number-t.number}).filter(function(e,t,n){return!t||e.number!==n[t-1].number}),u='<?xml version="1.0" encoding="UTF-8"?>\n<CompleteMultipartUpload>\n',c=0;c<i.length;c++)l=i[c],u+="<Part>\n",u+="<PartNumber>"+l.number+"</PartNumber>\n",u+="<ETag>"+l.etag+"</ETag>\n",u+="</Part>\n";return u+="</CompleteMultipartUpload>",r=r||{},f={},f=s(r),f.headers&&delete f.headers["x-oss-server-side-encryption"],f.subres={uploadId:t},d=this._objectRequestParams("POST",e,f),a.encodeCallback(d,f),d.mime="xml",d.content=u,d.headers&&d.headers["x-oss-callback"]||(d.xmlResponse=!0),d.successStatuses=[200],h.next=17,o.default.awrap(this.request(d));case 17:return p=h.sent,m={res:p.res,bucket:d.bucket,name:e,etag:p.res.headers.etag},d.headers&&d.headers["x-oss-callback"]&&(m.data=JSON.parse(p.data.toString())),h.abrupt("return",m);case 21:case"end":return h.stop()}},null,this)},c._uploadPart=function(e,t,n,r,a){var u,s,c;return o.default.async(function(l){for(;;)switch(l.prev=l.next){case 0:return a=a||{},u={},i(a).to(u),u.headers={"Content-Length":r.size},u.subres={partNumber:n,uploadId:t},s=this._objectRequestParams("PUT",e,u),s.mime=u.mime,s.stream=r.stream,s.successStatuses=[200],l.next=11,o.default.awrap(this.request(s));case 11:if(c=l.sent,c.res.headers.etag){l.next=14;break}throw new Error("Please set the etag of expose-headers in OSS \n https://help.aliyun.com/document_detail/32069.html");case 14:return r.stream=null,s.stream=null,l.abrupt("return",{name:e,etag:c.res.headers.etag,res:c.res});case 17:case"end":return l.stop()}},null,this)}},{"./callback":14,"./utils/deepCopy":39,"babel-runtime/regenerator":68,"copy-to":76}],19:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/keys"),u=r(a),s=e("babel-runtime/helpers/typeof"),c=r(s),l=e("../utils/checkBucketName"),f=l.checkBucketName,d=n;d.copy=function(e,t,n,r){var o,a,s;return i.default.async(function(l){for(;;)switch(l.prev=l.next){case 0:return"object"===(void 0===n?"undefined":(0,c.default)(n))&&(r=n),r=r||{},r.headers=r.headers||{},(0,u.default)(r.headers).forEach(function(e){r.headers["x-oss-copy-source-"+e.toLowerCase()]=r.headers[e]}),r.meta&&(r.headers["x-oss-metadata-directive"]="REPLACE"),this._convertMetaToHeaders(r.meta,r.headers),t=this._getSourceName(t,n),r.versionId&&(t=t+"?versionId="+r.versionId),r.headers["x-oss-copy-source"]=t,o=this._objectRequestParams("PUT",e,r),o.xmlResponse=!0,o.successStatuses=[200,304],l.next=14,i.default.awrap(this.request(o));case 14:return a=l.sent,s=a.data,s&&(s={etag:s.ETag,lastModified:s.LastModified}),l.abrupt("return",{data:s,res:a.res});case 18:case"end":return l.stop()}},null,this)},d._getSourceName=function(e,t){return"string"==typeof t?e=this._objectName(e):"/"!==e[0]?t=this.options.bucket:(t=e.replace(/\/(.+?)(\/.*)/,"$1"),e=e.replace(/(\/.+?\/)(.*)/,"$2")),f(t),e=encodeURI(e),e="/"+t+"/"+e}},{"../utils/checkBucketName":35,"babel-runtime/core-js/object/keys":60,"babel-runtime/helpers/typeof":67,"babel-runtime/regenerator":68}],20:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/assign"),u=r(a);n.delete=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:return r.subres=(0,u.default)({},r.subres),r.versionId&&(r.subres.versionId=r.versionId),t=this._objectRequestParams("DELETE",e,r),t.successStatuses=[204],o.next=6,i.default.awrap(this.request(t));case 6:return n=o.sent,o.abrupt("return",{res:n.res});case 8:case"end":return o.stop()}},null,this)}},{"babel-runtime/core-js/object/assign":54,"babel-runtime/regenerator":68}],21:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/assign"),u=r(a),s=e("utility"),c=e("../utils/obj2xml"),l=c.obj2xml;n.deleteMulti=function(e){var t,n,r,o,a,c,f,d,p,m,h,g,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.default.async(function(b){for(;;)switch(b.prev=b.next){case 0:if(t=[],e&&e.length){b.next=3;break}throw new Error("names is required");case 3:for(n=0;n<e.length;n++)r={},"string"==typeof e[n]?r.Key=s.escape(this._objectName(e[n])):(o=e[n],a=o.key,c=o.versionId,r.Key=s.escape(this._objectName(a)),r.VersionId=c),t.push(r);return f={Delete:{Quiet:!!v.quiet,Object:t}},d=l(f,{headers:!0}),v.subres=(0,u.default)({delete:""},v.subres),v.versionId&&(v.subres.versionId=v.versionId),p=this._objectRequestParams("POST","",v),p.mime="xml",p.content=d,p.xmlResponse=!0,p.successStatuses=[200],b.next=15,i.default.awrap(this.request(p));case 15:return m=b.sent,h=m.data,g=h&&h.Deleted||null,g&&(Array.isArray(g)||(g=[g])),b.abrupt("return",{res:m.res,deleted:g||[]});case 20:case"end":return b.stop()}},null,this)}},{"../utils/obj2xml":47,"babel-runtime/core-js/object/assign":54,"babel-runtime/regenerator":68,utility:290}],22:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/assign"),u=r(a);n.deleteObjectTagging=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:return r.subres=(0,u.default)({tagging:""},r.subres),r.versionId&&(r.subres.versionId=r.versionId),e=this._objectName(e),t=this._objectRequestParams("DELETE",e,r),t.successStatuses=[204],o.next=7,i.default.awrap(this.request(t));case 7:return n=o.sent,o.abrupt("return",{status:n.status,res:n.res});case 9:case"end":return o.stop()}},null,this)}},{"babel-runtime/core-js/object/assign":54,"babel-runtime/regenerator":68}],23:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/assign"),u=r(a),s=e("fs"),c=e("is-type-of");n.get=function(e,t){var n,r,o,a,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.default.async(function(f){for(;;)switch(f.prev=f.next){case 0:return n=null,r=!1,c.writableStream(t)?n=t:c.string(t)?(n=s.createWriteStream(t),r=!0):l=t,l=l||{},l.subres=(0,u.default)({},l.subres),l.versionId&&(l.subres.versionId=l.versionId),l.process&&(l.subres["x-oss-process"]=l.process),o=void 0,f.prev=8,a=this._objectRequestParams("GET",e,l),a.writeStream=n,a.successStatuses=[200,206,304],f.next=14,i.default.awrap(this.request(a));case 14:o=f.sent,r&&n.destroy(),f.next=25;break;case 18:if(f.prev=18,f.t0=f.catch(8),!r){f.next=24;break}return n.destroy(),f.next=24,i.default.awrap(this._deleteFileSafe(t));case 24:throw f.t0;case 25:return f.abrupt("return",{res:o.res,content:o.data});case 26:case"end":return f.stop()}},null,this,[[8,18]])}},{"babel-runtime/core-js/object/assign":54,"babel-runtime/regenerator":68,fs:71,"is-type-of":289}],24:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/assign"),u=r(a);n.getACL=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:return r.subres=(0,u.default)({acl:""},r.subres),r.versionId&&(r.subres.versionId=r.versionId),e=this._objectName(e),t=this._objectRequestParams("GET",e,r),t.successStatuses=[200],t.xmlResponse=!0,o.next=8,i.default.awrap(this.request(t));case 8:return n=o.sent,o.abrupt("return",{acl:n.data.AccessControlList.Grant,owner:{id:n.data.Owner.ID,displayName:n.data.Owner.DisplayName},res:n.res});case 10:case"end":return o.stop()}},null,this)}},{"babel-runtime/core-js/object/assign":54,"babel-runtime/regenerator":68}],25:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e,t,n,r,o,i,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(!u.versionIdMarker||void 0!==u.keyMarker){c.next=2;break}throw new Error("A version-id marker cannot be specified without a key marker");case 2:return s.subres=(0,d.default)({versions:""},s.subres),s.versionId&&(s.subres.versionId=s.versionId),e=this._objectRequestParams("GET","",s),e.xmlResponse=!0,e.successStatuses=[200],e.query=a(u),c.next=10,l.default.awrap(this.request(e));case 10:return t=c.sent,n=t.data.Version||[],r=t.data.DeleteMarker||[],o=this,n&&(Array.isArray(n)||(n=[n]),n=n.map(function(e){return{name:e.Key,url:o._objectUrl(e.Key),lastModified:e.LastModified,isLatest:"true"===e.IsLatest,versionId:e.VersionId,etag:e.ETag,type:e.Type,size:Number(e.Size),storageClass:e.StorageClass,owner:{id:e.Owner.ID,displayName:e.Owner.DisplayName}}})),r&&(v(r)||(r=[r]),r=r.map(function(e){return{name:e.Key,lastModified:e.LastModified,versionId:e.VersionId,owner:{id:e.Owner.ID,displayName:e.Owner.DisplayName}}})),i=t.data.CommonPrefixes||null,i&&(v(i)||(i=[i]),i=i.map(function(e){return e.Prefix})),c.abrupt("return",{res:t.res,objects:n,deleteMarker:r,prefixes:i,nextMarker:t.data.NextMarker||null,NextVersionIdMarker:t.data.NextVersionIdMarker||null,isTruncated:"true"===t.data.IsTruncated});case 19:case"end":return c.stop()}},null,this)}function i(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return h(e)&&(0,s.default)(e).forEach(function(n){t[i(n)]=e[n]}),t}var u=e("babel-runtime/core-js/object/keys"),s=r(u),c=e("babel-runtime/regenerator"),l=r(c),f=e("babel-runtime/core-js/object/assign"),d=r(f),p=n,m=e("../utils/isObject"),h=m.isObject,g=e("../utils/isArray"),v=g.isArray;p.getBucketVersions=o,p.listObjectVersions=o},{"../utils/isArray":42,"../utils/isObject":46,"babel-runtime/core-js/object/assign":54,"babel-runtime/core-js/object/keys":60,"babel-runtime/regenerator":68}],26:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/assign"),u=r(a);n.getObjectMeta=function(e,t){var n,r;return i.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:return t=t||{},e=this._objectName(e),t.subres=(0,u.default)({objectMeta:""},t.subres),t.versionId&&(t.subres.versionId=t.versionId),n=this._objectRequestParams("HEAD",e,t),n.successStatuses=[200],o.next=8,i.default.awrap(this.request(n));case 8:return r=o.sent,o.abrupt("return",{status:r.status,res:r.res});case 10:case"end":return o.stop()}},null,this)}},{"babel-runtime/core-js/object/assign":54,"babel-runtime/regenerator":68}],27:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/assign"),u=r(a),s=n,c=e("../utils/isObject"),l=c.isObject;s.getObjectTagging=function(e){var t,n,r,o,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:return s.subres=(0,u.default)({tagging:""},s.subres),s.versionId&&(s.subres.versionId=s.versionId),e=this._objectName(e),t=this._objectRequestParams("GET",e,s),t.successStatuses=[200],c.next=7,i.default.awrap(this.request(t));case 7:return n=c.sent,c.next=10,i.default.awrap(this.parseXML(n.data));case 10:return r=c.sent,o=r.TagSet.Tag,o=o&&l(o)?[o]:o||[],a={},o.forEach(function(e){a[e.Key]=e.Value}),c.abrupt("return",{status:n.status,res:n.res,tag:a});case 16:case"end":return c.stop()}},null,this)}},{"../utils/isObject":46,"babel-runtime/core-js/object/assign":54,"babel-runtime/regenerator":68}],28:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/assign"),u=r(a);n.getSymlink=function(e){var t,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return o.subres=(0,u.default)({symlink:""},o.subres),o.versionId&&(o.subres.versionId=o.versionId),e=this._objectName(e),t=this._objectRequestParams("GET",e,o),t.successStatuses=[200],a.next=7,i.default.awrap(this.request(t));case 7:return n=a.sent,r=n.res.headers["x-oss-symlink-target"],a.abrupt("return",{targetName:decodeURIComponent(r),res:n.res});case 10:case"end":return a.stop()}},null,this)}},{"babel-runtime/core-js/object/assign":54,"babel-runtime/regenerator":68}],29:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/keys"),u=r(a),s=e("babel-runtime/core-js/object/assign"),c=r(s);n.head=function(e){var t,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return o.subres=(0,c.default)({},o.subres),o.versionId&&(o.subres.versionId=o.versionId),t=this._objectRequestParams("HEAD",e,o),t.successStatuses=[200,304],a.next=6,i.default.awrap(this.request(t));case 6:return n=a.sent,r={meta:null,res:n.res,status:n.status},200===n.status&&(0,u.default)(n.headers).forEach(function(e){0===e.indexOf("x-oss-meta-")&&(r.meta||(r.meta={}),r.meta[e.substring(11)]=n.headers[e])}),a.abrupt("return",r);case 10:case"end":return a.stop()}},null,this)}},{"babel-runtime/core-js/object/assign":54,"babel-runtime/core-js/object/keys":60,"babel-runtime/regenerator":68}],30:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/assign"),u=r(a);n.putACL=function(e,t,n){var r,o;return i.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n=n||{},n.subres=(0,u.default)({acl:""},n.subres),n.versionId&&(n.subres.versionId=n.versionId),n.headers=n.headers||{},n.headers["x-oss-object-acl"]=t,e=this._objectName(e),r=this._objectRequestParams("PUT",e,n),r.successStatuses=[200],a.next=10,i.default.awrap(this.request(r));case 10:return o=a.sent,a.abrupt("return",{res:o.res});case 12:case"end":return a.stop()}},null,this)}},{"babel-runtime/core-js/object/assign":54,"babel-runtime/regenerator":68}],31:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/keys"),u=r(a),s=e("babel-runtime/core-js/object/assign"),c=r(s),l=e("../utils/obj2xml"),f=l.obj2xml,d=e("../utils/checkObjectTag"),p=d.checkObjectTag;n.putObjectTagging=function(e,t){var n,r,o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.default.async(function(s){for(;;)switch(s.prev=s.next){case 0:return p(t),a.subres=(0,c.default)({tagging:""},a.subres),a.versionId&&(a.subres.versionId=a.versionId),e=this._objectName(e),n=this._objectRequestParams("PUT",e,a),n.successStatuses=[200],t=(0,u.default)(t).map(function(e){return{Key:e,Value:t[e]}}),r={Tagging:{TagSet:{Tag:t}}},n.mime="xml",n.content=f(r),s.next=12,i.default.awrap(this.request(n));case 12:return o=s.sent,s.abrupt("return",{res:o.res,status:o.status});case 14:case"end":return s.stop()}},null,this)}},{"../utils/checkObjectTag":36,"../utils/obj2xml":47,"babel-runtime/core-js/object/assign":54,"babel-runtime/core-js/object/keys":60,"babel-runtime/regenerator":68}],32:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/assign"),u=r(a);n.putSymlink=function(e,t,n){var r,o;return i.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n=n||{},n.headers=n.headers||{},t=this._escape(this._objectName(t)),this._convertMetaToHeaders(n.meta,n.headers),n.headers["x-oss-symlink-target"]=t,n.subres=(0,u.default)({symlink:""},n.subres),n.versionId&&(n.subres.versionId=n.versionId),n.storageClass&&(n.headers["x-oss-storage-class"]=n.storageClass),e=this._objectName(e),r=this._objectRequestParams("PUT",e,n),r.successStatuses=[200],a.next=13,i.default.awrap(this.request(r));case 13:return o=a.sent,a.abrupt("return",{res:o.res});case 15:case"end":return a.stop()}},null,this)}},{"babel-runtime/core-js/object/assign":54,"babel-runtime/regenerator":68}],33:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/promise"),u=r(a),s=n;s._parallelNode=function(e,t,n,r){var o,a,s,c,l,f,d,p;return i.default.async(function(m){for(;;)switch(m.prev=m.next){case 0:o=this,a=[],s=[],c=e.length/t,l=e.length%t,f=0===l?c:(e.length-l)/t+1,d=1,p=0;case 8:if(!(p<e.length)){m.next=26;break}if(!o.isCancel()){m.next=11;break}return m.abrupt("break",26);case 11:if(r?s.push(n(o,e[p],r)):s.push(n(o,e[p])),s.length!==t&&(d!==f||p!==e.length-1)){m.next=23;break}return m.prev=13,d+=1,m.next=17,i.default.awrap(u.default.all(s));case 17:m.next=22;break;case 19:m.prev=19,m.t0=m.catch(13),a.push(m.t0);case 22:s=[];case 23:p++,m.next=8;break;case 26:return m.abrupt("return",a);case 27:case"end":return m.stop()}},null,this,[[13,19]])},s._parallel=function(e,t,n){var r=this;return new u.default(function(o){function i(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null;for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];t.apply(this,r)}}function a(e,t){d-=1,e?(f=!0,c.push(e),o(c)):t==={}||f&&d<=0?(f=!0,o(c)):p||(r.isCancel()?o(c):s())}function u(e,t){n(e).then(function(e){t(null,e)}).catch(function(e){t(e)})}function s(){for(p=!0;d<t&&!f&&!r.isCancel();){var e=l();if(null===e||c.length>0)return f=!0,void(d<=0&&o(c));d+=1,u(e.value,i(a))}p=!1}var c=[];if(t<=0||!e)return void o(c);var l=function(e){var t=-1,n=e.length;return function(){return++t<n&&!r.isCancel()?{value:e[t],key:t}:null}}(e),f=!1,d=0,p=!1;s()})},s.cancel=function(e){this.options.cancelFlag=!0,e&&this.abortMultipartUpload(e.name,e.uploadId,e.options)},s.isCancel=function(){return this.options.cancelFlag},s.resetCancelFlag=function(){this.options.cancelFlag=!1},s._stop=function(){this.options.cancelFlag=!0},s._makeCancelEvent=function(){return{status:0,name:"cancel"}}},{"babel-runtime/core-js/promise":61,"babel-runtime/regenerator":68}],34:[function(e,t,n){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/core-js/json/stringify"),i=r(o),a=e("babel-runtime/core-js/object/keys"),u=r(a),s=e("./../../shims/crypto/crypto.js"),c=e("is-type-of");n.buildCanonicalizedResource=function(e,t){var n=""+e,r="?";if(c.string(t)&&""!==t.trim())n+=r+t;else if(c.array(t))t.sort(),n+=r+t.join("&");else if(t){var o=function(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:0},i=function(e){n+=r+e,t[e]&&(n+="="+t[e]),r="&"};(0,u.default)(t).sort(o).forEach(i)}return n},n.buildCanonicalString=function(e,t,n,r){n=n||{};var o=n.headers||{},i=[],a={},s=[e.toUpperCase(),o["Content-Md5"]||"",o["Content-Type"]||o["Content-Type".toLowerCase()],r||o["x-oss-date"]];return(0,u.default)(o).forEach(function(e){var t=e.toLowerCase();0===t.indexOf("x-oss-")&&(a[t]=String(o[e]).trim())}),(0,u.default)(a).sort().forEach(function(e){i.push(e+":"+a[e])}),s=s.concat(i),s.push(this.buildCanonicalizedResource(t,n.parameters)),s.join("\n")},n.computeSignature=function(e,n){return s.createHmac("sha1",e).update(t.from(n,"utf8")).digest("base64")},n.authorization=function(e,t,n){return"OSS "+e+":"+this.computeSignature(t,n)},n._signatureForURL=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2],o=arguments[3],a={},s=n.subResource,c=void 0===s?{}:s;if(n.process){c["x-oss-process"]=n.process}if(n.trafficLimit){c["x-oss-traffic-limit"]=n.trafficLimit}if(n.response&&(0,u.default)(n.response).forEach(function(e){var t="response-"+e.toLowerCase();c[t]=n.response[e]}),(0,u.default)(n).forEach(function(e){var t=e.toLowerCase(),r=n[e];0===t.indexOf("x-oss-")?a[t]=r:0===t.indexOf("content-md5")?a[e]=r:0===t.indexOf("content-type")&&(a[e]=r)}),Object.prototype.hasOwnProperty.call(n,"security-token")&&(c["security-token"]=n["security-token"]),Object.prototype.hasOwnProperty.call(n,"callback")){var l={callbackUrl:encodeURI(n.callback.url),callbackBody:n.callback.body};if(n.callback.host&&(l.callbackHost=n.callback.host),n.callback.contentType&&(l.callbackBodyType=n.callback.contentType),c.callback=t.from((0,i.default)(l)).toString("base64"),n.callback.customValue){var f={};(0,u.default)(n.callback.customValue).forEach(function(e){f["x:"+e]=n.callback.customValue[e]}),c["callback-var"]=t.from((0,i.default)(f)).toString("base64")}}var d=this.buildCanonicalString(n.method,r,{headers:a,parameters:c},o.toString());return{Signature:this.computeSignature(e,d),subResource:c}}}).call(this,e("buffer").Buffer)},{"./../../shims/crypto/crypto.js":284,"babel-runtime/core-js/json/stringify":53,"babel-runtime/core-js/object/keys":60,buffer:73,"is-type-of":289}],35:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.checkBucketName=void 0,n.checkBucketName=function(e,t){if(!(t?/^[a-z0-9][a-z0-9-]{1,61}[a-z0-9]$/:/^[a-z0-9_][a-z0-9-_]{1,61}[a-z0-9_]$/).test(e))throw new Error("The bucket must be conform to the specifications")}},{}],36:[function(e,t,n){"use strict";function r(e){if(!c(e))throw new Error("tag must be Object");var t=(0,i.default)(e);if(t.length>10)throw new Error("maximum of 10 tags for a object");var n=["key","value"];t.forEach(function(e){e.forEach(function(e,t){u(e,f[n[t]])})})}var o=e("babel-runtime/core-js/object/entries"),i=function(e){return e&&e.__esModule?e:{default:e}}(o);Object.defineProperty(n,"__esModule",{value:!0}),n.checkObjectTag=void 0;var a=e("./checkValid"),u=a.checkValid,s=e("./isObject"),c=s.isObject,l=[{validator:function(e){if("string"!=typeof e)throw new Error("the key and value of the tag must be String")}},{pattern:/^[a-zA-Z0-9 +-=._:\/]+$/,msg:"tag can contain letters, numbers, spaces, and the following symbols: plus sign (+), hyphen (-), equal sign (=), period (.), underscore (_), colon (:), and forward slash (/)"}],f={key:[].concat(l,[{pattern:/^.{1,128}$/,msg:"tag key can be a maximum of 128 bytes in length"}]),value:[].concat(l,[{pattern:/^.{0,256}$/,msg:"tag value can be a maximum of 256 bytes in length"}])};n.checkObjectTag=r},{"./checkValid":37,"./isObject":46,"babel-runtime/core-js/object/entries":57}],37:[function(e,t,n){"use strict";function r(e,t){t.forEach(function(t){if(t.validator)t.validator(e);else if(t.pattern&&!t.pattern.test(e))throw new Error(t.msg)})}Object.defineProperty(n,"__esModule",{value:!0}),n.checkValid=void 0,n.checkValid=r},{}],38:[function(e,t,n){(function(t){"use strict";function r(e,t){return e[t]||e[t.toLowerCase()]}function o(e,t){delete e[t],delete e[t.toLowerCase()]}function i(e){var n=new Date;this.options.amendTimeSkewed&&(n=+new Date+this.options.amendTimeSkewed);var i={"x-oss-date":f(n,"UTC:ddd, dd mmm yyyy HH:MM:ss 'GMT'"),"x-oss-user-agent":this.userAgent};this.userAgent.includes("nodejs")&&(i["User-Agent"]=this.userAgent),this.options.isRequestPay&&(0,u.default)(i,{"x-oss-request-payer":"requester"}),this.options.stsToken&&(i["x-oss-security-token"]=this.options.stsToken),d(e.headers).to(i),r(i,"Content-Type")||(e.mime&&e.mime.indexOf("/")>0?i["Content-Type"]=e.mime:i["Content-Type"]=l.getType(e.mime||p.extname(e.object||""))),r(i,"Content-Type")||o(i,"Content-Type"),e.content&&(i["Content-Md5"]=s.createHash("md5").update(t.from(e.content,"utf8")).digest("base64"),i["Content-Length"]||(i["Content-Length"]=e.content.length));var a=this._getResource(e);i.authorization=this.authorization(e.method,a,e.subres,i);var m=this._getReqUrl(e);c("request %s %s, with headers %j, !!stream: %s",e.method,m,i,!!e.stream);var h=e.timeout||this.options.timeout,g={method:e.method,content:e.content,stream:e.stream,headers:i,timeout:h,writeStream:e.writeStream,customResponse:e.customResponse,ctx:e.ctx||this.ctx};return this.agent&&(g.agent=this.agent),this.httpsAgent&&(g.httpsAgent=this.httpsAgent),{url:m,params:g}}var a=e("babel-runtime/core-js/object/assign"),u=function(e){return e&&e.__esModule?e:{default:e}}(a);Object.defineProperty(n,"__esModule",{value:!0}),n.createRequest=void 0;var s=e("./../../../shims/crypto/crypto.js"),c=e("debug")("ali-oss"),l=e("mime"),f=e("dateformat"),d=e("copy-to"),p=e("path");n.createRequest=i}).call(this,e("buffer").Buffer)},{"./../../../shims/crypto/crypto.js":284,"babel-runtime/core-js/object/assign":54,buffer:73,"copy-to":76,dateformat:190,debug:288,mime:202,path:205}],39:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/core-js/object/keys"),i=r(o),a=e("babel-runtime/helpers/typeof"),u=r(a);Object.defineProperty(n,"__esModule",{value:!0}),n.deepCopy=void 0,n.deepCopy=function(e){if(null===e||"object"!==(void 0===e?"undefined":(0,u.default)(e)))return e;var t=Array.isArray(e)?[]:{};return(0,i.default)(e).forEach(function(r){t[r]=n.deepCopy(e[r])}),t}},{"babel-runtime/core-js/object/keys":60,"babel-runtime/helpers/typeof":67}],40:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(null===e||"object"!==(void 0===e?"undefined":(0,c.default)(e)))return e;var n=void 0;if(Array.isArray(e)){n=[];for(var r=0;r<e.length;r++)n.push(o(e[r],t))}else n={},(0,u.default)(e).forEach(function(r){n[i(r,t)]=o(e[r],t)});return n}function i(e,t){return"firstUpperCase"===t?e=e.replace(/^./,function(e){return e.toUpperCase()}):"firstLowerCase"===t&&(e=e.replace(/^./,function(e){return e.toLowerCase()})),e}var a=e("babel-runtime/core-js/object/keys"),u=r(a),s=e("babel-runtime/helpers/typeof"),c=r(s);Object.defineProperty(n,"__esModule",{value:!0}),n.formatObjKey=void 0,n.formatObjKey=o},{"babel-runtime/core-js/object/keys":60,"babel-runtime/helpers/typeof":67}],41:[function(e,t,n){"use strict";function r(e){for(var t=0,n=0;n<e.length;n++){/^[\u00-\uff]$/.test(e.charAt(n))?t+=1:t+=2}return t}Object.defineProperty(n,"__esModule",{value:!0}),n.getStrBytesCount=void 0,n.getStrBytesCount=r},{}],42:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isArray=void 0,n.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],43:[function(e,t,n){"use strict";function r(e){return"undefined"!=typeof Blob&&e instanceof Blob}Object.defineProperty(n,"__esModule",{value:!0}),n.isBlob=void 0,n.isBlob=r},{}],44:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isFile=void 0,n.isFile=function(e){return"undefined"!=typeof File&&e instanceof File}},{}],45:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isIP=void 0,n.isIP=function(e){var t=/^(25[0-5]|2[0-4]\d|[0-1]?\d?\d)(\.(25[0-5]|2[0-4]\d|[0-1]?\d?\d)){3}$/,n=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;return t.test(e)||n.test(e)}},{}],46:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isObject=void 0,n.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)}},{}],47:[function(e,t,n){"use strict";function r(e){return Object.prototype.toString.call(e).replace(/(.*? |])/g,"").toLowerCase()}function o(e,t){var n="";return t&&t.headers&&(n='<?xml version="1.0" encoding="UTF-8"?>\n'),t&&t.firstUpperCase&&(e=u.formatObjKey(e,"firstUpperCase")),"object"===r(e)?(0,a.default)(e).forEach(function(t){"string"===r(e[t])||"number"===r(e[t])?n+="<"+t+">"+e[t]+"</"+t+">":"object"===r(e[t])?n+="<"+t+">"+o(e[t])+"</"+t+">":"array"===r(e[t])?n+=e[t].map(function(e){return"<"+t+">"+o(e)+"</"+t+">"}).join(""):n+="<"+t+">"+e[t].toString()+"</"+t+">"}):n+=e.toString(),n}var i=e("babel-runtime/core-js/object/keys"),a=function(e){return e&&e.__esModule?e:{default:e}}(i);Object.defineProperty(n,"__esModule",{value:!0}),n.obj2xml=void 0;var u=e("./formatObjKey");n.obj2xml=o},{"./formatObjKey":40,"babel-runtime/core-js/object/keys":60}],48:[function(e,t,n){function r(){}t.exports=r,t.exports.HttpsAgent=r},{}],49:[function(e,t,n){t.exports=e("./register")().Promise},{"./register":51}],50:[function(e,t,n){"use strict";var r=null;t.exports=function(e,t){return function(n,o){n=n||null,o=o||{};var i=!1!==o.global;if(null===r&&i&&(r=e["@@any-promise/REGISTRATION"]||null),null!==r&&null!==n&&r.implementation!==n)throw new Error('any-promise already defined as "'+r.implementation+'".  You can only register an implementation before the first  call to require("any-promise") and an implementation cannot be changed');return null===r&&(r=null!==n&&void 0!==o.Promise?{Promise:o.Promise,implementation:n}:t(n),i&&(e["@@any-promise/REGISTRATION"]=r)),r}}},{}],51:[function(e,t,n){"use strict";function r(){if(void 0===window.Promise)throw new Error("any-promise browser requires a polyfill or explicit registration e.g: require('any-promise/register/bluebird')");return{Promise:window.Promise,implementation:"window.Promise"}}t.exports=e("./loader")(window,r)},{"./loader":50}],52:[function(e,t,n){t.exports={default:e("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":77}],53:[function(e,t,n){t.exports={default:e("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":78}],54:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":79}],55:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":80}],56:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":81}],57:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/entries"),__esModule:!0}},{"core-js/library/fn/object/entries":82}],58:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/get-own-property-names"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-names":83}],59:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":84}],60:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":85}],61:[function(e,t,n){t.exports={default:e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":86}],62:[function(e,t,n){t.exports={default:e("core-js/library/fn/set-immediate"),__esModule:!0}},{"core-js/library/fn/set-immediate":87}],63:[function(e,t,n){t.exports={default:e("core-js/library/fn/string/from-code-point"),__esModule:!0}},{"core-js/library/fn/string/from-code-point":88}],64:[function(e,t,n){t.exports={default:e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":90}],65:[function(e,t,n){t.exports={default:e("core-js/library/fn/symbol/has-instance"),__esModule:!0}},{"core-js/library/fn/symbol/has-instance":89}],66:[function(e,t,n){t.exports={default:e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":91}],67:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var o=e("../core-js/symbol/iterator"),i=r(o),a=e("../core-js/symbol"),u=r(a),s="function"==typeof u.default&&"symbol"==typeof i.default?function(e){return typeof e}:function(e){return e&&"function"==typeof u.default&&e.constructor===u.default&&e!==u.default.prototype?"symbol":typeof e};n.default="function"==typeof u.default&&"symbol"===s(i.default)?function(e){return void 0===e?"undefined":s(e)}:function(e){return e&&"function"==typeof u.default&&e.constructor===u.default&&e!==u.default.prototype?"symbol":void 0===e?"undefined":s(e)}},{"../core-js/symbol":64,"../core-js/symbol/iterator":66}],68:[function(e,t,n){t.exports=e("regenerator-runtime")},{"regenerator-runtime":226}],69:[function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function o(e){var t=r(e),n=t[0],o=t[1];return 3*(n+o)/4-o}function i(e,t,n){return 3*(t+n)/4-n}function a(e){var t,n,o=r(e),a=o[0],u=o[1],s=new d(i(e,a,u)),c=0,l=u>0?a-4:a;for(n=0;n<l;n+=4)t=f[e.charCodeAt(n)]<<18|f[e.charCodeAt(n+1)]<<12|f[e.charCodeAt(n+2)]<<6|f[e.charCodeAt(n+3)],s[c++]=t>>16&255,s[c++]=t>>8&255,s[c++]=255&t;return 2===u&&(t=f[e.charCodeAt(n)]<<2|f[e.charCodeAt(n+1)]>>4,s[c++]=255&t),1===u&&(t=f[e.charCodeAt(n)]<<10|f[e.charCodeAt(n+1)]<<4|f[e.charCodeAt(n+2)]>>2,s[c++]=t>>8&255,s[c++]=255&t),s}function u(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}function s(e,t,n){for(var r,o=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(u(r));return o.join("")}function c(e){for(var t,n=e.length,r=n%3,o=[],i=0,a=n-r;i<a;i+=16383)o.push(s(e,i,i+16383>a?a:i+16383));return 1===r?(t=e[n-1],o.push(l[t>>2]+l[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(l[t>>10]+l[t>>4&63]+l[t<<2&63]+"=")),o.join("")}n.byteLength=o,n.toByteArray=a,n.fromByteArray=c;for(var l=[],f=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,h=p.length;m<h;++m)l[m]=p[m],f[p.charCodeAt(m)]=m;f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63},{}],70:[function(e,t,n){/*!
 * Bowser - a browser detector
 * https://github.com/ded/bowser
 * MIT License | (c) Dustin Diaz 2015
 */
!function(e,n,r){void 0!==t&&t.exports?t.exports=r():"function"==typeof define&&define.amd?define("bowser",r):e.bowser=r()}(this,0,function(){function e(e){function t(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}function n(t){var n=e.match(t);return n&&n.length>1&&n[2]||""}var o,i=t(/(ipod|iphone|ipad)/i).toLowerCase(),u=/like android/i.test(e),s=!u&&/android/i.test(e),c=/nexus\s*[0-6]\s*/i.test(e),l=!c&&/nexus\s*[0-9]+/i.test(e),f=/CrOS/.test(e),d=/silk/i.test(e),p=/sailfish/i.test(e),m=/tizen/i.test(e),h=/(web|hpw)(o|0)s/i.test(e),g=/windows phone/i.test(e),v=(/SamsungBrowser/i.test(e),!g&&/windows/i.test(e)),b=!i&&!d&&/macintosh/i.test(e),y=!s&&!p&&!m&&!h&&/linux/i.test(e),w=n(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),x=t(/version\/(\d+(\.\d+)?)/i),C=/tablet/i.test(e)&&!/tablet pc/i.test(e),_=!C&&/[^-]mobi/i.test(e),S=/xbox/i.test(e);/opera/i.test(e)?o={name:"Opera",opera:a,version:x||t(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(e)?o={name:"Opera",opera:a,version:t(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||x}:/SamsungBrowser/i.test(e)?o={name:"Samsung Internet for Android",samsungBrowser:a,version:x||t(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(e)?o={name:"NAVER Whale browser",whale:a,version:t(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(e)?o={name:"MZ Browser",mzbrowser:a,version:t(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(e)?o={name:"Opera Coast",coast:a,version:x||t(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(e)?o={name:"Focus",focus:a,version:t(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(e)?o={name:"Yandex Browser",yandexbrowser:a,version:x||t(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?o={name:"UC Browser",ucbrowser:a,version:t(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?o={name:"Maxthon",maxthon:a,version:t(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?o={name:"Epiphany",epiphany:a,version:t(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?o={name:"Puffin",puffin:a,version:t(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?o={name:"Sleipnir",sleipnir:a,version:t(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?o={name:"K-Meleon",kMeleon:a,version:t(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:g?(o={name:"Windows Phone",osname:"Windows Phone",windowsphone:a},w?(o.msedge=a,o.version=w):(o.msie=a,o.version=t(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?o={name:"Internet Explorer",msie:a,version:t(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:f?o={name:"Chrome",osname:"Chrome OS",chromeos:a,chromeBook:a,chrome:a,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(e)?o={name:"Microsoft Edge",msedge:a,version:w}:/vivaldi/i.test(e)?o={name:"Vivaldi",vivaldi:a,version:t(/vivaldi\/(\d+(\.\d+)?)/i)||x}:p?o={name:"Sailfish",osname:"Sailfish OS",sailfish:a,version:t(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?o={name:"SeaMonkey",seamonkey:a,version:t(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(o={name:"Firefox",firefox:a,version:t(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(o.firefoxos=a,o.osname="Firefox OS")):d?o={name:"Amazon Silk",silk:a,version:t(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?o={name:"PhantomJS",phantom:a,version:t(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?o={name:"SlimerJS",slimer:a,version:t(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?o={name:"BlackBerry",osname:"BlackBerry OS",blackberry:a,version:x||t(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:h?(o={name:"WebOS",osname:"WebOS",webos:a,version:x||t(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(o.touchpad=a)):/bada/i.test(e)?o={name:"Bada",osname:"Bada",bada:a,version:t(/dolfin\/(\d+(\.\d+)?)/i)}:m?o={name:"Tizen",osname:"Tizen",tizen:a,version:t(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||x}:/qupzilla/i.test(e)?o={name:"QupZilla",qupzilla:a,version:t(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||x}:/chromium/i.test(e)?o={name:"Chromium",chromium:a,version:t(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||x}:/chrome|crios|crmo/i.test(e)?o={name:"Chrome",chrome:a,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?o={name:"Android",version:x}:/safari|applewebkit/i.test(e)?(o={name:"Safari",safari:a},x&&(o.version=x)):i?(o={name:"iphone"==i?"iPhone":"ipad"==i?"iPad":"iPod"},x&&(o.version=x)):o=/googlebot/i.test(e)?{name:"Googlebot",googlebot:a,version:t(/googlebot\/(\d+(\.\d+))/i)||x}:{name:t(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!o.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(o.name=o.name||"Blink",o.blink=a):(o.name=o.name||"Webkit",o.webkit=a),!o.version&&x&&(o.version=x)):!o.opera&&/gecko\//i.test(e)&&(o.name=o.name||"Gecko",o.gecko=a,o.version=o.version||t(/gecko\/(\d+(\.\d+)?)/i)),o.windowsphone||!s&&!o.silk?!o.windowsphone&&i?(o[i]=a,o.ios=a,o.osname="iOS"):b?(o.mac=a,o.osname="macOS"):S?(o.xbox=a,o.osname="Xbox"):v?(o.windows=a,o.osname="Windows"):y&&(o.linux=a,o.osname="Linux"):(o.android=a,o.osname="Android");var k="";o.windows?k=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(t(/Windows ((NT|XP)( \d\d?.\d)?)/i)):o.windowsphone?k=t(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):o.mac?(k=t(/Mac OS X (\d+([_\.\s]\d+)*)/i),k=k.replace(/[_\s]/g,".")):i?(k=t(/os (\d+([_\s]\d+)*) like mac os x/i),k=k.replace(/[_\s]/g,".")):s?k=t(/android[ \/-](\d+(\.\d+)*)/i):o.webos?k=t(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):o.blackberry?k=t(/rim\stablet\sos\s(\d+(\.\d+)*)/i):o.bada?k=t(/bada\/(\d+(\.\d+)*)/i):o.tizen&&(k=t(/tizen[\/\s](\d+(\.\d+)*)/i)),k&&(o.osversion=k);var T=!o.windows&&k.split(".")[0];return C||l||"ipad"==i||s&&(3==T||T>=4&&!_)||o.silk?o.tablet=a:(_||"iphone"==i||"ipod"==i||s||c||o.blackberry||o.webos||o.bada)&&(o.mobile=a),o.msedge||o.msie&&o.version>=10||o.yandexbrowser&&o.version>=15||o.vivaldi&&o.version>=1||o.chrome&&o.version>=20||o.samsungBrowser&&o.version>=4||o.whale&&1===r([o.version,"1.0"])||o.mzbrowser&&1===r([o.version,"6.0"])||o.focus&&1===r([o.version,"1.0"])||o.firefox&&o.version>=20||o.safari&&o.version>=6||o.opera&&o.version>=10||o.ios&&o.osversion&&o.osversion.split(".")[0]>=6||o.blackberry&&o.version>=10.1||o.chromium&&o.version>=20?o.a=a:o.msie&&o.version<10||o.chrome&&o.version<20||o.firefox&&o.version<20||o.safari&&o.version<6||o.opera&&o.version<10||o.ios&&o.osversion&&o.osversion.split(".")[0]<6||o.chromium&&o.version<20?o.c=a:o.x=a,o}function t(e){return e.split(".").length}function n(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)r.push(t(e[n]));return r}function r(e){for(var r=Math.max(t(e[0]),t(e[1])),o=n(e,function(e){var o=r-t(e);return e+=new Array(o+1).join(".0"),n(e.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--r>=0;){if(o[0][r]>o[1][r])return 1;if(o[0][r]!==o[1][r])return-1;if(0===r)return 0}}function o(t,n,o){var i=u;"string"==typeof n&&(o=n,n=void 0),void 0===n&&(n=!1),o&&(i=e(o));var a=""+i.version;for(var s in t)if(t.hasOwnProperty(s)&&i[s]){if("string"!=typeof t[s])throw new Error("Browser version in the minVersion map should be a string: "+s+": "+String(t));return r([a,t[s]])<0}return n}function i(e,t,n){return!o(e,t,n)}var a=!0,u=e("undefined"!=typeof navigator?navigator.userAgent||"":"");return u.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"==typeof n&&n in u)return!0}return!1},u.isUnsupportedBrowser=o,u.compareVersions=r,u.check=i,u._detect=e,u.detect=e,u})},{}],71:[function(e,t,n){},{}],72:[function(e,t,n){function r(e){if(e&&!s(e))throw new Error("Unknown encoding: "+e)}function o(e){return e.toString(this.encoding)}function i(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function a(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var u=e("buffer").Buffer,s=u.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},c=n.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),r(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=i;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=o)}this.charBuffer=new u(6),this.charReceived=0,this.charLength=0};c.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=t.charCodeAt(t.length-1);if(!(r>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var o=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,o),o-=this.charReceived),t+=e.toString(this.encoding,0,o);var o=t.length-1,r=t.charCodeAt(o);if(r>=55296&&r<=56319){var i=this.surrogateSize;return this.charLength+=i,this.charReceived+=i,this.charBuffer.copy(this.charBuffer,i,0,i),e.copy(this.charBuffer,0,0,i),t.substring(0,o)}return t},c.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t},c.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,o=this.encoding;t+=r.slice(0,n).toString(o)}return t}},{buffer:73}],73:[function(e,t,n){(function(t,r){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
"use strict";function o(){return r.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return r.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=r.prototype):(null===e&&(e=new r(t)),e.length=t),e}function r(e,t,n){if(!(r.TYPED_ARRAY_SUPPORT||this instanceof r))return new r(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return a(this,e,t,n)}function a(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,n,r):"string"==typeof t?l(e,t,n):p(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function s(e,t,n,r){return u(t),t<=0?i(e,t):void 0!==n?"string"==typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}function c(e,t){if(u(t),e=i(e,t<0?0:0|m(t)),!r.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function l(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!r.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var o=0|g(t,n);e=i(e,o);var a=e.write(t,n);return a!==o&&(e=e.slice(0,a)),e}function f(e,t){var n=t.length<0?0:0|m(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e,t,n,o){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(o||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===o?new Uint8Array(t):void 0===o?new Uint8Array(t,n):new Uint8Array(t,n,o),r.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=r.prototype):e=f(e,t),e}function p(e,t){if(r.isBuffer(t)){var n=0|m(t.length);return e=i(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||K(t.length)?i(e,0):f(e,t);if("Buffer"===t.type&&Q(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function h(e){return+e!=e&&(e=0),r.alloc(+e)}function g(e,t){if(r.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(o)return q(e).length;t=(""+t).toLowerCase(),o=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return D(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,o,i){if(0===e.length)return-1;if("string"==typeof n?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=r.from(t,o)),r.isBuffer(t))return 0===t.length?-1:w(e,t,n,o,i);if("number"==typeof t)return t&=255,r.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,o,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,o){function i(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,u=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,u/=2,s/=2,n/=2}var c;if(o){var l=-1;for(c=n;c<u;c++)if(i(e,c)===i(t,-1===l?0:c-l)){if(-1===l&&(l=c),c-l+1===s)return l*a}else-1!==l&&(c-=c-l),l=-1}else for(n+s>u&&(n=u-s),c=n;c>=0;c--){for(var f=!0,d=0;d<s;d++)if(i(e,c+d)!==i(t,d)){f=!1;break}if(f)return c}return-1}function x(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var u=parseInt(t.substr(2*a,2),16);if(isNaN(u))return a;e[n+a]=u}return a}function C(e,t,n,r){return X(q(t,e.length-n),e,n,r)}function _(e,t,n,r){return X(W(t),e,n,r)}function S(e,t,n,r){return _(e,t,n,r)}function k(e,t,n,r){return X(G(t),e,n,r)}function T(e,t,n,r){return X($(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?Y.fromByteArray(e):Y.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i=e[o],a=null,u=i>239?4:i>223?3:i>191?2:1;if(o+u<=n){var s,c,l,f;switch(u){case 1:i<128&&(a=i);break;case 2:s=e[o+1],128==(192&s)&&(f=(31&i)<<6|63&s)>127&&(a=f);break;case 3:s=e[o+1],c=e[o+2],128==(192&s)&&128==(192&c)&&(f=(15&i)<<12|(63&s)<<6|63&c)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:s=e[o+1],c=e[o+2],l=e[o+3],128==(192&s)&&128==(192&c)&&128==(192&l)&&(f=(15&i)<<18|(63&s)<<12|(63&c)<<6|63&l)>65535&&f<1114112&&(a=f)}}null===a?(a=65533,u=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),o+=u}return N(r)}function N(e){var t=e.length;if(t<=Z)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Z));return n}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function M(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=V(e[i]);return o}function I(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,o,i,a){if(!r.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+o>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function j(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function B(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(e,t,n,r,o){return o||B(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,o){return o||B(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,n,r,52,8),n+8}function H(e){if(e=U(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function U(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function V(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){t=t||1/0;for(var n,r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function W(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function $(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}function G(e){return Y.toByteArray(H(e))}function X(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function K(e){return e!==e}var Y=e("base64-js"),J=e("ieee754"),Q=e("isarray");n.Buffer=r,n.SlowBuffer=h,n.INSPECT_MAX_BYTES=50,r.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),n.kMaxLength=o(),r.poolSize=8192,r._augment=function(e){return e.__proto__=r.prototype,e},r.from=function(e,t,n){return a(null,e,t,n)},r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0})),r.alloc=function(e,t,n){return s(null,e,t,n)},r.allocUnsafe=function(e){return c(null,e)},r.allocUnsafeSlow=function(e){return c(null,e)},r.isBuffer=function(e){return!(null==e||!e._isBuffer)},r.compare=function(e,t){if(!r.isBuffer(e)||!r.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,o=t.length,i=0,a=Math.min(n,o);i<a;++i)if(e[i]!==t[i]){n=e[i],o=t[i];break}return n<o?-1:o<n?1:0},r.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(e,t){if(!Q(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return r.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var o=r.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!r.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(o,i),i+=a.length}return o},r.byteLength=g,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},r.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},r.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},r.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):v.apply(this,arguments)},r.prototype.equals=function(e){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===r.compare(this,e)},r.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},r.prototype.compare=function(e,t,n,o,i){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===o&&(o=0),void 0===i&&(i=this.length),t<0||n>e.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&t>=n)return 0;if(o>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,o>>>=0,i>>>=0,this===e)return 0;for(var a=i-o,u=n-t,s=Math.min(a,u),c=this.slice(o,i),l=e.slice(t,n),f=0;f<s;++f)if(c[f]!==l[f]){a=c[f],u=l[f];break}return a<u?-1:u<a?1:0},r.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},r.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},r.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},r.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return x(this,e,t,n);case"utf8":case"utf-8":return C(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;r.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var o;if(r.TYPED_ARRAY_SUPPORT)o=this.subarray(e,t),o.__proto__=r.prototype;else{var i=t-e;o=new r(i,void 0);for(var a=0;a<i;++a)o[a]=this[a+e]}return o},r.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},r.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},r.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},r.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},r.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},r.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},r.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},r.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},r.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},r.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},r.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},r.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},r.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),J.read(this,e,!0,23,4)},r.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),J.read(this,e,!1,23,4)},r.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),J.read(this,e,!0,52,8)},r.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),J.read(this,e,!1,52,8)},r.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){P(this,e,t,n,Math.pow(2,8*n)-1,0)}var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},r.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){P(this,e,t,n,Math.pow(2,8*n)-1,0)}var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},r.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},r.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},r.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},r.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):j(this,e,t,!0),t+4},r.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},r.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);P(this,e,t,n,o-1,-o)}var i=0,a=1,u=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===u&&0!==this[t+i-1]&&(u=1),this[t+i]=(e/a>>0)-u&255;return t+n},r.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);P(this,e,t,n,o-1,-o)}var i=n-1,a=1,u=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===u&&0!==this[t+i+1]&&(u=1),this[t+i]=(e/a>>0)-u&255;return t+n},r.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},r.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},r.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},r.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):j(this,e,t,!0),t+4},r.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},r.prototype.writeFloatLE=function(e,t,n){return z(this,e,t,!0,n)},r.prototype.writeFloatBE=function(e,t,n){return z(this,e,t,!1,n)},r.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},r.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},r.prototype.copy=function(e,t,n,o){if(n||(n=0),o||0===o||(o=this.length),t>=e.length&&(t=e.length),t||(t=0),o>0&&o<n&&(o=n),o===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-n&&(o=e.length-t+n);var i,a=o-n;if(this===e&&n<t&&t<o)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!r.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},r.prototype.fill=function(e,t,n,o){if("string"==typeof e){if("string"==typeof t?(o=t,t=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!r.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var u=r.isBuffer(e)?e:q(new r(e,o).toString()),s=u.length;for(a=0;a<n-t;++a)this[a+t]=u[a%s]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"base64-js":69,buffer:73,ieee754:195,isarray:198}],74:[function(e,t,n){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],75:[function(e,t,n){t.exports={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,E2BIG:7,EACCES:13,EADDRINUSE:48,EADDRNOTAVAIL:49,EAFNOSUPPORT:47,EAGAIN:35,EALREADY:37,EBADF:9,EBADMSG:94,EBUSY:16,ECANCELED:89,ECHILD:10,ECONNABORTED:53,ECONNREFUSED:61,ECONNRESET:54,EDEADLK:11,EDESTADDRREQ:39,EDOM:33,EDQUOT:69,EEXIST:17,EFAULT:14,EFBIG:27,EHOSTUNREACH:65,EIDRM:90,EILSEQ:92,EINPROGRESS:36,EINTR:4,EINVAL:22,EIO:5,EISCONN:56,EISDIR:21,ELOOP:62,EMFILE:24,EMLINK:31,EMSGSIZE:40,EMULTIHOP:95,ENAMETOOLONG:63,ENETDOWN:50,ENETRESET:52,ENETUNREACH:51,ENFILE:23,ENOBUFS:55,ENODATA:96,ENODEV:19,ENOENT:2,ENOEXEC:8,ENOLCK:77,ENOLINK:97,ENOMEM:12,ENOMSG:91,ENOPROTOOPT:42,ENOSPC:28,ENOSR:98,ENOSTR:99,ENOSYS:78,ENOTCONN:57,ENOTDIR:20,ENOTEMPTY:66,ENOTSOCK:38,ENOTSUP:45,ENOTTY:25,ENXIO:6,EOPNOTSUPP:102,EOVERFLOW:84,EPERM:1,EPIPE:32,EPROTO:100,EPROTONOSUPPORT:43,EPROTOTYPE:41,ERANGE:34,EROFS:30,ESPIPE:29,ESRCH:3,ESTALE:70,ETIME:101,ETIMEDOUT:60,ETXTBSY:26,EWOULDBLOCK:35,EXDEV:18,SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:10,SIGFPE:8,SIGKILL:9,SIGUSR1:30,SIGSEGV:11,SIGUSR2:31,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGCHLD:20,SIGCONT:19,SIGSTOP:17,SIGTSTP:18,SIGTTIN:21,SIGTTOU:22,SIGURG:16,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:23,SIGSYS:12,SSL_OP_ALL:2147486719,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION:262144,SSL_OP_CIPHER_SERVER_PREFERENCE:4194304,SSL_OP_CISCO_ANYCONNECT:32768,SSL_OP_COOKIE_EXCHANGE:8192,SSL_OP_CRYPTOPRO_TLSEXT_BUG:2147483648,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS:2048,SSL_OP_EPHEMERAL_RSA:0,SSL_OP_LEGACY_SERVER_CONNECT:4,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER:32,SSL_OP_MICROSOFT_SESS_ID_BUG:1,SSL_OP_MSIE_SSLV2_RSA_PADDING:0,SSL_OP_NETSCAPE_CA_DN_BUG:536870912,SSL_OP_NETSCAPE_CHALLENGE_BUG:2,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG:1073741824,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG:8,SSL_OP_NO_COMPRESSION:131072,SSL_OP_NO_QUERY_MTU:4096,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION:65536,SSL_OP_NO_SSLv2:16777216,SSL_OP_NO_SSLv3:33554432,SSL_OP_NO_TICKET:16384,SSL_OP_NO_TLSv1:67108864,SSL_OP_NO_TLSv1_1:268435456,SSL_OP_NO_TLSv1_2:134217728,SSL_OP_PKCS1_CHECK_1:0,SSL_OP_PKCS1_CHECK_2:0,SSL_OP_SINGLE_DH_USE:1048576,SSL_OP_SINGLE_ECDH_USE:524288,SSL_OP_SSLEAY_080_CLIENT_DH_BUG:128,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG:0,SSL_OP_TLS_BLOCK_PADDING_BUG:512,SSL_OP_TLS_D5_BUG:256,SSL_OP_TLS_ROLLBACK_BUG:8388608,ENGINE_METHOD_DSA:2,ENGINE_METHOD_DH:4,ENGINE_METHOD_RAND:8,ENGINE_METHOD_ECDH:16,ENGINE_METHOD_ECDSA:32,ENGINE_METHOD_CIPHERS:64,ENGINE_METHOD_DIGESTS:128,ENGINE_METHOD_STORE:256,ENGINE_METHOD_PKEY_METHS:512,ENGINE_METHOD_PKEY_ASN1_METHS:1024,ENGINE_METHOD_ALL:65535,ENGINE_METHOD_NONE:0,DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_UDP_REUSEADDR:4}},{}],76:[function(e,t,n){/*!
 * copy-to - index.js
 * Copyright(c) 2014 dead_horse <dead_horse@qq.com>
 * MIT Licensed
 */
"use strict";function r(e,t){if(!(this instanceof r))return new r(e,t);this.src=e,this._withAccess=t}function o(e,t){return void 0===e[t]&&void 0===e.__lookupGetter__(t)&&void 0===e.__lookupSetter__(t)}var i=Array.prototype.slice;t.exports=r,r.prototype.withAccess=function(e){return this._withAccess=!1!==e,this},r.prototype.pick=function(e){return Array.isArray(e)||(e=i.call(arguments)),e.length&&(this.keys=e),this},r.prototype.to=function(e){if(e=e||{},!this.src)return e;var t=this.keys||Object.keys(this.src);if(!this._withAccess){for(var n=0;n<t.length;n++)r=t[n],void 0===e[r]&&(e[r]=this.src[r]);return e}for(var n=0;n<t.length;n++){var r=t[n];if(o(e,r)){var i=this.src.__lookupGetter__(r),a=this.src.__lookupSetter__(r);i&&e.__defineGetter__(r,i),a&&e.__defineSetter__(r,a),i||a||(e[r]=this.src[r])}}return e},r.prototype.toCover=function(e){for(var t=this.keys||Object.keys(this.src),n=0;n<t.length;n++){var r=t[n];delete e[r];var o=this.src.__lookupGetter__(r),i=this.src.__lookupSetter__(r);o&&e.__defineGetter__(r,o),i&&e.__defineSetter__(r,i),o||i||(e[r]=this.src[r])}},r.prototype.override=r.prototype.toCover,r.prototype.and=function(e){var t={};return this.to(t),this.src=e,this.to(t),this.src=t,this}},{}],77:[function(e,t,n){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),t.exports=e("../../modules/_core").Array.from},{"../../modules/_core":99,"../../modules/es6.array.from":168,"../../modules/es6.string.iterator":180}],78:[function(e,t,n){var r=e("../../modules/_core"),o=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(e){return o.stringify.apply(o,arguments)}},{"../../modules/_core":99}],79:[function(e,t,n){e("../../modules/es6.object.assign"),t.exports=e("../../modules/_core").Object.assign},{"../../modules/_core":99,"../../modules/es6.object.assign":171}],80:[function(e,t,n){e("../../modules/es6.object.create");var r=e("../../modules/_core").Object;t.exports=function(e,t){return r.create(e,t)}},{"../../modules/_core":99,"../../modules/es6.object.create":172}],81:[function(e,t,n){e("../../modules/es6.object.define-property");var r=e("../../modules/_core").Object;t.exports=function(e,t,n){return r.defineProperty(e,t,n)}},{"../../modules/_core":99,"../../modules/es6.object.define-property":173}],82:[function(e,t,n){e("../../modules/es7.object.entries"),t.exports=e("../../modules/_core").Object.entries},{"../../modules/_core":99,"../../modules/es7.object.entries":182}],83:[function(e,t,n){e("../../modules/es6.object.get-own-property-names");var r=e("../../modules/_core").Object;t.exports=function(e){return r.getOwnPropertyNames(e)}},{"../../modules/_core":99,"../../modules/es6.object.get-own-property-names":174}],84:[function(e,t,n){e("../../modules/es6.object.get-prototype-of"),t.exports=e("../../modules/_core").Object.getPrototypeOf},{"../../modules/_core":99,"../../modules/es6.object.get-prototype-of":175}],85:[function(e,t,n){e("../../modules/es6.object.keys"),t.exports=e("../../modules/_core").Object.keys},{"../../modules/_core":99,"../../modules/es6.object.keys":176}],86:[function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),e("../modules/es7.promise.finally"),e("../modules/es7.promise.try"),t.exports=e("../modules/_core").Promise},{"../modules/_core":99,"../modules/es6.object.to-string":177,"../modules/es6.promise":178,"../modules/es6.string.iterator":180,"../modules/es7.promise.finally":183,"../modules/es7.promise.try":184,"../modules/web.dom.iterable":187}],87:[function(e,t,n){e("../modules/web.immediate"),t.exports=e("../modules/_core").setImmediate},{"../modules/_core":99,"../modules/web.immediate":188}],88:[function(e,t,n){e("../../modules/es6.string.from-code-point"),t.exports=e("../../modules/_core").String.fromCodePoint},{"../../modules/_core":99,"../../modules/es6.string.from-code-point":179}],89:[function(e,t,n){e("../../modules/es6.function.has-instance"),t.exports=e("../../modules/_wks-ext").f("hasInstance")},{"../../modules/_wks-ext":165,"../../modules/es6.function.has-instance":170}],90:[function(e,t,n){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),t.exports=e("../../modules/_core").Symbol},{"../../modules/_core":99,"../../modules/es6.object.to-string":177,"../../modules/es6.symbol":181,"../../modules/es7.symbol.async-iterator":185,"../../modules/es7.symbol.observable":186}],91:[function(e,t,n){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":165,"../../modules/es6.string.iterator":180,"../../modules/web.dom.iterable":187}],92:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],93:[function(e,t,n){t.exports=function(){}},{}],94:[function(e,t,n){t.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},{}],95:[function(e,t,n){var r=e("./_is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":119}],96:[function(e,t,n){var r=e("./_to-iobject"),o=e("./_to-length"),i=e("./_to-absolute-index");t.exports=function(e){return function(t,n,a){var u,s=r(t),c=o(s.length),l=i(a,c);if(e&&n!=n){for(;c>l;)if((u=s[l++])!=u)return!0}else for(;c>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}}},{"./_to-absolute-index":156,"./_to-iobject":158,"./_to-length":159}],97:[function(e,t,n){var r=e("./_cof"),o=e("./_wks")("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};t.exports=function(e){var t,n,u;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),o))?n:i?r(t):"Object"==(u=r(t))&&"function"==typeof t.callee?"Arguments":u}},{"./_cof":98,"./_wks":166}],98:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],99:[function(e,t,n){var r=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=r)},{}],100:[function(e,t,n){"use strict";var r=e("./_object-dp"),o=e("./_property-desc");t.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},{"./_object-dp":132,"./_property-desc":146}],101:[function(e,t,n){var r=e("./_a-function");t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":92}],102:[function(e,t,n){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],103:[function(e,t,n){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":108}],104:[function(e,t,n){var r=e("./_is-object"),o=e("./_global").document,i=r(o)&&r(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"./_global":110,"./_is-object":119}],105:[function(e,t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],106:[function(e,t,n){var r=e("./_object-keys"),o=e("./_object-gops"),i=e("./_object-pie");t.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,u=n(e),s=i.f,c=0;u.length>c;)s.call(e,a=u[c++])&&t.push(a);return t}},{"./_object-gops":137,"./_object-keys":140,"./_object-pie":141}],107:[function(e,t,n){var r=e("./_global"),o=e("./_core"),i=e("./_ctx"),a=e("./_hide"),u=e("./_has"),s=function(e,t,n){var c,l,f,d=e&s.F,p=e&s.G,m=e&s.S,h=e&s.P,g=e&s.B,v=e&s.W,b=p?o:o[t]||(o[t]={}),y=b.prototype,w=p?r:m?r[t]:(r[t]||{}).prototype;p&&(n=t);for(c in n)(l=!d&&w&&void 0!==w[c])&&u(b,c)||(f=l?w[c]:n[c],b[c]=p&&"function"!=typeof w[c]?n[c]:g&&l?i(f,r):v&&w[c]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):h&&"function"==typeof f?i(Function.call,f):f,h&&((b.virtual||(b.virtual={}))[c]=f,e&s.R&&y&&!y[c]&&a(y,c,f)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},{"./_core":99,"./_ctx":101,"./_global":110,"./_has":111,"./_hide":112}],108:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],109:[function(e,t,n){var r=e("./_ctx"),o=e("./_iter-call"),i=e("./_is-array-iter"),a=e("./_an-object"),u=e("./_to-length"),s=e("./core.get-iterator-method"),c={},l={},n=t.exports=function(e,t,n,f,d){var p,m,h,g,v=d?function(){return e}:s(e),b=r(n,f,t?2:1),y=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(i(v)){for(p=u(e.length);p>y;y++)if((g=t?b(a(m=e[y])[0],m[1]):b(e[y]))===c||g===l)return g}else for(h=v.call(e);!(m=h.next()).done;)if((g=o(h,b,m.value,t))===c||g===l)return g};n.BREAK=c,n.RETURN=l},{"./_an-object":95,"./_ctx":101,"./_is-array-iter":117,"./_iter-call":120,"./_to-length":159,"./core.get-iterator-method":167}],110:[function(e,t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],111:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],112:[function(e,t,n){var r=e("./_object-dp"),o=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},{"./_descriptors":103,"./_object-dp":132,"./_property-desc":146}],113:[function(e,t,n){var r=e("./_global").document;t.exports=r&&r.documentElement},{"./_global":110}],114:[function(e,t,n){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":103,"./_dom-create":104,"./_fails":108}],115:[function(e,t,n){t.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],116:[function(e,t,n){var r=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./_cof":98}],117:[function(e,t,n){var r=e("./_iterators"),o=e("./_wks")("iterator"),i=Array.prototype;t.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},{"./_iterators":125,"./_wks":166}],118:[function(e,t,n){var r=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==r(e)}},{"./_cof":98}],119:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],120:[function(e,t,n){var r=e("./_an-object");t.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},{"./_an-object":95}],121:[function(e,t,n){"use strict";var r=e("./_object-create"),o=e("./_property-desc"),i=e("./_set-to-string-tag"),a={};e("./_hide")(a,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},{"./_hide":112,"./_object-create":131,"./_property-desc":146,"./_set-to-string-tag":150,"./_wks":166}],122:[function(e,t,n){"use strict";var r=e("./_library"),o=e("./_export"),i=e("./_redefine"),a=e("./_hide"),u=e("./_iterators"),s=e("./_iter-create"),c=e("./_set-to-string-tag"),l=e("./_object-gpo"),f=e("./_wks")("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(e,t,n,m,h,g,v){s(n,t,m);var b,y,w,x=function(e){if(!d&&e in k)return k[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},C=t+" Iterator",_="values"==h,S=!1,k=e.prototype,T=k[f]||k["@@iterator"]||h&&k[h],E=T||x(h),O=h?_?x("entries"):E:void 0,N="Array"==t?k.entries||T:T;if(N&&(w=l(N.call(new e)))!==Object.prototype&&w.next&&(c(w,C,!0),r||"function"==typeof w[f]||a(w,f,p)),_&&T&&"values"!==T.name&&(S=!0,E=function(){return T.call(this)}),r&&!v||!d&&!S&&k[f]||a(k,f,E),u[t]=E,u[C]=p,h)if(b={values:_?E:x("values"),keys:g?E:x("keys"),entries:O},v)for(y in b)y in k||i(k,y,b[y]);else o(o.P+o.F*(d||S),t,b);return b}},{"./_export":107,"./_hide":112,"./_iter-create":121,"./_iterators":125,"./_library":126,"./_object-gpo":138,"./_redefine":148,"./_set-to-string-tag":150,"./_wks":166}],123:[function(e,t,n){var r=e("./_wks")("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},{"./_wks":166}],124:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],125:[function(e,t,n){t.exports={}},{}],126:[function(e,t,n){t.exports=!0},{}],127:[function(e,t,n){var r=e("./_uid")("meta"),o=e("./_is-object"),i=e("./_has"),a=e("./_object-dp").f,u=0,s=Object.isExtensible||function(){return!0},c=!e("./_fails")(function(){return s(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++u,w:{}}})},f=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!s(e))return"F";if(!t)return"E";l(e)}return e[r].i},d=function(e,t){if(!i(e,r)){if(!s(e))return!0;if(!t)return!1;l(e)}return e[r].w},p=function(e){return c&&m.NEED&&s(e)&&!i(e,r)&&l(e),e},m=t.exports={KEY:r,NEED:!1,fastKey:f,getWeak:d,onFreeze:p}},{"./_fails":108,"./_has":111,"./_is-object":119,"./_object-dp":132,"./_uid":162}],128:[function(e,t,n){var r=e("./_global"),o=e("./_task").set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,u=r.Promise,s="process"==e("./_cof")(a);t.exports=function(){var e,t,n,c=function(){var r,o;for(s&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(s)n=function(){a.nextTick(c)};else if(!i||r.navigator&&r.navigator.standalone)if(u&&u.resolve){var l=u.resolve(void 0);n=function(){l.then(c)}}else n=function(){o.call(r,c)};else{var f=!0,d=document.createTextNode("");new i(c).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},{"./_cof":98,"./_global":110,"./_task":155}],129:[function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=o(t),this.reject=o(n)}var o=e("./_a-function");t.exports.f=function(e){return new r(e)}},{"./_a-function":92}],130:[function(e,t,n){"use strict";var r=e("./_descriptors"),o=e("./_object-keys"),i=e("./_object-gops"),a=e("./_object-pie"),u=e("./_to-object"),s=e("./_iobject"),c=Object.assign;t.exports=!c||e("./_fails")(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r})?function(e,t){for(var n=u(e),c=arguments.length,l=1,f=i.f,d=a.f;c>l;)for(var p,m=s(arguments[l++]),h=f?o(m).concat(f(m)):o(m),g=h.length,v=0;g>v;)p=h[v++],r&&!d.call(m,p)||(n[p]=m[p]);return n}:c},{"./_descriptors":103,"./_fails":108,"./_iobject":116,"./_object-gops":137,"./_object-keys":140,"./_object-pie":141,"./_to-object":160}],131:[function(e,t,n){var r=e("./_an-object"),o=e("./_object-dps"),i=e("./_enum-bug-keys"),a=e("./_shared-key")("IE_PROTO"),u=function(){},s=function(){var t,n=e("./_dom-create")("iframe"),r=i.length;for(n.style.display="none",e("./_html").appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),s=t.F;r--;)delete s.prototype[i[r]];return s()};t.exports=Object.create||function(e,t){var n;return null!==e?(u.prototype=r(e),n=new u,u.prototype=null,n[a]=e):n=s(),void 0===t?n:o(n,t)}},{"./_an-object":95,"./_dom-create":104,"./_enum-bug-keys":105,"./_html":113,"./_object-dps":133,"./_shared-key":151}],132:[function(e,t,n){var r=e("./_an-object"),o=e("./_ie8-dom-define"),i=e("./_to-primitive"),a=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{"./_an-object":95,"./_descriptors":103,"./_ie8-dom-define":114,"./_to-primitive":161}],133:[function(e,t,n){var r=e("./_object-dp"),o=e("./_an-object"),i=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),u=a.length,s=0;u>s;)r.f(e,n=a[s++],t[n]);return e}},{"./_an-object":95,"./_descriptors":103,"./_object-dp":132,"./_object-keys":140}],134:[function(e,t,n){var r=e("./_object-pie"),o=e("./_property-desc"),i=e("./_to-iobject"),a=e("./_to-primitive"),u=e("./_has"),s=e("./_ie8-dom-define"),c=Object.getOwnPropertyDescriptor;n.f=e("./_descriptors")?c:function(e,t){if(e=i(e),t=a(t,!0),s)try{return c(e,t)}catch(e){}if(u(e,t))return o(!r.f.call(e,t),e[t])}},{"./_descriptors":103,"./_has":111,"./_ie8-dom-define":114,"./_object-pie":141,"./_property-desc":146,"./_to-iobject":158,"./_to-primitive":161}],135:[function(e,t,n){var r=e("./_to-iobject"),o=e("./_object-gopn").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return o(e)}catch(e){return a.slice()}};t.exports.f=function(e){return a&&"[object Window]"==i.call(e)?u(e):o(r(e))}},{"./_object-gopn":136,"./_to-iobject":158}],136:[function(e,t,n){var r=e("./_object-keys-internal"),o=e("./_enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},{"./_enum-bug-keys":105,"./_object-keys-internal":139}],137:[function(e,t,n){n.f=Object.getOwnPropertySymbols},{}],138:[function(e,t,n){var r=e("./_has"),o=e("./_to-object"),i=e("./_shared-key")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},{"./_has":111,"./_shared-key":151,"./_to-object":160}],139:[function(e,t,n){var r=e("./_has"),o=e("./_to-iobject"),i=e("./_array-includes")(!1),a=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var n,u=o(e),s=0,c=[];for(n in u)n!=a&&r(u,n)&&c.push(n);for(;t.length>s;)r(u,n=t[s++])&&(~i(c,n)||c.push(n));return c}},{"./_array-includes":96,"./_has":111,"./_shared-key":151,"./_to-iobject":158}],140:[function(e,t,n){var r=e("./_object-keys-internal"),o=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return r(e,o)}},{"./_enum-bug-keys":105,"./_object-keys-internal":139}],141:[function(e,t,n){n.f={}.propertyIsEnumerable},{}],142:[function(e,t,n){var r=e("./_export"),o=e("./_core"),i=e("./_fails");t.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},{"./_core":99,"./_export":107,"./_fails":108}],143:[function(e,t,n){var r=e("./_descriptors"),o=e("./_object-keys"),i=e("./_to-iobject"),a=e("./_object-pie").f;t.exports=function(e){return function(t){for(var n,u=i(t),s=o(u),c=s.length,l=0,f=[];c>l;)n=s[l++],r&&!a.call(u,n)||f.push(e?[n,u[n]]:u[n]);return f}}},{"./_descriptors":103,"./_object-keys":140,"./_object-pie":141,"./_to-iobject":158}],144:[function(e,t,n){t.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},{}],145:[function(e,t,n){var r=e("./_an-object"),o=e("./_is-object"),i=e("./_new-promise-capability");t.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},{"./_an-object":95,"./_is-object":119,"./_new-promise-capability":129}],146:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],147:[function(e,t,n){var r=e("./_hide");t.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:r(e,o,t[o]);return e}},{"./_hide":112}],148:[function(e,t,n){t.exports=e("./_hide")},{"./_hide":112}],149:[function(e,t,n){"use strict";var r=e("./_global"),o=e("./_core"),i=e("./_object-dp"),a=e("./_descriptors"),u=e("./_wks")("species");t.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];a&&t&&!t[u]&&i.f(t,u,{configurable:!0,get:function(){return this}})}},{"./_core":99,"./_descriptors":103,"./_global":110,"./_object-dp":132,"./_wks":166}],150:[function(e,t,n){var r=e("./_object-dp").f,o=e("./_has"),i=e("./_wks")("toStringTag");t.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},{"./_has":111,"./_object-dp":132,"./_wks":166}],151:[function(e,t,n){var r=e("./_shared")("keys"),o=e("./_uid");t.exports=function(e){return r[e]||(r[e]=o(e))}},{"./_shared":152,"./_uid":162}],152:[function(e,t,n){var r=e("./_core"),o=e("./_global"),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:e("./_library")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},{"./_core":99,"./_global":110,"./_library":126}],153:[function(e,t,n){var r=e("./_an-object"),o=e("./_a-function"),i=e("./_wks")("species");t.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[i])?t:o(n)}},{"./_a-function":92,"./_an-object":95,"./_wks":166}],154:[function(e,t,n){var r=e("./_to-integer"),o=e("./_defined");t.exports=function(e){return function(t,n){var i,a,u=String(o(t)),s=r(n),c=u.length;return s<0||s>=c?e?"":void 0:(i=u.charCodeAt(s),i<55296||i>56319||s+1===c||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):i:e?u.slice(s,s+2):a-56320+(i-55296<<10)+65536)}}},{"./_defined":102,"./_to-integer":157}],155:[function(e,t,n){var r,o,i,a=e("./_ctx"),u=e("./_invoke"),s=e("./_html"),c=e("./_dom-create"),l=e("./_global"),f=l.process,d=l.setImmediate,p=l.clearImmediate,m=l.MessageChannel,h=l.Dispatch,g=0,v={},b=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},y=function(e){b.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++g]=function(){u("function"==typeof e?e:Function(e),t)},r(g),g},p=function(e){delete v[e]},"process"==e("./_cof")(f)?r=function(e){f.nextTick(a(b,e,1))}:h&&h.now?r=function(e){h.now(a(b,e,1))}:m?(o=new m,i=o.port2,o.port1.onmessage=y,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",y,!1)):r="onreadystatechange"in c("script")?function(e){s.appendChild(c("script")).onreadystatechange=function(){s.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),t.exports={set:d,clear:p}},{"./_cof":98,"./_ctx":101,"./_dom-create":104,"./_global":110,"./_html":113,"./_invoke":115}],156:[function(e,t,n){var r=e("./_to-integer"),o=Math.max,i=Math.min;t.exports=function(e,t){return e=r(e),e<0?o(e+t,0):i(e,t)}},{"./_to-integer":157}],157:[function(e,t,n){var r=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?o:r)(e)}},{}],158:[function(e,t,n){var r=e("./_iobject"),o=e("./_defined");t.exports=function(e){return r(o(e))}},{"./_defined":102,"./_iobject":116}],159:[function(e,t,n){var r=e("./_to-integer"),o=Math.min;t.exports=function(e){return e>0?o(r(e),9007199254740991):0}},{"./_to-integer":157}],160:[function(e,t,n){var r=e("./_defined");t.exports=function(e){return Object(r(e))}},{"./_defined":102}],161:[function(e,t,n){var r=e("./_is-object");t.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":119}],162:[function(e,t,n){var r=0,o=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+o).toString(36))}},{}],163:[function(e,t,n){var r=e("./_global"),o=r.navigator;t.exports=o&&o.userAgent||""},{"./_global":110}],164:[function(e,t,n){var r=e("./_global"),o=e("./_core"),i=e("./_library"),a=e("./_wks-ext"),u=e("./_object-dp").f;t.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:a.f(e)})}},{"./_core":99,"./_global":110,"./_library":126,"./_object-dp":132,"./_wks-ext":165}],165:[function(e,t,n){n.f=e("./_wks")},{"./_wks":166}],166:[function(e,t,n){var r=e("./_shared")("wks"),o=e("./_uid"),i=e("./_global").Symbol,a="function"==typeof i;(t.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},{"./_global":110,"./_shared":152,"./_uid":162}],167:[function(e,t,n){var r=e("./_classof"),o=e("./_wks")("iterator"),i=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},{"./_classof":97,"./_core":99,"./_iterators":125,"./_wks":166}],168:[function(e,t,n){"use strict";var r=e("./_ctx"),o=e("./_export"),i=e("./_to-object"),a=e("./_iter-call"),u=e("./_is-array-iter"),s=e("./_to-length"),c=e("./_create-property"),l=e("./core.get-iterator-method");o(o.S+o.F*!e("./_iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,f,d=i(e),p="function"==typeof this?this:Array,m=arguments.length,h=m>1?arguments[1]:void 0,g=void 0!==h,v=0,b=l(d);if(g&&(h=r(h,m>2?arguments[2]:void 0,2)),void 0==b||p==Array&&u(b))for(t=s(d.length),n=new p(t);t>v;v++)c(n,v,g?h(d[v],v):d[v]);else for(f=b.call(d),n=new p;!(o=f.next()).done;v++)c(n,v,g?a(f,h,[o.value,v],!0):o.value);return n.length=v,n}})},{"./_create-property":100,"./_ctx":101,"./_export":107,"./_is-array-iter":117,"./_iter-call":120,"./_iter-detect":123,"./_to-length":159,"./_to-object":160,"./core.get-iterator-method":167}],169:[function(e,t,n){"use strict";var r=e("./_add-to-unscopables"),o=e("./_iter-step"),i=e("./_iterators"),a=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,n):"values"==t?o(0,e[n]):o(0,[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},{"./_add-to-unscopables":93,"./_iter-define":122,"./_iter-step":124,"./_iterators":125,"./_to-iobject":158}],170:[function(e,t,n){"use strict";var r=e("./_is-object"),o=e("./_object-gpo"),i=e("./_wks")("hasInstance"),a=Function.prototype;i in a||e("./_object-dp").f(a,i,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},{"./_is-object":119,"./_object-dp":132,"./_object-gpo":138,"./_wks":166}],171:[function(e,t,n){var r=e("./_export");r(r.S+r.F,"Object",{assign:e("./_object-assign")})},{"./_export":107,"./_object-assign":130}],172:[function(e,t,n){var r=e("./_export");r(r.S,"Object",{create:e("./_object-create")})},{"./_export":107,"./_object-create":131}],173:[function(e,t,n){var r=e("./_export");r(r.S+r.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":103,"./_export":107,"./_object-dp":132}],174:[function(e,t,n){e("./_object-sap")("getOwnPropertyNames",function(){return e("./_object-gopn-ext").f})},{"./_object-gopn-ext":135,"./_object-sap":142}],175:[function(e,t,n){var r=e("./_to-object"),o=e("./_object-gpo");e("./_object-sap")("getPrototypeOf",function(){return function(e){return o(r(e))}})},{"./_object-gpo":138,"./_object-sap":142,"./_to-object":160}],176:[function(e,t,n){var r=e("./_to-object"),o=e("./_object-keys");e("./_object-sap")("keys",function(){return function(e){return o(r(e))}})},{"./_object-keys":140,"./_object-sap":142,"./_to-object":160}],177:[function(e,t,n){arguments[4][71][0].apply(n,arguments)},{dup:71}],178:[function(e,t,n){"use strict";var r,o,i,a,u=e("./_library"),s=e("./_global"),c=e("./_ctx"),l=e("./_classof"),f=e("./_export"),d=e("./_is-object"),p=e("./_a-function"),m=e("./_an-instance"),h=e("./_for-of"),g=e("./_species-constructor"),v=e("./_task").set,b=e("./_microtask")(),y=e("./_new-promise-capability"),w=e("./_perform"),x=e("./_user-agent"),C=e("./_promise-resolve"),_=s.TypeError,S=s.process,k=S&&S.versions,T=k&&k.v8||"",E=s.Promise,O="process"==l(S),N=function(){},A=o=y.f,D=!!function(){try{var t=E.resolve(1),n=(t.constructor={})[e("./_wks")("species")]=function(e){e(N,N)};return(O||"function"==typeof PromiseRejectionEvent)&&t.then(N)instanceof n&&0!==T.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(e){}}(),M=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},I=function(e,t){if(!e._n){e._n=!0;var n=e._c;b(function(){for(var r=e._v,o=1==e._s,i=0;n.length>i;)!function(t){var n,i,a,u=o?t.ok:t.fail,s=t.resolve,c=t.reject,l=t.domain;try{u?(o||(2==e._h&&L(e),e._h=1),!0===u?n=r:(l&&l.enter(),n=u(r),l&&(l.exit(),a=!0)),n===t.promise?c(_("Promise-chain cycle")):(i=M(n))?i.call(n,s,c):s(n)):c(r)}catch(e){l&&!a&&l.exit(),c(e)}}(n[i++]);e._c=[],e._n=!1,t&&!e._h&&R(e)})}},R=function(e){v.call(s,function(){var t,n,r,o=e._v,i=P(e);if(i&&(t=w(function(){O?S.emit("unhandledRejection",o,e):(n=s.onunhandledrejection)?n({promise:e,reason:o}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=O||P(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},P=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(e){v.call(s,function(){var t;O?S.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},j=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),I(t,!0))},B=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw _("Promise can't be resolved itself");(t=M(e))?b(function(){var r={_w:n,_d:!1};try{t.call(e,c(B,r,1),c(j,r,1))}catch(e){j.call(r,e)}}):(n._v=e,n._s=1,I(n,!1))}catch(e){j.call({_w:n,_d:!1},e)}}};D||(E=function(e){m(this,E,"Promise","_h"),p(e),r.call(this);try{e(c(B,this,1),c(j,this,1))}catch(e){j.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=e("./_redefine-all")(E.prototype,{then:function(e,t){var n=A(g(this,E));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=O?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=c(B,e,1),this.reject=c(j,e,1)},y.f=A=function(e){return e===E||e===a?new i(e):o(e)}),f(f.G+f.W+f.F*!D,{Promise:E}),e("./_set-to-string-tag")(E,"Promise"),e("./_set-species")("Promise"),a=e("./_core").Promise,f(f.S+f.F*!D,"Promise",{reject:function(e){var t=A(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(u||!D),"Promise",{resolve:function(e){return C(u&&this===a?E:this,e)}}),f(f.S+f.F*!(D&&e("./_iter-detect")(function(e){E.all(e).catch(N)})),"Promise",{all:function(e){var t=this,n=A(t),r=n.resolve,o=n.reject,i=w(function(){var n=[],i=0,a=1;h(e,!1,function(e){var u=i++,s=!1;n.push(void 0),a++,t.resolve(e).then(function(e){s||(s=!0,n[u]=e,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=A(t),r=n.reject,o=w(function(){h(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},{"./_a-function":92,"./_an-instance":94,"./_classof":97,"./_core":99,"./_ctx":101,"./_export":107,"./_for-of":109,"./_global":110,"./_is-object":119,"./_iter-detect":123,"./_library":126,"./_microtask":128,"./_new-promise-capability":129,"./_perform":144,"./_promise-resolve":145,"./_redefine-all":147,"./_set-species":149,"./_set-to-string-tag":150,"./_species-constructor":153,"./_task":155,"./_user-agent":163,"./_wks":166}],179:[function(e,t,n){var r=e("./_export"),o=e("./_to-absolute-index"),i=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},{"./_export":107,"./_to-absolute-index":156}],180:[function(e,t,n){"use strict";var r=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":122,"./_string-at":154}],181:[function(e,t,n){"use strict";var r=e("./_global"),o=e("./_has"),i=e("./_descriptors"),a=e("./_export"),u=e("./_redefine"),s=e("./_meta").KEY,c=e("./_fails"),l=e("./_shared"),f=e("./_set-to-string-tag"),d=e("./_uid"),p=e("./_wks"),m=e("./_wks-ext"),h=e("./_wks-define"),g=e("./_enum-keys"),v=e("./_is-array"),b=e("./_an-object"),y=e("./_is-object"),w=e("./_to-object"),x=e("./_to-iobject"),C=e("./_to-primitive"),_=e("./_property-desc"),S=e("./_object-create"),k=e("./_object-gopn-ext"),T=e("./_object-gopd"),E=e("./_object-gops"),O=e("./_object-dp"),N=e("./_object-keys"),A=T.f,D=O.f,M=k.f,I=r.Symbol,R=r.JSON,P=R&&R.stringify,L=p("_hidden"),j=p("toPrimitive"),B={}.propertyIsEnumerable,z=l("symbol-registry"),F=l("symbols"),H=l("op-symbols"),U=Object.prototype,V="function"==typeof I&&!!E.f,q=r.QObject,W=!q||!q.prototype||!q.prototype.findChild,$=i&&c(function(){return 7!=S(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=A(U,t);r&&delete U[t],D(e,t,n),r&&e!==U&&D(U,t,r)}:D,G=function(e){var t=F[e]=S(I.prototype);return t._k=e,t},X=V&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},K=function(e,t,n){return e===U&&K(H,t,n),b(e),t=C(t,!0),b(n),o(F,t)?(n.enumerable?(o(e,L)&&e[L][t]&&(e[L][t]=!1),n=S(n,{enumerable:_(0,!1)})):(o(e,L)||D(e,L,_(1,{})),e[L][t]=!0),$(e,t,n)):D(e,t,n)},Y=function(e,t){b(e);for(var n,r=g(t=x(t)),o=0,i=r.length;i>o;)K(e,n=r[o++],t[n]);return e},J=function(e,t){return void 0===t?S(e):Y(S(e),t)},Q=function(e){var t=B.call(this,e=C(e,!0));return!(this===U&&o(F,e)&&!o(H,e))&&(!(t||!o(this,e)||!o(F,e)||o(this,L)&&this[L][e])||t)},Z=function(e,t){if(e=x(e),t=C(t,!0),e!==U||!o(F,t)||o(H,t)){var n=A(e,t);return!n||!o(F,t)||o(e,L)&&e[L][t]||(n.enumerable=!0),n}},ee=function(e){for(var t,n=M(x(e)),r=[],i=0;n.length>i;)o(F,t=n[i++])||t==L||t==s||r.push(t);return r},te=function(e){for(var t,n=e===U,r=M(n?H:x(e)),i=[],a=0;r.length>a;)!o(F,t=r[a++])||n&&!o(U,t)||i.push(F[t]);return i};V||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===U&&t.call(H,n),o(this,L)&&o(this[L],e)&&(this[L][e]=!1),$(this,e,_(1,n))};return i&&W&&$(U,e,{configurable:!0,set:t}),G(e)},u(I.prototype,"toString",function(){return this._k}),T.f=Z,O.f=K,e("./_object-gopn").f=k.f=ee,e("./_object-pie").f=Q,E.f=te,i&&!e("./_library")&&u(U,"propertyIsEnumerable",Q,!0),m.f=function(e){return G(p(e))}),a(a.G+a.W+a.F*!V,{Symbol:I});for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;ne.length>re;)p(ne[re++]);for(var oe=N(p.store),ie=0;oe.length>ie;)h(oe[ie++]);a(a.S+a.F*!V,"Symbol",{for:function(e){return o(z,e+="")?z[e]:z[e]=I(e)},keyFor:function(e){if(!X(e))throw TypeError(e+" is not a symbol!");for(var t in z)if(z[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!V,"Object",{create:J,defineProperty:K,defineProperties:Y,getOwnPropertyDescriptor:Z,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var ae=c(function(){E.f(1)});a(a.S+a.F*ae,"Object",{getOwnPropertySymbols:function(e){return E.f(w(e))}}),R&&a(a.S+a.F*(!V||c(function(){var e=I();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(y(t)||void 0!==e)&&!X(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!X(t))return t}),r[1]=t,P.apply(R,r)}}),I.prototype[j]||e("./_hide")(I.prototype,j,I.prototype.valueOf),f(I,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},{"./_an-object":95,"./_descriptors":103,"./_enum-keys":106,"./_export":107,"./_fails":108,"./_global":110,"./_has":111,"./_hide":112,"./_is-array":118,"./_is-object":119,"./_library":126,"./_meta":127,"./_object-create":131,"./_object-dp":132,"./_object-gopd":134,"./_object-gopn":136,"./_object-gopn-ext":135,"./_object-gops":137,"./_object-keys":140,"./_object-pie":141,"./_property-desc":146,"./_redefine":148,"./_set-to-string-tag":150,"./_shared":152,"./_to-iobject":158,"./_to-object":160,"./_to-primitive":161,"./_uid":162,"./_wks":166,"./_wks-define":164,"./_wks-ext":165}],182:[function(e,t,n){var r=e("./_export"),o=e("./_object-to-array")(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},{"./_export":107,"./_object-to-array":143}],183:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_core"),i=e("./_global"),a=e("./_species-constructor"),u=e("./_promise-resolve");r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,o.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return u(t,e()).then(function(){return n})}:e,n?function(n){return u(t,e()).then(function(){throw n})}:e)}})},{"./_core":99,"./_export":107,"./_global":110,"./_promise-resolve":145,"./_species-constructor":153}],184:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_new-promise-capability"),i=e("./_perform");r(r.S,"Promise",{try:function(e){var t=o.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},{"./_export":107,"./_new-promise-capability":129,"./_perform":144}],185:[function(e,t,n){e("./_wks-define")("asyncIterator")},{"./_wks-define":164}],186:[function(e,t,n){e("./_wks-define")("observable")},{"./_wks-define":164}],187:[function(e,t,n){e("./es6.array.iterator");for(var r=e("./_global"),o=e("./_hide"),i=e("./_iterators"),a=e("./_wks")("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<u.length;s++){var c=u[s],l=r[c],f=l&&l.prototype;f&&!f[a]&&o(f,a,c),i[c]=i.Array}},{"./_global":110,"./_hide":112,"./_iterators":125,"./_wks":166,"./es6.array.iterator":169}],188:[function(e,t,n){var r=e("./_export"),o=e("./_task");r(r.G+r.B,{setImmediate:o.set,clearImmediate:o.clear})},{"./_export":107,"./_task":155}],189:[function(e,t,n){(function(t){"use strict";function r(e){return Array.isArray?Array.isArray(e):"[object Array]"===v(e)}function o(e){return"boolean"==typeof e}function i(e){return null===e}function a(e){return null==e}function u(e){return"number"==typeof e}function s(e){return"string"==typeof e}function c(e){return"symbol"===(void 0===e?"undefined":(0,y.default)(e))}function l(e){return void 0===e}function f(e){return"[object RegExp]"===v(e)}function d(e){return"object"===(void 0===e?"undefined":(0,y.default)(e))&&null!==e}function p(e){return"[object Date]"===v(e)}function m(e){return"[object Error]"===v(e)||e instanceof Error}function h(e){return"function"==typeof e}function g(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===(void 0===e?"undefined":(0,y.default)(e))||void 0===e}function v(e){return Object.prototype.toString.call(e)}var b=e("babel-runtime/helpers/typeof"),y=function(e){return e&&e.__esModule?e:{default:e}}(b);n.isArray=r,n.isBoolean=o,n.isNull=i,n.isNullOrUndefined=a,n.isNumber=u,n.isString=s,n.isSymbol=c,n.isUndefined=l,n.isRegExp=f,n.isObject=d,n.isDate=p,n.isError=m,n.isFunction=h,n.isPrimitive=g,n.isBuffer=t.isBuffer}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":197,"babel-runtime/helpers/typeof":67}],190:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/typeof"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);!function(e){function r(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function i(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);var o=(t-n)/6048e5;return 1+Math.floor(o)}function a(e){var t=e.getDay();return 0===t&&(t=7),t}function u(e){return null===e?"null":void 0===e?"undefined":"object"!==(void 0===e?"undefined":(0,o.default)(e))?void 0===e?"undefined":(0,o.default)(e):Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}var s=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g;return function(o,c,l,f){if(1!==arguments.length||"string"!==u(o)||/\d/.test(o)||(c=o,o=void 0),o=o||new Date,o instanceof Date||(o=new Date(o)),isNaN(o))throw TypeError("Invalid date");c=String(s.masks[c]||c||s.masks.default);var d=c.slice(0,4);"UTC:"!==d&&"GMT:"!==d||(c=c.slice(4),l=!0,"GMT:"===d&&(f=!0));var p=l?"getUTC":"get",m=o[p+"Date"](),h=o[p+"Day"](),g=o[p+"Month"](),v=o[p+"FullYear"](),b=o[p+"Hours"](),y=o[p+"Minutes"](),w=o[p+"Seconds"](),x=o[p+"Milliseconds"](),C=l?0:o.getTimezoneOffset(),_=i(o),S=a(o),k={d:m,dd:r(m),ddd:s.i18n.dayNames[h],dddd:s.i18n.dayNames[h+7],m:g+1,mm:r(g+1),mmm:s.i18n.monthNames[g],mmmm:s.i18n.monthNames[g+12],yy:String(v).slice(2),yyyy:v,h:b%12||12,hh:r(b%12||12),H:b,HH:r(b),M:y,MM:r(y),s:w,ss:r(w),l:r(x,3),L:r(Math.round(x/10)),t:b<12?"a":"p",tt:b<12?"am":"pm",T:b<12?"A":"P",TT:b<12?"AM":"PM",Z:f?"GMT":l?"UTC":(String(o).match(t)||[""]).pop().replace(n,""),o:(C>0?"-":"+")+r(100*Math.floor(Math.abs(C)/60)+Math.abs(C)%60,4),S:["th","st","nd","rd"][m%10>3?0:(m%100-m%10!=10)*m%10],W:_,N:S};return c.replace(e,function(e){return e in k?k[e]:e.slice(1,e.length-1)})}}();s.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},s.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},"function"==typeof define&&define.amd?define(function(){return s}):"object"===(void 0===n?"undefined":(0,o.default)(n))?t.exports=s:e.dateFormat=s}(void 0)},{"babel-runtime/helpers/typeof":67}],191:[function(e,t,n){/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */
"use strict";function r(e){var t=""+e,n=o.exec(t);if(!n)return t;var r,i="",a=0,u=0;for(a=n.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}u!==a&&(i+=t.substring(u,a)),u=a+1,i+=r}return u!==a?i+t.substring(u,a):i}var o=/["'&<>]/;t.exports=r},{}],192:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function i(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function u(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,i,s,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],u(n))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(a(n))for(i=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,s=0;s<r;s++)c[s].apply(this,i);return!0},r.prototype.addListener=function(e,t){var n;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(n=u(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,i,u;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||o(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(u=i;u-- >0;)if(n[u]===t||n[u].listener&&n[u].listener===t){r=u;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],o(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],193:[function(e,t,n){var r=e("http"),o=t.exports;for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i]);o.request=function(e,t){return e||(e={}),e.scheme="https",e.protocol="https:",r.request.call(this,e,t)}},{http:231}],194:[function(e,t,n){/*!
 * humanize-ms - index.js
 * Copyright(c) 2014 dead_horse <dead_horse@qq.com>
 * MIT Licensed
 */
"use strict";var r=e("util"),o=e("ms");t.exports=function(e){if("number"==typeof e)return e;var t=o(e);if(void 0===t){var n=new Error(r.format("humanize-ms(%j) result undefined",e));console.warn(n.stack)}return t}},{ms:204,util:243}],195:[function(e,t,n){n.read=function(e,t,n,r,o){var i,a,u=8*o-r-1,s=(1<<u)-1,c=s>>1,l=-7,f=n?o-1:0,d=n?-1:1,p=e[t+f];for(f+=d,i=p&(1<<-l)-1,p>>=-l,l+=u;l>0;i=256*i+e[t+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===i)i=1-c;else{if(i===s)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=c}return(p?-1:1)*a*Math.pow(2,i-r)},n.write=function(e,t,n,r,o,i){var a,u,s,c=8*i-o-1,l=(1<<c)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,m=r?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),t+=a+f>=1?d/s:d*Math.pow(2,1-f),t*s>=2&&(a++,s/=2),a+f>=l?(u=0,a=l):a+f>=1?(u=(t*s-1)*Math.pow(2,o),a+=f):(u=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&u,p+=m,u/=256,o-=8);for(a=a<<o|u,c+=o;c>0;e[n+p]=255&a,p+=m,a/=256,c-=8);e[n+p-m]|=128*h}},{}],196:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},{}],197:[function(e,t,n){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function o(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(e){return null!=e&&(r(e)||o(e)||!!e._isBuffer)}},{}],198:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],199:[function(require,module,exports){(function(global){!function(e,t){"object"==typeof exports&&void 0!==module?module.exports=t(e):"function"==typeof define&&define.amd?define(t):t(e)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:this,function(global){"use strict";global=global||{};var _Base64=global.Base64,version="2.5.2",buffer;if(void 0!==module&&module.exports)try{buffer=eval("require('buffer').Buffer")}catch(e){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)}var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[b64chars.charAt(n>>>18),b64chars.charAt(n>>>12&63),t>=2?"=":b64chars.charAt(n>>>6&63),t>=1?"=":b64chars.charAt(63&n)].join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)?e.toString("base64"):btoa(utob(String(e)))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):_encode(e)},encodeURI=function(e){return encode(e,!0)},re_btou=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,cb_btou=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return fromCharCode(55296+(n>>>10))+fromCharCode(56320+(1023&n));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,n=t%4,r=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),o=[fromCharCode(r>>>16),fromCharCode(r>>>8&255),fromCharCode(255&r)];return o.length-=[0,0,2,1][n],o.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,"toBase64",noEnum(function(e){return encode(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,!0)}))}}return global.Meteor&&(Base64=global.Base64),void 0!==module&&module.exports?module.exports.Base64=global.Base64:"function"==typeof define&&define.amd&&define([],function(){return global.Base64}),{Base64:global.Base64}})}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],200:[function(e,t,n){/*!
 * merge-descriptors
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */
"use strict";function r(e,t,n){if(!e)throw new TypeError("argument dest is required");if(!t)throw new TypeError("argument src is required");return void 0===n&&(n=!0),Object.getOwnPropertyNames(t).forEach(function(r){if(n||!o.call(e,r)){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,i)}}),e}t.exports=r;var o=Object.prototype.hasOwnProperty},{}],201:[function(e,t,n){"use strict";function r(){this._types=Object.create(null),this._extensions=Object.create(null);for(var e=0;e<arguments.length;e++)this.define(arguments[e]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}r.prototype.define=function(e,t){for(var n in e){var r=e[n].map(function(e){return e.toLowerCase()});n=n.toLowerCase();for(var o=0;o<r.length;o++){var i=r[o];if("*"!=i[0]){if(!t&&i in this._types)throw new Error('Attempt to change mapping for "'+i+'" extension from "'+this._types[i]+'" to "'+n+'". Pass `force=true` to allow this, otherwise remove "'+i+'" from the list of extensions for "'+n+'".');this._types[i]=n}}if(t||!this._extensions[n]){var i=r[0];this._extensions[n]="*"!=i[0]?i:i.substr(1)}}},r.prototype.getType=function(e){e=String(e);var t=e.replace(/^.*[\/\\]/,"").toLowerCase(),n=t.replace(/^.*\./,"").toLowerCase(),r=t.length<e.length;return(n.length<t.length-1||!r)&&this._types[n]||null},r.prototype.getExtension=function(e){return(e=/^\s*([^;\s]*)/.test(e)&&RegExp.$1)&&this._extensions[e.toLowerCase()]||null},t.exports=r},{}],202:[function(e,t,n){"use strict";var r=e("./Mime");t.exports=new r(e("./types/standard"))},{"./Mime":201,"./types/standard":203}],203:[function(e,t,n){t.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma","es"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/mrb-consumer+xml":["*xdf"],"application/mrb-publish+xml":["*xdf"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["*xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/ttml+xml":["ttml"],"application/urc-ressheet+xml":["rsheet"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-error+xml":["xer"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}},{}],204:[function(e,t,n){function r(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*d;case"weeks":case"week":case"w":return n*f;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function o(e){var t=Math.abs(e);return t>=l?Math.round(e/l)+"d":t>=c?Math.round(e/c)+"h":t>=s?Math.round(e/s)+"m":t>=u?Math.round(e/u)+"s":e+"ms"}function i(e){var t=Math.abs(e);return t>=l?a(e,t,l,"day"):t>=c?a(e,t,c,"hour"):t>=s?a(e,t,s,"minute"):t>=u?a(e,t,u,"second"):e+" ms"}function a(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}var u=1e3,s=60*u,c=60*s,l=24*c,f=7*l,d=365.25*l;t.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return r(e);if("number"===n&&isFinite(e))return t.long?i(e):o(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],205:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,o=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!o){n=t+1;break}}else-1===r&&(o=!1,r=t+1);return-1===r?"":e.slice(n,r)}function o(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}n.resolve=function(){for(var n="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,r="/"===a.charAt(0))}return n=t(o(n.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+n||"."},n.normalize=function(e){var r=n.isAbsolute(e),a="/"===i(e,-1);return e=t(o(e.split("/"),function(e){return!!e}),!r).join("/"),e||r||(e="."),e&&a&&(e+="/"),(r?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(o(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var o=r(e.split("/")),i=r(t.split("/")),a=Math.min(o.length,i.length),u=a,s=0;s<a;s++)if(o[s]!==i[s]){u=s;break}for(var c=[],s=u;s<o.length;s++)c.push("..");return c=c.concat(i.slice(u)),c.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,o=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!o){r=i;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},n.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,o=!0,i=0,a=e.length-1;a>=0;--a){var u=e.charCodeAt(a);if(47!==u)-1===r&&(o=!1,r=a+1),46===u?-1===t?t=a:1!==i&&(i=1):-1!==t&&(i=-1);else if(!o){n=a+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:208}],206:[function(e,t,n){(function(e){(function(){"use strict";function r(e){return e=String(e),e.charAt(0).toUpperCase()+e.slice(1)}function o(e,t,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=a(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}function i(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=y)for(;++n<r;)t(e[n],n,e);else u(e,t)}function a(e){return e=d(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:r(e)}function u(e,t){for(var n in e)C.call(e,n)&&t(e[n],n,e)}function s(e){return null==e?r(e):_.call(e).slice(8,-1)}function c(e,t){var n=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!e[t])}function l(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function f(e,t){var n=null;return i(e,function(r,o){n=t(n,r,o,e)}),n}function d(e){return String(e).replace(/^ +| +$/g,"")}function p(e){function t(t){return f(t,function(t,n){var r=n.pattern||l(n);return!t&&(t=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(e)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),n=n.label||n,t=a(t[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),t})}function n(){return this.description||""}var r=h,i=e&&"object"==typeof e&&"String"!=s(e);i&&(r=e,e=null);var m=r.navigator||{},g=m.userAgent||"";e||(e=g);var v,b,y=i?!!m.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(_.toString()),x=i?"Object":"ScriptBridgingProxyObject",C=i?"Object":"Environment",S=i&&r.java?"JavaPackage":s(r.java),k=i?"Object":"RuntimeObject",T=/\bJava/.test(S)&&r.java,E=T&&s(r.environment)==C,O=T?"a":"α",N=T?"b":"β",A=r.document||{},D=r.operamini||r.opera,M=w.test(M=i&&D?D["[[Class]]"]:s(D))?M:D=null,I=e,R=[],P=null,L=e==g,j=L&&D&&"function"==typeof D.version&&D.version(),B=function(t){return f(t,function(t,n){return t||RegExp("\\b"+(n.pattern||l(n))+"\\b","i").exec(e)&&(n.label||n)})}([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),z=function(t){return f(t,function(t,n){return t||RegExp("\\b"+(n.pattern||l(n))+"\\b","i").exec(e)&&(n.label||n)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),F=t([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),H=function(t){return f(t,function(t,n,r){return t||(n[F]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(F)]||RegExp("\\b"+l(r)+"(?:\\b|\\w*\\d)","i").exec(e))&&r})}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),U=function(t){return f(t,function(t,n){var r=n.pattern||l(n);return!t&&(t=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=o(t,r,n.label||n)),t})}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(B&&(B=[B]),H&&!F&&(F=t([H])),(v=/\bGoogle TV\b/.exec(F))&&(F=v[0]),/\bSimulator\b/i.test(e)&&(F=(F?F+" ":"")+"Simulator"),"Opera Mini"==z&&/\bOPiOS\b/.test(e)&&R.push("running in Turbo/Uncompressed mode"),"IE"==z&&/\blike iPhone OS\b/.test(e)?(v=p(e.replace(/like iPhone OS/,"")),H=v.manufacturer,F=v.product):/^iP/.test(F)?(z||(z="Safari"),U="iOS"+((v=/ OS ([\d_]+)/i.exec(e))?" "+v[1].replace(/_/g,"."):"")):"Konqueror"!=z||/buntu/i.test(U)?H&&"Google"!=H&&(/Chrome/.test(z)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(F))||/\bAndroid\b/.test(U)&&/^Chrome/.test(z)&&/\bVersion\//i.test(e)?(z="Android Browser",U=/\bAndroid\b/.test(U)?U:"Android"):"Silk"==z?(/\bMobi/i.test(e)||(U="Android",R.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&R.unshift("accelerated")):"PaleMoon"==z&&(v=/\bFirefox\/([\d.]+)\b/.exec(e))?R.push("identifying as Firefox "+v[1]):"Firefox"==z&&(v=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(U||(U="Firefox OS"),F||(F=v[1])):!z||(v=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(z))?(z&&!F&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(v+"/")+8))&&(z=null),(v=F||H||U)&&(F||H||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(U))&&(z=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(U)?U:v)+" Browser")):"Electron"==z&&(v=(/\bChrome\/([\d.]+)\b/.exec(e)||0)[1])&&R.push("Chromium "+v):U="Kubuntu",j||(j=function(t){return f(t,function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})}(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",l(z),"(?:Firefox|Minefield|NetFront)"])),(v="iCab"==B&&parseFloat(j)>3&&"WebKit"||/\bOpera\b/.test(z)&&(/\bOPR\b/.test(e)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(B)&&"WebKit"||!B&&/\bMSIE\b/i.test(e)&&("Mac OS"==U?"Tasman":"Trident")||"WebKit"==B&&/\bPlayStation\b(?! Vita\b)/i.test(z)&&"NetFront")&&(B=[v]),"IE"==z&&(v=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(z+=" Mobile",U="Windows Phone "+(/\+$/.test(v)?v:v+".x"),R.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(z="IE Mobile",U="Windows Phone 8.x",R.unshift("desktop mode"),j||(j=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=z&&"Trident"==B&&(v=/\brv:([\d.]+)/.exec(e))&&(z&&R.push("identifying as "+z+(j?" "+j:"")),z="IE",j=v[1]),L){if(c(r,"global"))if(T&&(v=T.lang.System,I=v.getProperty("os.arch"),U=U||v.getProperty("os.name")+" "+v.getProperty("os.version")),E){try{j=r.require("ringo/engine").version.join("."),z="RingoJS"}catch(e){(v=r.system)&&v.global.system==r.system&&(z="Narwhal",U||(U=v[0].os||null))}z||(z="Rhino")}else"object"==typeof r.process&&!r.process.browser&&(v=r.process)&&("object"==typeof v.versions&&("string"==typeof v.versions.electron?(R.push("Node "+v.versions.node),z="Electron",j=v.versions.electron):"string"==typeof v.versions.nw&&(R.push("Chromium "+j,"Node "+v.versions.node),z="NW.js",j=v.versions.nw)),z||(z="Node.js",I=v.arch,U=v.platform,j=/[\d.]+/.exec(v.version),j=j?j[0]:null));else s(v=r.runtime)==x?(z="Adobe AIR",U=v.flash.system.Capabilities.os):s(v=r.phantom)==k?(z="PhantomJS",j=(v=v.version||null)&&v.major+"."+v.minor+"."+v.patch):"number"==typeof A.documentMode&&(v=/\bTrident\/(\d+)/i.exec(e))?(j=[j,A.documentMode],(v=+v[1]+4)!=j[1]&&(R.push("IE "+j[1]+" mode"),B&&(B[1]=""),j[1]=v),j="IE"==z?String(j[1].toFixed(1)):j[0]):"number"==typeof A.documentMode&&/^(?:Chrome|Firefox)\b/.test(z)&&(R.push("masking as "+z+" "+j),z="IE",j="11.0",B=["Trident"],U="Windows");U=U&&a(U)}if(j&&(v=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(j)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(L&&m.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(P=/b/i.test(v)?"beta":"alpha",j=j.replace(RegExp(v+"\\+?$"),"")+("beta"==P?N:O)+(/\d+\+?/.exec(v)||"")),"Fennec"==z||"Firefox"==z&&/\b(?:Android|Firefox OS)\b/.test(U))z="Firefox Mobile";else if("Maxthon"==z&&j)j=j.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(F))"Xbox 360"==F&&(U=null),"Xbox 360"==F&&/\bIEMobile\b/.test(e)&&R.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(z)&&(!z||F||/Browser|Mobi/.test(z))||"Windows CE"!=U&&!/Mobi/i.test(e))if("IE"==z&&L)try{null===r.external&&R.unshift("platform preview")}catch(e){R.unshift("embedded")}else(/\bBlackBerry\b/.test(F)||/\bBB10\b/.test(e))&&(v=(RegExp(F.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||j)?(v=[v,/BB10/.test(e)],U=(v[1]?(F=null,H="BlackBerry"):"Device Software")+" "+v[0],j=null):this!=u&&"Wii"!=F&&(L&&D||/Opera/.test(z)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==z&&/\bOS X (?:\d+\.){2,}/.test(U)||"IE"==z&&(U&&!/^Win/.test(U)&&j>5.5||/\bWindows XP\b/.test(U)&&j>8||8==j&&!/\bTrident\b/.test(e)))&&!w.test(v=p.call(u,e.replace(w,"")+";"))&&v.name&&(v="ing as "+v.name+((v=v.version)?" "+v:""),w.test(z)?(/\bIE\b/.test(v)&&"Mac OS"==U&&(U=null),v="identify"+v):(v="mask"+v,z=M?a(M.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(v)&&(U=null),L||(j=null)),B=["Presto"],R.push(v));else z+=" Mobile";(v=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(v=[parseFloat(v.replace(/\.(\d)$/,".0$1")),v],"Safari"==z&&"+"==v[1].slice(-1)?(z="WebKit Nightly",P="alpha",j=v[1].slice(0,-1)):j!=v[1]&&j!=(v[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(j=null),v[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==v[0]&&537.36==v[2]&&parseFloat(v[1])>=28&&"WebKit"==B&&(B=["Blink"]),L&&(y||v[1])?(B&&(B[1]="like Chrome"),v=v[1]||(v=v[0],v<530?1:v<532?2:v<532.05?3:v<533?4:v<534.03?5:v<534.07?6:v<534.1?7:v<534.13?8:v<534.16?9:v<534.24?10:v<534.3?11:v<535.01?12:v<535.02?"13+":v<535.07?15:v<535.11?16:v<535.19?17:v<536.05?18:v<536.1?19:v<537.01?20:v<537.11?"21+":v<537.13?23:v<537.18?24:v<537.24?25:v<537.36?26:"Blink"!=B?"27":"28")):(B&&(B[1]="like Safari"),v=v[0],v=v<400?1:v<500?2:v<526?3:v<533?4:v<534?"4+":v<535?5:v<537?6:v<538?7:v<601?8:"8"),B&&(B[1]+=" "+(v+="number"==typeof v?".x":/[.+]/.test(v)?"":"+")),"Safari"==z&&(!j||parseInt(j)>45)&&(j=v)),"Opera"==z&&(v=/\bzbov|zvav$/.exec(U))?(z+=" ",R.unshift("desktop mode"),"zvav"==v?(z+="Mini",j=null):z+="Mobile",U=U.replace(RegExp(" *"+v+"$"),"")):"Safari"==z&&/\bChrome\b/.exec(B&&B[1])&&(R.unshift("desktop mode"),z="Chrome Mobile",j=null,/\bOS X\b/.test(U)?(H="Apple",U="iOS 4.3+"):U=null),j&&0==j.indexOf(v=/[\d.]+$/.exec(U))&&e.indexOf("/"+v+"-")>-1&&(U=d(U.replace(v,""))),B&&!/\b(?:Avant|Nook)\b/.test(z)&&(/Browser|Lunascape|Maxthon/.test(z)||"Safari"!=z&&/^iOS/.test(U)&&/\bSafari\b/.test(B[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(z)&&B[1])&&(v=B[B.length-1])&&R.push(v),R.length&&(R=["("+R.join("; ")+")"]),H&&F&&F.indexOf(H)<0&&R.push("on "+H),F&&R.push((/^on /.test(R[R.length-1])?"":"on ")+F),U&&(v=/ ([\d.+]+)$/.exec(U),b=v&&"/"==U.charAt(U.length-v[0].length-1),U={architecture:32,family:v&&!b?U.replace(v[0],""):U,version:v?v[1]:null,toString:function(){var e=this.version;return this.family+(e&&!b?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(v=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(I))&&!/\bi686\b/i.test(I)?(U&&(U.architecture=64,U.family=U.family.replace(RegExp(" *"+v),"")),z&&(/\bWOW64\b/i.test(e)||L&&/\w(?:86|32)$/.test(m.cpuClass||m.platform)&&!/\bWin64; x64\b/i.test(e))&&R.unshift("32-bit")):U&&/^OS X/.test(U.family)&&"Chrome"==z&&parseFloat(j)>=39&&(U.architecture=64),e||(e=null);var V={};return V.description=e,V.layout=B&&B[0],V.manufacturer=H,V.name=z,V.prerelease=P,V.product=F,V.ua=e,V.version=z&&j,V.os=U||{architecture:null,family:null,version:null,toString:function(){return"null"}},V.parse=p,V.toString=n,V.version&&R.unshift(j),V.name&&R.unshift(z),U&&z&&(U!=String(U).split(" ")[0]||U!=z.split(" ")[0]&&!F)&&R.push(F?"("+U+")":"on "+U),R.length&&(V.description=R.join(" ")),V}var m={function:!0,object:!0},h=m[typeof window]&&window||this,g=m[typeof n]&&n,v=m[typeof t]&&t&&!t.nodeType&&t,b=g&&v&&"object"==typeof e&&e;!b||b.global!==b&&b.window!==b&&b.self!==b||(h=b);var y=Math.pow(2,53)-1,w=/\bOpera/,x=Object.prototype,C=x.hasOwnProperty,_=x.toString,S=p();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(h.platform=S,define(function(){return S})):g&&v?u(S,function(e,t){g[t]=e}):h.platform=S}).call(this)}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],207:[function(e,t,n){(function(e){"use strict";function n(t,n,r,o){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var i,a,u=arguments.length;switch(u){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,o)});default:for(i=new Array(u-1),a=0;a<i.length;)i[a++]=arguments[a];return e.nextTick(function(){t.apply(null,i)})}}void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:n}:t.exports=e}).call(this,e("_process"))},{_process:208}],208:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function u(){g&&m&&(g=!1,m.length?h=m.concat(h):v=-1,h.length&&s())}function s(){if(!g){var e=i(u);g=!0;for(var t=h.length;t;){for(m=h,h=[];++v<t;)m&&m[v].run();v=-1,t=h.length}m=null,g=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var f,d,p=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(e){d=o}}();var m,h=[],g=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new c(e,t)),1!==h.length||g||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],209:[function(e,t,n){(function(e){!function(r){function o(e){throw new RangeError(I[e])}function i(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function a(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(M,"."),r+i(e.split("."),t).join(".")}function u(e){for(var t,n,r=[],o=0,i=e.length;o<i;)t=e.charCodeAt(o++),t>=55296&&t<=56319&&o<i?(n=e.charCodeAt(o++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--)):r.push(t);return r}function s(e){return i(e,function(e){var t="";return e>65535&&(e-=65536,t+=L(e>>>10&1023|55296),e=56320|1023&e),t+=L(e)}).join("")}function c(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:C}function l(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function f(e,t,n){var r=0;for(e=n?P(e/T):e>>1,e+=P(e/t);e>R*S>>1;r+=C)e=P(e/R);return P(r+(R+1)*e/(e+k))}function d(e){var t,n,r,i,a,u,l,d,p,m,h=[],g=e.length,v=0,b=O,y=E;for(n=e.lastIndexOf(N),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&o("not-basic"),h.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(a=v,u=1,l=C;i>=g&&o("invalid-input"),d=c(e.charCodeAt(i++)),(d>=C||d>P((x-v)/u))&&o("overflow"),v+=d*u,p=l<=y?_:l>=y+S?S:l-y,!(d<p);l+=C)m=C-p,u>P(x/m)&&o("overflow"),u*=m;t=h.length+1,y=f(v-a,t,0==a),P(v/t)>x-b&&o("overflow"),b+=P(v/t),v%=t,h.splice(v++,0,b)}return s(h)}function p(e){var t,n,r,i,a,s,c,d,p,m,h,g,v,b,y,w=[];for(e=u(e),g=e.length,t=O,n=0,a=E,s=0;s<g;++s)(h=e[s])<128&&w.push(L(h));for(r=i=w.length,i&&w.push(N);r<g;){for(c=x,s=0;s<g;++s)(h=e[s])>=t&&h<c&&(c=h);for(v=r+1,c-t>P((x-n)/v)&&o("overflow"),n+=(c-t)*v,t=c,s=0;s<g;++s)if(h=e[s],h<t&&++n>x&&o("overflow"),h==t){for(d=n,p=C;m=p<=a?_:p>=a+S?S:p-a,!(d<m);p+=C)y=d-m,b=C-m,w.push(L(l(m+y%b,0))),d=P(y/b);w.push(L(l(d,0))),a=f(n,v,r==i),n=0,++r}++n,++t}return w.join("")}function m(e){return a(e,function(e){return A.test(e)?d(e.slice(4).toLowerCase()):e})}function h(e){return a(e,function(e){return D.test(e)?"xn--"+p(e):e})}var g="object"==typeof n&&n&&!n.nodeType&&n,v="object"==typeof t&&t&&!t.nodeType&&t,b="object"==typeof e&&e;b.global!==b&&b.window!==b&&b.self!==b||(r=b);var y,w,x=2147483647,C=36,_=1,S=26,k=38,T=700,E=72,O=128,N="-",A=/^xn--/,D=/[^\x20-\x7E]/,M=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=C-_,P=Math.floor,L=String.fromCharCode;if(y={version:"1.4.1",ucs2:{decode:u,encode:s},decode:d,encode:p,toASCII:h,toUnicode:m},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return y});else if(g&&v)if(t.exports==g)v.exports=y;else for(w in y)y.hasOwnProperty(w)&&(g[w]=y[w]);else r.punycode=y}(this)}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],210:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var u=/\+/g;e=e.split(t);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var l=0;l<c;++l){var f,d,p,m,h=e[l].replace(u,"%20"),g=h.indexOf(n);g>=0?(f=h.substr(0,g),d=h.substr(g+1)):(f=h,d=""),p=decodeURIComponent(f),m=decodeURIComponent(d),r(a,p)?o(a[p])?a[p].push(m):a[p]=[a[p],m]:a[p]=m}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],211:[function(e,t,n){"use strict";function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,u){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?r(a(e),function(a){var u=encodeURIComponent(o(a))+n;return i(e[a])?r(e[a],function(e){return u+encodeURIComponent(o(e))}).join(t):u+encodeURIComponent(o(e[a]))}).join(t):u?encodeURIComponent(o(u))+n+encodeURIComponent(o(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],212:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":210,"./encode":211}],213:[function(e,t,n){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":214}],214:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(!(this instanceof o))return new o(e);m.call(this,e),h.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||f.nextTick(a,this)}function a(e){e.end()}var u=e("babel-runtime/core-js/object/create"),s=r(u),c=e("babel-runtime/core-js/object/keys"),l=r(c),f=e("process-nextick-args"),d=l.default||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=o;var p=(0,s.default)(e("core-util-is"));p.inherits=e("inherits");var m=e("./_stream_readable"),h=e("./_stream_writable");p.inherits(o,m);for(var g=d(h.prototype),v=0;v<g.length;v++){var b=g[v];o.prototype[b]||(o.prototype[b]=h.prototype[b])}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),o.prototype._destroy=function(e,t){this.push(null),this.end(),f.nextTick(t,e)}},{"./_stream_readable":216,"./_stream_writable":218,"babel-runtime/core-js/object/create":55,"babel-runtime/core-js/object/keys":60,"core-util-is":189,inherits:196,"process-nextick-args":207}],215:[function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);a.call(this,e)}var o=e("babel-runtime/core-js/object/create"),i=function(e){return e&&e.__esModule?e:{default:e}}(o);t.exports=r;var a=e("./_stream_transform"),u=(0,i.default)(e("core-util-is"));u.inherits=e("inherits"),u.inherits(r,a),r.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":217,"babel-runtime/core-js/object/create":55,"core-util-is":189,inherits:196}],216:[function(e,t,n){(function(n,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return U.from(e)}function a(e){return U.isBuffer(e)||e instanceof V}function u(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?z(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function s(t,n){B=B||e("./_stream_duplex"),t=t||{};var r=n instanceof B;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var o=t.highWaterMark,i=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(i||0===i)?i:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new X,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(G||(G=e("string_decoder/").StringDecoder),this.decoder=new G(t.encoding),this.encoding=t.encoding)}function c(t){if(B=B||e("./_stream_duplex"),!(this instanceof c))return new c(t);this._readableState=new s(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),H.call(this)}function l(e,t,n,r,o){var a=e._readableState;if(null===t)a.reading=!1,g(e,a);else{var u;o||(u=d(a,t)),u?e.emit("error",u):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||(0,R.default)(t)===U.prototype||(t=i(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):f(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?f(e,a,t,!1):y(e,a)):f(e,a,t,!1))):r||(a.reading=!1)}return p(a)}function f(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&v(e)),y(e,t)}function d(e,t){var n;return a(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function p(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function m(e){return e>=J?e=J:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function h(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=m(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function g(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,v(e)}}function v(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||($("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?j.nextTick(b,e):b(e))}function b(e){$("emit readable"),e.emit("readable"),k(e)}function y(e,t){t.readingMore||(t.readingMore=!0,j.nextTick(w,e,t))}function w(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&($("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function x(e){return function(){var t=e._readableState;$("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&F(e,"data")&&(t.flowing=!0,k(e))}}function C(e){$("readable nexttick read 0"),e.read(0)}function _(e,t){t.resumeScheduled||(t.resumeScheduled=!0,j.nextTick(S,e,t))}function S(e,t){t.reading||($("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),k(e),t.flowing&&!t.reading&&e.read(0)}function k(e){var t=e._readableState;for($("flow",t.flowing);t.flowing&&null!==e.read(););}function T(e,t){if(0===t.length)return null;var n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=E(e,t.buffer,t.decoder),n}function E(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?O(e,t):N(e,t),r}function O(e,t){var n=t.head,r=1,o=n.data;for(e-=o.length;n=n.next;){var i=n.data,a=e>i.length?i.length:e;if(a===i.length?o+=i:o+=i.slice(0,e),0===(e-=a)){a===i.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(a));break}++r}return t.length-=r,o}function N(e,t){var n=U.allocUnsafe(e),r=t.head,o=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var i=r.data,a=e>i.length?i.length:e;if(i.copy(n,n.length-e,0,a),0===(e-=a)){a===i.length?(++o,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(a));break}++o}return t.length-=o,n}function A(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,j.nextTick(D,t,e))}function D(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function M(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}var I=e("babel-runtime/core-js/object/get-prototype-of"),R=o(I),P=e("babel-runtime/core-js/object/create"),L=o(P),j=e("process-nextick-args");t.exports=c;var B,z=e("isarray");c.ReadableState=s;var F=(e("events").EventEmitter,function(e,t){return e.listeners(t).length}),H=e("./internal/streams/stream"),U=e("safe-buffer").Buffer,V=r.Uint8Array||function(){},q=(0,L.default)(e("core-util-is"));q.inherits=e("inherits");var W=e("util"),$=void 0;$=W&&W.debuglog?W.debuglog("stream"):function(){};var G,X=e("./internal/streams/BufferList"),K=e("./internal/streams/destroy");q.inherits(c,H);var Y=["error","close","destroy","pause","resume"];Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),c.prototype.destroy=K.destroy,c.prototype._undestroy=K.undestroy,c.prototype._destroy=function(e,t){this.push(null),t(e)},c.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=U.from(e,t),t=""),n=!0),l(this,e,t,!1,n)},c.prototype.unshift=function(e){return l(this,e,null,!0,!1)},c.prototype.isPaused=function(){return!1===this._readableState.flowing},c.prototype.setEncoding=function(t){return G||(G=e("string_decoder/").StringDecoder),this._readableState.decoder=new G(t),this._readableState.encoding=t,this};var J=8388608;c.prototype.read=function(e){$("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return $("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?A(this):v(this),null;if(0===(e=h(e,t))&&t.ended)return 0===t.length&&A(this),null;var r=t.needReadable;$("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,$("length less than watermark",r)),t.ended||t.reading?(r=!1,$("reading or ended",r)):r&&($("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=h(n,t)));var o;return o=e>0?T(e,t):null,null===o?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&A(this)),null!==o&&this.emit("data",o),o},c.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},c.prototype.pipe=function(e,t){function r(e,t){$("onunpipe"),e===d&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,i())}function o(){$("onend"),e.end()}function i(){$("cleanup"),e.removeListener("close",c),e.removeListener("finish",l),e.removeListener("drain",g),e.removeListener("error",s),e.removeListener("unpipe",r),d.removeListener("end",o),d.removeListener("end",f),d.removeListener("data",a),v=!0,!p.awaitDrain||e._writableState&&!e._writableState.needDrain||g()}function a(t){$("ondata"),b=!1,!1!==e.write(t)||b||((1===p.pipesCount&&p.pipes===e||p.pipesCount>1&&-1!==M(p.pipes,e))&&!v&&($("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,b=!0),d.pause())}function s(t){$("onerror",t),f(),e.removeListener("error",s),0===F(e,"error")&&e.emit("error",t)}function c(){e.removeListener("finish",l),f()}function l(){$("onfinish"),e.removeListener("close",c),f()}function f(){$("unpipe"),d.unpipe(e)}var d=this,p=this._readableState;switch(p.pipesCount){case 0:p.pipes=e;break;case 1:p.pipes=[p.pipes,e];break;default:p.pipes.push(e)}p.pipesCount+=1,$("pipe count=%d opts=%j",p.pipesCount,t);var m=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr,h=m?o:f;p.endEmitted?j.nextTick(h):d.once("end",h),e.on("unpipe",r);var g=x(d);e.on("drain",g);var v=!1,b=!1;return d.on("data",a),u(e,"error",s),e.once("close",c),e.once("finish",l),e.emit("pipe",d),p.flowing||($("pipe resume"),d.resume()),e},c.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)r[i].emit("unpipe",this,n);return this}var a=M(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},c.prototype.on=function(e,t){var n=H.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&v(this):j.nextTick(C,this))}return n},c.prototype.addListener=c.prototype.on,c.prototype.resume=function(){var e=this._readableState;return e.flowing||($("resume"),e.flowing=!0,_(this,e)),this},c.prototype.pause=function(){return $("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&($("pause"),this._readableState.flowing=!1,this.emit("pause")),this},c.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;e.on("end",function(){if($("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(o){if($("wrapped data"),n.decoder&&(o=n.decoder.write(o)),(!n.objectMode||null!==o&&void 0!==o)&&(n.objectMode||o&&o.length)){t.push(o)||(r=!0,e.pause())}});for(var o in e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var i=0;i<Y.length;i++)e.on(Y[i],this.emit.bind(this,Y[i]));return this._read=function(t){$("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(c.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),c._fromList=T}).call(this,e("_process"),void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":214,"./internal/streams/BufferList":219,"./internal/streams/destroy":220,"./internal/streams/stream":221,_process:208,"babel-runtime/core-js/object/create":55,"babel-runtime/core-js/object/get-prototype-of":59,"core-util-is":189,events:192,inherits:196,isarray:198,"process-nextick-args":207,"safe-buffer":228,"string_decoder/":235,util:71}],217:[function(e,t,n){"use strict";function r(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);c.call(this,e),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",i)}function i(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){a(e,t,n)}):a(this,null,null)}function a(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}var u=e("babel-runtime/core-js/object/create"),s=function(e){return e&&e.__esModule?e:{default:e}}(u);t.exports=o;var c=e("./_stream_duplex"),l=(0,s.default)(e("core-util-is"));l.inherits=e("inherits"),l.inherits(o,c),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;c.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},{"./_stream_duplex":214,"babel-runtime/core-js/object/create":55,"core-util-is":189,inherits:196}],218:[function(e,t,n){(function(n,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){E(t,e)}}function a(e){return q.from(e)}function u(e){return q.isBuffer(e)||e instanceof W}function s(){}function c(t,n){z=z||e("./_stream_duplex"),t=t||{};var r=n instanceof z;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var o=t.highWaterMark,a=t.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(a||0===a)?a:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){b(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function l(t){if(z=z||e("./_stream_duplex"),!(G.call(l,this)||this instanceof z))return new l(t);this._writableState=new c(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),V.call(this)}function f(e,t){var n=new Error("write after end");e.emit("error",n),B.nextTick(t,n)}function d(e,t,n,r){var o=!0,i=!1;return null===n?i=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i&&(e.emit("error",i),B.nextTick(r,i),o=!1),o}function p(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=q.from(t,n)),t}function m(e,t,n,r,o,i){if(!n){var a=p(t,r,o);r!==a&&(n=!0,o="buffer",r=a)}var u=t.objectMode?1:r.length;t.length+=u;var s=t.length<t.highWaterMark;if(s||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:i,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else h(e,t,!1,u,r,o,i);return s}function h(e,t,n,r,o,i,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function g(e,t,n,r,o){--t.pendingcb,n?(B.nextTick(o,r),B.nextTick(k,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(o(r),e._writableState.errorEmitted=!0,e.emit("error",r),k(e,t))}function v(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function b(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if(v(n),t)g(e,n,r,t,o);else{var i=C(n);i||n.corked||n.bufferProcessing||!n.bufferedRequest||x(e,n),r?F(y,e,n,i,o):y(e,n,i,o)}}function y(e,t,n,r){n||w(e,t),t.pendingcb--,r(),k(e,t)}function w(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function x(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var u=0,s=!0;n;)o[u]=n,n.isBuf||(s=!1),n=n.next,u+=1;o.allBuffers=s,h(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,f=n.callback;if(h(e,t,!1,t.objectMode?1:c.length,c,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function _(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),k(e,t)})}function S(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,B.nextTick(_,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function k(e,t){var n=C(t);return n&&(S(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function T(e,t,n){t.ending=!0,k(e,t),n&&(t.finished?B.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function E(e,t,n){var r=e.entry;for(e.entry=null;r;){var o=r.callback;t.pendingcb--,o(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}var O=e("babel-runtime/core-js/object/define-property"),N=o(O),A=e("babel-runtime/core-js/symbol/has-instance"),D=o(A),M=e("babel-runtime/core-js/symbol"),I=o(M),R=e("babel-runtime/core-js/object/create"),P=o(R),L=e("babel-runtime/core-js/set-immediate"),j=o(L),B=e("process-nextick-args");t.exports=l;var z,F=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?j.default:B.nextTick;l.WritableState=c;var H=(0,P.default)(e("core-util-is"));H.inherits=e("inherits");var U={deprecate:e("util-deprecate")},V=e("./internal/streams/stream"),q=e("safe-buffer").Buffer,W=r.Uint8Array||function(){},$=e("./internal/streams/destroy");H.inherits(l,V),c.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(c.prototype,"buffer",{get:U.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var G;"function"==typeof I.default&&D.default&&"function"==typeof Function.prototype[D.default]?(G=Function.prototype[D.default],(0,N.default)(l,D.default,{value:function(e){return!!G.call(this,e)||this===l&&(e&&e._writableState instanceof c)}})):G=function(e){return e instanceof this},l.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},l.prototype.write=function(e,t,n){var r=this._writableState,o=!1,i=!r.objectMode&&u(e);return i&&!q.isBuffer(e)&&(e=a(e)),"function"==typeof t&&(n=t,t=null),i?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=s),r.ended?f(this,n):(i||d(this,r,e,n))&&(r.pendingcb++,o=m(this,r,i,e,t,n)),o},l.prototype.cork=function(){this._writableState.corked++},l.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||x(this,e))},l.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),l.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},l.prototype._writev=null,l.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||T(this,r,n)},Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),l.prototype.destroy=$.destroy,l.prototype._undestroy=$.undestroy,l.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,e("_process"),void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":214,"./internal/streams/destroy":220,"./internal/streams/stream":221,_process:208,"babel-runtime/core-js/object/create":55,"babel-runtime/core-js/object/define-property":56,"babel-runtime/core-js/set-immediate":62,"babel-runtime/core-js/symbol":64,"babel-runtime/core-js/symbol/has-instance":65,"core-util-is":189,inherits:196,"process-nextick-args":207,"safe-buffer":228,"util-deprecate":240}],219:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){e.copy(t,n)}var i=e("safe-buffer").Buffer,a=e("util");t.exports=function(){function e(){r(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t=i.allocUnsafe(e>>>0),n=this.head,r=0;n;)o(n.data,t,r),r+=n.data.length,n=n.next;return t},e}(),a&&a.inspect&&a.inspect.custom&&(t.exports.prototype[a.inspect.custom]=function(){var e=a.inspect({length:this.length});return this.constructor.name+" "+e})},{"safe-buffer":228,util:71}],220:[function(e,t,n){"use strict";function r(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return r||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||a.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(a.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(e,t){e.emit("error",t)}var a=e("process-nextick-args");t.exports={destroy:r,undestroy:o}},{"process-nextick-args":207}],221:[function(e,t,n){"use strict";t.exports=e("events").EventEmitter},{events:192}],222:[function(e,t,n){t.exports=e("./readable").PassThrough},{"./readable":223}],223:[function(e,t,n){n=t.exports=e("./lib/_stream_readable.js"),n.Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":214,"./lib/_stream_passthrough.js":215,"./lib/_stream_readable.js":216,"./lib/_stream_transform.js":217,"./lib/_stream_writable.js":218}],224:[function(e,t,n){t.exports=e("./readable").Transform},{"./readable":223}],225:[function(e,t,n){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":218}],226:[function(e,t,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=e("./runtime"),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},{"./runtime":227}],227:[function(e,t,n){!function(e){"use strict";function n(e,t,n,r){var i=t&&t.prototype instanceof o?t:o,a=Object.create(i.prototype),u=new p(r||[]);return a._invoke=c(e,n,u),a}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function o(){}function i(){}function a(){}function u(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function s(e){function t(n,o,i,a){var u=r(e[n],e,o);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==typeof c&&b.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(c).then(function(e){s.value=e,i(s)},a)}a(u.arg)}function n(e,n){function r(){return new Promise(function(r,o){t(e,n,r,o)})}return o=o?o.then(r,r):r()}var o;this._invoke=n}function c(e,t,n){var o=k;return function(i,a){if(o===E)throw new Error("Generator is already running");if(o===O){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=l(u,n);if(s){if(s===N)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===k)throw o=O,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=E;var c=r(e,t,n);if("normal"===c.type){if(o=n.done?O:T,c.arg===N)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=O,n.method="throw",n.arg=c.arg)}}}function l(e,t){var n=e.iterator[t.method];if(n===g){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=g,l(e,t),"throw"===t.method))return N;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return N}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,N;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=g),t.delegate=null,N):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,N)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function m(e){if(e){var t=e[w];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(b.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=g,t.done=!0,t};return r.next=r}}return{next:h}}function h(){return{value:g,done:!0}}var g,v=Object.prototype,b=v.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},w=y.iterator||"@@iterator",x=y.asyncIterator||"@@asyncIterator",C=y.toStringTag||"@@toStringTag",_="object"==typeof t,S=e.regeneratorRuntime;if(S)return void(_&&(t.exports=S));S=e.regeneratorRuntime=_?t.exports:{},S.wrap=n;var k="suspendedStart",T="suspendedYield",E="executing",O="completed",N={},A={};A[w]=function(){return this};var D=Object.getPrototypeOf,M=D&&D(D(m([])));M&&M!==v&&b.call(M,w)&&(A=M);var I=a.prototype=o.prototype=Object.create(A);i.prototype=I.constructor=a,a.constructor=i,a[C]=i.displayName="GeneratorFunction",S.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},S.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,C in e||(e[C]="GeneratorFunction")),e.prototype=Object.create(I),e},S.awrap=function(e){return{__await:e}},u(s.prototype),s.prototype[x]=function(){return this},S.AsyncIterator=s,S.async=function(e,t,r,o){var i=new s(n(e,t,r,o));return S.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},u(I),I[C]="Generator",I[w]=function(){return this},I.toString=function(){return"[object Generator]"},S.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},S.values=m,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&b.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=g)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=g),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=b.call(o,"catchLoc"),u=b.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&b.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,N):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),N},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),N}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;d(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:m(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=g),N}}}(function(){return this}()||Function("return this")())},{}],228:[function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return a(e,t,n)}var i=e("buffer"),a=i.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=i:(r(i,n),n.Buffer=o),r(a,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},{buffer:73}],229:[function(e,t,n){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/core-js/string/from-code-point"),i=r(o),a=e("babel-runtime/core-js/json/stringify"),u=r(a),s=e("babel-runtime/helpers/typeof"),c=r(s),l=e("babel-runtime/core-js/object/define-property"),f=r(l),d=e("babel-runtime/core-js/object/keys"),p=r(d),m=e("babel-runtime/core-js/object/create"),h=r(m);!function(n){function r(e,t){if(!(this instanceof r))return new r(e,t);var o=this;a(o),o.q=o.c="",o.bufferCheckPosition=n.MAX_BUFFER_LENGTH,o.opt=t||{},o.opt.lowercase=o.opt.lowercase||o.opt.lowercasetags,o.looseCase=o.opt.lowercase?"toLowerCase":"toUpperCase",o.tags=[],o.closed=o.closedRoot=o.sawRoot=!1,o.tag=o.error=null,o.strict=!!e,o.noscript=!(!e&&!o.opt.noscript),o.state=X.BEGIN,o.strictEntities=o.opt.strictEntities,o.ENTITIES=o.strictEntities?(0,h.default)(n.XML_ENTITIES):(0,h.default)(n.ENTITIES),o.attribList=[],o.opt.xmlns&&(o.ns=(0,h.default)(V)),o.trackPosition=!1!==o.opt.position,o.trackPosition&&(o.position=o.line=o.column=0),w(o,"onready")}function o(e){for(var t=Math.max(n.MAX_BUFFER_LENGTH,10),r=0,o=0,i=L.length;o<i;o++){var a=e[L[o]].length;if(a>t)switch(L[o]){case"textNode":C(e);break;case"cdata":x(e,"oncdata",e.cdata),e.cdata="";break;case"script":x(e,"onscript",e.script),e.script="";break;default:S(e,"Max buffer length exceeded: "+L[o])}r=Math.max(r,a)}var u=n.MAX_BUFFER_LENGTH-r;e.bufferCheckPosition=u+e.position}function a(e){for(var t=0,n=L.length;t<n;t++)e[L[t]]=""}function s(e){C(e),""!==e.cdata&&(x(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(x(e,"onscript",e.script),e.script="")}function l(e,t){return new d(e,t)}function d(e,t){if(!(this instanceof d))return new d(e,t);j.apply(this),this._parser=new r(e,t),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,B.forEach(function(e){(0,f.default)(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t)return n.removeAllListeners(e),n._parser["on"+e]=t,t;n.on(e,t)},enumerable:!0,configurable:!1})})}function m(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function g(e){return'"'===e||"'"===e}function v(e){return">"===e||m(e)}function b(e,t){return e.test(t)}function y(e,t){return!b(e,t)}function w(e,t,n){e[t]&&e[t](n)}function x(e,t,n){e.textNode&&C(e),w(e,t,n)}function C(e){e.textNode=_(e.opt,e.textNode),e.textNode&&w(e,"ontext",e.textNode),e.textNode=""}function _(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function S(e,t){return C(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,w(e,"onerror",t),e}function k(e){return e.sawRoot&&!e.closedRoot&&T(e,"Unclosed root tag"),e.state!==X.BEGIN&&e.state!==X.BEGIN_WHITESPACE&&e.state!==X.TEXT&&S(e,"Unexpected end"),C(e),e.c="",e.closed=!0,w(e,"onend"),r.call(e,e.strict,e.opt),e}function T(e,t){if("object"!==(void 0===e?"undefined":(0,c.default)(e))||!(e instanceof r))throw new Error("bad call to strictFail");e.strict&&S(e,t)}function E(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0,x(e,"onopentagstart",n)}function O(e,t){var n=e.indexOf(":"),r=n<0?["",e]:e.split(":"),o=r[0],i=r[1];return t&&"xmlns"===e&&(o="xmlns",i=""),{prefix:o,local:i}}function N(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))return void(e.attribName=e.attribValue="");if(e.opt.xmlns){var t=O(e.attribName,!0),n=t.prefix,r=t.local;if("xmlns"===n)if("xml"===r&&e.attribValue!==H)T(e,"xml: prefix must be bound to "+H+"\nActual: "+e.attribValue);else if("xmlns"===r&&e.attribValue!==U)T(e,"xmlns: prefix must be bound to "+U+"\nActual: "+e.attribValue);else{var o=e.tag,i=e.tags[e.tags.length-1]||e;o.ns===i.ns&&(o.ns=(0,h.default)(i.ns)),o.ns[r]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,x(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}function A(e,t){if(e.opt.xmlns){var n=e.tag,r=O(e.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(T(e,"Unbound namespace prefix: "+(0,u.default)(e.tagName)),n.uri=r.prefix);var o=e.tags[e.tags.length-1]||e;n.ns&&o.ns!==n.ns&&(0,p.default)(n.ns).forEach(function(t){x(e,"onopennamespace",{prefix:t,uri:n.ns[t]})});for(var i=0,a=e.attribList.length;i<a;i++){var s=e.attribList[i],c=s[0],l=s[1],f=O(c,!0),d=f.prefix,m=f.local,h=""===d?"":n.ns[d]||"",g={name:c,value:l,prefix:d,local:m,uri:h};d&&"xmlns"!==d&&!h&&(T(e,"Unbound namespace prefix: "+(0,u.default)(d)),g.uri=d),e.tag.attributes[c]=g,x(e,"onattribute",g)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),x(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=X.TEXT:e.state=X.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function D(e){if(!e.tagName)return T(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=X.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=X.SCRIPT);x(e,"onscript",e.script),e.script=""}var t=e.tags.length,n=e.tagName;e.strict||(n=n[e.looseCase]());for(var r=n;t--;){if(e.tags[t].name===r)break;T(e,"Unexpected close tag")}if(t<0)return T(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=X.TEXT);e.tagName=n;for(var o=e.tags.length;o-- >t;){var i=e.tag=e.tags.pop();e.tagName=e.tag.name,x(e,"onclosetag",e.tagName);var a={};for(var u in i.ns)a[u]=i.ns[u];var s=e.tags[e.tags.length-1]||e;e.opt.xmlns&&i.ns!==s.ns&&(0,p.default)(i.ns).forEach(function(t){var n=i.ns[t];x(e,"onclosenamespace",{prefix:t,uri:n})})}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=X.TEXT}function M(e){var t,n=e.entity,r=n.toLowerCase(),o="";return e.ENTITIES[n]?e.ENTITIES[n]:e.ENTITIES[r]?e.ENTITIES[r]:(n=r,"#"===n.charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),t=parseInt(n,16),o=t.toString(16)):(n=n.slice(1),t=parseInt(n,10),o=t.toString(10))),n=n.replace(/^0+/,""),isNaN(t)||o.toLowerCase()!==n?(T(e,"Invalid character entity"),"&"+e.entity+";"):(0,i.default)(t))}function I(e,t){"<"===t?(e.state=X.OPEN_WAKA,e.startTagPosition=e.position):m(t)||(T(e,"Non-whitespace before first tag."),e.textNode=t,e.state=X.TEXT)}function R(e,t){var n="";return t<e.length&&(n=e.charAt(t)),n}function P(e){var t=this;if(this.error)throw this.error;if(t.closed)return S(t,"Cannot write after close. Assign an onready handler.");if(null===e)return k(t);"object"===(void 0===e?"undefined":(0,c.default)(e))&&(e=e.toString());for(var n=0,r="";;){if(r=R(e,n++),t.c=r,!r)break;switch(t.trackPosition&&(t.position++,"\n"===r?(t.line++,t.column=0):t.column++),t.state){case X.BEGIN:if(t.state=X.BEGIN_WHITESPACE,"\ufeff"===r)continue;I(t,r);continue;case X.BEGIN_WHITESPACE:I(t,r);continue;case X.TEXT:if(t.sawRoot&&!t.closedRoot){for(var i=n-1;r&&"<"!==r&&"&"!==r;)(r=R(e,n++))&&t.trackPosition&&(t.position++,"\n"===r?(t.line++,t.column=0):t.column++);t.textNode+=e.substring(i,n-1)}"<"!==r||t.sawRoot&&t.closedRoot&&!t.strict?(m(r)||t.sawRoot&&!t.closedRoot||T(t,"Text data outside of root node."),"&"===r?t.state=X.TEXT_ENTITY:t.textNode+=r):(t.state=X.OPEN_WAKA,t.startTagPosition=t.position);continue;case X.SCRIPT:"<"===r?t.state=X.SCRIPT_ENDING:t.script+=r;continue;case X.SCRIPT_ENDING:"/"===r?t.state=X.CLOSE_TAG:(t.script+="<"+r,t.state=X.SCRIPT);continue;case X.OPEN_WAKA:if("!"===r)t.state=X.SGML_DECL,t.sgmlDecl="";else if(m(r));else if(b(q,r))t.state=X.OPEN_TAG,t.tagName=r;else if("/"===r)t.state=X.CLOSE_TAG,t.tagName="";else if("?"===r)t.state=X.PROC_INST,t.procInstName=t.procInstBody="";else{if(T(t,"Unencoded <"),t.startTagPosition+1<t.position){var a=t.position-t.startTagPosition;r=new Array(a).join(" ")+r}t.textNode+="<"+r,t.state=X.TEXT}continue;case X.SGML_DECL:(t.sgmlDecl+r).toUpperCase()===z?(x(t,"onopencdata"),t.state=X.CDATA,t.sgmlDecl="",t.cdata=""):t.sgmlDecl+r==="--"?(t.state=X.COMMENT,t.comment="",t.sgmlDecl=""):(t.sgmlDecl+r).toUpperCase()===F?(t.state=X.DOCTYPE,(t.doctype||t.sawRoot)&&T(t,"Inappropriately located doctype declaration"),t.doctype="",t.sgmlDecl=""):">"===r?(x(t,"onsgmldeclaration",t.sgmlDecl),t.sgmlDecl="",t.state=X.TEXT):g(r)?(t.state=X.SGML_DECL_QUOTED,t.sgmlDecl+=r):t.sgmlDecl+=r;continue;case X.SGML_DECL_QUOTED:r===t.q&&(t.state=X.SGML_DECL,t.q=""),t.sgmlDecl+=r;continue;case X.DOCTYPE:">"===r?(t.state=X.TEXT,x(t,"ondoctype",t.doctype),t.doctype=!0):(t.doctype+=r,"["===r?t.state=X.DOCTYPE_DTD:g(r)&&(t.state=X.DOCTYPE_QUOTED,t.q=r));continue;case X.DOCTYPE_QUOTED:t.doctype+=r,r===t.q&&(t.q="",t.state=X.DOCTYPE);continue;case X.DOCTYPE_DTD:t.doctype+=r,"]"===r?t.state=X.DOCTYPE:g(r)&&(t.state=X.DOCTYPE_DTD_QUOTED,t.q=r);continue;case X.DOCTYPE_DTD_QUOTED:t.doctype+=r,r===t.q&&(t.state=X.DOCTYPE_DTD,t.q="");continue;case X.COMMENT:"-"===r?t.state=X.COMMENT_ENDING:t.comment+=r;continue;case X.COMMENT_ENDING:"-"===r?(t.state=X.COMMENT_ENDED,t.comment=_(t.opt,t.comment),t.comment&&x(t,"oncomment",t.comment),t.comment=""):(t.comment+="-"+r,t.state=X.COMMENT);continue;case X.COMMENT_ENDED:">"!==r?(T(t,"Malformed comment"),t.comment+="--"+r,t.state=X.COMMENT):t.state=X.TEXT;continue;case X.CDATA:"]"===r?t.state=X.CDATA_ENDING:t.cdata+=r;continue;case X.CDATA_ENDING:"]"===r?t.state=X.CDATA_ENDING_2:(t.cdata+="]"+r,t.state=X.CDATA);continue;case X.CDATA_ENDING_2:">"===r?(t.cdata&&x(t,"oncdata",t.cdata),x(t,"onclosecdata"),t.cdata="",t.state=X.TEXT):"]"===r?t.cdata+="]":(t.cdata+="]]"+r,t.state=X.CDATA);continue;case X.PROC_INST:"?"===r?t.state=X.PROC_INST_ENDING:m(r)?t.state=X.PROC_INST_BODY:t.procInstName+=r;continue;case X.PROC_INST_BODY:if(!t.procInstBody&&m(r))continue;"?"===r?t.state=X.PROC_INST_ENDING:t.procInstBody+=r;continue;case X.PROC_INST_ENDING:">"===r?(x(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody}),t.procInstName=t.procInstBody="",t.state=X.TEXT):(t.procInstBody+="?"+r,t.state=X.PROC_INST_BODY);continue;case X.OPEN_TAG:b(W,r)?t.tagName+=r:(E(t),">"===r?A(t):"/"===r?t.state=X.OPEN_TAG_SLASH:(m(r)||T(t,"Invalid character in tag name"),t.state=X.ATTRIB));continue;case X.OPEN_TAG_SLASH:">"===r?(A(t,!0),D(t)):(T(t,"Forward-slash in opening tag not followed by >"),t.state=X.ATTRIB);continue;case X.ATTRIB:if(m(r))continue;">"===r?A(t):"/"===r?t.state=X.OPEN_TAG_SLASH:b(q,r)?(t.attribName=r,t.attribValue="",t.state=X.ATTRIB_NAME):T(t,"Invalid attribute name");continue;case X.ATTRIB_NAME:"="===r?t.state=X.ATTRIB_VALUE:">"===r?(T(t,"Attribute without value"),t.attribValue=t.attribName,N(t),A(t)):m(r)?t.state=X.ATTRIB_NAME_SAW_WHITE:b(W,r)?t.attribName+=r:T(t,"Invalid attribute name");continue;case X.ATTRIB_NAME_SAW_WHITE:if("="===r)t.state=X.ATTRIB_VALUE;else{if(m(r))continue;T(t,"Attribute without value"),t.tag.attributes[t.attribName]="",t.attribValue="",x(t,"onattribute",{name:t.attribName,value:""}),t.attribName="",">"===r?A(t):b(q,r)?(t.attribName=r,t.state=X.ATTRIB_NAME):(T(t,"Invalid attribute name"),t.state=X.ATTRIB)}continue;case X.ATTRIB_VALUE:if(m(r))continue;g(r)?(t.q=r,t.state=X.ATTRIB_VALUE_QUOTED):(T(t,"Unquoted attribute value"),t.state=X.ATTRIB_VALUE_UNQUOTED,t.attribValue=r);continue;case X.ATTRIB_VALUE_QUOTED:if(r!==t.q){"&"===r?t.state=X.ATTRIB_VALUE_ENTITY_Q:t.attribValue+=r;continue}N(t),t.q="",t.state=X.ATTRIB_VALUE_CLOSED;continue;case X.ATTRIB_VALUE_CLOSED:m(r)?t.state=X.ATTRIB:">"===r?A(t):"/"===r?t.state=X.OPEN_TAG_SLASH:b(q,r)?(T(t,"No whitespace between attributes"),t.attribName=r,t.attribValue="",t.state=X.ATTRIB_NAME):T(t,"Invalid attribute name");continue;case X.ATTRIB_VALUE_UNQUOTED:if(!v(r)){"&"===r?t.state=X.ATTRIB_VALUE_ENTITY_U:t.attribValue+=r;continue}N(t),">"===r?A(t):t.state=X.ATTRIB;continue;case X.CLOSE_TAG:if(t.tagName)">"===r?D(t):b(W,r)?t.tagName+=r:t.script?(t.script+="</"+t.tagName,t.tagName="",t.state=X.SCRIPT):(m(r)||T(t,"Invalid tagname in closing tag"),t.state=X.CLOSE_TAG_SAW_WHITE);else{if(m(r))continue;y(q,r)?t.script?(t.script+="</"+r,t.state=X.SCRIPT):T(t,"Invalid tagname in closing tag."):t.tagName=r}continue;case X.CLOSE_TAG_SAW_WHITE:if(m(r))continue;">"===r?D(t):T(t,"Invalid characters in closing tag");continue;case X.TEXT_ENTITY:case X.ATTRIB_VALUE_ENTITY_Q:case X.ATTRIB_VALUE_ENTITY_U:var u,s;switch(t.state){case X.TEXT_ENTITY:u=X.TEXT,s="textNode";break;case X.ATTRIB_VALUE_ENTITY_Q:u=X.ATTRIB_VALUE_QUOTED,s="attribValue";break;case X.ATTRIB_VALUE_ENTITY_U:u=X.ATTRIB_VALUE_UNQUOTED,s="attribValue"}";"===r?(t[s]+=M(t),t.entity="",t.state=u):b(t.entity.length?G:$,r)?t.entity+=r:(T(t,"Invalid character in entity name"),t[s]+="&"+t.entity+r,t.entity="",t.state=u);continue;default:throw new Error(t,"Unknown state: "+t.state)}}return t.position>=t.bufferCheckPosition&&o(t),t}n.parser=function(e,t){return new r(e,t)},n.SAXParser=r,n.SAXStream=d,n.createStream=l,n.MAX_BUFFER_LENGTH=65536;var L=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];n.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],h.default||(Object.create=function(e){function t(){}return t.prototype=e,new t}),p.default||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),r.prototype={end:function(){k(this)},write:P,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){s(this)}};var j;try{j=e("stream").Stream}catch(e){j=function(){}}var B=n.EVENTS.filter(function(e){return"error"!==e&&"end"!==e});d.prototype=(0,h.default)(j.prototype,{constructor:{value:d}}),d.prototype.write=function(n){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(n)){if(!this._decoder){var r=e("string_decoder").StringDecoder;this._decoder=new r("utf8")}n=this._decoder.write(n)}return this._parser.write(n.toString()),this.emit("data",n),!0},d.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},d.prototype.on=function(e,t){var n=this;return n._parser["on"+e]||-1===B.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),j.prototype.on.call(n,e,t)};var z="[CDATA[",F="DOCTYPE",H="http://www.w3.org/XML/1998/namespace",U="http://www.w3.org/2000/xmlns/",V={xml:H,xmlns:U},q=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,W=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,$=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,G=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,X=0;n.STATE={BEGIN:X++,BEGIN_WHITESPACE:X++,TEXT:X++,TEXT_ENTITY:X++,OPEN_WAKA:X++,SGML_DECL:X++,SGML_DECL_QUOTED:X++,DOCTYPE:X++,DOCTYPE_QUOTED:X++,DOCTYPE_DTD:X++,DOCTYPE_DTD_QUOTED:X++,COMMENT_STARTING:X++,COMMENT:X++,COMMENT_ENDING:X++,COMMENT_ENDED:X++,CDATA:X++,CDATA_ENDING:X++,CDATA_ENDING_2:X++,PROC_INST:X++,PROC_INST_BODY:X++,PROC_INST_ENDING:X++,OPEN_TAG:X++,OPEN_TAG_SLASH:X++,ATTRIB:X++,ATTRIB_NAME:X++,ATTRIB_NAME_SAW_WHITE:X++,ATTRIB_VALUE:X++,ATTRIB_VALUE_QUOTED:X++,ATTRIB_VALUE_CLOSED:X++,ATTRIB_VALUE_UNQUOTED:X++,ATTRIB_VALUE_ENTITY_Q:X++,ATTRIB_VALUE_ENTITY_U:X++,CLOSE_TAG:X++,CLOSE_TAG_SAW_WHITE:X++,SCRIPT:X++,SCRIPT_ENDING:X++},n.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},n.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},(0,p.default)(n.ENTITIES).forEach(function(e){var t=n.ENTITIES[e],r="number"==typeof t?String.fromCharCode(t):t;n.ENTITIES[e]=r});for(var K in n.STATE)n.STATE[n.STATE[K]]=K;X=n.STATE,/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */
i.default||function(){var e=String.fromCharCode,t=Math.floor,n=function(){var n,r,o=[],i=-1,a=arguments.length;if(!a)return"";for(var u="";++i<a;){var s=Number(arguments[i]);if(!isFinite(s)||s<0||s>1114111||t(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?o.push(s):(s-=65536,n=55296+(s>>10),r=s%1024+56320,o.push(n,r)),(i+1===a||o.length>16384)&&(u+=e.apply(null,o),o.length=0)}return u};f.default?Object.defineProperty(String,"fromCodePoint",{value:n,configurable:!0,writable:!0}):String.fromCodePoint=n}()}(void 0===n?(void 0).sax={}:n)}).call(this,e("buffer").Buffer)},{"babel-runtime/core-js/json/stringify":53,"babel-runtime/core-js/object/create":55,"babel-runtime/core-js/object/define-property":56,"babel-runtime/core-js/object/keys":60,"babel-runtime/core-js/string/from-code-point":63,"babel-runtime/helpers/typeof":67,buffer:73,stream:230,string_decoder:72}],230:[function(e,t,n){function r(){o.call(this)}t.exports=r;var o=e("events").EventEmitter;e("inherits")(r,o),r.Readable=e("readable-stream/readable.js"),r.Writable=e("readable-stream/writable.js"),r.Duplex=e("readable-stream/duplex.js"),r.Transform=e("readable-stream/transform.js"),r.PassThrough=e("readable-stream/passthrough.js"),r.Stream=r,r.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&c.pause&&c.pause()}function r(){c.readable&&c.resume&&c.resume()}function i(){l||(l=!0,e.end())}function a(){l||(l=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(s(),0===o.listenerCount(this,"error"))throw e}function s(){c.removeListener("data",n),e.removeListener("drain",r),c.removeListener("end",i),c.removeListener("close",a),c.removeListener("error",u),e.removeListener("error",u),c.removeListener("end",s),c.removeListener("close",s),e.removeListener("close",s)}var c=this;c.on("data",n),e.on("drain",r),e._isStdio||t&&!1===t.end||(c.on("end",i),c.on("close",a));var l=!1;return c.on("error",u),e.on("error",u),c.on("end",s),c.on("close",s),e.on("close",s),e.emit("pipe",c),e}},{events:192,inherits:196,"readable-stream/duplex.js":213,"readable-stream/passthrough.js":222,"readable-stream/readable.js":223,"readable-stream/transform.js":224,"readable-stream/writable.js":225}],231:[function(e,t,n){(function(t){var r=e("./lib/request"),o=e("./lib/response"),i=e("xtend"),a=e("builtin-status-codes"),u=e("url"),s=n;s.request=function(e,n){e="string"==typeof e?u.parse(e):i(e);var o=-1===t.location.protocol.search(/^https?:$/)?"http:":"",a=e.protocol||o,s=e.hostname||e.host,c=e.port,l=e.path||"/";s&&-1!==s.indexOf(":")&&(s="["+s+"]"),e.url=(s?a+"//"+s:"")+(c?":"+c:"")+l,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var f=new r(e);return n&&f.on("response",n),f},s.get=function(e,t){var n=s.request(e,t);return n.end(),n},s.ClientRequest=r,s.IncomingMessage=o.IncomingMessage,s.Agent=function(){},s.Agent.defaultMaxSockets=4,s.globalAgent=new s.Agent,s.STATUS_CODES=a,s.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/request":233,"./lib/response":234,"builtin-status-codes":74,url:238,xtend:283}],232:[function(e,t,n){(function(e){"use strict";function t(){if(void 0!==i)return i;if(e.XMLHttpRequest){i=new e.XMLHttpRequest;try{i.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){i=null}}else i=null;return i}function r(e){var n=t();if(!n)return!1;try{return n.responseType=e,n.responseType===e}catch(e){}return!1}function o(e){return"function"==typeof e}n.fetch=o(e.fetch)&&o(e.ReadableStream),n.writableStream=o(e.WritableStream),n.abortController=o(e.AbortController),n.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),n.blobConstructor=!0}catch(e){}var i,a=void 0!==e.ArrayBuffer,u=a&&o(e.ArrayBuffer.prototype.slice);n.arraybuffer=n.fetch||a&&r("arraybuffer"),n.msstream=!n.fetch&&u&&r("ms-stream"),n.mozchunkedarraybuffer=!n.fetch&&a&&r("moz-chunked-arraybuffer"),n.overrideMimeType=n.fetch||!!t()&&o(t().overrideMimeType),n.vbArray=o(e.VBArray),i=null}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],233:[function(e,t,n){(function(n,r,o){"use strict";function i(e,t){return c.fetch&&t?"fetch":c.mozchunkedarraybuffer?"moz-chunked-arraybuffer":c.msstream?"ms-stream":c.arraybuffer&&e?"arraybuffer":c.vbArray&&e?"text:vbarray":"text"}function a(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}var u=e("babel-runtime/core-js/object/keys"),s=function(e){return e&&e.__esModule?e:{default:e}}(u),c=e("./capability"),l=e("inherits"),f=e("./response"),d=e("readable-stream"),p=e("to-arraybuffer"),m=f.IncomingMessage,h=f.readyStates,g=t.exports=function(e){var t=this;d.Writable.call(t),t._opts=e,t._body=[],t._headers={},e.auth&&t.setHeader("Authorization","Basic "+new o(e.auth).toString("base64")),(0,s.default)(e.headers).forEach(function(n){t.setHeader(n,e.headers[n])});var n,r=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!c.abortController)r=!1,n=!0;else if("prefer-streaming"===e.mode)n=!1;else if("allow-wrong-content-type"===e.mode)n=!c.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");n=!0}t._mode=i(n,r),t._fetchTimer=null,t.on("finish",function(){t._onFinish()})};l(g,d.Writable),g.prototype.setHeader=function(e,t){var n=this,r=e.toLowerCase();-1===v.indexOf(r)&&(n._headers[r]={name:e,value:t})},g.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},g.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},g.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts,i=e._headers,a=null;"GET"!==t.method&&"HEAD"!==t.method&&(a=c.arraybuffer?p(o.concat(e._body)):c.blobConstructor?new r.Blob(e._body.map(function(e){return p(e)}),{type:(i["content-type"]||{}).value||""}):o.concat(e._body).toString());var u=[];if((0,s.default)(i).forEach(function(e){var t=i[e].name,n=i[e].value;Array.isArray(n)?n.forEach(function(e){u.push([t,e])}):u.push([t,n])}),"fetch"===e._mode){var l=null;if(c.abortController){var f=new AbortController;l=f.signal,e._fetchAbortController=f,"requestTimeout"in t&&0!==t.requestTimeout&&(e._fetchTimer=r.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},t.requestTimeout))}r.fetch(e._opts.url,{method:e._opts.method,headers:u,body:a||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:l}).then(function(t){e._fetchResponse=t,e._connect()},function(t){r.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)})}else{var d=e._xhr=new r.XMLHttpRequest;try{d.open(e._opts.method,e._opts.url,!0)}catch(t){return void n.nextTick(function(){e.emit("error",t)})}"responseType"in d&&(d.responseType=e._mode.split(":")[0]),"withCredentials"in d&&(d.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in d&&d.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(d.timeout=t.requestTimeout,d.ontimeout=function(){e.emit("requestTimeout")}),u.forEach(function(e){d.setRequestHeader(e[0],e[1])}),e._response=null,d.onreadystatechange=function(){switch(d.readyState){case h.LOADING:case h.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(d.onprogress=function(){e._onXHRProgress()}),d.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{d.send(a)}catch(t){return void n.nextTick(function(){e.emit("error",t)})}}}},g.prototype._onXHRProgress=function(){var e=this;a(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},g.prototype._connect=function(){var e=this;e._destroyed||(e._response=new m(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},g.prototype._write=function(e,t,n){this._body.push(e),n()},g.prototype.abort=g.prototype.destroy=function(){var e=this;e._destroyed=!0,r.clearTimeout(e._fetchTimer),e._response&&(e._response._destroyed=!0),e._xhr?e._xhr.abort():e._fetchAbortController&&e._fetchAbortController.abort()},g.prototype.end=function(e,t,n){var r=this;"function"==typeof e&&(n=e,e=void 0),d.Writable.prototype.end.call(r,e,t,n)},g.prototype.flushHeaders=function(){},g.prototype.setTimeout=function(){},g.prototype.setNoDelay=function(){},g.prototype.setSocketKeepAlive=function(){};var v=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(this,e("_process"),void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"./capability":232,"./response":234,_process:208,"babel-runtime/core-js/object/keys":60,buffer:73,inherits:196,"readable-stream":223,"to-arraybuffer":237}],234:[function(e,t,n){(function(t,r,o){"use strict";var i=e("babel-runtime/core-js/promise"),a=function(e){return e&&e.__esModule?e:{default:e}}(i),u=e("./capability"),s=e("inherits"),c=e("readable-stream"),l=n.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},f=n.IncomingMessage=function(e,n,i,s){var l=this;if(c.Readable.call(l),l._mode=i,l.headers={},l.rawHeaders=[],l.trailers={},l.rawTrailers=[],l.on("end",function(){t.nextTick(function(){l.emit("close")})}),"fetch"===i){if(l._fetchResponse=n,l.url=n.url,l.statusCode=n.status,l.statusMessage=n.statusText,n.headers.forEach(function(e,t){l.headers[t.toLowerCase()]=e,l.rawHeaders.push(t,e)}),u.writableStream){var f=new WritableStream({write:function(e){return new a.default(function(t,n){l._destroyed?n():l.push(new o(e))?t():l._resumeFetch=t})},close:function(){r.clearTimeout(s),l._destroyed||l.push(null)},abort:function(e){l._destroyed||l.emit("error",e)}});try{return void n.body.pipeTo(f).catch(function(e){r.clearTimeout(s),l._destroyed||l.emit("error",e)})}catch(e){}}var d=n.body.getReader();!function e(){d.read().then(function(t){if(!l._destroyed){if(t.done)return r.clearTimeout(s),void l.push(null);l.push(new o(t.value)),e()}}).catch(function(e){r.clearTimeout(s),l._destroyed||l.emit("error",e)})}()}else{l._xhr=e,l._pos=0,l.url=e.responseURL,l.statusCode=e.status,l.statusMessage=e.statusText;if(e.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===l.headers[n]&&(l.headers[n]=[]),l.headers[n].push(t[2])):void 0!==l.headers[n]?l.headers[n]+=", "+t[2]:l.headers[n]=t[2],l.rawHeaders.push(t[1],t[2])}}),l._charset="x-user-defined",!u.overrideMimeType){var p=l.rawHeaders["mime-type"];if(p){var m=p.match(/;\s*charset=([^;])(;|$)/);m&&(l._charset=m[1].toLowerCase())}l._charset||(l._charset="utf-8")}}};s(f,c.Readable),f.prototype._read=function(){var e=this,t=e._resumeFetch;t&&(e._resumeFetch=null,t())},f.prototype._onXHRProgress=function(){var e=this,t=e._xhr,n=null;switch(e._mode){case"text:vbarray":if(t.readyState!==l.DONE)break;try{n=new r.VBArray(t.responseBody).toArray()}catch(e){}if(null!==n){e.push(new o(n));break}case"text":try{n=t.responseText}catch(t){e._mode="text:vbarray";break}if(n.length>e._pos){var i=n.substr(e._pos);if("x-user-defined"===e._charset){for(var a=new o(i.length),u=0;u<i.length;u++)a[u]=255&i.charCodeAt(u);e.push(a)}else e.push(i,e._charset);e._pos=n.length}break;case"arraybuffer":if(t.readyState!==l.DONE||!t.response)break;n=t.response,e.push(new o(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=t.response,t.readyState!==l.LOADING||!n)break;e.push(new o(new Uint8Array(n)));break;case"ms-stream":if(n=t.response,t.readyState!==l.LOADING)break;var s=new r.MSStreamReader;s.onprogress=function(){s.result.byteLength>e._pos&&(e.push(new o(new Uint8Array(s.result.slice(e._pos)))),e._pos=s.result.byteLength)},s.onload=function(){e.push(null)},s.readAsArrayBuffer(n)}e._xhr.readyState===l.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,e("_process"),void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"./capability":232,_process:208,"babel-runtime/core-js/promise":61,buffer:73,inherits:196,"readable-stream":223}],235:[function(e,t,n){"use strict";function r(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function o(e){var t=r(e);if("string"!=typeof t&&(b.isEncoding===y||!y(e)))throw new Error("Unknown encoding: "+e);return t||e}function i(e){this.encoding=o(e);var t;switch(this.encoding){case"utf16le":this.text=d,this.end=p,t=4;break;case"utf8":this.fillLast=c,t=4;break;case"base64":this.text=m,this.end=h,t=3;break;default:return this.write=g,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=b.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function u(e,t,n){var r=t.length-1;if(r<n)return 0;var o=a(t[r]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--r<n||-2===o?0:(o=a(t[r]))>=0?(o>0&&(e.lastNeed=o-2),o):--r<n||-2===o?0:(o=a(t[r]),o>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0)}function s(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}function c(e){var t=this.lastTotal-this.lastNeed,n=s(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){var n=u(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function d(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function p(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function m(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function g(e){return e.toString(this.encoding)}function v(e){return e&&e.length?this.write(e):""}var b=e("safe-buffer").Buffer,y=b.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};n.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=f,i.prototype.text=l,i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":228}],236:[function(e,t,n){(function(t,r){function o(e,t){this._id=e,this._clearFn=t}var i=e("process/browser.js").nextTick,a=Function.prototype.apply,u=Array.prototype.slice,s={},c=0;n.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=c++,r=!(arguments.length<2)&&u.call(arguments,1);return s[t]=!0,i(function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":208,timers:236}],237:[function(e,t,n){var r=e("buffer").Buffer;t.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(r.isBuffer(e)){for(var t=new Uint8Array(e.length),n=e.length,o=0;o<n;o++)t[o]=e[o];return t.buffer}throw new Error("Argument must be a Buffer")}},{buffer:73}],238:[function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(e,t,n){if(e&&c.isObject(e)&&e instanceof r)return e;var o=new r;return o.parse(e,t,n),o}function i(e){return c.isString(e)&&(e=o(e)),e instanceof r?e.format():r.prototype.format.call(e)}function a(e,t){return o(e,!1,!0).resolve(t)}function u(e,t){return e?o(e,!1,!0).resolveObject(t):t}var s=e("punycode"),c=e("./util");n.parse=o,n.resolve=a,n.resolveObject=u,n.format=i,n.Url=r;var l=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,d=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,p=["<",">",'"',"`"," ","\r","\n","\t"],m=["{","}","|","\\","^","`"].concat(p),h=["'"].concat(m),g=["%","/","?",";","#"].concat(h),v=["/","?","#"],b=/^[+a-z0-9A-Z_-]{0,63}$/,y=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},C={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=e("querystring");r.prototype.parse=function(e,t,n){if(!c.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),o=-1!==r&&r<e.indexOf("#")?"?":"#",i=e.split(o),a=/\\/g;i[0]=i[0].replace(a,"/"),e=i.join(o);var u=e;if(u=u.trim(),!n&&1===e.split("#").length){var f=d.exec(u);if(f)return this.path=u,this.href=u,this.pathname=f[1],f[2]?(this.search=f[2],this.query=t?_.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var p=l.exec(u);if(p){p=p[0];var m=p.toLowerCase();this.protocol=m,u=u.substr(p.length)}if(n||p||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===u.substr(0,2);!S||p&&x[p]||(u=u.substr(2),this.slashes=!0)}if(!x[p]&&(S||p&&!C[p])){for(var k=-1,T=0;T<v.length;T++){var E=u.indexOf(v[T]);-1!==E&&(-1===k||E<k)&&(k=E)}var O,N;N=-1===k?u.lastIndexOf("@"):u.lastIndexOf("@",k),-1!==N&&(O=u.slice(0,N),u=u.slice(N+1),this.auth=decodeURIComponent(O)),k=-1;for(var T=0;T<g.length;T++){var E=u.indexOf(g[T]);-1!==E&&(-1===k||E<k)&&(k=E)}-1===k&&(k=u.length),this.host=u.slice(0,k),u=u.slice(k),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var D=this.hostname.split(/\./),T=0,M=D.length;T<M;T++){var I=D[T];if(I&&!I.match(b)){for(var R="",P=0,L=I.length;P<L;P++)I.charCodeAt(P)>127?R+="x":R+=I[P];if(!R.match(b)){var j=D.slice(0,T),B=D.slice(T+1),z=I.match(y);z&&(j.push(z[1]),B.unshift(z[2])),B.length&&(u="/"+B.join(".")+u),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=s.toASCII(this.hostname));var F=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+F,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==u[0]&&(u="/"+u))}if(!w[m])for(var T=0,M=h.length;T<M;T++){var U=h[T];if(-1!==u.indexOf(U)){var V=encodeURIComponent(U);V===U&&(V=escape(U)),u=u.split(U).join(V)}}var q=u.indexOf("#");-1!==q&&(this.hash=u.substr(q),u=u.slice(0,q));var W=u.indexOf("?");if(-1!==W?(this.search=u.substr(W),this.query=u.substr(W+1),t&&(this.query=_.parse(this.query)),u=u.slice(0,W)):t&&(this.search="",this.query={}),u&&(this.pathname=u),C[m]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var F=this.pathname||"",$=this.search||"";this.path=F+$}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,i="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(i=_.stringify(this.query));var a=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||C[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+o+n+a+r},r.prototype.resolve=function(e){return this.resolveObject(o(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(c.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,o=Object.keys(this),i=0;i<o.length;i++){var a=o[i];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),s=0;s<u.length;s++){var l=u[s];"protocol"!==l&&(n[l]=e[l])}return C[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!C[e.protocol]){for(var f=Object.keys(e),d=0;d<f.length;d++){var p=f[d];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||x[e.protocol])n.pathname=e.pathname;else{for(var m=(e.pathname||"").split("/");m.length&&!(e.host=m.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),n.pathname=m.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var h=n.pathname||"",g=n.search||"";n.path=h+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=b||v||n.host&&e.pathname,w=y,_=n.pathname&&n.pathname.split("/")||[],m=e.pathname&&e.pathname.split("/")||[],S=n.protocol&&!C[n.protocol];if(S&&(n.hostname="",n.port=null,n.host&&(""===_[0]?_[0]=n.host:_.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===m[0]?m[0]=e.host:m.unshift(e.host)),e.host=null),y=y&&(""===m[0]||""===_[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,_=m;else if(m.length)_||(_=[]),_.pop(),_=_.concat(m),n.search=e.search,n.query=e.query;else if(!c.isNullOrUndefined(e.search)){if(S){n.hostname=n.host=_.shift();var k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");k&&(n.auth=k.shift(),n.host=n.hostname=k.shift())}return n.search=e.search,n.query=e.query,c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!_.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=_.slice(-1)[0],E=(n.host||e.host||_.length>1)&&("."===T||".."===T)||""===T,O=0,N=_.length;N>=0;N--)T=_[N],"."===T?_.splice(N,1):".."===T?(_.splice(N,1),O++):O&&(_.splice(N,1),O--);if(!y&&!w)for(;O--;O)_.unshift("..");!y||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),E&&"/"!==_.join("/").substr(-1)&&_.push("");var A=""===_[0]||_[0]&&"/"===_[0].charAt(0);if(S){n.hostname=n.host=A?"":_.length?_.shift():"";var k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");k&&(n.auth=k.shift(),n.host=n.hostname=k.shift())}return y=y||n.host&&_.length,y&&!A&&_.unshift(""),_.length?n.pathname=_.join("/"):(n.pathname=null,n.path=null),c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=f.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":239,punycode:209,querystring:212}],239:[function(e,t,n){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],240:[function(e,t,n){(function(e){function n(e,t){function n(){if(!o){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),o=!0}return e.apply(this,arguments)}if(r("noDeprecation"))return e;var o=!1;return n}function r(t){try{if(!e.localStorage)return!1}catch(e){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=n}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],241:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],242:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],243:[function(e,t,n){(function(t,r){function o(e,t){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(t)?r.showHidden=t:t&&n._extend(r,t),x(r.showHidden)&&(r.showHidden=!1),x(r.depth)&&(r.depth=2),x(r.colors)&&(r.colors=!1),x(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),s(r,e,r.depth)}function i(e,t){var n=o.styles[t];return n?"["+o.colors[n][0]+"m"+e+"["+o.colors[n][1]+"m":e}function a(e,t){return e}function u(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function s(e,t,r){if(e.customInspect&&t&&T(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(r,e);return y(o)||(o=s(e,o,r)),o}var i=c(e,t);if(i)return i;var a=Object.keys(t),h=u(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),k(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(t);if(0===a.length){if(T(t)){var g=t.name?": "+t.name:"";return e.stylize("[Function"+g+"]","special")}if(C(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(S(t))return e.stylize(Date.prototype.toString.call(t),"date");if(k(t))return l(t)}var v="",b=!1,w=["{","}"];if(m(t)&&(b=!0,w=["[","]"]),T(t)){v=" [Function"+(t.name?": "+t.name:"")+"]"}if(C(t)&&(v=" "+RegExp.prototype.toString.call(t)),S(t)&&(v=" "+Date.prototype.toUTCString.call(t)),k(t)&&(v=" "+l(t)),0===a.length&&(!b||0==t.length))return w[0]+v+w[1];if(r<0)return C(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var x;return x=b?f(e,t,r,h,a):a.map(function(n){return d(e,t,r,h,n,b)}),e.seen.pop(),p(x,v,w)}function c(e,t){if(x(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return b(t)?e.stylize(""+t,"number"):h(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,o){for(var i=[],a=0,u=t.length;a<u;++a)D(t,String(a))?i.push(d(e,t,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(d(e,t,n,r,o,!0))}),i}function d(e,t,n,r,o,i){var a,u,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),D(r,o)||(a="["+o+"]"),u||(e.seen.indexOf(c.value)<0?(u=g(n)?s(e,c.value,null):s(e,c.value,n-1),u.indexOf("\n")>-1&&(u=i?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),x(a)){if(i&&o.match(/^\d+$/))return u;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+u}function p(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function m(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return null==e}function b(e){return"number"==typeof e}function y(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function x(e){return void 0===e}function C(e){return _(e)&&"[object RegExp]"===O(e)}function _(e){return"object"==typeof e&&null!==e}function S(e){return _(e)&&"[object Date]"===O(e)}function k(e){return _(e)&&("[object Error]"===O(e)||e instanceof Error)}function T(e){return"function"==typeof e}function E(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function O(e){return Object.prototype.toString.call(e)}function N(e){return e<10?"0"+e.toString(10):e.toString(10)}function A(){var e=new Date,t=[N(e.getHours()),N(e.getMinutes()),N(e.getSeconds())].join(":");return[e.getDate(),P[e.getMonth()],t].join(" ")}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var M=/%[sdj%]/g;n.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,a=String(e).replace(M,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),u=r[n];n<i;u=r[++n])g(u)||!_(u)?a+=" "+u:a+=" "+o(u);return a},n.deprecate=function(e,o){function i(){if(!a){if(t.throwDeprecation)throw new Error(o);t.traceDeprecation?console.trace(o):console.error(o),a=!0}return e.apply(this,arguments)}if(x(r.process))return function(){return n.deprecate(e,o).apply(this,arguments)};if(!0===t.noDeprecation)return e;var a=!1;return i};var I,R={};n.debuglog=function(e){if(x(I)&&(I=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!R[e])if(new RegExp("\\b"+e+"\\b","i").test(I)){var r=t.pid;R[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else R[e]=function(){};return R[e]},n.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=m,n.isBoolean=h,n.isNull=g,n.isNullOrUndefined=v,n.isNumber=b,n.isString=y,n.isSymbol=w,n.isUndefined=x,n.isRegExp=C,n.isObject=_,n.isDate=S,n.isError=k,n.isFunction=T,n.isPrimitive=E,n.isBuffer=e("./support/isBuffer");var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",A(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":242,_process:208,inherits:241}],244:[function(e,t,n){"use strict";(function(){n.stripBOM=function(e){return"\ufeff"===e[0]?e.substring(1):e}}).call(void 0)},{}],245:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/helpers/typeof"),i=r(o),a=e("babel-runtime/core-js/object/keys"),u=r(a);(function(){var t,r,o,a,s,c={}.hasOwnProperty;t=e("xmlbuilder"),r=e("./defaults").defaults,a=function(e){return"string"==typeof e&&(e.indexOf("&")>=0||e.indexOf(">")>=0||e.indexOf("<")>=0)},s=function(e){return"<![CDATA["+o(e)+"]]>"},o=function(e){return e.replace("]]>","]]]]><![CDATA[>")},n.Builder=function(){function e(e){var t,n,o;this.options={},n=r[.2];for(t in n)c.call(n,t)&&(o=n[t],this.options[t]=o);for(t in e)c.call(e,t)&&(o=e[t],this.options[t]=o)}return e.prototype.buildObject=function(e){var n,o,l,f,d;return n=this.options.attrkey,o=this.options.charkey,1===(0,u.default)(e).length&&this.options.rootName===r[.2].rootName?(d=(0,u.default)(e)[0],e=e[d]):d=this.options.rootName,l=function(e){return function(t,r){var u,f,d,p,m,h;if("object"!==(void 0===r?"undefined":(0,i.default)(r)))e.options.cdata&&a(r)?t.raw(s(r)):t.txt(r);else if(Array.isArray(r)){for(p in r)if(c.call(r,p)){f=r[p];for(m in f)d=f[m],t=l(t.ele(m),d).up()}}else for(m in r)if(c.call(r,m))if(f=r[m],m===n){if("object"===(void 0===f?"undefined":(0,i.default)(f)))for(u in f)h=f[u],t=t.att(u,h)}else if(m===o)t=e.options.cdata&&a(f)?t.raw(s(f)):t.txt(f);else if(Array.isArray(f))for(p in f)c.call(f,p)&&(d=f[p],t="string"==typeof d?e.options.cdata&&a(d)?t.ele(m).raw(s(d)).up():t.ele(m,d).up():l(t.ele(m),d).up());else"object"===(void 0===f?"undefined":(0,i.default)(f))?t=l(t.ele(m),f).up():"string"==typeof f&&e.options.cdata&&a(f)?t=t.ele(m).raw(s(f)).up():(null==f&&(f=""),t=t.ele(m,f.toString()).up());return t}}(this),f=t.create(d,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),l(f,e).end(this.options.renderOpts)},e}()}).call(void 0)},{"./defaults":246,"babel-runtime/core-js/object/keys":60,"babel-runtime/helpers/typeof":67,xmlbuilder:282}],246:[function(e,t,n){"use strict";(function(){n.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(void 0)},{}],247:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/core-js/promise"),i=r(o),a=e("babel-runtime/core-js/object/get-own-property-names"),u=r(a),s=e("babel-runtime/core-js/object/keys"),c=r(s),l=e("babel-runtime/helpers/typeof"),f=r(l);(function(){var t,r,o,a,s,l,d,p,m=function(e,t){return function(){return e.apply(t,arguments)}},h=function(e,t){function n(){this.constructor=e}for(var r in t)g.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},g={}.hasOwnProperty;d=e("sax"),o=e("events"),t=e("./bom"),l=e("./processors"),p=e("timers").setImmediate,r=e("./defaults").defaults,a=function(e){return"object"===(void 0===e?"undefined":(0,f.default)(e))&&null!=e&&0===(0,c.default)(e).length},s=function(e,t,n){var r,o,i;for(r=0,o=e.length;r<o;r++)i=e[r],t=i(t,n);return t},n.Parser=function(e){function o(e){this.parseStringPromise=m(this.parseStringPromise,this),this.parseString=m(this.parseString,this),this.reset=m(this.reset,this),this.assignOrPush=m(this.assignOrPush,this),this.processAsync=m(this.processAsync,this);var t,o,i;if(!(this instanceof n.Parser))return new n.Parser(e);this.options={},o=r[.2];for(t in o)g.call(o,t)&&(i=o[t],this.options[t]=i);for(t in e)g.call(e,t)&&(i=e[t],this.options[t]=i);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(l.normalize)),this.reset()}return h(o,e),o.prototype.processAsync=function(){var e,t;try{return this.remaining.length<=this.options.chunkSize?(e=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(e),this.saxParser.close()):(e=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(e),p(this.processAsync))}catch(e){if(t=e,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(t)}},o.prototype.assignOrPush=function(e,t,n){return t in e?(e[t]instanceof Array||(e[t]=[e[t]]),e[t].push(n)):this.options.explicitArray?e[t]=[n]:e[t]=n},o.prototype.reset=function(){var e,t,n,r;return this.removeAllListeners(),this.saxParser=d.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(e){return function(t){if(e.saxParser.resume(),!e.saxParser.errThrown)return e.saxParser.errThrown=!0,e.emit("error",t)}}(this),this.saxParser.onend=function(e){return function(){if(!e.saxParser.ended)return e.saxParser.ended=!0,e.emit("end",e.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,r=[],e=this.options.attrkey,t=this.options.charkey,this.saxParser.onopentag=function(n){return function(o){var i,a,u,c,l;if(u={},u[t]="",!n.options.ignoreAttrs){l=o.attributes;for(i in l)g.call(l,i)&&(e in u||n.options.mergeAttrs||(u[e]={}),a=n.options.attrValueProcessors?s(n.options.attrValueProcessors,o.attributes[i],i):o.attributes[i],c=n.options.attrNameProcessors?s(n.options.attrNameProcessors,i):i,n.options.mergeAttrs?n.assignOrPush(u,c,a):u[e][c]=a)}return u["#name"]=n.options.tagNameProcessors?s(n.options.tagNameProcessors,o.name):o.name,n.options.xmlns&&(u[n.options.xmlnskey]={uri:o.uri,local:o.local}),r.push(u)}}(this),this.saxParser.onclosetag=function(e){return function(){var n,o,i,l,d,p,m,h,v,b;if(p=r.pop(),d=p["#name"],e.options.explicitChildren&&e.options.preserveChildrenOrder||delete p["#name"],!0===p.cdata&&(n=p.cdata,delete p.cdata),v=r[r.length-1],p[t].match(/^\s*$/)&&!n?(o=p[t],delete p[t]):(e.options.trim&&(p[t]=p[t].trim()),e.options.normalize&&(p[t]=p[t].replace(/\s{2,}/g," ").trim()),p[t]=e.options.valueProcessors?s(e.options.valueProcessors,p[t],d):p[t],1===(0,c.default)(p).length&&t in p&&!e.EXPLICIT_CHARKEY&&(p=p[t])),a(p)&&(p=""!==e.options.emptyTag?e.options.emptyTag:o),null!=e.options.validator&&(b="/"+function(){var e,t,n;for(n=[],e=0,t=r.length;e<t;e++)l=r[e],n.push(l["#name"]);return n}().concat(d).join("/"),function(){var t;try{p=e.options.validator(b,v&&v[d],p)}catch(n){return t=n,e.emit("error",t)}}()),e.options.explicitChildren&&!e.options.mergeAttrs&&"object"===(void 0===p?"undefined":(0,f.default)(p)))if(e.options.preserveChildrenOrder){if(v){v[e.options.childkey]=v[e.options.childkey]||[],m={};for(i in p)g.call(p,i)&&(m[i]=p[i]);v[e.options.childkey].push(m),delete p["#name"],1===(0,c.default)(p).length&&t in p&&!e.EXPLICIT_CHARKEY&&(p=p[t])}}else l={},e.options.attrkey in p&&(l[e.options.attrkey]=p[e.options.attrkey],delete p[e.options.attrkey]),!e.options.charsAsChildren&&e.options.charkey in p&&(l[e.options.charkey]=p[e.options.charkey],delete p[e.options.charkey]),(0,u.default)(p).length>0&&(l[e.options.childkey]=p),p=l;return r.length>0?e.assignOrPush(v,d,p):(e.options.explicitRoot&&(h=p,p={},p[d]=h),e.resultObject=p,e.saxParser.ended=!0,e.emit("end",e.resultObject))}}(this),n=function(e){return function(n){var o,i;if(i=r[r.length-1])return i[t]+=n,e.options.explicitChildren&&e.options.preserveChildrenOrder&&e.options.charsAsChildren&&(e.options.includeWhiteChars||""!==n.replace(/\\n/g,"").trim())&&(i[e.options.childkey]=i[e.options.childkey]||[],o={"#name":"__text__"},o[t]=n,e.options.normalize&&(o[t]=o[t].replace(/\s{2,}/g," ").trim()),i[e.options.childkey].push(o)),i}}(this),this.saxParser.ontext=n,this.saxParser.oncdata=function(e){return function(e){var t;if(t=n(e))return t.cdata=!0}}()},o.prototype.parseString=function(e,n){var r;null!=n&&"function"==typeof n&&(this.on("end",function(e){return this.reset(),n(null,e)}),this.on("error",function(e){return this.reset(),n(e)}));try{return e=e.toString(),""===e.trim()?(this.emit("end",null),!0):(e=t.stripBOM(e),this.options.async?(this.remaining=e,p(this.processAsync),this.saxParser):this.saxParser.write(e).close())}catch(e){if(r=e,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",r),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw r}},o.prototype.parseStringPromise=function(e){return new i.default(function(t){return function(n,r){return t.parseString(e,function(e,t){return e?r(e):n(t)})}}(this))},o}(o),n.parseString=function(e,t,r){var o,i,a;return null!=r?("function"==typeof r&&(o=r),"object"===(void 0===t?"undefined":(0,f.default)(t))&&(i=t)):("function"==typeof t&&(o=t),i={}),a=new n.Parser(i),a.parseString(e,o)},n.parseStringPromise=function(e,t){var r,o;return"object"===(void 0===t?"undefined":(0,f.default)(t))&&(r=t),o=new n.Parser(r),o.parseStringPromise(e)}}).call(void 0)},{"./bom":244,"./defaults":246,"./processors":248,"babel-runtime/core-js/object/get-own-property-names":58,"babel-runtime/core-js/object/keys":60,"babel-runtime/core-js/promise":61,"babel-runtime/helpers/typeof":67,events:192,sax:229,timers:236}],248:[function(e,t,n){"use strict";(function(){var e;e=new RegExp(/(?!xmlns)^.*:/),n.normalize=function(e){return e.toLowerCase()},n.firstCharLowerCase=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},n.stripPrefix=function(t){return t.replace(e,"")},n.parseNumbers=function(e){return isNaN(e)||(e=e%1==0?parseInt(e,10):parseFloat(e)),e},n.parseBooleans=function(e){return/^(?:true|false)$/i.test(e)&&(e="true"===e.toLowerCase()),e}}).call(void 0)},{}],249:[function(e,t,n){"use strict";(function(){var t,r,o,i,a=function(e,t){function n(){this.constructor=e}for(var r in t)u.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},u={}.hasOwnProperty;r=e("./defaults"),t=e("./builder"),o=e("./parser"),i=e("./processors"),n.defaults=r.defaults,n.processors=i,n.ValidationError=function(e){function t(e){this.message=e}return a(t,e),t}(Error),n.Builder=t.Builder,n.Parser=o.Parser,n.parseString=o.parseString,n.parseStringPromise=o.parseStringPromise}).call(void 0)},{"./builder":245,"./defaults":246,"./parser":247,"./processors":248}],250:[function(e,t,n){"use strict";(function(){t.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(void 0)},{}],251:[function(e,t,n){"use strict";(function(){t.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(void 0)},{}],252:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/core-js/object/get-prototype-of"),i=r(o),a=e("babel-runtime/helpers/typeof"),u=r(a),s=e("babel-runtime/core-js/object/assign"),c=r(s);(function(){var e,n,r,o,a,s,l,f=[].slice,d={}.hasOwnProperty;e=function(){var e,t,n,r,o,i;if(i=arguments[0],o=2<=arguments.length?f.call(arguments,1):[],a(c.default))c.default.apply(null,arguments);else for(e=0,n=o.length;e<n;e++)if(null!=(r=o[e]))for(t in r)d.call(r,t)&&(i[t]=r[t]);return i},a=function(e){return!!e&&"[object Function]"===Object.prototype.toString.call(e)},s=function(e){var t;return!!e&&("function"===(t=void 0===e?"undefined":(0,u.default)(e))||"object"===t)},r=function(e){return a(Array.isArray)?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},o=function(e){var t;if(r(e))return!e.length;for(t in e)if(d.call(e,t))return!1;return!0},l=function(e){var t,n;return s(e)&&(n=(0,i.default)(e))&&(t=n.constructor)&&"function"==typeof t&&t instanceof t&&Function.prototype.toString.call(t)===Function.prototype.toString.call(Object)},n=function(e){return a(e.valueOf)?e.valueOf():e},t.exports.assign=e,t.exports.isFunction=a,t.exports.isObject=s,t.exports.isArray=r,t.exports.isEmpty=o,t.exports.isPlainObject=l,t.exports.getValue=n}).call(void 0)},{"babel-runtime/core-js/object/assign":54,"babel-runtime/core-js/object/get-prototype-of":59,"babel-runtime/helpers/typeof":67}],253:[function(e,t,n){"use strict";(function(){t.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(void 0)},{}],254:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);(function(){var n;n=e("./NodeType"),e("./XMLNode"),t.exports=function(){function e(e,t,r){if(this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==t)throw new Error("Missing attribute name. "+this.debugInfo(t));this.name=this.stringify.name(t),this.value=this.stringify.attValue(r),this.type=n.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(e.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}}),Object.defineProperty(e.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(e.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(e.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(e.prototype,"specified",{get:function(){return!0}}),e.prototype.clone=function(){return(0,o.default)(this)},e.prototype.toString=function(e){return this.options.writer.attribute(this,this.options.writer.filterOptions(e))},e.prototype.debugInfo=function(e){return e=e||this.name,null==e?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},e.prototype.isEqualNode=function(e){return e.namespaceURI===this.namespaceURI&&(e.prefix===this.prefix&&(e.localName===this.localName&&e.value===this.value))},e}()}).call(void 0)},{"./NodeType":251,"./XMLNode":273,"babel-runtime/core-js/object/create":55}],255:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);(function(){var n,r,i=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("./NodeType"),r=e("./XMLCharacterData"),t.exports=function(e){function t(e,r){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=n.CData,this.value=this.stringify.cdata(r)}return i(t,e),t.prototype.clone=function(){return(0,o.default)(this)},t.prototype.toString=function(e){return this.options.writer.cdata(this,this.options.writer.filterOptions(e))},t}(r)}).call(void 0)},{"./NodeType":251,"./XMLCharacterData":256,"babel-runtime/core-js/object/create":55}],256:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);(function(){var n,r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;n=e("./XMLNode"),t.exports=function(e){function t(e){t.__super__.constructor.call(this,e),this.value=""}return r(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.value},set:function(e){return this.value=e||""}}),Object.defineProperty(t.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(t.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}}),t.prototype.clone=function(){return(0,o.default)(this)},t.prototype.substringData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.appendData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.insertData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.deleteData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.replaceData=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isEqualNode=function(e){return!!t.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.data===this.data},t}(n)}).call(void 0)},{"./XMLNode":273,"babel-runtime/core-js/object/create":55}],257:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);(function(){var n,r,i=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("./NodeType"),r=e("./XMLCharacterData"),t.exports=function(e){function t(e,r){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=n.Comment,this.value=this.stringify.comment(r)}return i(t,e),t.prototype.clone=function(){return(0,o.default)(this)},t.prototype.toString=function(e){return this.options.writer.comment(this,this.options.writer.filterOptions(e))},t}(r)}).call(void 0)},{"./NodeType":251,"./XMLCharacterData":256,"babel-runtime/core-js/object/create":55}],258:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/core-js/object/keys"),i=r(o),a=e("babel-runtime/core-js/object/create"),u=r(a);(function(){var n,r;n=e("./XMLDOMErrorHandler"),r=e("./XMLDOMStringList"),t.exports=function(){function e(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new n,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=(0,u.default)(this.defaultParams)}return Object.defineProperty(e.prototype,"parameterNames",{get:function(){return new r((0,i.default)(this.defaultParams))}}),e.prototype.getParameter=function(e){return this.params.hasOwnProperty(e)?this.params[e]:null},e.prototype.canSetParameter=function(e,t){return!0},e.prototype.setParameter=function(e,t){return null!=t?this.params[e]=t:delete this.params[e]},e}()}).call(void 0)},{"./XMLDOMErrorHandler":259,"./XMLDOMStringList":261,"babel-runtime/core-js/object/create":55,"babel-runtime/core-js/object/keys":60}],259:[function(e,t,n){"use strict";(function(){t.exports=function(){function e(){}return e.prototype.handleError=function(e){throw new Error(e)},e}()}).call(void 0)},{}],260:[function(e,t,n){"use strict";(function(){t.exports=function(){function e(){}return e.prototype.hasFeature=function(e,t){return!0},e.prototype.createDocumentType=function(e,t,n){throw new Error("This DOM method is not implemented.")},e.prototype.createDocument=function(e,t,n){throw new Error("This DOM method is not implemented.")},e.prototype.createHTMLDocument=function(e){throw new Error("This DOM method is not implemented.")},e.prototype.getFeature=function(e,t){throw new Error("This DOM method is not implemented.")},e}()}).call(void 0)},{}],261:[function(e,t,n){"use strict";(function(){t.exports=function(){function e(e){this.arr=e||[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this.arr.length}}),e.prototype.item=function(e){return this.arr[e]||null},e.prototype.contains=function(e){return-1!==this.arr.indexOf(e)},e}()}).call(void 0)},{}],262:[function(e,t,n){"use strict";(function(){var n,r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=e("./XMLNode"),n=e("./NodeType"),t.exports=function(e){function t(e,r,o,i,a,u){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==o)throw new Error("Missing DTD attribute name. "+this.debugInfo(r));if(!i)throw new Error("Missing DTD attribute type. "+this.debugInfo(r));if(!a)throw new Error("Missing DTD attribute default. "+this.debugInfo(r));if(0!==a.indexOf("#")&&(a="#"+a),!a.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(r));if(u&&!a.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(r));this.elementName=this.stringify.name(r),this.type=n.AttributeDeclaration,this.attributeName=this.stringify.name(o),this.attributeType=this.stringify.dtdAttType(i),u&&(this.defaultValue=this.stringify.dtdAttDefault(u)),this.defaultValueType=a}return o(t,e),t.prototype.toString=function(e){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(e))},t}(r)}).call(void 0)},{"./NodeType":251,"./XMLNode":273}],263:[function(e,t,n){"use strict";(function(){var n,r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=e("./XMLNode"),n=e("./NodeType"),t.exports=function(e){function t(e,r,o){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing DTD element name. "+this.debugInfo());o||(o="(#PCDATA)"),Array.isArray(o)&&(o="("+o.join(",")+")"),this.name=this.stringify.name(r),this.type=n.ElementDeclaration,this.value=this.stringify.dtdElementValue(o)}return o(t,e),t.prototype.toString=function(e){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(e))},t}(r)}).call(void 0)},{"./NodeType":251,"./XMLNode":273}],264:[function(e,t,n){"use strict";(function(){var n,r,o,i=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;o=e("./Utility").isObject,r=e("./XMLNode"),n=e("./NodeType"),t.exports=function(e){function t(e,r,i,a){if(t.__super__.constructor.call(this,e),null==i)throw new Error("Missing DTD entity name. "+this.debugInfo(i));if(null==a)throw new Error("Missing DTD entity value. "+this.debugInfo(i));if(this.pe=!!r,this.name=this.stringify.name(i),this.type=n.EntityDeclaration,o(a)){if(!a.pubID&&!a.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(i));if(a.pubID&&!a.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(i));if(this.internal=!1,null!=a.pubID&&(this.pubID=this.stringify.dtdPubID(a.pubID)),null!=a.sysID&&(this.sysID=this.stringify.dtdSysID(a.sysID)),null!=a.nData&&(this.nData=this.stringify.dtdNData(a.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(i))}else this.value=this.stringify.dtdEntityValue(a),this.internal=!0}return i(t,e),Object.defineProperty(t.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(t.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(t.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(t.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(t.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(t.prototype,"xmlVersion",{get:function(){return null}}),t.prototype.toString=function(e){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(e))},t}(r)}).call(void 0)},{"./NodeType":251,"./Utility":252,"./XMLNode":273}],265:[function(e,t,n){"use strict";(function(){var n,r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=e("./XMLNode"),n=e("./NodeType"),t.exports=function(e){function t(e,r,o){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing DTD notation name. "+this.debugInfo(r));if(!o.pubID&&!o.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(r));this.name=this.stringify.name(r),this.type=n.NotationDeclaration,null!=o.pubID&&(this.pubID=this.stringify.dtdPubID(o.pubID)),null!=o.sysID&&(this.sysID=this.stringify.dtdSysID(o.sysID))}return o(t,e),Object.defineProperty(t.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(t.prototype,"systemId",{get:function(){return this.sysID}}),t.prototype.toString=function(e){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(e))},t}(r)}).call(void 0)},{"./NodeType":251,"./XMLNode":273}],266:[function(e,t,n){"use strict";(function(){var n,r,o,i=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;o=e("./Utility").isObject,r=e("./XMLNode"),n=e("./NodeType"),t.exports=function(e){function t(e,r,i,a){var u;t.__super__.constructor.call(this,e),o(r)&&(u=r,r=u.version,i=u.encoding,a=u.standalone),r||(r="1.0"),this.type=n.Declaration,this.version=this.stringify.xmlVersion(r),null!=i&&(this.encoding=this.stringify.xmlEncoding(i)),null!=a&&(this.standalone=this.stringify.xmlStandalone(a))}return i(t,e),t.prototype.toString=function(e){return this.options.writer.declaration(this,this.options.writer.filterOptions(e))},t}(r)}).call(void 0)},{"./NodeType":251,"./Utility":252,"./XMLNode":273}],267:[function(e,t,n){"use strict";(function(){var n,r,o,i,a,u,s,c,l=function(e,t){function n(){this.constructor=e}for(var r in t)f.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},f={}.hasOwnProperty;c=e("./Utility").isObject,s=e("./XMLNode"),n=e("./NodeType"),r=e("./XMLDTDAttList"),i=e("./XMLDTDEntity"),o=e("./XMLDTDElement"),a=e("./XMLDTDNotation"),u=e("./XMLNamedNodeMap"),t.exports=function(e){function t(e,r,o){var i,a,u,s,l,f;if(t.__super__.constructor.call(this,e),this.type=n.DocType,e.children)for(s=e.children,a=0,u=s.length;a<u;a++)if(i=s[a],i.type===n.Element){this.name=i.name;break}this.documentObject=e,c(r)&&(l=r,r=l.pubID,o=l.sysID),null==o&&(f=[r,o],o=f[0],r=f[1]),null!=r&&(this.pubID=this.stringify.dtdPubID(r)),null!=o&&(this.sysID=this.stringify.dtdSysID(o))}return l(t,e),Object.defineProperty(t.prototype,"entities",{get:function(){var e,t,r,o,i;for(o={},i=this.children,t=0,r=i.length;t<r;t++)e=i[t],e.type!==n.EntityDeclaration||e.pe||(o[e.name]=e);return new u(o)}}),Object.defineProperty(t.prototype,"notations",{get:function(){var e,t,r,o,i;for(o={},i=this.children,t=0,r=i.length;t<r;t++)e=i[t],e.type===n.NotationDeclaration&&(o[e.name]=e);return new u(o)}}),Object.defineProperty(t.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(t.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(t.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),t.prototype.element=function(e,t){var n;return n=new o(this,e,t),this.children.push(n),this},t.prototype.attList=function(e,t,n,o,i){var a;return a=new r(this,e,t,n,o,i),this.children.push(a),this},t.prototype.entity=function(e,t){var n;return n=new i(this,!1,e,t),this.children.push(n),this},t.prototype.pEntity=function(e,t){var n;return n=new i(this,!0,e,t),this.children.push(n),this},t.prototype.notation=function(e,t){var n;return n=new a(this,e,t),this.children.push(n),this},t.prototype.toString=function(e){return this.options.writer.docType(this,this.options.writer.filterOptions(e))},t.prototype.ele=function(e,t){return this.element(e,t)},t.prototype.att=function(e,t,n,r,o){return this.attList(e,t,n,r,o)},t.prototype.ent=function(e,t){return this.entity(e,t)},t.prototype.pent=function(e,t){return this.pEntity(e,t)},t.prototype.not=function(e,t){return this.notation(e,t)},t.prototype.up=function(){return this.root()||this.documentObject},t.prototype.isEqualNode=function(e){return!!t.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&(e.name===this.name&&(e.publicId===this.publicId&&e.systemId===this.systemId))},t}(s)}).call(void 0)},{"./NodeType":251,"./Utility":252,"./XMLDTDAttList":262,"./XMLDTDElement":263,"./XMLDTDEntity":264,"./XMLDTDNotation":265,"./XMLNamedNodeMap":272,"./XMLNode":273}],268:[function(e,t,n){"use strict";(function(){var n,r,o,i,a,u,s,c=function(e,t){function n(){this.constructor=e}for(var r in t)l.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},l={}.hasOwnProperty;s=e("./Utility").isPlainObject,o=e("./XMLDOMImplementation"),r=e("./XMLDOMConfiguration"),i=e("./XMLNode"),n=e("./NodeType"),u=e("./XMLStringifier"),a=e("./XMLStringWriter"),t.exports=function(e){function t(e){t.__super__.constructor.call(this,null),this.name="#document",this.type=n.Document,this.documentURI=null,this.domConfig=new r,e||(e={}),e.writer||(e.writer=new a),this.options=e,this.stringify=new u(e)}return c(t,e),Object.defineProperty(t.prototype,"implementation",{value:new o}),Object.defineProperty(t.prototype,"doctype",{get:function(){var e,t,r,o;for(o=this.children,t=0,r=o.length;t<r;t++)if(e=o[t],e.type===n.DocType)return e;return null}}),Object.defineProperty(t.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(t.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(t.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(t.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===n.Declaration?this.children[0].encoding:null}}),Object.defineProperty(t.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===n.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(t.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===n.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(t.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(t.prototype,"origin",{get:function(){return null}}),Object.defineProperty(t.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(t.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(t.prototype,"contentType",{get:function(){return null}}),t.prototype.end=function(e){var t;return t={},e?s(e)&&(t=e,e=this.options.writer):e=this.options.writer,e.document(this,e.filterOptions(t))},t.prototype.toString=function(e){return this.options.writer.document(this,this.options.writer.filterOptions(e))},t.prototype.createElement=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createTextNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createComment=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createCDATASection=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createProcessingInstruction=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createAttribute=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createEntityReference=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.importNode=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createElementNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementById=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.adoptNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.renameNode=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByClassName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createEvent=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createNodeIterator=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createTreeWalker=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t}(i)}).call(void 0)},{"./NodeType":251,"./Utility":252,"./XMLDOMConfiguration":258,"./XMLDOMImplementation":260,"./XMLNode":273,"./XMLStringWriter":278,"./XMLStringifier":279}],269:[function(e,t,n){"use strict";(function(){var n,r,o,i,a,u,s,c,l,f,d,p,m,h,g,v,b,y,w,x,C,_,S,k={}.hasOwnProperty;S=e("./Utility"),C=S.isObject,x=S.isFunction,_=S.isPlainObject,w=S.getValue,n=e("./NodeType"),p=e("./XMLDocument"),m=e("./XMLElement"),i=e("./XMLCData"),a=e("./XMLComment"),g=e("./XMLRaw"),y=e("./XMLText"),h=e("./XMLProcessingInstruction"),f=e("./XMLDeclaration"),d=e("./XMLDocType"),u=e("./XMLDTDAttList"),c=e("./XMLDTDEntity"),s=e("./XMLDTDElement"),l=e("./XMLDTDNotation"),o=e("./XMLAttribute"),b=e("./XMLStringifier"),v=e("./XMLStringWriter"),r=e("./WriterState"),t.exports=function(){function e(e,t,r){var o;this.name="?xml",this.type=n.Document,e||(e={}),o={},e.writer?_(e.writer)&&(o=e.writer,e.writer=new v):e.writer=new v,this.options=e,this.writer=e.writer,this.writerOptions=this.writer.filterOptions(o),this.stringify=new b(e),this.onDataCallback=t||function(){},this.onEndCallback=r||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return e.prototype.createChildNode=function(e){var t,r,o,i,a,u,s,c;switch(e.type){case n.CData:this.cdata(e.value);break;case n.Comment:this.comment(e.value);break;case n.Element:o={},s=e.attribs;for(r in s)k.call(s,r)&&(t=s[r],o[r]=t.value);this.node(e.name,o);break;case n.Dummy:this.dummy();break;case n.Raw:this.raw(e.value);break;case n.Text:this.text(e.value);break;case n.ProcessingInstruction:this.instruction(e.target,e.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+e.constructor.name)}for(c=e.children,a=0,u=c.length;a<u;a++)i=c[a],this.createChildNode(i),i.type===n.Element&&this.up();return this},e.prototype.dummy=function(){return this},e.prototype.node=function(e,t,n){var r;if(null==e)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(e));return this.openCurrent(),e=w(e),null==t&&(t={}),t=w(t),C(t)||(r=[t,n],n=r[0],t=r[1]),this.currentNode=new m(this,e,t),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=n&&this.text(n),this},e.prototype.element=function(e,t,r){var o,i,a,u,s,c;if(this.currentNode&&this.currentNode.type===n.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(e)||C(e)||x(e))for(u=this.options.noValidation,this.options.noValidation=!0,c=new p(this.options).element("TEMP_ROOT"),c.element(e),this.options.noValidation=u,s=c.children,i=0,a=s.length;i<a;i++)o=s[i],this.createChildNode(o),o.type===n.Element&&this.up();else this.node(e,t,r);return this},e.prototype.attribute=function(e,t){var n,r;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(e));if(null!=e&&(e=w(e)),C(e))for(n in e)k.call(e,n)&&(r=e[n],this.attribute(n,r));else x(t)&&(t=t.apply()),this.options.keepNullAttributes&&null==t?this.currentNode.attribs[e]=new o(this,e,""):null!=t&&(this.currentNode.attribs[e]=new o(this,e,t));return this},e.prototype.text=function(e){var t;return this.openCurrent(),t=new y(this,e),this.onData(this.writer.text(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.cdata=function(e){var t;return this.openCurrent(),t=new i(this,e),this.onData(this.writer.cdata(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.comment=function(e){var t;return this.openCurrent(),t=new a(this,e),this.onData(this.writer.comment(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.raw=function(e){var t;return this.openCurrent(),t=new g(this,e),this.onData(this.writer.raw(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.instruction=function(e,t){var n,r,o,i,a;if(this.openCurrent(),null!=e&&(e=w(e)),null!=t&&(t=w(t)),Array.isArray(e))for(n=0,i=e.length;n<i;n++)r=e[n],this.instruction(r);else if(C(e))for(r in e)k.call(e,r)&&(o=e[r],this.instruction(r,o));else x(t)&&(t=t.apply()),a=new h(this,e,t),this.onData(this.writer.processingInstruction(a,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},e.prototype.declaration=function(e,t,n){var r;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return r=new f(this,e,t,n),this.onData(this.writer.declaration(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.doctype=function(e,t,n){if(this.openCurrent(),null==e)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new d(this,t,n),this.currentNode.rootNodeName=e,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},e.prototype.dtdElement=function(e,t){var n;return this.openCurrent(),n=new s(this,e,t),this.onData(this.writer.dtdElement(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.attList=function(e,t,n,r,o){var i;return this.openCurrent(),i=new u(this,e,t,n,r,o),this.onData(this.writer.dtdAttList(i,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.entity=function(e,t){var n;return this.openCurrent(),n=new c(this,!1,e,t),this.onData(this.writer.dtdEntity(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.pEntity=function(e,t){var n;return this.openCurrent(),n=new c(this,!0,e,t),this.onData(this.writer.dtdEntity(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.notation=function(e,t){var n;return this.openCurrent(),n=new l(this,e,t),this.onData(this.writer.dtdNotation(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},e.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},e.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},e.prototype.openNode=function(e){var t,o,i,a;if(!e.isOpen){if(this.root||0!==this.currentLevel||e.type!==n.Element||(this.root=e),o="",e.type===n.Element){this.writerOptions.state=r.OpenTag,o=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<"+e.name,a=e.attribs;for(i in a)k.call(a,i)&&(t=a[i],o+=this.writer.attribute(t,this.writerOptions,this.currentLevel));o+=(e.children?">":"/>")+this.writer.endline(e,this.writerOptions,this.currentLevel),this.writerOptions.state=r.InsideTag}else this.writerOptions.state=r.OpenTag,o=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+e.rootNodeName,e.pubID&&e.sysID?o+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(o+=' SYSTEM "'+e.sysID+'"'),e.children?(o+=" [",this.writerOptions.state=r.InsideTag):(this.writerOptions.state=r.CloseTag,o+=">"),o+=this.writer.endline(e,this.writerOptions,this.currentLevel);return this.onData(o,this.currentLevel),e.isOpen=!0}},e.prototype.closeNode=function(e){var t;if(!e.isClosed)return t="",this.writerOptions.state=r.CloseTag,t=e.type===n.Element?this.writer.indent(e,this.writerOptions,this.currentLevel)+"</"+e.name+">"+this.writer.endline(e,this.writerOptions,this.currentLevel):this.writer.indent(e,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(e,this.writerOptions,this.currentLevel),this.writerOptions.state=r.None,this.onData(t,this.currentLevel),e.isClosed=!0},e.prototype.onData=function(e,t){return this.documentStarted=!0,this.onDataCallback(e,t+1)},e.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},e.prototype.debugInfo=function(e){return null==e?"":"node: <"+e+">"},e.prototype.ele=function(){return this.element.apply(this,arguments)},e.prototype.nod=function(e,t,n){return this.node(e,t,n)},e.prototype.txt=function(e){return this.text(e)},e.prototype.dat=function(e){return this.cdata(e)},e.prototype.com=function(e){return this.comment(e)},e.prototype.ins=function(e,t){return this.instruction(e,t)},e.prototype.dec=function(e,t,n){return this.declaration(e,t,n)},e.prototype.dtd=function(e,t,n){return this.doctype(e,t,n)},e.prototype.e=function(e,t,n){return this.element(e,t,n)},e.prototype.n=function(e,t,n){return this.node(e,t,n)},e.prototype.t=function(e){return this.text(e)},e.prototype.d=function(e){return this.cdata(e)},e.prototype.c=function(e){return this.comment(e)},e.prototype.r=function(e){return this.raw(e)},e.prototype.i=function(e,t){return this.instruction(e,t)},e.prototype.att=function(){return this.currentNode&&this.currentNode.type===n.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.a=function(){return this.currentNode&&this.currentNode.type===n.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.ent=function(e,t){return this.entity(e,t)},e.prototype.pent=function(e,t){return this.pEntity(e,t)},e.prototype.not=function(e,t){return this.notation(e,t)},e}()}).call(void 0)},{"./NodeType":251,"./Utility":252,"./WriterState":253,"./XMLAttribute":254,"./XMLCData":255,"./XMLComment":257,"./XMLDTDAttList":262,"./XMLDTDElement":263,"./XMLDTDEntity":264,"./XMLDTDNotation":265,"./XMLDeclaration":266,"./XMLDocType":267,"./XMLDocument":268,"./XMLElement":271,"./XMLProcessingInstruction":275,"./XMLRaw":276,"./XMLStringWriter":278,"./XMLStringifier":279,"./XMLText":280}],270:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);(function(){var n,r,i=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;r=e("./XMLNode"),n=e("./NodeType"),t.exports=function(e){function t(e){t.__super__.constructor.call(this,e),this.type=n.Dummy}return i(t,e),t.prototype.clone=function(){return(0,o.default)(this)},t.prototype.toString=function(e){return""},t}(r)}).call(void 0)},{"./NodeType":251,"./XMLNode":273,"babel-runtime/core-js/object/create":55}],271:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);(function(){var n,r,i,a,u,s,c,l,f=function(e,t){function n(){this.constructor=e}for(var r in t)d.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},d={}.hasOwnProperty;l=e("./Utility"),c=l.isObject,s=l.isFunction,u=l.getValue,a=e("./XMLNode"),n=e("./NodeType"),r=e("./XMLAttribute"),i=e("./XMLNamedNodeMap"),t.exports=function(e){function t(e,r,o){var i,a,u,s;if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(r),this.type=n.Element,this.attribs={},this.schemaTypeInfo=null,null!=o&&this.attribute(o),e.type===n.Document&&(this.isRoot=!0,this.documentObject=e,e.rootObject=this,e.children))for(s=e.children,a=0,u=s.length;a<u;a++)if(i=s[a],i.type===n.DocType){i.name=this.name;break}}return f(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(t.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(t.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(t.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(t.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(t.prototype,"attributes",{get:function(){return this.attributeMap&&this.attributeMap.nodes||(this.attributeMap=new i(this.attribs)),this.attributeMap}}),t.prototype.clone=function(){var e,t,n,r;n=(0,o.default)(this),n.isRoot&&(n.documentObject=null),n.attribs={},r=this.attribs;for(t in r)d.call(r,t)&&(e=r[t],n.attribs[t]=e.clone());return n.children=[],this.children.forEach(function(e){var t;return t=e.clone(),t.parent=n,n.children.push(t)}),n},t.prototype.attribute=function(e,t){var n,o;if(null!=e&&(e=u(e)),c(e))for(n in e)d.call(e,n)&&(o=e[n],this.attribute(n,o));else s(t)&&(t=t.apply()),this.options.keepNullAttributes&&null==t?this.attribs[e]=new r(this,e,""):null!=t&&(this.attribs[e]=new r(this,e,t));return this},t.prototype.removeAttribute=function(e){var t,n,r;if(null==e)throw new Error("Missing attribute name. "+this.debugInfo());if(e=u(e),Array.isArray(e))for(n=0,r=e.length;n<r;n++)t=e[n],delete this.attribs[t];else delete this.attribs[e];return this},t.prototype.toString=function(e){return this.options.writer.element(this,this.options.writer.filterOptions(e))},t.prototype.att=function(e,t){return this.attribute(e,t)},t.prototype.a=function(e,t){return this.attribute(e,t)},t.prototype.getAttribute=function(e){return this.attribs.hasOwnProperty(e)?this.attribs[e].value:null},t.prototype.setAttribute=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getAttributeNode=function(e){return this.attribs.hasOwnProperty(e)?this.attribs[e]:null},t.prototype.setAttributeNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.removeAttributeNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setAttributeNS=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.removeAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getAttributeNodeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setAttributeNodeNS=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.hasAttribute=function(e){return this.attribs.hasOwnProperty(e)},t.prototype.hasAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setIdAttribute=function(e,t){return this.attribs.hasOwnProperty(e)?this.attribs[e].isId:t},t.prototype.setIdAttributeNS=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setIdAttributeNode=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByClassName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isEqualNode=function(e){var n,r,o;if(!t.__super__.isEqualNode.apply(this,arguments).isEqualNode(e))return!1;if(e.namespaceURI!==this.namespaceURI)return!1;if(e.prefix!==this.prefix)return!1;if(e.localName!==this.localName)return!1;if(e.attribs.length!==this.attribs.length)return!1;for(n=r=0,o=this.attribs.length-1;0<=o?r<=o:r>=o;n=0<=o?++r:--r)if(!this.attribs[n].isEqualNode(e.attribs[n]))return!1;return!0},t}(a)}).call(void 0)},{"./NodeType":251,"./Utility":252,"./XMLAttribute":254,"./XMLNamedNodeMap":272,"./XMLNode":273,"babel-runtime/core-js/object/create":55}],272:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/keys"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);(function(){t.exports=function(){function e(e){this.nodes=e}return Object.defineProperty(e.prototype,"length",{get:function(){return(0,o.default)(this.nodes).length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.getNamedItem=function(e){return this.nodes[e]},e.prototype.setNamedItem=function(e){var t;return t=this.nodes[e.nodeName],this.nodes[e.nodeName]=e,t||null},e.prototype.removeNamedItem=function(e){var t;return t=this.nodes[e],delete this.nodes[e],t||null},e.prototype.item=function(e){return this.nodes[(0,o.default)(this.nodes)[e]]||null},e.prototype.getNamedItemNS=function(e,t){throw new Error("This DOM method is not implemented.")},e.prototype.setNamedItemNS=function(e){throw new Error("This DOM method is not implemented.")},e.prototype.removeNamedItemNS=function(e,t){throw new Error("This DOM method is not implemented.")},e}()}).call(void 0)},{"babel-runtime/core-js/object/keys":60}],273:[function(e,t,n){"use strict";(function(){var n,r,o,i,a,u,s,c,l,f,d,p,m,h,g,v,b,y,w={}.hasOwnProperty;y=e("./Utility"),b=y.isObject,v=y.isFunction,g=y.isEmpty,h=y.getValue,c=null,o=null,i=null,a=null,u=null,p=null,m=null,d=null,s=null,r=null,f=null,l=null,n=null,t.exports=function(){function t(t){this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,c||(c=e("./XMLElement"),o=e("./XMLCData"),i=e("./XMLComment"),a=e("./XMLDeclaration"),u=e("./XMLDocType"),p=e("./XMLRaw"),m=e("./XMLText"),d=e("./XMLProcessingInstruction"),s=e("./XMLDummy"),r=e("./NodeType"),f=e("./XMLNodeList"),l=e("./XMLNamedNodeMap"),n=e("./DocumentPosition"))}return Object.defineProperty(t.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.childNodeList&&this.childNodeList.nodes||(this.childNodeList=new f(this.children)),this.childNodeList}}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e-1]||null}}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e+1]||null}}),Object.defineProperty(t.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(t.prototype,"textContent",{get:function(){var e,t,n,o,i;if(this.nodeType===r.Element||this.nodeType===r.DocumentFragment){for(i="",o=this.children,t=0,n=o.length;t<n;t++)e=o[t],e.textContent&&(i+=e.textContent);return i}return null},set:function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),t.prototype.setParent=function(e){var t,n,r,o,i;for(this.parent=e,e&&(this.options=e.options,this.stringify=e.stringify),o=this.children,i=[],n=0,r=o.length;n<r;n++)t=o[n],i.push(t.setParent(this));return i},t.prototype.element=function(e,t,n){var r,o,i,a,u,s,c,l,f,d,p;if(s=null,null===t&&null==n&&(f=[{},null],t=f[0],n=f[1]),null==t&&(t={}),t=h(t),b(t)||(d=[t,n],n=d[0],t=d[1]),null!=e&&(e=h(e)),Array.isArray(e))for(i=0,c=e.length;i<c;i++)o=e[i],s=this.element(o);else if(v(e))s=this.element(e.apply());else if(b(e)){for(u in e)if(w.call(e,u))if(p=e[u],v(p)&&(p=p.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===u.indexOf(this.stringify.convertAttKey))s=this.attribute(u.substr(this.stringify.convertAttKey.length),p);else if(!this.options.separateArrayItems&&Array.isArray(p)&&g(p))s=this.dummy();else if(b(p)&&g(p))s=this.element(u);else if(this.options.keepNullNodes||null!=p)if(!this.options.separateArrayItems&&Array.isArray(p))for(a=0,l=p.length;a<l;a++)o=p[a],r={},r[u]=o,s=this.element(r);else b(p)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===u.indexOf(this.stringify.convertTextKey)?s=this.element(p):(s=this.element(u),s.element(p)):s=this.element(u,p);else s=this.dummy()}else s=this.options.keepNullNodes||null!==n?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===e.indexOf(this.stringify.convertTextKey)?this.text(n):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===e.indexOf(this.stringify.convertCDataKey)?this.cdata(n):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===e.indexOf(this.stringify.convertCommentKey)?this.comment(n):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===e.indexOf(this.stringify.convertRawKey)?this.raw(n):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===e.indexOf(this.stringify.convertPIKey)?this.instruction(e.substr(this.stringify.convertPIKey.length),n):this.node(e,t,n):this.dummy();if(null==s)throw new Error("Could not create any elements with: "+e+". "+this.debugInfo());return s},t.prototype.insertBefore=function(e,t,n){var r,o,i,a,u;if(null!=e?e.type:void 0)return i=e,a=t,i.setParent(this),a?(o=children.indexOf(a),u=children.splice(o),children.push(i),Array.prototype.push.apply(children,u)):children.push(i),i;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return o=this.parent.children.indexOf(this),u=this.parent.children.splice(o),r=this.parent.element(e,t,n),Array.prototype.push.apply(this.parent.children,u),r},t.prototype.insertAfter=function(e,t,n){var r,o,i;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return o=this.parent.children.indexOf(this),i=this.parent.children.splice(o+1),r=this.parent.element(e,t,n),Array.prototype.push.apply(this.parent.children,i),r},t.prototype.remove=function(){var e;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return e=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[e,e-e+1].concat([])),this.parent},t.prototype.node=function(e,t,n){var r,o;return null!=e&&(e=h(e)),t||(t={}),t=h(t),b(t)||(o=[t,n],n=o[0],t=o[1]),r=new c(this,e,t),null!=n&&r.text(n),this.children.push(r),r},t.prototype.text=function(e){var t;return b(e)&&this.element(e),t=new m(this,e),this.children.push(t),this},t.prototype.cdata=function(e){var t;return t=new o(this,e),this.children.push(t),this},t.prototype.comment=function(e){var t;return t=new i(this,e),this.children.push(t),this},t.prototype.commentBefore=function(e){var t,n;return t=this.parent.children.indexOf(this),n=this.parent.children.splice(t),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.commentAfter=function(e){var t,n;return t=this.parent.children.indexOf(this),n=this.parent.children.splice(t+1),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.raw=function(e){var t;return t=new p(this,e),this.children.push(t),this},t.prototype.dummy=function(){return new s(this)},t.prototype.instruction=function(e,t){var n,r,o,i,a;if(null!=e&&(e=h(e)),null!=t&&(t=h(t)),Array.isArray(e))for(i=0,a=e.length;i<a;i++)n=e[i],this.instruction(n);else if(b(e))for(n in e)w.call(e,n)&&(r=e[n],this.instruction(n,r));else v(t)&&(t=t.apply()),o=new d(this,e,t),this.children.push(o);return this},t.prototype.instructionBefore=function(e,t){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.instructionAfter=function(e,t){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n+1),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.declaration=function(e,t,n){var o,i;return o=this.document(),i=new a(o,e,t,n),0===o.children.length?o.children.unshift(i):o.children[0].type===r.Declaration?o.children[0]=i:o.children.unshift(i),o.root()||o},t.prototype.dtd=function(e,t){var n,o,i,a,s,c,l,f,d,p;for(o=this.document(),i=new u(o,e,t),d=o.children,a=s=0,l=d.length;s<l;a=++s)if(n=d[a],n.type===r.DocType)return o.children[a]=i,i;for(p=o.children,a=c=0,f=p.length;c<f;a=++c)if(n=p[a],n.isRoot)return o.children.splice(a,0,i),i;return o.children.push(i),i},t.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},t.prototype.root=function(){var e;for(e=this;e;){if(e.type===r.Document)return e.rootObject;if(e.isRoot)return e;e=e.parent}},t.prototype.document=function(){var e;for(e=this;e;){if(e.type===r.Document)return e;e=e.parent}},t.prototype.end=function(e){return this.document().end(e)},t.prototype.prev=function(){var e;if((e=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[e-1]},t.prototype.next=function(){var e;if(-1===(e=this.parent.children.indexOf(this))||e===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[e+1]},t.prototype.importDocument=function(e){var t;return t=e.root().clone(),t.parent=this,t.isRoot=!1,this.children.push(t),this},t.prototype.debugInfo=function(e){var t,n;return e=e||this.name,null!=e||(null!=(t=this.parent)?t.name:void 0)?null==e?"parent: <"+this.parent.name+">":(null!=(n=this.parent)?n.name:void 0)?"node: <"+e+">, parent: <"+this.parent.name+">":"node: <"+e+">":""},t.prototype.ele=function(e,t,n){return this.element(e,t,n)},t.prototype.nod=function(e,t,n){return this.node(e,t,n)},t.prototype.txt=function(e){return this.text(e)},t.prototype.dat=function(e){return this.cdata(e)},t.prototype.com=function(e){return this.comment(e)},t.prototype.ins=function(e,t){return this.instruction(e,t)},t.prototype.doc=function(){return this.document()},t.prototype.dec=function(e,t,n){return this.declaration(e,t,n)},t.prototype.e=function(e,t,n){return this.element(e,t,n)},t.prototype.n=function(e,t,n){return this.node(e,t,n)},t.prototype.t=function(e){return this.text(e)},t.prototype.d=function(e){return this.cdata(e)},t.prototype.c=function(e){return this.comment(e)},t.prototype.r=function(e){return this.raw(e)},t.prototype.i=function(e,t){return this.instruction(e,t)},t.prototype.u=function(){return this.up()},t.prototype.importXMLBuilder=function(e){return this.importDocument(e)},t.prototype.replaceChild=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.removeChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.appendChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.hasChildNodes=function(){return 0!==this.children.length},t.prototype.cloneNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isSupported=function(e,t){return!0},t.prototype.hasAttributes=function(){return 0!==this.attribs.length},t.prototype.compareDocumentPosition=function(e){var t,r;return t=this,t===e?0:this.document()!==e.document()?(r=n.Disconnected|n.ImplementationSpecific,Math.random()<.5?r|=n.Preceding:r|=n.Following,r):t.isAncestor(e)?n.Contains|n.Preceding:t.isDescendant(e)?n.Contains|n.Following:t.isPreceding(e)?n.Preceding:n.Following},t.prototype.isSameNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.lookupPrefix=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isDefaultNamespace=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.lookupNamespaceURI=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isEqualNode=function(e){var t,n,r;if(e.nodeType!==this.nodeType)return!1;if(e.children.length!==this.children.length)return!1;for(t=n=0,r=this.children.length-1;0<=r?n<=r:n>=r;t=0<=r?++n:--n)if(!this.children[t].isEqualNode(e.children[t]))return!1;return!0},t.prototype.getFeature=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setUserData=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getUserData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.contains=function(e){return!!e&&(e===this||this.isDescendant(e))},t.prototype.isDescendant=function(e){var t,n,r,o;for(o=this.children,n=0,r=o.length;n<r;n++){if(t=o[n],e===t)return!0;if(t.isDescendant(e))return!0}return!1},t.prototype.isAncestor=function(e){return e.isDescendant(this)},t.prototype.isPreceding=function(e){var t,n;return t=this.treePosition(e),n=this.treePosition(this),-1!==t&&-1!==n&&t<n},t.prototype.isFollowing=function(e){var t,n;return t=this.treePosition(e),n=this.treePosition(this),-1!==t&&-1!==n&&t>n},t.prototype.treePosition=function(e){var t,n;return n=0,t=!1,this.foreachTreeNode(this.document(),function(r){if(n++,!t&&r===e)return t=!0}),t?n:-1},t.prototype.foreachTreeNode=function(e,t){var n,r,o,i,a;for(e||(e=this.document()),i=e.children,r=0,o=i.length;r<o;r++){if(n=i[r],a=t(n))return a;if(a=this.foreachTreeNode(n,t))return a}},t}()}).call(void 0)},{"./DocumentPosition":250,"./NodeType":251,"./Utility":252,"./XMLCData":255,"./XMLComment":257,"./XMLDeclaration":266,"./XMLDocType":267,"./XMLDummy":270,"./XMLElement":271,"./XMLNamedNodeMap":272,"./XMLNodeList":274,"./XMLProcessingInstruction":275,"./XMLRaw":276,"./XMLText":280}],274:[function(e,t,n){"use strict";(function(){t.exports=function(){function e(e){this.nodes=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this.nodes.length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.item=function(e){return this.nodes[e]||null},e}()}).call(void 0)},{}],275:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);(function(){var n,r,i=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("./NodeType"),r=e("./XMLCharacterData"),t.exports=function(e){function t(e,r,o){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing instruction target. "+this.debugInfo());this.type=n.ProcessingInstruction,this.target=this.stringify.insTarget(r),this.name=this.target,o&&(this.value=this.stringify.insValue(o))}return i(t,e),t.prototype.clone=function(){return(0,o.default)(this)},t.prototype.toString=function(e){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(e))},t.prototype.isEqualNode=function(e){return!!t.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.target===this.target},t}(r)}).call(void 0)},{"./NodeType":251,"./XMLCharacterData":256,"babel-runtime/core-js/object/create":55}],276:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);(function(){var n,r,i=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("./NodeType"),r=e("./XMLNode"),t.exports=function(e){function t(e,r){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing raw text. "+this.debugInfo());this.type=n.Raw,this.value=this.stringify.raw(r)}return i(t,e),t.prototype.clone=function(){return(0,o.default)(this)},t.prototype.toString=function(e){return this.options.writer.raw(this,this.options.writer.filterOptions(e))},t}(r)}).call(void 0)},{"./NodeType":251,"./XMLNode":273,"babel-runtime/core-js/object/create":55}],277:[function(e,t,n){"use strict";(function(){var n,r,o,i=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("./NodeType"),o=e("./XMLWriterBase"),r=e("./WriterState"),t.exports=function(e){function t(e,n){this.stream=e,t.__super__.constructor.call(this,n)}return i(t,e),t.prototype.endline=function(e,n,o){return e.isLastRootNode&&n.state===r.CloseTag?"":t.__super__.endline.call(this,e,n,o)},t.prototype.document=function(e,t){var n,r,o,i,a,u,s,c,l;for(s=e.children,r=o=0,a=s.length;o<a;r=++o)n=s[r],n.isLastRootNode=r===e.children.length-1;for(t=this.filterOptions(t),c=e.children,l=[],i=0,u=c.length;i<u;i++)n=c[i],l.push(this.writeChildNode(n,t,0));return l},t.prototype.attribute=function(e,n,r){return this.stream.write(t.__super__.attribute.call(this,e,n,r))},t.prototype.cdata=function(e,n,r){return this.stream.write(t.__super__.cdata.call(this,e,n,r))},t.prototype.comment=function(e,n,r){return this.stream.write(t.__super__.comment.call(this,e,n,r))},t.prototype.declaration=function(e,n,r){return this.stream.write(t.__super__.declaration.call(this,e,n,r))},t.prototype.docType=function(e,t,n){var o,i,a,u;if(n||(n=0),this.openNode(e,t,n),t.state=r.OpenTag,this.stream.write(this.indent(e,t,n)),this.stream.write("<!DOCTYPE "+e.root().name),e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(e,t,n)),t.state=r.InsideTag,u=e.children,i=0,a=u.length;i<a;i++)o=u[i],this.writeChildNode(o,t,n+1);t.state=r.CloseTag,this.stream.write("]")}return t.state=r.CloseTag,this.stream.write(t.spaceBeforeSlash+">"),this.stream.write(this.endline(e,t,n)),t.state=r.None,this.closeNode(e,t,n)},t.prototype.element=function(e,t,o){var i,u,s,c,l,f,d,p,m;o||(o=0),this.openNode(e,t,o),t.state=r.OpenTag,this.stream.write(this.indent(e,t,o)+"<"+e.name),p=e.attribs;for(d in p)a.call(p,d)&&(i=p[d],this.attribute(i,t,o));if(s=e.children.length,c=0===s?null:e.children[0],0===s||e.children.every(function(e){return(e.type===n.Text||e.type===n.Raw)&&""===e.value}))t.allowEmpty?(this.stream.write(">"),t.state=r.CloseTag,this.stream.write("</"+e.name+">")):(t.state=r.CloseTag,this.stream.write(t.spaceBeforeSlash+"/>"));else if(!t.pretty||1!==s||c.type!==n.Text&&c.type!==n.Raw||null==c.value){for(this.stream.write(">"+this.endline(e,t,o)),t.state=r.InsideTag,m=e.children,l=0,f=m.length;l<f;l++)u=m[l],this.writeChildNode(u,t,o+1);t.state=r.CloseTag,this.stream.write(this.indent(e,t,o)+"</"+e.name+">")}else this.stream.write(">"),t.state=r.InsideTag,t.suppressPrettyCount++,!0,this.writeChildNode(c,t,o+1),t.suppressPrettyCount--,!1,t.state=r.CloseTag,this.stream.write("</"+e.name+">");return this.stream.write(this.endline(e,t,o)),t.state=r.None,this.closeNode(e,t,o)},t.prototype.processingInstruction=function(e,n,r){return this.stream.write(t.__super__.processingInstruction.call(this,e,n,r))},t.prototype.raw=function(e,n,r){return this.stream.write(t.__super__.raw.call(this,e,n,r))},t.prototype.text=function(e,n,r){return this.stream.write(t.__super__.text.call(this,e,n,r))},t.prototype.dtdAttList=function(e,n,r){return this.stream.write(t.__super__.dtdAttList.call(this,e,n,r))},t.prototype.dtdElement=function(e,n,r){return this.stream.write(t.__super__.dtdElement.call(this,e,n,r))},t.prototype.dtdEntity=function(e,n,r){return this.stream.write(t.__super__.dtdEntity.call(this,e,n,r))},t.prototype.dtdNotation=function(e,n,r){return this.stream.write(t.__super__.dtdNotation.call(this,e,n,r))},t}(o)}).call(void 0)},{"./NodeType":251,"./WriterState":253,"./XMLWriterBase":281}],278:[function(e,t,n){"use strict";(function(){var n,r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=e("./XMLWriterBase"),t.exports=function(e){function t(e){t.__super__.constructor.call(this,e)}return r(t,e),t.prototype.document=function(e,t){var n,r,o,i,a;for(t=this.filterOptions(t),i="",a=e.children,r=0,o=a.length;r<o;r++)n=a[r],i+=this.writeChildNode(n,t,0);return t.pretty&&i.slice(-t.newline.length)===t.newline&&(i=i.slice(0,-t.newline.length)),i},t}(n)}).call(void 0)},{"./XMLWriterBase":281}],279:[function(e,t,n){"use strict";(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty;t.exports=function(){function t(t){this.assertLegalName=e(this.assertLegalName,this),this.assertLegalChar=e(this.assertLegalChar,this);var r,o,i;t||(t={}),this.options=t,this.options.version||(this.options.version="1.0"),o=t.stringify||{};for(r in o)n.call(o,r)&&(i=o[r],this[r]=i)}return t.prototype.name=function(e){return this.options.noValidation?e:this.assertLegalName(""+e||"")},t.prototype.text=function(e){return this.options.noValidation?e:this.assertLegalChar(this.textEscape(""+e||""))},t.prototype.cdata=function(e){return this.options.noValidation?e:(e=""+e||"",e=e.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(e))},t.prototype.comment=function(e){if(this.options.noValidation)return e;if(e=""+e||"",e.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+e);return this.assertLegalChar(e)},t.prototype.raw=function(e){return this.options.noValidation?e:""+e||""},t.prototype.attValue=function(e){return this.options.noValidation?e:this.assertLegalChar(this.attEscape(e=""+e||""))},t.prototype.insTarget=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.insValue=function(e){if(this.options.noValidation)return e;if(e=""+e||"",e.match(/\?>/))throw new Error("Invalid processing instruction value: "+e);return this.assertLegalChar(e)},t.prototype.xmlVersion=function(e){if(this.options.noValidation)return e;if(e=""+e||"",!e.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+e);return e},t.prototype.xmlEncoding=function(e){if(this.options.noValidation)return e;if(e=""+e||"",!e.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+e);return this.assertLegalChar(e)},t.prototype.xmlStandalone=function(e){return this.options.noValidation?e:e?"yes":"no"},t.prototype.dtdPubID=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.dtdSysID=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.dtdElementValue=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.dtdAttType=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.dtdAttDefault=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.dtdEntityValue=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.dtdNData=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(e){var t,n;if(this.options.noValidation)return e;if(t="","1.0"===this.options.version){if(t=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,n=e.match(t))throw new Error("Invalid character in string: "+e+" at index "+n.index)}else if("1.1"===this.options.version&&(t=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,n=e.match(t)))throw new Error("Invalid character in string: "+e+" at index "+n.index);return e},t.prototype.assertLegalName=function(e){var t;if(this.options.noValidation)return e;if(this.assertLegalChar(e),t=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!e.match(t))throw new Error("Invalid character in name");return e},t.prototype.textEscape=function(e){var t;return this.options.noValidation?e:(t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},t.prototype.attEscape=function(e){var t;return this.options.noValidation?e:(t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},t}()}).call(void 0)},{}],280:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);(function(){var n,r,i=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("./NodeType"),r=e("./XMLCharacterData"),t.exports=function(e){function t(e,r){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=n.Text,this.value=this.stringify.text(r)}return i(t,e),Object.defineProperty(t.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(t.prototype,"wholeText",{get:function(){var e,t,n;for(n="",t=this.previousSibling;t;)n=t.data+n,t=t.previousSibling;for(n+=this.data,e=this.nextSibling;e;)n+=e.data,e=e.nextSibling;return n}}),t.prototype.clone=function(){return(0,o.default)(this)},t.prototype.toString=function(e){return this.options.writer.text(this,this.options.writer.filterOptions(e))},t.prototype.splitText=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.replaceWholeText=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t}(r)}).call(void 0)},{"./NodeType":251,"./XMLCharacterData":256,"babel-runtime/core-js/object/create":55}],281:[function(e,t,n){"use strict";(function(){var n,r,o,i={}.hasOwnProperty;o=e("./Utility").assign,n=e("./NodeType"),e("./XMLDeclaration"),e("./XMLDocType"),e("./XMLCData"),e("./XMLComment"),e("./XMLElement"),e("./XMLRaw"),e("./XMLText"),e("./XMLProcessingInstruction"),e("./XMLDummy"),e("./XMLDTDAttList"),e("./XMLDTDElement"),e("./XMLDTDEntity"),e("./XMLDTDNotation"),r=e("./WriterState"),t.exports=function(){function e(e){var t,n,r;e||(e={}),this.options=e,n=e.writer||{};for(t in n)i.call(n,t)&&(r=n[t],this["_"+t]=this[t],this[t]=r)}return e.prototype.filterOptions=function(e){var t,n,i,a,u,s,c,l;return e||(e={}),e=o({},this.options,e),t={writer:this},t.pretty=e.pretty||!1,t.allowEmpty=e.allowEmpty||!1,t.indent=null!=(n=e.indent)?n:"  ",t.newline=null!=(i=e.newline)?i:"\n",t.offset=null!=(a=e.offset)?a:0,t.dontPrettyTextNodes=null!=(u=null!=(s=e.dontPrettyTextNodes)?s:e.dontprettytextnodes)?u:0,t.spaceBeforeSlash=null!=(c=null!=(l=e.spaceBeforeSlash)?l:e.spacebeforeslash)?c:"",!0===t.spaceBeforeSlash&&(t.spaceBeforeSlash=" "),t.suppressPrettyCount=0,t.user={},t.state=r.None,t},e.prototype.indent=function(e,t,n){var r;return!t.pretty||t.suppressPrettyCount?"":t.pretty&&(r=(n||0)+t.offset+1)>0?new Array(r).join(t.indent):""},e.prototype.endline=function(e,t,n){return!t.pretty||t.suppressPrettyCount?"":t.newline},e.prototype.attribute=function(e,t,n){var r;return this.openAttribute(e,t,n),r=" "+e.name+'="'+e.value+'"',this.closeAttribute(e,t,n),r},e.prototype.cdata=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n)+"<![CDATA[",t.state=r.InsideTag,o+=e.value,t.state=r.CloseTag,o+="]]>"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.comment=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n)+"\x3c!-- ",t.state=r.InsideTag,o+=e.value,t.state=r.CloseTag,o+=" --\x3e"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.declaration=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n)+"<?xml",t.state=r.InsideTag,o+=' version="'+e.version+'"',null!=e.encoding&&(o+=' encoding="'+e.encoding+'"'),null!=e.standalone&&(o+=' standalone="'+e.standalone+'"'),t.state=r.CloseTag,o+=t.spaceBeforeSlash+"?>",o+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.docType=function(e,t,n){var o,i,a,u,s;if(n||(n=0),this.openNode(e,t,n),t.state=r.OpenTag,u=this.indent(e,t,n),u+="<!DOCTYPE "+e.root().name,e.pubID&&e.sysID?u+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(u+=' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(u+=" [",u+=this.endline(e,t,n),t.state=r.InsideTag,s=e.children,i=0,a=s.length;i<a;i++)o=s[i],u+=this.writeChildNode(o,t,n+1);t.state=r.CloseTag,u+="]"}return t.state=r.CloseTag,u+=t.spaceBeforeSlash+">",u+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),u},e.prototype.element=function(e,t,o){var a,u,s,c,l,f,d,p,m,h,g,v,b,y;o||(o=0),h=!1,g="",this.openNode(e,t,o),t.state=r.OpenTag,g+=this.indent(e,t,o)+"<"+e.name,v=e.attribs;for(m in v)i.call(v,m)&&(a=v[m],g+=this.attribute(a,t,o));if(s=e.children.length,c=0===s?null:e.children[0],0===s||e.children.every(function(e){return(e.type===n.Text||e.type===n.Raw)&&""===e.value}))t.allowEmpty?(g+=">",t.state=r.CloseTag,g+="</"+e.name+">"+this.endline(e,t,o)):(t.state=r.CloseTag,g+=t.spaceBeforeSlash+"/>"+this.endline(e,t,o));else if(!t.pretty||1!==s||c.type!==n.Text&&c.type!==n.Raw||null==c.value){if(t.dontPrettyTextNodes)for(b=e.children,l=0,d=b.length;l<d;l++)if(u=b[l],(u.type===n.Text||u.type===n.Raw)&&null!=u.value){t.suppressPrettyCount++,h=!0;break}for(g+=">"+this.endline(e,t,o),t.state=r.InsideTag,y=e.children,f=0,p=y.length;f<p;f++)u=y[f],g+=this.writeChildNode(u,t,o+1);t.state=r.CloseTag,g+=this.indent(e,t,o)+"</"+e.name+">",h&&t.suppressPrettyCount--,g+=this.endline(e,t,o),t.state=r.None}else g+=">",t.state=r.InsideTag,t.suppressPrettyCount++,h=!0,g+=this.writeChildNode(c,t,o+1),t.suppressPrettyCount--,h=!1,t.state=r.CloseTag,g+="</"+e.name+">"+this.endline(e,t,o);return this.closeNode(e,t,o),g},e.prototype.writeChildNode=function(e,t,r){switch(e.type){case n.CData:return this.cdata(e,t,r);case n.Comment:return this.comment(e,t,r);case n.Element:return this.element(e,t,r);case n.Raw:return this.raw(e,t,r);case n.Text:return this.text(e,t,r);case n.ProcessingInstruction:return this.processingInstruction(e,t,r);case n.Dummy:return"";case n.Declaration:return this.declaration(e,t,r);case n.DocType:return this.docType(e,t,r);case n.AttributeDeclaration:return this.dtdAttList(e,t,r);case n.ElementDeclaration:return this.dtdElement(e,t,r);case n.EntityDeclaration:return this.dtdEntity(e,t,r);case n.NotationDeclaration:return this.dtdNotation(e,t,r);default:throw new Error("Unknown XML node type: "+e.constructor.name)}},e.prototype.processingInstruction=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n)+"<?",t.state=r.InsideTag,o+=e.target,e.value&&(o+=" "+e.value),t.state=r.CloseTag,o+=t.spaceBeforeSlash+"?>",o+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.raw=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n),t.state=r.InsideTag,o+=e.value,t.state=r.CloseTag,o+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.text=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n),t.state=r.InsideTag,o+=e.value,t.state=r.CloseTag,o+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.dtdAttList=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n)+"<!ATTLIST",t.state=r.InsideTag,o+=" "+e.elementName+" "+e.attributeName+" "+e.attributeType,"#DEFAULT"!==e.defaultValueType&&(o+=" "+e.defaultValueType),e.defaultValue&&(o+=' "'+e.defaultValue+'"'),t.state=r.CloseTag,o+=t.spaceBeforeSlash+">"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.dtdElement=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n)+"<!ELEMENT",t.state=r.InsideTag,o+=" "+e.name+" "+e.value,t.state=r.CloseTag,o+=t.spaceBeforeSlash+">"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.dtdEntity=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n)+"<!ENTITY",t.state=r.InsideTag,e.pe&&(o+=" %"),o+=" "+e.name,e.value?o+=' "'+e.value+'"':(e.pubID&&e.sysID?o+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(o+=' SYSTEM "'+e.sysID+'"'),e.nData&&(o+=" NDATA "+e.nData)),t.state=r.CloseTag,o+=t.spaceBeforeSlash+">"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.dtdNotation=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n)+"<!NOTATION",t.state=r.InsideTag,o+=" "+e.name,e.pubID&&e.sysID?o+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.pubID?o+=' PUBLIC "'+e.pubID+'"':e.sysID&&(o+=' SYSTEM "'+e.sysID+'"'),t.state=r.CloseTag,o+=t.spaceBeforeSlash+">"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.openNode=function(e,t,n){},e.prototype.closeNode=function(e,t,n){},e.prototype.openAttribute=function(e,t,n){},e.prototype.closeAttribute=function(e,t,n){},e}()}).call(void 0)},{"./NodeType":251,"./Utility":252,"./WriterState":253,"./XMLCData":255,"./XMLComment":257,"./XMLDTDAttList":262,"./XMLDTDElement":263,"./XMLDTDEntity":264,"./XMLDTDNotation":265,"./XMLDeclaration":266,"./XMLDocType":267,"./XMLDummy":270,"./XMLElement":271,"./XMLProcessingInstruction":275,"./XMLRaw":276,"./XMLText":280}],282:[function(e,t,n){"use strict";(function(){var n,r,o,i,a,u,s,c,l,f;f=e("./Utility"),c=f.assign,l=f.isFunction,o=e("./XMLDOMImplementation"),i=e("./XMLDocument"),a=e("./XMLDocumentCB"),s=e("./XMLStringWriter"),u=e("./XMLStreamWriter"),n=e("./NodeType"),r=e("./WriterState"),t.exports.create=function(e,t,n,r){var o,a;if(null==e)throw new Error("Root element needs a name.");return r=c({},t,n,r),o=new i(r),a=o.element(e),r.headless||(o.declaration(r),null==r.pubID&&null==r.sysID||o.dtd(r)),a},t.exports.begin=function(e,t,n){var r;return l(e)&&(r=[e,t],t=r[0],n=r[1],e={}),t?new a(e,t,n):new i(e)},t.exports.stringWriter=function(e){return new s(e)},t.exports.streamWriter=function(e,t){return new u(e,t)},t.exports.implementation=new o,t.exports.nodeType=n,t.exports.writerState=r}).call(void 0)},{"./NodeType":251,"./Utility":252,"./WriterState":253,"./XMLDOMImplementation":260,"./XMLDocument":268,"./XMLDocumentCB":269,"./XMLStreamWriter":277,"./XMLStringWriter":278}],283:[function(e,t,n){function r(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)o.call(n,r)&&(e[r]=n[r])}return e}t.exports=r;var o=Object.prototype.hasOwnProperty},{}],284:[function(e,t,n){"use strict";function r(e,t,n){a.isBuffer(t)||(t=a.from(t)),a.isBuffer(n)||(n=a.from(n)),t.length>l?t=e(t):t.length<l&&(t=a.concat([t,f],l));for(var r=a.alloc(l),o=a.alloc(l),i=0;i<l;i++)r[i]=54^t[i],o[i]=92^t[i];var u=e(a.concat([r,n]));return e(a.concat([o,u]))}function o(e,t){e=e||"sha1";var n=c[e],o=[],u=0;return n||i("algorithm:",e,"is not yet supported"),{update:function(e){return a.isBuffer(e)||(e=a.from(e)),o.push(e),u+=e.length,this},digest:function(e){var i=a.concat(o),u=t?r(n,t,i):n(i);return o=null,e?u.toString(e):u}}}function i(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}var a=e("buffer").Buffer,u=e("./sha"),s=e("./md5"),c={sha1:u,md5:s},l=64,f=a.alloc(l);f.fill(0),n.createHash=function(e){return o(e)},n.createHmac=function(e,t){return o(e,t)},n.createCredentials=function(){i("sorry,createCredentials is not implemented yet")},n.createCipher=function(){i("sorry,createCipher is not implemented yet")},n.createCipheriv=function(){i("sorry,createCipheriv is not implemented yet")},n.createDecipher=function(){i("sorry,createDecipher is not implemented yet")},n.createDecipheriv=function(){i("sorry,createDecipheriv is not implemented yet")},n.createSign=function(){i("sorry,createSign is not implemented yet")},n.createVerify=function(){i("sorry,createVerify is not implemented yet")},n.createDiffieHellman=function(){i("sorry,createDiffieHellman is not implemented yet")},n.pbkdf2=function(){i("sorry,pbkdf2 is not implemented yet")}},{"./md5":286,"./sha":287,buffer:73}],285:[function(e,t,n){"use strict";function r(e,t){if(e.length%u!=0){var n=e.length+(u-e.length%u);e=a.concat([e,s],n)}for(var r=[],o=t?e.readInt32BE:e.readInt32LE,i=0;i<e.length;i+=u)r.push(o.call(e,i));return r}function o(e,t,n){for(var r=a.alloc(t),o=n?r.writeInt32BE:r.writeInt32LE,i=0;i<e.length;i++)o.call(r,e[i],4*i,!0);return r}function i(e,t,n,i){return a.isBuffer(e)||(e=a.from(e)),o(t(r(e,i),e.length*c),n,i)}var a=e("buffer").Buffer,u=4,s=a.alloc(u);s.fill(0);var c=8;t.exports={hash:i}},{buffer:73}],286:[function(e,t,n){"use strict";function r(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,o=-1732584194,l=271733878,f=0;f<e.length;f+=16){var d=n,p=r,m=o,h=l;n=i(n,r,o,l,e[f+0],7,-680876936),l=i(l,n,r,o,e[f+1],12,-389564586),o=i(o,l,n,r,e[f+2],17,606105819),r=i(r,o,l,n,e[f+3],22,-1044525330),n=i(n,r,o,l,e[f+4],7,-176418897),l=i(l,n,r,o,e[f+5],12,1200080426),o=i(o,l,n,r,e[f+6],17,-1473231341),r=i(r,o,l,n,e[f+7],22,-45705983),n=i(n,r,o,l,e[f+8],7,1770035416),l=i(l,n,r,o,e[f+9],12,-1958414417),o=i(o,l,n,r,e[f+10],17,-42063),r=i(r,o,l,n,e[f+11],22,-1990404162),n=i(n,r,o,l,e[f+12],7,1804603682),l=i(l,n,r,o,e[f+13],12,-40341101),o=i(o,l,n,r,e[f+14],17,-1502002290),r=i(r,o,l,n,e[f+15],22,1236535329),n=a(n,r,o,l,e[f+1],5,-165796510),l=a(l,n,r,o,e[f+6],9,-1069501632),o=a(o,l,n,r,e[f+11],14,643717713),r=a(r,o,l,n,e[f+0],20,-373897302),n=a(n,r,o,l,e[f+5],5,-701558691),l=a(l,n,r,o,e[f+10],9,38016083),o=a(o,l,n,r,e[f+15],14,-660478335),r=a(r,o,l,n,e[f+4],20,-405537848),n=a(n,r,o,l,e[f+9],5,568446438),l=a(l,n,r,o,e[f+14],9,-1019803690),o=a(o,l,n,r,e[f+3],14,-187363961),r=a(r,o,l,n,e[f+8],20,1163531501),n=a(n,r,o,l,e[f+13],5,-1444681467),l=a(l,n,r,o,e[f+2],9,-51403784),o=a(o,l,n,r,e[f+7],14,1735328473),r=a(r,o,l,n,e[f+12],20,-1926607734),n=u(n,r,o,l,e[f+5],4,-378558),l=u(l,n,r,o,e[f+8],11,-2022574463),o=u(o,l,n,r,e[f+11],16,1839030562),r=u(r,o,l,n,e[f+14],23,-35309556),n=u(n,r,o,l,e[f+1],4,-1530992060),l=u(l,n,r,o,e[f+4],11,1272893353),o=u(o,l,n,r,e[f+7],16,-155497632),r=u(r,o,l,n,e[f+10],23,-1094730640),n=u(n,r,o,l,e[f+13],4,681279174),l=u(l,n,r,o,e[f+0],11,-358537222),o=u(o,l,n,r,e[f+3],16,-722521979),r=u(r,o,l,n,e[f+6],23,76029189),n=u(n,r,o,l,e[f+9],4,-640364487),l=u(l,n,r,o,e[f+12],11,-421815835),o=u(o,l,n,r,e[f+15],16,530742520),r=u(r,o,l,n,e[f+2],23,-995338651),n=s(n,r,o,l,e[f+0],6,-198630844),l=s(l,n,r,o,e[f+7],10,1126891415),o=s(o,l,n,r,e[f+14],15,-1416354905),r=s(r,o,l,n,e[f+5],21,-57434055),n=s(n,r,o,l,e[f+12],6,1700485571),l=s(l,n,r,o,e[f+3],10,-1894986606),o=s(o,l,n,r,e[f+10],15,-1051523),r=s(r,o,l,n,e[f+1],21,-2054922799),n=s(n,r,o,l,e[f+8],6,1873313359),l=s(l,n,r,o,e[f+15],10,-30611744),o=s(o,l,n,r,e[f+6],15,-1560198380),r=s(r,o,l,n,e[f+13],21,1309151649),n=s(n,r,o,l,e[f+4],6,-145523070),l=s(l,n,r,o,e[f+11],10,-1120210379),o=s(o,l,n,r,e[f+2],15,718787259),r=s(r,o,l,n,e[f+9],21,-343485551),n=c(n,d),r=c(r,p),o=c(o,m),l=c(l,h)}return Array(n,r,o,l)}function o(e,t,n,r,o,i){return c(l(c(c(t,e),c(r,i)),o),n)}function i(e,t,n,r,i,a,u){return o(t&n|~t&r,e,t,i,a,u)}function a(e,t,n,r,i,a,u){return o(t&r|n&~r,e,t,i,a,u)}function u(e,t,n,r,i,a,u){return o(t^n^r,e,t,i,a,u)}function s(e,t,n,r,i,a,u){return o(n^(t|~r),e,t,i,a,u)}function c(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function l(e,t){return e<<t|e>>>32-t}var f=e("./helpers");t.exports=function(e){return f.hash(e,r,16)}},{"./helpers":285}],287:[function(e,t,n){"use strict";function r(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n=Array(80),r=1732584193,s=-271733879,c=-1732584194,l=271733878,f=-1009589776,d=0;d<e.length;d+=16){for(var p=r,m=s,h=c,g=l,v=f,b=0;b<80;b++){n[b]=b<16?e[d+b]:u(n[b-3]^n[b-8]^n[b-14]^n[b-16],1);var y=a(a(u(r,5),o(b,s,c,l)),a(a(f,n[b]),i(b)));f=l,l=c,c=u(s,30),s=r,r=y}r=a(r,p),s=a(s,m),c=a(c,h),l=a(l,g),f=a(f,v)}return Array(r,s,c,l,f)}function o(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function i(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function a(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function u(e,t){return e<<t|e>>>32-t}var s=e("./helpers");t.exports=function(e){return s.hash(e,r,20,!0)}},{"./helpers":285}],288:[function(e,t,n){"use strict";t.exports=function(){return function(){}}},{}],289:[function(e,t,n){(function(n){"use strict";function r(e){return e instanceof u}var o=e("babel-runtime/helpers/typeof"),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=e("stream"),u=a.Stream,s=e("../lib/common/utils/isArray"),c=s.isArray;t.exports.string=function(e){return"string"==typeof e},t.exports.array=c,t.exports.buffer=n.isBuffer,t.exports.writableStream=function(e){return r(e)&&"function"==typeof e._write&&"object"===(0,i.default)(e._writableState)}}).call(this,{isBuffer:e("../node_modules/is-buffer/index.js")})},{"../lib/common/utils/isArray":42,"../node_modules/is-buffer/index.js":197,"babel-runtime/helpers/typeof":67,stream:230}],290:[function(e,t,n){"use strict";n.encodeURIComponent=function(e){try{return encodeURIComponent(e)}catch(t){return e}},n.escape=e("escape-html"),n.timestamp=function(e){if(e){var t=e;return"string"==typeof t&&(t=Number(t)),10===String(e).length&&(t*=1e3),new Date(t)}return Math.round(Date.now()/1e3)}},{"escape-html":191}],291:[function(e,t,n){(function(t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return void 0===e?t:e}function a(e,t){return function(n,r,o){if(n)return t(n);e({data:r,status:o.statusCode,headers:o.headers,res:o})}}var u,s=e("babel-runtime/core-js/json/stringify"),c=o(s),l=e("babel-runtime/helpers/typeof"),f=o(l),d=e("util"),p=e("url"),m=e("http"),h=e("https"),g=e("debug")("urllib"),v=e("humanize-ms"),b=0,y=Math.pow(2,31)-10,w=/^https?:\/\//i;n.TIMEOUTS=[v("300s"),v("300s")];var x=["json","text"];n.request=function(t,r,o){return 2===arguments.length&&"function"==typeof r&&(o=r,r=null),"function"==typeof o?n.requestWithCallback(t,r,o):(u||(u=e("any-promise")),new u(function(e,o){n.requestWithCallback(t,r,a(e,o))}))},n.requestWithCallback=function(o,a,u){function s(){X&&(clearTimeout(X),X=null)}function l(){K&&(clearTimeout(K),K=null)}function C(e,r,i){if(l(),!u)return console.warn("[urllib:warn] [%s] [%s] [worker:%s] %s %s callback twice!!!",Date(),N,t.pid,B.method,o),void(e&&console.warn("[urllib:warn] [%s] [%s] [worker:%s] %s: %s\nstack: %s",Date(),N,t.pid,e.name,e.message,e.stack));var s=u;u=null;var f={};if(i&&(ee=i.statusCode,f=i.headers),401===ee&&f["www-authenticate"]&&(!a.headers||!a.headers.Authorization)&&a.digestAuth){var d=f["www-authenticate"];if(d.indexOf("Digest ")>=0)return g("Request#%d %s: got digest auth header WWW-Authenticate: %s",N,o,d),a.headers=a.headers||{},a.headers.Authorization=digestAuthHeader(B.method,B.path,d,a.digestAuth),g("Request#%d %s: auth with digest header: %s",N,o,a.headers.Authorization),i.headers["set-cookie"]&&(a.headers.Cookie=i.headers["set-cookie"].join(";")),n.requestWithCallback(o,a,s)}var p=Date.now()-M;oe&&(oe.contentDownload=p),g("[%sms] done, %s bytes HTTP %s %s %s %s, keepAliveSocket: %s, timing: %j",p,Z,ee,B.method,B.host,B.path,Q,oe);var m={status:ee,statusCode:ee,headers:f,size:Z,aborted:te,rt:p,keepAliveSocket:Q,data:r,requestUrls:a.requestUrls,timing:oe,remoteAddress:ne,remotePort:re};if(e){var h="";L&&"function"==typeof L.getCurrentStatus&&(h=", agent status: "+(0,c.default)(L.getCurrentStatus())),e.message+=", "+B.method+" "+o+" "+ee+" (connected: "+J+", keepalive socket: "+Q+h+")\nheaders: "+(0,c.default)(f),e.data=r,e.path=B.path,e.status=ee,e.headers=f,e.res=m}s(e,r,a.streaming?i:m),a.emitter&&(A.url=o,A.socket=se&&se.connection,A.options=B,A.size=$,a.emitter.emit("response",{requestId:N,error:e,ctx:a.ctx,req:A,res:m}))}function _(e){var t=null;if(a.followRedirect&&statuses.redirect[e.statusCode]){a._followRedirectCount=(a._followRedirectCount||0)+1;var r=e.headers.location;if(r){if(!(a._followRedirectCount>a.maxRedirects)){var i=a.formatRedirectUrl?a.formatRedirectUrl(o,r):p.resolve(o,r);g("Request#%d %s: `redirected` from %s to %s",N,B.path,o,i),l(),a.headers&&a.headers.Host&&w.test(r)&&(a.headers.Host=null);var s=u;return u=null,n.requestWithCallback(i,a,s),{redirect:!0,error:null}}t=new Error("Exceeded maxRedirects. Probably stuck in a redirect loop "+o),t.name="MaxRedirectError"}else t=new Error("Got statusCode "+e.statusCode+" but cannot resolve next location from headers"),t.name="FollowRedirectError"}return{redirect:!1,error:t}}function S(e,t,n){return n(null,t,e.headers["content-encoding"])}function k(e){if(oe&&(oe.waiting=Date.now()-M),g("Request#%d %s `req response` event emit: status %d, headers: %j",N,o,e.statusCode,e.headers),a.streaming){var t=_(e);return t.redirect?void e.resume():t.error?(e.resume(),C(t.error,null,e)):C(null,null,e)}if(e.on("close",function(){g("Request#%d %s: `res close` event emit, total size %d",N,o,Z)}),e.on("error",function(){g("Request#%d %s: `res error` event emit, total size %d",N,o,Z)}),e.on("aborted",function(){te=!0,g("Request#%d %s: `res aborted` event emit, total size %d",N,o,Z)}),ie){var t=_(e);return t.redirect?void e.resume():t.error?(e.resume(),ie.end(),C(t.error,null,e)):(!1===a.consumeWriteStream?e.on("end",C.bind(null,null,null,e)):isNode010||isNode012?first([[ie,"close"],[e,"aborted"]],function(t,n,r){g("Request#%d %s: writeStream or res %s event emitted",N,o,r),C(Y||null,null,e)}):ie.on("close",function(){g("Request#%d %s: writeStream close event emitted",N,o),C(Y||null,null,e)}),e.pipe(ie))}var n=[];e.on("data",function(e){g("Request#%d %s: `res data` event emit, size %d",N,o,e.length),Z+=e.length,n.push(e)}),e.on("end",function(){var t=r.concat(n,Z);if(g("Request#%d %s: `res end` event emit, total size %d, _dumped: %s",N,o,Z,e._dumped),Y)return C(Y,t,e);var i=_(e);if(i.error)return C(i.error,t,e);i.redirect||S(e,t,function(n,r,i){if(n)return C(n,t,e);if(!i&&x.indexOf(a.dataType)>=0){try{r=decodeBodyByCharset(r,e)}catch(t){return g("decodeBodyByCharset error: %s",t),C(null,r,e)}if("json"===a.dataType)if(0===Z)r=null;else{var u=parseJSON(r,j);u.error?n=u.error:r=u.data}}te&&g("Request#%d %s: Remote socket was terminated before `response.end()` was called",N,o),C(n,r,e)})})}function T(){g("Response timer ticking, timeout: %d",ue),K=setTimeout(function(){K=null;var e="Response timeout for "+ue+"ms";Y=new Error(e),Y.name="ResponseTimeoutError",Y.requestId=N,g("ResponseTimeout: Request#%d %s %s: %s, connected: %s",N,o,Y.name,e,J),E()},ue)}function E(){g("Request#%d %s abort, connected: %s",N,o,J),se.socket||(Y.noSocket=!0,C(Y)),se.abort()}if(!o||"string"!=typeof o&&"object"!==(void 0===o?"undefined":(0,f.default)(o))){var O=d.format("expect request url to be a string or a http request options, but got %j",o);throw new Error(O)}2===arguments.length&&"function"==typeof a&&(u=a,a=null),a=a||{},b>=y&&(b=0);var N=++b;a.requestUrls=a.requestUrls||[];var A={requestId:N,url:o,args:a,ctx:a.ctx};a.emitter&&a.emitter.emit("request",A),a.timeout=a.timeout||n.TIMEOUTS,a.maxRedirects=a.maxRedirects||10,a.streaming=a.streaming||a.customResponse;var D,M=Date.now();"string"==typeof o?(w.test(o)||(o="http://"+o),D=p.parse(o)):D=o;var I=(a.type||a.method||D.method||"GET").toUpperCase(),R=D.port||80,P=m,L=i(a.agent,n.agent),j=a.fixJSONCtlChars;"https:"===D.protocol&&(P=h,L=i(a.httpsAgent,n.httpsAgent),D.port||(R=443));var B={host:D.hostname||D.host||"localhost",path:D.path||"/",method:I,port:R,agent:L,headers:a.headers||{},lookup:a.lookup};Array.isArray(a.timeout)?B.requestTimeout=a.timeout[a.timeout.length-1]:void 0!==a.timeout&&(B.requestTimeout=a.timeout);for(var z=["pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","secureProtocol","secureOptions"],F=0;F<z.length;F++){var H=z[F];a.hasOwnProperty(H)&&(B[H]=a[H])}!1!==B.rejectUnauthorized||B.hasOwnProperty("secureOptions")||(B.secureOptions=e("constants").SSL_OP_NO_TLSv1_2);var U=a.auth||D.auth;U&&(B.auth=U);var V=a.content||a.data,q="GET"===I||"HEAD"===I||a.dataAsQueryString;if(!a.content&&V&&"string"!=typeof V&&!r.isBuffer(V))if(q)V=a.nestedQuerystring?qs.stringify(V):querystring.stringify(V);else{var W=B.headers["Content-Type"]||B.headers["content-type"];W||(W="json"===a.contentType?"application/json":"application/x-www-form-urlencoded",B.headers["Content-Type"]=W),V="application/json"===parseContentType(W).type?(0,c.default)(V):a.nestedQuerystring?qs.stringify(V):querystring.stringify(V)}q&&V&&(B.path+=(D.query?"&":"?")+V,V=null);var $=0;if(V){var G=V.length;r.isBuffer(V)||(G=r.byteLength(V)),$=B.headers["Content-Length"]=G}"json"===a.dataType&&(B.headers.Accept="application/json"),"function"==typeof a.beforeRequest&&a.beforeRequest(B);var X=null,K=null,Y=null,J=!1,Q=!1,Z=0,ee=-1,te=!1,ne="",re="",oe=null;a.timing&&(oe={queuing:0,dnslookup:0,connected:0,requestSent:0,waiting:0,contentDownload:0}),B.headers["User-Agent"]||B.headers["user-agent"]||(B.headers["User-Agent"]=navigator.userAgent),a.gzip&&(B.headers["Accept-Encoding"]||B.headers["accept-encoding"]||(B.headers["Accept-Encoding"]="gzip"));var ie=a.writeStream;g("Request#%d %s %s with headers %j, options.path: %s",N,I,o,B.headers,B.path),a.requestUrls.push(o);var ae,ue;Array.isArray(a.timeout)?(ae=v(a.timeout[0]),ue=v(a.timeout[1])):ae=ue=v(a.timeout),g("ConnectTimeout: %d, ResponseTimeout: %d",ae,ue);var se;B.mode=a.mode?a.mode:"";try{se=P.request(B,k)}catch(e){return C(e)}return"undefined"==typeof window?function(){g("Connect timer ticking, timeout: %d",ae),X=setTimeout(function(){X=null,-1===ee&&(ee=-2);var e="Connect timeout for "+ae+"ms",t="ConnectionTimeoutError";se.socket||(t="SocketAssignTimeoutError",e+=", working sockets is full"),Y=new Error(e),Y.name=t,Y.requestId=N,g("ConnectTimeout: Request#%d %s %s: %s, connected: %s",N,o,Y.name,e,J),E()},ae)}():se.on("requestTimeout",function(){-1===ee&&(ee=-2);var e="Connect timeout for "+ae+"ms";Y=new Error(e),Y.name="ConnectionTimeoutError",Y.requestId=N,E()}),oe&&se.on("finish",function(){oe.requestSent=Date.now()-M}),se.once("socket",function(e){oe&&(oe.queuing=Date.now()-M),isNode010&&e.socket&&(e=e.socket);var t=e.readyState;if("opening"===t)return e.once("lookup",function(e,t,n){g("Request#%d %s lookup: %s, %s, %s",N,o,e,t,n),oe&&(oe.dnslookup=Date.now()-M),t&&(ne=t)}),void e.once("connect",function(){oe&&(oe.connected=Date.now()-M),s(),T(),g("Request#%d %s new socket connected",N,o),J=!0,ne||(ne=e.remoteAddress),re=e.remotePort});g("Request#%d %s reuse socket connected, readyState: %s",N,o,t),J=!0,Q=!0,ne||(ne=e.remoteAddress),re=e.remotePort,s(),T()}),se.on("error",function(e){"Error"!==e.name&&"TypeError"!==e.name||(e.name=J?"ResponseError":"RequestError"),e.message+=' (req "error")',g("Request#%d %s `req error` event emit, %s: %s",N,o,e.name,e.message),C(Y||e)}),ie&&ie.once("error",function(e){e.message+=' (writeStream "error")',Y=e,g("Request#%d %s `writeStream error` event emit, %s: %s",N,o,e.name,e.message),E()}),a.stream?(a.stream.pipe(se),a.stream.once("error",function(e){e.message+=' (stream "error")',Y=e,g("Request#%d %s `readStream error` event emit, %s: %s",N,o,e.name,e.message),E()})):se.end(V),se.requestId=N,se}}).call(this,e("_process"),e("buffer").Buffer)},{_process:208,"any-promise":49,"babel-runtime/core-js/json/stringify":53,"babel-runtime/helpers/typeof":67,buffer:73,constants:75,debug:288,http:231,https:193,"humanize-ms":194,url:238,util:243}]},{},[1])(1)})}).call(exports,__webpack_require__(2))},function(e,t,n){"use strict";var r=(n(30),n(32),n(34));n.d(t,"a",function(){return r.a});n(35),n(37),n(38),n(4),n(3),n(13)},function(e,t,n){"use strict";function r(){if(!o)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(i)}t.a=r;var o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16)},function(e,t,n){"use strict";function r(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var o=n(3),i=n(13);t.a=function(e,t,n){function a(e,a,u,s){if("string"==typeof e&&(e=r(e)),"string"==typeof a&&(a=Object(i.a)(a)),16!==a.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+e.length);if(c.set(a),c.set(e,a.length),c=n(c),c[6]=15&c[6]|t,c[8]=63&c[8]|128,u){s=s||0;for(var l=0;l<16;++l)u[s+l]=c[l];return u}return Object(o.a)(c)}try{a.name=e}catch(e){}return a.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",a.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",a}},function(e,t,n){"use strict";function r(e){if(!Object(o.a)(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}var o=n(4);t.a=r},function(e,t,n){"use strict";var r=n(1),o=n(41),i=(n.n(o),n(42)),a=(n.n(i),n(44)),u=(n.n(a),n(46)),s=(n.n(u),n(48)),c=(n.n(s),n(50)),l=(n.n(c),n(52)),f=(n.n(l),n(54)),d=(n.n(f),n(56)),p=(n.n(d),n(58)),m=(n.n(p),n(60)),h=(n.n(m),n(62)),g=(n.n(h),n(64)),v=(n.n(g),n(66)),b=(n.n(v),n(68)),y=(n.n(b),n(70)),w=(n.n(y),n(72)),x=(n.n(w),n(74)),C=(n.n(x),n(76)),_=(n.n(C),n(78)),S=(n.n(_),n(80)),k=(n.n(S),n(82)),T=(n.n(k),n(84)),E=(n.n(T),n(86)),O=n(9),N=n.n(O),A=n(10);t.a={name:"Editor",components:{editor:E.a},props:{value:{type:String,default:""},disabled:{type:Boolean,default:!1}},data:function(){return{publicPath:window.XcComponents.path+"public/",client:null,htmlContent:"",attachPercentage:-1}},watch:{value:function(e){this.htmlContent=e}},mounted:function(){this.htmlContent=this.value},methods:{editorChange:function(e){this.$emit("input",e)},getClient:function(){var e=this;return new Promise(function(t,n){e.client?t(e.client):Object(r.b)().then(function(n){e.client=new N.a({region:"oss-cn-shenzhen",accessKeyId:n.accessKeyId,accessKeySecret:n.accessKeySecret,bucket:"gtyzfile"}),t(e.client)}).catch(function(){return n()})})},fileUpLoad:function(e,t,n,r,o){var i="tinyMCE/img/";"attach"===o&&(i="tinyMCE/file/"),this.getClient().then(function(o){var a=Object(A.a)().replace(/-/g,""),u=e.blob(),s=a+u.name.substring(u.name.lastIndexOf("."));o.multipartUpload(i+s,u,{progress:function(e){r(100*e)}}).then(function(e){t(e.res.requestUrls[0].replace(/\?.*/g,""))}).catch(function(e){n("Image upload failed due to a XHR Transport error. Code: "+e)})})},filePickerCallback:function(e,t,n){var r=this,o=document.createElement("input");o.setAttribute("type","file"),o.style.display="none",document.body.appendChild(o),o.onchange=function(){var t=this.files[0],n=new FileReader;n.onload=function(){var i="blobid"+(new Date).getTime(),a=tinymce.activeEditor.editorUpload.blobCache,u=n.result.split(",")[1],s=a.create(i,t,u);r.fileUpLoad(s,function(n){e(n,{text:t.name}),r.attachPercentage=-1,document.body.removeChild(o)},function(){e("",{text:"附件上传失败，请重试"}),r.attachPercentage=-1,document.body.removeChild(o)},function(e){r.attachPercentage=e},"attach")},n.readAsDataURL(t)},o.click()},attachCancelHandler:function(){this.client.cancel(),this.attachPercentage=-1}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"e",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return p});var r=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],o=function(e){return-1!==r.indexOf(e)},i=function(e,t,n){Object.keys(t).filter(o).forEach(function(r){var o=t[r];"function"==typeof o&&("onInit"===r?o(e,n):n.on(r.substring(2),function(e){return o(e,n)}))})},a=function(e,t){var n=e.$props.modelEvents?e.$props.modelEvents:null,r=Array.isArray(n)?n.join(" "):n;e.$watch("value",function(n,r){t&&"string"==typeof n&&n!==r&&n!==t.getContent({format:e.$props.outputFormat})&&t.setContent(n)}),t.on(r||"change input undo redo",function(){e.$emit("input",t.getContent({format:e.$props.outputFormat}))})},u=function(e,t,n){var r=t.$props.value?t.$props.value:"",o=t.$props.initialValue?t.$props.initialValue:"";n.setContent(r||o),t.$listeners.input&&a(t,n),i(e,t.$listeners,n)},s=0,c=function(e){var t=Date.now(),n=Math.floor(1e9*Math.random());return s++,e+"_"+n+s+String(t)},l=function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()},f=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},d=function(e,t){return f(e).concat(f(t))},p=function(e){return null===e||void 0===e}},function(e,t,n){"use strict";var r=n(1);t.a={name:"Logo",data:function(){return{logo:""}},computed:{logoUrl:function(){if(!this.logo)return"";var e=window.location.href,t=e.indexOf("//")+"//".length,n=e.substring(t);return e.substring(0,t)+n.substring(0,n.indexOf("/"))+"/api/v1/"+this.logo}},mounted:function(){var e=this,t=window.webStorage.getItem("userInfo");t?this.logo=JSON.parse(t).logo:Object(r.d)().then(function(t){e.logo=t.logo})}}},function(e,t,n){"use strict";var r=n(1);t.a={name:"User",data:function(){return{user:null}},computed:{avatarUrl:function(){if(!this.user||!this.user.avatar)return"";var e=window.location.href,t=e.indexOf("//")+"//".length,n=e.substring(t);return e.substring(0,t)+n.substring(0,n.indexOf("/"))+"/api/v1/"+this.user.avatar}},mounted:function(){var e=this,t=window.webStorage.getItem("userInfo");t?this.user=JSON.parse(t):Object(r.d)().then(function(t){e.user=t})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),o=n(26),i=n(40),a=n(92),u=n(94),s={path:function(){var e=document.currentScript?document.currentScript.src:function(){for(var e,t=document.scripts,n=t.length-1,r=n;r>0;r--)if("interactive"===t[r].readyState){e=t[r].src;break}return e||t[n].src}();return e.substring(0,e.lastIndexOf("/")+1)}(),install:function(e){e.component(r.a.name,r.a),e.component(o.a.name,o.a),e.component(i.a.name,i.a),e.component(a.a.name,a.a),e.component(u.a.name,u.a)}};"Vue"in window&&Vue.use(s),t.default=s},function(e,t,n){"use strict";function r(e){n(20)}var o=n(7),i=n(25),a=n(0),u=r,s=a(o.a,i.a,!1,u,"data-v-36eabf54",null);t.a=s.exports},function(e,t,n){var r=n(21);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(6)("0207a8be",r,!0,{})},function(e,t,n){t=e.exports=n(5)(!1),t.push([e.i,".choose-selector-select-container[data-v-36eabf54]{width:40%;padding-right:0}.ipt[data-v-36eabf54]{width:215px}.choose-selector[data-v-36eabf54] .el-tab-pane{padding-left:5%}.choose-selector .selected-box[data-v-36eabf54],.choose-selector .ztree[data-v-36eabf54]{border:1px solid #ccc;border-radius:3%;height:300px;margin-top:9px}.choose-selector .choose-selector-selected-container[data-v-36eabf54]{right:5%}.choose-selector .choose-selector-selected-container .selected-box .selected-item[data-v-36eabf54]{height:22px}",""])},function(e,t){e.exports=function(e,t){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=i[0],u=i[1],s=i[2],c=i[3],l={id:e+":"+o,css:u,media:s,sourceMap:c};r[a]?r[a].parts.push(l):n.push(r[a]={id:a,parts:[l]})}return n}},function(module,exports){module.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(t){return e[t]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s="fb15")}({"06cf":function(e,t,n){var r=n("83ab"),o=n("d1e7"),i=n("5c6c"),a=n("fc6a"),u=n("c04e"),s=n("5135"),c=n("0cfb"),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=u(t,!0),c)try{return l(e,t)}catch(e){}if(s(e,t))return i(!o.f.call(e,t),e[t])}},"0cfb":function(e,t,n){var r=n("83ab"),o=n("d039"),i=n("cc12");e.exports=!r&&!o(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},1036:function(e,t,n){var r=n("d736");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=n("499e").default;o("6f61bbc6",r,!0,{sourceMap:!1,shadowMode:!1})},1157:function(e,t,n){var r,o;/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */
!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,i){"use strict";function a(e,t,n){n=n||ke;var r,o,i=n.createElement("script");if(i.text=e,t)for(r in Te)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function u(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ve[be.call(e)]||"object":typeof e}function s(e){var t=!!e&&"length"in e&&e.length,n=u(e);return!_e(e)&&!Se(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function c(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function l(e,t,n){return _e(t)?Ee.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?Ee.grep(e,function(e){return e===t!==n}):"string"!=typeof t?Ee.grep(e,function(e){return ge.call(t,e)>-1!==n}):Ee.filter(t,e,n)}function f(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function d(e){var t={};return Ee.each(e.match(je)||[],function(e,n){t[n]=!0}),t}function p(e){return e}function m(e){throw e}function h(e,t,n,r){var o;try{e&&_e(o=e.promise)?o.call(e).done(t).fail(n):e&&_e(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function g(){ke.removeEventListener("DOMContentLoaded",g),n.removeEventListener("load",g),Ee.ready()}function v(e,t){return t.toUpperCase()}function b(e){return e.replace(He,"ms-").replace(Ue,v)}function y(){this.expando=Ee.expando+y.uid++}function w(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:$e.test(e)?JSON.parse(e):e)}function x(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Ge,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=w(n)}catch(e){}We.set(e,t,n)}else n=void 0;return n}function C(e,t,n,r){var o,i,a=20,u=r?function(){return r.cur()}:function(){return Ee.css(e,t,"")},s=u(),c=n&&n[3]||(Ee.cssNumber[t]?"":"px"),l=e.nodeType&&(Ee.cssNumber[t]||"px"!==c&&+s)&&Ke.exec(Ee.css(e,t));if(l&&l[3]!==c){for(s/=2,c=c||l[3],l=+s||1;a--;)Ee.style(e,t,l+c),(1-i)*(1-(i=u()/s||.5))<=0&&(a=0),l/=i;l*=2,Ee.style(e,t,l+c),n=n||[]}return n&&(l=+l||+s||0,o=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=o)),o}function _(e){var t,n=e.ownerDocument,r=e.nodeName,o=tt[r];return o||(t=n.body.appendChild(n.createElement(r)),o=Ee.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),tt[r]=o,o)}function S(e,t){for(var n,r,o=[],i=0,a=e.length;i<a;i++)r=e[i],r.style&&(n=r.style.display,t?("none"===n&&(o[i]=qe.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&et(r)&&(o[i]=_(r))):"none"!==n&&(o[i]="none",qe.set(r,"display",n)));for(i=0;i<a;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}function k(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&c(e,t)?Ee.merge([e],n):n}function T(e,t){for(var n=0,r=e.length;n<r;n++)qe.set(e[n],"globalEval",!t||qe.get(t[n],"globalEval"))}function E(e,t,n,r,o){for(var i,a,s,c,l,f,d=t.createDocumentFragment(),p=[],m=0,h=e.length;m<h;m++)if((i=e[m])||0===i)if("object"===u(i))Ee.merge(p,i.nodeType?[i]:i);else if(at.test(i)){for(a=a||d.appendChild(t.createElement("div")),s=(rt.exec(i)||["",""])[1].toLowerCase(),c=it[s]||it._default,a.innerHTML=c[1]+Ee.htmlPrefilter(i)+c[2],f=c[0];f--;)a=a.lastChild;Ee.merge(p,a.childNodes),a=d.firstChild,a.textContent=""}else p.push(t.createTextNode(i));for(d.textContent="",m=0;i=p[m++];)if(r&&Ee.inArray(i,r)>-1)o&&o.push(i);else if(l=Qe(i),a=k(d.appendChild(i),"script"),l&&T(a),n)for(f=0;i=a[f++];)ot.test(i.type||"")&&n.push(i);return d}function O(){return!0}function N(){return!1}function A(e,t){return e===D()==("focus"===t)}function D(){try{return ke.activeElement}catch(e){}}function M(e,t,n,r,o,i){var a,u;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(u in t)M(e,u,n,r,t[u],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=N;else if(!o)return e;return 1===i&&(a=o,o=function(e){return Ee().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=Ee.guid++)),e.each(function(){Ee.event.add(this,t,o,r,n)})}function I(e,t,n){if(!n)return void(void 0===qe.get(e,t)&&Ee.event.add(e,t,O));qe.set(e,t,!1),Ee.event.add(e,t,{namespace:!1,handler:function(e){var r,o,i=qe.get(this,t);if(1&e.isTrigger&&this[t]){if(i.length)(Ee.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=pe.call(arguments),qe.set(this,t,i),r=n(this,t),this[t](),o=qe.get(this,t),i!==o||r?qe.set(this,t,!1):o={},i!==o)return e.stopImmediatePropagation(),e.preventDefault(),o.value}else i.length&&(qe.set(this,t,{value:Ee.event.trigger(Ee.extend(i[0],Ee.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})}function R(e,t){return c(e,"table")&&c(11!==t.nodeType?t:t.firstChild,"tr")?Ee(e).children("tbody")[0]||e:e}function P(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function L(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function j(e,t){var n,r,o,i,a,u,s;if(1===t.nodeType){if(qe.hasData(e)&&(i=qe.get(e),s=i.events)){qe.remove(t,"handle events");for(o in s)for(n=0,r=s[o].length;n<r;n++)Ee.event.add(t,o,s[o][n])}We.hasData(e)&&(a=We.access(e),u=Ee.extend({},a),We.set(t,u))}}function B(e,t){var n=t.nodeName.toLowerCase();"input"===n&&nt.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function z(e,t,n,r){t=me(t);var o,i,u,s,c,l,f=0,d=e.length,p=d-1,m=t[0],h=_e(m);if(h||d>1&&"string"==typeof m&&!Ce.checkClone&&ft.test(m))return e.each(function(o){var i=e.eq(o);h&&(t[0]=m.call(this,o,i.html())),z(i,t,n,r)});if(d&&(o=E(t,e[0].ownerDocument,!1,e,r),i=o.firstChild,1===o.childNodes.length&&(o=i),i||r)){for(u=Ee.map(k(o,"script"),P),s=u.length;f<d;f++)c=o,f!==p&&(c=Ee.clone(c,!0,!0),s&&Ee.merge(u,k(c,"script"))),n.call(e[f],c,f);if(s)for(l=u[u.length-1].ownerDocument,Ee.map(u,L),f=0;f<s;f++)c=u[f],ot.test(c.type||"")&&!qe.access(c,"globalEval")&&Ee.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?Ee._evalUrl&&!c.noModule&&Ee._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},l):a(c.textContent.replace(dt,""),c,l))}return e}function F(e,t,n){for(var r,o=t?Ee.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||Ee.cleanData(k(r)),r.parentNode&&(n&&Qe(r)&&T(k(r,"script")),r.parentNode.removeChild(r));return e}function H(e,t,n){var r,o,i,a,u=e.style;return n=n||mt(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||Qe(e)||(a=Ee.style(e,t)),!Ce.pixelBoxStyles()&&pt.test(a)&&gt.test(t)&&(r=u.width,o=u.minWidth,i=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=o,u.maxWidth=i)),void 0!==a?a+"":a}function U(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function V(e){for(var t=e[0].toUpperCase()+e.slice(1),n=vt.length;n--;)if((e=vt[n]+t)in bt)return e}function q(e){var t=Ee.cssProps[e]||yt[e];return t||(e in bt?e:yt[e]=V(e)||e)}function W(e,t,n){var r=Ke.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function $(e,t,n,r,o,i){var a="width"===t?1:0,u=0,s=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(s+=Ee.css(e,n+Ye[a],!0,o)),r?("content"===n&&(s-=Ee.css(e,"padding"+Ye[a],!0,o)),"margin"!==n&&(s-=Ee.css(e,"border"+Ye[a]+"Width",!0,o))):(s+=Ee.css(e,"padding"+Ye[a],!0,o),"padding"!==n?s+=Ee.css(e,"border"+Ye[a]+"Width",!0,o):u+=Ee.css(e,"border"+Ye[a]+"Width",!0,o));return!r&&i>=0&&(s+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-s-u-.5))||0),s}function G(e,t,n){var r=mt(e),o=!Ce.boxSizingReliable()||n,i=o&&"border-box"===Ee.css(e,"boxSizing",!1,r),a=i,u=H(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(pt.test(u)){if(!n)return u;u="auto"}return(!Ce.boxSizingReliable()&&i||!Ce.reliableTrDimensions()&&c(e,"tr")||"auto"===u||!parseFloat(u)&&"inline"===Ee.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===Ee.css(e,"boxSizing",!1,r),(a=s in e)&&(u=e[s])),(u=parseFloat(u)||0)+$(e,t,n||(i?"border":"content"),a,r,u)+"px"}function X(e,t,n,r,o){return new X.prototype.init(e,t,n,r,o)}function K(){kt&&(!1===ke.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(K):n.setTimeout(K,Ee.fx.interval),Ee.fx.tick())}function Y(){return n.setTimeout(function(){St=void 0}),St=Date.now()}function J(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)n=Ye[r],o["margin"+n]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function Q(e,t,n){for(var r,o=(te.tweeners[t]||[]).concat(te.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function Z(e,t,n){var r,o,i,a,u,s,c,l,f="width"in t||"height"in t,d=this,p={},m=e.style,h=e.nodeType&&et(e),g=qe.get(e,"fxshow");n.queue||(a=Ee._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,Ee.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(o=t[r],Tt.test(o)){if(delete t[r],i=i||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!g||void 0===g[r])continue;h=!0}p[r]=g&&g[r]||Ee.style(e,r)}if((s=!Ee.isEmptyObject(t))||!Ee.isEmptyObject(p)){f&&1===e.nodeType&&(n.overflow=[m.overflow,m.overflowX,m.overflowY],c=g&&g.display,null==c&&(c=qe.get(e,"display")),l=Ee.css(e,"display"),"none"===l&&(c?l=c:(S([e],!0),c=e.style.display||c,l=Ee.css(e,"display"),S([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===Ee.css(e,"float")&&(s||(d.done(function(){m.display=c}),null==c&&(l=m.display,c="none"===l?"":l)),m.display="inline-block")),n.overflow&&(m.overflow="hidden",d.always(function(){m.overflow=n.overflow[0],m.overflowX=n.overflow[1],m.overflowY=n.overflow[2]})),s=!1;for(r in p)s||(g?"hidden"in g&&(h=g.hidden):g=qe.access(e,"fxshow",{display:c}),i&&(g.hidden=!h),h&&S([e],!0),d.done(function(){h||S([e]),qe.remove(e,"fxshow");for(r in p)Ee.style(e,r,p[r])})),s=Q(h?g[r]:0,r,d),r in g||(g[r]=s.start,h&&(s.end=s.start,s.start=0))}}function ee(e,t){var n,r,o,i,a;for(n in e)if(r=b(n),o=t[r],i=e[n],Array.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(a=Ee.cssHooks[r])&&"expand"in a){i=a.expand(i),delete e[r];for(n in i)n in e||(e[n]=i[n],t[n]=o)}else t[r]=o}function te(e,t,n){var r,o,i=0,a=te.prefilters.length,u=Ee.Deferred().always(function(){delete s.elem}),s=function(){if(o)return!1;for(var t=St||Y(),n=Math.max(0,c.startTime+c.duration-t),r=n/c.duration||0,i=1-r,a=0,s=c.tweens.length;a<s;a++)c.tweens[a].run(i);return u.notifyWith(e,[c,i,n]),i<1&&s?n:(s||u.notifyWith(e,[c,1,0]),u.resolveWith(e,[c]),!1)},c=u.promise({elem:e,props:Ee.extend({},t),opts:Ee.extend(!0,{specialEasing:{},easing:Ee.easing._default},n),originalProperties:t,originalOptions:n,startTime:St||Y(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Ee.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)c.tweens[n].run(1);return t?(u.notifyWith(e,[c,1,0]),u.resolveWith(e,[c,t])):u.rejectWith(e,[c,t]),this}}),l=c.props;for(ee(l,c.opts.specialEasing);i<a;i++)if(r=te.prefilters[i].call(c,e,l,c.opts))return _e(r.stop)&&(Ee._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return Ee.map(l,Q,c),_e(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),Ee.fx.timer(Ee.extend(s,{elem:e,anim:c,queue:c.opts.queue})),c}function ne(e){return(e.match(je)||[]).join(" ")}function re(e){return e.getAttribute&&e.getAttribute("class")||""}function oe(e){return Array.isArray(e)?e:"string"==typeof e?e.match(je)||[]:[]}function ie(e,t,n,r){var o;if(Array.isArray(t))Ee.each(t,function(t,o){n||Bt.test(e)?r(e,o):ie(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)});else if(n||"object"!==u(t))r(e,t);else for(o in t)ie(e+"["+o+"]",t[o],n,r)}function ae(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(je)||[];if(_e(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function ue(e,t,n,r){function o(u){var s;return i[u]=!0,Ee.each(e[u]||[],function(e,u){var c=u(t,n,r);return"string"!=typeof c||a||i[c]?a?!(s=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),s}var i={},a=e===Yt;return o(t.dataTypes[0])||!i["*"]&&o("*")}function se(e,t){var n,r,o=Ee.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&Ee.extend(!0,e,r),e}function ce(e,t,n){for(var r,o,i,a,u=e.contents,s=e.dataTypes;"*"===s[0];)s.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in u)if(u[o]&&u[o].test(r)){s.unshift(o);break}if(s[0]in n)i=s[0];else{for(o in n){if(!s[0]||e.converters[o+" "+s[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==s[0]&&s.unshift(i),n[i]}function le(e,t,n,r){var o,i,a,u,s,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(i=l.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!s&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s=i,i=l.shift())if("*"===i)i=s;else if("*"!==s&&s!==i){if(!(a=c[s+" "+i]||c["* "+i]))for(o in c)if(u=o.split(" "),u[1]===i&&(a=c[s+" "+u[0]]||c["* "+u[0]])){!0===a?a=c[o]:!0!==c[o]&&(i=u[0],l.unshift(u[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+s+" to "+i}}}return{state:"success",data:t}}var fe=[],de=Object.getPrototypeOf,pe=fe.slice,me=fe.flat?function(e){return fe.flat.call(e)}:function(e){return fe.concat.apply([],e)},he=fe.push,ge=fe.indexOf,ve={},be=ve.toString,ye=ve.hasOwnProperty,we=ye.toString,xe=we.call(Object),Ce={},_e=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},Se=function(e){return null!=e&&e===e.window},ke=n.document,Te={type:!0,src:!0,nonce:!0,noModule:!0},Ee=function(e,t){return new Ee.fn.init(e,t)};Ee.fn=Ee.prototype={jquery:"3.5.1",constructor:Ee,length:0,toArray:function(){return pe.call(this)},get:function(e){return null==e?pe.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=Ee.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return Ee.each(this,e)},map:function(e){return this.pushStack(Ee.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(pe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(Ee.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(Ee.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:he,sort:fe.sort,splice:fe.splice},Ee.extend=Ee.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},u=1,s=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[u]||{},u++),"object"==typeof a||_e(a)||(a={}),u===s&&(a=this,u--);u<s;u++)if(null!=(e=arguments[u]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(c&&r&&(Ee.isPlainObject(r)||(o=Array.isArray(r)))?(n=a[t],i=o&&!Array.isArray(n)?[]:o||Ee.isPlainObject(n)?n:{},o=!1,a[t]=Ee.extend(c,i,r)):void 0!==r&&(a[t]=r));return a},Ee.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==be.call(e))&&(!(t=de(e))||"function"==typeof(n=ye.call(t,"constructor")&&t.constructor)&&we.call(n)===xe)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){a(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(s(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(s(Object(e))?Ee.merge(n,"string"==typeof e?[e]:e):he.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ge.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,o,i=0,a=[];if(s(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&a.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&a.push(o);return me(a)},guid:1,support:Ce}),"function"==typeof Symbol&&(Ee.fn[Symbol.iterator]=fe[Symbol.iterator]),Ee.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ve["[object "+t+"]"]=t.toLowerCase()});var Oe=/*!
 * Sizzle CSS Selector Engine v2.3.5
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2020-03-14
 */
function(e){function t(e,t,n,r){var o,i,a,u,s,l,d,p=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!r&&(A(t),t=t||D,I)){if(11!==m&&(s=ve.exec(e)))if(o=s[1]){if(9===m){if(!(a=t.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(p&&(a=p.getElementById(o))&&j(t,a)&&a.id===o)return n.push(a),n}else{if(s[2])return J.apply(n,t.getElementsByTagName(e)),n;if((o=s[3])&&w.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(o)),n}if(w.qsa&&!W[e+" "]&&(!R||!R.test(e))&&(1!==m||"object"!==t.nodeName.toLowerCase())){if(d=e,p=t,1===m&&(ce.test(e)||se.test(e))){for(p=be.test(e)&&c(t.parentNode)||t,p===t&&w.scope||((u=t.getAttribute("id"))?u=u.replace(xe,Ce):t.setAttribute("id",u=B)),l=S(e),i=l.length;i--;)l[i]=(u?"#"+u:":scope")+" "+f(l[i]);d=l.join(",")}try{return J.apply(n,p.querySelectorAll(d)),n}catch(t){W(e,!0)}finally{u===B&&t.removeAttribute("id")}}}return T(e.replace(ae,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[B]=!0,e}function o(e){var t=D.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var n=e.split("|"),r=n.length;r--;)x.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function u(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function s(e){return r(function(t){return t=+t,r(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function c(e){return e&&void 0!==e.getElementsByTagName&&e}function l(){}function f(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,o=t.next,i=o||r,a=n&&"parentNode"===i,u=H++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,s){var c,l,f,d=[F,u];if(s){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(f=t[B]||(t[B]={}),l=f[t.uniqueID]||(f[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[i])&&c[0]===F&&c[1]===u)return d[2]=c[2];if(l[i]=d,d[2]=e(t,n,s))return!0}return!1}}function p(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var o=0,i=n.length;o<i;o++)t(e,n[o],r);return r}function h(e,t,n,r,o){for(var i,a=[],u=0,s=e.length,c=null!=t;u<s;u++)(i=e[u])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(u)));return a}function g(e,t,n,o,i,a){return o&&!o[B]&&(o=g(o)),i&&!i[B]&&(i=g(i,a)),r(function(r,a,u,s){var c,l,f,d=[],p=[],g=a.length,v=r||m(t||"*",u.nodeType?[u]:u,[]),b=!e||!r&&t?v:h(v,d,e,u,s),y=n?i||(r?e:g||o)?[]:a:b;if(n&&n(b,y,u,s),o)for(c=h(y,p),o(c,[],u,s),l=c.length;l--;)(f=c[l])&&(y[p[l]]=!(b[p[l]]=f));if(r){if(i||e){if(i){for(c=[],l=y.length;l--;)(f=y[l])&&c.push(b[l]=f);i(null,y=[],c,s)}for(l=y.length;l--;)(f=y[l])&&(c=i?Z(r,f):d[l])>-1&&(r[c]=!(a[c]=f))}}else y=h(y===a?y.splice(g,y.length):y),i?i(null,a,y,s):J.apply(a,y)})}function v(e){for(var t,n,r,o=e.length,i=x.relative[e[0].type],a=i||x.relative[" "],u=i?1:0,s=d(function(e){return e===t},a,!0),c=d(function(e){return Z(t,e)>-1},a,!0),l=[function(e,n,r){var o=!i&&(r||n!==E)||((t=n).nodeType?s(e,n,r):c(e,n,r));return t=null,o}];u<o;u++)if(n=x.relative[e[u].type])l=[d(p(l),n)];else{if(n=x.filter[e[u].type].apply(null,e[u].matches),n[B]){for(r=++u;r<o&&!x.relative[e[r].type];r++);return g(u>1&&p(l),u>1&&f(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(ae,"$1"),n,u<r&&v(e.slice(u,r)),r<o&&v(e=e.slice(r)),r<o&&f(e))}l.push(n)}return p(l)}function b(e,n){var o=n.length>0,i=e.length>0,a=function(r,a,u,s,c){var l,f,d,p=0,m="0",g=r&&[],v=[],b=E,y=r||i&&x.find.TAG("*",c),w=F+=null==b?1:Math.random()||.1,C=y.length;for(c&&(E=a==D||a||c);m!==C&&null!=(l=y[m]);m++){if(i&&l){for(f=0,a||l.ownerDocument==D||(A(l),u=!I);d=e[f++];)if(d(l,a||D,u)){s.push(l);break}c&&(F=w)}o&&((l=!d&&l)&&p--,r&&g.push(l))}if(p+=m,o&&m!==p){for(f=0;d=n[f++];)d(g,v,a,u);if(r){if(p>0)for(;m--;)g[m]||v[m]||(v[m]=K.call(s));v=h(v)}J.apply(s,v),c&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(s)}return c&&(F=w,E=b),g};return o?r(a):a}var y,w,x,C,_,S,k,T,E,O,N,A,D,M,I,R,P,L,j,B="sizzle"+1*new Date,z=e.document,F=0,H=0,U=n(),V=n(),q=n(),W=n(),$=function(e,t){return e===t&&(N=!0),0},G={}.hasOwnProperty,X=[],K=X.pop,Y=X.push,J=X.push,Q=X.slice,Z=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",te="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\[\\da-fA-F]{1,6}"+te+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",re="\\["+te+"*("+ne+")(?:"+te+"*([*^$|!~]?=)"+te+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+te+"*\\]",oe=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",ie=new RegExp(te+"+","g"),ae=new RegExp("^"+te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+te+"+$","g"),ue=new RegExp("^"+te+"*,"+te+"*"),se=new RegExp("^"+te+"*([>+~]|"+te+")"+te+"*"),ce=new RegExp(te+"|>"),le=new RegExp(oe),fe=new RegExp("^"+ne+"$"),de={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+te+"*(even|odd|(([+-]|)(\\d*)n|)"+te+"*(?:([+-]|)"+te+"*(\\d+)|))"+te+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+te+"*((?:-\\d)?\\d*)"+te+"*\\)|)(?=[^-]|$)","i")},pe=/HTML$/i,me=/^(?:input|select|textarea|button)$/i,he=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,ye=new RegExp("\\\\[\\da-fA-F]{1,6}"+te+"?|\\\\([^\\r\\n\\f])","g"),we=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},xe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Ce=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},_e=function(){A()},Se=d(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{J.apply(X=Q.call(z.childNodes),z.childNodes),X[z.childNodes.length].nodeType}catch(e){J={apply:X.length?function(e,t){Y.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},_=t.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!pe.test(t||n&&n.nodeName||"HTML")},A=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:z;return r!=D&&9===r.nodeType&&r.documentElement?(D=r,M=D.documentElement,I=!_(D),z!=D&&(n=D.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",_e,!1):n.attachEvent&&n.attachEvent("onunload",_e)),w.scope=o(function(e){return M.appendChild(e).appendChild(D.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),w.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=o(function(e){return e.appendChild(D.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ge.test(D.getElementsByClassName),w.getById=o(function(e){return M.appendChild(e).id=B,!D.getElementsByName||!D.getElementsByName(B).length}),w.getById?(x.filter.ID=function(e){var t=e.replace(ye,we);return function(e){return e.getAttribute("id")===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&I){var n=t.getElementById(e);return n?[n]:[]}}):(x.filter.ID=function(e){var t=e.replace(ye,we);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&I){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),x.find.TAG=w.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},x.find.CLASS=w.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&I)return t.getElementsByClassName(e)},P=[],R=[],(w.qsa=ge.test(D.querySelectorAll))&&(o(function(e){var t;M.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+te+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||R.push("\\["+te+"*(?:value|"+ee+")"),e.querySelectorAll("[id~="+B+"-]").length||R.push("~="),t=D.createElement("input"),t.setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||R.push("\\["+te+"*name"+te+"*="+te+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||R.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||R.push(".#.+[+~]"),e.querySelectorAll("\\\f"),R.push("[\\r\\n\\f]")}),o(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=D.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&R.push("name"+te+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&R.push(":enabled",":disabled"),M.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(w.matchesSelector=ge.test(L=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&o(function(e){w.disconnectedMatch=L.call(e,"*"),L.call(e,"[s!='']:x"),P.push("!=",oe)}),R=R.length&&new RegExp(R.join("|")),P=P.length&&new RegExp(P.join("|")),t=ge.test(M.compareDocumentPosition),j=t||ge.test(M.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=t?function(e,t){if(e===t)return N=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e==D||e.ownerDocument==z&&j(z,e)?-1:t==D||t.ownerDocument==z&&j(z,t)?1:O?Z(O,e)-Z(O,t):0:4&n?-1:1)}:function(e,t){if(e===t)return N=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,u=[e],s=[t];if(!o||!i)return e==D?-1:t==D?1:o?-1:i?1:O?Z(O,e)-Z(O,t):0;if(o===i)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;u[r]===s[r];)r++;return r?a(u[r],s[r]):u[r]==z?-1:s[r]==z?1:0},D):D},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if(A(e),w.matchesSelector&&I&&!W[n+" "]&&(!P||!P.test(n))&&(!R||!R.test(n)))try{var r=L.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){W(n,!0)}return t(n,D,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!=D&&A(e),j(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!=D&&A(e);var n=x.attrHandle[t.toLowerCase()],r=n&&G.call(x.attrHandle,t.toLowerCase())?n(e,t,!I):void 0;return void 0!==r?r:w.attributes||!I?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(xe,Ce)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,o=0;if(N=!w.detectDuplicates,O=!w.sortStable&&e.slice(0),e.sort($),N){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return O=null,e},C=t.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},x=t.selectors={cacheLength:50,createPseudo:r,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,we),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&le.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+te+")"+e+"("+te+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(o){var i=t.attr(o,e);return null==i?"!="===n:!n||(i+="","="===n?i===r:"!="===n?i!==r:"^="===n?r&&0===i.indexOf(r):"*="===n?r&&i.indexOf(r)>-1:"$="===n?r&&i.slice(-r.length)===r:"~="===n?(" "+i.replace(ie," ")+" ").indexOf(r)>-1:"|="===n&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,s){var c,l,f,d,p,m,h=i!==a?"nextSibling":"previousSibling",g=t.parentNode,v=u&&t.nodeName.toLowerCase(),b=!s&&!u,y=!1;if(g){if(i){for(;h;){for(d=t;d=d[h];)if(u?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;m=h="only"===e&&!m&&"nextSibling"}return!0}if(m=[a?g.firstChild:g.lastChild],a&&b){for(d=g,f=d[B]||(d[B]={}),l=f[d.uniqueID]||(f[d.uniqueID]={}),c=l[e]||[],p=c[0]===F&&c[1],y=p&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[h]||(y=p=0)||m.pop();)if(1===d.nodeType&&++y&&d===t){l[e]=[F,p,y];break}}else if(b&&(d=t,f=d[B]||(d[B]={}),l=f[d.uniqueID]||(f[d.uniqueID]={}),c=l[e]||[],p=c[0]===F&&c[1],y=p),!1===y)for(;(d=++p&&d&&d[h]||(y=p=0)||m.pop())&&((u?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++y||(b&&(f=d[B]||(d[B]={}),l=f[d.uniqueID]||(f[d.uniqueID]={}),l[e]=[F,y]),d!==t)););return(y-=o)===r||y%r==0&&y/r>=0}}},PSEUDO:function(e,n){var o,i=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return i[B]?i(n):i.length>1?(o=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,o=i(e,n),a=o.length;a--;)r=Z(e,o[a]),e[r]=!(t[r]=o[a])}):function(e){return i(e,0,o)}):i}},pseudos:{not:r(function(e){var t=[],n=[],o=k(e.replace(ae,"$1"));return o[B]?r(function(e,t,n,r){for(var i,a=o(e,null,r,[]),u=e.length;u--;)(i=a[u])&&(e[u]=!(t[u]=i))}):function(e,r,i){return t[0]=e,o(t,null,i,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(ye,we),function(t){return(t.textContent||C(t)).indexOf(e)>-1}}),lang:r(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,we).toLowerCase(),function(t){var n;do{if(n=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:u(!1),disabled:u(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return he.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,n){return[n<0?n+t:n]}),even:s(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:s(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:s(function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:s(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},x.pseudos.nth=x.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[y]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(y);for(y in{submit:!0,reset:!0})x.pseudos[y]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(y);return l.prototype=x.filters=x.pseudos,x.setFilters=new l,S=t.tokenize=function(e,n){var r,o,i,a,u,s,c,l=V[e+" "];if(l)return n?0:l.slice(0);for(u=e,s=[],c=x.preFilter;u;){r&&!(o=ue.exec(u))||(o&&(u=u.slice(o[0].length)||u),s.push(i=[])),r=!1,(o=se.exec(u))&&(r=o.shift(),i.push({value:r,type:o[0].replace(ae," ")}),u=u.slice(r.length));for(a in x.filter)!(o=de[a].exec(u))||c[a]&&!(o=c[a](o))||(r=o.shift(),i.push({value:r,type:a,matches:o}),u=u.slice(r.length));if(!r)break}return n?u.length:u?t.error(e):V(e,s).slice(0)},k=t.compile=function(e,t){var n,r=[],o=[],i=q[e+" "];if(!i){for(t||(t=S(e)),n=t.length;n--;)i=v(t[n]),i[B]?r.push(i):o.push(i);i=q(e,b(o,r)),i.selector=e}return i},T=t.select=function(e,t,n,r){var o,i,a,u,s,l="function"==typeof e&&e,d=!r&&S(e=l.selector||e);if(n=n||[],1===d.length){if(i=d[0]=d[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&9===t.nodeType&&I&&x.relative[i[1].type]){if(!(t=(x.find.ID(a.matches[0].replace(ye,we),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=de.needsContext.test(e)?0:i.length;o--&&(a=i[o],!x.relative[u=a.type]);)if((s=x.find[u])&&(r=s(a.matches[0].replace(ye,we),be.test(i[0].type)&&c(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&f(i)))return J.apply(n,r),n;break}}return(l||k(e,d))(r,t,!I,n,!t||be.test(e)&&c(t.parentNode)||t),n},w.sortStable=B.split("").sort($).join("")===B,w.detectDuplicates=!!N,A(),w.sortDetached=o(function(e){return 1&e.compareDocumentPosition(D.createElement("fieldset"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||i(ee,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(n);Ee.find=Oe,Ee.expr=Oe.selectors,Ee.expr[":"]=Ee.expr.pseudos,Ee.uniqueSort=Ee.unique=Oe.uniqueSort,Ee.text=Oe.getText,Ee.isXMLDoc=Oe.isXML,Ee.contains=Oe.contains,Ee.escapeSelector=Oe.escape;var Ne=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&Ee(e).is(n))break;r.push(e)}return r},Ae=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},De=Ee.expr.match.needsContext,Me=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Ee.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Ee.find.matchesSelector(r,e)?[r]:[]:Ee.find.matches(e,Ee.grep(t,function(e){return 1===e.nodeType}))},Ee.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(Ee(e).filter(function(){for(t=0;t<r;t++)if(Ee.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)Ee.find(e,o[t],n);return r>1?Ee.uniqueSort(n):n},filter:function(e){return this.pushStack(l(this,e||[],!1))},not:function(e){return this.pushStack(l(this,e||[],!0))},is:function(e){return!!l(this,"string"==typeof e&&De.test(e)?Ee(e):e||[],!1).length}});var Ie,Re=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(Ee.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||Ie,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Re.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof Ee?t[0]:t,Ee.merge(this,Ee.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:ke,!0)),Me.test(r[1])&&Ee.isPlainObject(t))for(r in t)_e(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return o=ke.getElementById(r[2]),o&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):_e(e)?void 0!==n.ready?n.ready(e):e(Ee):Ee.makeArray(e,this)}).prototype=Ee.fn,Ie=Ee(ke);var Pe=/^(?:parents|prev(?:Until|All))/,Le={children:!0,contents:!0,next:!0,prev:!0};Ee.fn.extend({has:function(e){var t=Ee(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(Ee.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,o=this.length,i=[],a="string"!=typeof e&&Ee(e);if(!De.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Ee.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?Ee.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?ge.call(Ee(e),this[0]):ge.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Ee.uniqueSort(Ee.merge(this.get(),Ee(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Ee.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ne(e,"parentNode")},parentsUntil:function(e,t,n){return Ne(e,"parentNode",n)},next:function(e){return f(e,"nextSibling")},prev:function(e){return f(e,"previousSibling")},nextAll:function(e){return Ne(e,"nextSibling")},prevAll:function(e){return Ne(e,"previousSibling")},nextUntil:function(e,t,n){return Ne(e,"nextSibling",n)},prevUntil:function(e,t,n){return Ne(e,"previousSibling",n)},siblings:function(e){return Ae((e.parentNode||{}).firstChild,e)},children:function(e){return Ae(e.firstChild)},contents:function(e){return null!=e.contentDocument&&de(e.contentDocument)?e.contentDocument:(c(e,"template")&&(e=e.content||e),Ee.merge([],e.childNodes))}},function(e,t){Ee.fn[e]=function(n,r){var o=Ee.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=Ee.filter(r,o)),this.length>1&&(Le[e]||Ee.uniqueSort(o),Pe.test(e)&&o.reverse()),this.pushStack(o)}});var je=/[^\x20\t\r\n\f]+/g;Ee.Callbacks=function(e){e="string"==typeof e?d(e):Ee.extend({},e);var t,n,r,o,i=[],a=[],s=-1,c=function(){for(o=o||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<i.length;)!1===i[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},l={add:function(){return i&&(n&&!t&&(s=i.length-1,a.push(n)),function t(n){Ee.each(n,function(n,r){_e(r)?e.unique&&l.has(r)||i.push(r):r&&r.length&&"string"!==u(r)&&t(r)})}(arguments),n&&!t&&c()),this},remove:function(){return Ee.each(arguments,function(e,t){for(var n;(n=Ee.inArray(t,i,n))>-1;)i.splice(n,1),n<=s&&s--}),this},has:function(e){return e?Ee.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||t||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},Ee.extend({Deferred:function(e){var t=[["notify","progress",Ee.Callbacks("memory"),Ee.Callbacks("memory"),2],["resolve","done",Ee.Callbacks("once memory"),Ee.Callbacks("once memory"),0,"resolved"],["reject","fail",Ee.Callbacks("once memory"),Ee.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return Ee.Deferred(function(n){Ee.each(t,function(t,r){var o=_e(e[r[4]])&&e[r[4]];i[r[1]](function(){var e=o&&o.apply(this,arguments);e&&_e(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(e,r,o){function i(e,t,r,o){return function(){var u=this,s=arguments,c=function(){var n,c;if(!(e<a)){if((n=r.apply(u,s))===t.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,_e(c)?o?c.call(n,i(a,t,p,o),i(a,t,m,o)):(a++,c.call(n,i(a,t,p,o),i(a,t,m,o),i(a,t,p,t.notifyWith))):(r!==p&&(u=void 0,s=[n]),(o||t.resolveWith)(u,s))}},l=o?c:function(){try{c()}catch(n){Ee.Deferred.exceptionHook&&Ee.Deferred.exceptionHook(n,l.stackTrace),e+1>=a&&(r!==m&&(u=void 0,s=[n]),t.rejectWith(u,s))}};e?l():(Ee.Deferred.getStackHook&&(l.stackTrace=Ee.Deferred.getStackHook()),n.setTimeout(l))}}var a=0;return Ee.Deferred(function(n){t[0][3].add(i(0,n,_e(o)?o:p,n.notifyWith)),t[1][3].add(i(0,n,_e(e)?e:p)),t[2][3].add(i(0,n,_e(r)?r:m))}).promise()},promise:function(e){return null!=e?Ee.extend(e,o):o}},i={};return Ee.each(t,function(e,n){var a=n[2],u=n[5];o[n[1]]=a.add,u&&a.add(function(){r=u},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(n[3].fire),i[n[0]]=function(){return i[n[0]+"With"](this===i?void 0:this,arguments),this},i[n[0]+"With"]=a.fireWith}),o.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),o=pe.call(arguments),i=Ee.Deferred(),a=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?pe.call(arguments):n,--t||i.resolveWith(r,o)}};if(t<=1&&(h(e,i.done(a(n)).resolve,i.reject,!t),"pending"===i.state()||_e(o[n]&&o[n].then)))return i.then();for(;n--;)h(o[n],a(n),i.reject);return i.promise()}});var Be=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Ee.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&Be.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},Ee.readyException=function(e){n.setTimeout(function(){throw e})};var ze=Ee.Deferred();Ee.fn.ready=function(e){return ze.then(e).catch(function(e){Ee.readyException(e)}),this},Ee.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--Ee.readyWait:Ee.isReady)||(Ee.isReady=!0,!0!==e&&--Ee.readyWait>0||ze.resolveWith(ke,[Ee]))}}),Ee.ready.then=ze.then,"complete"===ke.readyState||"loading"!==ke.readyState&&!ke.documentElement.doScroll?n.setTimeout(Ee.ready):(ke.addEventListener("DOMContentLoaded",g),n.addEventListener("load",g));var Fe=function(e,t,n,r,o,i,a){var s=0,c=e.length,l=null==n;if("object"===u(n)){o=!0;for(s in n)Fe(e,t,s,n[s],!0,i,a)}else if(void 0!==r&&(o=!0,_e(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(Ee(e),n)})),t))for(;s<c;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:l?t.call(e):c?t(e[0],n):i},He=/^-ms-/,Ue=/-([a-z])/g,Ve=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};y.uid=1,y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ve(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[b(t)]=n;else for(r in t)o[b(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][b(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(b):(t=b(t),t=t in r?[t]:t.match(je)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||Ee.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!Ee.isEmptyObject(t)}};var qe=new y,We=new y,$e=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ge=/[A-Z]/g;Ee.extend({hasData:function(e){return We.hasData(e)||qe.hasData(e)},data:function(e,t,n){return We.access(e,t,n)},removeData:function(e,t){We.remove(e,t)},_data:function(e,t,n){return qe.access(e,t,n)},_removeData:function(e,t){qe.remove(e,t)}}),Ee.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=We.get(i),1===i.nodeType&&!qe.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=b(r.slice(5)),x(i,r,o[r])));qe.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){We.set(this,e)}):Fe(this,function(t){var n;if(i&&void 0===t){if(void 0!==(n=We.get(i,e)))return n;if(void 0!==(n=x(i,e)))return n}else this.each(function(){We.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){We.remove(this,e)})}}),Ee.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=qe.get(e,t),n&&(!r||Array.isArray(n)?r=qe.access(e,t,Ee.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=Ee.queue(e,t),r=n.length,o=n.shift(),i=Ee._queueHooks(e,t),a=function(){Ee.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,a,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return qe.get(e,n)||qe.access(e,n,{empty:Ee.Callbacks("once memory").add(function(){qe.remove(e,[t+"queue",n])})})}}),Ee.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Ee.queue(this[0],e):void 0===t?this:this.each(function(){var n=Ee.queue(this,e,t);Ee._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Ee.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Ee.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=Ee.Deferred(),i=this,a=this.length,u=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=qe.get(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(u));return u(),o.promise(t)}});var Xe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ke=new RegExp("^(?:([+-])=|)("+Xe+")([a-z%]*)$","i"),Ye=["Top","Right","Bottom","Left"],Je=ke.documentElement,Qe=function(e){return Ee.contains(e.ownerDocument,e)},Ze={composed:!0};Je.getRootNode&&(Qe=function(e){return Ee.contains(e.ownerDocument,e)||e.getRootNode(Ze)===e.ownerDocument});var et=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&Qe(e)&&"none"===Ee.css(e,"display")},tt={};Ee.fn.extend({show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){et(this)?Ee(this).show():Ee(this).hide()})}});var nt=/^(?:checkbox|radio)$/i,rt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ot=/^$|^module$|\/(?:java|ecma)script/i;!function(){var e=ke.createDocumentFragment(),t=e.appendChild(ke.createElement("div")),n=ke.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),Ce.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Ce.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,t.innerHTML="<option></option>",Ce.option=!!t.lastChild}();var it={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};it.tbody=it.tfoot=it.colgroup=it.caption=it.thead,it.th=it.td,Ce.option||(it.optgroup=it.option=[1,"<select multiple='multiple'>","</select>"]);var at=/<|&#?\w+;/,ut=/^key/,st=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ct=/^([^.]*)(?:\.(.+)|)/;Ee.event={global:{},add:function(e,t,n,r,o){var i,a,u,s,c,l,f,d,p,m,h,g=qe.get(e);if(Ve(e))for(n.handler&&(i=n,n=i.handler,o=i.selector),o&&Ee.find.matchesSelector(Je,o),n.guid||(n.guid=Ee.guid++),(s=g.events)||(s=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(t){return void 0!==Ee&&Ee.event.triggered!==t.type?Ee.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(je)||[""],c=t.length;c--;)u=ct.exec(t[c])||[],p=h=u[1],m=(u[2]||"").split(".").sort(),p&&(f=Ee.event.special[p]||{},p=(o?f.delegateType:f.bindType)||p,f=Ee.event.special[p]||{},l=Ee.extend({type:p,origType:h,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&Ee.expr.match.needsContext.test(o),namespace:m.join(".")},i),(d=s[p])||(d=s[p]=[],d.delegateCount=0,f.setup&&!1!==f.setup.call(e,r,m,a)||e.addEventListener&&e.addEventListener(p,a)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,l):d.push(l),Ee.event.global[p]=!0)},remove:function(e,t,n,r,o){var i,a,u,s,c,l,f,d,p,m,h,g=qe.hasData(e)&&qe.get(e);if(g&&(s=g.events)){for(t=(t||"").match(je)||[""],c=t.length;c--;)if(u=ct.exec(t[c])||[],p=h=u[1],m=(u[2]||"").split(".").sort(),p){for(f=Ee.event.special[p]||{},p=(r?f.delegateType:f.bindType)||p,d=s[p]||[],u=u[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=d.length;i--;)l=d[i],!o&&h!==l.origType||n&&n.guid!==l.guid||u&&!u.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(d.splice(i,1),l.selector&&d.delegateCount--,f.remove&&f.remove.call(e,l));a&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,m,g.handle)||Ee.removeEvent(e,p,g.handle),delete s[p])}else for(p in s)Ee.event.remove(e,p+t[c],n,r,!0);Ee.isEmptyObject(s)&&qe.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,a,u=new Array(arguments.length),s=Ee.event.fix(e),c=(qe.get(this,"events")||Object.create(null))[s.type]||[],l=Ee.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,s)){for(a=Ee.event.handlers.call(this,s,c),t=0;(o=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==i.namespace&&!s.rnamespace.test(i.namespace)||(s.handleObj=i,s.data=i.data,void 0!==(r=((Ee.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,o,i,a,u=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],a={},n=0;n<s;n++)r=t[n],o=r.selector+" ",void 0===a[o]&&(a[o]=r.needsContext?Ee(o,this).index(c)>-1:Ee.find(o,this,null,[c]).length),a[o]&&i.push(r);i.length&&u.push({elem:c,handlers:i})}return c=this,s<t.length&&u.push({elem:c,handlers:t.slice(s)}),u},addProp:function(e,t){Object.defineProperty(Ee.Event.prototype,e,{enumerable:!0,configurable:!0,get:_e(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[Ee.expando]?e:new Ee.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return nt.test(t.type)&&t.click&&c(t,"input")&&I(t,"click",O),!1},trigger:function(e){var t=this||e;return nt.test(t.type)&&t.click&&c(t,"input")&&I(t,"click"),!0},_default:function(e){var t=e.target;return nt.test(t.type)&&t.click&&c(t,"input")&&qe.get(t,"click")||c(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},Ee.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},Ee.Event=function(e,t){if(!(this instanceof Ee.Event))return new Ee.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?O:N,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Ee.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[Ee.expando]=!0},Ee.Event.prototype={constructor:Ee.Event,isDefaultPrevented:N,isPropagationStopped:N,isImmediatePropagationStopped:N,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=O,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=O,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=O,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},Ee.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&ut.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&st.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},Ee.event.addProp),Ee.each({focus:"focusin",blur:"focusout"},function(e,t){Ee.event.special[e]={setup:function(){return I(this,e,A),!1},trigger:function(){return I(this,e),!0},delegateType:t}}),Ee.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Ee.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===r||Ee.contains(r,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),Ee.fn.extend({on:function(e,t,n,r){return M(this,e,t,n,r)},one:function(e,t,n,r){return M(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Ee(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=N),this.each(function(){Ee.event.remove(this,e,n,t)})}});var lt=/<script|<style|<link/i,ft=/checked\s*(?:[^=]|=\s*.checked.)/i,dt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Ee.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,o,i,a,u=e.cloneNode(!0),s=Qe(e);if(!(Ce.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Ee.isXMLDoc(e)))for(a=k(u),i=k(e),r=0,o=i.length;r<o;r++)B(i[r],a[r]);if(t)if(n)for(i=i||k(e),a=a||k(u),r=0,o=i.length;r<o;r++)j(i[r],a[r]);else j(e,u);return a=k(u,"script"),a.length>0&&T(a,!s&&k(e,"script")),u},cleanData:function(e){for(var t,n,r,o=Ee.event.special,i=0;void 0!==(n=e[i]);i++)if(Ve(n)){if(t=n[qe.expando]){if(t.events)for(r in t.events)o[r]?Ee.event.remove(n,r):Ee.removeEvent(n,r,t.handle);n[qe.expando]=void 0}n[We.expando]&&(n[We.expando]=void 0)}}}),Ee.fn.extend({detach:function(e){return F(this,e,!0)},remove:function(e){return F(this,e)},text:function(e){return Fe(this,function(e){return void 0===e?Ee.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return z(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){R(this,e).appendChild(e)}})},prepend:function(){return z(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=R(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return z(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return z(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Ee.cleanData(k(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Ee.clone(this,e,t)})},html:function(e){return Fe(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!lt.test(e)&&!it[(rt.exec(e)||["",""])[1].toLowerCase()]){e=Ee.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(Ee.cleanData(k(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return z(this,arguments,function(t){var n=this.parentNode;Ee.inArray(this,e)<0&&(Ee.cleanData(k(this)),n&&n.replaceChild(t,this))},e)}}),Ee.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Ee.fn[e]=function(e){for(var n,r=[],o=Ee(e),i=o.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),Ee(o[a])[t](n),he.apply(r,n.get());return this.pushStack(r)}});var pt=new RegExp("^("+Xe+")(?!px)[a-z%]+$","i"),mt=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},ht=function(e,t,n){var r,o,i={};for(o in t)i[o]=e.style[o],e.style[o]=t[o];r=n.call(e);for(o in t)e.style[o]=i[o];return r},gt=new RegExp(Ye.join("|"),"i");!function(){function e(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Je.appendChild(c).appendChild(l);var e=n.getComputedStyle(l);r="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",a=36===t(e.right),o=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),Je.removeChild(c),l=null}}function t(e){return Math.round(parseFloat(e))}var r,o,i,a,u,s,c=ke.createElement("div"),l=ke.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",Ce.clearCloneStyle="content-box"===l.style.backgroundClip,Ee.extend(Ce,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,r,o;return null==u&&(e=ke.createElement("table"),t=ke.createElement("tr"),r=ke.createElement("div"),e.style.cssText="position:absolute;left:-11111px",t.style.height="1px",r.style.height="9px",Je.appendChild(e).appendChild(t).appendChild(r),o=n.getComputedStyle(t),u=parseInt(o.height)>3,Je.removeChild(e)),u}}))}();var vt=["Webkit","Moz","ms"],bt=ke.createElement("div").style,yt={},wt=/^(none|table(?!-c[ea]).+)/,xt=/^--/,Ct={position:"absolute",visibility:"hidden",display:"block"},_t={letterSpacing:"0",fontWeight:"400"};Ee.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=H(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,u=b(t),s=xt.test(t),c=e.style;if(s||(t=q(u)),a=Ee.cssHooks[t]||Ee.cssHooks[u],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:c[t];i=typeof n,"string"===i&&(o=Ke.exec(n))&&o[1]&&(n=C(e,t,o),i="number"),null!=n&&n===n&&("number"!==i||s||(n+=o&&o[3]||(Ee.cssNumber[u]?"":"px")),Ce.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(s?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var o,i,a,u=b(t);return xt.test(t)||(t=q(u)),a=Ee.cssHooks[t]||Ee.cssHooks[u],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=H(e,t,r)),"normal"===o&&t in _t&&(o=_t[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),Ee.each(["height","width"],function(e,t){Ee.cssHooks[t]={get:function(e,n,r){if(n)return!wt.test(Ee.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?G(e,t,r):ht(e,Ct,function(){return G(e,t,r)})},set:function(e,n,r){var o,i=mt(e),a=!Ce.scrollboxSize()&&"absolute"===i.position,u=a||r,s=u&&"border-box"===Ee.css(e,"boxSizing",!1,i),c=r?$(e,t,r,s,i):0;return s&&a&&(c-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-$(e,t,"border",!1,i)-.5)),c&&(o=Ke.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=Ee.css(e,t)),W(e,n,c)}}}),Ee.cssHooks.marginLeft=U(Ce.reliableMarginLeft,function(e,t){if(t)return(parseFloat(H(e,"marginLeft"))||e.getBoundingClientRect().left-ht(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),Ee.each({margin:"",padding:"",border:"Width"},function(e,t){Ee.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+Ye[r]+t]=i[r]||i[r-2]||i[0];return o}},"margin"!==e&&(Ee.cssHooks[e+t].set=W)}),Ee.fn.extend({css:function(e,t){return Fe(this,function(e,t,n){var r,o,i={},a=0;if(Array.isArray(t)){for(r=mt(e),o=t.length;a<o;a++)i[t[a]]=Ee.css(e,t[a],!1,r);return i}return void 0!==n?Ee.style(e,t,n):Ee.css(e,t)},e,t,arguments.length>1)}}),Ee.Tween=X,X.prototype={constructor:X,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||Ee.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(Ee.cssNumber[n]?"":"px")},cur:function(){var e=X.propHooks[this.prop];return e&&e.get?e.get(this):X.propHooks._default.get(this)},run:function(e){var t,n=X.propHooks[this.prop];return this.options.duration?this.pos=t=Ee.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):X.propHooks._default.set(this),this}},X.prototype.init.prototype=X.prototype,X.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=Ee.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){Ee.fx.step[e.prop]?Ee.fx.step[e.prop](e):1!==e.elem.nodeType||!Ee.cssHooks[e.prop]&&null==e.elem.style[q(e.prop)]?e.elem[e.prop]=e.now:Ee.style(e.elem,e.prop,e.now+e.unit)}}},X.propHooks.scrollTop=X.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Ee.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},Ee.fx=X.prototype.init,Ee.fx.step={};var St,kt,Tt=/^(?:toggle|show|hide)$/,Et=/queueHooks$/;Ee.Animation=Ee.extend(te,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return C(n.elem,e,Ke.exec(t),n),n}]},tweener:function(e,t){_e(e)?(t=e,e=["*"]):e=e.match(je);for(var n,r=0,o=e.length;r<o;r++)n=e[r],te.tweeners[n]=te.tweeners[n]||[],te.tweeners[n].unshift(t)},prefilters:[Z],prefilter:function(e,t){t?te.prefilters.unshift(e):te.prefilters.push(e)}}),Ee.speed=function(e,t,n){var r=e&&"object"==typeof e?Ee.extend({},e):{complete:n||!n&&t||_e(e)&&e,duration:e,easing:n&&t||t&&!_e(t)&&t};return Ee.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in Ee.fx.speeds?r.duration=Ee.fx.speeds[r.duration]:r.duration=Ee.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){_e(r.old)&&r.old.call(this),r.queue&&Ee.dequeue(this,r.queue)},r},Ee.fn.extend({fadeTo:function(e,t,n,r){return this.filter(et).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=Ee.isEmptyObject(e),i=Ee.speed(t,n,r),a=function(){var t=te(this,Ee.extend({},e),i);(o||qe.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=Ee.timers,a=qe.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&Et.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||Ee.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=qe.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=Ee.timers,a=r?r.length:0;for(n.finish=!0,Ee.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Ee.each(["toggle","show","hide"],function(e,t){var n=Ee.fn[t];Ee.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(J(t,!0),e,r,o)}}),Ee.each({slideDown:J("show"),slideUp:J("hide"),slideToggle:J("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Ee.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Ee.timers=[],Ee.fx.tick=function(){var e,t=0,n=Ee.timers;for(St=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||Ee.fx.stop(),St=void 0},Ee.fx.timer=function(e){Ee.timers.push(e),Ee.fx.start()},Ee.fx.interval=13,Ee.fx.start=function(){kt||(kt=!0,K())},Ee.fx.stop=function(){kt=null},Ee.fx.speeds={slow:600,fast:200,_default:400},Ee.fn.delay=function(e,t){return e=Ee.fx?Ee.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,r){var o=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(o)}})},function(){var e=ke.createElement("input"),t=ke.createElement("select"),n=t.appendChild(ke.createElement("option"));e.type="checkbox",Ce.checkOn=""!==e.value,Ce.optSelected=n.selected,e=ke.createElement("input"),e.value="t",e.type="radio",Ce.radioValue="t"===e.value}();var Ot,Nt=Ee.expr.attrHandle;Ee.fn.extend({attr:function(e,t){return Fe(this,Ee.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Ee.removeAttr(this,e)})}}),Ee.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?Ee.prop(e,t,n):(1===i&&Ee.isXMLDoc(e)||(o=Ee.attrHooks[t.toLowerCase()]||(Ee.expr.match.bool.test(t)?Ot:void 0)),void 0!==n?null===n?void Ee.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:(r=Ee.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!Ce.radioValue&&"radio"===t&&c(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(je);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),Ot={set:function(e,t,n){return!1===t?Ee.removeAttr(e,n):e.setAttribute(n,n),n}},Ee.each(Ee.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Nt[t]||Ee.find.attr;Nt[t]=function(e,t,r){var o,i,a=t.toLowerCase();return r||(i=Nt[a],Nt[a]=o,o=null!=n(e,t,r)?a:null,Nt[a]=i),o}});var At=/^(?:input|select|textarea|button)$/i,Dt=/^(?:a|area)$/i;Ee.fn.extend({prop:function(e,t){return Fe(this,Ee.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Ee.propFix[e]||e]})}}),Ee.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&Ee.isXMLDoc(e)||(t=Ee.propFix[t]||t,o=Ee.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=Ee.find.attr(e,"tabindex");return t?parseInt(t,10):At.test(e.nodeName)||Dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Ce.optSelected||(Ee.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),Ee.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Ee.propFix[this.toLowerCase()]=this}),Ee.fn.extend({addClass:function(e){var t,n,r,o,i,a,u,s=0;if(_e(e))return this.each(function(t){Ee(this).addClass(e.call(this,t,re(this)))});if(t=oe(e),t.length)for(;n=this[s++];)if(o=re(n),r=1===n.nodeType&&" "+ne(o)+" "){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");u=ne(r),o!==u&&n.setAttribute("class",u)}return this},removeClass:function(e){var t,n,r,o,i,a,u,s=0;if(_e(e))return this.each(function(t){Ee(this).removeClass(e.call(this,t,re(this)))});if(!arguments.length)return this.attr("class","");if(t=oe(e),t.length)for(;n=this[s++];)if(o=re(n),r=1===n.nodeType&&" "+ne(o)+" "){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");u=ne(r),o!==u&&n.setAttribute("class",u)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):_e(e)?this.each(function(n){Ee(this).toggleClass(e.call(this,n,re(this),t),t)}):this.each(function(){var t,o,i,a;if(r)for(o=0,i=Ee(this),a=oe(e);t=a[o++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||(t=re(this),t&&qe.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":qe.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+ne(re(n))+" ").indexOf(t)>-1)return!0;return!1}});var Mt=/\r/g;Ee.fn.extend({val:function(e){var t,n,r,o=this[0];{if(arguments.length)return r=_e(e),this.each(function(n){var o;1===this.nodeType&&(o=r?e.call(this,n,Ee(this).val()):e,null==o?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=Ee.map(o,function(e){return null==e?"":e+""})),(t=Ee.valHooks[this.type]||Ee.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return(t=Ee.valHooks[o.type]||Ee.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(Mt,""):null==n?"":n)}}}),Ee.extend({valHooks:{option:{get:function(e){var t=Ee.find.attr(e,"value");return null!=t?t:ne(Ee.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,a="select-one"===e.type,u=a?null:[],s=a?i+1:o.length;for(r=i<0?s:a?i:0;r<s;r++)if(n=o[r],(n.selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!c(n.parentNode,"optgroup"))){if(t=Ee(n).val(),a)return t;u.push(t)}return u},set:function(e,t){for(var n,r,o=e.options,i=Ee.makeArray(t),a=o.length;a--;)r=o[a],(r.selected=Ee.inArray(Ee.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),Ee.each(["radio","checkbox"],function(){Ee.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=Ee.inArray(Ee(e).val(),t)>-1}},Ce.checkOn||(Ee.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Ce.focusin="onfocusin"in n;var It=/^(?:focusinfocus|focusoutblur)$/,Rt=function(e){e.stopPropagation()};Ee.extend(Ee.event,{trigger:function(e,t,r,o){var i,a,u,s,c,l,f,d,p=[r||ke],m=ye.call(e,"type")?e.type:e,h=ye.call(e,"namespace")?e.namespace.split("."):[];if(a=d=u=r=r||ke,3!==r.nodeType&&8!==r.nodeType&&!It.test(m+Ee.event.triggered)&&(m.indexOf(".")>-1&&(h=m.split("."),m=h.shift(),h.sort()),c=m.indexOf(":")<0&&"on"+m,e=e[Ee.expando]?e:new Ee.Event(m,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:Ee.makeArray(t,[e]),f=Ee.event.special[m]||{},o||!f.trigger||!1!==f.trigger.apply(r,t))){if(!o&&!f.noBubble&&!Se(r)){for(s=f.delegateType||m,It.test(s+m)||(a=a.parentNode);a;a=a.parentNode)p.push(a),u=a;u===(r.ownerDocument||ke)&&p.push(u.defaultView||u.parentWindow||n)}for(i=0;(a=p[i++])&&!e.isPropagationStopped();)d=a,e.type=i>1?s:f.bindType||m,l=(qe.get(a,"events")||Object.create(null))[e.type]&&qe.get(a,"handle"),l&&l.apply(a,t),(l=c&&a[c])&&l.apply&&Ve(a)&&(e.result=l.apply(a,t),!1===e.result&&e.preventDefault());return e.type=m,o||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(p.pop(),t)||!Ve(r)||c&&_e(r[m])&&!Se(r)&&(u=r[c],u&&(r[c]=null),Ee.event.triggered=m,e.isPropagationStopped()&&d.addEventListener(m,Rt),r[m](),e.isPropagationStopped()&&d.removeEventListener(m,Rt),Ee.event.triggered=void 0,u&&(r[c]=u)),e.result}},simulate:function(e,t,n){var r=Ee.extend(new Ee.Event,n,{type:e,isSimulated:!0});Ee.event.trigger(r,null,t)}}),Ee.fn.extend({trigger:function(e,t){return this.each(function(){Ee.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return Ee.event.trigger(e,t,n,!0)}}),Ce.focusin||Ee.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Ee.event.simulate(t,e.target,Ee.event.fix(e))};Ee.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,o=qe.access(r,t);o||r.addEventListener(e,n,!0),qe.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,o=qe.access(r,t)-1;o?qe.access(r,t,o):(r.removeEventListener(e,n,!0),qe.remove(r,t))}}});var Pt=n.location,Lt={guid:Date.now()},jt=/\?/;Ee.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||Ee.error("Invalid XML: "+e),t};var Bt=/\[\]$/,zt=/\r?\n/g,Ft=/^(?:submit|button|image|reset|file)$/i,Ht=/^(?:input|select|textarea|keygen)/i;Ee.param=function(e,t){var n,r=[],o=function(e,t){var n=_e(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!Ee.isPlainObject(e))Ee.each(e,function(){o(this.name,this.value)});else for(n in e)ie(n,e[n],t,o);return r.join("&")},Ee.fn.extend({serialize:function(){return Ee.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Ee.prop(this,"elements");return e?Ee.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Ee(this).is(":disabled")&&Ht.test(this.nodeName)&&!Ft.test(e)&&(this.checked||!nt.test(e))}).map(function(e,t){var n=Ee(this).val();return null==n?null:Array.isArray(n)?Ee.map(n,function(e){return{name:t.name,value:e.replace(zt,"\r\n")}}):{name:t.name,value:n.replace(zt,"\r\n")}}).get()}});var Ut=/%20/g,Vt=/#.*$/,qt=/([?&])_=[^&]*/,Wt=/^(.*?):[ \t]*([^\r\n]*)$/gm,$t=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Gt=/^(?:GET|HEAD)$/,Xt=/^\/\//,Kt={},Yt={},Jt="*/".concat("*"),Qt=ke.createElement("a");Qt.href=Pt.href,Ee.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pt.href,type:"GET",isLocal:$t.test(Pt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Ee.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?se(se(e,Ee.ajaxSettings),t):se(Ee.ajaxSettings,e)},ajaxPrefilter:ae(Kt),ajaxTransport:ae(Yt),ajax:function(e,t){function r(e,t,r,u){var c,d,p,w,x,C=t;l||(l=!0,s&&n.clearTimeout(s),o=void 0,a=u||"",_.readyState=e>0?4:0,c=e>=200&&e<300||304===e,r&&(w=ce(m,_,r)),!c&&Ee.inArray("script",m.dataTypes)>-1&&(m.converters["text script"]=function(){}),w=le(m,w,_,c),c?(m.ifModified&&(x=_.getResponseHeader("Last-Modified"),x&&(Ee.lastModified[i]=x),(x=_.getResponseHeader("etag"))&&(Ee.etag[i]=x)),204===e||"HEAD"===m.type?C="nocontent":304===e?C="notmodified":(C=w.state,d=w.data,p=w.error,c=!p)):(p=C,!e&&C||(C="error",e<0&&(e=0))),_.status=e,_.statusText=(t||C)+"",c?v.resolveWith(h,[d,C,_]):v.rejectWith(h,[_,C,p]),_.statusCode(y),y=void 0,f&&g.trigger(c?"ajaxSuccess":"ajaxError",[_,m,c?d:p]),b.fireWith(h,[_,C]),f&&(g.trigger("ajaxComplete",[_,m]),--Ee.active||Ee.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var o,i,a,u,s,c,l,f,d,p,m=Ee.ajaxSetup({},t),h=m.context||m,g=m.context&&(h.nodeType||h.jquery)?Ee(h):Ee.event,v=Ee.Deferred(),b=Ee.Callbacks("once memory"),y=m.statusCode||{},w={},x={},C="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(l){if(!u)for(u={};t=Wt.exec(a);)u[t[1].toLowerCase()+" "]=(u[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=u[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?a:null},setRequestHeader:function(e,t){return null==l&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==l&&(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)_.always(e[_.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||C;return o&&o.abort(t),r(0,t),this}};if(v.promise(_),m.url=((e||m.url||Pt.href)+"").replace(Xt,Pt.protocol+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(je)||[""],null==m.crossDomain){c=ke.createElement("a");try{c.href=m.url,c.href=c.href,m.crossDomain=Qt.protocol+"//"+Qt.host!=c.protocol+"//"+c.host}catch(e){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=Ee.param(m.data,m.traditional)),ue(Kt,m,t,_),l)return _;f=Ee.event&&m.global,f&&0==Ee.active++&&Ee.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Gt.test(m.type),i=m.url.replace(Vt,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(Ut,"+")):(p=m.url.slice(i.length),m.data&&(m.processData||"string"==typeof m.data)&&(i+=(jt.test(i)?"&":"?")+m.data,delete m.data),!1===m.cache&&(i=i.replace(qt,"$1"),p=(jt.test(i)?"&":"?")+"_="+Lt.guid+++p),m.url=i+p),m.ifModified&&(Ee.lastModified[i]&&_.setRequestHeader("If-Modified-Since",Ee.lastModified[i]),Ee.etag[i]&&_.setRequestHeader("If-None-Match",Ee.etag[i])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&_.setRequestHeader("Content-Type",m.contentType),_.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Jt+"; q=0.01":""):m.accepts["*"]);for(d in m.headers)_.setRequestHeader(d,m.headers[d]);if(m.beforeSend&&(!1===m.beforeSend.call(h,_,m)||l))return _.abort();if(C="abort",b.add(m.complete),_.done(m.success),_.fail(m.error),o=ue(Yt,m,t,_)){if(_.readyState=1,f&&g.trigger("ajaxSend",[_,m]),l)return _;m.async&&m.timeout>0&&(s=n.setTimeout(function(){_.abort("timeout")},m.timeout));try{l=!1,o.send(w,r)}catch(e){if(l)throw e;r(-1,e)}}else r(-1,"No Transport");return _},getJSON:function(e,t,n){return Ee.get(e,t,n,"json")},getScript:function(e,t){return Ee.get(e,void 0,t,"script")}}),Ee.each(["get","post"],function(e,t){Ee[t]=function(e,n,r,o){return _e(n)&&(o=o||r,r=n,n=void 0),Ee.ajax(Ee.extend({url:e,type:t,dataType:o,data:n,success:r},Ee.isPlainObject(e)&&e))}}),Ee.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),Ee._evalUrl=function(e,t,n){return Ee.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){Ee.globalEval(e,t,n)}})},Ee.fn.extend({wrapAll:function(e){var t;return this[0]&&(_e(e)&&(e=e.call(this[0])),t=Ee(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return _e(e)?this.each(function(t){Ee(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Ee(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=_e(e);return this.each(function(n){Ee(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){Ee(this).replaceWith(this.childNodes)}),this}}),Ee.expr.pseudos.hidden=function(e){return!Ee.expr.pseudos.visible(e)},Ee.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Ee.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Zt={0:200,1223:204},en=Ee.ajaxSettings.xhr();Ce.cors=!!en&&"withCredentials"in en,Ce.ajax=en=!!en,Ee.ajaxTransport(function(e){var t,r;if(Ce.cors||en&&!e.crossDomain)return{send:function(o,i){var a,u=e.xhr();if(u.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)u[a]=e.xhrFields[a];e.mimeType&&u.overrideMimeType&&u.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(a in o)u.setRequestHeader(a,o[a]);t=function(e){return function(){t&&(t=r=u.onload=u.onerror=u.onabort=u.ontimeout=u.onreadystatechange=null,"abort"===e?u.abort():"error"===e?"number"!=typeof u.status?i(0,"error"):i(u.status,u.statusText):i(Zt[u.status]||u.status,u.statusText,"text"!==(u.responseType||"text")||"string"!=typeof u.responseText?{binary:u.response}:{text:u.responseText},u.getAllResponseHeaders()))}},u.onload=t(),r=u.onerror=u.ontimeout=t("error"),void 0!==u.onabort?u.onabort=r:u.onreadystatechange=function(){4===u.readyState&&n.setTimeout(function(){t&&r()})},t=t("abort");try{u.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),Ee.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),Ee.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return Ee.globalEval(e),e}}}),Ee.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Ee.ajaxTransport("script",function(e){if(e.crossDomain||e.scriptAttrs){var t,n;return{send:function(r,o){t=Ee("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),ke.head.appendChild(t[0])},abort:function(){n&&n()}}}});var tn=[],nn=/(=)\?(?=&|$)|\?\?/;Ee.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tn.pop()||Ee.expando+"_"+Lt.guid++;return this[e]=!0,e}}),Ee.ajaxPrefilter("json jsonp",function(e,t,r){var o,i,a,u=!1!==e.jsonp&&(nn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(e.data)&&"data");if(u||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=_e(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,u?e[u]=e[u].replace(nn,"$1"+o):!1!==e.jsonp&&(e.url+=(jt.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||Ee.error(o+" was not called"),a[0]},e.dataTypes[0]="json",i=n[o],n[o]=function(){a=arguments},r.always(function(){void 0===i?Ee(n).removeProp(o):n[o]=i,e[o]&&(e.jsonpCallback=t.jsonpCallback,tn.push(o)),a&&_e(i)&&i(a[0]),a=i=void 0}),"script"}),Ce.createHTMLDocument=function(){var e=ke.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),Ee.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,o,i;return t||(Ce.createHTMLDocument?(t=ke.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=ke.location.href,t.head.appendChild(r)):t=ke),o=Me.exec(e),i=!n&&[],o?[t.createElement(o[1])]:(o=E([e],t,i),i&&i.length&&Ee(i).remove(),Ee.merge([],o.childNodes))},Ee.fn.load=function(e,t,n){var r,o,i,a=this,u=e.indexOf(" ");return u>-1&&(r=ne(e.slice(u)),e=e.slice(0,u)),_e(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&Ee.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?Ee("<div>").append(Ee.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},Ee.expr.pseudos.animated=function(e){return Ee.grep(Ee.timers,function(t){return e===t.elem}).length},Ee.offset={setOffset:function(e,t,n){var r,o,i,a,u,s,c,l=Ee.css(e,"position"),f=Ee(e),d={};"static"===l&&(e.style.position="relative"),u=f.offset(),i=Ee.css(e,"top"),s=Ee.css(e,"left"),c=("absolute"===l||"fixed"===l)&&(i+s).indexOf("auto")>-1,c?(r=f.position(),a=r.top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(s)||0),_e(t)&&(t=t.call(e,n,Ee.extend({},u))),null!=t.top&&(d.top=t.top-u.top+a),null!=t.left&&(d.left=t.left-u.left+o),"using"in t?t.using.call(e,d):("number"==typeof d.top&&(d.top+="px"),"number"==typeof d.left&&(d.left+="px"),f.css(d))}},Ee.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Ee.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===Ee.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===Ee.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&(o=Ee(e).offset(),o.top+=Ee.css(e,"borderTopWidth",!0),o.left+=Ee.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-Ee.css(r,"marginTop",!0),left:t.left-o.left-Ee.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===Ee.css(e,"position");)e=e.offsetParent;return e||Je})}}),Ee.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;Ee.fn[e]=function(r){return Fe(this,function(e,r,o){var i;if(Se(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o},e,r,arguments.length)}}),Ee.each(["top","left"],function(e,t){Ee.cssHooks[t]=U(Ce.pixelPosition,function(e,n){if(n)return n=H(e,t),pt.test(n)?Ee(e).position()[t]+"px":n})}),Ee.each({Height:"height",Width:"width"},function(e,t){Ee.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Ee.fn[r]=function(o,i){var a=arguments.length&&(n||"boolean"!=typeof o),u=n||(!0===o||!0===i?"margin":"border");return Fe(this,function(t,n,o){var i;return Se(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?Ee.css(t,n,u):Ee.style(t,n,o,u)},t,a?o:void 0,a)}})}),Ee.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Ee.fn[t]=function(e){return this.on(t,e)}}),Ee.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Ee.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){Ee.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});var rn=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Ee.proxy=function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),_e(e))return r=pe.call(arguments,2),o=function(){return e.apply(t||this,r.concat(pe.call(arguments)))},o.guid=e.guid=e.guid||Ee.guid++,o},Ee.holdReady=function(e){e?Ee.readyWait++:Ee.ready(!0)},Ee.isArray=Array.isArray,Ee.parseJSON=JSON.parse,Ee.nodeName=c,Ee.isFunction=_e,Ee.isWindow=Se,Ee.camelCase=b,Ee.type=u,Ee.now=Date.now,Ee.isNumeric=function(e){var t=Ee.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},Ee.trim=function(e){return null==e?"":(e+"").replace(rn,"")},r=[],void 0!==(o=function(){return Ee}.apply(t,r))&&(e.exports=o);var on=n.jQuery,an=n.$;return Ee.noConflict=function(e){return n.$===Ee&&(n.$=an),e&&n.jQuery===Ee&&(n.jQuery=on),Ee},void 0===i&&(n.jQuery=n.$=Ee),Ee})},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"1dde":function(e,t,n){var r=n("d039"),o=n("b622"),i=n("2d00"),a=o("species");e.exports=function(e){return i>=51||!r(function(){var t=[],n=t.constructor={};return n[a]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},"23cb":function(e,t,n){var r=n("a691"),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},"23e7":function(e,t,n){var r=n("da84"),o=n("06cf").f,i=n("9112"),a=n("6eeb"),u=n("ce4e"),s=n("e893"),c=n("94ca");e.exports=function(e,t){var n,l,f,d,p,m=e.target,h=e.global,g=e.stat;if(n=h?r:g?r[m]||u(m,{}):(r[m]||{}).prototype)for(l in t){if(d=t[l],e.noTargetGet?(p=o(n,l),f=p&&p.value):f=n[l],!c(h?l:m+(g?".":"#")+l,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;s(d,f)}(e.sham||f&&f.sham)&&i(d,"sham",!0),a(n,l,d,e)}}},"241c":function(e,t,n){var r=n("ca84"),o=n("7839"),i=o.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},"24fb":function(e,t,n){"use strict";function r(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=o(r);return[n].concat(r.sources.map(function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")})).concat([i]).join("\n")}return[n].join("\n")}function o(e){return"/*# ".concat("sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(e)))))," */")}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=r(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n}).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var u=0;u<e.length;u++){var s=[].concat(e[u]);r&&o[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},"2d00":function(e,t,n){var r,o,i=n("da84"),a=n("342f"),u=i.process,s=u&&u.versions,c=s&&s.v8;c?(r=c.split("."),o=r[0]+r[1]):a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),e.exports=o&&+o},"342f":function(e,t,n){var r=n("d066");e.exports=r("navigator","userAgent")||""},"428f":function(e,t,n){var r=n("da84");e.exports=r},"44ad":function(e,t,n){var r=n("d039"),o=n("c6b6"),i="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},4930:function(e,t,n){var r=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},"499e":function(e,t,n){"use strict";function r(e,t){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=i[0],u=i[1],s=i[2],c=i[3],l={id:e+":"+o,css:u,media:s,sourceMap:c};r[a]?r[a].parts.push(l):n.push(r[a]={id:a,parts:[l]})}return n}function o(e,t,n,o){h=n,v=o||{};var a=r(e,t);return i(a),function(t){for(var n=[],o=0;o<a.length;o++){var u=a[o],s=f[u.id];s.refs--,n.push(s)}t?(a=r(e,t),i(a)):a=[];for(var o=0;o<n.length;o++){var s=n[o];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete f[s.id]}}}}function i(e){for(var t=0;t<e.length;t++){var n=e[t],r=f[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(u(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{for(var i=[],o=0;o<n.parts.length;o++)i.push(u(n.parts[o]));f[n.id]={id:n.id,refs:1,parts:i}}}}function a(){var e=document.createElement("style");return e.type="text/css",d.appendChild(e),e}function u(e){var t,n,r=document.querySelector("style["+b+'~="'+e.id+'"]');if(r){if(h)return g;r.parentNode.removeChild(r)}if(y){var o=m++;r=p||(p=a()),t=s.bind(null,r,o,!1),n=s.bind(null,r,o,!0)}else r=a(),t=c.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}function s(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function c(e,t){var n=t.css,r=t.media,o=t.sourceMap;if(r&&e.setAttribute("media",r),v.ssrId&&e.setAttribute(b,t.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}n.r(t),n.d(t,"default",function(){return o});var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var f={},d=l&&(document.head||document.getElementsByTagName("head")[0]),p=null,m=0,h=!1,g=function(){},v=null,b="data-vue-ssr-id",y="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase()),w=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},"4d64":function(e,t,n){var r=n("fc6a"),o=n("50c4"),i=n("23cb"),a=function(e){return function(t,n,a){var u,s=r(t),c=o(s.length),l=i(a,c);if(e&&n!=n){for(;c>l;)if((u=s[l++])!=u)return!0}else for(;c>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},"50c4":function(e,t,n){var r=n("a691"),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},5135:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},5692:function(e,t,n){var r=n("c430"),o=n("c6cd");(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,n){var r=n("d066"),o=n("241c"),i=n("7418"),a=n("825a");e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"60da":function(e,t,n){"use strict";var r=n("83ab"),o=n("d039"),i=n("df75"),a=n("7418"),u=n("d1e7"),s=n("7b0b"),c=n("44ad"),l=Object.assign,f=Object.defineProperty;e.exports=!l||o(function(){if(r&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||i(l({},t)).join("")!=o})?function(e,t){for(var n=s(e),o=arguments.length,l=1,f=a.f,d=u.f;o>l;)for(var p,m=c(arguments[l++]),h=f?i(m).concat(f(m)):i(m),g=h.length,v=0;g>v;)p=h[v++],r&&!d.call(m,p)||(n[p]=m[p]);return n}:l},"65f0":function(e,t,n){var r=n("861d"),o=n("e8b5"),i=n("b622"),a=i("species");e.exports=function(e,t){var n;return o(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"69f3":function(e,t,n){var r,o,i,a=n("7f9a"),u=n("da84"),s=n("861d"),c=n("9112"),l=n("5135"),f=n("f772"),d=n("d012"),p=u.WeakMap,m=function(e){return i(e)?o(e):r(e,{})},h=function(e){return function(t){var n;if(!s(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(a){var g=new p,v=g.get,b=g.has,y=g.set;r=function(e,t){return y.call(g,e,t),t},o=function(e){return v.call(g,e)||{}},i=function(e){return b.call(g,e)}}else{var w=f("state");d[w]=!0,r=function(e,t){return c(e,w,t),t},o=function(e){return l(e,w)?e[w]:{}},i=function(e){return l(e,w)}}e.exports={set:r,get:o,has:i,enforce:m,getterFor:h}},"6eeb":function(e,t,n){var r=n("da84"),o=n("9112"),i=n("5135"),a=n("ce4e"),u=n("8925"),s=n("69f3"),c=s.get,l=s.enforce,f=String(String).split("String");(e.exports=function(e,t,n,u){var s=!!u&&!!u.unsafe,c=!!u&&!!u.enumerable,d=!!u&&!!u.noTargetGet;if("function"==typeof n&&("string"!=typeof t||i(n,"name")||o(n,"name",t),l(n).source=f.join("string"==typeof t?t:"")),e===r)return void(c?e[t]=n:a(t,n));s?!d&&e[t]&&(c=!0):delete e[t],c?e[t]=n:o(e,t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&c(this).source||u(this)})},7418:function(e,t){t.f=Object.getOwnPropertySymbols},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,n){var r=n("1d80");e.exports=function(e){return Object(r(e))}},"7f9a":function(e,t,n){var r=n("da84"),o=n("8925"),i=r.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},"825a":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},8418:function(e,t,n){"use strict";var r=n("c04e"),o=n("9bf2"),i=n("5c6c");e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},"861d":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},8875:function(e,t,n){var r,o,i;!function(n,a){o=[],r=a,void 0!==(i="function"==typeof r?r.apply(t,o):r)&&(e.exports=i)}("undefined"!=typeof self&&self,function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(e){var n,r,o,i=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,a=/@([^@]*):(\d+):(\d+)\s*$/gi,u=i.exec(e.stack)||a.exec(e.stack),s=u&&u[1]||!1,c=u&&u[2]||!1,l=document.location.href.replace(document.location.hash,""),f=document.getElementsByTagName("script");s===l&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(c-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),o=n.replace(r,"$1").trim());for(var d=0;d<f.length;d++){if("interactive"===f[d].readyState)return f[d];if(f[d].src===s)return f[d];if(s===l&&f[d].innerHTML&&f[d].innerHTML.trim()===o)return f[d]}return null}}return e})},8925:function(e,t,n){var r=n("c6cd"),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return o.call(e)}),e.exports=r.inspectSource},"8f68":function(e,t,n){"use strict";var r=n("ab17"),o=n.n(r);o.a},"90e3":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},9112:function(e,t,n){var r=n("83ab"),o=n("9bf2"),i=n("5c6c");e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},"91e5":function(module,exports){!function($){var settings={},roots={},caches={},_consts={className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch",NAME:"node_name"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",REMOVE:"ztree_remove",SELECTED:"ztree_selected",UNSELECTED:"ztree_unselected"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_setting={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nodeClasses:{},nameIsHTML:!1,selectedMulti:!0,showIcon:!0,showLine:!0,showTitle:!0,txtSelectedEnable:!1},data:{key:{isParent:"isParent",children:"children",name:"name",title:"",url:"url",icon:"icon"},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",headers:{},xhrFields:{},url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},_initRoot=function(e){var t=data.getRoot(e);t||(t={},data.setRoot(e,t)),data.nodeChildren(e,t,[]),t.expandTriggerFlag=!1,t.curSelectedList=[],t.noSelection=!0,t.createdNodes=[],t.zId=0,t._ver=(new Date).getTime()},_initCache=function(e){var t=data.getCache(e);t||(t={},data.setCache(e,t)),t.nodes=[],t.doms=[]},_bindEvent=function(e){var t=e.treeObj,n=consts.event;t.bind(n.NODECREATED,function(t,n,r){tools.apply(e.callback.onNodeCreated,[t,n,r])}),t.bind(n.CLICK,function(t,n,r,o,i){tools.apply(e.callback.onClick,[n,r,o,i])}),t.bind(n.EXPAND,function(t,n,r){tools.apply(e.callback.onExpand,[t,n,r])}),t.bind(n.COLLAPSE,function(t,n,r){tools.apply(e.callback.onCollapse,[t,n,r])}),t.bind(n.ASYNC_SUCCESS,function(t,n,r,o){tools.apply(e.callback.onAsyncSuccess,[t,n,r,o])}),t.bind(n.ASYNC_ERROR,function(t,n,r,o,i,a){tools.apply(e.callback.onAsyncError,[t,n,r,o,i,a])}),t.bind(n.REMOVE,function(t,n,r){tools.apply(e.callback.onRemove,[t,n,r])}),t.bind(n.SELECTED,function(t,n,r){tools.apply(e.callback.onSelected,[n,r])}),t.bind(n.UNSELECTED,function(t,n,r){tools.apply(e.callback.onUnSelected,[n,r])})},_unbindEvent=function(e){var t=e.treeObj,n=consts.event;t.unbind(n.NODECREATED).unbind(n.CLICK).unbind(n.EXPAND).unbind(n.COLLAPSE).unbind(n.ASYNC_SUCCESS).unbind(n.ASYNC_ERROR).unbind(n.REMOVE).unbind(n.SELECTED).unbind(n.UNSELECTED)},_eventProxy=function(e){var t=e.target,n=data.getSetting(e.data.treeId),r="",o=null,i="",a="",u=null,s=null,c=null;if(tools.eqs(e.type,"mousedown")?a="mousedown":tools.eqs(e.type,"mouseup")?a="mouseup":tools.eqs(e.type,"contextmenu")?a="contextmenu":tools.eqs(e.type,"click")?tools.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+consts.id.SWITCH)?(r=tools.getNodeMainDom(t).id,i="switchNode"):(c=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(r=tools.getNodeMainDom(c).id,i="clickNode"):tools.eqs(e.type,"dblclick")&&(a="dblclick",(c=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(r=tools.getNodeMainDom(c).id,i="switchNode")),a.length>0&&0==r.length&&(c=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(r=tools.getNodeMainDom(c).id),r.length>0)switch(o=data.getNodeCache(n,r),i){case"switchNode":data.nodeIsParent(n,o)&&(tools.eqs(e.type,"click")||tools.eqs(e.type,"dblclick")&&tools.apply(n.view.dblClickExpand,[n.treeId,o],n.view.dblClickExpand))?u=handler.onSwitchNode:i="";break;case"clickNode":u=handler.onClickNode}switch(a){case"mousedown":s=handler.onZTreeMousedown;break;case"mouseup":s=handler.onZTreeMouseup;break;case"dblclick":s=handler.onZTreeDblclick;break;case"contextmenu":s=handler.onZTreeContextmenu}return{stop:!1,node:o,nodeEventType:i,nodeEventCallback:u,treeEventType:a,treeEventCallback:s}},_initNode=function(e,t,n,r,o,i,a){if(n){var u=data.getRoot(e),s=data.nodeChildren(e,n);n.level=t,n.tId=e.treeId+"_"+ ++u.zId,n.parentTId=r?r.tId:null,n.open="string"==typeof n.open?tools.eqs(n.open,"true"):!!n.open;var c=data.nodeIsParent(e,n);tools.isArray(s)?(data.nodeIsParent(e,n,!0),n.zAsync=!0):(c=data.nodeIsParent(e,n,c),n.open=!(!c||e.async.enable)&&n.open,n.zAsync=!c),n.isFirstNode=o,n.isLastNode=i,n.getParentNode=function(){return data.getNodeCache(e,n.parentTId)},n.getPreNode=function(){return data.getPreNode(e,n)},n.getNextNode=function(){return data.getNextNode(e,n)},n.getIndex=function(){return data.getNodeIndex(e,n)},n.getPath=function(){return data.getNodePath(e,n)},n.isAjaxing=!1,data.fixPIdKeyValue(e,n)}},_init={bind:[_bindEvent],unbind:[_unbindEvent],caches:[_initCache],nodes:[_initNode],proxys:[_eventProxy],roots:[_initRoot],beforeA:[],afterA:[],innerBeforeA:[],innerAfterA:[],zTreeTools:[]},data={addNodeCache:function(e,t){data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=t},getNodeCacheId:function(e){return e.substring(e.lastIndexOf("_")+1)},addAfterA:function(e){_init.afterA.push(e)},addBeforeA:function(e){_init.beforeA.push(e)},addInnerAfterA:function(e){_init.innerAfterA.push(e)},addInnerBeforeA:function(e){_init.innerBeforeA.push(e)},addInitBind:function(e){_init.bind.push(e)},addInitUnBind:function(e){_init.unbind.push(e)},addInitCache:function(e){_init.caches.push(e)},addInitNode:function(e){_init.nodes.push(e)},addInitProxy:function(e,t){t?_init.proxys.splice(0,0,e):_init.proxys.push(e)},addInitRoot:function(e){_init.roots.push(e)},addNodesData:function(e,t,n,r){var o,i=data.nodeChildren(e,t);i?n>=i.length&&(n=-1):(i=data.nodeChildren(e,t,[]),n=-1),i.length>0&&0===n?(i[0].isFirstNode=!1,view.setNodeLineIcos(e,i[0])):i.length>0&&n<0&&(i[i.length-1].isLastNode=!1,view.setNodeLineIcos(e,i[i.length-1])),data.nodeIsParent(e,t,!0),n<0?data.nodeChildren(e,t,i.concat(r)):(o=[n,0].concat(r),i.splice.apply(i,o))},addSelectedNode:function(e,t){var n=data.getRoot(e);data.isSelectedNode(e,t)||n.curSelectedList.push(t)},addCreatedNode:function(e,t){if(e.callback.onNodeCreated||e.view.addDiyDom){data.getRoot(e).createdNodes.push(t)}},addZTreeTools:function(e){_init.zTreeTools.push(e)},exSetting:function(e){$.extend(!0,_setting,e)},fixPIdKeyValue:function(e,t){e.data.simpleData.enable&&(t[e.data.simpleData.pIdKey]=t.parentTId?t.getParentNode()[e.data.simpleData.idKey]:e.data.simpleData.rootPId)},getAfterA:function(e,t,n){for(var r=0,o=_init.afterA.length;r<o;r++)_init.afterA[r].apply(this,arguments)},getBeforeA:function(e,t,n){for(var r=0,o=_init.beforeA.length;r<o;r++)_init.beforeA[r].apply(this,arguments)},getInnerAfterA:function(e,t,n){for(var r=0,o=_init.innerAfterA.length;r<o;r++)_init.innerAfterA[r].apply(this,arguments)},getInnerBeforeA:function(e,t,n){for(var r=0,o=_init.innerBeforeA.length;r<o;r++)_init.innerBeforeA[r].apply(this,arguments)},getCache:function(e){return caches[e.treeId]},getNodeIndex:function(e,t){if(!t)return null;for(var n=t.parentTId?t.getParentNode():data.getRoot(e),r=data.nodeChildren(e,n),o=0,i=r.length-1;o<=i;o++)if(r[o]===t)return o;return-1},getNextNode:function(e,t){if(!t)return null;for(var n=t.parentTId?t.getParentNode():data.getRoot(e),r=data.nodeChildren(e,n),o=0,i=r.length-1;o<=i;o++)if(r[o]===t)return o==i?null:r[o+1];return null},getNodeByParam:function(e,t,n,r){if(!t||!n)return null;for(var o=0,i=t.length;o<i;o++){var a=t[o];if(a[n]==r)return t[o];var u=data.nodeChildren(e,a),s=data.getNodeByParam(e,u,n,r);if(s)return s}return null},getNodeCache:function(e,t){if(!t)return null;var n=caches[e.treeId].nodes[data.getNodeCacheId(t)];return n||null},getNodePath:function(e,t){if(!t)return null;var n;return n=t.parentTId?t.getParentNode().getPath():[],n&&n.push(t),n},getNodes:function(e){return data.nodeChildren(e,data.getRoot(e))},getNodesByParam:function(e,t,n,r){if(!t||!n)return[];for(var o=[],i=0,a=t.length;i<a;i++){var u=t[i];u[n]==r&&o.push(u);var s=data.nodeChildren(e,u);o=o.concat(data.getNodesByParam(e,s,n,r))}return o},getNodesByParamFuzzy:function(e,t,n,r){if(!t||!n)return[];var o=[];r=r.toLowerCase();for(var i=0,a=t.length;i<a;i++){var u=t[i];"string"==typeof u[n]&&t[i][n].toLowerCase().indexOf(r)>-1&&o.push(u);var s=data.nodeChildren(e,u);o=o.concat(data.getNodesByParamFuzzy(e,s,n,r))}return o},getNodesByFilter:function(e,t,n,r,o){if(!t)return r?null:[];for(var i=r?null:[],a=0,u=t.length;a<u;a++){var s=t[a];if(tools.apply(n,[s,o],!1)){if(r)return s;i.push(s)}var c=data.nodeChildren(e,s),l=data.getNodesByFilter(e,c,n,r,o);if(r&&l)return l;i=r?l:i.concat(l)}return i},getPreNode:function(e,t){if(!t)return null;for(var n=t.parentTId?t.getParentNode():data.getRoot(e),r=data.nodeChildren(e,n),o=0,i=r.length;o<i;o++)if(r[o]===t)return 0==o?null:r[o-1];return null},getRoot:function(e){return e?roots[e.treeId]:null},getRoots:function(){return roots},getSetting:function(e){return settings[e]},getSettings:function(){return settings},getZTreeTools:function(e){var t=this.getRoot(this.getSetting(e));return t?t.treeTools:null},initCache:function(e){for(var t=0,n=_init.caches.length;t<n;t++)_init.caches[t].apply(this,arguments)},initNode:function(e,t,n,r,o,i){for(var a=0,u=_init.nodes.length;a<u;a++)_init.nodes[a].apply(this,arguments)},initRoot:function(e){for(var t=0,n=_init.roots.length;t<n;t++)_init.roots[t].apply(this,arguments)},isSelectedNode:function(e,t){for(var n=data.getRoot(e),r=0,o=n.curSelectedList.length;r<o;r++)if(t===n.curSelectedList[r])return!0;return!1},nodeChildren:function(e,t,n){if(!t)return null;var r=e.data.key.children;return void 0!==n&&(t[r]=n),t[r]},nodeIsParent:function(e,t,n){if(!t)return!1;var r=e.data.key.isParent;return void 0!==n?("string"==typeof n&&(n=tools.eqs(n,"true")),n=!!n,t[r]=n):"string"==typeof t[r]?t[r]=tools.eqs(t[r],"true"):t[r]=!!t[r],t[r]},nodeName:function(e,t,n){var r=e.data.key.name;return void 0!==n&&(t[r]=n),""+t[r]},nodeTitle:function(e,t){return""+t[""===e.data.key.title?e.data.key.name:e.data.key.title]},removeNodeCache:function(e,t){var n=data.nodeChildren(e,t);if(n)for(var r=0,o=n.length;r<o;r++)data.removeNodeCache(e,n[r]);data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=null},removeSelectedNode:function(e,t){for(var n=data.getRoot(e),r=0,o=n.curSelectedList.length;r<o;r++)t!==n.curSelectedList[r]&&data.getNodeCache(e,n.curSelectedList[r].tId)||(n.curSelectedList.splice(r,1),e.treeObj.trigger(consts.event.UNSELECTED,[e.treeId,t]),r--,o--)},setCache:function(e,t){caches[e.treeId]=t},setRoot:function(e,t){roots[e.treeId]=t},setZTreeTools:function(e,t){for(var n=0,r=_init.zTreeTools.length;n<r;n++)_init.zTreeTools[n].apply(this,arguments)},transformToArrayFormat:function(e,t){function n(t){r.push(t);var n=data.nodeChildren(e,t);n&&(r=r.concat(data.transformToArrayFormat(e,n)))}if(!t)return[];var r=[];if(tools.isArray(t))for(var o=0,i=t.length;o<i;o++){var a=t[o];n(a)}else n(t);return r},transformTozTreeFormat:function(e,t){var n,r,o=e.data.simpleData.idKey,i=e.data.simpleData.pIdKey;if(!o||""==o||!t)return[];if(tools.isArray(t)){var a=[],u={};for(n=0,r=t.length;n<r;n++)u[t[n][o]]=t[n];for(n=0,r=t.length;n<r;n++){var s=u[t[n][i]];if(s&&t[n][o]!=t[n][i]){var c=data.nodeChildren(e,s);c||(c=data.nodeChildren(e,s,[])),c.push(t[n])}else a.push(t[n])}return a}return[t]}},event={bindEvent:function(e){for(var t=0,n=_init.bind.length;t<n;t++)_init.bind[t].apply(this,arguments)},unbindEvent:function(e){for(var t=0,n=_init.unbind.length;t<n;t++)_init.unbind[t].apply(this,arguments)},bindTree:function(e){var t={treeId:e.treeId},n=e.treeObj;e.view.txtSelectedEnable||n.bind("selectstart",handler.onSelectStart).css({"-moz-user-select":"-moz-none"}),n.bind("click",t,event.proxy),n.bind("dblclick",t,event.proxy),n.bind("mouseover",t,event.proxy),n.bind("mouseout",t,event.proxy),n.bind("mousedown",t,event.proxy),n.bind("mouseup",t,event.proxy),n.bind("contextmenu",t,event.proxy)},unbindTree:function(e){e.treeObj.unbind("selectstart",handler.onSelectStart).unbind("click",event.proxy).unbind("dblclick",event.proxy).unbind("mouseover",event.proxy).unbind("mouseout",event.proxy).unbind("mousedown",event.proxy).unbind("mouseup",event.proxy).unbind("contextmenu",event.proxy)},doProxy:function(e){for(var t=[],n=0,r=_init.proxys.length;n<r;n++){var o=_init.proxys[n].apply(this,arguments);if(t.push(o),o.stop)break}return t},proxy:function(e){var t=data.getSetting(e.data.treeId);if(!tools.uCanDo(t,e))return!0;for(var n=event.doProxy(e),r=!0,o=0,i=n.length;o<i;o++){var a=n[o];a.nodeEventCallback&&(!0,r=a.nodeEventCallback.apply(a,[e,a.node])&&r),a.treeEventCallback&&(!0,r=a.treeEventCallback.apply(a,[e,a.node])&&r)}return r}},handler={onSwitchNode:function(e,t){var n=data.getSetting(e.data.treeId);if(t.open){if(0==tools.apply(n.callback.beforeCollapse,[n.treeId,t],!0))return!0;data.getRoot(n).expandTriggerFlag=!0,view.switchNode(n,t)}else{if(0==tools.apply(n.callback.beforeExpand,[n.treeId,t],!0))return!0;data.getRoot(n).expandTriggerFlag=!0,view.switchNode(n,t)}return!0},onClickNode:function(e,t){var n=data.getSetting(e.data.treeId),r=n.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&data.isSelectedNode(n,t)?0:n.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&n.view.selectedMulti?2:1;return 0==tools.apply(n.callback.beforeClick,[n.treeId,t,r],!0)||(0===r?view.cancelPreSelectedNode(n,t):view.selectNode(n,t,2===r),n.treeObj.trigger(consts.event.CLICK,[e,n.treeId,t,r]),!0)},onZTreeMousedown:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeMouseDown,[n.treeId,t],!0)&&tools.apply(n.callback.onMouseDown,[e,n.treeId,t]),!0},onZTreeMouseup:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeMouseUp,[n.treeId,t],!0)&&tools.apply(n.callback.onMouseUp,[e,n.treeId,t]),!0},onZTreeDblclick:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeDblClick,[n.treeId,t],!0)&&tools.apply(n.callback.onDblClick,[e,n.treeId,t]),!0},onZTreeContextmenu:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeRightClick,[n.treeId,t],!0)&&tools.apply(n.callback.onRightClick,[e,n.treeId,t]),"function"!=typeof n.callback.onRightClick},onSelectStart:function(e){var t=e.originalEvent.srcElement.nodeName.toLowerCase();return"input"===t||"textarea"===t}},tools={apply:function(e,t,n){return"function"==typeof e?e.apply(zt,t||[]):n},canAsync:function(e,t){var n=data.nodeChildren(e,t),r=data.nodeIsParent(e,t);return e.async.enable&&t&&r&&!(t.zAsync||n&&n.length>0)},clone:function(e){if(null===e)return null;var t=tools.isArray(e)?[]:{};for(var n in e)t[n]=e[n]instanceof Date?new Date(e[n].getTime()):"object"==typeof e[n]?tools.clone(e[n]):e[n];return t},eqs:function(e,t){return e.toLowerCase()===t.toLowerCase()},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},isElement:function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},$:function(e,t,n){return t&&"string"!=typeof t&&(n=t,t=""),"string"==typeof e?$(e,n?n.treeObj.get(0).ownerDocument:null):$("#"+e.tId+t,n?n.treeObj:null)},getMDom:function(e,t,n){if(!t)return null;for(;t&&t.id!==e.treeId;){for(var r=0,o=n.length;t.tagName&&r<o;r++)if(tools.eqs(t.tagName,n[r].tagName)&&null!==t.getAttribute(n[r].attrName))return t;t=t.parentNode}return null},getNodeMainDom:function(e){return $(e).parent("li").get(0)||$(e).parentsUntil("li").parent().get(0)},isChildOrSelf:function(e,t){return $(e).closest("#"+t).length>0},uCanDo:function(e,t){return!0}},view={addNodes:function(e,t,n,r,o){var i=data.nodeIsParent(e,t);if(!e.data.keep.leaf||!t||i)if(tools.isArray(r)||(r=[r]),e.data.simpleData.enable&&(r=data.transformTozTreeFormat(e,r)),t){var a=$$(t,consts.id.SWITCH,e),u=$$(t,consts.id.ICON,e),s=$$(t,consts.id.UL,e);t.open||(view.replaceSwitchClass(t,a,consts.folder.CLOSE),view.replaceIcoClass(t,u,consts.folder.CLOSE),t.open=!1,s.css({display:"none"})),data.addNodesData(e,t,n,r),view.createNodes(e,t.level+1,r,t,n),o||view.expandCollapseParentNode(e,t,!0)}else data.addNodesData(e,data.getRoot(e),n,r),view.createNodes(e,0,r,null,n)},appendNodes:function(e,t,n,r,o,i,a){if(!n)return[];var u,s,c=[],l=r||data.getRoot(e),f=data.nodeChildren(e,l);(!f||o>=f.length-n.length)&&(o=-1);for(var d=0,p=n.length;d<p;d++){var m=n[d];i&&(u=(0===o||f.length==n.length)&&0==d,s=o<0&&d==n.length-1,data.initNode(e,t,m,r,u,s,a),data.addNodeCache(e,m));var h=data.nodeIsParent(e,m),g=[],v=data.nodeChildren(e,m);v&&v.length>0&&(g=view.appendNodes(e,t+1,v,m,-1,i,a&&m.open)),a&&(view.makeDOMNodeMainBefore(c,e,m),view.makeDOMNodeLine(c,e,m),data.getBeforeA(e,m,c),view.makeDOMNodeNameBefore(c,e,m),data.getInnerBeforeA(e,m,c),view.makeDOMNodeIcon(c,e,m),data.getInnerAfterA(e,m,c),view.makeDOMNodeNameAfter(c,e,m),data.getAfterA(e,m,c),h&&m.open&&view.makeUlHtml(e,m,c,g.join("")),view.makeDOMNodeMainAfter(c,e,m),data.addCreatedNode(e,m))}return c},appendParentULDom:function(e,t){var n=[],r=$$(t,e);!r.get(0)&&t.parentTId&&(view.appendParentULDom(e,t.getParentNode()),r=$$(t,e));var o=$$(t,consts.id.UL,e);o.get(0)&&o.remove();var i=data.nodeChildren(e,t),a=view.appendNodes(e,t.level+1,i,t,-1,!1,!0);view.makeUlHtml(e,t,n,a.join("")),r.append(n.join(""))},asyncNode:function(setting,node,isSilent,callback){var i,l,isParent=data.nodeIsParent(setting,node);if(node&&!isParent)return tools.apply(callback),!1;if(node&&node.isAjaxing)return!1;if(0==tools.apply(setting.callback.beforeAsync,[setting.treeId,node],!0))return tools.apply(callback),!1;if(node){node.isAjaxing=!0;var icoObj=$$(node,consts.id.ICON,setting);icoObj.attr({style:"",class:consts.className.BUTTON+" "+consts.className.ICO_LOADING})}var tmpParam={},autoParam=tools.apply(setting.async.autoParam,[setting.treeId,node],setting.async.autoParam);for(i=0,l=autoParam.length;node&&i<l;i++){var pKey=autoParam[i].split("="),spKey=pKey;pKey.length>1&&(spKey=pKey[1],pKey=pKey[0]),tmpParam[spKey]=node[pKey]}var otherParam=tools.apply(setting.async.otherParam,[setting.treeId,node],setting.async.otherParam);if(tools.isArray(otherParam))for(i=0,l=otherParam.length;i<l;i+=2)tmpParam[otherParam[i]]=otherParam[i+1];else for(var p in otherParam)tmpParam[p]=otherParam[p];var _tmpV=data.getRoot(setting)._ver;return $.ajax({contentType:setting.async.contentType,cache:!1,type:setting.async.type,url:tools.apply(setting.async.url,[setting.treeId,node],setting.async.url),data:setting.async.contentType.indexOf("application/json")>-1?JSON.stringify(tmpParam):tmpParam,dataType:setting.async.dataType,headers:setting.async.headers,xhrFields:setting.async.xhrFields,success:function(msg){if(_tmpV==data.getRoot(setting)._ver){var newNodes=[];try{newNodes=msg&&0!=msg.length?"string"==typeof msg?eval("("+msg+")"):msg:[]}catch(e){newNodes=msg}node&&(node.isAjaxing=null,node.zAsync=!0),view.setNodeLineIcos(setting,node),newNodes&&""!==newNodes?(newNodes=tools.apply(setting.async.dataFilter,[setting.treeId,node,newNodes],newNodes),view.addNodes(setting,node,-1,newNodes?tools.clone(newNodes):[],!!isSilent)):view.addNodes(setting,node,-1,[],!!isSilent),setting.treeObj.trigger(consts.event.ASYNC_SUCCESS,[setting.treeId,node,msg]),tools.apply(callback)}},error:function(e,t,n){_tmpV==data.getRoot(setting)._ver&&(node&&(node.isAjaxing=null),view.setNodeLineIcos(setting,node),setting.treeObj.trigger(consts.event.ASYNC_ERROR,[setting.treeId,node,e,t,n]))}}),!0},cancelPreSelectedNode:function(e,t,n){var r,o,i=data.getRoot(e).curSelectedList;for(r=i.length-1;r>=0;r--)if(o=i[r],t===o||!t&&(!n||n!==o)){if($$(o,consts.id.A,e).removeClass(consts.node.CURSELECTED),t){data.removeSelectedNode(e,t);break}i.splice(r,1),e.treeObj.trigger(consts.event.UNSELECTED,[e.treeId,o])}},createNodeCallback:function(e){if(e.callback.onNodeCreated||e.view.addDiyDom)for(var t=data.getRoot(e);t.createdNodes.length>0;){var n=t.createdNodes.shift();tools.apply(e.view.addDiyDom,[e.treeId,n]),e.callback.onNodeCreated&&e.treeObj.trigger(consts.event.NODECREATED,[e.treeId,n])}},createNodes:function(e,t,n,r,o){if(n&&0!=n.length){var i=data.getRoot(e),a=!r||r.open||!!$$(data.nodeChildren(e,r)[0],e).get(0);i.createdNodes=[];var u,s,c=view.appendNodes(e,t,n,r,o,!0,a);if(r){var l=$$(r,consts.id.UL,e);l.get(0)&&(u=l)}else u=e.treeObj;u&&(o>=0&&(s=u.children()[o]),o>=0&&s?$(s).before(c.join("")):u.append(c.join(""))),view.createNodeCallback(e)}},destroy:function(e){e&&(data.initCache(e),data.initRoot(e),event.unbindTree(e),event.unbindEvent(e),e.treeObj.empty(),delete settings[e.treeId])},expandCollapseNode:function(e,t,n,r,o){var i,a,u=data.getRoot(e);if(!t)return void tools.apply(o,[]);var s=data.nodeChildren(e,t),c=data.nodeIsParent(e,t);if(u.expandTriggerFlag&&(a=o,i=function(){a&&a(),t.open?e.treeObj.trigger(consts.event.EXPAND,[e.treeId,t]):e.treeObj.trigger(consts.event.COLLAPSE,[e.treeId,t])},o=i,u.expandTriggerFlag=!1),!t.open&&c&&(!$$(t,consts.id.UL,e).get(0)||s&&s.length>0&&!$$(s[0],e).get(0))&&(view.appendParentULDom(e,t),view.createNodeCallback(e)),t.open==n)return void tools.apply(o,[]);var l=$$(t,consts.id.UL,e),f=$$(t,consts.id.SWITCH,e),d=$$(t,consts.id.ICON,e);c?(t.open=!t.open,t.iconOpen&&t.iconClose&&d.attr("style",view.makeNodeIcoStyle(e,t)),t.open?(view.replaceSwitchClass(t,f,consts.folder.OPEN),view.replaceIcoClass(t,d,consts.folder.OPEN),0==r||""==e.view.expandSpeed?(l.show(),tools.apply(o,[])):s&&s.length>0?l.slideDown(e.view.expandSpeed,o):(l.show(),tools.apply(o,[]))):(view.replaceSwitchClass(t,f,consts.folder.CLOSE),view.replaceIcoClass(t,d,consts.folder.CLOSE),0!=r&&""!=e.view.expandSpeed&&s&&s.length>0?l.slideUp(e.view.expandSpeed,o):(l.hide(),tools.apply(o,[])))):tools.apply(o,[])},expandCollapseParentNode:function(e,t,n,r,o){if(t){if(!t.parentTId)return void view.expandCollapseNode(e,t,n,r,o);view.expandCollapseNode(e,t,n,r),t.parentTId&&view.expandCollapseParentNode(e,t.getParentNode(),n,r,o)}},expandCollapseSonNode:function(e,t,n,r,o){var i=data.getRoot(e),a=t?data.nodeChildren(e,t):data.nodeChildren(e,i),u=!t&&r,s=data.getRoot(e).expandTriggerFlag;if(data.getRoot(e).expandTriggerFlag=!1,a)for(var c=0,l=a.length;c<l;c++)a[c]&&view.expandCollapseSonNode(e,a[c],n,u);data.getRoot(e).expandTriggerFlag=s,view.expandCollapseNode(e,t,n,r,o)},isSelectedNode:function(e,t){if(!t)return!1;var n,r=data.getRoot(e).curSelectedList;for(n=r.length-1;n>=0;n--)if(t===r[n])return!0;return!1},makeDOMNodeIcon:function(e,t,n){var r=data.nodeName(t,n),o=t.view.nameIsHTML?r:r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");e.push("<span id='",n.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='",view.makeNodeIcoClass(t,n),"' style='",view.makeNodeIcoStyle(t,n),"'></span><span id='",n.tId,consts.id.SPAN,"' class='",consts.className.NAME,"'>",o,"</span>")},makeDOMNodeLine:function(e,t,n){e.push("<span id='",n.tId,consts.id.SWITCH,"' title='' class='",view.makeNodeLineClass(t,n),"' treeNode",consts.id.SWITCH,"></span>")},makeDOMNodeMainAfter:function(e,t,n){e.push("</li>")},makeDOMNodeMainBefore:function(e,t,n){e.push("<li id='",n.tId,"' class='",consts.className.LEVEL,n.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(e,t,n){e.push("</a>")},makeDOMNodeNameBefore:function(e,t,n){var r=data.nodeTitle(t,n),o=view.makeNodeUrl(t,n),i=view.makeNodeFontCss(t,n),a=view.makeNodeClasses(t,n),u=[];for(var s in i)u.push(s,":",i[s],";");e.push("<a id='",n.tId,consts.id.A,"' class='",consts.className.LEVEL,n.level,a.add?" "+a.add.join(" "):"","' treeNode",consts.id.A,' onclick="',n.click||"",'" ',null!=o&&o.length>0?"href='"+o+"'":""," target='",view.makeNodeTarget(n),"' style='",u.join(""),"'"),tools.apply(t.view.showTitle,[t.treeId,n],t.view.showTitle)&&r&&e.push("title='",r.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'"),e.push(">")},makeNodeFontCss:function(e,t){var n=tools.apply(e.view.fontCss,[e.treeId,t],e.view.fontCss);return n&&"function"!=typeof n?n:{}},makeNodeClasses:function(e,t){var n=tools.apply(e.view.nodeClasses,[e.treeId,t],e.view.nodeClasses);return n&&"function"!=typeof n?n:{add:[],remove:[]}},makeNodeIcoClass:function(e,t){var n=["ico"];if(!t.isAjaxing){var r=data.nodeIsParent(e,t);n[0]=(t.iconSkin?t.iconSkin+"_":"")+n[0],r?n.push(t.open?consts.folder.OPEN:consts.folder.CLOSE):n.push(consts.folder.DOCU)}return consts.className.BUTTON+" "+n.join("_")},makeNodeIcoStyle:function(e,t){var n=[];if(!t.isAjaxing){var r=data.nodeIsParent(e,t),o=r&&t.iconOpen&&t.iconClose?t.open?t.iconOpen:t.iconClose:t[e.data.key.icon];o&&n.push("background:url(",o,") 0 0 no-repeat;"),0!=e.view.showIcon&&tools.apply(e.view.showIcon,[e.treeId,t],!0)||n.push("display:none;")}return n.join("")},makeNodeLineClass:function(e,t){var n=[];return e.view.showLine?0==t.level&&t.isFirstNode&&t.isLastNode?n.push(consts.line.ROOT):0==t.level&&t.isFirstNode?n.push(consts.line.ROOTS):t.isLastNode?n.push(consts.line.BOTTOM):n.push(consts.line.CENTER):n.push(consts.line.NOLINE),data.nodeIsParent(e,t)?n.push(t.open?consts.folder.OPEN:consts.folder.CLOSE):n.push(consts.folder.DOCU),view.makeNodeLineClassEx(t)+n.join("_")},makeNodeLineClassEx:function(e){return consts.className.BUTTON+" "+consts.className.LEVEL+e.level+" "+consts.className.SWITCH+" "},makeNodeTarget:function(e){return e.target||"_blank"},makeNodeUrl:function(e,t){var n=e.data.key.url;return t[n]?t[n]:null},makeUlHtml:function(e,t,n,r){n.push("<ul id='",t.tId,consts.id.UL,"' class='",consts.className.LEVEL,t.level," ",view.makeUlLineClass(e,t),"' style='display:",t.open?"block":"none","'>"),n.push(r),n.push("</ul>")},makeUlLineClass:function(e,t){return e.view.showLine&&!t.isLastNode?consts.line.LINE:""},removeChildNodes:function(e,t){if(t){var n=data.nodeChildren(e,t);if(n){for(var r=0,o=n.length;r<o;r++)data.removeNodeCache(e,n[r]);if(data.removeSelectedNode(e),delete t[e.data.key.children],e.data.keep.parent)$$(t,consts.id.UL,e).empty();else{data.nodeIsParent(e,t,!1),t.open=!1;var i=$$(t,consts.id.SWITCH,e),a=$$(t,consts.id.ICON,e);view.replaceSwitchClass(t,i,consts.folder.DOCU),view.replaceIcoClass(t,a,consts.folder.DOCU),$$(t,consts.id.UL,e).remove()}}}},scrollIntoView:function(e,t){if(t){if("undefined"==typeof Element||"undefined"==typeof HTMLElement){var n=e.treeObj.get(0).getBoundingClientRect(),r=t.getBoundingClientRect();return void((r.top<n.top||r.bottom>n.bottom||r.right>n.right||r.left<n.left)&&t.scrollIntoView())}Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(e){"use strict";function t(e,t){return{start:e,length:t,end:e+t}}function n(t,n){return!1===e||n.start<t.end&&t.start<n.end?Math.max(t.end-n.length,Math.min(n.start,t.start)):(t.start+t.end-n.length)/2}function r(e,t){return{x:e,y:t,translate:function(n,o){return r(e+n,t+o)}}}function o(e,t){for(;e;)t=t.translate(e.offsetLeft,e.offsetTop),e=e.offsetParent;return t}for(var i,a=o(this,r(0,0)),u=r(this.offsetWidth,this.offsetHeight),s=this.parentNode;s instanceof HTMLElement;)i=o(s,r(s.clientLeft,s.clientTop)),s.scrollLeft=n(t(a.x-i.x,u.x),t(s.scrollLeft,s.clientWidth)),s.scrollTop=n(t(a.y-i.y,u.y),t(s.scrollTop,s.clientHeight)),a=a.translate(-s.scrollLeft,-s.scrollTop),s=s.parentNode}),t.scrollIntoViewIfNeeded()}},setFirstNode:function(e,t){var n=data.nodeChildren(e,t);n.length>0&&(n[0].isFirstNode=!0)},setLastNode:function(e,t){var n=data.nodeChildren(e,t);n.length>0&&(n[n.length-1].isLastNode=!0)},removeNode:function(e,t){var n=data.getRoot(e),r=t.parentTId?t.getParentNode():n;if(t.isFirstNode=!1,t.isLastNode=!1,t.getPreNode=function(){return null},t.getNextNode=function(){return null},data.getNodeCache(e,t.tId)){$$(t,e).remove(),data.removeNodeCache(e,t),data.removeSelectedNode(e,t);for(var o=data.nodeChildren(e,r),i=0,a=o.length;i<a;i++)if(o[i].tId==t.tId){o.splice(i,1);break}view.setFirstNode(e,r),view.setLastNode(e,r);var u,s,c,l=o.length;if(e.data.keep.parent||0!=l){if(e.view.showLine&&l>0){var f=o[l-1];if(u=$$(f,consts.id.UL,e),s=$$(f,consts.id.SWITCH,e),c=$$(f,consts.id.ICON,e),r==n)if(1==o.length)view.replaceSwitchClass(f,s,consts.line.ROOT);else{var d=$$(o[0],consts.id.SWITCH,e);view.replaceSwitchClass(o[0],d,consts.line.ROOTS),view.replaceSwitchClass(f,s,consts.line.BOTTOM)}else view.replaceSwitchClass(f,s,consts.line.BOTTOM);u.removeClass(consts.line.LINE)}}else data.nodeIsParent(e,r,!1),r.open=!1,delete r[e.data.key.children],u=$$(r,consts.id.UL,e),s=$$(r,consts.id.SWITCH,e),c=$$(r,consts.id.ICON,e),view.replaceSwitchClass(r,s,consts.folder.DOCU),view.replaceIcoClass(r,c,consts.folder.DOCU),u.css("display","none")}},replaceIcoClass:function(e,t,n){if(t&&!e.isAjaxing){var r=t.attr("class");if(void 0!=r){var o=r.split("_");switch(n){case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:o[o.length-1]=n}t.attr("class",o.join("_"))}}},replaceSwitchClass:function(e,t,n){if(t){var r=t.attr("class");if(void 0!=r){var o=r.split("_");switch(n){case consts.line.ROOT:case consts.line.ROOTS:case consts.line.CENTER:case consts.line.BOTTOM:case consts.line.NOLINE:o[0]=view.makeNodeLineClassEx(e)+n;break;case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:o[1]=n}t.attr("class",o.join("_")),n!==consts.folder.DOCU?t.removeAttr("disabled"):t.attr("disabled","disabled")}}},selectNode:function(e,t,n){n||view.cancelPreSelectedNode(e,null,t),$$(t,consts.id.A,e).addClass(consts.node.CURSELECTED),data.addSelectedNode(e,t),e.treeObj.trigger(consts.event.SELECTED,[e.treeId,t])},setNodeFontCss:function(e,t){var n=$$(t,consts.id.A,e),r=view.makeNodeFontCss(e,t);r&&n.css(r)},setNodeClasses:function(e,t){var n=$$(t,consts.id.A,e),r=view.makeNodeClasses(e,t);"add"in r&&r.add.length&&n.addClass(r.add.join(" ")),"remove"in r&&r.remove.length&&n.removeClass(r.remove.join(" "))},setNodeLineIcos:function(e,t){if(t){var n=$$(t,consts.id.SWITCH,e),r=$$(t,consts.id.UL,e),o=$$(t,consts.id.ICON,e),i=view.makeUlLineClass(e,t);0==i.length?r.removeClass(consts.line.LINE):r.addClass(i),n.attr("class",view.makeNodeLineClass(e,t)),data.nodeIsParent(e,t)?n.removeAttr("disabled"):n.attr("disabled","disabled"),o.removeAttr("style"),o.attr("style",view.makeNodeIcoStyle(e,t)),o.attr("class",view.makeNodeIcoClass(e,t))}},setNodeName:function(e,t){var n=data.nodeTitle(e,t),r=$$(t,consts.id.SPAN,e);if(r.empty(),e.view.nameIsHTML?r.html(data.nodeName(e,t)):r.text(data.nodeName(e,t)),tools.apply(e.view.showTitle,[e.treeId,t],e.view.showTitle)){$$(t,consts.id.A,e).attr("title",n||"")}},setNodeTarget:function(e,t){$$(t,consts.id.A,e).attr("target",view.makeNodeTarget(t))},setNodeUrl:function(e,t){var n=$$(t,consts.id.A,e),r=view.makeNodeUrl(e,t);null==r||0==r.length?n.removeAttr("href"):n.attr("href",r)},switchNode:function(e,t){if(t.open||!tools.canAsync(e,t))view.expandCollapseNode(e,t,!t.open);else if(e.async.enable){if(!view.asyncNode(e,t))return void view.expandCollapseNode(e,t,!t.open)}else t&&view.expandCollapseNode(e,t,!t.open)}};$.fn.zTree={consts:_consts,_z:{tools:tools,view:view,event:event,data:data},getZTreeObj:function(e){var t=data.getZTreeTools(e);return t||null},destroy:function(e){if(e&&e.length>0)view.destroy(data.getSetting(e));else for(var t in settings)view.destroy(settings[t])},init:function(e,t,n){var r=tools.clone(_setting);$.extend(!0,r,t),r.treeId=e.attr("id"),r.treeObj=e,r.treeObj.empty(),settings[r.treeId]=r,void 0===document.body.style.maxHeight&&(r.view.expandSpeed=""),data.initRoot(r);var o=data.getRoot(r);n=n?tools.clone(tools.isArray(n)?n:[n]):[],r.data.simpleData.enable?data.nodeChildren(r,o,data.transformTozTreeFormat(r,n)):data.nodeChildren(r,o,n),data.initCache(r),event.unbindTree(r),event.bindTree(r),event.unbindEvent(r),event.bindEvent(r);var i={setting:r,addNodes:function(e,t,n,o){function i(){view.addNodes(r,e,t,s,1==o)}e||(e=null);var a=data.nodeIsParent(r,e);if(e&&!a&&r.data.keep.leaf)return null;var u=parseInt(t,10);if(isNaN(u)?(o=!!n,n=t,t=-1):t=u,!n)return null;var s=tools.clone(tools.isArray(n)?n:[n]);return tools.canAsync(r,e)?view.asyncNode(r,e,o,i):i(),s},cancelSelectedNode:function(e){view.cancelPreSelectedNode(r,e)},destroy:function(){view.destroy(r)},expandAll:function(e){return e=!!e,view.expandCollapseSonNode(r,null,e,!0),e},expandNode:function(e,t,n,o,i){function a(){var t=$$(e,r).get(0);t&&!1!==o&&view.scrollIntoView(r,t)}return e&&data.nodeIsParent(r,e)?(!0!==t&&!1!==t&&(t=!e.open),(i=!!i)&&t&&0==tools.apply(r.callback.beforeExpand,[r.treeId,e],!0)?null:i&&!t&&0==tools.apply(r.callback.beforeCollapse,[r.treeId,e],!0)?null:(t&&e.parentTId&&view.expandCollapseParentNode(r,e.getParentNode(),t,!1),t!==e.open||n?(data.getRoot(r).expandTriggerFlag=i,!tools.canAsync(r,e)&&n?view.expandCollapseSonNode(r,e,t,!0,a):(e.open=!t,view.switchNode(this.setting,e),a()),t):null)):null},getNodes:function(){return data.getNodes(r)},getNodeByParam:function(e,t,n){return e?data.getNodeByParam(r,n?data.nodeChildren(r,n):data.getNodes(r),e,t):null},getNodeByTId:function(e){return data.getNodeCache(r,e)},getNodesByParam:function(e,t,n){return e?data.getNodesByParam(r,n?data.nodeChildren(r,n):data.getNodes(r),e,t):null},getNodesByParamFuzzy:function(e,t,n){return e?data.getNodesByParamFuzzy(r,n?data.nodeChildren(r,n):data.getNodes(r),e,t):null},getNodesByFilter:function(e,t,n,o){return t=!!t,e&&"function"==typeof e?data.getNodesByFilter(r,n?data.nodeChildren(r,n):data.getNodes(r),e,t,o):t?null:[]},getNodeIndex:function(e){if(!e)return null;for(var t=e.parentTId?e.getParentNode():data.getRoot(r),n=data.nodeChildren(r,t),o=0,i=n.length;o<i;o++)if(n[o]==e)return o;return-1},getSelectedNodes:function(){for(var e=[],t=data.getRoot(r).curSelectedList,n=0,o=t.length;n<o;n++)e.push(t[n]);return e},isSelectedNode:function(e){return data.isSelectedNode(r,e)},reAsyncChildNodesPromise:function(e,t,n){return new Promise(function(r,o){try{i.reAsyncChildNodes(e,t,n,function(){r(e)})}catch(e){o(e)}})},reAsyncChildNodes:function(e,t,n,o){if(this.setting.async.enable){var i=!e;if(i&&(e=data.getRoot(r)),"refresh"==t){for(var a=data.nodeChildren(r,e),u=0,s=a?a.length:0;u<s;u++)data.removeNodeCache(r,a[u]);if(data.removeSelectedNode(r),data.nodeChildren(r,e,[]),i)this.setting.treeObj.empty();else{$$(e,consts.id.UL,r).empty()}}view.asyncNode(this.setting,i?null:e,!!n,o)}},refresh:function(){this.setting.treeObj.empty();var e=data.getRoot(r),t=data.nodeChildren(r,e);data.initRoot(r),data.nodeChildren(r,e,t),data.initCache(r),view.createNodes(r,0,data.nodeChildren(r,e),null,-1)},removeChildNodes:function(e){if(!e)return null;var t=data.nodeChildren(r,e);return view.removeChildNodes(r,e),t||null},removeNode:function(e,t){e&&((t=!!t)&&0==tools.apply(r.callback.beforeRemove,[r.treeId,e],!0)||(view.removeNode(r,e),t&&this.setting.treeObj.trigger(consts.event.REMOVE,[r.treeId,e])))},selectNode:function(e,t,n){function o(){if(!n){var t=$$(e,r).get(0);view.scrollIntoView(r,t)}}if(e&&tools.uCanDo(r)){if(t=r.view.selectedMulti&&t,e.parentTId)view.expandCollapseParentNode(r,e.getParentNode(),!0,!1,o);else if(!n)try{$$(e,r).focus().blur()}catch(e){}view.selectNode(r,e,t)}},transformTozTreeNodes:function(e){return data.transformTozTreeFormat(r,e)},transformToArray:function(e){return data.transformToArrayFormat(r,e)},updateNode:function(e,t){if(e){$$(e,r).get(0)&&tools.uCanDo(r)&&(view.setNodeName(r,e),view.setNodeTarget(r,e),view.setNodeUrl(r,e),view.setNodeLineIcos(r,e),view.setNodeFontCss(r,e),view.setNodeClasses(r,e))}}};o.treeTools=i,data.setZTreeTools(r,i);var a=data.nodeChildren(r,o);return a&&a.length>0?view.createNodes(r,0,a,null,-1):r.async.enable&&r.async.url&&""!==r.async.url&&view.asyncNode(r),i}};var zt=$.fn.zTree,$$=tools.$,consts=zt.consts}(jQuery),function(e){var t={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},n={check:{enable:!1,autoCheckTrigger:!1,chkStyle:t.checkbox.STYLE,nocheckInherit:!1,chkDisabledInherit:!1,radioType:t.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},r=function(e){x.getRoot(e).radioCheckedList=[]},o=function(e){},i=function(e){var t=e.treeObj,n=y.event;t.bind(n.CHECK,function(t,n,r,o){t.srcEvent=n,b.apply(e.callback.onCheck,[t,r,o])})},a=function(e){var t=e.treeObj,n=y.event;t.unbind(n.CHECK)},u=function(e){var t=e.target,n=x.getSetting(e.data.treeId),r="",o=null,i="",a=null;if(b.eqs(e.type,"mouseover")?n.check.enable&&b.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+y.id.CHECK)&&(r=b.getNodeMainDom(t).id,i="mouseoverCheck"):b.eqs(e.type,"mouseout")?n.check.enable&&b.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+y.id.CHECK)&&(r=b.getNodeMainDom(t).id,i="mouseoutCheck"):b.eqs(e.type,"click")&&n.check.enable&&b.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+y.id.CHECK)&&(r=b.getNodeMainDom(t).id,i="checkNode"),r.length>0)switch(o=x.getNodeCache(n,r),i){case"checkNode":a=p.onCheckNode;break;case"mouseoverCheck":a=p.onMouseoverCheck;break;case"mouseoutCheck":a=p.onMouseoutCheck}return{stop:"checkNode"===i,node:o,nodeEventType:i,nodeEventCallback:a,treeEventType:"",treeEventCallback:null}},s=function(e,t,n,r,o,i,a){if(n){var u=x.nodeChecked(e,n);if(n.checkedOld=u,"string"==typeof n.nocheck&&(n.nocheck=b.eqs(n.nocheck,"true")),n.nocheck=!!n.nocheck||e.check.nocheckInherit&&r&&!!r.nocheck,"string"==typeof n.chkDisabled&&(n.chkDisabled=b.eqs(n.chkDisabled,"true")),n.chkDisabled=!!n.chkDisabled||e.check.chkDisabledInherit&&r&&!!r.chkDisabled,"string"==typeof n.halfCheck&&(n.halfCheck=b.eqs(n.halfCheck,"true")),n.halfCheck=!!n.halfCheck,n.check_Child_State=-1,n.check_Focus=!1,n.getCheckStatus=function(){return x.getCheckStatus(e,n)},e.check.chkStyle==y.radio.STYLE&&e.check.radioType==y.radio.TYPE_ALL&&u){x.getRoot(e).radioCheckedList.push(n)}}},c=function(e,t,n){e.check.enable&&(x.makeChkFlag(e,t),n.push("<span ID='",t.tId,y.id.CHECK,"' class='",w.makeChkClass(e,t),"' treeNode",y.id.CHECK,!0===t.nocheck?" style='display:none;'":"","></span>"))},l=function(e,t){t.checkNode=function(t,n,r,o){var i=x.nodeChecked(e,t);if(!0!==t.chkDisabled&&(!0!==n&&!1!==n&&(n=!i),o=!!o,(i!==n||r)&&(!o||0!=b.apply(this.setting.callback.beforeCheck,[this.setting.treeId,t],!0))&&b.uCanDo(this.setting)&&this.setting.check.enable&&!0!==t.nocheck)){x.nodeChecked(e,t,n);var a=C(t,y.id.CHECK,this.setting);(r||this.setting.check.chkStyle===y.radio.STYLE)&&w.checkNodeRelation(this.setting,t),w.setChkClass(this.setting,a,t),w.repairParentChkClassWithSelf(this.setting,t),o&&this.setting.treeObj.trigger(y.event.CHECK,[null,this.setting.treeId,t])}},t.checkAllNodes=function(e){w.repairAllChk(this.setting,!!e)},t.getCheckedNodes=function(t){t=!1!==t;var n=x.nodeChildren(e,x.getRoot(this.setting));return x.getTreeCheckedNodes(this.setting,n,t)},t.getChangeCheckedNodes=function(){var t=x.nodeChildren(e,x.getRoot(this.setting));return x.getTreeChangeCheckedNodes(this.setting,t)},t.setChkDisabled=function(e,t,n,r){t=!!t,n=!!n,r=!!r,w.repairSonChkDisabled(this.setting,e,t,r),w.repairParentChkDisabled(this.setting,e.getParentNode(),t,n)};var n=t.updateNode;t.updateNode=function(e,r){if(n&&n.apply(t,arguments),e&&this.setting.check.enable){if(C(e,this.setting).get(0)&&b.uCanDo(this.setting)){var o=C(e,y.id.CHECK,this.setting);1!=r&&this.setting.check.chkStyle!==y.radio.STYLE||w.checkNodeRelation(this.setting,e),w.setChkClass(this.setting,o,e),w.repairParentChkClassWithSelf(this.setting,e)}}}},f={getRadioCheckedList:function(e){for(var t=x.getRoot(e).radioCheckedList,n=0,r=t.length;n<r;n++)x.getNodeCache(e,t[n].tId)||(t.splice(n,1),n--,r--);return t},getCheckStatus:function(e,t){if(!e.check.enable||t.nocheck||t.chkDisabled)return null;var n=x.nodeChecked(e,t);return{checked:n,half:t.halfCheck?t.halfCheck:e.check.chkStyle==y.radio.STYLE?2===t.check_Child_State:n?t.check_Child_State>-1&&t.check_Child_State<2:t.check_Child_State>0}},getTreeCheckedNodes:function(e,t,n,r){if(!t)return[];var o=n&&e.check.chkStyle==y.radio.STYLE&&e.check.radioType==y.radio.TYPE_ALL;r=r||[];for(var i=0,a=t.length;i<a;i++){var u=t[i],s=x.nodeChildren(e,u),c=x.nodeChecked(e,u);if(!0!==u.nocheck&&!0!==u.chkDisabled&&c==n&&(r.push(u),o))break;if(x.getTreeCheckedNodes(e,s,n,r),o&&r.length>0)break}return r},getTreeChangeCheckedNodes:function(e,t,n){if(!t)return[];n=n||[];for(var r=0,o=t.length;r<o;r++){var i=t[r],a=x.nodeChildren(e,i),u=x.nodeChecked(e,i);!0!==i.nocheck&&!0!==i.chkDisabled&&u!=i.checkedOld&&n.push(i),x.getTreeChangeCheckedNodes(e,a,n)}return n},makeChkFlag:function(e,t){if(t){var n=-1,r=x.nodeChildren(e,t);if(r)for(var o=0,i=r.length;o<i;o++){var a=r[o],u=x.nodeChecked(e,a),s=-1;if(e.check.chkStyle==y.radio.STYLE){if(2==(s=!0===a.nocheck||!0===a.chkDisabled?a.check_Child_State:!0===a.halfCheck?2:u?2:a.check_Child_State>0?2:0)){n=2;break}0==s&&(n=0)}else if(e.check.chkStyle==y.checkbox.STYLE){if(1===(s=!0===a.nocheck||!0===a.chkDisabled?a.check_Child_State:!0===a.halfCheck?1:u?-1===a.check_Child_State||2===a.check_Child_State?2:1:a.check_Child_State>0?1:0)){n=1;break}if(2===s&&n>-1&&o>0&&s!==n){n=1;break}if(2===n&&s>-1&&s<2){n=1;break}s>-1&&(n=s)}}t.check_Child_State=n}}},d={},p={onCheckNode:function(e,t){if(!0===t.chkDisabled)return!1;var n=x.getSetting(e.data.treeId);if(0==b.apply(n.callback.beforeCheck,[n.treeId,t],!0))return!0;var r=x.nodeChecked(n,t);x.nodeChecked(n,t,!r),w.checkNodeRelation(n,t);var o=C(t,y.id.CHECK,n);return w.setChkClass(n,o,t),w.repairParentChkClassWithSelf(n,t),n.treeObj.trigger(y.event.CHECK,[e,n.treeId,t]),!0},onMouseoverCheck:function(e,t){if(!0===t.chkDisabled)return!1;var n=x.getSetting(e.data.treeId),r=C(t,y.id.CHECK,n);return t.check_Focus=!0,w.setChkClass(n,r,t),!0},onMouseoutCheck:function(e,t){if(!0===t.chkDisabled)return!1;var n=x.getSetting(e.data.treeId),r=C(t,y.id.CHECK,n);return t.check_Focus=!1,w.setChkClass(n,r,t),!0}},m={},h={checkNodeRelation:function(e,t){var n,r,o,i=y.radio,a=x.nodeChecked(e,t);if(e.check.chkStyle==i.STYLE){var u=x.getRadioCheckedList(e);if(a)if(e.check.radioType==i.TYPE_ALL){for(r=u.length-1;r>=0;r--){n=u[r];var s=x.nodeChecked(e,n);s&&n!=t&&(x.nodeChecked(e,n,!1),u.splice(r,1),w.setChkClass(e,C(n,y.id.CHECK,e),n),n.parentTId!=t.parentTId&&w.repairParentChkClassWithSelf(e,n))}u.push(t)}else{var c=t.parentTId?t.getParentNode():x.getRoot(e),l=x.nodeChildren(e,c);for(r=0,o=l.length;r<o;r++){n=l[r];var s=x.nodeChecked(e,n);s&&n!=t&&(x.nodeChecked(e,n,!1),w.setChkClass(e,C(n,y.id.CHECK,e),n))}}else if(e.check.radioType==i.TYPE_ALL)for(r=0,o=u.length;r<o;r++)if(t==u[r]){u.splice(r,1);break}}else{var l=x.nodeChildren(e,t);a&&(!l||0==l.length||e.check.chkboxType.Y.indexOf("s")>-1)&&w.setSonNodeCheckBox(e,t,!0),a||l&&0!=l.length&&!(e.check.chkboxType.N.indexOf("s")>-1)||w.setSonNodeCheckBox(e,t,!1),a&&e.check.chkboxType.Y.indexOf("p")>-1&&w.setParentNodeCheckBox(e,t,!0),!a&&e.check.chkboxType.N.indexOf("p")>-1&&w.setParentNodeCheckBox(e,t,!1)}},makeChkClass:function(e,t){var n=y.checkbox,r=y.radio,o="",i=x.nodeChecked(e,t);o=!0===t.chkDisabled?n.DISABLED:t.halfCheck?n.PART:e.check.chkStyle==r.STYLE?t.check_Child_State<1?n.FULL:n.PART:i?2===t.check_Child_State||-1===t.check_Child_State?n.FULL:n.PART:t.check_Child_State<1?n.FULL:n.PART;var a=e.check.chkStyle+"_"+(i?n.TRUE:n.FALSE)+"_"+o;return a=t.check_Focus&&!0!==t.chkDisabled?a+"_"+n.FOCUS:a,y.className.BUTTON+" "+n.DEFAULT+" "+a},repairAllChk:function(e,t){if(e.check.enable&&e.check.chkStyle===y.checkbox.STYLE)for(var n=x.getRoot(e),r=x.nodeChildren(e,n),o=0,i=r.length;o<i;o++){var a=r[o];!0!==a.nocheck&&!0!==a.chkDisabled&&x.nodeChecked(e,a,t),w.setSonNodeCheckBox(e,a,t)}},repairChkClass:function(e,t){if(t&&(x.makeChkFlag(e,t),!0!==t.nocheck)){var n=C(t,y.id.CHECK,e);w.setChkClass(e,n,t)}},repairParentChkClass:function(e,t){if(t&&t.parentTId){var n=t.getParentNode();w.repairChkClass(e,n),w.repairParentChkClass(e,n)}},repairParentChkClassWithSelf:function(e,t){if(t){var n=x.nodeChildren(e,t);n&&n.length>0?w.repairParentChkClass(e,n[0]):w.repairParentChkClass(e,t)}},repairSonChkDisabled:function(e,t,n,r){if(t){t.chkDisabled!=n&&(t.chkDisabled=n),w.repairChkClass(e,t);var o=x.nodeChildren(e,t);if(o&&r)for(var i=0,a=o.length;i<a;i++){var u=o[i];w.repairSonChkDisabled(e,u,n,r)}}},repairParentChkDisabled:function(e,t,n,r){t&&(t.chkDisabled!=n&&r&&(t.chkDisabled=n),w.repairChkClass(e,t),w.repairParentChkDisabled(e,t.getParentNode(),n,r))},setChkClass:function(e,t,n){t&&(!0===n.nocheck?t.hide():t.show(),t.attr("class",w.makeChkClass(e,n)))},setParentNodeCheckBox:function(e,t,n,r){var o=C(t,y.id.CHECK,e);if(r||(r=t),x.makeChkFlag(e,t),!0!==t.nocheck&&!0!==t.chkDisabled&&(x.nodeChecked(e,t,n),w.setChkClass(e,o,t),e.check.autoCheckTrigger&&t!=r&&e.treeObj.trigger(y.event.CHECK,[null,e.treeId,t])),t.parentTId){var i=!0;if(!n)for(var a=x.nodeChildren(e,t.getParentNode()),u=0,s=a.length;u<s;u++){var c=a[u],l=x.nodeChecked(e,c);if(!0!==c.nocheck&&!0!==c.chkDisabled&&l||(!0===c.nocheck||!0===c.chkDisabled)&&c.check_Child_State>0){i=!1;break}}i&&w.setParentNodeCheckBox(e,t.getParentNode(),n,r)}},setSonNodeCheckBox:function(e,t,n,r){if(t){var o=C(t,y.id.CHECK,e);r||(r=t);var i=!1,a=x.nodeChildren(e,t);if(a)for(var u=0,s=a.length;u<s;u++){var c=a[u];w.setSonNodeCheckBox(e,c,n,r),!0===c.chkDisabled&&(i=!0)}t!=x.getRoot(e)&&!0!==t.chkDisabled&&(i&&!0!==t.nocheck&&x.makeChkFlag(e,t),!0!==t.nocheck&&!0!==t.chkDisabled?(x.nodeChecked(e,t,n),i||(t.check_Child_State=a&&a.length>0?n?2:0:-1)):t.check_Child_State=-1,w.setChkClass(e,o,t),e.check.autoCheckTrigger&&t!=r&&!0!==t.nocheck&&!0!==t.chkDisabled&&e.treeObj.trigger(y.event.CHECK,[null,e.treeId,t]))}}},g={tools:m,view:h,event:d,data:f};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,g);var v=e.fn.zTree,b=v._z.tools,y=v.consts,w=v._z.view,x=v._z.data,C=(v._z.event,b.$);x.nodeChecked=function(e,t,n){if(!t)return!1;var r=e.data.key.checked;return void 0!==n?("string"==typeof n&&(n=b.eqs(n,"true")),n=!!n,t[r]=n):"string"==typeof t[r]?t[r]=b.eqs(t[r],"true"):t[r]=!!t[r],t[r]},x.exSetting(n),x.addInitBind(i),x.addInitUnBind(a),x.addInitCache(o),x.addInitNode(s),x.addInitProxy(u,!0),x.addInitRoot(r),x.addBeforeA(c),x.addZTreeTools(l);var _=w.createNodes;w.createNodes=function(e,t,n,r,o){_&&_.apply(w,arguments),n&&w.repairParentChkClassWithSelf(e,r)};var S=w.removeNode;w.removeNode=function(e,t){var n=t.getParentNode();S&&S.apply(w,arguments),t&&n&&(w.repairChkClass(e,n),w.repairParentChkClass(e,n))};var k=w.appendNodes;w.appendNodes=function(e,t,n,r,o,i,a){var u="";return k&&(u=k.apply(w,arguments)),r&&x.makeChkFlag(e,r),u}}(jQuery),function(e){var t={event:{DRAG:"ztree_drag",DROP:"ztree_drop",RENAME:"ztree_rename",DRAGMOVE:"ztree_dragmove"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},n={edit:{enable:!1,editNameSelectAll:!1,showRemoveBtn:!0,showRenameBtn:!0,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:!1,isCopy:!0,isMove:!0,prev:!0,next:!0,inner:!0,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDragMove:null,onDrop:null,onRename:null}},r=function(e){var t=w.getRoot(e),n=w.getRoots();t.curEditNode=null,t.curEditInput=null,t.curHoverNode=null,t.dragFlag=0,t.dragNodeShowBefore=[],t.dragMaskList=new Array,n.showHoverDom=!0},o=function(e){},i=function(e){var t=e.treeObj,n=b.event;t.bind(n.RENAME,function(t,n,r,o){v.apply(e.callback.onRename,[t,n,r,o])}),t.bind(n.DRAG,function(t,n,r,o){v.apply(e.callback.onDrag,[n,r,o])}),t.bind(n.DRAGMOVE,function(t,n,r,o){v.apply(e.callback.onDragMove,[n,r,o])}),t.bind(n.DROP,function(t,n,r,o,i,a,u){v.apply(e.callback.onDrop,[n,r,o,i,a,u])})},a=function(e){var t=e.treeObj,n=b.event;t.unbind(n.RENAME),t.unbind(n.DRAG),t.unbind(n.DRAGMOVE),t.unbind(n.DROP)},u=function(e){var t=e.target,n=w.getSetting(e.data.treeId),r=e.relatedTarget,o="",i=null,a="",u=null,s=null;if(v.eqs(e.type,"mouseover")?(s=v.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+b.id.A}]))&&(o=v.getNodeMainDom(s).id,a="hoverOverNode"):v.eqs(e.type,"mouseout")?(s=v.getMDom(n,r,[{tagName:"a",attrName:"treeNode"+b.id.A}]))||(o="remove",a="hoverOutNode"):v.eqs(e.type,"mousedown")&&(s=v.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+b.id.A}]))&&(o=v.getNodeMainDom(s).id,a="mousedownNode"),o.length>0)switch(i=w.getNodeCache(n,o),a){case"mousedownNode":u=d.onMousedownNode;break;case"hoverOverNode":u=d.onHoverOverNode;break;case"hoverOutNode":u=d.onHoverOutNode}return{stop:!1,node:i,nodeEventType:a,nodeEventCallback:u,treeEventType:"",treeEventCallback:null}},s=function(e,t,n,r,o,i,a){n&&(n.isHover=!1,n.editNameFlag=!1)},c=function(e,t){t.cancelEditName=function(e){w.getRoot(this.setting).curEditNode&&y.cancelCurEditNode(this.setting,e||null,!0)},t.copyNode=function(t,n,r,o){function i(){y.addNodes(u.setting,t,-1,[s],o)}if(!n)return null;var a=w.nodeIsParent(e,t);if(t&&!a&&this.setting.data.keep.leaf&&r===b.move.TYPE_INNER)return null;var u=this,s=v.clone(n);return t||(t=null,r=b.move.TYPE_INNER),r==b.move.TYPE_INNER?v.canAsync(this.setting,t)?y.asyncNode(this.setting,t,o,i):i():(y.addNodes(this.setting,t.parentNode,-1,[s],o),y.moveNode(this.setting,t,s,r,!1,o)),s},t.editName=function(e){e&&e.tId&&e===w.getNodeCache(this.setting,e.tId)&&(e.parentTId&&y.expandCollapseParentNode(this.setting,e.getParentNode(),!0),y.editNode(this.setting,e))},t.moveNode=function(t,n,r,o){function i(){y.moveNode(u.setting,t,n,r,!1,o)}if(!n)return n;var a=w.nodeIsParent(e,t);if(t&&!a&&this.setting.data.keep.leaf&&r===b.move.TYPE_INNER)return null;if(t&&(n.parentTId==t.tId&&r==b.move.TYPE_INNER||x(n,this.setting).find("#"+t.tId).length>0))return null;t||(t=null);var u=this;return v.canAsync(this.setting,t)&&r===b.move.TYPE_INNER?y.asyncNode(this.setting,t,o,i):i(),n},t.setEditable=function(e){return this.setting.edit.enable=e,this.refresh()}},l={setSonNodeLevel:function(e,t,n){if(n){var r=w.nodeChildren(e,n);if(n.level=t?t.level+1:0,r)for(var o=0,i=r.length;o<i;o++)r[o]&&w.setSonNodeLevel(e,n,r[o])}}},f={},d={onHoverOverNode:function(e,t){var n=w.getSetting(e.data.treeId),r=w.getRoot(n);r.curHoverNode!=t&&d.onHoverOutNode(e),r.curHoverNode=t,y.addHoverDom(n,t)},onHoverOutNode:function(e,t){var n=w.getSetting(e.data.treeId),r=w.getRoot(n);r.curHoverNode&&!w.isSelectedNode(n,r.curHoverNode)&&(y.removeTreeDom(n,r.curHoverNode),r.curHoverNode=null)},onMousedownNode:function(n,r){function o(n){function r(){C=null,M="",I=b.move.TYPE_INNER,g.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null)}if(0==l.dragFlag&&Math.abs(R-n.clientX)<c.edit.drag.minMoveSize&&Math.abs(P-n.clientY)<c.edit.drag.minMoveSize)return!0;var o,a,u,s,d;if(T.css("cursor","pointer"),0==l.dragFlag){if(0==v.apply(c.callback.beforeDrag,[c.treeId,m],!0))return i(n),!0;for(o=0,a=m.length;o<a;o++)0==o&&(l.dragNodeShowBefore=[]),u=m[o],w.nodeIsParent(c,u)&&u.open?(y.expandCollapseNode(c,u,!u.open),l.dragNodeShowBefore[u.tId]=!0):l.dragNodeShowBefore[u.tId]=!1;l.dragFlag=1,f.showHoverDom=!1,v.showIfameMask(c,!0);var p=!0,N=-1;if(m.length>1){var j=m[0].parentTId?w.nodeChildren(c,m[0].getParentNode()):w.getNodes(c);for(d=[],o=0,a=j.length;o<a;o++)if(void 0!==l.dragNodeShowBefore[j[o].tId]&&(p&&N>-1&&N+1!==o&&(p=!1),d.push(j[o]),N=o),m.length===d.length){m=d;break}}for(p&&(_=m[0].getPreNode(),S=m[m.length-1].getNextNode()),h=x("<ul class='zTreeDragUL'></ul>",c),o=0,a=m.length;o<a;o++)u=m[o],u.editNameFlag=!1,y.selectNode(c,u,o>0),y.removeTreeDom(c,u),o>c.edit.drag.maxShowNodeNum-1||(s=x("<li id='"+u.tId+"_tmp'></li>",c),s.append(x(u,b.id.A,c).clone()),s.css("padding","0"),s.children("#"+u.tId+b.id.A).removeClass(b.node.CURSELECTED),h.append(s),o==c.edit.drag.maxShowNodeNum-1&&(s=x("<li id='"+u.tId+"_moretmp'><a>  ...  </a></li>",c),h.append(s)));h.attr("id",m[0].tId+b.id.UL+"_tmp"),h.addClass(c.treeObj.attr("class")),h.appendTo(T),g=x("<span class='tmpzTreeMove_arrow'></span>",c),g.attr("id","zTreeMove_arrow_tmp"),g.appendTo(T),c.treeObj.trigger(b.event.DRAG,[n,c.treeId,m])}if(1==l.dragFlag){if(C&&g.attr("id")==n.target.id&&M&&n.clientX+k.scrollLeft()+2>e("#"+M+b.id.A,C).offset().left){var B=e("#"+M+b.id.A,C);n.target=B.length>0?B.get(0):n.target}else C&&(C.removeClass(b.node.TMPTARGET_TREE),M&&e("#"+M+b.id.A,C).removeClass(b.node.TMPTARGET_NODE+"_"+b.move.TYPE_PREV).removeClass(b.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(b.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER));C=null,M=null,E=!1,O=c;var z=w.getSettings();for(var F in z)z[F].treeId&&z[F].edit.enable&&z[F].treeId!=c.treeId&&(n.target.id==z[F].treeId||e(n.target).parents("#"+z[F].treeId).length>0)&&(E=!0,O=z[F]);var H=k.scrollTop(),U=k.scrollLeft(),V=O.treeObj.offset(),q=O.treeObj.get(0).scrollHeight,W=O.treeObj.get(0).scrollWidth,$=n.clientY+H-V.top,G=O.treeObj.height()+V.top-n.clientY-H,X=n.clientX+U-V.left,K=O.treeObj.width()+V.left-n.clientX-U,Y=$<c.edit.drag.borderMax&&$>c.edit.drag.borderMin,J=G<c.edit.drag.borderMax&&G>c.edit.drag.borderMin,Q=X<c.edit.drag.borderMax&&X>c.edit.drag.borderMin,Z=K<c.edit.drag.borderMax&&K>c.edit.drag.borderMin,ee=$>c.edit.drag.borderMin&&G>c.edit.drag.borderMin&&X>c.edit.drag.borderMin&&K>c.edit.drag.borderMin,te=Y&&O.treeObj.scrollTop()<=0,ne=J&&O.treeObj.scrollTop()+O.treeObj.height()+10>=q,re=Q&&O.treeObj.scrollLeft()<=0,oe=Z&&O.treeObj.scrollLeft()+O.treeObj.width()+10>=W;if(n.target&&v.isChildOrSelf(n.target,O.treeId)){for(var ie=n.target;ie&&ie.tagName&&!v.eqs(ie.tagName,"li")&&ie.id!=O.treeId;)ie=ie.parentNode;var ae=!0;for(o=0,a=m.length;o<a;o++){if(u=m[o],ie.id===u.tId){ae=!1;break}if(x(u,c).find("#"+ie.id).length>0){ae=!1;break}}ae&&n.target&&v.isChildOrSelf(n.target,ie.id+b.id.A)&&(C=e(ie),M=ie.id)}u=m[0],ee&&v.isChildOrSelf(n.target,O.treeId)&&(!C&&(n.target.id==O.treeId||te||ne||re||oe)&&(E||!E&&u.parentTId)&&(C=O.treeObj),Y?O.treeObj.scrollTop(O.treeObj.scrollTop()-10):J&&O.treeObj.scrollTop(O.treeObj.scrollTop()+10),Q?O.treeObj.scrollLeft(O.treeObj.scrollLeft()-10):Z&&O.treeObj.scrollLeft(O.treeObj.scrollLeft()+10),C&&C!=O.treeObj&&C.offset().left<O.treeObj.offset().left&&O.treeObj.scrollLeft(O.treeObj.scrollLeft()+C.offset().left-O.treeObj.offset().left)),h.css({top:n.clientY+H+3+"px",left:n.clientX+U+3+"px"});var ue=0,se=0;if(C&&C.attr("id")!=O.treeId){var ce=null==M?null:w.getNodeCache(O,M),le=(n.ctrlKey||n.metaKey)&&c.edit.drag.isMove&&c.edit.drag.isCopy||!c.edit.drag.isMove&&c.edit.drag.isCopy,fe=!(!_||M!==_.tId),de=!(!S||M!==S.tId),pe=u.parentTId&&u.parentTId==M,me=(le||!de)&&v.apply(O.edit.drag.prev,[O.treeId,m,ce],!!O.edit.drag.prev),he=(le||!fe)&&v.apply(O.edit.drag.next,[O.treeId,m,ce],!!O.edit.drag.next),ge=(le||!pe)&&!(O.data.keep.leaf&&!w.nodeIsParent(c,ce))&&v.apply(O.edit.drag.inner,[O.treeId,m,ce],!!O.edit.drag.inner);if(me||he||ge){var ve=e("#"+M+b.id.A,C),be=ce.isLastNode?null:e("#"+ce.getNextNode().tId+b.id.A,C.next()),ye=ve.offset().top,we=ve.offset().left,xe=me?ge?.25:he?.5:1:-1,Ce=he?ge?.75:me?.5:0:-1,_e=(n.clientY+H-ye)/ve.height();if((1==xe||_e<=xe&&_e>=-.2)&&me?(ue=1-g.width(),se=ye-g.height()/2,I=b.move.TYPE_PREV):(0==Ce||_e>=Ce&&_e<=1.2)&&he?(ue=1-g.width(),se=null==be||w.nodeIsParent(c,ce)&&ce.open?ye+ve.height()-g.height()/2:be.offset().top-g.height()/2,I=b.move.TYPE_NEXT):ge?(ue=5-g.width(),se=ye,I=b.move.TYPE_INNER):r(),C&&(g.css({display:"block",top:se+"px",left:we+ue+"px"}),ve.addClass(b.node.TMPTARGET_NODE+"_"+I),A==M&&D==I||(L=(new Date).getTime()),ce&&w.nodeIsParent(c,ce)&&I==b.move.TYPE_INNER)){var Se=!0;window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==ce.tId?(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null):window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===ce.tId&&(Se=!1),Se&&(window.zTreeMoveTimer=setTimeout(function(){I==b.move.TYPE_INNER&&ce&&w.nodeIsParent(c,ce)&&!ce.open&&(new Date).getTime()-L>O.edit.drag.autoOpenTime&&v.apply(O.callback.beforeDragOpen,[O.treeId,ce],!0)&&(y.switchNode(O,ce),O.edit.drag.autoExpandTrigger&&O.treeObj.trigger(b.event.EXPAND,[O.treeId,ce]))},O.edit.drag.autoOpenTime+50),window.zTreeMoveTargetNodeTId=ce.tId)}}else r()}else I=b.move.TYPE_INNER,C&&v.apply(O.edit.drag.inner,[O.treeId,m,null],!!O.edit.drag.inner)?C.addClass(b.node.TMPTARGET_TREE):C=null,g.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null);A=M,D=I,c.treeObj.trigger(b.event.DRAGMOVE,[n,c.treeId,m])}return!1}function i(n){function r(){if(E){if(!p)for(var e=0,t=m.length;e<t;e++)y.removeNode(c,m[e]);I==b.move.TYPE_INNER?y.addNodes(O,_,-1,S):y.addNodes(O,_.getParentNode(),I==b.move.TYPE_PREV?_.getIndex():_.getIndex()+1,S)}else if(p&&I==b.move.TYPE_INNER)y.addNodes(O,_,-1,S);else if(p)y.addNodes(O,_.getParentNode(),I==b.move.TYPE_PREV?_.getIndex():_.getIndex()+1,S);else if(I!=b.move.TYPE_NEXT)for(e=0,t=S.length;e<t;e++)y.moveNode(O,_,S[e],I,!1);else for(e=-1,t=S.length-1;e<t;t--)y.moveNode(O,_,S[t],I,!1);y.selectNodes(O,S);var r=x(S[0],c).get(0);y.scrollIntoView(c,r),c.treeObj.trigger(b.event.DROP,[n,O.treeId,S,_,I,p])}if(window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null),A=null,D=null,k.unbind("mousemove",o),k.unbind("mouseup",i),k.unbind("selectstart",a),T.css("cursor",""),C&&(C.removeClass(b.node.TMPTARGET_TREE),M&&e("#"+M+b.id.A,C).removeClass(b.node.TMPTARGET_NODE+"_"+b.move.TYPE_PREV).removeClass(b.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(b.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER)),v.showIfameMask(c,!1),f.showHoverDom=!0,0!=l.dragFlag){l.dragFlag=0;var u,s,d;for(u=0,s=m.length;u<s;u++)d=m[u],w.nodeIsParent(c,d)&&l.dragNodeShowBefore[d.tId]&&!d.open&&(y.expandCollapseNode(c,d,!d.open),delete l.dragNodeShowBefore[d.tId]);h&&h.remove(),g&&g.remove();var p=(n.ctrlKey||n.metaKey)&&c.edit.drag.isMove&&c.edit.drag.isCopy||!c.edit.drag.isMove&&c.edit.drag.isCopy;if(!p&&C&&M&&m[0].parentTId&&M==m[0].parentTId&&I==b.move.TYPE_INNER&&(C=null),C){var _=null==M?null:w.getNodeCache(O,M);if(0==v.apply(c.callback.beforeDrop,[O.treeId,m,_,I,p],!0))return void y.selectNodes(N,m);var S=p?v.clone(m):m;I==b.move.TYPE_INNER&&v.canAsync(O,_)?y.asyncNode(O,_,!1,r):r()}else y.selectNodes(N,m),c.treeObj.trigger(b.event.DROP,[n,c.treeId,m,null,null,null])}}function a(){return!1}var u,s,c=w.getSetting(n.data.treeId),l=w.getRoot(c),f=w.getRoots();if(2==n.button||!c.edit.enable||!c.edit.drag.isCopy&&!c.edit.drag.isMove)return!0;var d=n.target,p=w.getRoot(c).curSelectedList,m=[];if(w.isSelectedNode(c,r))for(u=0,s=p.length;u<s;u++){if(p[u].editNameFlag&&v.eqs(d.tagName,"input")&&null!==d.getAttribute("treeNode"+b.id.INPUT))return!0;if(m.push(p[u]),m[0].parentTId!==p[u].parentTId){m=[r];break}}else m=[r];y.editNodeBlur=!0,y.cancelCurEditNode(c);var h,g,C,_,S,k=e(c.treeObj.get(0).ownerDocument),T=e(c.treeObj.get(0).ownerDocument.body),E=!1,O=c,N=c,A=null,D=null,M=null,I=b.move.TYPE_INNER,R=n.clientX,P=n.clientY,L=(new Date).getTime();return v.uCanDo(c)&&k.bind("mousemove",o),k.bind("mouseup",i),k.bind("selectstart",a),!0}},p={getAbs:function(e){var t=e.getBoundingClientRect(),n=document.body.scrollTop+document.documentElement.scrollTop,r=document.body.scrollLeft+document.documentElement.scrollLeft;return[t.left+r,t.top+n]},inputFocus:function(e){e.get(0)&&(e.focus(),v.setCursorPosition(e.get(0),e.val().length))},inputSelect:function(e){e.get(0)&&(e.focus(),e.select())},setCursorPosition:function(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}},showIfameMask:function(e,t){for(var n=w.getRoot(e);n.dragMaskList.length>0;)n.dragMaskList[0].remove(),n.dragMaskList.shift();if(t)for(var r=x("iframe",e),o=0,i=r.length;o<i;o++){var a=r.get(o),u=v.getAbs(a),s=x("<div id='zTreeMask_"+o+"' class='zTreeMask' style='top:"+u[1]+"px; left:"+u[0]+"px; width:"+a.offsetWidth+"px; height:"+a.offsetHeight+"px;'></div>",e);s.appendTo(x("body",e)),n.dragMaskList.push(s)}}},m={addEditBtn:function(e,t){if(!(t.editNameFlag||x(t,b.id.EDIT,e).length>0)&&v.apply(e.edit.showRenameBtn,[e.treeId,t],e.edit.showRenameBtn)){var n=x(t,b.id.A,e),r="<span class='"+b.className.BUTTON+" edit' id='"+t.tId+b.id.EDIT+"' title='"+v.apply(e.edit.renameTitle,[e.treeId,t],e.edit.renameTitle)+"' treeNode"+b.id.EDIT+" style='display:none;'></span>";n.append(r),x(t,b.id.EDIT,e).bind("click",function(){return!(!v.uCanDo(e)||0==v.apply(e.callback.beforeEditName,[e.treeId,t],!0))&&(y.editNode(e,t),!1)}).show()}},addRemoveBtn:function(e,t){if(!(t.editNameFlag||x(t,b.id.REMOVE,e).length>0)&&v.apply(e.edit.showRemoveBtn,[e.treeId,t],e.edit.showRemoveBtn)){var n=x(t,b.id.A,e),r="<span class='"+b.className.BUTTON+" remove' id='"+t.tId+b.id.REMOVE+"' title='"+v.apply(e.edit.removeTitle,[e.treeId,t],e.edit.removeTitle)+"' treeNode"+b.id.REMOVE+" style='display:none;'></span>";n.append(r),x(t,b.id.REMOVE,e).bind("click",function(){return!(!v.uCanDo(e)||0==v.apply(e.callback.beforeRemove,[e.treeId,t],!0))&&(y.removeNode(e,t),e.treeObj.trigger(b.event.REMOVE,[e.treeId,t]),!1)}).bind("mousedown",function(e){return!0}).show()}},addHoverDom:function(e,t){w.getRoots().showHoverDom&&(t.isHover=!0,e.edit.enable&&(y.addEditBtn(e,t),y.addRemoveBtn(e,t)),v.apply(e.view.addHoverDom,[e.treeId,t]))},cancelCurEditNode:function(e,t,n){var r=w.getRoot(e),o=r.curEditNode;if(o){var i=r.curEditInput,a=t||(n?w.nodeName(e,o):i.val());if(!1===v.apply(e.callback.beforeRename,[e.treeId,o,a,n],!0))return!1;w.nodeName(e,o,a);x(o,b.id.A,e).removeClass(b.node.CURSELECTED_EDIT),i.unbind(),y.setNodeName(e,o),o.editNameFlag=!1,r.curEditNode=null,r.curEditInput=null,y.selectNode(e,o,!1),e.treeObj.trigger(b.event.RENAME,[e.treeId,o,n])}return r.noSelection=!0,!0},editNode:function(e,t){var n=w.getRoot(e);if(y.editNodeBlur=!1,w.isSelectedNode(e,t)&&n.curEditNode==t&&t.editNameFlag)return void setTimeout(function(){v.inputFocus(n.curEditInput)},0);t.editNameFlag=!0,y.removeTreeDom(e,t),y.cancelCurEditNode(e),y.selectNode(e,t,!1),x(t,b.id.SPAN,e).html("<input type=text class='rename' id='"+t.tId+b.id.INPUT+"' treeNode"+b.id.INPUT+" >");var r=x(t,b.id.INPUT,e);r.attr("value",w.nodeName(e,t)),e.edit.editNameSelectAll?v.inputSelect(r):v.inputFocus(r),r.bind("blur",function(t){y.editNodeBlur||y.cancelCurEditNode(e)}).bind("keydown",function(t){"13"==t.keyCode?(y.editNodeBlur=!0,y.cancelCurEditNode(e)):"27"==t.keyCode&&y.cancelCurEditNode(e,null,!0)}).bind("click",function(e){return!1}).bind("dblclick",function(e){return!1}),x(t,b.id.A,e).addClass(b.node.CURSELECTED_EDIT),n.curEditInput=r,n.noSelection=!1,n.curEditNode=t},moveNode:function(e,t,n,r,o,i){var a=w.getRoot(e);if(t!=n&&(!e.data.keep.leaf||!t||w.nodeIsParent(e,t)||r!=b.move.TYPE_INNER)){var u=n.parentTId?n.getParentNode():a,s=null===t||t==a;s&&null===t&&(t=a),s&&(r=b.move.TYPE_INNER);var c=t.parentTId?t.getParentNode():a;r!=b.move.TYPE_PREV&&r!=b.move.TYPE_NEXT&&(r=b.move.TYPE_INNER),r==b.move.TYPE_INNER&&(s?n.parentTId=null:(w.nodeIsParent(e,t)||(w.nodeIsParent(e,t,!0),t.open=!!t.open,y.setNodeLineIcos(e,t)),n.parentTId=t.tId));var l,f;if(s)l=e.treeObj,f=l;else{if(i||r!=b.move.TYPE_INNER?i||y.expandCollapseNode(e,t.getParentNode(),!0,!1):y.expandCollapseNode(e,t,!0,!1),l=x(t,e),f=x(t,b.id.UL,e),l.get(0)&&!f.get(0)){var d=[];y.makeUlHtml(e,t,d,""),l.append(d.join(""))}f=x(t,b.id.UL,e)}var p=x(n,e);p.get(0)?l.get(0)||p.remove():p=y.appendNodes(e,n.level,[n],null,-1,!1,!0).join(""),f.get(0)&&r==b.move.TYPE_INNER?f.append(p):l.get(0)&&r==b.move.TYPE_PREV?l.before(p):l.get(0)&&r==b.move.TYPE_NEXT&&l.after(p);var m,h,g=-1,v=0,C=null,_=null,S=n.level,k=w.nodeChildren(e,u),T=w.nodeChildren(e,c),E=w.nodeChildren(e,t);if(n.isFirstNode)g=0,k.length>1&&(C=k[1],C.isFirstNode=!0);else if(n.isLastNode)g=k.length-1,C=k[g-1],C.isLastNode=!0;else for(m=0,h=k.length;m<h;m++)if(k[m].tId==n.tId){g=m;break}if(g>=0&&k.splice(g,1),r!=b.move.TYPE_INNER)for(m=0,h=T.length;m<h;m++)T[m].tId==t.tId&&(v=m);if(r==b.move.TYPE_INNER?(E||(E=w.nodeChildren(e,t,[])),E.length>0&&(_=E[E.length-1],_.isLastNode=!1),E.splice(E.length,0,n),n.isLastNode=!0,n.isFirstNode=1==E.length):t.isFirstNode&&r==b.move.TYPE_PREV?(T.splice(v,0,n),_=t,_.isFirstNode=!1,n.parentTId=t.parentTId,n.isFirstNode=!0,n.isLastNode=!1):t.isLastNode&&r==b.move.TYPE_NEXT?(T.splice(v+1,0,n),_=t,_.isLastNode=!1,n.parentTId=t.parentTId,n.isFirstNode=!1,n.isLastNode=!0):(r==b.move.TYPE_PREV?T.splice(v,0,n):T.splice(v+1,0,n),n.parentTId=t.parentTId,n.isFirstNode=!1,n.isLastNode=!1),w.fixPIdKeyValue(e,n),w.setSonNodeLevel(e,n.getParentNode(),n),y.setNodeLineIcos(e,n),y.repairNodeLevelClass(e,n,S),!e.data.keep.parent&&k.length<1){w.nodeIsParent(e,u,!1),u.open=!1;var O=x(u,b.id.UL,e),N=x(u,b.id.SWITCH,e),A=x(u,b.id.ICON,e);y.replaceSwitchClass(u,N,b.folder.DOCU),y.replaceIcoClass(u,A,b.folder.DOCU),O.css("display","none")}else C&&y.setNodeLineIcos(e,C);_&&y.setNodeLineIcos(e,_),e.check&&e.check.enable&&y.repairChkClass&&(y.repairChkClass(e,u),y.repairParentChkClassWithSelf(e,u),u!=n.parent&&y.repairParentChkClassWithSelf(e,n)),i||y.expandCollapseParentNode(e,n.getParentNode(),!0,o)}},removeEditBtn:function(e,t){x(t,b.id.EDIT,e).unbind().remove()},removeRemoveBtn:function(e,t){x(t,b.id.REMOVE,e).unbind().remove()},removeTreeDom:function(e,t){t.isHover=!1,y.removeEditBtn(e,t),y.removeRemoveBtn(e,t),v.apply(e.view.removeHoverDom,[e.treeId,t])},repairNodeLevelClass:function(e,t,n){if(n!==t.level){var r=x(t,e),o=x(t,b.id.A,e),i=x(t,b.id.UL,e),a=b.className.LEVEL+n,u=b.className.LEVEL+t.level;r.removeClass(a),r.addClass(u),o.removeClass(a),o.addClass(u),i.removeClass(a),i.addClass(u)}},selectNodes:function(e,t){for(var n=0,r=t.length;n<r;n++)y.selectNode(e,t[n],n>0)}},h={tools:p,view:m,event:f,data:l};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,h);var g=e.fn.zTree,v=g._z.tools,b=g.consts,y=g._z.view,w=g._z.data,x=(g._z.event,v.$);w.exSetting(n),w.addInitBind(i),w.addInitUnBind(a),w.addInitCache(o),w.addInitNode(s),w.addInitProxy(u),w.addInitRoot(r),w.addZTreeTools(c);var C=y.cancelPreSelectedNode;y.cancelPreSelectedNode=function(e,t){for(var n=w.getRoot(e).curSelectedList,r=0,o=n.length;r<o&&(t&&t!==n[r]||(y.removeTreeDom(e,n[r]),!t));r++);C&&C.apply(y,arguments)};var _=y.createNodes;y.createNodes=function(e,t,n,r,o){_&&_.apply(y,arguments),n&&y.repairParentChkClassWithSelf&&y.repairParentChkClassWithSelf(e,r)};var S=y.makeNodeUrl;y.makeNodeUrl=function(e,t){return e.edit.enable?null:S.apply(y,arguments)};var k=y.removeNode;y.removeNode=function(e,t){var n=w.getRoot(e);n.curEditNode===t&&(n.curEditNode=null),k&&k.apply(y,arguments)};var T=y.selectNode;y.selectNode=function(e,t,n){var r=w.getRoot(e);return(!w.isSelectedNode(e,t)||r.curEditNode!=t||!t.editNameFlag)&&(T&&T.apply(y,arguments),y.addHoverDom(e,t),!0)};var E=v.uCanDo;v.uCanDo=function(e,t){var n=w.getRoot(e);return!(!t||!(v.eqs(t.type,"mouseover")||v.eqs(t.type,"mouseout")||v.eqs(t.type,"mousedown")||v.eqs(t.type,"mouseup")))||(n.curEditNode&&(y.editNodeBlur=!1,n.curEditInput.focus()),!n.curEditNode&&(!E||E.apply(y,arguments)))}}(jQuery)},"94ca":function(e,t,n){var r=n("d039"),o=/#|\.prototype\./,i=function(e,t){var n=u[a(e)];return n==c||n!=s&&("function"==typeof t?r(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=i.data={},s=i.NATIVE="N",c=i.POLYFILL="P";e.exports=i},"95eb":function(e,t,n){t=n("24fb")(!1),t.push([e.i,"ul.ztree.zTreeDragUL{margin:0;padding:0;position:absolute;overflow:hidden;background-color:#dedede;border:1px dotted #4fcbf0;border-radius:4px;opacity:.7}.zTreeMask{position:absolute;z-index:10000;opacity:0;background-color:#cfcfcf}",""]),e.exports=t},"99af":function(e,t,n){"use strict";var r=n("23e7"),o=n("d039"),i=n("e8b5"),a=n("861d"),u=n("7b0b"),s=n("50c4"),c=n("8418"),l=n("65f0"),f=n("1dde"),d=n("b622"),p=n("2d00"),m=d("isConcatSpreadable"),h=p>=51||!o(function(){var e=[];return e[m]=!1,e.concat()[0]!==e}),g=f("concat"),v=function(e){if(!a(e))return!1;var t=e[m];return void 0!==t?!!t:i(e)};r({target:"Array",proto:!0,forced:!h||!g},{concat:function(e){var t,n,r,o,i,a=u(this),f=l(a,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(i=-1===t?a:arguments[t],v(i)){if(o=s(i.length),d+o>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,d++)n in i&&c(f,d,i[n])}else{if(d>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(f,d++,i)}return f.length=d,f}})},"9bf2":function(e,t,n){var r=n("83ab"),o=n("0cfb"),i=n("825a"),a=n("c04e"),u=Object.defineProperty;t.f=r?u:function(e,t,n){if(i(e),t=a(t,!0),i(n),o)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},a691:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},ab17:function(e,t,n){var r=n("95eb");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=n("499e").default;o("d7f2b2d6",r,!0,{sourceMap:!1,shadowMode:!1})},b622:function(e,t,n){var r=n("da84"),o=n("5692"),i=n("5135"),a=n("90e3"),u=n("4930"),s=n("fdbf"),c=o("wks"),l=r.Symbol,f=s?l:l&&l.withoutSetter||a;e.exports=function(e){return i(c,e)||(u&&i(l,e)?c[e]=l[e]:c[e]=f("Symbol."+e)),c[e]}},c04e:function(e,t,n){var r=n("861d");e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var r=n("da84"),o=n("ce4e"),i=r["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=i},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},ca84:function(e,t,n){var r=n("5135"),o=n("fc6a"),i=n("4d64").indexOf,a=n("d012");e.exports=function(e,t){var n,u=o(e),s=0,c=[];for(n in u)!r(a,n)&&r(u,n)&&c.push(n);for(;t.length>s;)r(u,n=t[s++])&&(~i(c,n)||c.push(n));return c}},cc12:function(e,t,n){var r=n("da84"),o=n("861d"),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},cca6:function(e,t,n){var r=n("23e7"),o=n("60da");r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},ce4e:function(e,t,n){var r=n("da84"),o=n("9112");e.exports=function(e,t){try{o(r,e,t)}catch(n){r[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},d066:function(e,t,n){var r=n("428f"),o=n("da84"),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e])||i(o[e]):r[e]&&r[e][t]||o[e]&&o[e][t]}},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},d2ba:function(e,t,n){"use strict";var r=n("1036"),o=n.n(r);o.a},d736:function(e,t,n){t=n("24fb")(!1),t.push([e.i,'.ztree[data-v-2250bf11]{text-align:left;font-size:14px}.ztree[data-v-2250bf11] li{list-style-type:none;white-space:nowrap;outline:none}.ztree[data-v-2250bf11] li ul{position:relative;padding:0 0 0 20px;margin:0}.ztree[data-v-2250bf11] .line:before{position:absolute;top:0;left:10px;height:100%;content:"";border-right:1px dotted #dbdbdb}.ztree[data-v-2250bf11] .bottom_docu:after,.ztree[data-v-2250bf11] .bottom_docu:before,.ztree[data-v-2250bf11] .center_docu:after,.ztree[data-v-2250bf11] .center_docu:before,.ztree[data-v-2250bf11] .roots_docu:after,.ztree[data-v-2250bf11] .roots_docu:before{position:absolute;content:"";border:0 dotted #dbdbdb}.ztree[data-v-2250bf11] .roots_docu:before{left:10px;height:50%;top:50%;border-left-width:1px}.ztree[data-v-2250bf11] .roots_docu:after{top:50%;left:11px;width:50%;border-top-width:1px}.ztree[data-v-2250bf11] .center_docu:before{left:10px;height:100%;border-left-width:1px}.ztree[data-v-2250bf11] .center_docu:after{top:50%;left:11px;width:50%;border-top-width:1px}.ztree[data-v-2250bf11] .bottom_docu:before{left:10px;height:50%;border-left-width:1px}.ztree[data-v-2250bf11] .bottom_docu:after{top:50%;left:11px;width:50%;border-top-width:1px}.ztree[data-v-2250bf11] li a{display:inline-block;line-height:22px;height:22px;margin:0;cursor:pointer;-webkit-transition:none;transition:none;vertical-align:middle;color:#555}.ztree[data-v-2250bf11] .node_name{display:inline-block;padding:0 3px;border-radius:4px}.ztree[data-v-2250bf11] .curSelectedNode .node_name{color:#000;background-color:#c9e9f7}.ztree[data-v-2250bf11] .curSelectedNode_Edit{height:20px;opacity:.8;color:#000;border:1px solid #6cc2e8;background-color:#9dd6f0}.ztree[data-v-2250bf11] .tmpTargetNode_inner{opacity:.8;color:#fff;background-color:#4fcbf0;filter:alpha(opacity=80)}.ztree[data-v-2250bf11] .rename{font-size:12px;line-height:22px;width:80px;height:22px;margin:0;padding:0;vertical-align:top;border:0;background:none}.ztree[data-v-2250bf11] .button{position:relative;display:inline-block;line-height:22px;height:22px;width:22px;cursor:pointer;text-align:center;vertical-align:middle}.ztree[data-v-2250bf11] .button.edit{color:#25ae88}.ztree[data-v-2250bf11] .button.remove{color:#cb4042}.ztree[data-v-2250bf11] .button.chk{position:relative;width:14px;height:14px;margin:0 4px 0 0;border:1px solid #d7dde4;border-radius:2px;background:#fff}.ztree[data-v-2250bf11] .chk.radio_false_disable,.ztree[data-v-2250bf11] .chk.radio_false_full,.ztree[data-v-2250bf11] .chk.radio_false_full_focus,.ztree[data-v-2250bf11] .chk.radio_false_part,.ztree[data-v-2250bf11] .chk.radio_false_part_focus,.ztree[data-v-2250bf11] .chk.radio_true_disable,.ztree[data-v-2250bf11] .chk.radio_true_full,.ztree[data-v-2250bf11] .chk.radio_true_full_focus,.ztree[data-v-2250bf11] .chk.radio_true_part,.ztree[data-v-2250bf11] .chk.radio_true_part_focus{border-radius:8px}.ztree[data-v-2250bf11] .button.chk:after{position:absolute;top:1px;left:4px;width:4px;height:8px;content:"";transition:-webkit-transform .2s ease-in-out;-webkit-transition:-webkit-transform .2s ease-in-out;transition:transform .2s ease-in-out;transition:transform .2s ease-in-out,-webkit-transform .2s ease-in-out;-webkit-transform:rotate(0deg) scale(0);transform:rotate(0deg) scale(0);border-right:2px solid #fff;border-bottom:2px solid #fff}.ztree[data-v-2250bf11] .button.checkbox_false_full_focus{border-color:#ccc}.ztree[data-v-2250bf11] .button.checkbox_true_disable,.ztree[data-v-2250bf11] .button.checkbox_true_full,.ztree[data-v-2250bf11] .button.checkbox_true_full_focus,.ztree[data-v-2250bf11] .button.checkbox_true_part,.ztree[data-v-2250bf11] .button.checkbox_true_part_focus{border-color:#39f;background-color:#39f}.ztree[data-v-2250bf11] .button.checkbox_true_disable:after,.ztree[data-v-2250bf11] .button.checkbox_true_full:after,.ztree[data-v-2250bf11] .button.checkbox_true_full_focus:after{-webkit-transform:rotate(45deg) scale(1);transform:rotate(45deg) scale(1)}.ztree[data-v-2250bf11] .button.checkbox_true_part:after,.ztree[data-v-2250bf11] .button.checkbox_true_part_focus:after{top:5px;left:2px;width:10px;height:1px;-webkit-transform:rotate(0deg) scale(1);transform:rotate(0deg) scale(1);border-right:0}.ztree[data-v-2250bf11] .button.radio_true_full,.ztree[data-v-2250bf11] .chk.radio_true_full_focus,.ztree[data-v-2250bf11] .chk.radio_true_part,.ztree[data-v-2250bf11] .chk.radio_true_part_focus{border-color:#39f}.ztree[data-v-2250bf11] .button.radio_true_full:after,.ztree[data-v-2250bf11] .chk.radio_true_full_focus:after,.ztree[data-v-2250bf11] .chk.radio_true_part:after,.ztree[data-v-2250bf11] .chk.radio_true_part_focus:after{top:3px;left:3px;width:8px;-webkit-transform:rotate(0deg) scale(1);transform:rotate(0deg) scale(1);border:0;border-radius:4px;background:#39f}.ztree[data-v-2250bf11] .button.checkbox_false_disable,.ztree[data-v-2250bf11] .button.checkbox_true_disable,.ztree[data-v-2250bf11] .chk.radio_false_disable,.ztree[data-v-2250bf11] .chk.radio_true_disable{cursor:not-allowed}.ztree[data-v-2250bf11] .button.checkbox_false_disable{background-color:#f3f3f3}.ztree[data-v-2250bf11] .button.bottom_close:before,.ztree[data-v-2250bf11] .button.bottom_open:before,.ztree[data-v-2250bf11] .button.center_close:before,.ztree[data-v-2250bf11] .button.center_open:before,.ztree[data-v-2250bf11] .button.noline_close:before,.ztree[data-v-2250bf11] .button.noline_open:before,.ztree[data-v-2250bf11] .button.root_close:before,.ztree[data-v-2250bf11] .button.root_open:before,.ztree[data-v-2250bf11] .button.roots_close:before,.ztree[data-v-2250bf11] .button.roots_open:before{position:absolute;top:5px;left:5px;content:"";transition:-webkit-transform .3s ease;-webkit-transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease;-webkit-transform:rotate(0deg);transform:rotate(0deg);-webkit-transform-origin:25% 50%;transform-origin:25% 50%;border:6px solid;border-color:transparent transparent transparent #666}.ztree[data-v-2250bf11] .button.bottom_open:before,.ztree[data-v-2250bf11] .button.center_open:before,.ztree[data-v-2250bf11] .button.noline_open:before,.ztree[data-v-2250bf11] .button.root_open:before,.ztree[data-v-2250bf11] .button.roots_open:before{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ztree[data-v-2250bf11] .button.ico_loading{margin-right:2px;background:url("data:image/gif;base64,R0lGODlhEAAQAKIGAMLY8YSx5HOm4Mjc88/g9Ofw+v///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFCgAGACwAAAAAEAAQAAADMGi6RbUwGjKIXCAA016PgRBElAVlG/RdLOO0X9nK61W39qvqiwz5Ls/rRqrggsdkAgAh+QQFCgAGACwCAAAABwAFAAADD2hqELAmiFBIYY4MAutdCQAh+QQFCgAGACwGAAAABwAFAAADD1hU1kaDOKMYCGAGEeYFCQAh+QQFCgAGACwKAAIABQAHAAADEFhUZjSkKdZqBQG0IELDQAIAIfkEBQoABgAsCgAGAAUABwAAAxBoVlRKgyjmlAIBqCDCzUoCACH5BAUKAAYALAYACgAHAAUAAAMPaGpFtYYMAgJgLogA610JACH5BAUKAAYALAIACgAHAAUAAAMPCAHWFiI4o1ghZZJB5i0JACH5BAUKAAYALAAABgAFAAcAAAMQCAFmIaEp1motpDQySMNFAgA7") 0 no-repeat}.ztree[data-v-2250bf11] .tmpTargetzTree{opacity:.8;background-color:#2ea9df;filter:alpha(opacity=80)}.ztree[data-v-2250bf11] .tmpzTreeMove_arrow{position:absolute;width:18px;height:18px;color:#4fcbf0}',""]),e.exports=t},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n("c8ba"))},df75:function(e,t,n){var r=n("ca84"),o=n("7839");e.exports=Object.keys||function(e){return r(e,o)}},e893:function(e,t,n){var r=n("5135"),o=n("56ef"),i=n("06cf"),a=n("9bf2");e.exports=function(e,t){for(var n=o(t),u=a.f,s=i.f,c=0;c<n.length;c++){var l=n[c];r(e,l)||u(e,l,s(t,l))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},f772:function(e,t,n){var r=n("5692"),o=n("90e3"),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},fb15:function(e,t,n){"use strict";if(n.r(t),"undefined"!=typeof window){var r=window.document.currentScript,o=n("8875");r=o(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:o});var i=r&&r.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/);i&&(n.p=i[1])}var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"ztree",attrs:{id:e.ztreeId}})},u=[],s=(n("99af"),n("cca6"),n("1157"));window.jQuery||(window.jQuery=s),n("91e5");var c={props:{setting:{type:Object,require:!1,default:function(){return{}}},nodes:{type:Array,require:!0,default:function(){return[]}}},data:function(){var e=this;return{ztreeId:"ztree_"+parseInt(1e10*Math.random()),ztreeObj:null,list:[],ztreeSetting:{view:{showIcon:!1},callback:{onAsyncError:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onAsyncError"].concat(n))},onAsyncSuccess:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onAsyncSuccess"].concat(n))},onCheck:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onCheck"].concat(n))},onClick:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onClick"].concat(n))},onCollapse:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onCollapse"].concat(n))},onDblClick:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onDblClick"].concat(n))},onDrag:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onDrag"].concat(n))},onDragMove:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onDragMove"].concat(n))},onDrop:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onDrop"].concat(n))},onExpand:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onExpand"].concat(n))},onMouseDown:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onMouseDown"].concat(n))},onMouseUp:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onMouseUp"].concat(n))},onRemove:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onRemove"].concat(n))},onRename:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onRename"].concat(n))},onRightClick:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onRightClick"].concat(n))}}}}},watch:{nodes:{handler:function(e){var t=this;this.list=e,this.ztreeObj&&this.ztreeObj.destroy(),this.$nextTick(function(){t.ztreeObj=s.fn.zTree.init(s("#"+t.ztreeId),Object.assign({},t.ztreeSetting,t.setting),t.list),t.$emit("onCreated",t.ztreeObj)})},deep:!0,immediate:!0}}},l=c,f=(n("d2ba"),n("8f68"),function(e,t,n,r,o,i,a,u){var s="function"==typeof e?e.options:e;t&&(s.render=t,s.staticRenderFns=n,s._compiled=!0),r&&(s.functional=!0),i&&(s._scopeId="data-v-"+i);var c;if(a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},s._ssrRegister=c):o&&(c=u?function(){o.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(s.functional){s._injectStyles=c;var l=s.render;s.render=function(e,t){return c.call(t),l(e,t)}}else{var f=s.beforeCreate;s.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:s}}(l,a,u,!1,null,"2250bf11",null)),d=f.exports;t.default=d},fc6a:function(e,t,n){var r=n("44ad"),o=n("1d80");e.exports=function(e){return r(o(e))}},fdbf:function(e,t,n){var r=n("4930");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}}).default},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_24__},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"user-container"},[n("div",{on:{click:function(t){return t.preventDefault(),e.showInput(t)}}},[e._l(e.dynamicTags,function(t){return n("el-tag",{key:t,attrs:{closable:!e.disabled,"disable-transitions":!1},on:{close:function(n){return e.handleClose(t)}}},[e._v("\n        "+e._s(t)+"\n      ")])}),e._v(" "),e.inputVisible&&e.allowWrite?n("el-autocomplete",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small","highlight-first-item":!0,"fetch-suggestions":e.querySearchAsync,"select-when-unmatched":!1},on:{select:e.handleSelect,change:e.changeSelect},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;return[n("div",{staticClass:"name"},[e._v(e._s(r.name)+" "+e._s(r.orgName))])]}}],null,!1,3835672382),model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}}):e._e()],2),e._v(" "),n("el-button",{attrs:{slot:"append",disabled:e.disabled},nativeOn:{click:function(t){return e.chooseUser(t)}},slot:"append"},[e._v("...")])],1),e._v(" "),n("el-dialog",{staticClass:"abow_dialog",attrs:{title:e.title,visible:e.dialogVisible,width:"1000",top:"0",fullscreen:e.isFullScreen,"append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},open:e.openChooseUserModal}},[n("div",{staticClass:"choose-selector"},[n("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e.tabRoles.includes("orgUser")?n("el-tab-pane",{attrs:{label:"组织",name:"orgUser"}},[n("div",{staticClass:"choose-selector-select-container"},[n("el-autocomplete",{ref:"orgUserSearchInput",attrs:{"popper-class":"my-autocomplete","fetch-suggestions":e.treeSearch,"select-when-unmatched":!0,placeholder:"快速查找组织与人",clearable:"","validate-event":!1},on:{select:function(t){return e.handleTreeSelect(t,"orgUser")},clear:function(t){return e.handleClearSearchValue("orgUser")}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;return[n("div",[e._v(e._s(r.name)+"<"+e._s(r.orgName)+">")])]}}],null,!1,4240750070),model:{value:e.orgUserSearchValue,callback:function(t){e.orgUserSearchValue=t},expression:"orgUserSearchValue"}},[n("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},on:{click:e.handleIconClick},slot:"prefix"})]),e._v(" "),n("tree",{ref:"orgUserNodes",attrs:{nodes:e.orgUserNodes,setting:e.setting},on:{onCheck:e.onCheck,onCreated:function(t){return e.handleCreated(t,"orgUserTree")},onClick:function(t,n,r){return e.clickNode(t,n,r,"orgUserTree")}}})],1)]):e._e(),e._v(" "),e.tabRoles.includes("group")?n("el-tab-pane",{attrs:{label:"群组",name:"group"}},[n("div",{staticClass:"choose-selector-select-container"},[n("el-autocomplete",{ref:"groupSearchInput",staticStyle:{visibility:"hidden"},attrs:{"popper-class":"my-autocomplete","select-when-unmatched":!0,placeholder:"快速查找群组",clearable:"","validate-event":!1},on:{select:function(t){return e.handleTreeSelect(t,"group")},clear:function(t){return e.handleClearSearchValue("group")}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;return[n("div",[e._v(e._s(r.name)+"<"+e._s(r.orgName)+">")])]}}],null,!1,4240750070)},[n("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},on:{click:e.handleIconClick},slot:"prefix"})]),e._v(" "),n("tree",{ref:"groupNodes",attrs:{nodes:e.groupNodes,setting:e.setting},on:{onCheck:e.onCheck,onCreated:function(t){return e.handleCreated(t,"groupTree")},onClick:function(t,n,r){return e.clickNode(t,n,r,"groupTree")}}})],1)]):e._e(),e._v(" "),e.tabRoles.includes("grade")?n("el-tab-pane",{attrs:{label:"年级",name:"grade"}},[n("div",{staticClass:"choose-selector-select-container"},[n("el-autocomplete",{ref:"gradeSearchInput",staticStyle:{visibility:"hidden"},attrs:{"popper-class":"my-autocomplete","select-when-unmatched":!0,placeholder:"快速查找年级",clearable:"","validate-event":!1},on:{select:function(t){return e.handleTreeSelect(t,"grade")},clear:function(t){return e.handleClearSearchValue("grade")}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;return[n("div",[e._v(e._s(r.name)+"<"+e._s(r.orgName)+">")])]}}],null,!1,4240750070)},[n("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},on:{click:e.handleIconClick},slot:"prefix"})]),e._v(" "),n("tree",{ref:"gradeNodes",attrs:{nodes:e.gradeNodes,setting:e.setting},on:{onCheck:e.onCheck,onCreated:function(t){return e.handleCreated(t,"gradeTree")},onClick:function(t,n,r){return e.clickNode(t,n,r,"gradeTree")}}})],1)]):e._e(),e._v(" "),e.tabRoles.includes("myGroup")?n("el-tab-pane",{attrs:{label:"我的群组",name:"myGroup"}},[n("div",{staticClass:"choose-selector-select-container"},[n("el-autocomplete",{ref:"myGroupSearchInput",staticStyle:{visibility:"hidden"},attrs:{"popper-class":"my-autocomplete","select-when-unmatched":!0,placeholder:"快速查找我的群组",clearable:"","validate-event":!1},on:{select:function(t){return e.handleTreeSelect(t,"myGroup")},clear:function(t){return e.handleClearSearchValue("myGroup")}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;return[n("div",[e._v(e._s(r.name)+"<"+e._s(r.orgName)+">")])]}}],null,!1,4240750070)},[n("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},on:{click:e.handleIconClick},slot:"prefix"})]),e._v(" "),n("tree",{ref:"myGroupNodes",attrs:{nodes:e.myGroupNodes,setting:e.setting},on:{onCheck:e.onCheck,onCreated:function(t){return e.handleCreated(t,"myGroupTree")},onClick:function(t,n,r){return e.clickNode(t,n,r,"myGroupTree")}}})],1)]):e._e()],1),e._v(" "),n("div",{staticClass:"choose-selector-selected-container"},[n("el-input",{staticClass:"ipt",attrs:{placeholder:"快速查找",clearable:"","validate-event":!1},model:{value:e.selectedSearchValue,callback:function(t){e.selectedSearchValue=t},expression:"selectedSearchValue"}},[n("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})]),e._v(" "),n("el-button",{staticStyle:{position:"absolute",right:"0",top:"0","z-index":"1"},attrs:{type:"text"},on:{click:e.clearAll}},[e._v("全部清空")]),e._v(" "),n("div",{staticClass:"selected-box"},e._l(e.filterSelectedList,function(t,r){return n("p",{key:r,staticClass:"selected-item"},[n("span",[n("i",{class:"icon-"+t.iconSkin}),e._v(" "),n("em",{attrs:{title:t.fullOrgName}},[e._v(e._s(t.name))])]),e._v(" "),n("i",{staticClass:"icon-close-x",on:{click:function(n){return e.delItem(r,t.id)}}})])}),0)],1)],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.submitSelectedValue}},[e._v("确 定")]),e._v(" "),n("i",{staticClass:"icon-fullscreen"})],1)])],1)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";function r(e){n(27)}var o=n(8),i=n(39),a=n(0),u=r,s=a(o.a,i.a,!1,u,"data-v-c80ad504",null);t.a=s.exports},function(e,t,n){var r=n(28);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(6)("3abae8af",r,!0,{})},function(e,t,n){t=e.exports=n(5)(!1),t.push([e.i,".xc-file-up[data-v-c80ad504]{line-height:23px}.xc-file-up .upload-demo[data-v-c80ad504]{line-height:40px}.xc-file-up .file-container .file-item[data-v-c80ad504]{padding:8px}.xc-file-up .file-container .file-item img[data-v-c80ad504]{width:46px;height:46px;margin-right:8px}.xc-file-up .file-container .file-item .file-info[data-v-c80ad504]{width:280px}.xc-file-up .file-container .image-item[data-v-c80ad504]{position:relative;float:left;width:94px;height:94px;border:1px solid #eee;margin:10px 110px 10px 0}.xc-file-up .file-container .image-item[data-v-c80ad504] .el-image{width:100%;height:100%}.xc-file-up .file-container .image-item .image-info[data-v-c80ad504]{position:absolute;left:103px;bottom:0;white-space:nowrap}.xc-file-up .file-container .image-item .file-process-bar[data-v-c80ad504]{bottom:-3px}",""])},function(e,t,n){"use strict";function r(e,t){return axios({url:e,method:"get",responseType:"blob"}).then(function(e){var n=new Blob([e.data]);if("msSaveOrOpenBlob"in window.navigator)window.navigator.msSaveOrOpenBlob(n,t);else{var r=window.URL||window.webkitURL,o=r.createObjectURL(n),i=document.createElement("a");i.style.display="none",i.href=o,i.setAttribute("download",t),void 0===i.download&&i.setAttribute("target","_blank"),document.body.appendChild(i),i.click(),document.body.removeChild(i),r.revokeObjectURL(o)}})}t.a=r},function(e,t,n){"use strict";n(11),n(3)},function(e,t,n){"use strict";t.a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},function(e,t,n){"use strict";var r=n(12),o=n(33);Object(r.a)("v3",48,o.a)},function(e,t,n){"use strict";function r(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return o(a(u(e),8*e.length))}function o(e){for(var t=[],n=32*e.length,r="0123456789abcdef",o=0;o<n;o+=8){var i=e[o>>5]>>>o%32&255,a=parseInt(r.charAt(i>>>4&15)+r.charAt(15&i),16);t.push(a)}return t}function i(e){return 14+(e+64>>>9<<4)+1}function a(e,t){e[t>>5]|=128<<t%32,e[i(t)-1]=t;for(var n=1732584193,r=-271733879,o=-1732584194,a=271733878,u=0;u<e.length;u+=16){var c=n,l=r,h=o,g=a;n=f(n,r,o,a,e[u],7,-680876936),a=f(a,n,r,o,e[u+1],12,-389564586),o=f(o,a,n,r,e[u+2],17,606105819),r=f(r,o,a,n,e[u+3],22,-1044525330),n=f(n,r,o,a,e[u+4],7,-176418897),a=f(a,n,r,o,e[u+5],12,1200080426),o=f(o,a,n,r,e[u+6],17,-1473231341),r=f(r,o,a,n,e[u+7],22,-45705983),n=f(n,r,o,a,e[u+8],7,1770035416),a=f(a,n,r,o,e[u+9],12,-1958414417),o=f(o,a,n,r,e[u+10],17,-42063),r=f(r,o,a,n,e[u+11],22,-1990404162),n=f(n,r,o,a,e[u+12],7,1804603682),a=f(a,n,r,o,e[u+13],12,-40341101),o=f(o,a,n,r,e[u+14],17,-1502002290),r=f(r,o,a,n,e[u+15],22,1236535329),n=d(n,r,o,a,e[u+1],5,-165796510),a=d(a,n,r,o,e[u+6],9,-1069501632),o=d(o,a,n,r,e[u+11],14,643717713),r=d(r,o,a,n,e[u],20,-373897302),n=d(n,r,o,a,e[u+5],5,-701558691),a=d(a,n,r,o,e[u+10],9,38016083),o=d(o,a,n,r,e[u+15],14,-660478335),r=d(r,o,a,n,e[u+4],20,-405537848),n=d(n,r,o,a,e[u+9],5,568446438),a=d(a,n,r,o,e[u+14],9,-1019803690),o=d(o,a,n,r,e[u+3],14,-187363961),r=d(r,o,a,n,e[u+8],20,1163531501),n=d(n,r,o,a,e[u+13],5,-1444681467),a=d(a,n,r,o,e[u+2],9,-51403784),o=d(o,a,n,r,e[u+7],14,1735328473),r=d(r,o,a,n,e[u+12],20,-1926607734),n=p(n,r,o,a,e[u+5],4,-378558),a=p(a,n,r,o,e[u+8],11,-2022574463),o=p(o,a,n,r,e[u+11],16,1839030562),r=p(r,o,a,n,e[u+14],23,-35309556),n=p(n,r,o,a,e[u+1],4,-1530992060),a=p(a,n,r,o,e[u+4],11,1272893353),o=p(o,a,n,r,e[u+7],16,-155497632),r=p(r,o,a,n,e[u+10],23,-1094730640),n=p(n,r,o,a,e[u+13],4,681279174),a=p(a,n,r,o,e[u],11,-358537222),o=p(o,a,n,r,e[u+3],16,-722521979),r=p(r,o,a,n,e[u+6],23,76029189),n=p(n,r,o,a,e[u+9],4,-640364487),a=p(a,n,r,o,e[u+12],11,-421815835),o=p(o,a,n,r,e[u+15],16,530742520),r=p(r,o,a,n,e[u+2],23,-995338651),n=m(n,r,o,a,e[u],6,-198630844),a=m(a,n,r,o,e[u+7],10,1126891415),o=m(o,a,n,r,e[u+14],15,-1416354905),r=m(r,o,a,n,e[u+5],21,-57434055),n=m(n,r,o,a,e[u+12],6,1700485571),a=m(a,n,r,o,e[u+3],10,-1894986606),o=m(o,a,n,r,e[u+10],15,-1051523),r=m(r,o,a,n,e[u+1],21,-2054922799),n=m(n,r,o,a,e[u+8],6,1873313359),a=m(a,n,r,o,e[u+15],10,-30611744),o=m(o,a,n,r,e[u+6],15,-1560198380),r=m(r,o,a,n,e[u+13],21,1309151649),n=m(n,r,o,a,e[u+4],6,-145523070),a=m(a,n,r,o,e[u+11],10,-1120210379),o=m(o,a,n,r,e[u+2],15,718787259),r=m(r,o,a,n,e[u+9],21,-343485551),n=s(n,c),r=s(r,l),o=s(o,h),a=s(a,g)}return[n,r,o,a]}function u(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(i(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}function s(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function c(e,t){return e<<t|e>>>32-t}function l(e,t,n,r,o,i){return s(c(s(s(t,e),s(r,i)),o),n)}function f(e,t,n,r,o,i,a){return l(t&n|~t&r,e,t,o,i,a)}function d(e,t,n,r,o,i,a){return l(t&r|n&~r,e,t,o,i,a)}function p(e,t,n,r,o,i,a){return l(t^n^r,e,t,o,i,a)}function m(e,t,n,r,o,i,a){return l(n^(t|~r),e,t,o,i,a)}t.a=r},function(e,t,n){"use strict";function r(e,t,n){e=e||{};var r=e.random||(e.rng||o.a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return Object(i.a)(r)}var o=n(11),i=n(3);t.a=r},function(e,t,n){"use strict";var r=n(12),o=n(36);Object(r.a)("v5",80,o.a)},function(e,t,n){"use strict";function r(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function o(e,t){return e<<t|e>>>32-t}function i(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var i=unescape(encodeURIComponent(e));e=[];for(var a=0;a<i.length;++a)e.push(i.charCodeAt(a))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var u=e.length/4+2,s=Math.ceil(u/16),c=new Array(s),l=0;l<s;++l){for(var f=new Uint32Array(16),d=0;d<16;++d)f[d]=e[64*l+4*d]<<24|e[64*l+4*d+1]<<16|e[64*l+4*d+2]<<8|e[64*l+4*d+3];c[l]=f}c[s-1][14]=8*(e.length-1)/Math.pow(2,32),c[s-1][14]=Math.floor(c[s-1][14]),c[s-1][15]=8*(e.length-1)&4294967295;for(var p=0;p<s;++p){for(var m=new Uint32Array(80),h=0;h<16;++h)m[h]=c[p][h];for(var g=16;g<80;++g)m[g]=o(m[g-3]^m[g-8]^m[g-14]^m[g-16],1);for(var v=n[0],b=n[1],y=n[2],w=n[3],x=n[4],C=0;C<80;++C){var _=Math.floor(C/20),S=o(v,5)+r(_,b,y,w)+x+t[_]+m[C]>>>0;x=w,w=y,y=o(b,30)>>>0,b=v,v=S}n[0]=n[0]+v>>>0,n[1]=n[1]+b>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+w>>>0,n[4]=n[4]+x>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}t.a=i},function(e,t,n){"use strict"},function(e,t,n){"use strict";n(4)},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"xc-file-up"},[e.readonly?e._e():n("el-upload",e._b({staticClass:"upload-demo",attrs:{"file-list":e.fileList,action:"",accept:e.fileAccept,"show-file-list":!1,"before-upload":e.beforeUpload,"http-request":e.fileUpLoad}},"el-upload",e.$attrs,!1),[e._t("default",[n("el-button",{attrs:{type:"primary",size:"small"}},[e._v("上传"),n("i",{staticClass:"el-icon-upload el-icon--right"})])])],2),e._v(" "),e.readonly?e._e():n("em",{staticClass:"size-small"},[e._v(e._s(e.tip))]),e._v(" "),e._t("list",[n("div",{staticClass:"file-container el-row"},["file"===e.uploadType?e._l(e.fileList,function(t,r){return n("div",{key:t.id,staticClass:"file-item"},[n("img",{attrs:{src:e.publicPath+"public/file/unknown.png"}}),e._v(" "),n("div",{staticClass:"file-info"},[n("p",[n("span",{attrs:{title:t.displayName}},[e._v(e._s(t.displayName))]),e._v(" "),n("strong",[e._v(e._s(e.getFileSize(t.fileSize)))])]),e._v(" "),"ready"!==t.status?n("p",[n("a",{staticClass:"color",attrs:{href:"javascript:void(0)"},on:{click:function(n){return e.download(t)}}},[e._v("下载")]),e._v(" "),n("a",{staticClass:"color",attrs:{href:t.url}},[e._v("预览")]),e._v(" "),e.readonly?e._e():n("a",{staticClass:"color",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.delFile(r)}}},[e._v("删除")])]):e._e()]),e._v(" "),-1!==t.progress?n("span",{staticClass:"file-process-bar",style:{width:t.progress+"%"}}):e._e()])}):e._l(e.fileList,function(t,r){return n("div",{key:t.id,staticClass:"image-item"},[n("el-image",{ref:"imageBox",refInFor:!0,attrs:{src:t.url,"preview-src-list":[t.url]}}),e._v(" "),n("div",{staticClass:"image-info"},["ready"!==t.status?n("div",[n("a",{staticClass:"color",attrs:{href:"javascript:void(0)"},on:{click:function(n){return e.download(t)}}},[e._v("下载")]),e._v(" "),n("a",{staticClass:"color",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.previewImage(r)}}},[e._v("预览")]),e._v(" "),e.readonly?e._e():n("a",{staticClass:"color",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.delFile(r)}}},[e._v("删除")])]):e._e()]),e._v(" "),-1!==t.progress?n("span",{staticClass:"file-process-bar",style:{width:t.progress+"%"}}):e._e()],1)})],2)],{fileList:e.fileList})],2)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";var r=n(14),o=n(91),i=n(0),a=i(r.a,o.a,!1,null,null,null);t.a=a.exports},function(e,t,n){(function(t){!function(n){"use strict";function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function i(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}function a(e){var t={},n={},r=[],o={},i={},a=function(t,n,r){var o=e[t];return o?o=Li(o,/[, ]/,Li(o.toUpperCase(),/[, ]/)):(o=Ri[t])||(o=Li(n," ",Li(n.toUpperCase()," ")),o=Bi(o,r),Ri[t]=o),o};e=e||{};var u=Ui(e.schema);!1===e.verify_html&&(e.valid_elements="*[*]");var s=Vi(e.valid_styles),c=Vi(e.invalid_styles,"map"),l=Vi(e.valid_classes,"map"),f=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),d=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),p=a("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),m=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),h=a("non_empty_elements","td th iframe video audio object script pre code",p),g=a("move_caret_before_on_enter_elements","table",h),v=a("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),b=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",v),y=a("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");ji((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(e){i[e]=new RegExp("</"+e+"[^>]*>","gi")});var w=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},x=function(e){var n,o,i,a,u,s,c,l,f,d,p,m,h,g,v,b,y,x,C=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,_=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,S=/[*?+]/;if(e)for(e=Hi(e,","),t["@"]&&(b=t["@"].attributes,y=t["@"].attributesOrder),n=0,o=e.length;n<o;n++)if(u=C.exec(e[n])){if(g=u[1],f=u[2],v=u[3],l=u[5],m={},h=[],s={attributes:m,attributesOrder:h},"#"===g&&(s.paddEmpty=!0),"-"===g&&(s.removeEmpty=!0),"!"===u[4]&&(s.removeEmptyAttrs=!0),b&&(ht(b,function(e,t){m[t]=e}),h.push.apply(h,y)),l)for(l=Hi(l,"|"),i=0,a=l.length;i<a;i++)if(u=_.exec(l[i])){if(c={},p=u[1],d=u[2].replace(/[\\:]:/g,":"),g=u[3],x=u[4],"!"===p&&(s.attributesRequired=s.attributesRequired||[],s.attributesRequired.push(d),c.required=!0),"-"===p){delete m[d],h.splice(Fi(h,d),1);continue}g&&("="===g&&(s.attributesDefault=s.attributesDefault||[],s.attributesDefault.push({name:d,value:x}),c.defaultValue=x),":"===g&&(s.attributesForced=s.attributesForced||[],s.attributesForced.push({name:d,value:x}),c.forcedValue=x),"<"===g&&(c.validValues=Li(x,"?"))),S.test(d)?(s.attributePatterns=s.attributePatterns||[],c.pattern=w(d),s.attributePatterns.push(c)):(m[d]||h.push(d),m[d]=c)}b||"@"!==f||(b=m,y=h),v&&(s.outputName=f,t[v]=s),S.test(f)?(s.pattern=w(f),r.push(s)):t[f]=s}},C=function(e){t={},r=[],x(e),ji(u,function(e,t){n[t]=e.children})},_=function(e){var r=/^(~)?(.+)$/;e&&(Ri.text_block_elements=Ri.block_elements=null,ji(Hi(e,","),function(e){var i=r.exec(e),a="~"===i[1],u=a?"span":"div",s=i[2];if(n[s]=n[u],o[s]=u,a||(b[s.toUpperCase()]={},b[s]={}),!t[s]){var c=t[u];c=Bi({},c),delete c.removeEmptyAttrs,delete c.removeEmpty,t[s]=c}ji(n,function(e,t){e[u]&&(n[t]=e=Bi({},n[t]),e[s]=e[u])})}))},S=function(t){var r=/^([+\-]?)([A-Za-z0-9_\-\.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)\]$/;Ri[e.schema]=null,t&&ji(Hi(t,","),function(e){var t,o,i=r.exec(e);i&&(o=i[1],t=o?n[i[2]]:n[i[2]]={"#comment":{}},t=n[i[2]],ji(Hi(i[3],"|"),function(e){"-"===o?delete t[e]:t[e]={}}))})},k=function(e){var n,o=t[e];if(o)return o;for(n=r.length;n--;)if(o=r[n],o.pattern.test(e))return o};e.valid_elements?C(e.valid_elements):(ji(u,function(e,r){t[r]={attributes:e.attributes,attributesOrder:e.attributesOrder},n[r]=e.children}),"html5"!==e.schema&&ji(Hi("strong/b em/i"),function(e){e=Hi(e,"/"),t[e[1]].outputName=e[0]}),ji(Hi("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){t[e]&&(t[e].removeEmpty=!0)}),ji(Hi("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){t[e].paddEmpty=!0}),ji(Hi("span"),function(e){t[e].removeEmptyAttrs=!0})),_(e.custom_elements),S(e.valid_children),x(e.extended_valid_elements),S("+ol[ul|ol],+ul[ul|ol]"),ji({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,n){t[n]&&(t[n].parentsRequired=Hi(e))}),e.invalid_elements&&ji(zi(e.invalid_elements),function(e){t[e]&&delete t[e]}),k("span")||x("span[!data-mce-type|*]");var T=function(){return s},E=function(){return c},O=function(){return l},N=function(){return m},A=function(){return b},D=function(){return v},M=function(){return y};return{children:n,elements:t,getValidStyles:T,getValidClasses:O,getBlockElements:A,getInvalidStyles:E,getShortEndedElements:function(){return p},getTextBlockElements:D,getTextInlineElements:M,getBoolAttrs:N,getElementRule:k,getSelfClosingElements:function(){return d},getNonEmptyElements:function(){return h},getMoveCaretBeforeOnEnterElements:function(){return g},getWhiteSpaceElements:function(){return f},getSpecialElements:function(){return i},isValidChild:function(e,t){var r=n[e.toLowerCase()];return!(!r||!r[t.toLowerCase()])},isValid:function(e,t){var n,r,o=k(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},getCustomElements:function(){return o},addValidElements:x,setValidElements:C,addCustomElements:_,addValidChildren:S}}function u(){function e(n,r){return t.push(n+" ")>F.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function s(e){return e[aa]=!0,e}function c(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||ha)-(~e.sourceIndex||ha);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function f(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function d(e){return s(function(t){return t=+t,s(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function p(e){return e&&typeof e.getElementsByTagName!==ma&&e}function m(){}function h(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function g(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=ca++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var u,s,c=[sa,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if(s=t[aa]||(t[aa]={}),(u=s[r])&&u[0]===sa&&u[1]===i)return c[2]=u[2];if(s[r]=c,c[2]=e(t,n,a))return!0}}}function v(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function b(e,t,n){for(var r=0,o=t.length;r<o;r++)Ua(e,t[r],n);return n}function y(e,t,n,r,o){for(var i,a=[],u=0,s=e.length,c=null!=t;u<s;u++)(i=e[u])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(u)));return a}function w(e,t,n,r,o,i){return r&&!r[aa]&&(r=w(r)),o&&!o[aa]&&(o=w(o,i)),s(function(i,a,u,s){var c,l,f,d=[],p=[],m=a.length,h=i||b(t||"*",u.nodeType?[u]:u,[]),g=!e||!i&&t?h:y(h,d,e,u,s),v=n?o||(i?e:m||r)?[]:a:g;if(n&&n(g,v,u,s),r)for(c=y(v,p),r(c,[],u,s),l=c.length;l--;)(f=c[l])&&(v[p[l]]=!(g[p[l]]=f));if(i){if(o||e){if(o){for(c=[],l=v.length;l--;)(f=v[l])&&c.push(g[l]=f);o(null,v=[],c,s)}for(l=v.length;l--;)(f=v[l])&&(c=o?Ca.call(i,f):d[l])>-1&&(i[c]=!(a[c]=f))}}else v=y(v===a?v.splice(m,v.length):v),o?o(null,a,v,s):wa.apply(a,v)})}function x(e){for(var t,n,r,o=e.length,i=F.relative[e[0].type],a=i||F.relative[" "],u=i?1:0,s=g(function(e){return e===t},a,!0),c=g(function(e){return Ca.call(t,e)>-1},a,!0),l=[function(e,n,r){return!i&&(r||n!==$)||((t=n).nodeType?s(e,n,r):c(e,n,r))}];u<o;u++)if(n=F.relative[e[u].type])l=[g(v(l),n)];else{if(n=F.filter[e[u].type].apply(null,e[u].matches),n[aa]){for(r=++u;r<o&&!F.relative[e[r].type];r++);return w(u>1&&v(l),u>1&&h(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(Ea,"$1"),n,u<r&&x(e.slice(u,r)),r<o&&x(e=e.slice(r)),r<o&&h(e))}l.push(n)}return v(l)}function C(e,t){var n=t.length>0,r=e.length>0,o=function(o,i,a,u,s){var c,l,f,d=0,p="0",m=o&&[],h=[],g=$,v=o||r&&F.find.TAG("*",s),b=sa+=null==g?1:Math.random()||.1,w=v.length;for(s&&($=i!==Y&&i);p!==w&&null!=(c=v[p]);p++){if(r&&c){for(l=0;f=e[l++];)if(f(c,i,a)){u.push(c);break}s&&(sa=b)}n&&((c=!f&&c)&&d--,o&&m.push(c))}if(d+=p,n&&p!==d){for(l=0;f=t[l++];)f(m,h,i,a);if(o){if(d>0)for(;p--;)m[p]||h[p]||(h[p]=ba.call(u));h=y(h)}wa.apply(u,h),s&&!o&&h.length>0&&d+t.length>1&&Ua.uniqueSort(u)}return s&&(sa=b,$=g),m};return n?s(o):o}function _(e,t){void 0===t&&(t={});var r=0,o={},i=Wn.fromDom(e),a=pr(i),u=t.maxLoadTime||5e3,s=function(e){t.referrerPolicy=e},c=function(e){jr(Dr(i),e)},l=function(i,s,l){var f,d,p,m=function(e){p.status=e,p.passed=[],p.failed=[],f&&(f.onload=null,f.onerror=null,f=null)},h=function(){for(var e=p.passed,t=e.length;t--;)e[t]();m(2)},g=function(){for(var e=p.failed,t=e.length;t--;)e[t]();m(3)},v=function(e,t){e()||((new Date).getTime()-w<u?Xu.setTimeout(t):g())},b=function(){v(function(){for(var t,n,r=e.styleSheets,o=r.length;o--;)if(t=r[o],(n=t.ownerNode?t.ownerNode:t.owningElement)&&n.id===f.id)return h(),!0},b)},y=function(){v(function(){try{var e=d.sheet.cssRules;return h(),!!e}catch(e){}},y)};if(i=zn._addCacheSuffix(i),o[i]?p=o[i]:(p={passed:[],failed:[]},o[i]=p),s&&p.passed.push(s),l&&p.failed.push(l),1!==p.status){if(2===p.status)return void h();if(3===p.status)return void g();p.status=1,f=a.dom().createElement("link"),f.rel="stylesheet",f.type="text/css",f.id="u"+r++,f.async=!1,f.defer=!1;var w=(new Date).getTime();if(t.contentCssCors&&(f.crossOrigin="anonymous"),t.referrerPolicy&&So(Wn.fromDom(f),"referrerpolicy",t.referrerPolicy),"onload"in f&&!function(){var e=n.navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&&parseInt(e[1],10)<536)}())f.onload=b,f.onerror=g;else{if(n.navigator.userAgent.indexOf("Firefox")>0)return d=a.dom().createElement("style"),d.textContent='@import "'+i+'"',y(),void c(Wn.fromDom(d));b()}c(Wn.fromDom(f)),f.href=i}},f=function(e){return Du.nu(function(t){l(e,he(t,ve(ju.value(e))),he(t,ve(ju.error(e))))})};return{load:l,loadAll:function(e,t,n){Iu(Ge(e,f)).get(function(e){var r=Ye(e,function(e){return e.isValue()});r.fail.length>0?n(r.fail.map(Fu)):t(r.pass.map(Fu))})},_setReferrerPolicy:s}}function S(e,t){var r=this;void 0===t&&(t={});var o={},i=n.window,u={},s=0,c=Ku.forElement(Wn.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),l=[],f=t.schema?t.schema:a({}),d=Gi({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),p=t.ownEvents?new ia:ia.Event,m=f.getBlockElements(),h=bu.overrideDefaults(function(){return{context:e,element:Ee.getRoot()}}),g=function(e){if("string"==typeof e)return!!m[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!m[e.nodeName])}return!1},v=function(t){return t&&e&&Me(t)?e.getElementById(t):t},b=function(e){return h("string"==typeof e?v(e):e)},y=function(e,t,n){var r,o,i=b(e);return i.length&&(r=Oe[t],o=r&&r.get?r.get(i,t):i.attr(t)),void 0===o&&(o=n||""),o},w=function(e){var t=v(e);return t?t.attributes:[]},x=function(e,n,r){""===r&&(r=null);var o=b(e),i=o.attr(n);if(o.length){var a=Oe[n];a&&a.set?a.set(o,r,n):o.attr(n,r),i!==r&&t.onSetAttrib&&t.onSetAttrib({attrElm:o,attrName:n,attrValue:r})}},C=function(t,n){if(!Qu||1!==t.nodeType||n)return t.cloneNode(n);var r=e.createElement(t.nodeName);return Yu(w(t),function(e){x(r,e.nodeName,y(t,e.nodeName))}),r},_=function(){return t.root_element||e.body},k=function(e){var t=no(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},T=function(t,n){return Uo(e.body,v(t),n)},E=function(e,n,r){var o=Me(n)?b(e).css(n,r):b(e).css(n);t.update_styles&&ts(d,o)},O=function(e,n){var r=b(e).css(n);t.update_styles&&ts(d,r)},N=function(e,t,n){var r=b(e);return n?r.css(t):(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"float"===t&&(t=Tn.browser.isIE()?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[t]:void 0)},A=function(e){var t,n;return e=v(e),t=N(e,"width"),n=N(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},D=function(e){e=v(e);var t=T(e),n=A(e);return{x:t.x,y:t.y,w:n.w,h:n.h}},M=function(e,t){var n;if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(Zu.test(t)){var r=t.toLowerCase().split(/,/),o=e.nodeName.toLowerCase();for(n=r.length-1;n>=0;n--)if(r[n]===o)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var i=Array.isArray(e)?e:[e];return Ua(t,i[0].ownerDocument||i[0],null,i).length>0},I=function(e,t,n,r){var o,i=[],a=v(e);for(r=void 0===r,n=n||("BODY"!==_().nodeName?_().parentNode:null),zn.is(t,"string")&&(o=t,t="*"===t?function(e){return 1===e.nodeType}:function(e){return M(e,o)});a&&a!==n&&a.nodeType&&9!==a.nodeType;){if(!t||"function"==typeof t&&t(a)){if(!r)return[a];i.push(a)}a=a.parentNode}return r?i:null},R=function(e,t,n){var r=I(e,t,n,!1);return r&&r.length>0?r[0]:null},P=function(e,t,n){var r=t;if(e)for("string"==typeof t&&(r=function(e){return M(e,t)}),e=e[n];e;e=e[n])if("function"==typeof r&&r(e))return e;return null},L=function(e,t){return P(e,t,"nextSibling")},j=function(e,t){return P(e,t,"previousSibling")},B=function(n,r){return Ua(n,v(r)||t.root_element||e,[])},z=function(e,t,n){var o,i="string"==typeof e?v(e):e;if(!i)return!1;if(zn.isArray(i)&&(i.length||0===i.length))return o=[],Yu(i,function(e,r){e&&("string"==typeof e&&(e=v(e)),o.push(t.call(n,e,r)))}),o;var a=n||r;return t.call(a,i)},F=function(e,t){b(e).each(function(e,n){Yu(t,function(e,t){x(n,t,e)})})},H=function(e,t){var n=b(e);Qu?n.each(function(e,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(e){bu("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}}):n.html(t)},U=function(t,n,r,o,i){return z(t,function(t){var a="string"==typeof n?e.createElement(n):n;return F(a,r),o&&("string"!=typeof o&&o.nodeType?a.appendChild(o):"string"==typeof o&&H(a,o)),i?a:t.appendChild(a)})},V=function(t,n,r){return U(e.createElement(t),t,n,r,!0)},q=Ii.decode,W=Ii.encodeAllRaw,$=function(e,t,n){var r,o="";o+="<"+e;for(r in t)t.hasOwnProperty(r)&&null!==t[r]&&void 0!==t[r]&&(o+=" "+r+'="'+W(t[r])+'"');return void 0!==n?o+">"+n+"</"+e+">":o+" />"},G=function(t){var n,r=e.createElement("div"),o=e.createDocumentFragment();for(o.appendChild(r),t&&(r.innerHTML=t);n=r.firstChild;)o.appendChild(n);return o.removeChild(r),o},X=function(e,t){var n=b(e);return t?n.each(function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():n.remove(),n.length>1?n.toArray():n[0]},K=function(e){return z(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},Y=function(e){return d.parse(e)},J=function(e,t){return d.serialize(e,t)},Q=function(t){var r,i;if(Ee!==S.DOM&&e===n.document){if(o[t])return;o[t]=!0}i=e.getElementById("mceDefaultStyles"),i||(i=e.createElement("style"),i.id="mceDefaultStyles",i.type="text/css",r=e.getElementsByTagName("head")[0],r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i)),i.styleSheet?i.styleSheet.cssText+=t:i.appendChild(e.createTextNode(t))},Z=function(r){if(Ee!==S.DOM&&e===n.document)return void S.DOM.loadCSS(r);r||(r="");var o=e.getElementsByTagName("head")[0];Yu(r.split(","),function(e){if(e=zn._addCacheSuffix(e),!u[e]){u[e]=!0;var n=V("link",Lt(Lt({rel:"stylesheet",type:"text/css",href:e},t.contentCssCors?{crossOrigin:"anonymous"}:{}),t.referrerPolicy?{referrerPolicy:t.referrerPolicy}:{}));o.appendChild(n)}})},ee=function(e,t,n){b(e).toggleClass(t,n).each(function(){""===this.className&&bu(this).attr("class",null)})},te=function(e,t){b(e).addClass(t)},ne=function(e,t){ee(e,t,!1)},re=function(e,t){return b(e).hasClass(t)},oe=function(e){b(e).show()},ie=function(e){b(e).hide()},ae=function(e){return"none"===b(e).css("display")},ue=function(e){return(e||"mce_")+s++},se=function(e){var t="string"==typeof e?v(e):e;return io(t)?t.outerHTML:bu("<div></div>").append(bu(t).clone()).html()},ce=function(e,t){b(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}X(bu(this).html(t),!0)})},le=function(e,t){var n=v(t);return z(e,function(e){var t=n.parentNode,r=n.nextSibling;return r?t.insertBefore(e,r):t.appendChild(e),e})},fe=function(e,t,n){return z(t,function(t){return zn.is(t,"array")&&(e=e.cloneNode(!0)),n&&Yu(Ju(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},de=function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=V(t),Yu(w(e),function(t){x(n,t.nodeName,y(e,t.nodeName))}),fe(n,e,!0)),n||e},pe=function(e,t){for(var n,r=e;r;){for(n=t;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},me=function(e){return d.toHex(zn.trim(e))},he=function(e){if(io(e)){var t="a"===e.nodeName.toLowerCase()&&!y(e,"href")&&y(e,"id");if(y(e,"name")||y(e,"data-mce-bookmark")||t)return!0}return!1},ge=function(e,t){var n,r,o=0;if(he(e))return!1;if(e=e.firstChild){var i=new yu(e,e.parentNode),a=f?f.getWhiteSpaceElements():{};t=t||(f?f.getNonEmptyElements():null);do{if(n=e.nodeType,io(e)){var u=e.getAttribute("data-mce-bogus");if(u){e=i.next("all"===u);continue}if(r=e.nodeName.toLowerCase(),t&&t[r]){if("br"===r){o++,e=i.next();continue}return!1}if(he(e))return!1}if(8===n)return!1;if(3===n&&!di(e.nodeValue))return!1;if(3===n&&e.parentNode&&a[e.parentNode.nodeName]&&di(e.nodeValue))return!1;e=i.next()}while(e)}return o<=1},ve=function(){return e.createRange()},be=function(e,t,n){var r,o,i,a=ve();if(e&&t)return a.setStart(e.parentNode,ns(e)),a.setEnd(t.parentNode,ns(t)),r=a.extractContents(),a=ve(),a.setStart(t.parentNode,ns(t)+1),a.setEnd(e.parentNode,ns(e)+1),o=a.extractContents(),i=e.parentNode,i.insertBefore(hi(Ee,r),e),n?i.insertBefore(n,e):i.insertBefore(t,e),i.insertBefore(hi(Ee,o),e),X(e),n||t},ye=function(n,r,o,a){if(zn.isArray(n)){for(var u=n.length,s=[];u--;)s[u]=ye(n[u],r,o,a);return s}return!t.collect||n!==e&&n!==i||l.push([n,r,o,a]),p.bind(n,r,o,a||Ee)},we=function(t,n,r){var o;if(zn.isArray(t)){o=t.length;for(var a=[];o--;)a[o]=we(t[o],n,r);return a}if(l.length>0&&(t===e||t===i))for(o=l.length;o--;){var u=l[o];t!==u[0]||n&&n!==u[1]||r&&r!==u[2]||p.unbind(u[0],u[1],u[2])}return p.unbind(t,n,r)},xe=function(e,t,n){return p.fire(e,t,n)},Ce=function(e){if(e&&io(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},_e=function(e){for(var t=_(),n=null;e&&e!==t&&null===(n=Ce(e));e=e.parentNode);return n},Se=function(){if(l.length>0)for(var e=l.length;e--;){var t=l[e];p.unbind(t[0],t[1],t[2])}Ua.setDocument&&Ua.setDocument()},ke=function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},Te=function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},Ee={doc:e,settings:t,win:i,files:u,stdMode:!0,boxModel:!0,styleSheetLoader:c,boundEvents:l,styles:d,schema:f,events:p,isBlock:g,$:h,$$:b,root:null,clone:C,getRoot:_,getViewPort:k,getRect:D,getSize:A,getParent:R,getParents:I,get:v,getNext:L,getPrev:j,select:B,is:M,add:U,create:V,createHTML:$,createFragment:G,remove:X,setStyle:E,getStyle:N,setStyles:O,removeAllAttribs:K,setAttrib:x,setAttribs:F,getAttrib:y,getPos:T,parseStyle:Y,serializeStyle:J,addStyle:Q,loadCSS:Z,addClass:te,removeClass:ne,hasClass:re,toggleClass:ee,show:oe,hide:ie,isHidden:ae,uniqueId:ue,setHTML:H,getOuterHTML:se,setOuterHTML:ce,decode:q,encode:W,insertAfter:le,replace:fe,rename:de,findCommonAncestor:pe,toHex:me,run:z,getAttribs:w,isEmpty:ge,createRng:ve,nodeIndex:ns,split:be,bind:ye,unbind:we,fire:xe,getContentEditable:Ce,getContentEditableParent:_e,destroy:Se,isChildOf:ke,dumpRng:Te},Oe=es(d,t,function(){return Ee});return Ee}function k(){var e=this,t=[],n={},r={},o=[],i=function(e,t){var n=Je(o,function(n){return n.name===e&&n.state===t});Xe(n,function(e){return e.callback()})},a=function(e){if(r[e])return r[e].instance},u=function(e){var t;return r[e]&&(t=r[e].dependencies),t||[]},s=function(e,t){!1!==k.languageLoad&&h(e,function(){var r=xs.getCode(),o=","+(t||"")+",";!r||t&&-1===o.indexOf(","+r+",")||us.ScriptLoader.add(n[e]+"/langs/"+r+".js")},"loaded")},c=function(e,n,o){var a=n;return t.push(a),r[e]={instance:a,dependencies:o},i(e,"added"),a},l=function(e){delete n[e],delete r[e]},f=function(e,t){return"object"==typeof t?t:"string"==typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},d=function(t,n){var r=e.urls[t];Xe(n,function(e){us.ScriptLoader.add(r+"/"+e)})},p=function(e,t,n,r){var o=u(e);Xe(o,function(e){var n=f(t,e);m(n.resource,n,void 0,void 0)}),n&&(r?n.call(r):n.call(us))},m=function(e,t,o,a,u){if(!n[e]){var s="string"==typeof t?t:t.prefix+t.resource+t.suffix;0!==s.indexOf("/")&&-1===s.indexOf("://")&&(s=k.baseURL+"/"+s),n[e]=s.substring(0,s.lastIndexOf("/"));var c=function(){i(e,"loaded"),p(e,t,o,a)};r[e]?c():us.ScriptLoader.add(s,c,a,u)}},h=function(e,t,i){void 0===i&&(i="added"),kt(r,e)&&"added"===i?t():kt(n,e)&&"loaded"===i?t():o.push({name:e,state:i,callback:t})};return{items:t,urls:n,lookup:r,_listeners:o,get:a,dependencies:u,requireLangPack:s,add:c,remove:l,createUrl:f,addComponents:d,load:m,waitFor:h}}function T(e,t,n,r,o){return e(n,r)?Ee.some(n):Be(o)&&o(n)?Ee.none():t(n,r,o)}function E(e,t,n){var r=function(){return pl(e),0===t},o=function(){return pl(e)?t>=e.data.length:t>=e.childNodes.length},i=function(){var n=vl(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},a=function(){return n||(n=Tl(E(e,t))),n},u=function(){return a().length>0},s=function(n){return n&&e===n.container()&&t===n.offset()},c=function(n){return gl(e,n?t-1:t)};return{container:ve(e),offset:ve(t),toRange:i,getClientRects:a,isVisible:u,isAtStart:r,isAtEnd:o,isEqual:s,getNode:c}}function O(e,t){void 0===t&&(t=a());var n=function(){};e=e||{},!1!==e.fix_self_closing&&(e.fix_self_closing=!0);var r=e.comment?e.comment:n,o=e.cdata?e.cdata:n,i=e.text?e.text:n,u=e.start?e.start:n,s=e.end?e.end:n,c=e.pi?e.pi:n,l=e.doctype?e.doctype:n,f=function(n,a){void 0===a&&(a="html");for(var f,d,p,m,h,g,v,b,y,w,x,C,_,S,k,T,E,O,N,A,D=n.html,M=0,I=[],R=0,P=Ii.decode,L=zn.makeMap("src,href,data,background,formaction,poster,xlink:href"),j=/((java|vb)script|mhtml):/i,B="html"===a?0:1,z=function(e){var t,n;for(t=I.length;t--&&I[t].name!==e;);if(t>=0){for(n=I.length-1;n>=t;n--)e=I[n],e.valid&&s(e.name);I.length=t}},F=function(e,t){return i(_h(e,n),t)},H=function(t){""!==t&&(">"===t.charAt(0)&&(t=" "+t),e.allow_conditional_comments||"[if"!==t.substr(0,3).toLowerCase()||(t=" "+t),r(_h(t,n)))},U=function(e){return St(n.uris,e).getOr(e)},V=function(e,t){var n=e||"",r=!nn(n,"--"),o=Nh(D,r,t);return e=D.substr(t,o-t),H(r?n+e:e),o+1},q=(function(t,n,r,o,i){var a,u,s=/[\s\u0000-\u001F]+/g;if(n=n.toLowerCase(),r=U(n in K?n:P(r||o||i||"")),Y&&!b&&!1===kh(n)){if(!(a=S[n])&&k){for(u=k.length;u--&&(a=k[u],!a.pattern.test(n)););-1===u&&(a=null)}if(!a)return;if(a.validValues&&!(r in a.validValues))return}if(L[n]&&!e.allow_script_urls){var c=r.replace(s,"");try{c=decodeURIComponent(c)}catch(e){c=unescape(c)}if(j.test(c))return;if(Th(e,c))return}b&&(n in L||0===n.indexOf("on"))||(m.map[n]=r,m.push({name:n,value:r}))}),W=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),$=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,G=t.getShortEndedElements(),X=e.self_closing_elements||t.getSelfClosingElements(),K=t.getBoolAttrs(),Y=e.validate,J=e.remove_internals,Q=e.fix_self_closing,Z=t.getSpecialElements(),ee=D+">";f=W.exec(ee);){var te=f[0];if(M<f.index&&F(P(D.substr(M,f.index-M))),d=f[7])d=d.toLowerCase(),":"===d.charAt(0)&&(d=d.substr(1)),z(d);else if(d=f[8]){if(f.index+te.length>D.length){F(P(D.substr(f.index))),M=f.index+te.length;continue}d=d.toLowerCase(),":"===d.charAt(0)&&(d=d.substr(1)),y=d in G,Q&&X[d]&&I.length>0&&I[I.length-1].name===d&&z(d);var ne=Ah($,f[9]);if(null!==ne){if("all"===ne){M=Eh(t,D,W.lastIndex),W.lastIndex=M;continue}x=!1}if(!Y||(w=t.getElementRule(d))){if(x=!0,Y&&(S=w.attributes,k=w.attributePatterns),(_=f[9])?(b=-1!==_.indexOf("data-mce-type"),b&&J&&(x=!1),m=[],m.map={},_.replace($,q)):(m=[],m.map={}),Y&&!b){if(T=w.attributesRequired,E=w.attributesDefault,O=w.attributesForced,N=w.removeEmptyAttrs,N&&!m.length&&(x=!1),O)for(h=O.length;h--;)C=O[h],v=C.name,A=C.value,"{$uid}"===A&&(A="mce_"+R++),m.map[v]=A,m.push({name:v,value:A});if(E)for(h=E.length;h--;)C=E[h],(v=C.name)in m.map||(A=C.value,"{$uid}"===A&&(A="mce_"+R++),m.map[v]=A,m.push({name:v,value:A}));if(T){for(h=T.length;h--&&!(T[h]in m.map););-1===h&&(x=!1)}if(C=m.map["data-mce-bogus"]){if("all"===C){M=Eh(t,D,W.lastIndex),W.lastIndex=M;continue}x=!1}}x&&u(d,m,y)}else x=!1;if(p=Z[d]){p.lastIndex=M=f.index+te.length,(f=p.exec(D))?(x&&(g=D.substr(M,f.index-M)),M=f.index+f[0].length):(g=D.substr(M),M=D.length),x&&(g.length>0&&F(g,!0),s(d)),W.lastIndex=M;continue}y||(_&&_.indexOf("/")===_.length-1?x&&s(d):I.push({name:d,valid:x}))}else if(d=f[1])H(d);else if(d=f[2]){var re=1===B||e.preserve_cdata||I.length>0&&t.isValidChild(I[I.length-1].name,"#cdata");if(!re){M=V("",f.index+2),W.lastIndex=M;continue}o(d)}else if(d=f[3])l(d);else{if((d=f[4])||"<!"===te){M=V(d,f.index+te.length),W.lastIndex=M;continue}if(d=f[5]){if(1!==B){M=V("?",f.index+2),W.lastIndex=M;continue}c(d,f[6])}}M=f.index+te.length}for(M<D.length&&F(P(D.substr(M))),h=I.length-1;h>=0;h--)d=I[h],d.valid&&s(d.name)};return{parse:function(e,t){void 0===t&&(t="html"),f(Ch(e),t)}}}function N(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}}function A(e){var t=[],n=function(){var t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():N()},r=function(){return Ee.from(t[0])},o=function(e,t){return!(e.type!==t.type||e.text!==t.text||e.progressBar||e.timeout||t.progressBar||t.timeout)},i=function(){t.length>0&&n().reposition(t)},a=function(e){t.push(e)},u=function(e){nt(t,function(t){return t===e}).each(function(e){t.splice(e,1)})},s=function(s){if(!e.removed&&iS(e))return tt(t,function(e){return o(n().getArgs(e),s)}).getOrThunk(function(){e.editorManager.setActive(e);var t=n().open(s,function(){u(t),i(),r().fold(function(){return e.focus()},function(e){return bb(Wn.fromDom(e.getEl()))})});return a(t),i(),t})},c=function(){r().each(function(e){n().close(e),u(e),i()})},l=function(){return t};return function(e){e.on("SkinLoaded",function(){var t=Yf(e);t&&s({text:t,type:"warning",timeout:0})}),e.on("ResizeEditor ResizeWindow NodeChange",function(){Xu.requestAnimationFrame(i)}),e.on("remove",function(){Xe(t.slice(),function(e){n().close(e)})})}(e),{open:s,close:c,getNotifications:l}}function D(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}function M(e){return{getBookmark:r(om,e),moveToBookmark:r(im,e)}}function I(e,t){var n,r;return{selectorChangedWithUnbind:function(o,i){return n||(n={},r={},t.on("NodeChange",function(t){var o=t.element,i=e.getParents(o,null,e.getRoot()),a={};zn.each(n,function(t,n){zn.each(i,function(o){if(e.is(o,n))return r[n]||(zn.each(t,function(e){e(!0,{node:o,selector:n,parents:i})}),r[n]=t),a[n]=t,!1})}),zn.each(r,function(e,t){a[t]||(delete r[t],zn.each(e,function(e){e(!1,{node:o,selector:t,parents:i})}))})})),n[o]||(n[o]=[]),n[o].push(i),{unbind:function(){Bk(n,o,i),Bk(r,o,i)}}}}}function R(e,t){var n={};return{findAll:function(r,o){o||(o=ve(!0));var i=Je(rT(r),function(t){var n=t.src;return!!Tn.fileApi&&(!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!n||n===Tn.transparentSrc)&&(0===n.indexOf("blob:")?!e.isUploaded(n)&&o(t):0===n.indexOf("data:")&&o(t)))))}),a=Ge(i,function(e){if(void 0!==n[e.src])return new Hu(function(t){n[e.src].then(function(n){if("string"==typeof n)return n;t({image:e,blobInfo:n.blobInfo})})});var r=new Hu(function(n,r){nT(t,e,n,r)}).then(function(e){return delete n[e.image.src],e}).catch(function(t){return delete n[e.src],t});return n[e.src]=r,r});return Hu.all(a)}}}function P(e,t){var r={},o=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t},i=function(e,r,i,a){var u=new n.XMLHttpRequest;u.open("POST",t.url),u.withCredentials=t.credentials,u.upload.onprogress=function(e){a(e.loaded/e.total*100)},u.onerror=function(){i("Image upload failed due to a XHR Transport error. Code: "+u.status)},u.onload=function(){if(u.status<200||u.status>=300)return void i("HTTP Error: "+u.status);var e=JSON.parse(u.responseText);if(!e||"string"!=typeof e.location)return void i("Invalid JSON: "+u.responseText);r(o(t.basePath,e.location))};var s=new n.FormData;s.append("file",e.blob(),e.filename()),u.send(s)},a=function(){return new Hu(function(e){e([])})},u=function(e,t){return{url:t,blobInfo:e,status:!0}},s=function(e,t){return{url:"",blobInfo:e,status:!1,error:t}},c=function(e,t){zn.each(r[e],function(e){e(t)}),delete r[e]},l=function(t,n,r){return e.markPending(t.blobUri()),new Hu(function(o){var i,a,l=function(){};try{var f=function(){i&&(i.close(),a=l)},d=function(n){f(),e.markUploaded(t.blobUri(),n),c(t.blobUri(),u(t,n)),o(u(t,n))},p=function(n){f(),e.removeFailed(t.blobUri()),c(t.blobUri(),s(t,n)),o(s(t,n))};a=function(e){e<0||e>100||(i||(i=r()),i.progressBar.value(e))},n(t,d,p,a)}catch(e){o(s(t,e.message))}})},f=function(e){return e===i},d=function(e){var t=e.blobUri();return new Hu(function(e){r[t]=r[t]||[],r[t].push(e)})},p=function(n,r){return n=zn.grep(n,function(t){return!e.isUploaded(t.blobUri())}),Hu.all(zn.map(n,function(n){return e.isPending(n.blobUri())?d(n):l(n,t.handler,r)}))},m=function(e,n){return!t.url&&f(t.handler)?a():p(e,n)};return!1===Be(t.handler)&&(t.handler=i),{upload:m}}function L(){var e={},t=function(e,t){return{status:e,resultUri:t}},n=function(t){return t in e};return{hasBlobUri:n,getResultUri:function(t){var n=e[t];return n?n.resultUri:null},isPending:function(t){return!!n(t)&&1===e[t].status},isUploaded:function(t){return!!n(t)&&2===e[t].status},markPending:function(n){e[n]=t(1,null)},markUploaded:function(n,r){e[n]=t(2,r)},removeFailed:function(t){delete e[t]},destroy:function(){e={}}}}function j(e){var t={},n=function(e){return e?t[e]:t},r=function(e){return kt(t,e)},o=function(e,n){e&&("string"!=typeof e?zn.each(e,function(e,t){o(t,e)}):(Re(n)||(n=[n]),zn.each(n,function(e){void 0===e.deep&&(e.deep=!e.selector),void 0===e.split&&(e.split=!e.selector||e.inline),void 0===e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),t[e]=n))},i=function(e){return e&&t[e]&&delete t[e],t};return o(qT(e.dom)),o(ed(e)),{get:n,has:r,register:o,unregister:i}}function B(e){return{walk:function(t,n){return Um(e,t,n)},split:Hy,normalize:function(t){return _k(e,t).fold(ve(!1),function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0})}}}var z,F,H,U,V,q,W,$,G,X,K,Y,J,Q,Z,ee,te,ne,re=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},oe=function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)},ie=function(e,t){return Array.prototype.slice.call(e).sort(t)},ae=function(e,t){return ue(function(n,r){return e.eq(t(n),t(r))})},ue=function(e){return{eq:e}},se=ue(function(e,t){return e===t}),ce=se,le=function(e){return ue(function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e.eq(t[o],n[o]))return!1;return!0})},fe=function(e,t){return ae(le(e),function(e){return ie(e,t)})},de=function(e){return ue(function(t,n){var r=Object.keys(t),o=Object.keys(n);if(!fe(ce).eq(r,o))return!1;for(var i=r.length,a=0;a<i;a++){var u=r[a];if(!e.eq(t[u],n[u]))return!1}return!0})},pe=ue(function(e,t){if(e===t)return!0;var n=re(e);return n===re(t)&&(oe(n)?e===t:"array"===n?le(pe).eq(e,t):"object"===n&&de(pe).eq(e,t))}),me=function(){},he=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},ge=function(e,t){return function(n){return e(t(n))}},ve=function(e){return function(){return e}},be=function(e){return e},ye=function(e){return function(t){return!e(t)}},we=function(e){return function(){throw new Error(e)}},xe=ve(!1),Ce=ve(!0),_e=function(){return Se},Se=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:xe,isSome:xe,isNone:Ce,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:ve(null),getOrUndefined:ve(void 0),or:n,orThunk:t,map:_e,each:me,bind:_e,exists:xe,forall:Ce,filter:_e,equals:e,equals_:e,toArray:function(){return[]},toString:ve("none()")}}(),ke=function(e){var t=ve(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:Ce,isNone:xe,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return ke(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:Se},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(xe,function(t){return n(e,t)})}};return o},Te=function(e){return null===e||void 0===e?Se:ke(e)},Ee={some:ke,none:_e,from:Te},Oe=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},Ne=function(e){return function(t){return Oe(t)===e}},Ae=function(e){return function(t){return typeof t===e}},De=function(e){return function(t){return e===t}},Me=Ne("string"),Ie=Ne("object"),Re=Ne("array"),Pe=De(null),Le=Ae("boolean"),je=De(void 0),Be=Ae("function"),ze=Ae("number"),Fe=Array.prototype.slice,He=Array.prototype.indexOf,Ue=Array.prototype.push,Ve=function(e,t){return He.call(e,t)},qe=function(e,t){var n=Ve(e,t);return-1===n?Ee.none():Ee.some(n)},We=function(e,t){return Ve(e,t)>-1},$e=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1},Ge=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},Xe=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},Ke=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n)}},Ye=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}},Je=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},Qe=function(e,t,n){return Ke(e,function(e){n=t(n,e)}),n},Ze=function(e,t,n){return Xe(e,function(e){n=t(n,e)}),n},et=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return Ee.some(i);if(n(i,r))break}return Ee.none()},tt=function(e,t){return et(e,t,xe)},nt=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return Ee.some(n)}return Ee.none()},rt=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Re(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Ue.apply(t,e[n])}return t},ot=function(e,t){return rt(Ge(e,t))},it=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n))return!1}return!0},at=function(e){var t=Fe.call(e,0);return t.reverse(),t},ut=function(e,t){return Je(e,function(e){return!We(t,e)})},st=function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},ct=function(e,t){var n=Fe.call(e,0);return n.sort(t),n},lt=function(e){return 0===e.length?Ee.none():Ee.some(e[0])},ft=function(e){return 0===e.length?Ee.none():Ee.some(e[e.length-1])},dt=Be(Array.from)?Array.from:function(e){return Fe.call(e)},pt=Object.keys,mt=Object.hasOwnProperty,ht=function(e,t){for(var n=pt(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},gt=function(e,t){return vt(e,function(e,n){return{k:n,v:t(e,n)}})},vt=function(e,t){var n={};return ht(e,function(e,r){var o=t(e,r);n[o.k]=o.v}),n},bt=function(e){return function(t,n){e[n]=t}},yt=function(e,t,n,r){var o={};return ht(e,function(e,o){(t(e,o)?n:r)(e,o)}),o},wt=function(e,t){var n={},r={};return yt(e,t,bt(n),bt(r)),{t:n,f:r}},xt=function(e,t){var n={};return yt(e,t,bt(n),me),n},Ct=function(e,t){var n=[];return ht(e,function(e,r){n.push(t(e,r))}),n},_t=function(e){return Ct(e,function(e){return e})},St=function(e,t){return kt(e,t)?Ee.from(e[t]):Ee.none()},kt=function(e,t){return mt.call(e,t)},Tt=function(e,t,n){return void 0===n&&(n=pe),de(n).eq(e,t)},Et=Array.isArray,Ot=function(e){var t,n,r=e;if(!Et(e))for(r=[],t=0,n=e.length;t<n;t++)r[t]=e[t];return r},Nt=function(e,t,n){var r,o;if(!e)return 0;if(n=n||e,void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return 0}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return 0;return 1},At=function(e,t){var n=[];return Nt(e,function(r,o){n.push(t(r,o,e))}),n},Dt=function(e,t){var n=[];return Nt(e,function(r,o){t&&!t(r,o,e)||n.push(r)}),n},Mt=function(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},It=function(e,t,n,r){var o=0;for(arguments.length<3&&(n=e[0]);o<e.length;o++)n=t.call(r,n,e[o],o);return n},Rt=function(e,t,n){var r,o;for(r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1},Pt=function(e){return e[e.length-1]},Lt=function(){return Lt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Lt.apply(this,arguments)},jt=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},Bt=function(e,t){var n=jt(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return Ht(r(1),r(2))},zt=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Ft():Bt(e,n)},Ft=function(){return Ht(0,0)},Ht=function(e,t){return{major:e,minor:t}},Ut={nu:Ht,detect:zt,unknown:Ft},Vt=function(){return qt({current:void 0,version:Ut.unknown()})},qt=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r("Edge"),isChrome:r("Chrome"),isIE:r("IE"),isOpera:r("Opera"),isFirefox:r("Firefox"),isSafari:r("Safari")}},Wt={unknown:Vt,nu:qt,edge:ve("Edge"),chrome:ve("Chrome"),ie:ve("IE"),opera:ve("Opera"),firefox:ve("Firefox"),safari:ve("Safari")},$t=function(){return Gt({current:void 0,version:Ut.unknown()})},Gt=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r("Windows"),isiOS:r("iOS"),isAndroid:r("Android"),isOSX:r("OSX"),isLinux:r("Linux"),isSolaris:r("Solaris"),isFreeBSD:r("FreeBSD"),isChromeOS:r("ChromeOS")}},Xt={unknown:$t,nu:Gt,windows:ve("Windows"),ios:ve("iOS"),android:ve("Android"),linux:ve("Linux"),osx:ve("OSX"),solaris:ve("Solaris"),freebsd:ve("FreeBSD"),chromeos:ve("ChromeOS")},Kt=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,a=e.isiOS()||e.isAndroid(),u=a||r("(pointer:coarse)"),s=o||!i&&a&&r("(min-device-width:768px)"),c=i||a&&!s,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),f=!c&&!s&&!l;return{isiPad:ve(o),isiPhone:ve(i),isTablet:ve(s),isPhone:ve(c),isTouch:ve(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ve(l),isDesktop:ve(f)}},Yt=function(e,t){var n=String(t).toLowerCase();return tt(e,function(e){return e.search(n)})},Jt=function(e,t){return Yt(e,t).map(function(e){var n=Ut.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Qt=function(e,t){return Yt(e,t).map(function(e){var n=Ut.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Zt={detectBrowser:Jt,detectOs:Qt},en=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},tn=function(e,t){return-1!==e.indexOf(t)},nn=function(e,t){return en(e,t,0)},rn=function(e){return function(t){return t.replace(e,"")}},on=rn(/^\s+|\s+$/g),an=rn(/^\s+/g),un=rn(/\s+$/g),sn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,cn=function(e){return function(t){return tn(t,e)}},ln=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return tn(e,"edge/")&&tn(e,"chrome")&&tn(e,"safari")&&tn(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,sn],search:function(e){return tn(e,"chrome")&&!tn(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return tn(e,"msie")||tn(e,"trident")}},{name:"Opera",versionRegexes:[sn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:cn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:cn("firefox")},{name:"Safari",versionRegexes:[sn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(tn(e,"safari")||tn(e,"mobile/"))&&tn(e,"applewebkit")}}],fn=[{name:"Windows",search:cn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return tn(e,"iphone")||tn(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:cn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:cn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:cn("linux"),versionRegexes:[]},{name:"Solaris",search:cn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:cn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:cn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],dn={browsers:ve(ln),oses:ve(fn)},pn=function(e,t){var n=dn.browsers(),r=dn.oses(),o=Zt.detectBrowser(n,e).fold(Wt.unknown,Wt.nu),i=Zt.detectOs(r,e).fold(Xt.unknown,Xt.nu);return{browser:o,os:i,deviceType:Kt(i,o,e,t)}},mn={detect:pn},hn=function(e){return n.window.matchMedia(e).matches},gn=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}}(function(){return mn.detect(n.navigator.userAgent,hn)}),vn=function(){return gn()},bn=n.navigator.userAgent,yn=vn(),wn=yn.browser,xn=yn.os,Cn=yn.deviceType,_n=/WebKit/.test(bn)&&!wn.isEdge(),Sn="FormData"in n.window&&"FileReader"in n.window&&"URL"in n.window&&!!n.URL.createObjectURL,kn=-1!==bn.indexOf("Windows Phone"),Tn={opera:wn.isOpera(),webkit:_n,ie:!(!wn.isIE()&&!wn.isEdge())&&wn.version.major,gecko:wn.isFirefox(),mac:xn.isOSX()||xn.isiOS(),iOS:Cn.isiPad()||Cn.isiPhone(),android:xn.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:n.window.getSelection&&"Range"in n.window,documentMode:wn.isIE()?n.document.documentMode||7:10,fileApi:Sn,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!wn.isIE(),desktop:Cn.isDesktop(),windowsPhone:kn,browser:{current:wn.current,version:wn.version,isChrome:wn.isChrome,isEdge:wn.isEdge,isFirefox:wn.isFirefox,isIE:wn.isIE,isOpera:wn.isOpera,isSafari:wn.isSafari},os:{current:xn.current,version:xn.version,isAndroid:xn.isAndroid,isChromeOS:xn.isChromeOS,isFreeBSD:xn.isFreeBSD,isiOS:xn.isiOS,isLinux:xn.isLinux,isOSX:xn.isOSX,isSolaris:xn.isSolaris,isWindows:xn.isWindows},deviceType:{isDesktop:Cn.isDesktop,isiPad:Cn.isiPad,isiPhone:Cn.isiPhone,isPhone:Cn.isPhone,isTablet:Cn.isTablet,isTouch:Cn.isTouch,isWebView:Cn.isWebView}},En=/^\s*|\s*$/g,On=function(e){return null===e||void 0===e?"":(""+e).replace(En,"")},Nn=function(e,t){return t?!("array"!==t||!Et(e))||typeof e===t:void 0!==e},An=function(e,t,n){var r;for(e=e||[],t=t||",","string"==typeof e&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},Dn=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Mn=function(e,t,n){var r,o,i,a=this,u=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var s=e[3].match(/(^|\.)(\w+)$/i)[2],c=a.createNS(e[3].replace(/\.\w+$/,""),n);if(!c[s]){if("static"===e[2])return c[s]=t,void(this.onCreate&&this.onCreate(e[2],e[3],c[s]));t[s]||(t[s]=function(){},u=1),c[s]=t[s],a.extend(c[s].prototype,t),e[5]&&(r=a.resolve(e[5]).prototype,o=e[5].match(/\.(\w+)$/i)[1],i=c[s],c[s]=u?function(){return r[o].apply(this,arguments)}:function(){return this.parent=r[o],i.apply(this,arguments)},c[s].prototype[s]=c[s],a.each(r,function(e,t){c[s].prototype[t]=r[t]}),a.each(t,function(e,t){r[t]?c[s].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==s&&(c[s].prototype[t]=e)})),a.each(t.static,function(e,t){c[s][t]=e})}},In=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var o=t[r];for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];void 0!==a&&(e[i]=a)}}return e},Rn=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),Nt(e,function(e,o){if(!1===t.call(r,e,o,n))return!1;Rn(e,t,n,r)}))},Pn=function(e,t){var r,o;for(t=t||n.window,e=e.split("."),r=0;r<e.length;r++)o=e[r],t[o]||(t[o]={}),t=t[o];return t},Ln=function(e,t){var r,o;for(t=t||n.window,e=e.split("."),r=0,o=e.length;r<o&&(t=t[e[r]]);r++);return t},jn=function(e,t){return!e||Nn(e,"array")?e:At(e.split(t||","),On)},Bn=function(e){var t=Tn.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e},zn={trim:On,isArray:Et,is:Nn,toArray:Ot,makeMap:An,each:Nt,map:At,grep:Dt,inArray:Mt,hasOwn:Dn,extend:In,create:Mn,walk:Rn,createNS:Pn,resolve:Ln,explode:jn,_addCacheSuffix:Bn},Fn=function(e,t){var r=t||n.document,o=r.createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1)throw n.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Vn(o.childNodes[0])},Hn=function(e,t){var r=t||n.document,o=r.createElement(e);return Vn(o)},Un=function(e,t){var r=t||n.document,o=r.createTextNode(e);return Vn(o)},Vn=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:ve(e)}},qn=function(e,t,n){var r=e.dom();return Ee.from(r.elementFromPoint(t,n)).map(Vn)},Wn={fromHtml:Fn,fromTag:Hn,fromText:Un,fromDom:Vn,fromPoint:qn},$n=(void 0!==n.window?n.window:Function("return this;")(),function(e){return e.dom().nodeName.toLowerCase()}),Gn=function(e){return e.dom().nodeType},Xn=function(e){return function(t){return Gn(t)===e}},Kn=function(e){return 8===Gn(e)||"#comment"===$n(e)},Yn=Xn(1),Jn=Xn(3),Qn=Xn(9),Zn=Xn(11),er=function(e){var t=e.dom().head;if(null===t||void 0===t)throw new Error("Head is not available yet");return Wn.fromDom(t)},tr=function(e,t){var n=[],r=function(e){return n.push(e),t(e)},o=t(e);do{o=o.bind(r)}while(o.isSome());return n},nr=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},rr=function(e,t){return nr(e,t,n.Node.DOCUMENT_POSITION_CONTAINED_BY)},or=function(e,t){var n=e.dom();if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},ir=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},ar=function(e,t){var r=void 0===t?n.document:t.dom();return ir(r)?[]:Ge(r.querySelectorAll(e),Wn.fromDom)},ur=function(e,t){var r=void 0===t?n.document:t.dom();return ir(r)?Ee.none():Ee.from(r.querySelector(e)).map(Wn.fromDom)},sr=function(e,t){return e.dom()===t.dom()},cr=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},lr=function(e,t){return rr(e.dom(),t.dom())},fr=function(e,t){return vn().browser.isIE()?lr(e,t):cr(e,t)},dr=function(e){return Wn.fromDom(e.dom().ownerDocument)},pr=function(e){return Qn(e)?e:dr(e)},mr=function(e){return Wn.fromDom(e.dom().ownerDocument.documentElement)},hr=function(e){return Wn.fromDom(e.dom().ownerDocument.defaultView)},gr=function(e){return Ee.from(e.dom().parentNode).map(Wn.fromDom)},vr=function(e,t){for(var n=Be(t)?t:xe,r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=Wn.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},br=function(e){var t=function(t){return Je(t,function(t){return!sr(e,t)})};return gr(e).map(_r).map(t).getOr([])},yr=function(e){return Ee.from(e.dom().previousSibling).map(Wn.fromDom)},wr=function(e){return Ee.from(e.dom().nextSibling).map(Wn.fromDom)},xr=function(e){return at(tr(e,yr))},Cr=function(e){return tr(e,wr)},_r=function(e){return Ge(e.dom().childNodes,Wn.fromDom)},Sr=function(e,t){var n=e.dom().childNodes;return Ee.from(n[t]).map(Wn.fromDom)},kr=function(e){return Sr(e,0)},Tr=function(e){return Sr(e,e.dom().childNodes.length-1)},Er=function(e){return e.dom().childNodes.length},Or=function(e){return Zn(e)},Nr=Be(n.Element.prototype.attachShadow)&&Be(n.Node.prototype.getRootNode),Ar=Nr?function(e){return Wn.fromDom(e.dom().getRootNode())}:pr,Dr=function(e){return Or(e)?e:er(pr(e))},Mr=function(e){var t=Ar(e);return Or(t)?Ee.some(t):Ee.none()},Ir=function(e){return Wn.fromDom(e.dom().host)},Rr=function(e,t){gr(e).each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},Pr=function(e,t){wr(e).fold(function(){gr(e).each(function(e){jr(e,t)})},function(e){Rr(e,t)})},Lr=function(e,t){kr(e).fold(function(){jr(e,t)},function(n){e.dom().insertBefore(t.dom(),n.dom())})},jr=function(e,t){e.dom().appendChild(t.dom())},Br=function(e,t){Rr(e,t),jr(t,e)},zr=function(e,t){Xe(t,function(t){Rr(e,t)})},Fr=function(e,t){Xe(t,function(t){jr(e,t)})},Hr=function(e){e.dom().textContent="",Xe(_r(e),function(e){Ur(e)})},Ur=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},Vr=function(e){var t=_r(e);t.length>0&&zr(e,t),Ur(e)},qr=function(e){var t=Jn(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&null!==t.ownerDocument&&Mr(Wn.fromDom(t)).fold(function(){return t.ownerDocument.body.contains(t)},ge(qr,Ir))},Wr=function(e,t){var n=function(n,r){return Wr(e+n,t+r)};return{left:ve(e),top:ve(t),translate:n}},$r=Wr,Gr=function(e){var t=e.getBoundingClientRect();return $r(t.left,t.top)},Xr=function(e,t){return void 0!==e?e:void 0!==t?t:0},Kr=function(e){var t=e.dom().ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom())return $r(n.offsetLeft,n.offsetTop);var i=Xr(r.pageYOffset,o.scrollTop),a=Xr(r.pageXOffset,o.scrollLeft),u=Xr(o.clientTop,n.clientTop),s=Xr(o.clientLeft,n.clientLeft);return Yr(e).translate(a-s,i-u)},Yr=function(e){var t=e.dom(),n=t.ownerDocument,r=n.body;return r===t?$r(r.offsetLeft,r.offsetTop):qr(e)?Gr(t):$r(0,0)},Jr=function(e){var t=void 0!==e?e.dom():n.document,r=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return $r(r,o)},Qr=function(e,t,r){(void 0!==r?r.dom():n.document).defaultView.scrollTo(e,t)},Zr=function(e,t){vn().browser.isSafari()&&Be(e.dom().scrollIntoViewIfNeeded)?e.dom().scrollIntoViewIfNeeded(!1):e.dom().scrollIntoView(t)},eo=function(e){var t=void 0===e?n.window:e;return Ee.from(t.visualViewport)},to=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},no=function(e){var t=void 0===e?n.window:e,r=t.document,o=Jr(Wn.fromDom(r));return eo(t).fold(function(){var e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return to(o.left(),o.top(),n,r)},function(e){return to(Math.max(e.pageLeft,o.left()),Math.max(e.pageTop,o.top()),e.width,e.height)})},ro=function(e){return function(t){return!!t&&t.nodeType===e}},oo=function(e){return!!e&&!Object.getPrototypeOf(e)},io=ro(1),ao=function(e){var t=e.map(function(e){return e.toLowerCase()});return function(e){if(e&&e.nodeName){var n=e.nodeName.toLowerCase();return We(t,n)}return!1}},uo=function(e,t){var n=t.toLowerCase().split(" ");return function(t){var r;if(io(t))for(r=0;r<n.length;r++){var o=t.ownerDocument.defaultView.getComputedStyle(t,null);if((o?o.getPropertyValue(e):null)===n[r])return!0}return!1}},so=function(e){return function(t){return io(t)&&t.hasAttribute(e)}},co=function(e){return io(e)&&e.hasAttribute("data-mce-bogus")},lo=function(e){return io(e)&&"all"===e.getAttribute("data-mce-bogus")},fo=function(e){return io(e)&&"TABLE"===e.tagName},po=function(e){return function(t){if(io(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},mo=ao(["textarea","input"]),ho=ro(3),go=ro(8),vo=ro(9),bo=ro(11),yo=ao(["br"]),wo=po("true"),xo=po("false"),Co=function(e){return void 0!==e.style&&Be(e.style.getPropertyValue)},_o=function(e,t,r){if(!(Me(r)||Le(r)||ze(r)))throw n.console.error("Invalid call to Attr.set. Key ",t,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,r+"")},So=function(e,t,n){_o(e.dom(),t,n)},ko=function(e,t){var n=e.dom();ht(t,function(e,t){_o(n,t,e)})},To=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},Eo=function(e,t){return Ee.from(To(e,t))},Oo=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},No=function(e,t){e.dom().removeAttribute(t)},Ao=function(e){return Ze(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},Do=function(e,t,r){if(!Me(r))throw n.console.error("Invalid call to CSS.set. Property ",t,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);Co(e)&&e.style.setProperty(t,r)},Mo=function(e,t){var n=e.dom();ht(t,function(e,t){Do(n,t,e)})},Io=function(e,t){var r=e.dom(),o=n.window.getComputedStyle(r),i=o.getPropertyValue(t);return""!==i||qr(e)?i:Ro(r,t)},Ro=function(e,t){return Co(e)?e.style.getPropertyValue(t):""},Po=function(e,t){var n=e.dom(),r=Ro(n,t);return Ee.from(r).filter(function(e){return e.length>0})},Lo=function(e){var t={},n=e.dom();if(Co(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t},jo=function(e){return e.dom().offsetWidth},Bo=vn().browser,zo=function(e){return tt(e,Yn)},Fo=function(e){return Bo.isFirefox()&&"table"===$n(e)?zo(_r(e)).filter(function(e){return"caption"===$n(e)}).bind(function(e){return zo(Cr(e)).map(function(t){var n=t.dom().offsetTop,r=e.dom().offsetTop,o=e.dom().offsetHeight;return n<=r?-o:0})}).getOr(0):0},Ho=function(e,t){return e.children&&We(e.children,t)},Uo=function(e,t,n){var r,o,i=0,a=0,u=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===Io(Wn.fromDom(e),"position"))return o=t.getBoundingClientRect(),i=o.left+(u.documentElement.scrollLeft||e.scrollLeft)-u.documentElement.clientLeft,a=o.top+(u.documentElement.scrollTop||e.scrollTop)-u.documentElement.clientTop,{x:i,y:a};for(r=t;r&&r!==n&&r.nodeType&&!Ho(r,n);)i+=r.offsetLeft||0,a+=r.offsetTop||0,r=r.offsetParent;for(r=t.parentNode;r&&r!==n&&r.nodeType&&!Ho(r,n);)i-=r.scrollLeft||0,a-=r.scrollTop||0,r=r.parentNode;a+=Fo(Wn.fromDom(t))}return{x:i,y:a}},Vo=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],qo=["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"],Wo=["td","th"],$o=["thead","tbody","tfoot"],Go=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Xo=["h1","h2","h3","h4","h5","h6"],Ko=["li","dd","dt"],Yo=["ul","ol","dl"],Jo=["pre","script","textarea","style"],Qo=function(e){var t;return function(n){return t=t||st(e,ve(!0)),t.hasOwnProperty($n(n))}},Zo=Qo(Xo),ei=Qo(Vo),ti=function(e){return"table"===$n(e)},ni=function(e){return Yn(e)&&!ei(e)},ri=function(e){return Yn(e)&&"br"===$n(e)},oi=Qo(Go),ii=Qo(Yo),ai=Qo(Ko),ui=Qo(qo),si=Qo($o),ci=Qo(Wo),li=Qo(Jo),fi=/^[ \t\r\n]*$/,di=function(e){return fi.test(e)},pi=function(e){var t=e.previousSibling&&"SPAN"===e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"===e.nextSibling.nodeName;return t&&n},mi=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},hi=function(e,t){var n,r=t.childNodes;if(!io(t)||!mi(t)){for(n=r.length-1;n>=0;n--)hi(e,r[n]);if(!1===vo(t)){if(ho(t)&&t.nodeValue.length>0){var o=di(t.nodeValue);if(e.isBlock(t.parentNode)||!o)return;if(pi(t))return}else if(io(t)&&(r=t.childNodes,1===r.length&&mi(r[0])&&t.parentNode.insertBefore(r[0],t),r.length||ui(Wn.fromDom(t))))return;e.remove(t)}return t}},gi=zn.makeMap,vi=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bi=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yi=/[<>&\"\']/g,wi=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,xi={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Ci={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},_i={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Si=function(e){var t=Wn.fromTag("div").dom();return t.innerHTML=e,t.textContent||t.innerText||e},ki=function(e,t){var n,r,o,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),Ci[r]||(o="&"+e[n+1]+";",i[r]=o,i[o]=r);return i}},Ti=ki("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Ei=function(e,t){return e.replace(t?vi:bi,function(e){return Ci[e]||e})},Oi=function(e){return(""+e).replace(yi,function(e){return Ci[e]||e})},Ni=function(e,t){return e.replace(t?vi:bi,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":Ci[e]||"&#"+e.charCodeAt(0)+";"})},Ai=function(e,t,n){return n=n||Ti,e.replace(t?vi:bi,function(e){return Ci[e]||n[e]||e})},Di=function(e,t){var n=ki(t)||Ti,r=function(e,t){return e.replace(t?vi:bi,function(e){return void 0!==Ci[e]?Ci[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})},o=function(e,t){return Ai(e,t,n)},i=gi(e.replace(/\+/g,","));return i.named&&i.numeric?r:i.named?t?o:Ai:i.numeric?Ni:Ei},Mi=function(e){return e.replace(wi,function(e,t){return t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10),t>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):xi[t]||String.fromCharCode(t)):_i[e]||Ti[e]||Si(e)})},Ii={encodeRaw:Ei,encodeAllRaw:Oi,encodeNumeric:Ni,encodeNamed:Ai,getEncodeFunc:Di,decode:Mi},Ri={},Pi={},Li=zn.makeMap,ji=zn.each,Bi=zn.extend,zi=zn.explode,Fi=zn.inArray,Hi=function(e,t){return e=zn.trim(e),e?e.split(t||" "):[]},Ui=function(e){var t,n,r,o,i,a,u={},s=function(e,n,r){var o,i,a,s=function(e,t){var n,r,o={};for(n=0,r=e.length;n<r;n++)o[e[n]]=t||{};return o};for(r=r||[],n=n||"","string"==typeof r&&(r=Hi(r)),e=Hi(e),o=e.length;o--;)i=Hi([t,n].join(" ")),a={attributes:s(i),attributesOrder:i,children:s(r,Pi)},u[e[o]]=a},c=function(e,t){var n,r,o,i;for(e=Hi(e),n=e.length,t=Hi(t);n--;)for(r=u[e[n]],o=0,i=t.length;o<i;o++)r.attributes[t[o]]={},r.attributesOrder.push(t[o])};return Ri[e]?Ri[e]:(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(t+=" xml:lang",a="acronym applet basefont big font strike tt",r=[r,a].join(" "),ji(Hi(a),function(e){s(e,"",r)}),i="center dir isindex noframes",n=[n,i].join(" "),o=[n,r].join(" "),ji(Hi(i),function(e){s(e,"",o)})),o=o||[n,r].join(" "),s("html","manifest","head body"),s("head","","base command link meta noscript script style title"),s("title hr noscript br"),s("base","href target"),s("link","href rel media hreflang type sizes hreflang"),s("meta","name http-equiv content charset"),s("style","media type scoped"),s("script","src async defer type charset"),s("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),s("address dt dd div caption","",o),s("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),s("blockquote","cite",o),s("ol","reversed start type","li"),s("ul","","li"),s("li","value",o),s("dl","","dt dd"),s("a","href target rel media hreflang type",r),s("q","cite",r),s("ins del","cite datetime",o),s("img","src sizes srcset alt usemap ismap width height"),s("iframe","src name width height",o),s("embed","src type width height"),s("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),s("param","name value"),s("map","name",[o,"area"].join(" ")),s("area","alt coords shape href target rel media hreflang type"),s("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),s("colgroup","span","col"),s("col","span"),s("tbody thead tfoot","","tr"),s("tr","","td th"),s("td","colspan rowspan headers",o),s("th","colspan rowspan headers scope abbr",o),s("form","accept-charset action autocomplete enctype method name novalidate target",o),s("fieldset","disabled form name",[o,"legend"].join(" ")),s("label","form for",r),s("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),s("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?o:r),s("select","disabled form multiple name required size","option optgroup"),s("optgroup","disabled label","option"),s("option","disabled label selected value"),s("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),s("menu","type label",[o,"li"].join(" ")),s("noscript","",o),"html4"!==e&&(s("wbr"),s("ruby","",[r,"rt rp"].join(" ")),s("figcaption","",o),s("mark rt rp summary bdi","",r),s("canvas","width height",o),s("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),s("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),s("picture","","img source"),s("source","src srcset type media sizes"),s("track","kind src srclang label default"),s("datalist","",[r,"option"].join(" ")),s("article section nav aside main header footer","",o),s("hgroup","","h1 h2 h3 h4 h5 h6"),s("figure","",[o,"figcaption"].join(" ")),s("time","datetime",r),s("dialog","open",o),s("command","type label icon disabled checked radiogroup command"),s("output","for form name",r),s("progress","value max",r),s("meter","value min max low high optimum",r),s("details","open",[o,"summary"].join(" ")),s("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(c("script","language xml:space"),c("style","xml:space"),c("object","declare classid code codebase codetype archive standby align border hspace vspace"),c("embed","align name hspace vspace"),c("param","valuetype type"),c("a","charset name rev shape coords"),c("br","clear"),c("applet","codebase archive code object alt name width height align hspace vspace"),c("img","name longdesc align border hspace vspace"),c("iframe","longdesc frameborder marginwidth marginheight scrolling align"),c("font basefont","size color face"),c("input","usemap align"),c("select"),c("textarea"),c("h1 h2 h3 h4 h5 h6 div p legend caption","align"),c("ul","type compact"),c("li","type"),c("ol dl menu dir","compact"),c("pre","width xml:space"),c("hr","align noshade size width"),c("isindex","prompt"),c("table","summary width frame rules cellspacing cellpadding align bgcolor"),c("col","width align char charoff valign"),c("colgroup","width align char charoff valign"),c("thead","align char charoff valign"),c("tr","align char charoff valign bgcolor"),c("th","axis align char charoff valign nowrap bgcolor width height"),c("form","accept"),c("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),c("tfoot","align char charoff valign"),c("tbody","align char charoff valign"),c("area","nohref"),c("body","background bgcolor text link vlink alink")),"html4"!==e&&(c("input button select textarea","autofocus"),c("input textarea","placeholder"),c("a","download"),c("link script img","crossorigin"),c("img","loading"),c("iframe","sandbox seamless allowfullscreen loading")),ji(Hi("a form meter progress dfn"),function(e){u[e]&&delete u[e].children[e]}),delete u.caption.children.table,delete u.script,Ri[e]=u,u)},Vi=function(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),ji(e,function(e,r){n[r]=n[r.toUpperCase()]="map"===t?Li(e,/[, ]/):zi(e,/[, ]/)})),n},qi=function(e){return"\ufeff"===e},Wi=function(e){return e.replace(/\uFEFF/g,"")},$i=function(e,t,n,r){var o=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+o(t)+o(n)+o(r)},Gi=function(e,t){var n,r,o,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,s=/\s+$/,c={};e=e||{},t&&(r=t.getValidStyles(),o=t.getInvalidStyles());var l="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(n=0;n<l.length;n++)c[l[n]]="\ufeff"+n,c["\ufeff"+n]=l[n];return{toHex:function(e){return e.replace(i,$i)},parse:function(t){var r,o,l,f,d={},p=e.url_converter,m=e.url_converter_scope||this,h=function(e,t,r){var o=d[e+"-top"+t];if(o){var i=d[e+"-right"+t];if(i){var a=d[e+"-bottom"+t];if(a){var u=d[e+"-left"+t];if(u){var s=[o,i,a,u];for(n=s.length-1;n--&&s[n]===s[n+1];);n>-1&&r||(d[e+t]=-1===n?s[0]:s.join(" "),delete d[e+"-top"+t],delete d[e+"-right"+t],delete d[e+"-bottom"+t],delete d[e+"-left"+t])}}}}},g=function(e){var t,n=d[e];if(n){for(n=n.split(" "),t=n.length;t--;)if(n[t]!==n[0])return!1;return d[e]=n[0],!0}},v=function(e){return f=!0,c[e]},b=function(e,t){return f&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return c[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},y=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},w=function(e){return e.replace(/\\[0-9a-f]+/gi,y)},x=function(t,n,r,o,i,a){if(i=i||a)return i=b(i),"'"+i.replace(/\'/g,"\\'")+"'";if(n=b(n||r||o),!e.allow_script_urls){var u=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(u))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(u))return""}return p&&(n=p.call(m,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=t.replace(/[\u0000-\u001F]/g,""),t=t.replace(/\\[\"\';:\uFEFF]/g,v).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,v)});r=u.exec(t);)if(u.lastIndex=r.index+r[0].length,o=r[1].replace(s,"").toLowerCase(),l=r[2].replace(s,""),o&&l){if(o=w(o),l=w(l),-1!==o.indexOf("\ufeff")||-1!==o.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===o||/expression\s*\(|\/\*|\*\//.test(l)))continue;"font-weight"===o&&"700"===l?l="bold":"color"!==o&&"background-color"!==o||(l=l.toLowerCase()),l=l.replace(i,$i),l=l.replace(a,x),d[o]=f?b(l,!0):l}h("border","",!0),h("border","-width"),h("border","-color"),h("border","-style"),h("padding",""),h("margin",""),function(e,t,n,r){g(t)&&g(n)&&g(r)&&(d[e]=d[t]+" "+d[n]+" "+d[r],delete d[t],delete d[n],delete d[r])}("border","border-width","border-style","border-color"),"medium none"===d.border&&delete d.border,"none"===d["border-image"]&&delete d["border-image"]}return d},serialize:function(e,t){var n="",i=function(t){var o,i=r[t];if(i)for(var a=0,u=i.length;a<u;a++)t=i[a],(o=e[t])&&(n+=(n.length>0?" ":"")+t+": "+o+";")},a=function(e,t){var n=o["*"];return(!n||!n[e])&&!((n=o[t])&&n[e])};return t&&r?(i("*"),i(t)):ht(e,function(e,r){!e||o&&!a(r,t)||(n+=(n.length>0?" ":"")+r+": "+e+";")}),n}}},Xi="mce-data-",Ki=/^(?:mouse|contextmenu)|click/,Yi={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},Ji=function(e){return e.isDefaultPrevented===Zi||e.isDefaultPrevented===Qi},Qi=function(){return!1},Zi=function(){return!0},ea=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},ta=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},na=function(e,t){if(e.composedPath){var n=e.composedPath();if(n&&n.length>0)return n[0]}return t},ra=function(e,t){var r,o=t||{};for(r in e)Yi[r]||(o[r]=e[r]);if(o.target||(o.target=o.srcElement||n.document),Tn.experimentalShadowDom&&(o.target=na(e,o.target)),e&&Ki.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX){var i=o.target.ownerDocument||n.document,a=i.documentElement,u=i.body;o.pageX=e.clientX+(a&&a.scrollLeft||u&&u.scrollLeft||0)-(a&&a.clientLeft||u&&u.clientLeft||0),o.pageY=e.clientY+(a&&a.scrollTop||u&&u.scrollTop||0)-(a&&a.clientTop||u&&u.clientTop||0)}return o.preventDefault=function(){o.isDefaultPrevented=Zi,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},o.stopPropagation=function(){o.isPropagationStopped=Zi,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=Zi,o.stopPropagation()},!1===Ji(o)&&(o.isDefaultPrevented=Qi,o.isPropagationStopped=Qi,o.isImmediatePropagationStopped=Qi),void 0===o.metaKey&&(o.metaKey=!1),o},oa=function(e,t,n){var r=e.document,o={type:"ready"};if(n.domLoaded)return void t(o);var i=function(){ta(e,"DOMContentLoaded",i),ta(e,"load",i),n.domLoaded||(n.domLoaded=!0,t(o))};!function(){return"complete"===r.readyState||"interactive"===r.readyState&&r.body}()?ea(e,"DOMContentLoaded",i):i(),ea(e,"load",i)},ia=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Xi+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in n.document.documentElement,this.hasFocusIn="onfocusin"in n.document.documentElement,this.count=1}return e.prototype.bind=function(e,t,r,o){var i,a,u,s,c,l,f,d=this,p=n.window,m=function(e){d.executeHandlers(ra(e||p.event),i)};if(e&&3!==e.nodeType&&8!==e.nodeType){e[d.expando]?i=e[d.expando]:(i=d.count++,e[d.expando]=i,d.events[i]={}),o=o||e;var h=t.split(" ");for(u=h.length;u--;)s=h[u],l=m,c=f=!1,"DOMContentLoaded"===s&&(s="ready"),d.domLoaded&&"ready"===s&&"complete"===e.readyState?r.call(o,ra({type:s})):(d.hasMouseEnterLeave||(c=d.mouseEnterLeave[s])&&(l=function(e){var t=e.currentTarget,n=e.relatedTarget;if(n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||(e=ra(e||p.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,d.executeHandlers(e,i))}),d.hasFocusIn||"focusin"!==s&&"focusout"!==s||(f=!0,c="focusin"===s?"focus":"blur",l=function(e){e=ra(e||p.event),e.type="focus"===e.type?"focusin":"focusout",d.executeHandlers(e,i)}),a=d.events[i][s],a?"ready"===s&&d.domLoaded?r(ra({type:s})):a.push({func:r,scope:o}):(d.events[i][s]=a=[{func:r,scope:o}],a.fakeName=c,a.capture=f,a.nativeHandler=l,"ready"===s?oa(e,l,d):ea(e,c||s,l,f)));return e=a=0,r}},e.prototype.unbind=function(e,t,n){var r,o,i,a,u;if(!e||3===e.nodeType||8===e.nodeType)return this;var s=e[this.expando];if(s){if(u=this.events[s],t){var c=t.split(" ");for(o=c.length;o--;)if(a=c[o],r=u[a]){if(n)for(i=r.length;i--;)if(r[i].func===n){var l=r.nativeHandler,f=r.fakeName,d=r.capture;r=r.slice(0,i).concat(r.slice(i+1)),r.nativeHandler=l,r.fakeName=f,r.capture=d,u[a]=r}n&&0!==r.length||(delete u[a],ta(e,r.fakeName||a,r.nativeHandler,r.capture))}}else ht(u,function(t,n){ta(e,t.fakeName||n,t.nativeHandler,t.capture)}),u={};for(a in u)if(kt(u,a))return this;delete this.events[s];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this},e.prototype.fire=function(e,t,n){var r;if(!e||3===e.nodeType||8===e.nodeType)return this;var o=ra(null,n);o.type=t,o.target=e;do{r=e[this.expando],r&&this.executeHandlers(o,r),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!o.isPropagationStopped());return this},e.prototype.clean=function(e){var t,n;if(!e||3===e.nodeType||8===e.nodeType)return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(this.unbind(e),n=e.getElementsByTagName("*"),t=n.length;t--;)e=n[t],e[this.expando]&&this.unbind(e);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(e,t){var n=this.events[t],r=n&&n[e.type];if(r)for(var o=0,i=r.length;o<i;o++){var a=r[o];if(a&&!1===a.func.call(a.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}},e.Event=new e,e}(),aa="sizzle"+-new Date,ua=n.window.document,sa=0,ca=0,la=u(),fa=u(),da=u(),pa=function(e,t){return e===t&&(X=!0),0},ma="undefined",ha=1<<31,ga={}.hasOwnProperty,va=[],ba=va.pop,ya=va.push,wa=va.push,xa=va.slice,Ca=va.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},_a="[\\x20\\t\\r\\n\\f]",Sa="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ka="\\["+_a+"*("+Sa+")(?:"+_a+"*([*^$|!~]?=)"+_a+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Sa+"))|)"+_a+"*\\]",Ta=":("+Sa+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ka+")*)|.*)\\)|)",Ea=new RegExp("^"+_a+"+|((?:^|[^\\\\])(?:\\\\.)*)"+_a+"+$","g"),Oa=new RegExp("^"+_a+"*,"+_a+"*"),Na=new RegExp("^"+_a+"*([>+~]|"+_a+")"+_a+"*"),Aa=new RegExp("="+_a+"*([^\\]'\"]*?)"+_a+"*\\]","g"),Da=new RegExp(Ta),Ma=new RegExp("^"+Sa+"$"),Ia={ID:new RegExp("^#("+Sa+")"),CLASS:new RegExp("^\\.("+Sa+")"),TAG:new RegExp("^("+Sa+"|[*])"),ATTR:new RegExp("^"+ka),PSEUDO:new RegExp("^"+Ta),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+_a+"*(even|odd|(([+-]|)(\\d*)n|)"+_a+"*(?:([+-]|)"+_a+"*(\\d+)|))"+_a+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+_a+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+_a+"*((?:-\\d)?\\d*)"+_a+"*\\)|)(?=[^-]|$)","i")},Ra=/^(?:input|select|textarea|button)$/i,Pa=/^h\d$/i,La=/^[^{]+\{\s*\[native \w/,ja=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ba=/[+~]/,za=/'|\\/g,Fa=new RegExp("\\\\([\\da-f]{1,6}"+_a+"?|("+_a+")|.)","ig"),Ha=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{wa.apply(va=xa.call(ua.childNodes),ua.childNodes),va[ua.childNodes.length].nodeType}catch(e){wa={apply:va.length?function(e,t){ya.apply(e,xa.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}var Ua=function(e,t,n,r){var o,i,a,u,s,c,l,f,d,m;if((t?t.ownerDocument||t:ua)!==Y&&K(t),t=t||Y,n=n||[],!e||"string"!=typeof e)return n;if(1!==(u=t.nodeType)&&9!==u)return[];if(Q&&!r){if(o=ja.exec(e))if(a=o[1]){if(9===u){if(!(i=t.getElementById(a))||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(a))&&ne(t,i)&&i.id===a)return n.push(i),n}else{if(o[2])return wa.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&z.getElementsByClassName)return wa.apply(n,t.getElementsByClassName(a)),n}if(z.qsa&&(!Z||!Z.test(e))){if(f=l=aa,d=t,m=9===u&&e,1===u&&"object"!==t.nodeName.toLowerCase()){for(c=V(e),(l=t.getAttribute("id"))?f=l.replace(za,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",s=c.length;s--;)c[s]=f+h(c[s]);d=Ba.test(e)&&p(t.parentNode)||t,m=c.join(",")}if(m)try{return wa.apply(n,d.querySelectorAll(m)),n}catch(e){}finally{l||t.removeAttribute("id")}}}return W(e.replace(Ea,"$1"),t,n,r)};z=Ua.support={},U=Ua.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},K=Ua.setDocument=function(e){var t,n=e?e.ownerDocument||e:ua,r=n.defaultView;return n!==Y&&9===n.nodeType&&n.documentElement?(Y=n,J=n.documentElement,Q=!U(n),r&&r!==function(e){try{return e.top}catch(e){}return null}(r)&&(r.addEventListener?r.addEventListener("unload",function(){K()},!1):r.attachEvent&&r.attachEvent("onunload",function(){K()})),z.attributes=!0,z.getElementsByTagName=!0,z.getElementsByClassName=La.test(n.getElementsByClassName),z.getById=!0,F.find.ID=function(e,t){if(typeof t.getElementById!==ma&&Q){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},F.filter.ID=function(e){var t=e.replace(Fa,Ha);return function(e){return e.getAttribute("id")===t}},F.find.TAG=z.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==ma)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},F.find.CLASS=z.getElementsByClassName&&function(e,t){if(Q)return t.getElementsByClassName(e)},ee=[],Z=[],z.disconnectedMatch=!0,Z=Z.length&&new RegExp(Z.join("|")),ee=ee.length&&new RegExp(ee.join("|")),t=La.test(J.compareDocumentPosition),ne=t||La.test(J.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},pa=t?function(e,t){if(e===t)return X=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!z.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===ua&&ne(ua,e)?-1:t===n||t.ownerDocument===ua&&ne(ua,t)?1:G?Ca.call(G,e)-Ca.call(G,t):0:4&r?-1:1)}:function(e,t){if(e===t)return X=!0,0;var r,o=0,i=e.parentNode,a=t.parentNode,u=[e],s=[t];if(!i||!a)return e===n?-1:t===n?1:i?-1:a?1:G?Ca.call(G,e)-Ca.call(G,t):0;if(i===a)return c(e,t);for(r=e;r=r.parentNode;)u.unshift(r);for(r=t;r=r.parentNode;)s.unshift(r);for(;u[o]===s[o];)o++;return o?c(u[o],s[o]):u[o]===ua?-1:s[o]===ua?1:0},n):Y},Ua.matches=function(e,t){return Ua(e,null,null,t)},Ua.matchesSelector=function(e,t){if((e.ownerDocument||e)!==Y&&K(e),t=t.replace(Aa,"='$1']"),z.matchesSelector&&Q&&(!ee||!ee.test(t))&&(!Z||!Z.test(t)))try{var n=te.call(e,t);if(n||z.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return Ua(t,Y,null,[e]).length>0},Ua.contains=function(e,t){return(e.ownerDocument||e)!==Y&&K(e),ne(e,t)},Ua.attr=function(e,t){(e.ownerDocument||e)!==Y&&K(e);var n=F.attrHandle[t.toLowerCase()],r=n&&ga.call(F.attrHandle,t.toLowerCase())?n(e,t,!Q):void 0;return void 0!==r?r:z.attributes||!Q?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},Ua.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Ua.uniqueSort=function(e){var t,n=[],r=0,o=0;if(X=!z.detectDuplicates,G=!z.sortStable&&e.slice(0),e.sort(pa),X){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return G=null,e},H=Ua.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=H(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=H(t);return n},F=Ua.selectors={cacheLength:50,createPseudo:s,match:Ia,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Fa,Ha),e[3]=(e[3]||e[4]||e[5]||"").replace(Fa,Ha),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Ua.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Ua.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Ia.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Da.test(n)&&(t=V(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Fa,Ha).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=la[e+" "];return t||(t=new RegExp("(^|"+_a+")"+e+"("+_a+"|$)"))&&la(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==ma&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var o=Ua.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,s){var c,l,f,d,p,m,h=i!==a?"nextSibling":"previousSibling",g=t.parentNode,v=u&&t.nodeName.toLowerCase(),b=!s&&!u;if(g){if(i){for(;h;){for(f=t;f=f[h];)if(u?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;m=h="only"===e&&!m&&"nextSibling"}return!0}if(m=[a?g.firstChild:g.lastChild],a&&b){for(l=g[aa]||(g[aa]={}),c=l[e]||[],p=c[0]===sa&&c[1],d=c[0]===sa&&c[2],f=p&&g.childNodes[p];f=++p&&f&&f[h]||(d=p=0)||m.pop();)if(1===f.nodeType&&++d&&f===t){l[e]=[sa,p,d];break}}else if(b&&(c=(t[aa]||(t[aa]={}))[e])&&c[0]===sa)d=c[1];else for(;(f=++p&&f&&f[h]||(d=p=0)||m.pop())&&((u?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(b&&((f[aa]||(f[aa]={}))[e]=[sa,d]),f!==t)););return(d-=o)===r||d%r==0&&d/r>=0}}},PSEUDO:function(e,t){var n,r=F.pseudos[e]||F.setFilters[e.toLowerCase()]||Ua.error("unsupported pseudo: "+e);return r[aa]?r(t):r.length>1?(n=[e,e,"",t],F.setFilters.hasOwnProperty(e.toLowerCase())?s(function(e,n){for(var o,i=r(e,t),a=i.length;a--;)o=Ca.call(e,i[a]),e[o]=!(n[o]=i[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:s(function(e){var t=[],n=[],r=q(e.replace(Ea,"$1"));return r[aa]?s(function(e,t,n,o){for(var i,a=r(e,null,o,[]),u=e.length;u--;)(i=a[u])&&(e[u]=!(t[u]=i))}):function(e,o,i){return t[0]=e,r(t,null,i,n),!n.pop()}}),has:s(function(e){return function(t){return Ua(e,t).length>0}}),contains:s(function(e){return e=e.replace(Fa,Ha),function(t){return(t.textContent||t.innerText||H(t)).indexOf(e)>-1}}),lang:s(function(e){return Ma.test(e||"")||Ua.error("unsupported lang: "+e),e=e.replace(Fa,Ha).toLowerCase(),function(t){var n;do{if(n=Q?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=n.window.location&&n.window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===J},focus:function(e){return e===Y.activeElement&&(!Y.hasFocus||Y.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!F.pseudos.empty(e)},header:function(e){return Pa.test(e.nodeName)},input:function(e){return Ra.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:d(function(){return[0]}),last:d(function(e,t){return[t-1]}),eq:d(function(e,t,n){return[n<0?n+t:n]}),even:d(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:d(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:d(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:d(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},F.pseudos.nth=F.pseudos.eq,Xe(["radio","checkbox","file","password","image"],function(e){F.pseudos[e]=l(e)}),Xe(["submit","reset"],function(e){F.pseudos[e]=f(e)}),m.prototype=F.filters=F.pseudos,F.setFilters=new m,V=Ua.tokenize=function(e,t){var n,r,o,i,a,u,s,c=fa[e+" "];if(c)return t?0:c.slice(0);for(a=e,u=[],s=F.preFilter;a;){n&&!(r=Oa.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=Na.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(Ea," ")}),a=a.slice(n.length));for(i in F.filter)F.filter.hasOwnProperty(i)&&(!(r=Ia[i].exec(a))||s[i]&&!(r=s[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length)));if(!n)break}return t?a.length:a?Ua.error(e):fa(e,u).slice(0)},q=Ua.compile=function(e,t){var n,r=[],o=[],i=da[e+" "];if(!i){for(t||(t=V(e)),n=t.length;n--;)i=x(t[n]),i[aa]?r.push(i):o.push(i);i=da(e,C(o,r)),i.selector=e}return i},W=Ua.select=function(e,t,n,r){var o,i,a,u,s,c="function"==typeof e&&e,l=!r&&V(e=c.selector||e);if(n=n||[],1===l.length){if(i=l[0]=l[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&z.getById&&9===t.nodeType&&Q&&F.relative[i[1].type]){if(!(t=(F.find.ID(a.matches[0].replace(Fa,Ha),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=Ia.needsContext.test(e)?0:i.length;o--&&(a=i[o],!F.relative[u=a.type]);)if((s=F.find[u])&&(r=s(a.matches[0].replace(Fa,Ha),Ba.test(i[0].type)&&p(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&h(i)))return wa.apply(n,r),n;break}}return(c||q(e,l))(r,t,!Q,n,Ba.test(e)&&p(t.parentNode)||t),n},z.sortStable=aa.split("").sort(pa).join("")===aa,z.detectDuplicates=!!X,K(),z.sortDetached=!0;var Va=n.document,qa=Array.prototype.push,Wa=Array.prototype.slice,$a=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Ga=ia.Event,Xa=zn.makeMap("children,contents,next,prev"),Ka=function(e){return void 0!==e},Ya=function(e){return"string"==typeof e},Ja=function(e){return e&&e===e.window},Qa=function(e,t){t=t||Va;var n=t.createElement("div"),r=t.createDocumentFragment();n.innerHTML=e;for(var o;o=n.firstChild;)r.appendChild(o);return r},Za=function(e,t,n,r){var o;if(Ya(t))t=Qa(t,mu(e[0]));else if(t.length&&!t.nodeType){if(t=bu.makeArray(t),r)for(o=t.length-1;o>=0;o--)Za(e,t[o],n,r);else for(o=0;o<t.length;o++)Za(e,t[o],n,r);return e}if(t.nodeType)for(o=e.length;o--;)n.call(e[o],t);return e},eu=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},tu=function(e,t,n){var r,o;return t=bu(t)[0],e.each(function(){var e=this;n&&r===e.parentNode?o.appendChild(e):(r=e.parentNode,o=t.cloneNode(!1),e.parentNode.insertBefore(o,e),o.appendChild(e))}),e},nu=zn.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),ru=zn.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),ou={for:"htmlFor",class:"className",readonly:"readOnly"},iu={float:"cssFloat"},au={},uu={},su=function(e,t){return new bu.fn.init(e,t)},cu=function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},lu=/^\s*|\s*$/g,fu=function(e){return null===e||void 0===e?"":(""+e).replace(lu,"")},du=function(e,t){var n,r,o,i;if(e)if(void 0===(n=e.length)){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],!1===t.call(i,r,i)))break}else for(o=0;o<n&&(i=e[o],!1!==t.call(i,o,i));o++);return e},pu=function(e,t){var n=[];return du(e,function(e,r){t(r,e)&&n.push(r)}),n},mu=function(e){return e?9===e.nodeType?e:e.ownerDocument:Va};su.fn=su.prototype={constructor:su,selector:"",context:null,length:0,init:function(e,t){var r,o,i=this;if(!e)return i;if(e.nodeType)return i.context=i[0]=e,i.length=1,i;if(t&&t.nodeType)i.context=t;else{if(t)return bu(e).attr(t);i.context=t=n.document}if(Ya(e)){if(i.selector=e,!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:$a.exec(e)))return bu(t).find(e);if(r[1])for(o=Qa(e,mu(t)).firstChild;o;)qa.call(i,o),o=o.nextSibling;else{if(!(o=mu(t).getElementById(r[2])))return i;if(o.id!==r[2])return i.find(e);i.length=1,i[0]=o}}else this.add(e,!1);return i},toArray:function(){return zn.toArray(this)},add:function(e,t){var n,r,o=this;if(Ya(e))return o.add(bu(e));if(!1!==t)for(n=bu.unique(o.toArray().concat(bu.makeArray(e))),o.length=n.length,r=0;r<n.length;r++)o[r]=n[r];else qa.apply(o,bu.makeArray(e));return o},attr:function(e,t){var n,r=this;if("object"==typeof e)du(e,function(e,t){r.attr(e,t)});else{if(!Ka(t)){if(r[0]&&1===r[0].nodeType){if((n=au[e])&&n.get)return n.get(r[0],e);if(ru[e])return r.prop(e)?e:void 0;t=r[0].getAttribute(e,2),null===t&&(t=void 0)}return t}this.each(function(){var n;if(1===this.nodeType){if((n=au[e])&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}})}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=ou[e]||e))du(e,function(e,t){n.prop(e,t)});else{if(!Ka(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1===this.nodeType&&(this[e]=t)})}return n},css:function(e,t){var n,r,o=this,i=function(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})},a=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})};if("object"==typeof e)du(e,function(e,t){o.css(e,t)});else if(Ka(t))e=i(e),"number"!=typeof t||nu[e]||(t=t.toString()+"px"),o.each(function(){var n=this.style;if((r=uu[e])&&r.set)return void r.set(this,t);try{this.style[iu[e]||e]=t}catch(e){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(a(e)):n.removeAttribute(e))});else{if(n=o[0],(r=uu[e])&&r.get)return r.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[i(e)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(e))}catch(e){return}}return o},remove:function(){for(var e,t=this,n=this.length;n--;)e=t[n],Ga.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this,n=this.length;n--;)for(e=t[n];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(Ka(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(r){bu(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(Ka(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return Za(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return Za(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?Za(e,arguments,function(e){this.parentNode.insertBefore(e,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?Za(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):e},appendTo:function(e){return bu(e).append(this),this},prependTo:function(e){return bu(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return tu(this,e)},wrapAll:function(e){return tu(this,e,!0)},wrapInner:function(e){return this.each(function(){bu(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){bu(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),bu(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e?n:(-1!==e.indexOf(" ")?du(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(n,r){var o=eu(r,e);if(o!==t){var i=r.className;o?r.className=fu((" "+i+" ").replace(" "+e+" "," ")):r.className+=i?" "+e:e}}),n)},hasClass:function(e){return eu(this[0],e)},each:function(e){return du(this,e)},on:function(e,t){return this.each(function(){Ga.bind(this,e,t)})},off:function(e,t){return this.each(function(){Ga.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?Ga.fire(this,e.type,e):Ga.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new bu(Wa.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)bu.find(e,this[t],r);return bu(r)},filter:function(e){return bu("function"==typeof e?pu(this.toArray(),function(t,n){return e(n,t)}):bu.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof bu&&(e=e[0]),this.each(function(n,r){for(;r;){if("string"==typeof e&&bu(r).is(e)){t.push(r);break}if(r===e){t.push(r);break}r=r.parentNode}}),bu(t)},offset:function(e){var t,n,r,o,i=0,a=0;return e?this.css(e):(t=this[0],t&&(n=t.ownerDocument,r=n.documentElement,t.getBoundingClientRect&&(o=t.getBoundingClientRect(),i=o.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:qa,sort:Array.prototype.sort,splice:Array.prototype.splice},zn.extend(su,{extend:zn.extend,makeArray:function(e){return Ja(e)||e.nodeType?[e]:zn.toArray(e)},inArray:cu,isArray:zn.isArray,each:du,trim:fu,grep:pu,find:Ua,expr:Ua.selectors,unique:Ua.uniqueSort,text:Ua.getText,contains:Ua.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!==t[r].nodeType&&t.splice(r,1);return t=1===t.length?bu.find.matchesSelector(t[0],e)?[t[0]]:[]:bu.find.matches(e,t)}});var hu=function(e,t,n){var r=[],o=e[t];for("string"!=typeof n&&n instanceof bu&&(n=n[0]);o&&9!==o.nodeType;){if(void 0!==n){if(o===n)break;if("string"==typeof n&&bu(o).is(n))break}1===o.nodeType&&r.push(o),o=o[t]}return r},gu=function(e,t,n,r){var o=[];for(r instanceof bu&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"==typeof r&&bu(e).is(r))break}o.push(e)}return o},vu=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};du({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return hu(e,"parentNode")},next:function(e){return vu(e,"nextSibling",1)},prev:function(e){return vu(e,"previousSibling",1)},children:function(e){return gu(e.firstChild,"nextSibling",1)},contents:function(e){return zn.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){su.fn[e]=function(n){var r=this,o=[];r.each(function(){var e=t.call(o,this,n,o);e&&(bu.isArray(e)?o.push.apply(o,e):o.push(e))}),this.length>1&&(Xa[e]||(o=bu.unique(o)),0===e.indexOf("parents")&&(o=o.reverse()));var i=bu(o);return n?i.filter(n):i}}),du({parentsUntil:function(e,t){return hu(e,"parentNode",t)},nextUntil:function(e,t){return gu(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return gu(e,"previousSibling",1,t).slice(1)}},function(e,t){su.fn[e]=function(n,r){var o=this,i=[];o.each(function(){var e=t.call(i,this,n,i);e&&(bu.isArray(e)?i.push.apply(i,e):i.push(e))}),this.length>1&&(i=bu.unique(i),0!==e.indexOf("parents")&&"prevUntil"!==e||(i=i.reverse()));var a=bu(i);return r?a.filter(r):a}}),su.fn.is=function(e){return!!e&&this.filter(e).length>0},su.fn.init.prototype=su.fn,su.overrideDefaults=function(e){var t,n=function(r,o){return t=t||e(),0===arguments.length&&(r=t.element),o||(o=t.context),new n.fn.init(r,o)};return bu.extend(n,this),n},su.attrHooks=au,su.cssHooks=uu;var bu=su,yu=function(){function e(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node},e.prototype.prev=function(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node},e.prototype.prev2=function(e){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",e),this.node},e.prototype.findSibling=function(e,t,n,r){var o,i;if(e){if(!r&&e[t])return e[t];if(e!==this.rootNode){if(o=e[n])return o;for(i=e.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(o=i[n])return o}}},e.prototype.findPreviousNode=function(e,t,n,r){var o,i,a;if(e){if(o=e[n],this.rootNode&&o===this.rootNode)return;if(o){if(!r)for(a=o[t];a;a=a[t])if(!a[t])return a;return o}if((i=e.parentNode)&&i!==this.rootNode)return i}},e}(),wu={},xu={exports:wu};!function(e,n,r,o){!function(o){if("object"==typeof n&&void 0!==r)r.exports=o();else if("function"==typeof e&&e.amd)e([],o);else{var i;i="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this,i.EphoxContactWrapper=o()}}(function(){return function(){function e(t,n,r){function i(u,s){if(!n[u]){if(!t[u]){var c="function"==typeof o&&o;if(!s&&c)return c(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}};t[u][0].call(f.exports,function(e){return i(t[u][1][e]||e)},f,f.exports,e,t,n,r)}return n[u].exports}for(var a="function"==typeof o&&o,u=0;u<r.length;u++)i(r[u]);return i}return e}()({1:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function u(){g&&m&&(g=!1,m.length?h=m.concat(h):v=-1,h.length&&s())}function s(){if(!g){var e=i(u);g=!0;for(var t=h.length;t;){for(m=h,h=[];++v<t;)m&&m[v].run();v=-1,t=h.length}m=null,g=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var f,d,p=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(e){d=o}}();var m,h=[],g=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new c(e,t)),1!==h.length||g||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){function r(){}function o(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?u:s)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void s(t.promise,e)}u(t.promise,r)})}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void f(o(n,t),e)}e._state=1,e._value=t,c(e)}catch(t){s(e,t)}}function s(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e(function(e){n||(n=!0,u(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}var d=setTimeout;i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new l(e,t,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,function(e){r(i,e)},n)}t[i]=a,0==--o&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var o=t.length,i=0;i<t.length;i++)r(i,t[i])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},i._immediateFn="function"==typeof e?function(t){e(t)}:function(e){d(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){function o(e,t){this._id=e,this._clearFn=t}var i=e("process/browser.js").nextTick,a=Function.prototype.apply,u=Array.prototype.slice,s={},c=0;n.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=c++,r=!(arguments.length<2)&&u.call(arguments,1);return s[t]=!0,i(function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),o=function(){return"undefined"!=typeof window?window:Function("return this;")()}();t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)})}(void 0,wu,xu,void 0);var Cu,_u=xu.exports.boltExport,Su=function(e){var t=Ee.none(),r=[],o=function(e){return Su(function(t){i(function(n){t(e(n))})})},i=function(e){u()?c(e):r.push(e)},a=function(e){u()||(t=Ee.some(e),s(r),r=[])},u=function(){return t.isSome()},s=function(e){Xe(e,c)},c=function(e){t.each(function(t){n.setTimeout(function(){e(t)},0)})};return e(a),{get:i,map:o,isReady:u}},ku=function(e){return Su(function(t){t(e)})},Tu={nu:Su,pure:ku},Eu=function(e){n.setTimeout(function(){throw e},0)},Ou=function(e){var t=function(t){e().then(t,Eu)};return{map:function(t){return Ou(function(){return e().then(t)})},bind:function(t){return Ou(function(){return e().then(function(e){return t(e).toPromise()})})},anonBind:function(t){return Ou(function(){return e().then(function(){return t.toPromise()})})},toLazy:function(){return Tu.nu(t)},toCached:function(){var t=null;return Ou(function(){return null===t&&(t=e()),t})},toPromise:e,get:t}},Nu=function(e){return Ou(function(){return new _u(e)})},Au=function(e){return Ou(function(){return _u.resolve(e)})},Du={nu:Nu,pure:Au},Mu=function(e,t){return t(function(t){var n=[],r=0,o=function(o){return function(i){n[o]=i,++r>=e.length&&t(n)}};0===e.length?t([]):Xe(e,function(e,t){e.get(o(t))})})},Iu=function(e){return Mu(e,Du.nu)},Ru=function(e){var t=function(t){return e===t},n=function(t){return Ru(e)},r=function(t){return Ru(e)},o=function(t){return Ru(t(e))},i=function(t){return Ru(e)},a=function(t){t(e)},u=function(t){return t(e)},s=function(t,n){return n(e)},c=function(t){return t(e)},l=function(t){return t(e)},f=function(){return Ee.some(e)};return{is:t,isValue:Ce,isError:xe,getOr:ve(e),getOrThunk:ve(e),getOrDie:ve(e),or:n,orThunk:r,fold:s,map:o,mapError:i,each:a,bind:u,exists:c,forall:l,toOption:f}},Pu=function(e){var t=function(e){return e()},n=function(){return we(String(e))()},r=function(e){return e},o=function(e){return e()},i=function(t){return Pu(e)},a=function(t){return Pu(t(e))},u=function(t){return Pu(e)};return{is:xe,isValue:xe,isError:Ce,getOr:be,getOrThunk:t,getOrDie:n,or:r,orThunk:o,fold:function(t,n){return t(e)},map:i,mapError:a,each:me,bind:u,exists:xe,forall:Ce,toOption:Ee.none}},Lu=function(e,t){return e.fold(function(){return Pu(t)},Ru)},ju={value:Ru,error:Pu,fromOption:Lu},Bu=function(e){if(!Re(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],r={};return Xe(e,function(o,i){var a=pt(o);if(1!==a.length)throw new Error("one and only one name per case");var u=a[0],s=o[u];if(void 0!==r[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!Re(s))throw new Error("case arguments must be an array");t.push(u),r[u]=function(){var r=arguments.length;if(r!==s.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+s.length+" ("+s+"), got "+r);for(var o=new Array(r),a=0;a<o.length;a++)o[a]=arguments[a];var c=function(e){var n=pt(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!it(t,function(e){return We(n,e)}))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[u].apply(null,o)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);return arguments[i].apply(null,o)},match:c,log:function(e){n.console.log(e,{constructors:t,constructor:u,params:o})}}}}),r},zu={generate:Bu},Fu=(zu.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(e){return e.fold(be,be)}),Hu=window.Promise?window.Promise:function(){function e(e,t){return function(){e.apply(t,arguments)}}function t(e){var t=this;if(null===this._state)return void this._deferreds.push(e);l(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var r;try{r=n(t._value)}catch(t){return void e.reject(t)}e.resolve(r)})}function r(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void u(e(n,t),e(r,this),e(o,this))}this._state=!0,this._value=t,i.call(this)}catch(e){o.call(this,e)}}function o(e){this._state=!1,this._value=e,i.call(this)}function i(){for(var e=0,n=this._deferreds.length;e<n;e++)t.call(this,this._deferreds[e]);this._deferreds=null}function a(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function u(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(e){if(r)return;r=!0,n(e)}}var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(t,e(r,this),e(o,this))},l=c.immediateFn||"function"==typeof n.setImmediate&&n.setImmediate||function(e){n.setTimeout(e,1)};return c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,n){var r=this;return new c(function(o,i){t.call(r,new a(e,n,o,i))})},c.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&s(arguments[0])?arguments[0]:arguments);return new c(function(t,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,function(e){r(i,e)},n)}e[i]=a,0==--o&&t(e)}catch(e){n(e)}}if(0===e.length)return t([]);for(var o=e.length,i=0;i<e.length;i++)r(i,e[i])})},c.resolve=function(e){return e&&"object"==typeof e&&e.constructor===c?e:new c(function(t){t(e)})},c.reject=function(e){return new c(function(t,n){n(e)})},c.race=function(e){return new c(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},c}(),Uu=function(e,t){var r,o=n.window.requestAnimationFrame,i=["ms","moz","webkit"],a=function(e){n.window.setTimeout(e,0)};for(r=0;r<i.length&&!o;r++)o=n.window[i[r]+"RequestAnimationFrame"];o||(o=a),o(e,t)},Vu=function(e,t){return"number"!=typeof t&&(t=0),n.setTimeout(e,t)},qu=function(e,t){return"number"!=typeof t&&(t=1),n.setInterval(e,t)},Wu=function(e){return n.clearTimeout(e)},$u=function(e){return n.clearInterval(e)},Gu=function(e,t){var r,o=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];n.clearTimeout(r),r=Vu(function(){e.apply(this,o)},t)};return o.stop=function(){n.clearTimeout(r)},o},Xu={requestAnimationFrame:function(e,t){if(Cu)return void Cu.then(e);Cu=new Hu(function(e){t||(t=n.document.body),Uu(e,t)}).then(e)},setTimeout:Vu,setInterval:qu,setEditorTimeout:function(e,t,n){return Vu(function(){e.removed||t()},n)},setEditorInterval:function(e,t,r){var o=qu(function(){e.removed?n.clearInterval(o):t()},r);return o},debounce:Gu,throttle:Gu,clearInterval:$u,clearTimeout:Wu},Ku=function(){var e=new WeakMap;return{forElement:function(t,n){var r=Ar(t),o=r.dom();return Ee.from(e.get(o)).getOrThunk(function(){var t=_(o,n);return e.set(o,t),t})}}}(),Yu=zn.each,Ju=zn.grep,Qu=Tn.ie,Zu=/^([a-z0-9],?)+$/i,es=function(e,t,n){var r=t.keep_values,o={set:function(e,r,o){t.url_converter&&(r=t.url_converter.call(t.url_converter_scope||n(),r,o,e[0])),e.attr("data-mce-"+o,r).attr(o,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},i={style:{set:function(t,n){if(null!==n&&"object"==typeof n)return void t.css(n);r&&t.attr("data-mce-style",n),null!==n&&"string"==typeof n?(t.removeAttr("style"),t.css(e.parse(n))):t.attr("style",n)},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return n=e.serialize(e.parse(n),t[0].nodeName)}}};return r&&(i.href=i.src=o),i},ts=function(e,t){var n=t.attr("style"),r=e.serialize(e.parse(n),t[0].nodeName);r||(r=null),t.attr("data-mce-style",r)},ns=function(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(o++,n=r);return o};!function(e){e.DOM=e(n.document),e.nodeIndex=ns}(S||(S={}));var rs=S,os=rs.DOM,is=zn.each,as=zn.grep,us=function(){function e(e){void 0===e&&(e={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=e}return e.prototype._setReferrerPolicy=function(e){this.settings.referrerPolicy=e},e.prototype.loadScript=function(e,t,r){var o,i=os,a=function(){i.remove(s),o&&(o.onreadystatechange=o.onload=o=null),t()},u=function(){Be(r)?r():void 0!==n.console&&n.console.log&&n.console.log("Failed to load script: "+e)},s=i.uniqueId();o=n.document.createElement("script"),o.id=s,o.type="text/javascript",o.src=zn._addCacheSuffix(e),this.settings.referrerPolicy&&i.setAttrib(o,"referrerpolicy",this.settings.referrerPolicy),o.onload=a,o.onerror=u,(n.document.getElementsByTagName("head")[0]||n.document.body).appendChild(o)},e.prototype.isDone=function(e){return 2===this.states[e]},e.prototype.markDone=function(e){this.states[e]=2},e.prototype.add=function(e,t,n,r){void 0===this.states[e]&&(this.queue.push(e),this.states[e]=0),t&&(this.scriptLoadedCallbacks[e]||(this.scriptLoadedCallbacks[e]=[]),this.scriptLoadedCallbacks[e].push({success:t,failure:r,scope:n||this}))},e.prototype.load=function(e,t,n,r){return this.add(e,t,n,r)},e.prototype.remove=function(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]},e.prototype.loadQueue=function(e,t,n){this.loadScripts(this.queue,e,t,n)},e.prototype.loadScripts=function(e,t,n,r){var o=this,i=[],a=function(e,t){is(o.scriptLoadedCallbacks[t],function(t){Be(t[e])&&t[e].call(t.scope)}),o.scriptLoadedCallbacks[t]=void 0};o.queueLoadedCallbacks.push({success:t,failure:r,scope:n||this});var u=function(){var t=as(e);if(e.length=0,is(t,function(e){return 2===o.states[e]?void a("success",e):3===o.states[e]?void a("failure",e):void(1!==o.states[e]&&(o.states[e]=1,o.loading++,o.loadScript(e,function(){o.states[e]=2,o.loading--,a("success",e),u()},function(){o.states[e]=3,o.loading--,i.push(e),a("failure",e),u()})))}),!o.loading){var n=o.queueLoadedCallbacks.slice(0);o.queueLoadedCallbacks.length=0,is(n,function(e){0===i.length?Be(e.success)&&e.success.call(e.scope):Be(e.failure)&&e.failure.call(e.scope,i)})}};u()},e.ScriptLoader=new e,e}(),ss=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},cs=function(e){return Ie(e)&&kt(e,"raw")},ls=function(e){return Re(e)&&e.length>1},fs={},ds=ss("en"),ps=function(){return St(fs,ds.get())},ms=function(){return gt(fs,function(e){return Lt({},e)})},hs=function(e){e&&ds.set(e)},gs=function(){return ds.get()},vs=function(e,t){var n=fs[e];n||(fs[e]=n={}),ht(t,function(e,t){n[t.toLowerCase()]=e})},bs=function(e){var t=ps().getOr({}),n=function(e){return Be(e)?Object.prototype.toString.call(e):r(e)?"":""+e},r=function(e){return""===e||null===e||void 0===e},o=function(e){var r=n(e);return St(t,r.toLowerCase()).map(n).getOr(r)},i=function(e){return e.replace(/{context:\w+}$/,"")},a=function(e){return e};if(r(e))return a("");if(cs(e))return a(n(e.raw));if(ls(e)){var u=e.slice(1);return a(i(o(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return kt(u,t)?n(u[t]):e})))}return a(i(o(e)))},ys=function(){return ps().bind(function(e){return St(e,"_dir")}).exists(function(e){return"rtl"===e})},ws=function(e){return kt(fs,e)},xs={getData:ms,setCode:hs,getCode:gs,add:vs,translate:bs,isRtl:ys,hasCode:ws};!function(e){e.PluginManager=e(),e.ThemeManager=e()}(k||(k={}));var Cs=k,_s=function(e,t){var r=null;return{cancel:function(){null!==r&&(n.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null===r&&(r=n.setTimeout(function(){e.apply(null,o),r=null},t))}}},Ss=function(e,t){var r=null;return{cancel:function(){null!==r&&(n.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null!==r&&n.clearTimeout(r),r=n.setTimeout(function(){e.apply(null,o),r=null},t)}}},ks=function(e,t){var n=To(e,t);return void 0===n||""===n?[]:n.split(" ")},Ts=function(e,t,n){var r=ks(e,t),o=r.concat([n]);return So(e,t,o.join(" ")),!0},Es=function(e,t,n){var r=Je(ks(e,t),function(e){return e!==n});return r.length>0?So(e,t,r.join(" ")):No(e,t),!1},Os=function(e){return void 0!==e.dom().classList},Ns=function(e){return ks(e,"class")},As=function(e,t){return Ts(e,"class",t)},Ds=function(e,t){return Es(e,"class",t)},Ms=function(e,t){Os(e)?e.dom().classList.add(t):As(e,t)},Is=function(e){0===(Os(e)?e.dom().classList:Ns(e)).length&&No(e,"class")},Rs=function(e,t){if(Os(e)){e.dom().classList.remove(t)}else Ds(e,t);Is(e)},Ps=function(e,t){return Os(e)&&e.dom().classList.contains(t)},Ls=function(e,t){var n=[];return Xe(_r(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(Ls(e,t))}),n},js=function(e,t){return ar(t,e)},Bs=function(e,t,n){for(var r=e.dom(),o=Be(n)?n:ve(!1);r.parentNode;){r=r.parentNode;var i=Wn.fromDom(r);if(t(i))return Ee.some(i);if(o(i))break}return Ee.none()},zs=function(e,t,n){return T(function(e,t){return t(e)},Bs,e,t,n)},Fs=function(e,t,n){return Bs(e,function(e){return or(e,t)},n)},Hs=function(e,t){return ur(t,e)},Us=function(e,t,n){return T(function(e,t){return or(e,t)},Fs,e,t,n)},Vs=ve("mce-annotation"),qs=ve("data-mce-annotation"),Ws=ve("data-mce-annotation-uid"),$s=function(e,t){var n=e.selection.getRng(),r=Wn.fromDom(n.startContainer),o=Wn.fromDom(e.getBody()),i=t.fold(function(){return"."+Vs()},function(e){return"["+qs()+'="'+e+'"]'}),a=Sr(r,n.startOffset).getOr(r),u=Us(a,i,function(e){return sr(e,o)}),s=function(e,t){return Oo(e,t)?Ee.some(To(e,t)):Ee.none()};return u.bind(function(t){return s(t,""+Ws()).bind(function(n){return s(t,""+qs()).map(function(t){var r=Xs(e,n);return{uid:n,name:t,elements:r}})})})},Gs=function(e){return Yn(e)&&Ps(e,Vs())},Xs=function(e,t){var n=Wn.fromDom(e.getBody());return js(n,"["+Ws()+'="'+t+'"]')},Ks=function(e,t){var n=Wn.fromDom(e.getBody()),r=js(n,"["+qs()+'="'+t+'"]'),o={};return Xe(r,function(e){var t=To(e,Ws()),n=o.hasOwnProperty(t)?o[t]:[];o[t]=n.concat([e])}),o},Ys=function(e,t){var n=ss({}),r=function(){return{listeners:[],previous:ss(Ee.none())}},o=function(e,t){i(e,function(e){return t(e),e})},i=function(e,t){var o=n.get(),i=o.hasOwnProperty(e)?o[e]:r(),a=t(i);o[e]=a,n.set(o)},a=function(e,t,n){o(e,function(r){Xe(r.listeners,function(r){return r(!0,e,{uid:t,nodes:Ge(n,function(e){return e.dom()})})})})},u=function(e){o(e,function(t){Xe(t.listeners,function(t){return t(!1,e)})})},s=Ss(function(){var t=n.get(),r=ct(pt(t));Xe(r,function(t){i(t,function(n){var r=n.previous.get();return $s(e,Ee.some(t)).fold(function(){r.isSome()&&(u(t),n.previous.set(Ee.none()))},function(e){var t=e.uid,o=e.name,i=e.elements;r.is(t)||(a(o,t,i),n.previous.set(Ee.some(t)))}),{previous:n.previous,listeners:n.listeners}})})},30);return e.on("remove",function(){s.cancel()}),e.on("NodeChange",function(){s.throttle()}),{addListener:function(e,t){i(e,function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}})}}},Js=function(e,t){var n=function(e){return Ee.from(e.attr(qs())).bind(t.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(e){Xe(e,function(e){n(e).each(function(t){!1===t.persistent&&e.unwrap()})})})})},Qs=function(){var e={};return{register:function(t,n){e[t]={name:t,settings:n}},lookup:function(t){return e.hasOwnProperty(t)?Ee.from(e[t]).map(function(e){return e.settings}):Ee.none()}}},Zs=0,ec=function(e){var t=new Date,n=t.getTime(),r=Math.floor(1e9*Math.random());return Zs++,e+"_"+r+Zs+String(n)},tc=function(e,t){Xe(t,function(t){Ms(e,t)})},nc=function(e,t){var r=t||n.document,o=r.createElement("div");return o.innerHTML=e,_r(Wn.fromDom(o))},rc=function(e){return e.dom().innerHTML},oc=function(e,t){var n=dr(e),r=n.dom(),o=Wn.fromDom(r.createDocumentFragment()),i=nc(t,r);Fr(o,i),Hr(e),jr(e,o)},ic=function(e,t){return Wn.fromDom(e.dom().cloneNode(t))},ac=function(e){return ic(e,!1)},uc=function(e){return ic(e,!0)},sc=function(e,t,n){void 0===n&&(n=xe);var r=new yu(e,t),o=function(e){var t;do{t=r[e]()}while(t&&!ho(t)&&!n(t));return Ee.from(t).filter(ho)};return{current:function(){return Ee.from(r.current()).filter(ho)},next:function(){return o("next")},prev:function(){return o("prev")},prev2:function(){return o("prev2")}}},cc=function(e,t){var n=t||function(t){return e.isBlock(t)||yo(t)||xo(t)},r=function(e,t,n,o){if(ho(e)){var i=o(e,t,e.data);if(-1!==i)return Ee.some({container:e,offset:i})}return n().bind(function(e){return r(e.container,e.offset,n,o)})};return{backwards:function(e,t,o,i){var a=sc(e,i,n);return r(e,t,function(){return a.prev().map(function(e){return{container:e,offset:e.length}})},o).getOrNull()},forwards:function(e,t,o,i){var a=sc(e,i,n);return r(e,t,function(){return a.next().map(function(e){return{container:e,offset:0}})},o).getOrNull()}}},lc="\ufeff",fc=qi,dc=Wi,pc=io,mc=ho,hc=function(e){return mc(e)&&(e=e.parentNode),pc(e)&&e.hasAttribute("data-mce-caret")},gc=function(e){return mc(e)&&fc(e.data)},vc=function(e){return hc(e)||gc(e)},bc=function(e){return e.firstChild!==e.lastChild||!yo(e.firstChild)},yc=function(e,t){var n,r=e.ownerDocument,o=r.createTextNode(lc),i=e.parentNode;if(t){if(n=e.previousSibling,mc(n)){if(vc(n))return n;if(kc(n))return n.splitText(n.data.length-1)}i.insertBefore(o,e)}else{if(n=e.nextSibling,mc(n)){if(vc(n))return n;if(Sc(n))return n.splitText(1),n}e.nextSibling?i.insertBefore(o,e.nextSibling):i.appendChild(o)}return o},wc=function(e){var t=e.container();return!(!e||!ho(t))&&(t.data.charAt(e.offset())===lc||e.isAtStart()&&gc(t.previousSibling))},xc=function(e){var t=e.container();return!(!e||!ho(t))&&(t.data.charAt(e.offset()-1)===lc||e.isAtEnd()&&gc(t.nextSibling))},Cc=function(){var e=n.document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},_c=function(e,t,n){var r=t.ownerDocument,o=r.createElement(e);o.setAttribute("data-mce-caret",n?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(Cc());var i=t.parentNode;return n?i.insertBefore(o,t):t.nextSibling?i.insertBefore(o,t.nextSibling):i.appendChild(o),o},Sc=function(e){return mc(e)&&e.data[0]===lc},kc=function(e){return mc(e)&&e.data[e.data.length-1]===lc},Tc=function(e){var t=e.getElementsByTagName("br"),n=t[t.length-1];co(n)&&n.parentNode.removeChild(n)},Ec=function(e){return e&&e.hasAttribute("data-mce-caret")?(Tc(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},Oc=function(e){return hc(e.startContainer)},Nc=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},Ac=function(e,t,n){return e.isSome()&&t.isSome()?Ee.some(n(e.getOrDie(),t.getOrDie())):Ee.none()},Dc=function(e,t,n,r){return e.isSome()&&t.isSome()&&n.isSome()?Ee.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):Ee.none()},Mc=function(e,t){return e?Ee.some(t):Ee.none()},Ic=Math.round,Rc=function(e){return e?{left:Ic(e.left),top:Ic(e.top),bottom:Ic(e.bottom),right:Ic(e.right),width:Ic(e.width),height:Ic(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Pc=function(e,t){return e=Rc(e),t?e.right=e.left:(e.left=e.left+e.width,e.right=e.left),e.width=0,e},Lc=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},jc=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},Bc=function(e,t){return e.bottom-e.height/2<t.top||!(e.top>t.bottom)&&jc(t.top-e.bottom,e,t)},zc=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&jc(t.bottom-e.top,e,t)},Fc=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},Hc=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Uc=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},Vc=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),qc=function(e){return"string"==typeof e&&e.charCodeAt(0)>=768&&Vc.test(e)},Wc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(e[n](t))return!0;return!1}},$c=wo,Gc=xo,Xc=yo,Kc=ho,Yc=ao(["script","style","textarea"]),Jc=ao(["img","input","textarea","hr","iframe","video","audio","object"]),Qc=ao(["table"]),Zc=vc,el=function(e){return!Zc(e)&&(Kc(e)?!Yc(e.parentNode):Jc(e)||Xc(e)||Qc(e)||nl(e))},tl=function(e){return io(e)&&"true"===e.getAttribute("unselectable")},nl=function(e){return!1===tl(e)&&Gc(e)},rl=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(nl(e))return!1;if($c(e))return!0}return!0},ol=function(e){return!!nl(e)&&!0!==Ze(dt(e.getElementsByTagName("*")),function(e,t){return e||$c(t)},!1)},il=function(e){return Jc(e)||ol(e)},al=function(e,t){return el(e)&&rl(e,t)},ul=io,sl=el,cl=uo("display","block table"),ll=uo("float","left right"),fl=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(!e[n](t))return!1;return!0}}(ul,sl,ye(ll)),dl=ye(uo("white-space","pre pre-line pre-wrap")),pl=ho,ml=yo,hl=rs.nodeIndex,gl=Uc,vl=function(e){return"createRange"in e?e.createRange():rs.DOM.createRng()},bl=function(e){return e&&/[\r\n\t ]/.test(e)},yl=function(e){return!!e.setStart&&!!e.setEnd},wl=function(e){var t,n=e.startContainer,r=e.startOffset;return!!(bl(e.toString())&&dl(n.parentNode)&&ho(n)&&(t=n.data,bl(t[r-1])||bl(t[r+1])))},xl=function(e){var t=e.ownerDocument,n=vl(t),r=t.createTextNode(" "),o=e.parentNode;o.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);var i=Rc(n.getBoundingClientRect());return o.removeChild(r),i},Cl=function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,o=e.endOffset;if(t===n&&ho(n)&&0===r&&1===o){var i=e.cloneRange();return i.setEndAfter(n),Sl(i)}return null},_l=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},Sl=function(e){var t,n=e.getClientRects();return t=Rc(n.length>0?n[0]:e.getBoundingClientRect()),!yl(e)&&ml(e)&&_l(t)?xl(e):_l(t)&&yl(e)?Cl(e):t},kl=function(e,t){var n=Pc(e,t);return n.width=1,n.right=n.left+1,n},Tl=function(e){var t,n,r=[],o=function(e){0!==e.height&&(r.length>0&&Lc(e,r[r.length-1])||r.push(e))},i=function(e,t){var n=vl(e.ownerDocument);if(t<e.data.length){if(qc(e.data[t]))return r;if(qc(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!wl(n)))return o(kl(Sl(n),!1)),r}t>0&&(n.setStart(e,t-1),n.setEnd(e,t),wl(n)||o(kl(Sl(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),wl(n)||o(kl(Sl(n),!0)))};if(pl(e.container()))return i(e.container(),e.offset()),r;if(ul(e.container()))if(e.isAtEnd())n=gl(e.container(),e.offset()),pl(n)&&i(n,n.data.length),fl(n)&&!ml(n)&&o(kl(Sl(n),!1));else{if(n=gl(e.container(),e.offset()),pl(n)&&i(n,0),fl(n)&&e.isAtEnd())return o(kl(Sl(n),!1)),r;t=gl(e.container(),e.offset()-1),fl(t)&&!ml(t)&&(cl(t)||cl(n)||!fl(n))&&o(kl(Sl(t),!1)),fl(n)&&o(kl(Sl(n),!0))}return r};!function(e){e.fromRangeStart=function(t){return e(t.startContainer,t.startOffset)},e.fromRangeEnd=function(t){return e(t.endContainer,t.endOffset)},e.after=function(t){return e(t.parentNode,hl(t)+1)},e.before=function(t){return e(t.parentNode,hl(t))},e.isAbove=function(e,t){return Ac(lt(t.getClientRects()),ft(e.getClientRects()),Bc).getOr(!1)},e.isBelow=function(e,t){return Ac(ft(t.getClientRects()),lt(e.getClientRects()),zc).getOr(!1)},e.isAtStart=function(e){return!!e&&e.isAtStart()},e.isAtEnd=function(e){return!!e&&e.isAtEnd()},e.isTextPosition=function(e){return!!e&&ho(e.container())},e.isElementPosition=function(t){return!1===e.isTextPosition(t)}}(E||(E={}));var El,Ol=E,Nl=function(e,t){ho(t)&&0===t.data.length&&e.remove(t)},Al=function(e,t,n){t.insertNode(n),Nl(e,n.previousSibling),Nl(e,n.nextSibling)},Dl=function(e,t,n){var r=Ee.from(n.firstChild),o=Ee.from(n.lastChild);t.insertNode(n),r.each(function(t){return Nl(e,t.previousSibling)}),o.each(function(t){return Nl(e,t.nextSibling)})},Ml=function(e,t,n){bo(n)?Dl(e,t,n):Al(e,t,n)},Il=ho,Rl=co,Pl=rs.nodeIndex,Ll=function(e){var t=e.parentNode;return Rl(t)?Ll(t):t},jl=function(e){return e?It(e.childNodes,function(e,t){return Rl(t)&&"BR"!==t.nodeName?e=e.concat(jl(t)):e.push(t),e},[]):[]},Bl=function(e,t){for(;(e=e.previousSibling)&&Il(e);)t+=e.data.length;return t},zl=function(e){return function(t){return e===t}},Fl=function(e){var t,n;t=jl(Ll(e)),n=Rt(t,zl(e),e),t=t.slice(0,n+1);var r=It(t,function(e,n,r){return Il(n)&&Il(t[r-1])&&e++,e},0);return t=Dt(t,ao([e.nodeName])),(n=Rt(t,zl(e),e))-r},Hl=function(e){return(Il(e)?"text()":e.nodeName.toLowerCase())+"["+Fl(e)+"]"},Ul=function(e,t,n){var r=[];for(t=t.parentNode;t!==e&&(!n||!n(t));t=t.parentNode)r.push(t);return r},Vl=function(e,t){var n,r,o,i,a,u=[];return n=t.container(),r=t.offset(),Il(n)?o=Bl(n,r):(i=n.childNodes,r>=i.length?(o="after",r=i.length-1):o="before",n=i[r]),u.push(Hl(n)),a=Ul(e,n),a=Dt(a,ye(co)),u=u.concat(At(a,function(e){return Hl(e)})),u.reverse().join("/")+","+o},ql=function(e,t,n){var r=jl(e);return r=Dt(r,function(e,t){return!Il(e)||!Il(r[t-1])}),r=Dt(r,ao([t])),r[n]},Wl=function(e,t){for(var n,r=e,o=0;Il(r);){if(n=r.data.length,t>=o&&t<=o+n){e=r,t-=o;break}if(!Il(r.nextSibling)){e=r,t=n;break}o+=n,r=r.nextSibling}return Il(e)&&t>e.data.length&&(t=e.data.length),Ol(e,t)},$l=function(e,t){var n;if(!t)return null;var r=t.split(","),o=r[0].split("/");n=r.length>1?r[1]:"before";var i=It(o,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),ql(e,t[1],parseInt(t[2],10))):null},e);return i?Il(i)?Wl(i,parseInt(n,10)):(n="after"===n?Pl(i)+1:Pl(i),Ol(i.parentNode,n)):null},Gl=xo,Xl=function(e,t,n){var r,o;for(o=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&ho(r);r=r.previousSibling)o+=e(r.data).length;return o},Kl=function(e,t,n,r,o){var i,a=r[o?"startContainer":"endContainer"],u=r[o?"startOffset":"endOffset"],s=[],c=0,l=e.getRoot();for(ho(a)?s.push(n?Xl(t,a,u):u):(i=a.childNodes,u>=i.length&&i.length&&(c=1,u=Math.max(0,i.length-1)),s.push(e.nodeIndex(i[u],n)+c));a&&a!==l;a=a.parentNode)s.push(e.nodeIndex(a,n));return s},Yl=function(e,t,n,r){var o=t.dom,i={};return i.start=Kl(o,e,n,r,!0),t.isCollapsed()||(i.end=Kl(o,e,n,r,!1)),i},Jl=function(e,t,n){var r=0;return zn.each(e.select(t),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++}),r},Ql=function(e,t){var n,r,o,i=t?"start":"end";n=e[i+"Container"],r=e[i+"Offset"],io(n)&&"TR"===n.nodeName&&(o=n.childNodes,(n=o[Math.min(t?r:r-1,o.length-1)])&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r)))},Zl=function(e){return Ql(e,!0),Ql(e,!1),e},ef=function(e,t){var n;if(io(e)&&(e=Uc(e,t),Gl(e)))return e;if(vc(e)){if(ho(e)&&hc(e)&&(e=e.parentNode),n=e.previousSibling,Gl(n))return n;if(n=e.nextSibling,Gl(n))return n}},tf=function(e){return ef(e.startContainer,e.startOffset)||ef(e.endContainer,e.endOffset)},nf=function(e,t,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();if(Gl(r)||"IMG"===o)return{name:o,index:Jl(n.dom,o,r)};var a=tf(i);return a?(o=a.tagName,{name:o,index:Jl(n.dom,o,a)}):Yl(e,n,t,i)},rf=function(e){var t=e.getRng();return{start:Vl(e.dom.getRoot(),Ol.fromRangeStart(t)),end:Vl(e.dom.getRoot(),Ol.fromRangeEnd(t))}},of=function(e){return{rng:e.getRng()}},af=function(e,t,n){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},uf=function(e,t){var n=e.dom,r=e.getRng(),o=n.uniqueId(),i=e.isCollapsed(),a=e.getNode(),u=a.nodeName;if("IMG"===u)return{name:u,index:Jl(n,u,a)};var s=Zl(r.cloneRange());if(!i){s.collapse(!1);var c=af(n,o+"_end",t);Ml(n,s,c)}r=Zl(r),r.collapse(!0);var l=af(n,o+"_start",t);return Ml(n,r,l),e.moveToBookmark({id:o,keep:!0}),{id:o}},sf=function(e,t,n){return 2===t?nf(dc,n,e):3===t?rf(e):t?of(e):uf(e,!1)},cf=r(nf,be,!0),lf=rs.DOM,ff=function(e,t,n){var r=e.getParam(t,n);if(-1!==r.indexOf("=")){var o=e.getParam(t,"","hash");return o.hasOwnProperty(e.id)?o[e.id]:n}return r},df=function(e){return e.getParam("iframe_attrs",{})},pf=function(e){return e.getParam("doctype","<!DOCTYPE html>")},mf=function(e){return e.getParam("document_base_url","")},hf=function(e){return ff(e,"body_id","tinymce")},gf=function(e){return ff(e,"body_class","")},vf=function(e){return e.getParam("content_security_policy","")},bf=function(e){return e.getParam("br_in_pre",!0)},yf=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t},wf=function(e){return e.getParam("forced_root_block_attrs",{})},xf=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},Cf=function(e){return e.getParam("no_newline_selector","")},_f=function(e){return e.getParam("keep_styles",!0)},Sf=function(e){return e.getParam("end_container_on_empty_block",!1)},kf=function(e){return zn.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},Tf=function(e){return zn.explode(e.getParam("font_size_classes",""))},Ef=function(e){return e.getParam("images_dataimg_filter",ve(!0),"function")},Of=function(e){return e.getParam("automatic_uploads",!0,"boolean")},Nf=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},Af=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},Df=function(e){return e.getParam("icons","","string")},Mf=function(e){return e.getParam("icons_url","","string")},If=function(e){return e.getParam("images_upload_url","","string")},Rf=function(e){return e.getParam("images_upload_base_path","","string")},Pf=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},Lf=function(e){return e.getParam("images_upload_handler",null,"function")},jf=function(e){return e.getParam("content_css_cors",!1,"boolean")},Bf=function(e){return e.getParam("referrer_policy","","string")},zf=function(e){return e.getParam("language","en","string")},Ff=function(e){return e.getParam("language_url","","string")},Hf=function(e){return e.getParam("indent_use_margin",!1)},Uf=function(e){return e.getParam("indentation","40px","string")},Vf=function(e){var t=e.getParam("content_css");return Me(t)?Ge(t.split(","),on):Re(t)?t:!1===t||e.inline?[]:["default"]},qf=function(e){return e.getParam("directionality",xs.isRtl()?"rtl":void 0)},Wf=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},$f=function(e){return e.getParam("object_resizing")},Gf=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},Xf=function(e){return e.getParam("placeholder",lf.getAttrib(e.getElement(),"placeholder"),"string")},Kf=function(e){return e.getParam("event_root")},Yf=function(e){return e.getParam("service_message")},Jf=function(e){return e.getParam("theme")},Qf=function(e){return e.getParam("validate")},Zf=function(e){return!1!==e.getParam("inline_boundaries")},ed=function(e){return e.getParam("formats")},td=function(e){var t=e.getParam("preview_styles","font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");return Me(t)?t:""},nd=function(e){return e.getParam("custom_ui_selector","","string")},rd=function(e){return e.getParam("theme_url")},od=function(e){return e.getParam("inline")},id=function(e){return e.getParam("hidden_input")},ad=function(e){return e.getParam("submit_patch")},ud=function(e){return"xml"===e.getParam("encoding")},sd=function(e){return e.getParam("add_form_submit_trigger")},cd=function(e){return e.getParam("add_unload_trigger")},ld=function(e){return""!==yf(e)},fd=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},dd=function(e){return e.getParam("disable_nodechange")},pd=function(e){return e.getParam("readonly")},md=function(e){return e.getParam("content_css_cors")},hd=function(e){return e.getParam("plugins")},gd=function(e){return e.getParam("external_plugins")},vd=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},bd=io,yd=ho,wd=function(e){var t=e.parentNode;t&&t.removeChild(e)},xd=function(e){try{return e.nodeValue}catch(e){return""}},Cd=function(e,t){0===t.length?wd(e):e.nodeValue=t},_d=function(e){var t=dc(e);return{count:e.length-t.length,text:t}},Sd=function(e,t){return Ad(e),t},kd=function(e,t){var n=_d(e.data.substr(0,t.offset())),r=_d(e.data.substr(t.offset())),o=n.text+r.text;return o.length>0?(Cd(e,o),Ol(e,t.offset()-n.count)):t},Td=function(e,t){var n=t.container(),r=qe(dt(n.childNodes),e).map(function(e){return e<t.offset()?Ol(n,t.offset()-1):t}).getOr(t);return Ad(e),r},Ed=function(e,t){return yd(e)&&t.container()===e?kd(e,t):Sd(e,t)},Od=function(e,t){return t.container()===e.parentNode?Td(e,t):Sd(e,t)},Nd=function(e,t){return Ol.isTextPosition(t)?Ed(e,t):Od(e,t)},Ad=function(e){if(bd(e)&&vc(e)&&(bc(e)?e.removeAttribute("data-mce-caret"):wd(e)),yd(e)){var t=dc(xd(e));Cd(e,t)}},Dd=vn().browser,Md=xo,Id=function(e){return io(e)&&/^(TD|TH)$/i.test(e.tagName)},Rd=function(e,t,n){var r,o,i,a,u,s=Pc(t.getBoundingClientRect(),n);return"BODY"===e.tagName?(r=e.ownerDocument.documentElement,o=e.scrollLeft||r.scrollLeft,i=e.scrollTop||r.scrollTop):(u=e.getBoundingClientRect(),o=e.scrollLeft-u.left,i=e.scrollTop-u.top),s.left+=o,s.right+=o,s.top+=i,s.bottom+=i,s.width=1,a=t.offsetWidth-t.clientWidth,a>0&&(n&&(a*=-1),s.left+=a,s.right+=a),s},Pd=function(e){var t,n,r,o,i=js(Wn.fromDom(e),"*[contentEditable=false]");for(r=0;r<i.length;r++)t=i[r].dom(),n=t.previousSibling,kc(n)&&(o=n.data,1===o.length?n.parentNode.removeChild(n):n.deleteData(o.length-1,1)),n=t.nextSibling,Sc(n)&&(o=n.data,1===o.length?n.parentNode.removeChild(n):n.deleteData(0,1))},Ld=function(e,t,n,r){var o,i,a=ss(Ee.none()),u=yf(e),s=u.length>0?u:"p",c=function(e,r){var o,u;if(l(),Id(r))return null;if(!n(r))return i=yc(r,e),u=r.ownerDocument.createRange(),Md(i.nextSibling)?(u.setStart(i,0),u.setEnd(i,0)):(u.setStart(i,1),u.setEnd(i,1)),u;i=_c(s,r,e),o=Rd(t,r,e),bu(i).css("top",o.top);var c=bu('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(o).appendTo(t)[0];return a.set(Ee.some({caret:c,element:r,before:e})),a.get().each(function(t){e&&bu(t.caret).addClass("mce-visual-caret-before")}),f(),u=r.ownerDocument.createRange(),u.setStart(i,0),u.setEnd(i,0),u},l=function(){Pd(t),i&&(Ad(i),i=null),a.get().each(function(e){bu(e.caret).remove(),a.set(Ee.none())}),o&&(Xu.clearInterval(o),o=null)},f=function(){o=Xu.setInterval(function(){r()?bu("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):bu("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")},500)},d=function(){a.get().each(function(e){var n=Rd(t,e.element,e.before);bu(e.caret).css(Lt({},n))})},p=function(){return Xu.clearInterval(o)};return{show:c,hide:l,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:d,destroy:p}},jd=function(){return Dd.isIE()||Dd.isEdge()||Dd.isFirefox()},Bd=function(e){return Md(e)||fo(e)&&jd()},zd=xo,Fd=uo("display","block table table-cell table-caption list-item"),Hd=vc,Ud=hc,Vd=io,qd=el,Wd=function(e){return e>0},$d=function(e){return e<0},Gd=function(e,t){for(var n;n=e(t);)if(!Ud(n))return n;return null},Xd=function(e,t,n,r,o){var i=new yu(e,r);if($d(t)){if((zd(e)||Ud(e))&&(e=Gd(i.prev,!0),n(e)))return e;for(;e=Gd(i.prev,o);)if(n(e))return e}if(Wd(t)){if((zd(e)||Ud(e))&&(e=Gd(i.next,!0),n(e)))return e;for(;e=Gd(i.next,o);)if(n(e))return e}return null},Kd=function(e,t){for(;e&&e!==t;){if(Fd(e))return e;e=e.parentNode}return null},Yd=function(e,t,n){return Kd(e.container(),n)===Kd(t.container(),n)},Jd=function(e,t){if(!t)return null;var n=t.container(),r=t.offset();return Vd(n)?n.childNodes[r+e]:null},Qd=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},Zd=function(e,t,n){return Kd(t,e)===Kd(n,e)},ep=function(e,t,n){var r,o;for(o=e?"previousSibling":"nextSibling";n&&n!==t;){if(r=n[o],Hd(r)&&(r=r[o]),zd(r)){if(Zd(t,r,n))return r;break}if(qd(r))break;n=n.parentNode}return null},tp=r(Qd,!0),np=r(Qd,!1),rp=function(e,t,n){var o,i,a,u=r(ep,!0,t),s=r(ep,!1,t);i=n.startContainer;var c=n.startOffset;if(hc(i)){if(Vd(i)||(i=i.parentNode),"before"===(a=i.getAttribute("data-mce-caret"))&&(o=i.nextSibling,Bd(o)))return tp(o);if("after"===a&&(o=i.previousSibling,Bd(o)))return np(o)}if(!n.collapsed)return n;if(ho(i)){if(Hd(i)){if(1===e){if(o=s(i))return tp(o);if(o=u(i))return np(o)}if(-1===e){if(o=u(i))return np(o);if(o=s(i))return tp(o)}return n}if(kc(i)&&c>=i.data.length-1)return 1===e&&(o=s(i))?tp(o):n;if(Sc(i)&&c<=1)return-1===e&&(o=u(i))?np(o):n;if(c===i.data.length)return o=s(i),o?tp(o):n;if(0===c)return o=u(i),o?np(o):n}return n},op=function(e,t){return Ee.from(Jd(e?0:-1,t)).filter(zd)},ip=function(e,t,n){var r=rp(e,t,n);return-1===e?E.fromRangeStart(r):E.fromRangeEnd(r)},ap=function(e){return Ee.from(e.getNode()).map(Wn.fromDom)},up=function(e){return Ee.from(e.getNode(!0)).map(Wn.fromDom)},sp=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},cp=function(e,t){var n=Yd(e,t);return!(n||!yo(e.getNode()))||n};!function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"}(El||(El={}));var lp=xo,fp=ho,dp=io,pp=yo,mp=el,hp=il,gp=al,vp=function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n},bp=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},yp=function(e,t){if(Wd(e)){if(mp(t.previousSibling)&&!fp(t.previousSibling))return Ol.before(t);if(fp(t))return Ol(t,0)}if($d(e)){if(mp(t.nextSibling)&&!fp(t.nextSibling))return Ol.after(t);if(fp(t))return Ol(t,t.data.length)}return $d(e)?pp(t)?Ol.before(t):Ol.after(t):Ol.before(t)},wp=function(e,t){var n=t.nextSibling;return n&&mp(n)?fp(n)?Ol(n,0):Ol.before(n):xp(El.Forwards,Ol.after(t),e)},xp=function(e,t,n){var r,o,i,a;if(!dp(n)||!t)return null;if(t.isEqual(Ol.after(n))&&n.lastChild){if(a=Ol.after(n.lastChild),$d(e)&&mp(n.lastChild)&&dp(n.lastChild))return pp(n.lastChild)?Ol.before(n.lastChild):a}else a=t;var u=a.container(),s=a.offset();if(fp(u)){if($d(e)&&s>0)return Ol(u,--s);if(Wd(e)&&s<u.length)return Ol(u,++s);r=u}else{if($d(e)&&s>0&&(o=bp(u,s-1),mp(o)))return!hp(o)&&(i=Xd(o,e,gp,o))?fp(i)?Ol(i,i.data.length):Ol.after(i):fp(o)?Ol(o,o.data.length):Ol.before(o);if(Wd(e)&&s<u.childNodes.length&&(o=bp(u,s),mp(o)))return pp(o)?wp(n,o):!hp(o)&&(i=Xd(o,e,gp,o))?fp(i)?Ol(i,0):Ol.before(i):fp(o)?Ol(o,0):Ol.after(o);r=o||a.getNode()}if((Wd(e)&&a.isAtEnd()||$d(e)&&a.isAtStart())&&(r=Xd(r,e,ve(!0),n,!0),gp(r,n)))return yp(e,r);o=Xd(r,e,gp,n);var c=Pt(Je(vp(u,n),lp));return!c||o&&c.contains(o)?o?yp(e,o):null:a=Wd(e)?Ol.after(c):Ol.before(c)},Cp=function(e){return{next:function(t){return xp(El.Forwards,t,e)},prev:function(t){return xp(El.Backwards,t,e)}}},_p=function(e,t,n){var r=e?Ol.before(n):Ol.after(n);return Ap(e,t,r)},Sp=function(e){return yo(e)?Ol.before(e):Ol.after(e)},kp=function(e){return Ol.isTextPosition(e)?0===e.offset():el(e.getNode())},Tp=function(e){if(Ol.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return el(e.getNode(!0))},Ep=function(e,t){return!Ol.isTextPosition(e)&&!Ol.isTextPosition(t)&&e.getNode()===t.getNode(!0)},Op=function(e){return!Ol.isTextPosition(e)&&yo(e.getNode())},Np=function(e,t,n){return e?!Ep(t,n)&&!Op(t)&&Tp(t)&&kp(n):!Ep(n,t)&&kp(t)&&Tp(n)},Ap=function(e,t,n){var r=Cp(t);return Ee.from(e?r.next(n):r.prev(n))},Dp=function(e,t,n){return Ap(e,t,n).bind(function(r){return Yd(n,r,t)&&Np(e,n,r)?Ap(e,t,r):Ee.some(r)})},Mp=function(e,t,n,r){return Dp(e,t,n).bind(function(n){return r(n)?Mp(e,t,n,r):Ee.some(n)})},Ip=function(e,t){var n=e?t.firstChild:t.lastChild;return ho(n)?Ee.some(Ol(n,e?0:n.data.length)):n?el(n)?Ee.some(e?Ol.before(n):Sp(n)):_p(e,t,n):Ee.none()},Rp=r(Ap,!0),Pp=r(Ap,!1),Lp=r(Ip,!0),jp=r(Ip,!1),Bp=function(e){return io(e)&&"_mce_caret"===e.id},zp=function(e,t){for(;t&&t!==e;){if("_mce_caret"===t.id)return t;t=t.parentNode}return null},Fp=function(e){return"string"==typeof e.start},Hp=function(e){return e.hasOwnProperty("rng")},Up=function(e){return e.hasOwnProperty("id")},Vp=function(e){return e.hasOwnProperty("name")},qp=function(e){return zn.isArray(e.start)},Wp=function(e,t){return io(t)&&e.isBlock(t)&&!t.innerHTML&&!Tn.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t},$p=function(e,t){var n,r=e.createRng();return n=$l(e.getRoot(),t.start),r.setStart(n.container(),n.offset()),n=$l(e.getRoot(),t.end),r.setEnd(n.container(),n.offset()),r},Gp=function(e,t){var n=e.ownerDocument.createTextNode(lc);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)},Xp=function(e){return!1===e.hasChildNodes()},Kp=function(e,t){return jp(e).fold(function(){return!1},function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0})},Yp=function(e,t,n){return!(!Xp(t)||!zp(e,t))&&(Gp(t,n),!0)},Jp=function(e,t,n,r){var o,i,a,u,s=n[t?"start":"end"],c=e.getRoot();if(s){for(a=s[0],i=c,o=s.length-1;o>=1;o--){if(u=i.childNodes,Yp(c,i,r))return!0;if(s[o]>u.length-1)return!!Yp(c,i,r)||Kp(i,r);i=u[s[o]]}3===i.nodeType&&(a=Math.min(s[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(s[0],i.childNodes.length)),t?r.setStart(i,a):r.setEnd(i,a)}return!0},Qp=function(e){return ho(e)&&e.data.length>0},Zp=function(e,t,n){var r,o,i,a,u,s,c=e.get(n.id+"_"+t),l=n.keep;if(c){if(r=c.parentNode,"start"===t?(l?c.hasChildNodes()?(r=c.firstChild,o=1):Qp(c.nextSibling)?(r=c.nextSibling,o=0):Qp(c.previousSibling)?(r=c.previousSibling,o=c.previousSibling.data.length):(r=c.parentNode,o=e.nodeIndex(c)+1):o=e.nodeIndex(c),u=r,s=o):(l?c.hasChildNodes()?(r=c.firstChild,o=1):Qp(c.previousSibling)?(r=c.previousSibling,o=c.previousSibling.data.length):(r=c.parentNode,o=e.nodeIndex(c)):o=e.nodeIndex(c),u=r,s=o),!l){for(a=c.previousSibling,i=c.nextSibling,zn.each(zn.grep(c.childNodes),function(e){ho(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});c=e.get(n.id+"_"+t);)e.remove(c,!0);a&&i&&a.nodeType===i.nodeType&&ho(a)&&!Tn.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),e.remove(i),u=a,s=o)}return Ee.some(Ol(u,s))}return Ee.none()},em=function(e,t){var n=e.createRng();return Jp(e,!0,t,n)&&Jp(e,!1,t,n)?Ee.some(n):Ee.none()},tm=function(e,t){var n=Zp(e,"start",t),r=Zp(e,"end",t);return Ac(n,r.or(n),function(t,n){var r=e.createRng();return r.setStart(Wp(e,t.container()),t.offset()),r.setEnd(Wp(e,n.container()),n.offset()),r})},nm=function(e,t){return Ee.from(e.select(t.name)[t.index]).map(function(t){var n=e.createRng();return n.selectNode(t),n})},rm=function(e,t){var n=e.dom;if(t){if(qp(t))return em(n,t);if(Fp(t))return Ee.some($p(n,t));if(Up(t))return tm(n,t);if(Vp(t))return nm(n,t);if(Hp(t))return Ee.some(t.rng)}return Ee.none()},om=function(e,t,n){return sf(e,t,n)},im=function(e,t){rm(e,t).each(function(t){e.setRng(t)})},am=function(e){return io(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},um=function(e){return function(t){return e===t}}(" "),sm=function(e){return""!==e&&-1!==" \f\n\r\t\v".indexOf(e)},cm=function(e){return!sm(e)&&!um(e)},lm=function(e){return!!e.nodeType},fm=function(e){return e&&/^(IMG)$/.test(e.nodeName)},dm=function(e,t,n){var r,o,i,a=n.startOffset,u=n.startContainer;if((n.startContainer!==n.endContainer||!fm(n.startContainer.childNodes[n.startOffset]))&&1===u.nodeType)for(i=u.childNodes,a<i.length?(u=i[a],r=new yu(u,e.getParent(u,e.isBlock))):(u=i[i.length-1],r=new yu(u,e.getParent(u,e.isBlock)),r.next(!0)),o=r.current();o;o=r.next())if(3===o.nodeType&&!gm(o))return n.setStart(o,0),void t.setRng(n)},pm=function(e,t,n){if(e){var r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(1===e.nodeType||!gm(e))return e}},mm=function(e,t){return lm(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},hm=function(e,t,n){return e.schema.isValidChild(t,n)},gm=function(e){return e&&ho(e)&&/^([\t \r\n]+|)$/.test(e.nodeValue)},vm=function(e){return e&&ho(e)&&0===e.length},bm=function(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e},ym=function(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},wm=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},xm=function(e,t,n){return wm(e,e.getStyle(t,n),n)},Cm=function(e,t){var n;return e.getParent(t,function(t){return(n=e.getStyle(t,"text-decoration"))&&"none"!==n}),n},_m=function(e,t,n){return e.getParents(t,n,e.getRoot())},Sm=function(e,t){var n=function(e){var t=function(e){return e.length>1&&"%"===e.charAt(0)};return $e(["styles","attributes"],function(n){return St(e,n).exists(function(e){var n=Re(e)?e:_t(e);return $e(n,t)})})};return $e(e.formatter.get(t),n)},km=function(e,t,n){var r=["inline","block","selector","attributes","styles","classes"],o=function(e){return xt(e,function(e,t){return $e(r,function(e){return e===t})})};return $e(e.formatter.get(t),function(t){var r=o(t);return $e(e.formatter.get(n),function(e){var t=o(e);return Tt(r,t)})})},Tm=am,Em=_m,Om=gm,Nm=mm,Am=function(e){return"BR"===e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},Dm=function(e,t){for(var n=t;n;){if(io(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},Mm=function(e,t,n,r){for(var o=t.data,i=n;e?i>=0:i<o.length;e?i--:i++)if(r(o.charAt(i)))return e?i+1:i;return-1},Im=function(e,t,n){return Mm(e,t,n,function(e){return um(e)||sm(e)})},Rm=function(e,t,n){return Mm(e,t,n,cm)},Pm=function(e,t,n,r,o,i){var a,u=e.getParent(n,e.isBlock)||t,s=function(t,n,r){var i=cc(e),s=o?i.backwards:i.forwards;return Ee.from(s(t,n,function(e,t){return Tm(e.parentNode)?-1:(a=e,r(o,e,t))},u))};return s(n,r,Im).bind(function(e){return i?s(e.container,e.offset+(o?-1:0),Rm):Ee.some(e)}).orThunk(function(){return a?Ee.some({container:a,offset:o?0:a.length}):Ee.none()})},Lm=function(e,t,n,r,o){ho(r)&&0===r.nodeValue.length&&r[o]&&(r=r[o]);for(var i=Em(e,r),a=0;a<i.length;a++)for(var u=0;u<t.length;u++){var s=t[u];if(!("collapsed"in s&&s.collapsed!==n.collapsed)&&e.is(i[a],s.selector))return i[a]}return r},jm=function(e,t,n,r){var o,i=e.dom,a=i.getRoot();if(t[0].wrapper||(o=i.getParent(n,t[0].block,a)),!o){var u=i.getParent(n,"LI,TD,TH");o=i.getParent(ho(n)?n.parentNode:n,function(t){return t!==a&&Nm(e,t)},u)}if(o&&t[0].wrapper&&(o=Em(i,o,"ul,ol").reverse()[0]||o),!o)for(o=n;o[r]&&!i.isBlock(o[r])&&(o=o[r],!ym(o,"br")););return o||n},Bm=function(e,t,n,r,o,i,a){var u,s,c;u=s=a?n:o;var l=a?"previousSibling":"nextSibling",f=e.getRoot();if(ho(u)&&!Om(u)&&(a?r>0:i<u.nodeValue.length))return u;for(;;){if(!t[0].block_expand&&e.isBlock(s))return s;for(c=s[l];c;c=c[l])if(!Tm(c)&&!Om(c)&&!Am(c))return s;if(s===f||s.parentNode===f){u=s;break}s=s.parentNode}return u},zm=function(e,t,n,r){void 0===r&&(r=!1);var o=t.startContainer,i=t.startOffset,a=t.endContainer,u=t.endOffset,s=e.dom;if(io(o)&&o.hasChildNodes()&&(o=Uc(o,i),ho(o)&&(i=0)),io(a)&&a.hasChildNodes()&&(a=Uc(a,t.collapsed?u:u-1),ho(a)&&(u=a.nodeValue.length)),o=Dm(s,o),a=Dm(s,a),(Tm(o.parentNode)||Tm(o))&&(o=Tm(o)?o:o.parentNode,o=t.collapsed?o.previousSibling||o:o.nextSibling||o,ho(o)&&(i=t.collapsed?o.length:0)),(Tm(a.parentNode)||Tm(a))&&(a=Tm(a)?a:a.parentNode,a=t.collapsed?a.nextSibling||a:a.previousSibling||a,ho(a)&&(u=t.collapsed?0:a.length)),t.collapsed){Pm(s,e.getBody(),o,i,!0,r).each(function(e){var t=e.container,n=e.offset;o=t,i=n});Pm(s,e.getBody(),a,u,!1,r).each(function(e){var t=e.container,n=e.offset;a=t,u=n})}return(n[0].inline||n[0].block_expand)&&(n[0].inline&&ho(o)&&0!==i||(o=Bm(s,n,o,i,a,u,!0)),n[0].inline&&ho(a)&&u!==a.nodeValue.length||(a=Bm(s,n,o,i,a,u,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(o=Lm(s,n,t,o,"previousSibling"),a=Lm(s,n,t,a,"nextSibling")),(n[0].block||n[0].selector)&&(o=jm(e,n,o,"previousSibling"),a=jm(e,n,a,"nextSibling"),n[0].block&&(s.isBlock(o)||(o=Bm(s,n,o,i,a,u,!0)),s.isBlock(a)||(a=Bm(s,n,o,i,a,u,!1)))),io(o)&&(i=s.nodeIndex(o),o=o.parentNode),io(a)&&(u=s.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:i,endContainer:a,endOffset:u}},Fm=function(e,t){var n=e.childNodes;return t>=n.length?t=n.length-1:t<0&&(t=0),n[t]||e},Hm=function(e,t){return Fm(e,t-1)},Um=function(e,t,n){var r=t.startContainer,o=t.startOffset,i=t.endContainer,a=t.endOffset,u=function(e){var t;return t=e[0],3===t.nodeType&&t===r&&o>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===a&&e.length>0&&t===i&&3===t.nodeType&&e.splice(e.length-1,1),e},s=function(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r},c=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},l=function(e,t,r){for(var o=r?"nextSibling":"previousSibling",i=e,a=i.parentNode;i&&i!==t;i=a){a=i.parentNode;var c=s(i===e?i:i[o],o);c.length&&(r||c.reverse(),n(u(c)))}};if(1===r.nodeType&&r.hasChildNodes()&&(r=Fm(r,o)),1===i.nodeType&&i.hasChildNodes()&&(i=Hm(i,a)),r===i)return n(u([r]));for(var f=e.findCommonAncestor(r,i),d=r;d;d=d.parentNode){if(d===i)return l(r,f,!0);if(d===f)break}for(var d=i;d;d=d.parentNode){if(d===r)return l(i,f);if(d===f)break}var p=c(r,f)||r,m=c(i,f)||i;l(r,p,!0);var h=s(p===r?p:p.nextSibling,"nextSibling",m===i?m.nextSibling:m);h.length&&n(u(h)),l(i,m)},Vm=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},qm=function(e){return ot(e,function(e){var t=Hc(e);return t?[Wn.fromDom(t)]:[]})},Wm=function(e){return Vm(e).length>1},$m=function(e){return Je(qm(e),ci)},Gm=function(e){return js(e,"td[data-mce-selected],th[data-mce-selected]")},Xm=function(e,t){var n=Gm(t);return n.length>0?n:$m(e)},Km=function(e){return Xm(Vm(e.selection.getSel()),Wn.fromDom(e.getBody()))},Ym=function(e){var t=e.startContainer,n=e.startOffset;return ho(t)?0===n?Ee.some(Wn.fromDom(t)):Ee.none():Ee.from(t.childNodes[n]).map(Wn.fromDom)},Jm=function(e){var t=e.endContainer,n=e.endOffset;return ho(t)?n===t.data.length?Ee.some(Wn.fromDom(t)):Ee.none():Ee.from(t.childNodes[n-1]).map(Wn.fromDom)},Qm=function(e){return kr(e).fold(ve([e]),function(t){return[e].concat(Qm(t))})},Zm=function(e){return Tr(e).fold(ve([e]),function(t){return"br"===$n(t)?yr(t).map(function(t){return[e].concat(Zm(t))}).getOr([]):[e].concat(Zm(t))})},eh=function(e,t){return Ac(Ym(t),Jm(t),function(t,n){var o=tt(Qm(e),r(sr,t)),i=tt(Zm(e),r(sr,n));return o.isSome()&&i.isSome()}).getOr(!1)},th=function(e,t,n,r){var o=n,i=new yu(n,o),a=e.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==zn.trim(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n))}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},nh=function(e){var t=e.selection.getSel();return t&&t.rangeCount>0},rh=function(e,t){var n=Km(e);n.length>0?Xe(n,function(n){var r=n.dom(),o=e.dom.createRng();o.setStartBefore(r),o.setEndAfter(r),t(o,!0)}):t(e.selection.getRng(),!1)},oh=function(e,t,n){var r=uf(e,t);n(r),e.moveToBookmark(r)},ih=function(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?Ee.from(t.dom().nodeValue):Ee.none()};return{get:n,getOption:r,set:function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r}}}(Jn,"text"),ah=function(e){return ih.get(e)},uh=function(e){return Jn(e)&&"\ufeff"===ah(e)},sh=function(e,t,n,r){return gr(t).fold(function(){return"skipping"},function(o){return"br"===r||uh(t)?"valid":Gs(t)?"existing":Bp(t)?"caret":hm(e,n,r)&&hm(e,$n(o),n)?"valid":"invalid-child"})},ch=function(e,t){var n=zm(e,t,[{inline:!0}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},lh=function(e,t,n,r){var i=t.uid,a=void 0===i?ec("mce-annotation"):i,u=o(t,["uid"]),s=Wn.fromTag("span",e);Ms(s,Vs()),So(s,""+Ws(),a),So(s,""+qs(),n);var c=r(a,u),l=c.attributes,f=void 0===l?{}:l,d=c.classes,p=void 0===d?[]:d;return ko(s,f),tc(s,p),s},fh=function(e,t,n,r,o){var i=[],a=lh(e.getDoc(),o,n,r),u=ss(Ee.none()),s=function(){u.set(Ee.none())},c=function(){return u.get().getOrThunk(function(){var e=ac(a);return i.push(e),u.set(Ee.some(e)),e})},l=function(e){Xe(e,f)},f=function(t){switch(sh(e,t,"span",$n(t))){case"invalid-child":s();var n=_r(t);l(n),s();break;case"valid":var r=c();Br(t,r)}},d=function(e){var t=Ge(e,Wn.fromDom);l(t)};return Um(e.dom,t,function(e){s(),d(e)}),i},dh=function(e,t,n,r){e.undoManager.transact(function(){var o=e.selection,i=o.getRng(),a=Km(e).length>0;if(i.collapsed&&!a&&ch(e,i),o.getRng().collapsed&&!a){var u=lh(e.getDoc(),r,t,n.decorate);oc(u," "),o.getRng().insertNode(u.dom()),o.select(u.dom())}else oh(o,!1,function(){rh(e,function(o){fh(e,o,t,n.decorate,r)})})})},ph=function(e){var t=Qs();Js(e,t);var n=Ys(e);return{register:function(e,n){t.register(e,n)},annotate:function(n,r){t.lookup(n).each(function(t){dh(e,n,t,r)})},annotationChanged:function(e,t){n.addListener(e,t)},remove:function(t){$s(e,Ee.some(t)).each(function(e){var t=e.elements;Xe(t,Vr)})},getAll:function(t){var n=Ks(e,t);return gt(n,function(e){return Ge(e,function(e){return e.dom()})})}}},mh={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},hh=function(e,t,n){var r=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[r])return e[r];if(e!==t){var i=e[o];if(i)return i;for(var a=e.parent;a&&a!==t;a=a.parent)if(i=a[o])return i}},gh=function(e){if(!di(e.value))return!1;var t=e.parent;return!t||"span"===t.name&&!t.attr("style")||!/^[ ]+$/.test(e.value)},vh=function(e){var t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t},bh=function(){function e(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var r=new e(t,mh[t]||1);return n&&ht(n,function(e,t){r.attr(t,e)}),r},e.prototype.replace=function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},e.prototype.attr=function(e,t){var n,r=this;if("string"!=typeof e)return void 0!==e&&null!==e&&ht(e,function(e,t){r.attr(t,e)}),r;if(n=r.attributes){if(void 0!==t){if(null===t){if(e in n.map){delete n.map[e];for(var o=n.length;o--;)if(n[o].name===e)return n.splice(o,1),r}return r}if(e in n.map){for(var o=n.length;o--;)if(n[o].name===e){n[o].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,r}return n.map[e]}},e.prototype.clone=function(){var t,n=this,r=new e(n.name,n.type);if(t=n.attributes){var o=[];o.map={};for(var i=0,a=t.length;i<a;i++){var u=t[i];"id"!==u.name&&(o[o.length]={name:u.name,value:u.value},o.map[u.name]=u.value)}r.attributes=o}return r.value=n.value,r.shortEnded=n.shortEnded,r},e.prototype.wrap=function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},e.prototype.unwrap=function(){for(var e=this,t=e.firstChild;t;){var n=t.next;e.insert(t,e,!0),t=n}e.remove()},e.prototype.remove=function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r.next=n,t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n.prev=r,e.parent=e.next=e.prev=null),e},e.prototype.append=function(e){var t=this;e.parent&&e.remove();var n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e},e.prototype.insert=function(e,t,n){e.parent&&e.remove();var r=t.parent||this;return n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},e.prototype.getAll=function(e){for(var t=this,n=[],r=t.firstChild;r;r=hh(r,t))r.name===e&&n.push(r);return n},e.prototype.empty=function(){var e=this;if(e.firstChild){for(var t=[],n=e.firstChild;n;n=hh(n,e))t.push(n);for(var r=t.length;r--;){var n=t[r];n.parent=n.firstChild=n.lastChild=n.next=n.prev=null}}return e.firstChild=e.lastChild=null,e},e.prototype.isEmpty=function(e,t,n){void 0===t&&(t={});var r=this,o=r.firstChild;if(vh(r))return!1;if(o)do{if(1===o.type){if(o.attr("data-mce-bogus"))continue;if(e[o.name])return!1;if(vh(o))return!1}if(8===o.type)return!1;if(3===o.type&&!gh(o))return!1;if(3===o.type&&o.parent&&t[o.parent.name]&&di(o.value))return!1;if(n&&n(o))return!1}while(o=hh(o,r));return!0},e.prototype.walk=function(e){return hh(this,null,e)},e}(),yh=zn.makeMap,wh=function(e){var t=[];e=e||{};var n=e.indent,r=yh(e.indent_before||""),o=yh(e.indent_after||""),i=Ii.getEncodeFunc(e.entity_encoding||"raw",e.entities),a="html"===e.element_format;return{start:function(e,u,s){var c,l,f,d;if(n&&r[e]&&t.length>0&&(d=t[t.length-1],d.length>0&&"\n"!==d&&t.push("\n")),t.push("<",e),u)for(c=0,l=u.length;c<l;c++)f=u[c],t.push(" ",f.name,'="',i(f.value,!0),'"');t[t.length]=!s||a?">":" />",s&&n&&o[e]&&t.length>0&&(d=t[t.length-1],d.length>0&&"\n"!==d&&t.push("\n"))},end:function(e){var r;t.push("</",e,">"),n&&o[e]&&t.length>0&&(r=t[t.length-1],r.length>0&&"\n"!==r&&t.push("\n"))},text:function(e,n){e.length>0&&(t[t.length]=n?e:i(e))},cdata:function(e){t.push("<![CDATA[",e,"]]>")},comment:function(e){t.push("\x3c!--",e,"--\x3e")},pi:function(e,r){r?t.push("<?",e," ",i(r),"?>"):t.push("<?",e,"?>"),n&&t.push("\n")},doctype:function(e){t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}},xh=function(e,t){void 0===t&&(t=a());var n=wh(e);return e=e||{},e.validate=!("validate"in e)||e.validate,{serialize:function(r){var o=e.validate,i={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)do{a(e)}while(e=e.next)}};n.reset();var a=function(e){var r,u,s,c,l,f,d,p,m,h=i[e.type];if(h)h(e);else{if(r=e.name,u=e.shortEnded,s=e.attributes,o&&s&&s.length>1&&(f=[],f.map={},m=t.getElementRule(e.name))){for(d=0,p=m.attributesOrder.length;d<p;d++)(c=m.attributesOrder[d])in s.map&&(l=s.map[c],f.map[c]=l,f.push({name:c,value:l}));for(d=0,p=s.length;d<p;d++)(c=s[d].name)in f.map||(l=s.map[c],f.map[c]=l,f.push({name:c,value:l}));s=f}if(n.start(e.name,s,u),!u){if(e=e.firstChild)do{a(e)}while(e=e.next);n.end(r)}}};return 1!==r.type||e.inner?i[11](r):a(r),n.getContent()}}},Ch=function(e){for(var t,n=/data:[^;]+;base64,([a-z0-9\+\/=]+)/gi,r=[],o={},i=ec("img"),a=0,u=0;t=n.exec(e);){var s=t[0],c=i+"_"+u++;o[c]=s,a<t.index&&r.push(e.substr(a,t.index-a)),r.push(c),a=t.index+s.length}return 0===a?{prefix:i,uris:o,html:e}:(a<e.length&&r.push(e.substr(a)),{prefix:i,uris:o,html:r.join("")})},_h=function(e,t){return e.replace(new RegExp(t.prefix+"_[0-9]+","g"),function(e){return St(t.uris,e).getOr(e)})},Sh=function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(e);return t?Ee.some({type:t[1],data:decodeURIComponent(t[2])}):Ee.none()},kh=function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")},Th=function(e,t){return!e.allow_html_data_urls&&(/^data:image\//i.test(t)?!1===e.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t))},Eh=function(e,t,n){var r,o,i=1,a=e.getShortEndedElements(),u=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;for(u.lastIndex=r=n;o=u.exec(t);){if(r=u.lastIndex,"/"===o[1])i--;else if(!o[1]){if(o[2]in a)continue;i++}if(0===i)break}return r},Oh=function(e,t){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t))},Nh=function(e,t,n){void 0===n&&(n=0);var r=e.toLowerCase();if(-1!==r.indexOf("[if ",n)&&Oh(r,n)){var o=r.indexOf("[endif]",n);return r.indexOf(">",o)}if(t){var i=r.indexOf(">",n);return-1!==i?i:r.length}var a=/--!?>/;a.lastIndex=n;var u=a.exec(e);return u?u.index+u[0].length:r.length},Ah=function(e,t){var n=e.exec(t);if(n){var r=n[1],o=n[2];return"string"==typeof r&&"data-mce-bogus"===r.toLowerCase()?o:null}return null};!function(e){e.findEndTag=Eh}(O||(O={}));var Dh,Mh=O,Ih=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},Rh=function(e,t){var n,r,o,i,a=t,u=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,s=e.schema;a=Ih(e.getTempAttrs(),a);for(var c=s.getShortEndedElements();i=u.exec(a);)r=u.lastIndex,o=i[0].length,n=c[i[1]]?r:Mh.findEndTag(s,a,r),a=a.substring(0,r-o)+a.substring(n),u.lastIndex=r-o;return dc(a)},Ph=Rh,Lh=function(e,t){var n=yf(e),r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return t.replace(r,"")},jh=function(e,t,n,r){var o;if(t.format=n,t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),"raw"===t.format)o=zn.trim(Ph(e.serializer,r.innerHTML));else if("text"===t.format)o=dc(r.innerText||r.textContent);else{if("tree"===t.format)return e.serializer.serialize(r,t);o=Lh(e,e.serializer.serialize(r,t))}return"text"===t.format||li(Wn.fromDom(r))?t.content=o:t.content=zn.trim(o),t.no_events||e.fire("GetContent",t),t.content},Bh=function(e,t,n){return Ee.from(e.getBody()).fold(ve("tree"===t.format?new bh("body",11):""),function(r){return jh(e,t,n,r)})},zh=zn.each,Fh=function(e){this.compare=function(t,n){if(t.nodeName!==n.nodeName)return!1;var r=function(t){var n={};return zh(e.getAttribs(t),function(r){var o=r.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(n[o]=e.getAttrib(t,o))}),n},o=function(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(void 0===(n=t[r]))return!1;if(e[r]!==n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0};return!!o(r(t),r(n))&&(!!o(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))&&(!am(t)&&!am(n)))}},Hh=function(e,t,n){return Ee.from(n.container()).filter(ho).exists(function(r){var o=e?0:-1;return t(r.data.charAt(n.offset()+o))})},Uh=r(Hh,!0,sm),Vh=r(Hh,!1,sm),qh=function(e){var t=e.container();return ho(t)&&0===t.data.length},Wh=function(e,t){return function(n){return Ee.from(Jd(e?0:-1,n)).filter(t).isSome()}},$h=function(e){return"IMG"===e.nodeName&&"block"===Io(Wn.fromDom(e),"display")},Gh=function(e){return xo(e)&&!lo(e)},Xh=Wh(!0,$h),Kh=Wh(!1,$h),Yh=Wh(!0,fo),Jh=Wh(!1,fo),Qh=Wh(!0,Gh),Zh=Wh(!1,Gh),eg=function(e,t,n){return Fs(e,t,n).isSome()},tg=function(e,t){var n=Wn.fromDom(e),o=Wn.fromDom(t);return eg(o,"pre,code",r(sr,n))},ng=function(e,t){return ho(t)&&di(t.data)&&!1===tg(e,t)},rg=function(e){return io(e)&&"A"===e.nodeName&&e.hasAttribute("name")},og=function(e,t){return el(t)&&!1===ng(e,t)||rg(t)||ig(t)},ig=so("data-mce-bookmark"),ag=so("data-mce-bogus"),ug=function(e,t){return function(n){return io(n)&&n.getAttribute(e)===t}}("data-mce-bogus","all"),sg=function(e,t){var n,r=0;if(og(e,e))return!1;if(!(n=e.firstChild))return!0;var o=new yu(n,e);do{if(t){if(ug(n)){n=o.next(!0);continue}if(ag(n)){n=o.next();continue}}if(yo(n))r++,n=o.next();else{if(og(e,n))return!1;n=o.next()}}while(n);return r<=1},cg=function(e,t){return void 0===t&&(t=!0),sg(e.dom(),t)},lg=function(e){for(var t=[],n=e.dom();n;)t.push(Wn.fromDom(n)),n=n.lastChild;return t},fg=function(e){var t=js(e,"br"),n=Je(lg(e).slice(-1),ri);t.length===n.length&&Xe(n,Ur)},dg=function(e){Hr(e),jr(e,Wn.fromHtml('<br data-mce-bogus="1">'))},pg=function(e){Tr(e).each(function(t){yr(t).each(function(n){ei(e)&&ri(t)&&ei(n)&&Ur(t)})})},mg=function(e){return e.slice(0,-1)},hg=function(e,t,n){return fr(t,e)?mg(vr(e,function(e){return n(e)||sr(e,t)})):[]},gg=function(e,t){return hg(e,t,ve(!1))},vg=function(e,t){return[e].concat(gg(e,t))},bg=function(e,t,n){return Ze(e,function(r,o){return sm(o)||um(o)?r.previousCharIsSpace||""===r.str&&t||r.str.length===e.length-1&&n?{previousCharIsSpace:!1,str:r.str+" "}:{previousCharIsSpace:!0,str:r.str+" "}:{previousCharIsSpace:!1,str:r.str+o}},{previousCharIsSpace:!1,str:""}).str},yg=function(e,t,n){if(0!==n){var r=e.data.slice(t,t+n),o=t+n>=e.data.length,i=0===t;e.replaceData(t,n,bg(r,i,o))}},wg=function(e,t){var n=e.data.slice(t),r=n.length-an(n).length;return yg(e,t,r)},xg=function(e,t){var n=e.data.slice(0,t),r=n.length-un(n).length;return yg(e,t-r,r)},Cg=function(e,t,n){var r=un(e.data).length;return e.appendData(t.data),Ur(Wn.fromDom(t)),n&&wg(e,r),e},_g=function(e,t){var n=e.container(),r=e.offset();return!1===Ol.isTextPosition(e)&&n===t.parentNode&&r>Ol.before(t).offset()},Sg=function(e,t){return _g(t,e)?Ol(t.container(),t.offset()-1):t},kg=function(e){return ho(e)?Ol(e,0):Ol.before(e)},Tg=function(e){return ho(e)?Ol(e,e.data.length):Ol.after(e)},Eg=function(e){return el(e.previousSibling)?Ee.some(Tg(e.previousSibling)):e.previousSibling?jp(e.previousSibling):Ee.none()},Og=function(e){return el(e.nextSibling)?Ee.some(kg(e.nextSibling)):e.nextSibling?Lp(e.nextSibling):Ee.none()},Ng=function(e,t){var n=Ol.before(t.previousSibling?t.previousSibling:t.parentNode);return Pp(e,n).fold(function(){return Rp(e,Ol.after(t))},Ee.some)},Ag=function(e,t){return Rp(e,Ol.after(t)).fold(function(){return Pp(e,Ol.before(t))},Ee.some)},Dg=function(e,t){return Eg(t).orThunk(function(){return Og(t)}).orThunk(function(){return Ng(e,t)})},Mg=function(e,t){return Og(t).orThunk(function(){return Eg(t)}).orThunk(function(){return Ag(e,t)})},Ig=function(e,t,n){return e?Mg(t,n):Dg(t,n)},Rg=function(e,t,n){return Ig(e,t,n).map(r(Sg,n))},Pg=function(e,t,n){n.fold(function(){e.focus()},function(n){e.selection.setRng(n.toRange(),t)})},Lg=function(e){return function(t){return t.dom()===e}},jg=function(e,t){return t&&e.schema.getBlockElements().hasOwnProperty($n(t))},Bg=function(e){if(cg(e)){var t=Wn.fromHtml('<br data-mce-bogus="1">');return Hr(e),jr(e,t),Ee.some(Ol.before(t.dom()))}return Ee.none()},zg=function(e,t,n){var r=yr(e).filter(Jn),o=wr(e).filter(Jn);return Ur(e),Dc(r,o,t,function(e,t,r){var o=e.dom(),i=t.dom(),a=o.data.length;return Cg(o,i,n),r.container()===i?Ol(o,a):r}).orThunk(function(){return n&&(r.each(function(e){return xg(e.dom(),e.dom().length)}),o.each(function(e){return wg(e.dom(),0)})),t})},Fg=function(e,t){return kt(e.schema.getTextInlineElements(),$n(t))},Hg=function(e,t,n,o){void 0===o&&(o=!0);var i=Rg(t,e.getBody(),n.dom()),a=Bs(n,r(jg,e),Lg(e.getBody())),u=zg(n,i,Fg(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):a.bind(Bg).fold(function(){o&&Pg(e,t,u)},function(n){o&&Pg(e,t,Ee.some(n))})},Ug=function(e,t){return{start:e,end:t}},Vg=function(e,t,n){return{rng:e,table:t,cells:n}},qg=zu.generate([{removeTable:["element"]},{emptyCells:["cells"]},{deleteCellSelection:["rng","cell"]}]),Wg=function(e){return function(t){return sr(e,t)}},$g=function(e,t){return Us(Wn.fromDom(e),"td,th",t)},Gg=function(e,t){return Fs(e,"table",t)},Xg=function(e){return!sr(e.start,e.end)},Kg=function(e,t){return Gg(e.start,t).bind(function(n){return Gg(e.end,t).bind(function(e){return Mc(sr(n,e),n)})})},Yg=function(e,t){return!Xg(e)&&Kg(e,t).exists(function(e){var t=e.dom().rows;return 1===t.length&&1===t[0].cells.length})},Jg=function(e){return js(e,"td,th")},Qg=function(e,t){var n=$g(e.startContainer,t),r=$g(e.endContainer,t);return Ac(n,r,Ug)},Zg=function(e,t){return Gg(e.start,t).bind(function(t){return ft(Jg(t)).map(function(t){return Ug(e.start,t)})})},ev=function(e,t){var n=$g(t.startContainer,e),r=$g(t.endContainer,e);return t.collapsed?Ee.none():Ac(n,r,Ug).fold(function(){return n.fold(function(){return r.bind(function(t){return Gg(t,e).bind(function(e){return lt(Jg(e)).map(function(e){return Ug(e,t)})})})},function(t){return Gg(t,e).bind(function(e){return ft(Jg(e)).map(function(e){return Ug(t,e)})})})},function(t){return tv(e,t)?Ee.none():Zg(t,e)})},tv=function(e,t){return Kg(t,e).isSome()},nv=function(e,t){return Kg(e,t).map(function(t){return Vg(e,t,Jg(t))})},rv=function(e,t,n){return e.filter(function(e){return Xg(e)&&tv(n,e)}).orThunk(function(){return ev(n,t)}).bind(function(e){return nv(e,n)})},ov=function(e,t){return nt(e,function(e){return sr(e,t)})},iv=function(e){return Ac(ov(e.cells,e.rng.start),ov(e.cells,e.rng.end),function(t,n){return e.cells.slice(t,n+1)})},av=function(e,t,n){return e.filter(function(e){return Yg(e,n)&&eh(e.start,t)}).map(function(e){return e.start})},uv=function(e){return iv(e).map(function(t){var n=e.cells;return t.length===n.length?qg.removeTable(e.table):qg.emptyCells(t)})},sv=function(e,t){var n=Wg(e),r=Qg(t,n);return av(r,t,n).map(function(e){return qg.deleteCellSelection(t,e)}).orThunk(function(){return rv(r,t,n).bind(uv)})},cv=function(e){return(Kn(e)?yr(e):Tr(e)).bind(cv).orThunk(function(){return Ee.some(e)})},lv=function(e,t){return Xe(t,dg),e.selection.setCursorLocation(t[0].dom(),0),!0},fv=function(e,t,n){t.deleteContents();var r=cv(n).getOr(n),o=Wn.fromDom(e.dom.getParent(r.dom(),e.dom.isBlock));if(cg(o)&&(dg(o),e.selection.setCursorLocation(o.dom(),0)),!sr(n,o)){var i=gr(o).is(n)?[]:br(o);Xe(i.concat(_r(n)),function(e){sr(e,o)||fr(e,o)||Ur(e)})}return!0},dv=function(e,t){return Hg(e,!1,t),!0},pv=function(e,t,n){return sv(t,n).map(function(t){return t.fold(r(dv,e),r(lv,e),r(fv,e))})},mv=function(e,t){return wv(e,t)},hv=function(e,t,n,r){return bv(t,r).fold(function(){return pv(e,t,n)},function(t){return mv(e,t)}).getOr(!1)},gv=function(e,t){var n=Wn.fromDom(e.getBody()),r=e.selection.getRng(),o=Km(e);return 0!==o.length?lv(e,o):hv(e,n,r,t)},vv=function(e,t){return tt(vg(t,e),ci)},bv=function(e,t){return tt(vg(t,e),function(e){return"caption"===$n(e)})},yv=function(e,t,n,r,o){return Dp(n,e.getBody(),o).bind(function(e){return vv(t,Wn.fromDom(e.getNode())).map(function(e){return!1===sr(e,r)})})},wv=function(e,t){return dg(t),e.selection.setCursorLocation(t.dom(),0),Ee.some(!0)},xv=function(e,t,n,r){return Lp(e.dom()).bind(function(o){return jp(e.dom()).map(function(e){return t?n.isEqual(o)&&r.isEqual(e):n.isEqual(e)&&r.isEqual(o)})}).getOr(!0)},Cv=function(e,t){return wv(e,t)},_v=function(e,t,n){return bv(e,Wn.fromDom(n.getNode())).map(function(e){return!1===sr(e,t)})},Sv=function(e,t,n,r,o){return Dp(n,e.getBody(),o).bind(function(i){return xv(r,n,o,i)?Cv(e,r):_v(t,r,i)}).or(Ee.some(!0))},kv=function(e,t,n,r){var o=Ol.fromRangeStart(e.selection.getRng());return vv(n,r).bind(function(r){return cg(r)?wv(e,r):yv(e,n,t,r,o)}).getOr(!1)},Tv=function(e,t,n,r){var o=Ol.fromRangeStart(e.selection.getRng());return cg(r)?wv(e,r):Sv(e,n,t,r,o)},Ev=function(e,t){return e?Yh(t):Jh(t)},Ov=function(e,t){var n=Ol.fromRangeStart(e.selection.getRng());return Ev(t,n)||Ap(t,e.getBody(),n).map(function(e){return Ev(t,e)}).getOr(!1)},Nv=function(e,t,n){var r=Wn.fromDom(e.getBody());return bv(r,n).fold(function(){return kv(e,t,r,n)||Ov(e,t)},function(n){return Tv(e,t,r,n).getOr(!1)})},Av=function(e,t){var n=Wn.fromDom(e.selection.getStart(!0)),r=Km(e);return e.selection.isCollapsed()&&0===r.length?Nv(e,t,n):gv(e,n)},Dv=function(e,t,r,o){var i=n.document.createRange();return i.setStart(e,t),i.setEnd(r,o),i},Mv=function(e){var t=Ol.fromRangeStart(e),n=Ol.fromRangeEnd(e),r=e.commonAncestorContainer;return Ap(!1,r,n).map(function(o){return!Yd(t,n,r)&&Yd(t,o,r)?Dv(t.container(),t.offset(),o.container(),o.offset()):e}).getOr(e)},Iv=function(e){return e.collapsed?e:Mv(e)},Rv=function(e){return e.firstChild&&e.firstChild===e.lastChild},Pv=function(e){return"br"===e.name||" "===e.value},Lv=function(e,t){return e.getBlockElements()[t.name]&&Rv(t)&&Pv(t.firstChild)},jv=function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||Lv(e,t))},Bv=function(e,t){var n=t.firstChild,r=t.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),jv(e,r)&&(r=r.prev),!(!n||n!==r)&&("ul"===n.name||"ol"===n.name)},zv=function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e},Fv=function(e,t,n){var r=t.serialize(n),o=e.createFragment(r);return zv(o)},Hv=function(e){return zn.grep(e.childNodes,function(e){return"LI"===e.nodeName})},Uv=function(e){return" "===e.data||yo(e)},Vv=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&Uv(e.firstChild)},qv=function(e){return!e.firstChild||Vv(e)},Wv=function(e){return e.length>0&&qv(e[e.length-1])?e.slice(0,-1):e},$v=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},Gv=function(e,t){return!!$v(e,t)},Xv=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},Kv=function(e,t){var n=Ol.before(e),r=Cp(t),o=r.next(n);return o?o.toRange():null},Yv=function(e,t){var n=Ol.after(e),r=Cp(t),o=r.prev(n);return o?o.toRange():null},Jv=function(e,t,n,r){var o=Xv(e,r),i=e.parentNode;return i.insertBefore(o[0],e),zn.each(t,function(t){i.insertBefore(t,e)}),i.insertBefore(o[1],e),i.removeChild(e),Yv(t[t.length-1],n)},Qv=function(e,t,n){var r=e.parentNode;return zn.each(t,function(t){r.insertBefore(t,e)}),Kv(e,n)},Zv=function(e,t,n,r){return r.insertAfter(t.reverse(),e),Yv(t[0],n)},eb=function(e,t,n,r){var o=Fv(t,e,r),i=$v(t,n.startContainer),a=Wv(Hv(o.firstChild)),u=t.getRoot(),s=function(e){var r=Ol.fromRangeStart(n),o=Cp(t.getRoot()),a=1===e?o.prev(r):o.next(r);return!a||$v(t,a.getNode())!==i};return s(1)?Qv(i,a,u):s(2)?Zv(i,a,u,t):Jv(i,a,u,n)},tb=function(e,t){return ho(e)&&" "===e.nodeValue[t-1]},nb=function(e,t){var n=e.startContainer,r=e.startOffset,o=function(e){return n[e]&&3===n[e].nodeType};return ho(n)&&(r>0?t=t.replace(/^&nbsp;/," "):o("previousSibling")||(t=t.replace(/^ /,"&nbsp;")),r<n.length?t=t.replace(/&nbsp;(<br>|)$/," "):o("nextSibling")||(t=t.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),t},rb=function(e,t){var n=e.startContainer,r=e.startOffset;return ho(n)&&e.collapsed&&(" "===n.data[r]?(n.deleteData(r,1),/[\u00a0| ]$/.test(t)||(t+=" ")):" "===n.data[r-1]&&(n.deleteData(r-1,1),/[\u00a0| ]$/.test(t)||(t=" "+t))),t},ob=ao(["td","th"]),ib=function(e,t,n){if(null!==n){return n===e.getParent(t.endContainer,ob)&&eh(Wn.fromDom(n),t)}return!1},ab=function(e,t){var n=e.selection.getRng(),r=n.startContainer,o=n.startOffset;n.collapsed&&tb(r,o)&&ho(r)&&(r.insertData(o-1," "),r.deleteData(o,1),n.setStart(r,o),n.setEnd(r,o),e.selection.setRng(n)),e.selection.setContent(t)},ub=function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,o=n.lastChild;!r||r===o&&"BR"===r.nodeName?e.dom.setHTML(n,t):ab(e,t)}},sb=function(e,t){Ee.from(e.getParent(t,"td,th")).map(Wn.fromDom).each(pg)},cb=function(e,t){var n=e.schema.getTextInlineElements(),r=e.dom;if(t){var o=e.getBody(),i=new Fh(r);zn.each(r.select("*[data-mce-fragment]"),function(e){for(var t=e.parentNode;t&&t!==o;t=t.parentNode)n[e.nodeName.toLowerCase()]&&i.compare(t,e)&&r.remove(e,!0)})}},lb=function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")},fb=function(e){zn.each(e.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")})},db=function(e){return!!e.getAttribute("data-mce-fragment")},pb=function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]},mb=function(e,t){var n,r,o=e.dom,i=e.selection;if(t){e.selection.scrollIntoView(t);var a=function(t){for(var n=e.getBody();t&&t!==n;t=t.parentNode)if("false"===e.dom.getContentEditable(t))return t;return null}(t);if(a)return o.remove(t),void i.select(a);var u=o.createRng(),s=t.previousSibling;s&&3===s.nodeType?(u.setStart(s,s.nodeValue.length),Tn.ie||(r=t.nextSibling)&&3===r.nodeType&&(s.appendData(r.data),r.parentNode.removeChild(r))):(u.setStartBefore(t),u.setEndBefore(t));var c=o.getParent(t,o.isBlock);o.remove(t),c&&o.isEmpty(c)&&(e.$(c).empty(),u.setStart(c,0),u.setEnd(c,0),ob(c)||db(c)||!(n=function(t){var n=Ol.fromRangeStart(t);if(n=Cp(e.getBody()).next(n))return n.toRange()}(u))?o.add(c,o.create("br",{"data-mce-bogus":"1"})):(u=n,o.remove(c))),i.setRng(u)}},hb=function(e){var t=e.dom,n=Iv(e.selection.getRng());e.selection.setRng(n);var r=t.getParent(n.startContainer,ob);ib(t,n,r)?fv(e,n,Wn.fromDom(r)):e.getDoc().execCommand("Delete",!1,null)},gb=function(e,t,n){var r,o,i,a,u,s,c=e.selection,l=e.dom;/^ | $/.test(t)&&(t=nb(c.getRng(),t));var f=e.parser,d=n.merge,p=xh({validate:Qf(e)},e.schema),m='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>';if(i={content:t,format:"html",selection:!0,paste:n.paste},i=e.fire("BeforeSetContent",i),i.isDefaultPrevented())return void e.fire("SetContent",{content:i.content,format:"html",selection:!0,paste:n.paste});t=i.content,-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,m),u=c.getRng();var h=u.startContainer||(u.parentElement?u.parentElement():null),g=e.getBody();h===g&&c.isCollapsed()&&l.isBlock(g.firstChild)&&pb(e,g.firstChild)&&l.isEmpty(g.firstChild)&&(u=l.createRng(),u.setStart(g.firstChild,0),u.setEnd(g.firstChild,0),c.setRng(u)),c.isCollapsed()||(hb(e),t=rb(e.selection.getRng(),t)),r=c.getNode();var v={context:r.nodeName.toLowerCase(),data:n.data,insert:!0},b=f.parse(t,v);if(!0===n.paste&&Bv(e.schema,b)&&Gv(l,r))return u=eb(p,l,e.selection.getRng(),b),e.selection.setRng(u),void e.fire("SetContent",i);if(lb(b),s=b.lastChild,"mce_marker"===s.attr("id"))for(a=s,s=s.prev;s;s=s.walk(!0))if(3===s.type||!l.isBlock(s.name)){e.schema.isValidChild(s.parent.name,"span")&&s.parent.insert(a,s,"br"===s.name);break}if(e._selectionOverrides.showBlockCaretContainer(r),v.invalid){for(ab(e,m),r=c.getNode(),o=e.getBody(),9===r.nodeType?r=s=o:s=r;s!==o;)r=s,s=s.parentNode;t=r===o?o.innerHTML:l.getOuterHTML(r),t=p.serialize(f.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return p.serialize(b)}))),r===o?l.setHTML(o,t):l.setOuterHTML(r,t)}else t=p.serialize(b),ub(e,t,r);cb(e,d),mb(e,l.get("mce_marker")),fb(e.getBody()),sb(e.dom,e.selection.getStart()),e.fire("SetContent",i),e.addVisual()},vb=function(){return Wn.fromDom(n.document)},bb=function(e){return e.dom().focus()},yb=function(e){var t=Ar(e).dom();return e.dom()===t.activeElement},wb=function(e){return void 0===e&&(e=vb()),Ee.from(e.dom().activeElement).map(Wn.fromDom)},xb=function(e){return wb(Ar(e)).filter(function(t){return e.dom().contains(t.dom())})},Cb=function(e,t,n,r){return{start:ve(e),soffset:ve(t),finish:ve(n),foffset:ve(r)}},_b={create:Cb},Sb=zu.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),kb=function(e,t,n,r){return e.fold(t,n,r)},Tb=function(e){return e.fold(be,be,be)},Eb=Sb.before,Ob=Sb.on,Nb=Sb.after,Ab={before:Eb,on:Ob,after:Nb,cata:kb,getStart:Tb},Db=zu.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Mb=function(e){return Db.exact(e.start(),e.soffset(),e.finish(),e.foffset())},Ib=function(e){return e.match({domRange:function(e){return Wn.fromDom(e.startContainer)},relative:function(e,t){return Ab.getStart(e)},exact:function(e,t,n,r){return e}})},Rb=Db.domRange,Pb=Db.relative,Lb=Db.exact,jb=function(e){var t=Ib(e);return hr(t)},Bb=_b.create,zb={domRange:Rb,relative:Pb,exact:Lb,exactFromRange:Mb,getWin:jb,range:Bb},Fb=vn().browser,Hb=function(e,t){var n=Jn(t)?ah(t).length:_r(t).length+1;return e>n?n:e<0?0:e},Ub=function(e){return zb.range(e.start(),Hb(e.soffset(),e.start()),e.finish(),Hb(e.foffset(),e.finish()))},Vb=function(e,t){return!oo(t.dom())&&(fr(e,t)||sr(e,t))},qb=function(e){return function(t){return Vb(e,t.start())&&Vb(e,t.finish())}},Wb=function(e){return!0===e.inline||Fb.isIE()},$b=function(e){return zb.range(Wn.fromDom(e.startContainer),e.startOffset,Wn.fromDom(e.endContainer),e.endOffset)},Gb=function(e){var t=e.getSelection();return(t&&0!==t.rangeCount?Ee.from(t.getRangeAt(0)):Ee.none()).map($b)},Xb=function(e){var t=hr(e);return Gb(t.dom()).filter(qb(e))},Kb=function(e,t){return Ee.from(t).filter(qb(e)).map(Ub)},Yb=function(e){var t=n.document.createRange();try{return t.setStart(e.start().dom(),e.soffset()),t.setEnd(e.finish().dom(),e.foffset()),Ee.some(t)}catch(e){return Ee.none()}},Jb=function(e){var t=Wb(e)?Xb(Wn.fromDom(e.getBody())):Ee.none();e.bookmark=t.isSome()?t:e.bookmark},Qb=function(e,t){var n=Wn.fromDom(e.getBody()),r=Wb(e)?Ee.from(t):Ee.none(),o=r.map($b).filter(qb(n));e.bookmark=o.isSome()?o:e.bookmark},Zb=function(e){return(e.bookmark?e.bookmark:Ee.none()).bind(function(t){return Kb(Wn.fromDom(e.getBody()),t)}).bind(Yb)},ey=function(e){Zb(e).each(function(t){e.selection.setRng(t)})},ty=function(e){var t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")},ny={isEditorUIElement:ty},ry=function(e){return"nodechange"===e.type&&e.selectionChange},oy=function(e,t){var r=function(){t.throttle()};rs.DOM.bind(n.document,"mouseup",r),e.on("remove",function(){rs.DOM.unbind(n.document,"mouseup",r)})},iy=function(e){e.on("focusout",function(){Jb(e)})},ay=function(e,t){e.on("mouseup touchend",function(e){t.throttle()})},uy=function(e,t){vn().browser.isIE()?iy(e):ay(e,t),e.on("keyup NodeChange",function(t){ry(t)||Jb(e)})},sy=function(e){var t=_s(function(){Jb(e)},0);e.on("init",function(){e.inline&&oy(e,t),uy(e,t)}),e.on("remove",function(){t.cancel()})},cy=rs.DOM,ly=function(e){return ny.isEditorUIElement(e)},fy=function(e){var t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},dy=function(e,t){var n=nd(e);return null!==cy.getParent(t,function(t){return ly(t)||!!n&&e.dom.is(t,n)})},py=function(){try{return n.document.activeElement}catch(e){return n.document.body}},my=function(e,t){var r=t.editor;sy(r),r.on("focusin",function(){var t=this,n=e.focusedEditor;n!==t&&(n&&n.fire("blur",{focusedEditor:t}),e.setActive(t),e.focusedEditor=t,t.fire("focus",{blurredEditor:n}),t.focus(!0))}),r.on("focusout",function(){var t=this;Xu.setEditorTimeout(t,function(){var n=e.focusedEditor;dy(t,py())||n!==t||(t.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Dh||(Dh=function(t){var r=e.activeEditor,o=t.target;r&&o.ownerDocument===n.document&&(o===n.document.body||dy(r,o)||e.focusedEditor!==r||(r.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},cy.bind(n.document,"focusin",Dh))},hy=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(cy.unbind(n.document,"focusin",Dh),Dh=null)},gy=function(e){e.on("AddEditor",r(my,e)),e.on("RemoveEditor",r(hy,e))},vy=function(e,t){return e.dom.getParent(t,function(t){return"true"===e.dom.getContentEditable(t)})},by=function(e){return e.collapsed?Ee.from(Uc(e.startContainer,e.startOffset)).map(Wn.fromDom):Ee.none()},yy=function(e,t){return by(t).bind(function(t){return si(t)?Ee.some(t):!1===fr(e,t)?Ee.some(e):Ee.none()})},wy=function(e,t){yy(Wn.fromDom(e.getBody()),t).bind(function(e){return Lp(e.dom())}).fold(function(){e.selection.normalize()},function(t){return e.selection.setRng(t.toRange())})},xy=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},Cy=function(e){return yb(e)||xb(e).isSome()},_y=function(e){return e.iframeElement&&yb(Wn.fromDom(e.iframeElement))},Sy=function(e){var t=e.getBody();return t&&Cy(Wn.fromDom(t))},ky=function(e){return wb().filter(function(t){return!fy(t.dom())&&dy(e,t.dom())}).isSome()},Ty=function(e){return e.inline?Sy(e):_y(e)},Ey=function(e){return Ty(e)||ky(e)},Oy=function(e){var t=e.selection,n=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable(),void 0!==e.bookmark&&!1===Ty(e)&&Zb(e).each(function(t){e.selection.setRng(t),r=t});var o=vy(e,t.getNode());if(e.$.contains(n,o))return xy(o),wy(e,r),void Ny(e);e.inline||(Tn.opera||xy(n),e.getWin().focus()),(Tn.gecko||e.inline)&&(xy(n),wy(e,r)),Ny(e)},Ny=function(e){return e.editorManager.setActive(e)},Ay=function(e,t){e.removed||(t?Ny(e):Oy(e))},Dy=function(e,t){t(e),e.firstChild&&Dy(e.firstChild,t),e.next&&Dy(e.next,t)},My=function(e,t,n){var r={},o={},i=[];n.firstChild&&Dy(n.firstChild,function(n){Xe(e,function(e){e.name===n.name&&(r[e.name]?r[e.name].nodes.push(n):r[e.name]={filter:e,nodes:[n]})}),Xe(t,function(e){"string"==typeof n.attr(e.name)&&(o[e.name]?o[e.name].nodes.push(n):o[e.name]={filter:e,nodes:[n]})})});for(var a in r)r.hasOwnProperty(a)&&i.push(r[a]);for(var u in o)o.hasOwnProperty(u)&&i.push(o[u]);return i},Iy=function(e,t,n){var r=My(e,t,n);Xe(r,function(e){Xe(e.filter.callbacks,function(t){t(e.nodes,e.filter.name,{})})})},Ry=function(e){return e instanceof bh},Py=function(e){Ty(e)&&Lp(e.getBody()).each(function(t){var n=t.getNode(),r=fo(n)?Lp(n).getOr(t):t;e.selection.setRng(r.toRange())})},Ly=function(e,t){e.dom.setHTML(e.getBody(),t),Py(e)},jy=function(e,t,n,r){var o,i;return 0===n.length||/^\s+$/.test(n)?(i='<br data-mce-bogus="1">',"TABLE"===t.nodeName?n="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+i+"</li>"),o=yf(e),o&&e.schema.isValidChild(t.nodeName.toLowerCase(),o.toLowerCase())?(n=i,n=e.dom.createHTML(o,wf(e),n)):n||(n='<br data-mce-bogus="1">'),Ly(e,n),e.fire("SetContent",r)):("raw"!==r.format&&(n=xh({validate:e.validate},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0}))),r.content=li(Wn.fromDom(t))?n:zn.trim(n),Ly(e,r.content),r.no_events||e.fire("SetContent",r)),r.content},By=function(e,t,n,r){Iy(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var o=xh({validate:e.validate},e.schema).serialize(n);return r.content=li(Wn.fromDom(t))?o:zn.trim(o),Ly(e,r.content),r.no_events||e.fire("SetContent",r),n},zy=function(e,t,n){return n.format=n.format?n.format:"html",n.set=!0,n.content=Ry(t)?"":t,Ry(t)||n.no_events||(e.fire("BeforeSetContent",n),t=n.content),Ee.from(e.getBody()).fold(ve(t),function(r){return Ry(t)?By(e,r,t,n):jy(e,r,t,n)})},Fy=function(e,t){return e.splitText(t)},Hy=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;return t===r&&ho(t)?n>0&&n<t.nodeValue.length&&(r=Fy(t,n),t=r.previousSibling,o>n?(o-=n,t=r=Fy(r,o).previousSibling,o=r.nodeValue.length,n=0):o=0):(ho(t)&&n>0&&n<t.nodeValue.length&&(t=Fy(t,n),n=0),ho(r)&&o>0&&o<r.nodeValue.length&&(r=Fy(r,o).previousSibling,o=r.nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:o}},Uy=ym,Vy=function(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++)if(!1===r[o].inherit&&e.dom.is(t,r[o].selector))return!0;return!1},qy=function(e,t,n,r){var o=e.dom.getRoot();return t!==o&&(t=e.dom.getParent(t,function(t){return!!Vy(e,t,n)||(t.parentNode===o||!!Gy(e,t,n,r,!0))}),Gy(e,t,n,r))},Wy=function(e,t,n){return!!Uy(t,n.inline)||(!!Uy(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0))},$y=function(e,t,n,r,o,i){var a,u,s,c=n[r];if(n.onmatch)return n.onmatch(t,n,r);if(c)if(void 0===c.length){for(a in c)if(c.hasOwnProperty(a)){if(u="attributes"===r?e.getAttrib(t,a):xm(e,t,a),o&&!u&&!n.exact)return;if((!o||n.exact)&&!Uy(u,wm(e,bm(c[a],i),a)))return}}else for(s=0;s<c.length;s++)if("attributes"===r?e.getAttrib(t,c[s]):xm(e,t,c[s]))return n;return n},Gy=function(e,t,n,r,o){var i,a,u,s,c=e.formatter.get(n),l=e.dom;if(c&&t)for(a=0;a<c.length;a++)if(i=c[a],Wy(e.dom,t,i)&&$y(l,t,i,"attributes",o,r)&&$y(l,t,i,"styles",o,r)){if(s=i.classes)for(u=0;u<s.length;u++)if(!e.dom.hasClass(t,s[u]))return;return i}},Xy=function(e,t,n,r){if(r)return qy(e,r,t,n);if(r=e.selection.getNode(),qy(e,r,t,n))return!0;var o=e.selection.getStart();return!(o===r||!qy(e,o,t,n))},Ky=function(e,t,n){var r=[],o={},i=e.selection.getStart();return e.dom.getParent(i,function(i){for(var a=0;a<t.length;a++){var u=t[a];!o[u]&&Gy(e,i,u,n)&&(o[u]=!0,r.push(u))}},e.dom.getRoot()),r},Yy=function(e,t){var n,r,o,i,a,u=e.formatter.get(t),s=e.dom;if(u)for(n=e.selection.getStart(),r=_m(s,n),i=u.length-1;i>=0;i--){if(!(a=u[i].selector)||u[i].defaultBlock)return!0;for(o=r.length-1;o>=0;o--)if(s.is(r[o],a))return!0}return!1},Jy=function(e,t,n){return Ze(n,function(n,r){var o=Sm(e,r);return e.formatter.matchNode(t,r,{},o)?n.concat([r]):n},[])},Qy=function(e,t){return e.importNode(t,!0)},Zy=function(e){for(var t=[];e;){if(3===e.nodeType&&"\ufeff"!==e.nodeValue||e.childNodes.length>1)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t},ew=function(e){return Zy(e).length>0},tw=function(e){if(e){var t=new yu(e,e);for(e=t.current();e;e=t.next())if(ho(e))return e}return null},nw=function(e){var t=Wn.fromTag("span");return ko(t,{id:"_mce_caret","data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&jr(t,Wn.fromText("\ufeff")),t},rw=function(e){var t=tw(e);return t&&"\ufeff"===t.nodeValue.charAt(0)&&t.deleteData(0,1),t},ow=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(ew(t))Hg(e,!1,Wn.fromDom(t),n);else{var i=o.getRng(),a=r.getParent(t,r.isBlock),u=i.startContainer,s=i.startOffset,c=i.endContainer,l=i.endOffset,f=rw(t);r.remove(t,!0),u===f&&s>0&&i.setStart(f,s-1),c===f&&l>0&&i.setEnd(f,l-1),a&&r.isEmpty(a)&&dg(Wn.fromDom(a)),o.setRng(i)}},iw=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(t)ow(e,t,n);else if(!(t=zp(e.getBody(),o.getStart())))for(;t=r.get("_mce_caret");)ow(e,t,!1)},aw=function(e,t,n){var o=e.dom,i=o.getParent(n,r(mm,e));i&&o.isEmpty(i)?n.parentNode.replaceChild(t,n):(fg(Wn.fromDom(n)),o.isEmpty(n)?n.parentNode.replaceChild(t,n):o.insertAfter(t,n))},uw=function(e,t){return e.appendChild(t),t},sw=function(e,t){var n=Qe(e,function(e,t){return uw(e,t.cloneNode(!1))},t);return uw(n,n.ownerDocument.createTextNode("\ufeff"))},cw=function(e,t,n,r,o,i){var a=e.formatter,u=e.dom,s=Je(pt(a.get()),function(e){return e!==r&&!tn(e,"removeformat")}),c=Jy(e,n,s);if(Je(c,function(t){return!km(e,t,r)}).length>0){var l=n.cloneNode(!1);return u.add(t,l),a.remove(r,o,l,i),u.remove(l),Ee.some(l)}return Ee.none()},lw=function(e,t,n){var r,o,i=e.selection,a=i.getRng(),u=a.startOffset,s=a.startContainer,c=s.nodeValue;(r=zp(e.getBody(),i.getStart()))&&(o=tw(r));var l=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(c&&u>0&&u<c.length&&l.test(c.charAt(u))&&l.test(c.charAt(u-1))){var f=i.getBookmark();a.collapse(!0);var d=zm(e,a,e.formatter.get(t));d=Hy(d),e.formatter.apply(t,n,d),i.moveToBookmark(f)}else r&&"\ufeff"===o.nodeValue?e.formatter.apply(t,n,r):(r=Qy(e.getDoc(),nw(!0).dom()),o=r.firstChild,a.insertNode(r),u=1,e.formatter.apply(t,n,r)),i.setCursorLocation(o,u)},fw=function(e,t,n,r){var o,i,a,u=e.dom,s=e.selection,c=[],l=s.getRng(),f=l.startContainer,d=l.startOffset;for(i=f,3===f.nodeType&&(d!==f.nodeValue.length&&(o=!0),i=i.parentNode);i;){if(Gy(e,i,t,n,r)){a=i;break}i.nextSibling&&(o=!0),c.push(i),i=i.parentNode}if(a)if(o){var p=s.getBookmark();l.collapse(!0);var m=zm(e,l,e.formatter.get(t),!0);m=Hy(m),e.formatter.remove(t,n,m,r),s.moveToBookmark(p)}else{var h=zp(e.getBody(),a),g=nw(!1).dom();aw(e,g,null!==h?h:a);var v=cw(e,g,a,t,n,r),b=sw(c.concat(v.toArray()),g);ow(e,h,!1),s.setCursorLocation(b,1),u.isEmpty(a)&&u.remove(a)}},dw=function(e,t){var n=e.selection,r=e.getBody();iw(e,null,!1),8!==t&&46!==t||!n.isCollapsed()||"\ufeff"!==n.getStart().innerHTML||iw(e,zp(r,n.getStart())),37!==t&&39!==t||iw(e,zp(r,n.getStart()))},pw=function(e){e.on("mouseup keydown",function(t){dw(e,t.keyCode)})},mw=function(e,t){var n=nw(!1),r=sw(t,n.dom());return Rr(Wn.fromDom(e),n),Ur(Wn.fromDom(e)),Ol(r,0)},hw=function(e,t){return e.schema.getTextInlineElements().hasOwnProperty($n(t))&&!Bp(t.dom())&&!co(t.dom())},gw=function(e){return Bp(e.dom())&&ew(e.dom())},vw={},bw=Dt,yw=Nt,ww=function(e,t){yw(vw[e],function(e){e(t)})};!function(e,t){vw[e]||(vw[e]=[]),vw[e].push(t)}("pre",function(e){var t,n=e.selection.getRng(),r=function(e){return i(e.previousSibling)&&-1!==Mt(t,e.previousSibling)},o=function(e,t){bu(t).remove(),bu(e).append("<br><br>").append(t.childNodes)},i=ao(["pre"]);n.collapsed||(t=e.selection.getSelectedBlocks(),yw(bw(bw(t,i),r),function(e){o(e.previousSibling,e)}))});var xw=zn.each,Cw=function(e){return io(e)&&!am(e)&&!Bp(e)&&!co(e)},_w=function(e,t){var n;for(n=e;n;n=n[t]){if(ho(n)&&0!==n.nodeValue.length)return e;if(io(n)&&!am(n))return n}return e},Sw=function(e,t,n){var r,o,i=new Fh(e);if(t&&n&&(t=_w(t,"previousSibling"),n=_w(n,"nextSibling"),i.compare(t,n))){for(r=t.nextSibling;r&&r!==n;)o=r,r=r.nextSibling,t.appendChild(o);return e.remove(n),zn.each(zn.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n},kw=function(e,t,n,r){if(r&&!1!==t.merge_siblings){var o=Sw(e,pm(r),r);Sw(e,o,pm(o,!0))}},Tw=function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";xw(e.select(r,n),function(n){Cw(n)&&xw(t.styles,function(t,r){e.setStyle(n,r,"")})})}},Ew=function(e,t,n){xw(e.childNodes,function(e){Cw(e)&&(t(e)&&n(e),e.hasChildNodes()&&Ew(e,t,n))})},Ow=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},Nw=function(e,t){return function(n){return!(!n||!xm(e,n,t))}},Aw=function(e,t,n){return function(r){e.setStyle(r,t,n),""===r.getAttribute("style")&&r.removeAttribute("style"),Ow(e,r)}},Dw=zu.generate([{keep:[]},{rename:["name"]},{removed:[]}]),Mw=/^(src|href|style)$/,Iw=zn.each,Rw=ym,Pw=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},Lw=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},jw=function(e,t,n){var r,o;if(r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],io(r)){var i=r.childNodes.length-1;!n&&o&&o--,r=r.childNodes[o>i?i:o]}return ho(r)&&n&&o>=r.nodeValue.length&&(r=new yu(r,e.getBody()).next()||r),ho(r)&&!n&&0===o&&(r=new yu(r,e.getBody()).prev()||r),r},Bw=function(e,t){var n=t?"firstChild":"lastChild";if(Pw(e)&&e[n]){var r=e[n];return"TR"===e.nodeName?r[n]||r:r}return e},zw=function(e,t,n,r){var o=e.create(n,r);return t.parentNode.insertBefore(o,t),o.appendChild(t),o},Fw=function(e,t,n,r,o){var i=Wn.fromDom(t),a=Wn.fromDom(e.create(r,o)),u=n?Cr(i):xr(i);return Fr(a,u),n?(Rr(i,a),Lr(a,i)):(Pr(i,a),jr(a,i)),a.dom()},Hw=function(e,t,n){return!!Rw(t,n.inline)||(!!Rw(t,n.block)||(n.selector?io(t)&&e.is(t,n.selector):void 0))},Uw=function(e,t){return t.links&&"A"===e.nodeName},Vw=function(e,t,n,r){return!(t=pm(t,n,r))||"BR"===t.nodeName||e.isBlock(t)},qw=function(e,t,n){var r,o=t.parentNode,i=e.dom,a=yf(e);n.block&&(a?o===i.getRoot()&&(n.list_block&&Rw(t,n.list_block)||Xe(dt(t.childNodes),function(t){hm(e,a,t.nodeName.toLowerCase())?r?r.appendChild(t):(r=zw(i,t,a),i.setAttribs(r,e.settings.forced_root_block_attrs)):r=0})):i.isBlock(t)&&!i.isBlock(o)&&(Vw(i,t,!1)||Vw(i,t.firstChild,!0,!0)||t.insertBefore(i.create("br"),t.firstChild),Vw(i,t,!0)||Vw(i,t.lastChild,!1,!0)||t.appendChild(i.create("br")))),n.selector&&n.inline&&!Rw(n.inline,t)||i.remove(t,!0)},Ww=function(e,t,n,r,o){var i,a=e.dom;if(!Hw(a,r,t)&&!Uw(r,t))return Dw.keep();var u=r;if(t.inline&&"all"===t.remove&&Re(t.preserve_attributes)){var s=Je(a.getAttribs(u),function(e){return We(t.preserve_attributes,e.name.toLowerCase())});if(a.removeAllAttribs(u),Xe(s,function(e){return a.setAttrib(u,e.name,e.value)}),s.length>0)return Dw.rename("span")}if("all"!==t.remove){Iw(t.styles,function(e,r){e=wm(a,bm(e,n),r),"number"==typeof r&&(r=e,o=null),(t.remove_similar||!o||Rw(xm(a,o,r),e))&&a.setStyle(u,r,""),i=!0}),i&&""===a.getAttrib(u,"style")&&(u.removeAttribute("style"),u.removeAttribute("data-mce-style")),Iw(t.attributes,function(e,r){var i;if(e=bm(e,n),"number"==typeof r&&(r=e,o=null),t.remove_similar||!o||Rw(a.getAttrib(o,r),e)){if("class"===r&&(e=a.getAttrib(u,r))&&(i="",Xe(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(i+=(i?" ":"")+e)}),i))return void a.setAttrib(u,r,i);"class"===r&&u.removeAttribute("className"),Mw.test(r)&&u.removeAttribute("data-mce-"+r),u.removeAttribute(r)}}),Iw(t.classes,function(e){e=bm(e,n),o&&!a.hasClass(o,e)||a.removeClass(u,e)});for(var c=a.getAttribs(u),l=0;l<c.length;l++){var f=c[l].nodeName;if(0!==f.indexOf("_")&&0!==f.indexOf("data-"))return Dw.keep()}}return"none"!==t.remove?(qw(e,u,t),Dw.removed()):Dw.keep()},$w=function(e,t,n,r,o){return Ww(e,t,n,r,o).fold(xe,function(t){return e.dom.rename(r,t),!0},Ce)},Gw=function(e,t,n,r,o){var i;return Xe(_m(e.dom,t.parentNode).reverse(),function(t){if(!i&&"_start"!==t.id&&"_end"!==t.id){var a=Gy(e,t,n,r,o);a&&!1!==a.split&&(i=t)}}),i},Xw=function(e,t,n,r){return Ww(e,t,n,r,r).fold(ve(r),function(t){return e.dom.createFragment().appendChild(r),e.dom.rename(r,t)},ve(null))},Kw=function(e,t,n,r,o,i,a,u){var s,c,l,f=e.dom;if(n){for(var d=n.parentNode,p=r.parentNode;p&&p!==d;p=p.parentNode){s=f.clone(p,!1);for(var m=0;m<t.length&&null!==(s=Xw(e,t[m],u,s));m++);s&&(c&&s.appendChild(c),l||(l=s),c=s)}!i||a.mixed&&f.isBlock(n)||(r=f.split(n,r)),c&&(o.parentNode.insertBefore(c,o),l.appendChild(o),a.inline&&kw(f,a,0,c))}return r},Yw=function(e,t,n,r,o){var i=e.formatter.get(t),a=i[0],u=!0,s=e.dom,c=e.selection,l=function(r){var u=Gw(e,r,t,n,o);return Kw(e,i,u,r,r,!0,a,n)},f=function(e){return am(e)&&io(e)&&("_start"===e.id||"_end"===e.id)},d=function(t){var r,o;io(t)&&s.getContentEditable(t)&&(r=u,u="true"===s.getContentEditable(t),o=!0);var c=dt(t.childNodes);if(u&&!o)for(var l=0;l<i.length&&!$w(e,i[l],n,t,t);l++);if(a.deep&&c.length){for(var l=0;l<c.length;l++)d(c[l]);o&&(u=r)}},p=function(e){var t=s.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return f(n)&&(n=n[e?"firstChild":"lastChild"]),ho(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),s.remove(t,!0),n},m=function(t){var n,r,o=zm(e,t,i,!0);if(a.split){if(o=Hy(o),n=jw(e,o,!0),r=jw(e,o),n!==r){if(n=Bw(n,!0),r=Bw(r,!1),Lw(s,n,r)){var u=Ee.from(n.firstChild).getOr(n);return l(Fw(s,u,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void p(!0)}if(Lw(s,r,n)){var u=Ee.from(r.lastChild).getOr(r);return l(Fw(s,u,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void p(!1)}n=zw(s,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=zw(s,r,"span",{id:"_end","data-mce-type":"bookmark"});var c=s.createRng();c.setStartAfter(n),c.setEndBefore(r),Um(s,c,function(e){Xe(e,function(e){am(e)||am(e.parentNode)||l(e)})}),l(n),l(r),n=p(!0),r=p()}else n=r=l(n);o.startContainer=n.parentNode?n.parentNode:n,o.startOffset=s.nodeIndex(n),o.endContainer=r.parentNode?r.parentNode:r,o.endOffset=s.nodeIndex(r)+1}Um(s,o,function(t){Xe(t,function(t){d(t),Xe(["underline","line-through","overline"],function(n){io(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&Cm(s,t.parentNode)===n&&$w(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},null,t)})})})};if(r)if(lm(r)){var h=s.createRng();h.setStartBefore(r),h.setEndAfter(r),m(h)}else m(r);else if("false"!==s.getContentEditable(c.getNode()))c.isCollapsed()&&a.inline&&!Km(e).length?fw(e,t,n,o):(oh(c,!0,function(){rh(e,m)}),a.inline&&Xy(e,t,n,c.getStart())&&dm(s,c,c.getRng()),e.nodeChanged());else{r=c.getNode();for(var g=0;g<i.length&&(!i[g].ceFalseOverride||!$w(e,i[g],n,r,r));g++);}},Jw=zn.each,Qw=function(e,t,n,r){var o=function(t){if(1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType){var n=Cm(e,t.parentNode);e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(zn.walk(r,o,"childNodes"),o(r))},Zw=function(e,t,n,r){t.styles&&t.styles.backgroundColor&&Ew(r,Nw(e,"fontSize"),Aw(e,"backgroundColor",bm(t.styles.backgroundColor,n)))},ex=function(e,t,n,r){"sub"!==t.inline&&"sup"!==t.inline||(Ew(r,Nw(e,"fontSize"),Aw(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",r),!0))},tx=function(e,t,n,r){Jw(t,function(t){Jw(e.dom.select(t.inline,r),function(r){Cw(r)&&$w(e,t,n,r,t.exact?r:null)}),Tw(e.dom,t,r)})},nx=function(e,t,n,r,o){Gy(e,o.parentNode,n,r)&&$w(e,t,r,o)||t.merge_with_parents&&e.dom.getParent(o.parentNode,function(i){if(Gy(e,i,n,r))return $w(e,t,r,o),!0})},rx=zn.each,ox=function(e){return e&&1===e.nodeType&&!am(e)&&!Bp(e)&&!co(e)},ix=function(e,t,n,r){var o,i=e.formatter.get(t),a=i[0],u=!r&&e.selection.isCollapsed(),s=e.dom,c=e.selection,l=function(e,t){if(t=t||a,e){if(t.onformat&&t.onformat(e,t,n,r),rx(t.styles,function(t,r){s.setStyle(e,r,bm(t,n))}),t.styles){var o=s.getAttrib(e,"style");o&&s.setAttrib(e,"data-mce-style",o)}rx(t.attributes,function(t,r){s.setAttrib(e,r,bm(t,n))}),rx(t.classes,function(t){t=bm(t,n),s.hasClass(e,t)||s.addClass(e,t)})}},f=function(e,t){var n=!1;return!!a.selector&&(rx(e,function(e){if(!("collapsed"in e&&e.collapsed!==u))return s.is(t,e.selector)&&!Bp(t)?(l(t,e),n=!0,!1):void 0}),n)},d=function(r,o,u,s){var c=[],d=!0,p=a.inline||a.block,m=r.create(p);l(m),Um(r,o,function(o){var u,h=function(o){var g=!1,v=d,b=o.nodeName.toLowerCase(),y=o.parentNode.nodeName.toLowerCase();if(io(o)&&r.getContentEditable(o)&&(v=d,d="true"===r.getContentEditable(o),g=!0),ym(b,"br"))return u=0,void(a.block&&r.remove(o));if(a.wrapper&&Gy(e,o,t,n))return void(u=0);if(d&&!g&&a.block&&!a.wrapper&&mm(e,b)&&hm(e,y,p))return o=r.rename(o,p),l(o),c.push(o),void(u=0);if(a.selector){var w=f(i,o);if(!a.inline||w)return void(u=0)}!d||g||!hm(e,p,b)||!hm(e,y,p)||!s&&3===o.nodeType&&1===o.nodeValue.length&&65279===o.nodeValue.charCodeAt(0)||Bp(o)||a.inline&&r.isBlock(o)?(u=0,rx(zn.grep(o.childNodes),h),g&&(d=v),u=0):(u||(u=r.clone(m,!1),o.parentNode.insertBefore(u,o),c.push(u)),u.appendChild(o))};rx(o,h)}),!0===a.links&&rx(c,function(e){var t=function(e){"A"===e.nodeName&&l(e,a),rx(zn.grep(e.childNodes),t)};t(e)}),rx(c,function(o){var u=function(e){var t=!1;return rx(e.childNodes,function(e){if(ox(e))return t=e,!1}),t},s=function(e){var t=0;return rx(e.childNodes,function(e){vm(e)||am(e)||t++}),t}(o);if((c.length>1||!r.isBlock(o))&&0===s)return void r.remove(o,!0);(a.inline||a.wrapper)&&(a.exact||1!==s||(o=function(e){var t,n=u(e);return n&&!am(n)&&Wy(r,n,a)&&(t=r.clone(n,!1),l(t),r.replace(t,e,!0),r.remove(n,!0)),t||e}(o)),tx(e,i,n,o),nx(e,a,t,n,o),Zw(r,a,n,o),Qw(r,a,0,o),ex(r,a,0,o),kw(r,a,0,o))})};if("false"!==s.getContentEditable(c.getNode())){if(a){if(r)lm(r)?f(i,r)||(o=s.createRng(),o.setStartBefore(r),o.setEndAfter(r),d(s,zm(e,o,i),0,!0)):d(s,r,0,!0);else if(u&&a.inline&&!Km(e).length)lw(e,t,n);else{var p=c.getNode();e.settings.forced_root_block||!i[0].defaultBlock||s.getParent(p,s.isBlock)||ix(e,i[0].defaultBlock),c.setRng(Iv(c.getRng())),oh(c,!0,function(t){rh(e,function(t,n){var r=n?t:zm(e,t,i);d(s,r)})}),dm(s,c,c.getRng()),e.nodeChanged()}ww(t,e)}}else{r=c.getNode();for(var m=0,h=i.length;m<h;m++)if(i[m].ceFalseOverride&&s.is(r,i[m].selector))return void l(r,i[m])}},ax=function(e,t,n,r){var o=e.formatter.get(t);!Xy(e,t,n,r)||"toggle"in o[0]&&!o[0].toggle?ix(e,t,n,r):Yw(e,t,n,r)},ux=function(e,t){return Ge(t,function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t})},sx=function(e,t){var r=t||n.document,o=r.createDocumentFragment();return Xe(e,function(e){o.appendChild(e.dom())}),Wn.fromDom(o)},cx=function(e,t,n){return{element:ve(e),width:ve(t),rows:ve(n)}},lx=function(e,t){return{element:ve(e),cells:ve(t)}},fx=function(e,t){return{x:ve(e),y:ve(t)}},dx=function(e,t){var n=parseInt(To(e,t),10);return isNaN(n)?1:n},px=function(e,t,n,r,o){for(var i=dx(o,"rowspan"),a=dx(o,"colspan"),u=e.rows(),s=n;s<n+i;s++){u[s]||(u[s]=lx(uc(r),[]));for(var c=t;c<t+a;c++){u[s].cells()[c]=s===n&&c===t?o:ac(o)}}},mx=function(e,t,n){var r=e.rows();return!!(r[n]?r[n].cells():[])[t]},hx=function(e,t,n){for(;mx(e,t,n);)t++;return t},gx=function(e){return Ze(e,function(e,t){return t.cells().length>e?t.cells().length:e},0)},vx=function(e,t){for(var n=e.rows(),r=0;r<n.length;r++)for(var o=n[r].cells(),i=0;i<o.length;i++)if(sr(o[i],t))return Ee.some(fx(i,r));return Ee.none()},bx=function(e,t,n,r,o){for(var i=[],a=e.rows(),u=n;u<=o;u++){var s=a[u].cells(),c=t<r?s.slice(t,r+1):s.slice(r,t+1);i.push(lx(a[u].element(),c))}return i},yx=function(e,t,n){var r=t.x(),o=t.y(),i=n.x(),a=n.y(),u=o<a?bx(e,r,o,i,a):bx(e,r,a,i,o);return cx(e.element(),gx(u),u)},wx=function(e,t){var n=ac(e.element()),r=Wn.fromTag("tbody");return Fr(r,t),jr(n,r),n},xx=function(e){return Ge(e.rows(),function(e){var t=Ge(e.cells(),function(e){var t=uc(e);return No(t,"colspan"),No(t,"rowspan"),t}),n=ac(e.element());return Fr(n,t),n})},Cx=function(e){var t=cx(ac(e),0,[]);return Xe(js(e,"tr"),function(e,n){Xe(js(e,"td,th"),function(r,o){px(t,hx(t,o,n),n,e,r)})}),cx(t.element(),gx(t.rows()),t.rows())},_x=function(e){return wx(e,xx(e))},Sx=function(e,t,n){return vx(e,t).bind(function(t){return vx(e,n).map(function(n){return yx(e,t,n)})})},kx=function(e){return tt(e,function(e){return"ul"===$n(e)||"ol"===$n(e)})},Tx=function(e,t){return tt(e,function(e){return"li"===$n(e)&&eh(e,t)}).fold(ve([]),function(t){return kx(e).map(function(e){var t=Wn.fromTag($n(e)),n=xt(Lo(e),function(e,t){return nn(t,"list-style")});return Mo(t,n),[Wn.fromTag("li"),t]}).getOr([])})},Ex=function(e,t){var n=Ze(t,function(e,t){return jr(t,e),t},e);return t.length>0?sx([n]):n},Ox=function(e){return ai(e)?gr(e).filter(ii).fold(ve([]),function(t){return[e,t]}):ii(e)?[e]:[]},Nx=function(e,t){var n=Wn.fromDom(t.commonAncestorContainer),r=vg(n,e),o=Je(r,function(e){return ni(e)||Zo(e)}),i=Tx(r,t),a=o.concat(i.length?i:Ox(n));return Ge(a,ac)},Ax=function(){return sx([])},Dx=function(e,t){return Ex(Wn.fromDom(t.cloneContents()),Nx(e,t))},Mx=function(e,t){return Fs(t,"table",r(sr,e))},Ix=function(e,t){return Mx(e,t[0]).bind(function(e){var n=t[0],r=t[t.length-1],o=Cx(e);return Sx(o,n,r).map(function(e){return sx([_x(e)])})}).getOrThunk(Ax)},Rx=function(e,t){return t.length>0&&t[0].collapsed?Ax():Dx(e,t[0])},Px=function(e,t){var n=Xm(t,e);return n.length>0?Ix(e,n):Rx(e,t)},Lx=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},jx=function(e,t){return t>=0&&t<e.length&&sm(e.charAt(t))},Bx=function(e){var t=dc(e.innerText);return Tn.browser.isIE()?Lx(t):t},zx=function(e){return Ee.from(e.selection.getRng()).map(function(t){var n=e.dom.add(e.getBody(),"div",{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),r=Bx(n),o=dc(n.textContent);if(e.dom.remove(n),jx(o,0)||jx(o,o.length-1)){var i=e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock),a=Bx(i),u=a.indexOf(r);if(-1!==u){var s=jx(a,u-1),c=jx(a,u+r.length);return(s?" ":"")+r+(c?" ":"")}return r}return r}).getOr("")},Fx=function(e,t){var n=e.selection.getRng(),r=e.dom.create("body"),o=e.selection.getSel(),i=ux(e,Vm(o)),a=t.contextual?Px(Wn.fromDom(e.getBody()),i).dom():n.cloneContents();return a&&r.appendChild(a),e.selection.serializer.serialize(r,t)},Hx=function(e,t,n){if(void 0===n&&(n={}),n.get=!0,n.format=t,n.selection=!0,n=e.fire("BeforeGetContent",n),n.isDefaultPrevented())return e.fire("GetContent",n),n.content;if("text"===n.format)return zx(e);n.getInner=!0;var r=Fx(e,n);return"tree"===n.format?r:(n.content=e.selection.isCollapsed()?"":r,e.fire("GetContent",n),n.content)},Ux=function(e,t){var n=e.length+t.length+2,r=new Array(n),o=new Array(n),i=function(e,t,n){return{start:e,end:t,diag:n}},a=function(n,r,o,i,u){var c=s(n,r,o,i);if(null===c||c.start===r&&c.diag===r-i||c.end===n&&c.diag===n-o)for(var l=n,f=o;l<r||f<i;)l<r&&f<i&&e[l]===t[f]?(u.push([0,e[l]]),++l,++f):r-n>i-o?(u.push([2,e[l]]),++l):(u.push([1,t[f]]),++f);else{a(n,c.start,o,c.start-c.diag,u);for(var d=c.start;d<c.end;++d)u.push([0,e[d]]);a(c.end,r,c.end-c.diag,i,u)}},u=function(n,r,o,a){for(var u=n;u-r<a&&u<o&&e[u]===t[u-r];)++u;return i(n,u,r)},s=function(n,i,a,s){var c=i-n,l=s-a;if(0===c||0===l)return null;var f=c-l,d=l+c,p=(d%2==0?d:d+1)/2;r[1+p]=n,o[1+p]=i+1;var m,h,g,v,b;for(m=0;m<=p;++m){for(h=-m;h<=m;h+=2){for(g=h+p,h===-m||h!==m&&r[g-1]<r[g+1]?r[g]=r[g+1]:r[g]=r[g-1]+1,v=r[g],b=v-n+a-h;v<i&&b<s&&e[v]===t[b];)r[g]=++v,++b;if(f%2!=0&&f-m<=h&&h<=f+m&&o[g-f]<=r[g])return u(o[g-f],h+n-a,i,s)}for(h=f-m;h<=f+m;h+=2){for(g=h+p-f,h===f-m||h!==f+m&&o[g+1]<=o[g-1]?o[g]=o[g+1]-1:o[g]=o[g-1],v=o[g]-1,b=v-n+a-h;v>=n&&b>=a&&e[v]===t[b];)o[g]=v--,b--;if(f%2==0&&-m<=h&&h<=m&&o[g]<=r[g+f])return u(o[g],h+n-a,i,s)}}},c=[];return a(0,e.length,0,t.length,c),c},Vx=function(e){return io(e)?e.outerHTML:ho(e)?Ii.encodeRaw(e.data,!1):go(e)?"\x3c!--"+e.data+"--\x3e":""},qx=function(e){var t,r=n.document.createElement("div"),o=n.document.createDocumentFragment();for(e&&(r.innerHTML=e);t=r.firstChild;)o.appendChild(t);return o},Wx=function(e,t,n){var r=qx(t);if(e.hasChildNodes()&&n<e.childNodes.length){var o=e.childNodes[n];o.parentNode.insertBefore(r,o)}else e.appendChild(r)},$x=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}},Gx=function(e,t){var n=0;Xe(e,function(e){0===e[0]?n++:1===e[0]?(Wx(t,e[1],n),n++):2===e[0]&&$x(t,n)})},Xx=function(e){return Je(Ge(dt(e.childNodes),Vx),function(e){return e.length>0})},Kx=function(e,t){var n=Ge(dt(t.childNodes),Vx);return Gx(Ux(n,e),t),t},Yx=ss(Ee.none()),Jx=function(){return Yx.get().getOrThunk(function(){var e=n.document.implementation.createHTMLDocument("undo");return Yx.set(Ee.some(e)),e})},Qx=function(e){return-1!==e.indexOf("</iframe>")},Zx=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},eC=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},tC=function(e){var t=Xx(e.getBody()),n=ot(t,function(t){var n=Rh(e.serializer,t);return n.length>0?[n]:[]}),r=n.join("");return Qx(r)?Zx(n):eC(r)},nC=function(e,t,n){"fragmented"===t.type?Kx(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},rC=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},oC=function(e){var t=Wn.fromTag("body",Jx());return oc(t,rC(e)),Xe(js(t,"*[data-mce-bogus]"),Vr),rc(t)},iC=function(e,t){return rC(e)===rC(t)},aC=function(e,t){return oC(e)===oC(t)},uC=function(e,t){return!(!e||!t)&&(!!iC(e,t)||aC(e,t))},sC=function(e){return 0===e.get()},cC=function(e,t,n){sC(n)&&(e.typing=t)},lC=function(e,t){e.typing&&(cC(e,!1,t),e.add())},fC=function(e){e.typing&&(e.typing=!1,e.add())},dC=function(e,t,n){sC(t)&&n.set(Ee.some(cf(e.selection)))},pC=function(e,t,n,r,o,i,a){var u=tC(e);if(i=i||{},i=zn.extend(i,u),!1===sC(r)||e.removed)return null;var s=t.data[n.get()];if(e.fire("BeforeAddUndo",{level:i,lastLevel:s,originalEvent:a}).isDefaultPrevented())return null;if(s&&uC(s,i))return null;t.data[n.get()]&&o.get().each(function(e){t.data[n.get()].beforeBookmark=e});var c=fd(e);if(c&&t.data.length>c){for(var l=0;l<t.data.length-1;l++)t.data[l]=t.data[l+1];t.data.length--,n.set(t.data.length)}i.bookmark=cf(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(i),n.set(t.data.length-1);var f={level:i,lastLevel:s,originalEvent:a};return e.fire("AddUndo",f),n.get()>0&&(e.setDirty(!0),e.fire("change",f)),i},mC=function(e,t,n){t.data=[],n.set(0),t.typing=!1,e.fire("ClearUndos")},hC=function(e,t,n,r,o){if(t.transact(r)){var i=t.data[n.get()].bookmark,a=t.data[n.get()-1];nC(e,a,!0),t.transact(o)&&(t.data[n.get()-1].beforeBookmark=i)}},gC=function(e,t,n){var r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],nC(e,r,!1),e.setDirty(!0),e.fire("Redo",{level:r})),r},vC=function(e,t,n,r){var o;return t.typing&&(t.add(),t.typing=!1,cC(t,!1,n)),r.get()>0&&(r.set(r.get()-1),o=t.data[r.get()],nC(e,o,!0),e.setDirty(!0),e.fire("Undo",{level:o})),o},bC=function(e){e.clear(),e.add()},yC=function(e,t,n){return n.get()>0||t.typing&&t.data[0]&&!uC(tC(e),t.data[0])},wC=function(e,t){return t.get()<e.data.length-1&&!e.typing},xC=function(e,t,n){return lC(e,t),e.beforeChange(),e.ignore(n),e.add()},CC=function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},_C=function(e){return e instanceof bh},SC=function(e,t){Iy(e.serializer.getNodeFilters(),e.serializer.getAttributeFilters(),t)},kC=function(){return{type:"complete",fragments:[],content:"",bookmark:null,beforeBookmark:null}},TC=function(e){return{undoManager:{beforeChange:function(t,n){return dC(e,t,n)},addUndoLevel:function(t,n,r,o,i,a){return pC(e,t,n,r,o,i,a)},undo:function(t,n,r){return vC(e,t,n,r)},redo:function(t,n){return gC(e,t,n)},clear:function(t,n){return mC(e,t,n)},reset:function(e){return bC(e)},hasUndo:function(t,n){return yC(e,t,n)},hasRedo:function(e,t){return wC(e,t)},transact:function(e,t,n){return xC(e,t,n)},ignore:function(e,t){return CC(e,t)},extra:function(t,n,r,o){return hC(e,t,n,r,o)}},formatter:{apply:function(t,n,r){return ix(e,t,n,r)},remove:function(t,n,r,o){return Yw(e,t,n,r,o)},toggle:function(t,n,r){return ax(e,t,n,r)}},editor:{getContent:function(t,n){return Bh(e,t,n)},setContent:function(t,n){return zy(e,t,n)},insertContent:function(t,n){return gb(e,t,n)}},selection:{getContent:function(t,n){return Hx(e,t,n)}},raw:{getModel:function(){return Ee.none()}}}},EC=function(e,t){var n=function(e){return Ie(e)?e:{}},r=we("Unimplemented feature for rtc");return{undoManager:{beforeChange:me,addUndoLevel:r,undo:function(){return t.undo(),kC()},redo:function(){return t.redo(),kC()},clear:r,reset:r,hasUndo:function(){return t.hasUndo()},hasRedo:function(){return t.hasRedo()},transact:function(e,n,r){return t.transact(r),kC()},ignore:r,extra:r},formatter:{apply:function(e,r,o){return t.applyFormat(e,n(r))},remove:function(e,r,o,i){return t.removeFormat(e,n(r))},toggle:function(e,r,o){return t.toggleFormat(e,n(r))}},editor:{getContent:function(n,r){if("html"===r||"tree"===r){var o=t.getContent(),i=xh({inner:!0});return SC(e,o),"tree"===r?o:i.serialize(o)}return TC(e).editor.getContent(n,r)},setContent:function(n,r){var o=_C(n)?n:e.parser.parse(n,{isRootContent:!0,insert:!0});return t.setContent(o),n},insertContent:function(n,r){var o=_C(n)?n:e.parser.parse(n,{insert:!0});t.insertContent(o)}},selection:{getContent:function(n,r){if("html"===n||"tree"===n){var o=t.getSelectedContent(),i=xh({});return SC(e,o),"tree"===n?o:i.serialize(o)}return TC(e).selection.getContent(n,r)}},raw:{getModel:function(){return Ee.some(t.getRawModel())}}}},OC=function(e){return kt(e.plugins,"rtc")},NC=function(e){var t=e;return St(e.plugins,"rtc").fold(function(){return t.rtcInstance=TC(e),Ee.none()},function(n){return Ee.some(n.setup().then(function(n){return t.rtcInstance=EC(e,n),n.isRemote}))})},AC=function(e){return e.rtcInstance?e.rtcInstance:TC(e)},DC=function(e){var t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},MC=function(e,t,n){DC(e).undoManager.beforeChange(t,n)},IC=function(e,t,n,r,o,i,a){return DC(e).undoManager.addUndoLevel(t,n,r,o,i,a)},RC=function(e,t,n,r){return DC(e).undoManager.undo(t,n,r)},PC=function(e,t,n){return DC(e).undoManager.redo(t,n)},LC=function(e,t,n){DC(e).undoManager.clear(t,n)},jC=function(e,t){DC(e).undoManager.reset(t)},BC=function(e,t,n){return DC(e).undoManager.hasUndo(t,n)},zC=function(e,t,n){return DC(e).undoManager.hasRedo(t,n)},FC=function(e,t,n,r){return DC(e).undoManager.transact(t,n,r)},HC=function(e,t,n){DC(e).undoManager.ignore(t,n)},UC=function(e,t,n,r,o){DC(e).undoManager.extra(t,n,r,o)},VC=function(e,t,n,r){DC(e).formatter.apply(t,n,r)},qC=function(e,t,n,r,o){DC(e).formatter.remove(t,n,r,o)},WC=function(e,t,n,r){DC(e).formatter.toggle(t,n,r)},$C=function(e,t,n){return AC(e).editor.getContent(t,n)},GC=function(e,t,n){return AC(e).editor.setContent(t,n)},XC=function(e,t,n){return AC(e).editor.insertContent(t,n)},KC=function(e,t,n){return DC(e).selection.getContent(t,n)},YC=function(e,t){void 0===t&&(t={});var n=t.format?t.format:"html";return $C(e,t,n)},JC=function(e,t,n){return void 0===n&&(n={}),GC(e,t,n)},QC=function(e,t){return e.fire("PreProcess",t)},ZC=function(e,t){return e.fire("PostProcess",t)},e_=function(e){return e.fire("remove")},t_=function(e){return e.fire("detach")},n_=function(e,t){return e.fire("SwitchMode",{mode:t})},r_=function(e,t,n,r){e.fire("ObjectResizeStart",{target:t,width:n,height:r})},o_=function(e,t,n,r){e.fire("ObjectResized",{target:t,width:n,height:r})},i_=function(e){return e.fire("PreInit")},a_=function(e){return e.fire("PostRender")},u_=function(e){return e.fire("Init")},s_=function(e,t){return e.fire("PlaceholderToggle",{state:t})},c_=function(e,t,n){return e.fire(t,n)},l_=rs.DOM,f_=function(e){l_.setStyle(e.id,"display",e.orgDisplay)},d_=function(e){return Ee.from(e).each(function(e){return e.destroy()})},p_=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},m_=function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),l_.unbind(t,"submit reset",e.formEventDelegate))},h_=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),o=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&o&&l_.remove(o.nextSibling),e_(e),e.editorManager.remove(e),!e.inline&&r&&f_(e),t_(e),l_.remove(e.getContainer()),d_(t),d_(n),e.destroy()}},g_=function(e,t){var n=e.selection,r=e.dom;if(!e.destroyed){if(!t&&!e.removed)return void e.remove();t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),d_(n),d_(r)),m_(e),p_(e),e.destroyed=!0}},v_=Object.prototype.hasOwnProperty,b_=function(e,t){return Ie(e)&&Ie(t)?y_(e,t):t},y_=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)v_.call(i,a)&&(r[a]=e(r[a],i[a]))}return r}}(b_),w_=function(e,t){return{sections:ve(e),settings:ve(t)}},x_=vn().deviceType,C_=x_.isTouch(),__=x_.isPhone(),S_=x_.isTablet(),k_=["lists","autolink","autosave"],T_={table_grid:!1,object_resizing:!1,resize:!1},E_=function(e){var t=Re(e)?e.join(" "):e,n=Ge(Me(t)?t.split(" "):[],on);return Je(n,function(e){return e.length>0})},O_=function(e){return Je(e,r(We,k_))},N_=function(e,t){var n=wt(t,function(t,n){return We(e,n)});return w_(n.t,n.f)},A_=function(e,t,n){void 0===n&&(n={});var r=e.sections(),o=r.hasOwnProperty(t)?r[t]:{};return zn.extend({},n,o)},D_=function(e,t){return e.sections().hasOwnProperty(t)},M_=function(e,t,n){var r=e.sections();return D_(e,t)&&r[t].theme===n},I_=function(e,t){return D_(e,t)?e.sections()[t]:{}},R_=function(e,t){return St(e,"toolbar_mode").orThunk(function(){return St(e,"toolbar_drawer").map(function(e){return!1===e?"wrap":e})}).getOr(t)},P_=function(e,t,n,r,o){var i={id:t,theme:"silver",toolbar_mode:R_(e,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:o.convertURL,url_converter_scope:o};return Lt(Lt({},i),r?T_:{})},L_=function(e,t){var n={resize:!1,toolbar_mode:R_(e,"scrolling"),toolbar_sticky:!1},r={menubar:!1};return Lt(Lt(Lt({},T_),n),t?r:{})},j_=function(e,t){var n=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?zn.extend({},e.external_plugins,n):n},B_=function(e,t){return[].concat(E_(e)).concat(E_(t))},z_=function(e,t,n,r){var o=E_(n.forced_plugins),i=E_(r.plugins),a=I_(t,"mobile"),u=a.plugins?E_(a.plugins):i,s=e&&M_(t,"mobile","mobile")?O_(u):e&&D_(t,"mobile")?u:i,c=B_(o,s);return zn.extend(r,{plugins:c.join(" ")})},F_=function(e,t){return e&&D_(t,"mobile")},H_=function(e,t,n,r,o){var i=e?{mobile:L_(o.mobile||{},t)}:{},a=N_(["mobile"],y_(i,o)),u=zn.extend(n,r,a.settings(),F_(e,a)?A_(a,"mobile"):{},{validate:!0,external_plugins:j_(r,a.settings())});return z_(e,a,r,u)},U_=function(e,t,n,r,o){var i=P_(o,t,n,C_,e);return H_(__||S_,__,i,r,o)},V_=function(e,t,n){return Ee.from(t.settings[n]).filter(e)},q_=function(e){var t={};return"string"==typeof e?Xe(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(e){var n=e.split("=");n.length>1?t[zn.trim(n[0])]=zn.trim(n[1]):t[zn.trim(n[0])]=zn.trim(n[0])}):t=e,t},W_=function(e){return function(t){return Re(t)&&it(t,e)}},$_=function(e,t,n,r){var o=t in e.settings?e.settings[t]:n;return"hash"===r?q_(o):"string"===r?V_(Me,e,t).getOr(n):"number"===r?V_(ze,e,t).getOr(n):"boolean"===r?V_(Le,e,t).getOr(n):"object"===r?V_(Ie,e,t).getOr(n):"array"===r?V_(Re,e,t).getOr(n):"string[]"===r?V_(W_(Me),e,t).getOr(n):"function"===r?V_(Be,e,t).getOr(n):o},G_=function(){var e={};return{add:function(t,n){e[t]=n},get:function(t){return e[t]?e[t]:{icons:{}}},has:function(t){return kt(e,t)}}}(),X_=function(e,t){return t.dom()[e]},K_=function(e,t){return parseInt(Io(t,e),10)},Y_=r(X_,"clientWidth"),J_=r(X_,"clientHeight"),Q_=r(K_,"margin-top"),Z_=r(K_,"margin-left"),eS=function(e){return e.dom().getBoundingClientRect()},tS=function(e,t,n){var r=Y_(e),o=J_(e);return t>=0&&n>=0&&t<=r&&n<=o},nS=function(e,t,n,r){var o=eS(t);return{x:n-(e?o.left+t.dom().clientLeft+Z_(t):0),y:r-(e?o.top+t.dom().clientTop+Q_(t):0)}},rS=function(e,t,n){var r=Wn.fromDom(e.getBody()),o=e.inline?r:mr(r),i=nS(e.inline,o,t,n);return tS(o,i.x,i.y)},oS=function(e){return Ee.from(e).map(Wn.fromDom)},iS=function(e){var t=e.inline?e.getBody():e.getContentAreaContainer();return oS(t).map(function(e){return fr(dr(e),e)}).getOr(!1)},aS=Cs.PluginManager,uS=Cs.ThemeManager,sS=function(e){var t=[],n=function(){var t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():D()},r=function(e,t){return function(){return t?t.apply(e,arguments):void 0}},o=function(t){e.fire("OpenWindow",{dialog:t})},i=function(t){e.fire("CloseWindow",{dialog:t})},a=function(e){t.push(e),o(e)},u=function(n){i(n),t=Je(t,function(e){return e!==n}),0===t.length&&e.focus()},s=function(){return Ee.from(t[t.length-1])},c=function(t){e.editorManager.setActive(e),Jb(e);var n=t();return a(n),n},l=function(e,t){return c(function(){return n().open(e,t,u)})},f=function(e){return c(function(){return n().openUrl(e,u)})},d=function(e,t,o){n().alert(e,r(o||this,t))},p=function(e,t,o){n().confirm(e,r(o||this,t))},m=function(){s().each(function(e){n().close(e),u(e)})};return e.on("remove",function(){Xe(t,function(e){n().close(e)})}),{open:l,openUrl:f,alert:d,confirm:p,close:m}},cS=function(e,t){e.notificationManager.open({type:"error",text:t})},lS=function(e,t){e._skinLoaded?cS(e,t):e.on("SkinLoaded",function(){cS(e,t)})},fS=function(e,t){lS(e,xs.translate(["Failed to upload image: {0}",t]))},dS=function(e,t,r){c_(e,t,{message:r}),n.console.error(r)},pS=function(e,t,n){return n?"Failed to load "+e+": "+n+" from url "+t:"Failed to load "+e+" url: "+t},mS=function(e,t,n){dS(e,"PluginLoadError",pS("plugin",t,n))},hS=function(e,t,n){dS(e,"IconsLoadError",pS("icons",t,n))},gS=function(e,t,n){dS(e,"LanguageLoadError",pS("language",t,n))},vS=function(e,t,n){var r=xs.translate(["Failed to initialize plugin: {0}",t]);bS(r,n),lS(e,r)},bS=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var o=n.window.console;o&&(o.error?o.error.apply(o,i([e],t)):o.log.apply(o,i([e],t)))},yS=function(e){return/^[a-z0-9\-]+$/i.test(e)},wS=function(e){var t=Vf(e),n=e.editorManager.baseURL+"/skins/content",r=e.editorManager.suffix,o="content"+r+".css",i=!0===e.inline;return Ge(t,function(t){return yS(t)&&!i?n+"/"+t+"/"+o:e.documentBaseURI.toAbsolute(t)})},xS=function(e){e.contentCSS=e.contentCSS.concat(wS(e))},CS=function(e,t){var n=function(t,n){if(!ze(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom();Co(r)&&(r.style[e]=n+"px")},r=function(n){var r=t(n);if(r<=0||null===r){var o=Io(n,e);return parseFloat(o)||0}return r},o=r,i=function(e,t){return Ze(t,function(t,n){var r=Io(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o},0)};return{set:n,get:r,getOuter:o,aggregate:i,max:function(e,t,n){var r=i(e,n);return t>r?t-r:0}}}("height",function(e){var t=e.dom();return qr(e)?t.getBoundingClientRect().height:t.offsetHeight}),_S=function(e){return CS.get(e)},SS=function(e,t){return e.view(t).fold(ve([]),function(t){var n=e.owner(t);return[t].concat(SS(e,n))})},kS=function(e,t){var n=t.owner(e);return SS(t,n)},TS=function(e){return(e.dom()===n.document?Ee.none():Ee.from(e.dom().defaultView.frameElement)).map(Wn.fromDom)},ES=function(e){return dr(e)},OS=Object.freeze({__proto__:null,view:TS,owner:ES}),NS=function(e){var t=Wn.fromDom(n.document),r=Jr(t),o=kS(e,OS),i=Yr(e),a=Qe(o,function(e,t){var n=Yr(t);return{left:e.left+n.left(),top:e.top+n.top()}},{left:0,top:0});return $r(a.left+i.left()+r.left(),a.top+i.top()+r.top())},AS=function(e){return"textarea"===$n(e)},DS=function(e,t){return e.fire("ScrollIntoView",t).isDefaultPrevented()},MS=function(e,t){e.fire("AfterScrollIntoView",t)},IS=function(e,t){var n=_r(e);if(0===n.length||AS(e))return{element:e,offset:t};if(t<n.length&&!AS(n[t]))return{element:n[t],offset:0};var r=n[n.length-1];return AS(r)?{element:e,offset:t}:"img"===$n(r)?{element:r,offset:1}:Jn(r)?{element:r,offset:ah(r).length}:{element:r,offset:_r(r).length}},RS=function(e,t){var n=Kr(e),r=_S(e);return{element:e,bottom:n.top()+r,height:r,pos:n,cleanup:t}},PS=function(e,t){var n=IS(e,t),r=Wn.fromHtml('<span data-mce-bogus="all">\ufeff</span>');return Rr(n.element,r),RS(r,function(){return Ur(r)})},LS=function(e){return RS(Wn.fromDom(e),me)},jS=function(e,t,n,r){HS(e,function(o,i){return zS(e,t,n,r)},n)},BS=function(e,t,n,r,o){var i={elm:r.element.dom(),alignToTop:o};if(!DS(e,i)){n(t,Jr(t).top(),r,o),MS(e,i)}},zS=function(e,t,n,r){var o=Wn.fromDom(e.getBody()),i=Wn.fromDom(e.getDoc());jo(o);var a=PS(Wn.fromDom(n.startContainer),n.startOffset);BS(e,i,t,a,r),a.cleanup()},FS=function(e,t,n,r){var o=Wn.fromDom(e.getDoc());BS(e,o,n,LS(t),r)},HS=function(e,t,n){var r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset;t(Wn.fromDom(r),Wn.fromDom(i));var u=e.dom.createRng();u.setStart(r,o),u.setEnd(i,a),e.selection.setRng(n)},US=function(e,t,n,r){var o=e.pos;if(n)Qr(o.left(),o.top(),r);else{var i=o.top()-t+e.height;Qr(o.left(),i,r)}},VS=function(e,t,n,r,o){var i=n+t,a=r.pos.top(),u=r.bottom,s=u-a>=n;if(a<t)US(r,n,!1!==o,e);else if(a>i){var c=s?!1!==o:!0===o;US(r,n,c,e)}else u>i&&!s&&US(r,n,!0===o,e)},qS=function(e,t,n,r){var o=e.dom().defaultView.innerHeight;VS(e,t,o,n,r)},WS=function(e,t,r,o){var i=e.dom().defaultView.innerHeight;VS(e,t,i,r,o);var a=NS(r.element),u=no(n.window);a.top()<u.y?Zr(r.element,!1!==o):a.top()>u.bottom&&Zr(r.element,!0===o)},$S=function(e,t,n){return jS(e,qS,t,n)},GS=function(e,t,n){return FS(e,t,qS,n)},XS=function(e,t,n){return jS(e,WS,t,n)},KS=function(e,t,n){return FS(e,t,WS,n)},YS=function(e,t,n){(e.inline?GS:KS)(e,t,n)},JS=function(e,t,n){(e.inline?$S:XS)(e,t,n)},QS=function(e){return wo(e)||xo(e)},ZS=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},ek=function(e,t,n){var r,o=n.elementFromPoint(e,t),i=n.body.createTextRange();if(o&&"HTML"!==o.tagName||(o=n.body),i.moveToElementText(o),r=zn.toArray(i.getClientRects()),r=r.sort(function(e,n){return e=Math.abs(Math.max(e.top-t,e.bottom-t)),n=Math.abs(Math.max(n.top-t,n.bottom-t)),e-n}),r.length>0){t=(r[0].bottom+r[0].top)/2;try{return i.moveToPoint(e,t),i.collapse(!0),i}catch(e){}}return null},tk=function(e,t){var n=e&&e.parentElement?e.parentElement():null;return xo(ZS(n,t,QS))?null:e},nk=function(e,t,n){var r,o,i=n;if(i.caretPositionFromPoint)(o=i.caretPositionFromPoint(e,t))&&(r=n.createRange(),r.setStart(o.offsetNode,o.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(o){r=ek(e,t,n)}return tk(r,n.body)}return r},rk=function(e,t,n,r,o){var i=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return Ee.from(i).map(Wn.fromDom).map(function(e){return r&&t.collapsed?e:Sr(e,o(e,a)).getOr(e)}).bind(function(e){return Yn(e)?Ee.some(e):gr(e).filter(Yn)}).map(function(e){return e.dom()}).getOr(e)},ok=function(e,t,n){return rk(e,t,!0,n,function(e,t){return Math.min(Er(e),t)})},ik=function(e,t,n){return rk(e,t,!1,n,function(e,t){return t>0?t-1:t})},ak=function(e,t){for(var n=e;e&&ho(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},uk=function(e,t){var n,r,o;if(!t)return e;r=t.startContainer,o=t.endContainer;var i=t.startOffset,a=t.endOffset;return n=t.commonAncestorContainer,!t.collapsed&&(r===o&&a-i<2&&r.hasChildNodes()&&(n=r.childNodes[i]),3===r.nodeType&&3===o.nodeType&&(r=r.length===i?ak(r.nextSibling,!0):r.parentNode,o=0===a?ak(o.previousSibling,!1):o.parentNode,r&&r===o))?r:n&&3===n.nodeType?n.parentNode:n},sk=function(e,t,n,r){var o,i=[],a=e.getRoot();if(n=e.getParent(n||ok(a,t,t.collapsed),e.isBlock),r=e.getParent(r||ik(a,t,t.collapsed),e.isBlock),n&&n!==a&&i.push(n),n&&r&&n!==r){o=n;for(var u=new yu(n,a);(o=u.next())&&o!==r;)e.isBlock(o)&&i.push(o)}return r&&n!==r&&r!==a&&i.push(r),i},ck=function(e,t,n){return Ee.from(t).map(function(t){var r=e.nodeIndex(t),o=e.createRng();return o.setStart(t.parentNode,r),o.setEnd(t.parentNode,r+1),n&&(th(e,o,t,!0),th(e,o,t,!1)),o})},lk=function(e,t){void 0===t&&(t={});var n=t.format?t.format:"html";return KC(e,n,t)},fk=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},dk=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},pk=function(e,t,n){return null!==dk(e,t,n)},mk=function(e,t,n){return pk(e,t,function(e){return e.nodeName===n})},hk=function(e){return e&&"TABLE"===e.nodeName},gk=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},vk=function(e,t){return vc(e)&&!1===pk(e,t,Bp)},bk=function(e,t,n){for(var r=new yu(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(yo(t))return!0},yk=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t},wk=function(e,t){for(;t&&t!==e;){if(xo(t))return!0;t=t.parentNode}return!1},xk=function(e,t,n,r,o){var i,a,u=e.getRoot(),s=e.schema.getNonEmptyElements(),c=e.getParent(o.parentNode,e.isBlock)||u;if(r&&yo(o)&&t&&e.isEmpty(c))return Ee.some(E(o.parentNode,e.nodeIndex(o)));for(var l=new yu(o,c);a=l[r?"prev":"next"]();){if("false"===e.getContentEditableParent(a)||vk(a,u))return Ee.none();if(ho(a)&&a.nodeValue.length>0)return!1===mk(a,u,"A")?Ee.some(E(a,r?a.nodeValue.length:0)):Ee.none();if(e.isBlock(a)||s[a.nodeName.toLowerCase()])return Ee.none();i=a}return n&&i?Ee.some(E(i,0)):Ee.none()},Ck=function(e,t,n,r){var o,i,a,u,s=e.getRoot(),c=!1;o=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"];var l=io(o)&&i===o.childNodes.length,f=e.schema.getNonEmptyElements();if(u=n,vc(o))return Ee.none();if(io(o)&&i>o.childNodes.length-1&&(u=!1),vo(o)&&(o=s,i=0),o===s){if(u&&(a=o.childNodes[i>0?i-1:0])){if(vc(a))return Ee.none();if(f[a.nodeName]||hk(a))return Ee.none()}if(o.hasChildNodes()){if(i=Math.min(!u&&i>0?i-1:i,o.childNodes.length-1),o=o.childNodes[i],i=ho(o)&&l?o.data.length:0,!t&&o===s.lastChild&&hk(o))return Ee.none();if(wk(s,o)||vc(o))return Ee.none();if(o.hasChildNodes()&&!1===hk(o)){a=o;var d=new yu(o,s);do{if(xo(a)||vc(a)){c=!1;break}if(ho(a)&&a.nodeValue.length>0){i=u?0:a.nodeValue.length,o=a,c=!0;break}if(f[a.nodeName.toLowerCase()]&&!gk(a)){i=e.nodeIndex(a),o=a.parentNode,u||i++,c=!0;break}}while(a=u?d.next():d.prev())}}}return t&&(ho(o)&&0===i&&xk(e,l,t,!0,o).each(function(e){o=e.container(),i=e.offset(),c=!0}),io(o)&&(a=o.childNodes[i],a||(a=o.childNodes[i-1]),!a||!yo(a)||yk(a,"A")||bk(e,a,!1)||bk(e,a,!0)||xk(e,l,t,!0,a).each(function(e){o=e.container(),i=e.offset(),c=!0}))),u&&!t&&ho(o)&&i===o.nodeValue.length&&xk(e,l,t,!1,o).each(function(e){o=e.container(),i=e.offset(),c=!0}),c?Ee.some(E(o,i)):Ee.none()},_k=function(e,t){var n=t.collapsed,r=t.cloneRange(),o=E.fromRangeStart(t);return Ck(e,n,!0,r).each(function(e){n&&E.isAbove(o,e)||r.setStart(e.container(),e.offset())}),n||Ck(e,n,!1,r).each(function(e){r.setEnd(e.container(),e.offset())}),n&&r.collapse(!0),fk(t,r)?Ee.none():Ee.some(r)},Sk=function(e,t){e.insertData(0,t)},kk=function(e){return 0===e.dom().length?(Ur(e),Ee.none()):Ee.some(e)},Tk=function(e,t){var n=Ee.from(t.firstChild).map(Wn.fromDom),r=Ee.from(t.lastChild).map(Wn.fromDom);e.deleteContents(),e.insertNode(t);var o=n.bind(yr).filter(Jn).bind(kk),i=r.bind(wr).filter(Jn).bind(kk);Ac(o,n.filter(Jn),function(e,t){Sk(t.dom(),e.dom().data),Ur(e)}),Ac(i,r.filter(Jn),function(t,n){var r=n.dom().length;n.dom().appendData(t.dom().data),e.setEnd(n.dom(),r),Ur(t)}),e.collapse(!1)},Ek=function(e,t){return Lt(Lt({format:"html"},e),{set:!0,selection:!0,content:t})},Ok=function(e,t){if("raw"!==t.format){var n=e.parser.parse(t.content,Lt({isRootContent:!0,forced_root_block:!1},t));return xh({validate:e.validate},e.schema).serialize(n)}return t.content},Nk=function(e,t,n){void 0===n&&(n={});var r=Ek(n,t);if(!r.no_events&&(r=e.fire("BeforeSetContent",r),r.isDefaultPrevented()))return void e.fire("SetContent",r);n.content=Ok(e,r);var o=e.selection.getRng();Tk(o,o.createContextualFragment(n.content)),e.selection.setRng(o),JS(e,o),r.no_events||e.fire("SetContent",r)};!function(e){e.isBookmarkNode=am}(M||(M={}));var Ak,Dk=M,Mk=function(e,t,n){if(n.collapsed)return!1;if(Tn.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(io(r))return $e(r.getClientRects(),function(n){return Fc(n,e,t)})}return $e(n.getClientRects(),function(n){return Fc(n,e,t)})},Ik={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return Tn.mac?e.metaKey:e.ctrlKey&&!e.altKey}},Rk=xo,Pk=wo,Lk=function(e,t){for(;t&&t!==e;){if(Pk(t)||Rk(t))return t;t=t.parentNode}return null},jk=function(e,t){var r,o,i,a,u,s,c,l,f,d,p,m,h,g,v=t.dom,b=zn.each,y=t.getDoc(),w=n.document,x=Math.abs,C=Math.round,_=t.getBody(),S={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},k=function(e){return e&&("IMG"===e.nodeName||t.dom.is(e,"figure.image"))},T=function(e,t){if("longpress"===e.type||0===e.type.indexOf("touch")){var n=e.touches[0];return k(e.target)&&!Mk(n.clientX,n.clientY,t)}return k(e.target)&&!Mk(e.clientX,e.clientY,t)},E=function(e){var n=e.target;T(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},O=function(e){return t.dom.is(e,"figure.image")?e.querySelector("img"):e},N=function(e){var n=$f(t);return!1!==n&&!Tn.iOS&&("string"!=typeof n&&(n="table,img,figure.image,div"),"false"!==e.getAttribute("data-mce-resize")&&(e!==t.getBody()&&or(Wn.fromDom(e),n)))},A=function(e,t,n){v.setStyles(O(e),{width:t,height:n})},D=function(e){var n,b,y,w,S;n=e.screenX-u,b=e.screenY-s,p=n*a[2]+c,m=b*a[3]+l,p=p<5?5:p,m=m<5?5:m,y=k(r)&&!1!==Gf(t)?!Ik.modifierPressed(e):Ik.modifierPressed(e),y&&(x(n)>x(b)?(m=C(p*f),p=C(m/f)):(p=C(m/f),m=C(p*f))),A(o,p,m),w=a.startPos.x+n,S=a.startPos.y+b,w=w>0?w:0,S=S>0?S:0,v.setStyles(i,{left:w,top:S,display:"block"}),i.innerHTML=p+" &times; "+m,a[2]<0&&o.clientWidth<=p&&v.setStyle(o,"left",void 0+(c-p)),a[3]<0&&o.clientHeight<=m&&v.setStyle(o,"top",void 0+(l-m)),n=_.scrollWidth-h,b=_.scrollHeight-g,n+b!==0&&v.setStyles(i,{left:w-n,top:S-b}),d||(r_(t,r,c,l),d=!0)},M=function(){var e=d;d=!1;var n=function(e,n){n&&(r.style[e]||!t.schema.isValid(r.nodeName.toLowerCase(),e)?v.setStyle(O(r),e,n):v.setAttrib(O(r),e,""+n))};e&&(n("width",p),n("height",m)),v.unbind(y,"mousemove",D),v.unbind(y,"mouseup",M),w!==y&&(v.unbind(w,"mousemove",D),v.unbind(w,"mouseup",M)),v.remove(o),v.remove(i),I(r),e&&(o_(t,r,p,m),v.setAttrib(r,"style",v.getAttrib(r,"style"))),t.nodeChanged()},I=function(e){R(),j();var n=v.getPos(e,_),d=n.x,x=n.y,C=e.getBoundingClientRect(),k=C.width||C.right-C.left,T=C.height||C.bottom-C.top;r!==e&&(r=e,p=m=0);var E=t.fire("ObjectSelected",{target:e});N(e)&&!E.isDefaultPrevented()?b(S,function(e,t){var n,p=function(t){u=t.screenX,s=t.screenY,c=O(r).clientWidth,l=O(r).clientHeight,f=l/c,a=e,e.startPos={x:k*e[0]+d,y:T*e[1]+x},h=_.scrollWidth,g=_.scrollHeight,o=r.cloneNode(!0),v.addClass(o,"mce-clonedresizable"),v.setAttrib(o,"data-mce-bogus","all"),o.contentEditable=!1,o.unSelectabe=!0,v.setStyles(o,{left:d,top:x,margin:0}),A(o,k,T),o.removeAttribute("data-mce-selected"),_.appendChild(o),v.bind(y,"mousemove",D),v.bind(y,"mouseup",M),w!==y&&(v.bind(w,"mousemove",D),v.bind(w,"mouseup",M)),i=v.add(_,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},c+" &times; "+l)};n=v.get("mceResizeHandle"+t),n&&v.remove(n),n=v.add(_,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),11===Tn.ie&&(n.contentEditable=!1),v.bind(n,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),p(e)}),e.elm=n,v.setStyles(n,{left:k*e[0]+d-n.offsetWidth/2,top:T*e[1]+x-n.offsetHeight/2})}):R(),r.setAttribute("data-mce-selected","1")},R=function(){j(),r&&r.removeAttribute("data-mce-selected"),ht(S,function(e,t){var n=v.get("mceResizeHandle"+t);n&&(v.unbind(n),v.remove(n))})},P=function(n){var r,o,i=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};if(!d&&!t.removed){if(b(v.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),o="mousedown"===n.type?n.target:e.getNode(),o=v.$(o).closest("table,img,figure.image,hr")[0],i(o,_)&&(B(),r=e.getStart(!0),i(r,o)&&i(e.getEnd(!0),o)))return void I(o);R()}},L=function(e){return Rk(Lk(t.getBody(),e))},j=function(){ht(S,function(e){e.elm&&(v.unbind(e.elm),delete e.elm)})},B=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}};return t.on("init",function(){if(B(),Tn.browser.isIE()||Tn.browser.isEdge()){t.on("mousedown click",function(e){var n=e.target,r=n.nodeName;d||!/^(TABLE|IMG|HR)$/.test(r)||L(n)||(2!==e.button&&t.selection.select(n,"TABLE"===r),"mousedown"===e.type&&t.nodeChanged())});var e=function(e){var n=function(e){Xu.setEditorTimeout(t,function(){return t.selection.select(e)})};if(L(e.target))return e.preventDefault(),void n(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&n(e.target))};v.bind(_,"mscontrolselect",e),t.on("remove",function(){return v.unbind(_,"mscontrolselect",e)})}var n=Xu.throttle(function(e){t.composing||P(e)});t.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",n),t.on("keyup compositionend",function(e){r&&"TABLE"===r.nodeName&&n(e)}),t.on("hide blur",R),t.on("contextmenu longpress",E,!0)}),t.on("remove",j),{isResizable:N,showResizeRect:I,hideResizeRect:R,updateResizeRect:P,destroy:function(){r=o=null}}},Bk=function(e,t,n){if(e&&e.hasOwnProperty(t)){var r=Je(e[t],function(e){return e!==n});0===r.length?delete e[t]:e[t]=r}},zk=function(e){return!!e.select},Fk=function(e){return!(!e||!e.ownerDocument)&&fr(Wn.fromDom(e.ownerDocument),Wn.fromDom(e))},Hk=function(e){return!!e&&(!!zk(e)||Fk(e.startContainer)&&Fk(e.endContainer))},Uk=function(e,t,n,r){var o,i,a=I(e,r).selectorChangedWithUnbind,u=function(t,n){var o=e.createRng();t?(o.setStart(t,n),o.setEnd(t,n),y(o),g(!1)):(th(e,o,r.getBody(),!0),y(o))},s=function(e){return lk(r,e)},c=function(e,t){return Nk(r,e,t)},l=function(e){return ok(r.getBody(),b(),e)},f=function(e){return ik(r.getBody(),b(),e)},d=function(e,t){return M.getBookmark(e,t)},p=function(e){return M.moveToBookmark(e)},m=function(t,n){return ck(e,t,n).each(y),t},h=function(){var e=b(),t=v();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},g=function(e){var t=b();t.collapse(!!e),y(t)},v=function(){return t.getSelection?t.getSelection():t.document.selection},b=function(){var n,a,u,s=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}};if(!t)return null;var c=t.document;if(void 0===c||null===c)return null;if(void 0!==r.bookmark&&!1===Ty(r)){var l=Zb(r);if(l.isSome())return l.map(function(e){return ux(r,[e])[0]}).getOr(c.createRange())}try{(n=v())&&!oo(n.anchorNode)&&(a=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():c.createRange())}catch(e){}return a=ux(r,[a])[0],a||(a=c.createRange?c.createRange():c.body.createTextRange()),a.setStart&&9===a.startContainer.nodeType&&a.collapsed&&(u=e.getRoot(),a.setStart(u,0),a.setEnd(u,0)),o&&i&&(0===s(a.START_TO_START,a,o)&&0===s(a.END_TO_END,a,o)?a=i:(o=null,i=null)),a},y=function(e,t){var n;if(Hk(e)){var a=zk(e)?e:null;if(a){i=null;try{a.select()}catch(e){}}else{var u=v();if(e=r.fire("SetSelectionRange",{range:e,forward:t}).range,u){i=e;try{u.removeAllRanges(),u.addRange(e)}catch(e){}!1===t&&u.extend&&(u.collapse(e.endContainer,e.endOffset),u.extend(e.startContainer,e.startOffset)),o=u.rangeCount>0?u.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!u.setBaseAndExtent||Tn.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(n=e.startContainer.childNodes[e.startOffset])&&"IMG"===n.tagName&&(u.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),u.anchorNode===e.startContainer&&u.focusNode===e.endContainer||u.setBaseAndExtent(n,0,n,1)),r.fire("AfterSetSelectionRange",{range:e,forward:t})}}},w=function(t){return c(e.getOuterHTML(t)),t},x=function(){return uk(r.getBody(),b())},C=function(t,n){return sk(e,b(),t,n)},_=function(){var t=v();if(!t||!t.anchorNode||!t.focusNode)return!0;var n=e.createRng();n.setStart(t.anchorNode,t.anchorOffset),n.collapse(!0);var r=e.createRng();return r.setStart(t.focusNode,t.focusOffset),r.collapse(!0),n.compareBoundaryPoints(n.START_TO_START,r)<=0},S=function(){var t=b(),n=v();if(!Wm(n)&&nh(r)){var o=_k(e,t);return o.each(function(e){y(e,_())}),o.getOr(t)}return t},k=function(e,t){return a(e,t),D},T=function(){for(var t,n=e.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},E=function(e,t){return YS(r,e,t)},O=function(e,t){return y(nk(e,t,r.getDoc()))},N=function(){var e=b();return e.collapsed?Ol.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},A=function(){t=o=i=null,R.destroy()},D={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:g,setCursorLocation:u,getContent:s,setContent:c,getBookmark:d,moveToBookmark:p,select:m,isCollapsed:h,isForward:_,setNode:w,getNode:x,getSel:v,setRng:y,getRng:b,getStart:l,getEnd:f,getSelectedBlocks:C,normalize:S,selectorChanged:k,selectorChangedWithUnbind:a,getScrollContainer:T,scrollIntoView:E,placeCaretAt:O,getBoundingClientRect:N,destroy:A},M=Dk(D),R=jk(D,r);return D.bookmarkManager=M,D.controlSelection=R,D},Vk=function(e,t){Xe(t,function(t){e.attr(t,null)})},qk=function(e,t,n){e.addNodeFilter("font",function(e){Xe(e,function(e){var r=t.parse(e.attr("style")),o=e.attr("color"),i=e.attr("face"),a=e.attr("size");o&&(r.color=o),i&&(r["font-family"]=i),a&&(r["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(r)),Vk(e,["color","face","size"])})})},Wk=function(e,t){e.addNodeFilter("strike",function(e){Xe(e,function(e){var n=t.parse(e.attr("style"));n["text-decoration"]="line-through",e.name="span",e.attr("style",t.serialize(n))})})},$k=function(e,t){var n=Gi();t.convert_fonts_to_spans&&qk(e,n,zn.explode(t.font_size_legacy_values)),Wk(e,n)},Gk=function(e,t){t.inline_styles&&$k(e,t)},Xk=function(e){return new Hu(function(t,r){var o=function(){r("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var i=new n.XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onload=function(){200===this.status?t(this.response):o()},i.onerror=o,i.send()}catch(e){o()}})},Kk=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},Yk=function(e,t){var r;try{r=n.atob(t)}catch(e){return Ee.none()}for(var o=new Uint8Array(r.length),i=0;i<o.length;i++)o[i]=r.charCodeAt(i);return Ee.some(new n.Blob([o],{type:e}))},Jk=function(e){return new Hu(function(t){var r=Kk(e),o=r.type,i=r.data;Yk(o,i).fold(function(){return t(new n.Blob([]))},t)})},Qk=function(e){return 0===e.indexOf("blob:")?Xk(e):0===e.indexOf("data:")?Jk(e):null},Zk=function(e){return new Hu(function(t){var r=new n.FileReader;r.onloadend=function(){t(r.result)},r.readAsDataURL(e)})},eT=0,tT=function(e){return(e||"blobid")+eT++},nT=function(e,t,n,r){var o,i;if(0===t.src.indexOf("blob:"))return i=e.getByUri(t.src),void(i?n({image:t,blobInfo:i}):Qk(t.src).then(function(r){Zk(r).then(function(a){o=Kk(a).data,i=e.create(tT(),r,o),e.add(i),n({image:t,blobInfo:i})})},function(e){r(e)}));var a=Kk(t.src),u=a.data,s=a.type;o=u,i=e.getByData(o,s),i?n({image:t,blobInfo:i}):Qk(t.src).then(function(r){i=e.create(tT(),r,o),e.add(i),n({image:t,blobInfo:i})},function(e){r(e)})},rT=function(e){return e?dt(e.getElementsByTagName("img")):[]},oT=function(e,t,n,r){(e.padd_empty_with_br||t.insert)&&n[r.name]?r.empty().append(new bh("br",1)).shortEnded=!0:r.empty().append(new bh("#text",3)).value=" "},iT=function(e){return aT(e,"#text")&&" "===e.firstChild.value},aT=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},uT=function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty},sT=function(e,t,n,r){return r.isEmpty(t,n,function(t){return uT(e,t)})},cT=function(e,t){return e&&(t[e.name]||"br"===e.name)},lT=function(e){return e.attr("data-mce-bogus")},fT=function(e){return e.attr("src")===Tn.transparentSrc||e.attr("data-mce-placeholder")},dT=function(e,t){if(t.images_dataimg_filter){var r=new n.Image;return r.src=e.attr("src"),ht(e.attributes.map,function(e,t){r.setAttribute(t,e)}),t.images_dataimg_filter(r)}return!0},pT=function(e,t){var n=t.blob_cache,r=function(e){var r=e.attr("src");fT(e)||lT(e)||Sh(r).filter(function(){return dT(e,t)}).bind(function(e){var t=e.type,r=e.data;return Ee.from(n.getByData(r,t)).orThunk(function(){return Yk(t,r).map(function(e){var t=n.create(tT(),e,r);return n.add(t),t})})}).each(function(t){e.attr("src",t.blobUri())})};n&&e.addAttributeFilter("src",function(e){return Xe(e,r)})},mT=function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",function(e,r,o){var i,a,u,s,c,l,f,d,p=e.length,m=zn.extend({},n.getBlockElements()),h=n.getNonEmptyElements(),g=n.getWhiteSpaceElements();for(m.body=1,i=0;i<p;i++)if(a=e[i],u=a.parent,m[a.parent.name]&&a===u.lastChild){for(c=a.prev;c;){if("span"!==(l=c.name)||"bookmark"!==c.attr("data-mce-type")){if("br"!==l)break;if("br"===l){a=null;break}}c=c.prev}a&&(a.remove(),sT(n,h,g,u)&&(f=n.getElementRule(u.name))&&(f.removeEmpty?u.remove():f.paddEmpty&&oT(t,o,m,u)))}else{for(s=a;u&&u.firstChild===s&&u.lastChild===s&&(s=u,!m[u.name]);)u=u.parent;s===u&&!0!==t.padd_empty_with_br&&(d=new bh("#text",3),d.value=" ",a.replace(d))}}),e.addAttributeFilter("href",function(e){var n=e.length,r=function(e){return e.split(" ").filter(function(e){return e.length>0}).concat(["noopener"]).sort().join(" ")};if(!t.allow_unsafe_link_target)for(;n--;){var o=e[n];"a"===o.name&&"_blank"===o.attr("target")&&o.attr("rel",function(e){var t=e?zn.trim(e):"";return/\b(noopener)\b/g.test(t)?t:r(t)}(o.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(e){for(var t,n,r,o,i=e.length;i--;)if(o=e[i],"a"===o.name&&o.firstChild&&!o.attr("href")){r=o.parent,t=o.lastChild;do{n=t.prev,r.insert(t,o),t=n}while(t)}}),t.fix_list_elements&&e.addNodeFilter("ul,ol",function(e){for(var t,n,r=e.length;r--;)if(t=e[r],n=t.parent,"ul"===n.name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var o=new bh("li",1);o.attr("style","list-style-type: none"),t.wrap(o)}}),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",function(e){for(var t,r,o,i,a,u,s,c=e.length,l=n.getValidClasses();c--;){for(t=e[c],r=t.attr("class").split(" "),a="",o=0;o<r.length;o++)i=r[o],s=!1,u=l["*"],u&&u[i]&&(s=!0),u=l[t.name],!s&&u&&u[i]&&(s=!0),s&&(a&&(a+=" "),a+=i);a.length||(a=null),t.attr("class",a)}}),pT(e,t)},hT=zn.makeMap,gT=zn.each,vT=zn.explode,bT=zn.extend,yT=function(e,t){void 0===t&&(t=a());var n={},r=[],o={},i={};e=e||{},e.validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var u=function(e){var n,r,o,i,a,u,c,l,f,d,p,m=hT("tr,td,th,tbody,thead,tfoot,table"),h=t.getNonEmptyElements(),g=t.getWhiteSpaceElements(),v=t.getTextBlockElements(),b=t.getSpecialElements();for(n=0;n<e.length;n++)if(r=e[n],r.parent&&!r.fixed)if(v[r.name]&&"li"===r.parent.name){for(d=r.next;d&&v[d.name];)d.name="li",d.fixed=!0,r.parent.insert(d,r.parent),d=d.next;r.unwrap(r)}else{for(i=[r],o=r.parent;o&&!t.isValidChild(o.name,r.name)&&!m[o.name];o=o.parent)i.push(o);if(o&&i.length>1){for(i.reverse(),a=u=s(i[0].clone()),f=0;f<i.length-1;f++){for(t.isValidChild(u.name,i[f].name)?(c=s(i[f].clone()),u.append(c)):c=u,l=i[f].firstChild;l&&l!==i[f+1];)p=l.next,c.append(l),l=p;u=c}sT(t,h,g,a)?o.insert(r,i[0],!0):(o.insert(a,i[0],!0),o.insert(r,a)),o=i[0],(sT(t,h,g,o)||aT(o,"br"))&&o.empty().remove()}else if(r.parent){if("li"===r.name){if((d=r.prev)&&("ul"===d.name||"ul"===d.name)){d.append(r);continue}if((d=r.next)&&("ul"===d.name||"ul"===d.name)){d.insert(r,d.firstChild,!0);continue}r.wrap(s(new bh("ul",1)));continue}t.isValidChild(r.parent.name,"div")&&t.isValidChild("div",r.name)?r.wrap(s(new bh("div",1))):b[r.name]?r.empty().remove():r.unwrap()}}},s=function(e){var t,a,u;a=e.name,a in n&&(u=o[a],u?u.push(e):o[a]=[e]),t=r.length;for(;t--;)(a=r[t].name)in e.attributes.map&&(u=i[a],u?u.push(e):i[a]=[e]);return e},c=function(e,t){gT(vT(e),function(e){var r=n[e];r||(n[e]=r=[]),r.push(t)})},l=function(){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push({name:t,callbacks:n[t]});return e},f=function(e,t){gT(vT(e),function(e){var n;for(n=0;n<r.length;n++)if(r[n].name===e)return void r[n].callbacks.push(t);r.push({name:e,callbacks:[t]})})},d=function(){return[].concat(r)},p=function(a,s){var c,l,f,d,p,m,h,g,v,b=[];s=s||{},o={},i={};var y=bT(hT("script,style,head,html,body,title,meta,param"),t.getBlockElements()),w=t.getNonEmptyElements(),x=t.children,C=e.validate,_="forced_root_block"in s?s.forced_root_block:e.forced_root_block,S=function(e){return!1===e?"":!0===e?"p":e}(_),k=t.getWhiteSpaceElements(),T=/^[ \t\r\n]+/,E=/[ \t\r\n]+$/,O=/[ \t\r\n]+/g,N=/^[ \t\r\n]+$/;g=k.hasOwnProperty(s.context)||k.hasOwnProperty(e.root_name);var A=function(e,t){var r,i=new bh(e,t);return e in n&&(r=o[e],r?r.push(i):o[e]=[i]),i},D=function(e){var n,r,o,i,a=t.getBlockElements();for(n=e.prev;n&&3===n.type;){if(o=n.value.replace(E,""),o.length>0)return void(n.value=o);if(r=n.next){if(3===r.type&&r.value.length){n=n.prev;continue}if(!a[r.name]&&"script"!==r.name&&"style"!==r.name){n=n.prev;continue}}i=n.prev,n.remove(),n=i}},M=Mh({validate:C,allow_html_data_urls:e.allow_html_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n}(t.getSelfClosingElements()),cdata:function(e){v.append(A("#cdata",4)).value=e},text:function(e,t){var n;g||(e=e.replace(O," "),cT(v.lastChild,y)&&(e=e.replace(T,""))),0!==e.length&&(n=A("#text",3),n.raw=!!t,v.append(n).value=e)},comment:function(e){v.append(A("#comment",8)).value=e},pi:function(e,t){v.append(A(e,7)).value=t,D(v)},doctype:function(e){v.append(A("#doctype",10)).value=e,D(v)},start:function(e,n,o){var a,u,s,c,l=C?t.getElementRule(e):{};if(l){for(a=A(l.outputName||e,1),a.attributes=n,a.shortEnded=o,v.append(a),c=x[v.name],c&&x[a.name]&&!c[a.name]&&b.push(a),u=r.length;u--;)(s=r[u].name)in n.map&&(m=i[s],m?m.push(a):i[s]=[a]);y[e]&&D(a),o||(v=a),!g&&k[e]&&(g=!0)}},end:function(n){var r,o,i,a,u=C?t.getElementRule(n):{};if(u){if(y[n]&&!g){if((r=v.firstChild)&&3===r.type)if(o=r.value.replace(T,""),o.length>0)r.value=o,r=r.next;else for(i=r.next,r.remove(),r=i;r&&3===r.type;)o=r.value,i=r.next,(0===o.length||N.test(o))&&(r.remove(),r=i),r=i;if((r=v.lastChild)&&3===r.type)if(o=r.value.replace(E,""),o.length>0)r.value=o,r=r.prev;else for(i=r.prev,r.remove(),r=i;r&&3===r.type;)o=r.value,i=r.prev,(0===o.length||N.test(o))&&(r.remove(),r=i),r=i}if(g&&k[n]&&(g=!1),u.removeEmpty&&sT(t,w,k,v))return a=v.parent,y[v.name]?v.empty().remove():v.unwrap(),void(v=a);u.paddEmpty&&(iT(v)||sT(t,w,k,v))&&oT(e,s,y,v),v=v.parent}}},t),I=v=new bh(s.context||e.root_name,11);if(M.parse(a,s.format),C&&b.length&&(s.context?s.invalid=!0:u(b)),S&&("body"===I.name||s.isRootContent)&&function(){var n,r,o=I.firstChild,i=function(e){e&&(o=e.firstChild,o&&3===o.type&&(o.value=o.value.replace(T,"")),(o=e.lastChild)&&3===o.type&&(o.value=o.value.replace(E,"")))};if(t.isValidChild(I.name,S.toLowerCase())){for(;o;)n=o.next,3===o.type||1===o.type&&"p"!==o.name&&!y[o.name]&&!o.attr("data-mce-type")?r?r.append(o):(r=A(S,1),r.attr(e.forced_root_block_attrs),I.insert(r,o),r.append(o)):(i(r),r=null),o=n;i(r)}}(),!s.invalid){for(h in o)if(o.hasOwnProperty(h)){for(m=n[h],c=o[h],d=c.length;d--;)c[d].parent||c.splice(d,1);for(l=0,f=m.length;l<f;l++)m[l](c,h,s)}for(l=0,f=r.length;l<f;l++)if(m=r[l],m.name in i){for(c=i[m.name],d=c.length;d--;)c[d].parent||c.splice(d,1);for(d=0,p=m.callbacks.length;d<p;d++)m.callbacks[d](c,m.name,s)}}return I},m={schema:t,addAttributeFilter:f,getAttributeFilters:d,addNodeFilter:c,getNodeFilters:l,filterNode:s,parse:p};return mT(m,e),Gk(m,e),m},wT=function(e,t,n){e.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,r=e.length;r--;)n=e[r],n.attr("tabindex",n.attr("data-mce-tabindex")),n.attr(t,null)}),e.addAttributeFilter("src,href,style",function(e,r){for(var o,i,a=e.length,u="data-mce-"+r,s=t.url_converter,c=t.url_converter_scope;a--;)o=e[a],i=o.attr(u),void 0!==i?(o.attr(r,i.length>0?i:null),o.attr(u,null)):(i=o.attr(r),"style"===r?i=n.serializeStyle(n.parseStyle(i),o.name):s&&(i=s.call(c,i,r,o.name)),o.attr(r,i.length>0?i:null))}),e.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)t=e[r],(n=t.attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null))}),e.addAttributeFilter("data-mce-type",function(e,t,n){for(var r,o=e.length;o--;)if(r=e[o],"bookmark"===r.attr("data-mce-type")&&!n.cleanup){var i=Ee.from(r.firstChild).exists(function(e){return!fc(e.value)});i?r.unwrap():r.remove()}}),e.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=Ii.decode(t.value))}),e.addNodeFilter("script,style",function(e,n){for(var r,o,i,a=e.length,u=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};a--;)r=e[a],o=r.firstChild?r.firstChild.value:"","script"===n?(i=r.attr("type"),i&&r.attr("type","mce-no/type"===i?null:i.replace(/^mce\-/,"")),"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="// <![CDATA[\n"+u(o)+"\n// ]]>")):"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="\x3c!--\n"+u(o)+"\n--\x3e")}),e.addNodeFilter("#comment",function(e){for(var r,o=e.length;o--;)r=e[o],t.preserve_cdata&&0===r.value.indexOf("[CDATA[")?(r.name="#cdata",r.type=4,r.value=n.decode(r.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===r.value.indexOf("mce:protected ")&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(r.value).substr(14))}),e.addNodeFilter("xml:namespace,input",function(e,t){for(var n,r=e.length;r--;)n=e[r],7===n.type?n.remove():1===n.type&&("input"!==t||n.attr("type")||n.attr("type","text"))}),e.addAttributeFilter("data-mce-type",function(t){Xe(t,function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})},xT=function(e){var t=function(e){return e&&"br"===e.name},n=e.lastChild;if(t(n)){var r=n.prev;t(r)&&(n.remove(),r.remove())}},CT=function(e,t,r){var o,i,a=e.dom;t=t.cloneNode(!0);var u=n.document.implementation;return u.createHTMLDocument&&(o=u.createHTMLDocument(""),zn.each("BODY"===t.nodeName?t.childNodes:[t],function(e){o.body.appendChild(o.importNode(e,!0))}),t="BODY"!==t.nodeName?o.body.firstChild:o.body,i=a.doc,a.doc=o),QC(e,Lt(Lt({},r),{node:t})),i&&(a.doc=i),t},_T=function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events},ST=function(e,t,n){return _T(e,n)?CT(e,t,n):t},kT=function(e,t,n){-1===zn.inArray(t,n)&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),t.push(n))},TT=function(e,t,n){if(!t.no_events&&e){return ZC(e,Lt(Lt({},t),{content:n})).content}return n},ET=function(e,t,n){var r=dc(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||li(Wn.fromDom(t))?r:zn.trim(r)},OT=function(e,t,n){var r=n.selection?Lt({forced_root_block:!1},n):n,o=e.parse(t,r);return xT(o),o},NT=function(e,t,n){return xh(e,t).serialize(n)},AT=function(e,t,n,r,o){var i=NT(t,n,r);return TT(e,o,i)},DT=function(e,t){var n=["data-mce-selected"],o=t&&t.dom?t.dom:rs.DOM,i=t&&t.schema?t.schema:a(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs;var u=yT(e,i);wT(u,e,o);var s=function(n,r){void 0===r&&(r={});var a=Lt({format:"html"},r),s=ST(t,n,a),c=ET(o,s,a),l=OT(u,c,a);return"tree"===a.format?l:AT(t,e,i,l,a)};return{schema:i,addNodeFilter:u.addNodeFilter,addAttributeFilter:u.addAttributeFilter,serialize:s,addRules:function(e){i.addValidElements(e)},setRules:function(e){i.setValidElements(e)},addTempAttr:r(kT,u,n),getTempAttrs:function(){return n},getNodeFilters:u.getNodeFilters,getAttributeFilters:u.getAttributeFilters}},MT=function(e,t){var n=DT(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}},IT=0,RT=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+e()+e()+e()},PT=function(e){return e+IT+++RT()},LT=function(){var e=[],t=function(e){return{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[e.toLowerCase()]||"dat"},r=function(e,t,n,r){if(Me(e)){return o({id:e,name:r,blob:t,base64:n})}if(Ie(e))return o(e);throw new Error("Unknown input type")},o=function(e){if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var r=e.id||PT("blobid"),o=e.name||r;return{id:ve(r),name:ve(o),filename:ve(o+"."+t(e.blob.type)),blob:ve(e.blob),base64:ve(e.base64),blobUri:ve(e.blobUri||n.URL.createObjectURL(e.blob)),uri:ve(e.uri)}},i=function(t){u(t.id())||e.push(t)},a=function(t){return tt(e,t).getOrUndefined()},u=function(e){return a(function(t){return t.id()===e})};return{create:r,add:i,get:u,getByUri:function(e){return a(function(t){return t.blobUri()===e})},getByData:function(e,t){return a(function(n){return n.base64()===e&&n.blob().type===t})},findFirst:a,removeByUri:function(t){e=Je(e,function(e){return e.blobUri()!==t||(n.URL.revokeObjectURL(e.blobUri()),!1)})},destroy:function(){Xe(e,function(e){n.URL.revokeObjectURL(e.blobUri())}),e=[]}}},jT=function(e){var t,n,r=LT(),o=L(),i=[],a=function(t){return function(n){return e.selection?t(n):[]}},u=function(e){return e+(-1===e.indexOf("?")?"?":"&")+(new Date).getTime()},s=function(e,t,n){var r=0;do{-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1)}while(-1!==r);return e},c=function(e,t,n){return e=s(e,'src="'+t+'"','src="'+n+'"'),e=s(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},l=function(t,n){Xe(e.undoManager.data,function(e){"fragmented"===e.type?e.fragments=Ge(e.fragments,function(e){return c(e,t,n)}):e.content=c(e.content,t,n)})},f=function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},d=function(t,n){var r=e.convertURL(n,"src");l(t.src,n),e.$(t).attr({src:Nf(e)?u(n):n,"data-mce-src":r})},p=function(n){return t||(t=P(o,{url:If(e),basePath:Rf(e),credentials:Pf(e),handler:Lf(e)})),v().then(a(function(o){var i=Ge(o,function(e){return e.blobInfo});return t.upload(i,f).then(a(function(t){var i=Ge(t,function(t,n){var i=o[n].blobInfo,a=o[n].image;return t.status&&Af(e)?(r.removeByUri(a.src),d(a,t.url)):t.error&&fS(e,t.error),{element:a,status:t.status,uploadUri:t.url,blobInfo:i}});return n&&n(i),i}))}))},m=function(t){if(Of(e))return p(t)},h=function(t){if(!1===it(i,function(e){return e(t)}))return!1;if(0===t.getAttribute("src").indexOf("data:")){return Ef(e)(t)}return!0},g=function(e){i.push(e)},v=function(){return n||(n=R(o,r)),n.findAll(e.getBody(),h).then(a(function(t){return t=Je(t,function(t){return"string"!=typeof t||(lS(e,t),!1)}),Xe(t,function(e){l(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),t}))},b=function(){r.destroy(),o.destroy(),n=t=null},y=function(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var i=o.getResultUri(n);if(i)return'src="'+i+'"';var a=r.getByUri(n);if(a||(a=Ze(e.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null)),a){return'src="data:'+a.blob().type+";base64,"+a.base64()+'"'}return t})};return e.on("SetContent",function(){Of(e)?m():v()}),e.on("RawSaveContent",function(e){e.content=y(e.content)}),e.on("GetContent",function(e){e.source_view||"raw"===e.format||(e.content=y(e.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(e){Xe(e,function(e){var t=e.attr("src");if(!r.getByUri(t)){var n=o.getResultUri(t);n&&e.attr("src",n)}})})}),{blobCache:r,addFilter:g,uploadImages:p,uploadImagesAuto:m,scanForImages:v,destroy:b}},BT=function(e,t){var n=ss({});e.set({}),t.on("NodeChange",function(r){zT(t,r.element,n,e.get())})},zT=function(e,t,n,r){var o=pt(n.get()),i={},a={},u=Je(_m(e.dom,t),function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")});ht(r,function(t,n){zn.each(u,function(r){return e.formatter.matchNode(r,n,{},t.similar)?(-1===o.indexOf(n)&&(Xe(t.callbacks,function(e){e(!0,{node:r,format:n,parents:u})}),i[n]=t.callbacks),a[n]=t.callbacks,!1):!Vy(e,r,n)&&void 0})});var s=FT(n.get(),a,t,u);n.set(Lt(Lt({},i),s))},FT=function(e,t,n,r){return wt(e,function(e,o){return!!kt(t,o)||(Xe(e,function(e){e(!1,{node:n,format:o,parents:r})}),!1)}).t},HT=function(e,t,n,r){var o=e.get();Xe(t.split(","),function(e){o[e]||(o[e]={similar:r,callbacks:[]}),o[e].callbacks.push(n)}),e.set(o)},UT=function(e,t,n){var r=e.get();Xe(t.split(","),function(e){r[e].callbacks=Je(r[e].callbacks,function(e){return e!==n}),0===r[e].callbacks.length&&delete r[e]}),e.set(r)},VT=function(e,t,n,r,o){return null===t.get()&&BT(t,e),HT(t,n,r,o),{unbind:function(){return UT(t,n,r)}}},qT=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(e,t,n){return io(e)&&e.hasAttribute("href")},onformat:function(t,n,r){zn.each(r,function(n,r){e.setAttrib(t,r,n)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return zn.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){t[e]={block:e,remove:"all"}}),t},WT=zn.each,$T=rs.DOM,GT=function(e,t){var n,r,o,i=t&&t.schema||a({}),u=function(e,t){t.classes.length&&$T.addClass(e,t.classes.join(" ")),$T.setAttribs(e,t.attrs)},s=function(e){r="string"==typeof e?{name:e,classes:[],attrs:{}}:e;var t=$T.create(r.name);return u(t,r),t},c=function(e,t){var n="string"!=typeof e?e.nodeName.toLowerCase():e,r=i.getElementRule(n),o=r&&r.parentsRequired;return!(!o||!o.length)&&(t&&-1!==zn.inArray(o,t)?t:o[0])},l=function(e,t,n){var r,o,i=t.length>0&&t[0],a=i&&i.name,u=c(e,a);if(u)a===u?(o=t[0],t=t.slice(1)):o=u;else if(i)o=t[0],t=t.slice(1);else if(!n)return e;return o&&(r=s(o),r.appendChild(e)),n&&(r||(r=$T.create("div"),r.appendChild(e)),zn.each(n,function(t){var n=s(t);r.insertBefore(n,e)})),l(r,t,o&&o.siblings)};return e&&e.length?(r=e[0],n=s(r),o=$T.create("div"),o.appendChild(l(n,e.slice(1),r.siblings)),o):""},XT=function(e){var t,n={classes:[],attrs:{}};return e=n.selector=zn.trim(e),"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,r,o,i){switch(t){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==zn.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r)}if("["===o){var a=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""})),n.name=t||"div",n},KT=function(e){return e&&"string"==typeof e?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),zn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var t=zn.map(e.split(/(?:~\+|~|\+)/),XT),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[]},YT=function(e,t){var n,r,o,i="",a=td(e);if(""===a)return"";var u=function(e){return e.replace(/%(\w+)/g,"")};if("string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}if("preview"in t){var s=St(t,"preview");if(s.is(!1))return"";a=s.getOr(a)}n=t.block||t.inline||"span";var c=KT(t.selector);c.length?(c[0].name||(c[0].name=n),n=t.selector,r=GT(c,e)):r=GT([n],e);var l=$T.select(n,r)[0]||r.firstChild;return WT(t.styles,function(e,t){(e=u(e))&&$T.setStyle(l,t,e)}),WT(t.attributes,function(e,t){(e=u(e))&&$T.setAttrib(l,t,e)}),WT(t.classes,function(e){e=u(e),$T.hasClass(l,e)||$T.addClass(l,e)}),e.fire("PreviewFormats"),$T.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r),o=$T.getStyle(e.getBody(),"fontSize",!0),o=/px$/.test(o)?parseInt(o,10):0,WT(a.split(" "),function(t){var n=$T.getStyle(l,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=$T.getStyle(e.getBody(),t,!0),"#ffffff"===$T.toHex(n).toLowerCase())||"color"===t&&"#000000"===$T.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===o)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*o+"px"}"border"===t&&n&&(i+="padding:0 2px;"),i+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),$T.remove(r),i},JT=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},QT=function(e){var t=j(e),n=ss(null);return JT(e),pw(e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:function(t,n,r){VC(e,t,n,r)},remove:function(t,n,r,o){qC(e,t,n,r,o)},toggle:function(t,n,r){WC(e,t,n,r)},match:r(Xy,e),matchAll:r(Ky,e),matchNode:r(Gy,e),canApply:r(Yy,e),formatChanged:r(VT,e,n),getCssText:r(YT,e)}},ZT=function(e,t,n){var r=ss(!1),o=function(e){cC(t,!1,n),t.add({},e)};e.on("init",function(){t.add()}),e.on("BeforeExecCommand",function(e){var r=e.command.toLowerCase();"undo"!==r&&"redo"!==r&&"mcerepaint"!==r&&(lC(t,n),t.beforeChange())}),e.on("ExecCommand",function(e){var t=e.command.toLowerCase();"undo"!==t&&"redo"!==t&&"mcerepaint"!==t&&o(e)}),e.on("ObjectResizeStart cut",function(){t.beforeChange()}),e.on("SaveContent ObjectResized blur",o),e.on("dragend",o),e.on("keyup",function(n){var i=n.keyCode;n.isDefaultPrevented()||((i>=33&&i<=36||i>=37&&i<=40||45===i||n.ctrlKey)&&(o(),e.nodeChanged()),46!==i&&8!==i||e.nodeChanged(),r.get()&&t.typing&&!1===uC(tC(e),t.data[0])&&(!1===e.isDirty()&&(e.setDirty(!0),e.fire("change",{level:t.data[0],lastLevel:null})),e.fire("TypingUndo"),r.set(!1),e.nodeChanged()))}),e.on("keydown",function(e){var i=e.keyCode;if(!e.isDefaultPrevented()){if(i>=33&&i<=36||i>=37&&i<=40||45===i)return void(t.typing&&o(e));var a=e.ctrlKey&&!e.altKey||e.metaKey;!(i<16||i>20)||224===i||91===i||t.typing||a||(t.beforeChange(),cC(t,!0,n),t.add({},e),r.set(!0))}}),e.on("mousedown",function(e){t.typing&&o(e)});var i=function(e){return"insertReplacementText"===e.inputType},a=function(e){return"insertText"===e.inputType&&null===e.data},u=function(e){return"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType};e.on("input",function(e){e.inputType&&(i(e)||a(e)||u(e))&&o(e)}),e.on("AddUndo Undo Redo ClearUndos",function(t){t.isDefaultPrevented()||e.nodeChanged()})},eE=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},tE=function(e){var t=ss(Ee.none()),n=ss(0),r=ss(0),o={data:[],typing:!1,beforeChange:function(){MC(e,n,t)},add:function(i,a){return IC(e,o,r,n,t,i,a)},undo:function(){return RC(e,o,n,r)},redo:function(){return PC(e,r,o.data)},clear:function(){LC(e,o,r)},reset:function(){jC(e,o)},hasUndo:function(){return BC(e,o,r)},hasRedo:function(){return zC(e,o,r)},transact:function(t){return FC(e,o,n,t)},ignore:function(t){HC(e,n,t)},extra:function(t,n){UC(e,o,r,t,n)}};return OC(e)||ZT(e,o,n),eE(e),o},nE=[9,27,Ik.HOME,Ik.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Ik.DOWN,Ik.UP,Ik.LEFT,Ik.RIGHT].concat(Tn.browser.isFirefox()?[224]:[]),rE=function(e){return"keydown"===e.type||"keyup"===e.type},oE=function(e){var t=e.keyCode;return t===Ik.BACKSPACE||t===Ik.DELETE},iE=function(e){if(rE(e)){var t=e.keyCode;return!oE(e)&&(Ik.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||We(nE,t))}return!1},aE=function(e){return rE(e)&&!(oE(e)||"keyup"===e.type&&229===e.keyCode)},uE=function(e,t,n){if(cg(Wn.fromDom(t),!1)){var r=""===n,o=t.firstElementChild;return!o||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&(r?!e.isBlock(o):n===o.nodeName.toLowerCase())}return!1},sE=function(e){var t=e.dom,n=yf(e),r=Xf(e),o=function(i,a){if(!iE(i)){var u=e.getBody(),s=!aE(i)&&uE(t,u,n);(""!==t.getAttrib(u,"data-mce-placeholder")!==s||a)&&(t.setAttrib(u,"data-mce-placeholder",s?r:null),t.setAttrib(u,"aria-placeholder",s?r:null),s_(e,s),e.on(s?"keydown":"keyup",o),e.off(s?"keyup":"keydown",o))}};r&&e.on("init",function(t){o(t,!0),e.on("change SetContent ExecCommand",o),e.on("paste",function(t){return Xu.setEditorTimeout(e,function(){return o(t)})})})},cE=function(e){return void 0===e.touches||1!==e.touches.length?Ee.none():Ee.some(e.touches[0])},lE=function(e,t){var n=Math.abs(e.clientX-t.x()),r=Math.abs(e.clientY-t.y());return n>5||r>5},fE=function(e){var t=ss(Ee.none()),n=ss(!1),r=Ss(function(t){e.fire("longpress",Lt(Lt({},t),{type:"longpress"})),n.set(!0)},400);e.on("touchstart",function(e){cE(e).each(function(o){r.cancel();var i={x:ve(o.clientX),y:ve(o.clientY),target:ve(e.target)};r.throttle(e),n.set(!1),t.set(Ee.some(i))})},!0),e.on("touchmove",function(o){r.cancel(),cE(o).each(function(r){t.get().each(function(o){lE(r,o)&&(t.set(Ee.none()),n.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(o){r.cancel(),"touchcancel"!==o.type&&t.get().filter(function(e){return e.target().isEqualNode(o.target)}).each(function(){n.get()?o.preventDefault():e.fire("tap",Lt(Lt({},o),{type:"tap"}))})},!0)},dE=function(e,t){return e.hasOwnProperty(t.nodeName)},pE=function(e,t){return!!ho(t)||!!io(t)&&(!dE(e,t)&&!am(t))},mE=function(e,t,n){return $e(gg(Wn.fromDom(n),Wn.fromDom(t)),function(t){return dE(e,t.dom())})},hE=function(e,t){if(ho(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||dE(e,t.nextSibling)))return!0}return!1},gE=function(e){var t,n,r,o=e.dom,i=e.selection,a=e.schema,u=a.getBlockElements(),s=i.getStart(),c=e.getBody(),l=yf(e);if(s&&io(s)&&l){var f=c.nodeName.toLowerCase();if(a.isValidChild(f,l.toLowerCase())&&!mE(u,c,s)){var d=i.getRng(),p=d.startContainer,m=d.startOffset,h=d.endContainer,g=d.endOffset,v=Ty(e);for(s=c.firstChild;s;)if(pE(u,s)){if(hE(u,s)){n=s,s=s.nextSibling,o.remove(n);continue}t||(t=o.create(l,wf(e)),s.parentNode.insertBefore(t,s),r=!0),n=s,s=s.nextSibling,t.appendChild(n)}else t=null,s=s.nextSibling;r&&v&&(d.setStart(p,m),d.setEnd(h,g),i.setRng(d),e.nodeChanged())}}},vE=function(e){yf(e)&&e.on("NodeChange",r(gE,e))},bE=function(e){return Be(e.selection.getSel().modify)},yE=function(e,t,n){var r=e?1:-1;return t.setRng(Ol(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},wE=function(e,t){var n=t.selection.getRng(),r=e?Ol.fromRangeEnd(n):Ol.fromRangeStart(n);return!!bE(t)&&(e&&wc(r)?yE(!0,t.selection,r):!(e||!xc(r))&&yE(!1,t.selection,r))},xE=ho,CE=function(e){return xE(e)&&e.data[0]===lc},_E=function(e){return xE(e)&&e.data[e.data.length-1]===lc},SE=function(e){return e.ownerDocument.createTextNode(lc)},kE=function(e){if(xE(e.previousSibling))return _E(e.previousSibling)?e.previousSibling:(e.previousSibling.appendData(lc),e.previousSibling);if(xE(e))return CE(e)?e:(e.insertData(0,lc),e);var t=SE(e);return e.parentNode.insertBefore(t,e),t},TE=function(e){if(xE(e.nextSibling))return CE(e.nextSibling)?e.nextSibling:(e.nextSibling.insertData(0,lc),e.nextSibling);if(xE(e))return _E(e)?e:(e.appendData(lc),e);var t=SE(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t},EE=function(e,t){return e?kE(t):TE(t)},OE=r(EE,!0),NE=r(EE,!1),AE=function(e,t){return ho(e.container())?EE(t,e.container()):EE(t,e.getNode())},DE=function(e,t){var n=t.get();return n&&e.container()===n&&gc(n)},ME=function(e,t){return t.fold(function(t){Ad(e.get());var n=OE(t);return e.set(n),Ee.some(Ol(n,n.length-1))},function(t){return Lp(t).map(function(t){if(DE(t,e))return Ol(e.get(),1);Ad(e.get());var n=AE(t,!0);return e.set(n),Ol(n,1)})},function(t){return jp(t).map(function(t){if(DE(t,e))return Ol(e.get(),e.get().length-1);Ad(e.get());var n=AE(t,!1);return e.set(n),Ol(n,n.length-1)})},function(t){Ad(e.get());var n=NE(t);return e.set(n),Ee.some(Ol(n,1))})},IE=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,RE=function(e){return IE.test(e)},PE=function(e,t){return or(Wn.fromDom(t),Wf(e))},LE=function(e){return"rtl"===rs.DOM.getStyle(e,"direction",!0)||RE(e.textContent)},jE=function(e,t,n){return Je(rs.DOM.getParents(n.container(),"*",t),e)},BE=function(e,t,n){var r=jE(e,t,n);return Ee.from(r[r.length-1])},zE=function(e,t,n){var r=Kd(t,e),o=Kd(n,e);return r&&r===o},FE=function(e){return wc(e)||xc(e)},HE=function(e,t){if(!t)return t;var n=t.container(),r=t.offset();return e?gc(n)?ho(n.nextSibling)?Ol(n.nextSibling,0):Ol.after(n):wc(t)?Ol(n,r+1):t:gc(n)?ho(n.previousSibling)?Ol(n.previousSibling,n.previousSibling.data.length):Ol.before(n):xc(t)?Ol(n,r-1):t},UE=r(HE,!0),VE=r(HE,!1),qE=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return Ee.none()},WE=zu.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),$E=function(e,t){var n=Kd(t,e);return n||e},GE=function(e,t,n){var o=UE(n),i=$E(t,o.container());return BE(e,i,o).fold(function(){return Rp(i,o).bind(r(BE,e,i)).map(function(e){return WE.before(e)})},Ee.none)},XE=function(e,t){return null===zp(e,t)},KE=function(e,t,n){return BE(e,t,n).filter(r(XE,t))},YE=function(e,t,n){var r=VE(n);return KE(e,t,r).bind(function(e){return Pp(e,r).isNone()?Ee.some(WE.start(e)):Ee.none()})},JE=function(e,t,n){var r=UE(n);return KE(e,t,r).bind(function(e){return Rp(e,r).isNone()?Ee.some(WE.end(e)):Ee.none()})},QE=function(e,t,n){var o=VE(n),i=$E(t,o.container());return BE(e,i,o).fold(function(){return Pp(i,o).bind(r(BE,e,i)).map(function(e){return WE.after(e)})},Ee.none)},ZE=function(e){return!1===LE(tO(e))},eO=function(e,t,n){return qE([GE,YE,JE,QE],[e,t,n]).filter(ZE)},tO=function(e){return e.fold(be,be,be,be)},nO=function(e){return e.fold(ve("before"),ve("start"),ve("end"),ve("after"))},rO=function(e){return e.fold(WE.before,WE.before,WE.after,WE.after)},oO=function(e){return e.fold(WE.start,WE.start,WE.end,WE.end)},iO=function(e,t){return nO(e)===nO(t)&&tO(e)===tO(t)},aO=function(e,t,n,r,o,i){return Ac(BE(t,n,r),BE(t,n,o),function(t,r){return t!==r&&zE(n,t,r)?WE.after(e?t:r):i}).getOr(i)},uO=function(e,t){return e.fold(ve(!0),function(e){return!iO(e,t)})},sO=function(e,t,n,o,i){var a=HE(e,i);return Ap(e,n,a).map(r(HE,e)).fold(function(){return o.map(rO)},function(i){return eO(t,n,i).map(r(aO,e,t,n,a,i)).filter(r(uO,o))}).filter(ZE)},cO=function(e,t){return e?t.fold(he(Ee.some,WE.start),Ee.none,he(Ee.some,WE.after),Ee.none):t.fold(Ee.none,he(Ee.some,WE.before),Ee.none,he(Ee.some,WE.end))},lO=function(e,t,n,o){var i=HE(e,o),a=eO(t,n,i);return eO(t,n,i).bind(r(cO,e)).orThunk(function(){return sO(e,t,n,a,o)})},fO=(r(lO,!1),r(lO,!0),function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)}),dO=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},pO=function(e,t,n){return ME(t,n).map(function(t){return fO(e,t),n})},mO=function(e,t,n){var o=e.getBody(),i=Ol.fromRangeStart(e.selection.getRng()),a=r(PE,e);return lO(n,a,o,i).bind(function(n){return pO(e,t,n)})},hO=function(e,t,n){var o=Ge(js(Wn.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(e){return e.dom()}),i=Je(o,e),a=Je(n,e);Xe(ut(i,a),r(dO,!1)),Xe(ut(a,i),r(dO,!0))},gO=function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=Ol.fromRangeStart(e.selection.getRng());Ol.isTextPosition(n)&&!1===FE(n)&&(fO(e,Nd(t.get(),n)),t.set(null))}},vO=function(e,t,n,r){if(t.selection.isCollapsed()){var o=Je(r,e);Xe(o,function(r){var o=Ol.fromRangeStart(t.selection.getRng());eO(e,t.getBody(),o).bind(function(e){return pO(t,n,e)})})}},bO=function(e,t,n){return function(){return!!Zf(e)&&mO(e,t,n).isSome()}},yO=function(e,t,n){return function(){return!!Zf(t)&&wE(e,t)}},wO=function(e){var t=ss(null),n=r(PE,e);return e.on("NodeChange",function(r){!Zf(e)||Tn.browser.isIE()&&r.initial||(hO(n,e.dom,r.parents),gO(e,t),vO(n,e,t,r.parents))}),t},xO=r(yO,!0),CO=r(yO,!1);!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(Ak||(Ak={}));var _O,SO=function(e,t){return e===El.Backwards?at(t):t},kO=function(e,t,n){return e===El.Forwards?t.next(n):t.prev(n)},TO=function(e,t,n,r){return yo(r.getNode(t===El.Forwards))?Ak.Br:!1===Yd(n,r)?Ak.Block:Ak.Wrap},EO=function(e,t,n,r){for(var o,i=Cp(n),a=r,u=[];a&&(o=kO(t,i,a));){if(yo(o.getNode(!1)))return t===El.Forwards?{positions:SO(t,u).concat([o]),breakType:Ak.Br,breakAt:Ee.some(o)}:{positions:SO(t,u),breakType:Ak.Br,breakAt:Ee.some(o)};if(o.isVisible()){if(e(a,o)){var s=TO(0,t,a,o);return{positions:SO(t,u),breakType:s,breakAt:Ee.some(o)}}u.push(o),a=o}else a=o}return{positions:SO(t,u),breakType:Ak.Eol,breakAt:Ee.none()}},OO=function(e,t,n,r){return t(n,r).breakAt.map(function(r){var o=t(n,r).positions;return e===El.Backwards?o.concat(r):[r].concat(o)}).getOr([])},NO=function(e,t){return Ze(e,function(e,n){return e.fold(function(){return Ee.some(n)},function(r){return Ac(lt(r.getClientRects()),lt(n.getClientRects()),function(e,o){var i=Math.abs(t-e.left);return Math.abs(t-o.left)<=i?n:r}).or(e)})},Ee.none())},AO=function(e,t){return lt(t.getClientRects()).bind(function(t){return NO(e,t.left)})},DO=r(EO,E.isAbove,-1),MO=r(EO,E.isBelow,1),IO=function(e,t){return DO(e,t).breakAt.isNone()},RO=function(e,t){return MO(e,t).breakAt.isNone()},PO=r(OO,-1,DO),LO=r(OO,1,MO),jO=function(e){return Lp(e).map(function(t){return[t].concat(MO(e,t).positions)}).getOr([])},BO=function(e){return jp(e).map(function(t){return DO(e,t).positions.concat(t)}).getOr([])},zO=function(e){var t=function(t){return Ge(t,function(t){return t=Rc(t),t.node=e,t})};if(io(e))return t(e.getClientRects());if(ho(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}},FO=function(e){return ot(e,zO)};!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(_O||(_O={}));var HO,UO,VO=function(e,t,n,r){for(;r=Xd(r,e,al,t);)if(n(r))return},qO=function(e,t,n,r,o,i){var a=0,u=[],s=function(r){var i,s,l;for(l=FO([r]),-1===e&&(l=l.reverse()),i=0;i<l.length;i++)if(s=l[i],!n(s,c)){if(u.length>0&&t(s,Pt(u))&&a++,s.line=a,o(s))return!0;u.push(s)}},c=Pt(i.getClientRects());if(!c)return u;var l=i.getNode();return s(l),VO(e,r,s,l),u},WO=function(e,t){return t.line>e},$O=function(e,t){return t.line===e},GO=r(qO,_O.Up,Bc,zc),XO=r(qO,_O.Down,zc,Bc),KO=function(e,t,n,r){var o,i,a,u,s,c=Cp(t),l=[],f=0,d=function(t){return Pt(1===e?t.getClientRects():t.getClientRects())};1===e?(o=c.next,i=zc,a=Bc,u=Ol.after(r)):(o=c.prev,i=Bc,a=zc,u=Ol.before(r));var p=d(u);do{if(u.isVisible()&&(s=d(u),!a(s,p))){if(l.length>0&&i(s,Pt(l))&&f++,s=Rc(s),s.position=u,s.line=f,n(s))return l;l.push(s)}}while(u=o(u));return l},YO=function(e){return function(t){return WO(e,t)}},JO=function(e){return function(t){return $O(e,t)}},QO=xo,ZO=Xd,eN=function(e,t){return Math.abs(e.left-t)},tN=function(e,t){return Math.abs(e.right-t)},nN=function(e,t){return e>=t.left&&e<=t.right},rN=function(e,t){return e>=t.top&&e<=t.bottom},oN=function(e,t){return It(e,function(e,n){var r=Math.min(eN(e,t),tN(e,t)),o=Math.min(eN(n,t),tN(n,t));return nN(t,n)?n:nN(t,e)?e:o===r&&QO(n.node)?n:o<r?n:e})},iN=function(e,t,n,r,o){var i=ZO(r,e,al,t,!o);do{if(!i||n(i))return}while(i=ZO(i,e,al,t))},aN=function(e,t,n){void 0===n&&(n=!0);var o=[],i=function(e,n){var r=Je(FO([n]),function(n){return!e(n,t)});return o=o.concat(r),0===r.length};return o.push(t),iN(_O.Up,e,r(i,Bc),t.node,n),iN(_O.Down,e,r(i,zc),t.node,n),o},uN=function(e){return Je(dt(e.getElementsByTagName("*")),Bd)},sN=function(e,t){return{node:e.node,before:eN(e,t)<tN(e,t)}},cN=function(e,t,n){var o=FO(uN(e)),i=Je(o,r(rN,n)),a=oN(i,t);if(a){var u=!fo(a.node);if((a=oN(aN(e,a,u),t))&&Bd(a.node))return sN(a,t)}return null},lN=wo,fN=xo,dN=function(e,t,n,r,o){return t._selectionOverrides.showCaret(e,n,r,o)},pN=function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t},mN=function(e,t){return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?null:pN(t)},hN=function(e,t,n){var r=rp(1,e.getBody(),t),o=Ol.fromRangeStart(r),i=o.getNode();if(fN(i))return dN(1,e,i,!o.isAtEnd(),!1);var a=o.getNode(!0);if(fN(a))return dN(1,e,a,!1,!1);var u=e.dom.getParent(o.getNode(),function(e){return fN(e)||lN(e)});return fN(u)?dN(1,e,u,!1,n):null},gN=function(e,t,n){if(!t||!t.collapsed)return t;var r=hN(e,t,n);return r||t},vN=xo,bN=Hc,yN=function(e,t,n,r){var o=e===El.Forwards,i=o?Qh:Zh;if(!r.collapsed){var a=bN(r);if(vN(a))return dN(e,t,a,e===El.Backwards,!0)}var u=Oc(r),s=ip(e,t.getBody(),r);if(i(s))return mN(t,s.getNode(!o));var c=HE(o,n(s));if(!c)return u?r:null;if(i(c))return dN(e,t,c.getNode(!o),o,!0);var l=n(c);return l&&i(l)&&cp(c,l)?dN(e,t,l.getNode(!o),o,!0):u?gN(t,c.toRange(),!0):null},wN=function(e,t,n,r){var o,i,a,u;u=bN(r);var s=ip(e,t.getBody(),r),c=n(t.getBody(),YO(1),s),l=Je(c,JO(1)),f=Pt(s.getClientRects());if((Qh(s)||Yh(s))&&(u=s.getNode()),(Zh(s)||Jh(s))&&(u=s.getNode(!0)),!f)return null;var d=f.left;if((o=oN(l,d))&&vN(o.node))return i=Math.abs(d-o.left),a=Math.abs(d-o.right),dN(e,t,o.node,i<a,!0);if(u){var p=KO(e,t.getBody(),YO(1),u);if(o=oN(Je(p,JO(1)),d))return gN(t,o.position.toRange(),!0);if(o=Pt(Je(p,JO(0))))return gN(t,o.position.toRange(),!0)}},xN=function(e){var t=e.dom.create(yf(e));return(!Tn.ie||Tn.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t},CN=function(e,t,n){var o,i,a,u=Cp(e.getBody()),s=r(sp,u.next),c=r(sp,u.prev);if(n.collapsed&&ld(e)){if(!(o=e.dom.getParent(n.startContainer,"PRE")))return;i=1===t?s(Ol.fromRangeStart(n)):c(Ol.fromRangeStart(n)),i||(a=xN(e),1===t?e.$(o).after(a):e.$(o).before(a),e.selection.select(a,!0),e.selection.collapse())}},_N=function(e,t){var n,o=Cp(e.getBody()),i=r(sp,o.next),a=r(sp,o.prev),u=t?El.Forwards:El.Backwards,s=t?i:a,c=e.selection.getRng();return(n=yN(u,e,s,c))?n:(n=CN(e,u,c))||null},SN=function(e,t){var n,r=t?1:-1,o=t?XO:GO,i=e.selection.getRng();return(n=wN(r,e,o,i))?n:(n=CN(e,r,i))||null},kN=function(e,t){return function(){var n=_N(e,t);return!!n&&(e.selection.setRng(n),!0)}},TN=function(e,t){return function(){var n=SN(e,t);return!!n&&(e.selection.setRng(n),!0)}},EN=function(e){return function(t){return e?Zh(t):Qh(t)}},ON=function(e,t){return function(){var n=t?Ol.fromRangeEnd(e.selection.getRng()):Ol.fromRangeStart(e.selection.getRng()),r=t?MO(e.getBody(),n):DO(e.getBody(),n);return(t?ft(r.positions):lt(r.positions)).filter(EN(t)).fold(ve(!1),function(t){return e.selection.setRng(t.toRange()),!0})}},NN=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}},AN=function(e,t){return ot(t,function(t){var n=NN(Rc(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]})},DN=function(e,t,n){return Ze(e,function(e,r){return e.fold(function(){return Ee.some(r)},function(e){var o=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),i=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n));return Ee.some(i<o?r:e)})},Ee.none())},MN=function(e,t,n,r,o){var i=js(Wn.fromDom(n),"td,th,caption").map(function(e){return e.dom()}),a=Je(AN(e,i),function(e){return t(e,o)});return DN(a,r,o).map(function(e){return e.cell})},IN=function(e){return e.bottom},RN=function(e){return e.top},PN=function(e,t){return e.y<t},LN=function(e,t){return e.y>t},jN=r(MN,IN,PN),BN=r(MN,RN,LN),zN=function(e,t){return lt(t.getClientRects()).bind(function(t){return jN(e,t.left,t.top)}).bind(function(e){return AO(BO(e),t)})},FN=function(e,t){return ft(t.getClientRects()).bind(function(t){return BN(e,t.left,t.top)}).bind(function(e){return AO(jO(e),t)})},HN=function(e,t){e.selection.setRng(t),JS(e,t)},UN=function(e,t,n){return n.breakAt.map(function(n){return e(t,n).breakAt.isSome()}).getOr(!1)},VN=function(e){return e.breakType===Ak.Wrap&&0===e.positions.length},qN=function(e){return e.breakType===Ak.Br&&1===e.positions.length},WN=function(e,t,n){var r=e(t,n);return VN(r)||!yo(n.getNode())&&qN(r)?!UN(e,t,r):r.breakAt.isNone()},$N=r(WN,DO),GN=r(WN,MO),XN=function(e,t,n){var r=Ol.fromRangeStart(t);return Ip(!e,n).map(function(e){return e.isEqual(r)}).getOr(!1)},KN=function(e,t,n,r){var o=e.selection.getRng(),i=t?1:-1;if(jd()&&XN(t,o,n)){var a=dN(i,e,n,!t,!0);return HN(e,a),!0}return!1},YN=function(e,t,n){return zN(t,n).orThunk(function(){return lt(n.getClientRects()).bind(function(n){return NO(PO(e,Ol.before(t)),n.left)})}).getOr(Ol.before(t))},JN=function(e,t,n){return FN(t,n).orThunk(function(){return lt(n.getClientRects()).bind(function(n){return NO(LO(e,Ol.after(t)),n.left)})}).getOr(Ol.after(t))},QN=function(e,t){var n=t.getNode(e);return io(n)&&"TABLE"===n.nodeName?Ee.some(n):Ee.none()},ZN=function(e,t,n,r){var o=yf(t);o?t.undoManager.transact(function(){var r=Wn.fromTag(o);ko(r,wf(t)),jr(r,Wn.fromTag("br")),e?Pr(Wn.fromDom(n),r):Rr(Wn.fromDom(n),r);var i=t.dom.createRng();i.setStart(r.dom(),0),i.setEnd(r.dom(),0),HN(t,i)}):HN(t,r.toRange())},eA=function(e,t,n){var r=!1===t;(t?QN(!0,n):QN(!1,n)).fold(function(){return HN(e,n.toRange())},function(o){return Ip(r,e.getBody()).filter(function(e){return e.isEqual(n)}).fold(function(){return HN(e,n.toRange())},function(r){return ZN(t,e,o,n)})})},tA=function(e,t,n,r){var o=e.selection.getRng(),i=Ol.fromRangeStart(o),a=e.getBody();if(!t&&$N(r,i)){var u=YN(a,n,i);return eA(e,t,u),!0}if(t&&GN(r,i)){var u=JN(a,n,i);return eA(e,t,u),!0}return!1},nA=function(e,t){return function(){return Ee.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return Ee.from(e.dom.getParent(n,"table")).map(function(n){return KN(e,t,n)})}).getOr(!1)}},rA=function(e,t){return function(){return Ee.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return Ee.from(e.dom.getParent(n,"table")).map(function(r){return tA(e,t,r,n)})}).getOr(!1)}},oA=function(e){return We(["figcaption"],$n(e))},iA=function(e){var t=n.document.createRange();return t.setStartBefore(e.dom()),t.setEndBefore(e.dom()),t},aA=function(e,t,n){n?jr(e,t):Lr(e,t)},uA=function(e,t){var n=Wn.fromTag("br");return aA(e,n,t),iA(n)},sA=function(e,t,n,r){var o=Wn.fromTag(n),i=Wn.fromTag("br");return ko(o,r),jr(o,i),aA(e,o,t),iA(i)},cA=function(e,t,n,r){return""===t?uA(e,r):sA(e,r,t,n)},lA=function(e,t){var n=r(sr,t);return zs(Wn.fromDom(e.container()),ei,n).filter(oA)},fA=function(e,t,n){return t?RO(e.dom(),n):IO(e.dom(),n)},dA=function(e,t){var n=Wn.fromDom(e.getBody()),r=Ol.fromRangeStart(e.selection.getRng()),o=yf(e),i=wf(e);return lA(r,n).exists(function(){if(fA(n,t,r)){var a=cA(n,o,i,t);return e.selection.setRng(a),!0}return!1})},pA=function(e,t){return function(){return!!e.selection.isCollapsed()&&dA(e,t)}},mA=function(e){return Ge(e,function(e){return Lt({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:me},e)})},hA=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey},gA=function(e,t){return ot(mA(e),function(e){return hA(e,t)?[e]:[]})},vA=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(null,t)}},bA=function(e,t){return tt(gA(e,t),function(e){return e.action()})},yA=function(e,t,n){var r=vn().os;bA([{keyCode:Ik.RIGHT,action:kN(e,!0)},{keyCode:Ik.LEFT,action:kN(e,!1)},{keyCode:Ik.UP,action:TN(e,!1)},{keyCode:Ik.DOWN,action:TN(e,!0)},{keyCode:Ik.RIGHT,action:nA(e,!0)},{keyCode:Ik.LEFT,action:nA(e,!1)},{keyCode:Ik.UP,action:rA(e,!1)},{keyCode:Ik.DOWN,action:rA(e,!0)},{keyCode:Ik.RIGHT,action:bO(e,t,!0)},{keyCode:Ik.LEFT,action:bO(e,t,!1)},{keyCode:Ik.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:xO(e,t)},{keyCode:Ik.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:CO(e,t)},{keyCode:Ik.UP,action:pA(e,!1)},{keyCode:Ik.DOWN,action:pA(e,!0)}],n).each(function(e){n.preventDefault()})},wA=function(e,t){e.on("keydown",function(n){!1===n.isDefaultPrevented()&&yA(e,t,n)})},xA=function(e){return function(t){return sr(e,Wn.fromDom(t.dom().parentNode))}},CA=function(e,t){return fr(e,t)?zs(t,function(e){return oi(e)||ai(e)},xA(e)):Ee.none()},_A=function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)},SA=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),_A(e))},kA=function(e,t,n){return Ac(Lp(n),jp(n),function(r,o){var i=HE(!0,r),a=HE(!1,o),u=HE(!1,t);return e?Rp(n,u).map(function(e){return e.isEqual(a)&&t.isEqual(i)}).getOr(!1):Pp(n,u).map(function(e){return e.isEqual(i)&&t.isEqual(a)}).getOr(!1)}).getOr(!0)},TA=function(e,t){return{block:e,position:t}},EA=function(e,t){return{from:e,to:t}},OA=function(e,t){var n=Wn.fromDom(e),r=Wn.fromDom(t.container());return CA(n,r).map(function(e){return TA(e,t)})},NA=function(e){return!1===sr(e.from.block,e.to.block)},AA=function(e){return gr(e.from.block).bind(function(t){return gr(e.to.block).filter(function(e){return sr(t,e)})}).isSome()},DA=function(e){return!1===xo(e.from.block.dom())&&!1===xo(e.to.block.dom())},MA=function(e,t,n){return yo(n.position.getNode())&&!1===cg(n.block)?Ip(!1,n.block.dom()).bind(function(r){return r.isEqual(n.position)?Ap(t,e,r).bind(function(t){return OA(e,t)}):Ee.some(n)}).getOr(n):n},IA=function(e,t,n){var r=OA(e,Ol.fromRangeStart(n)),o=r.bind(function(n){return Ap(t,e,n.position).bind(function(n){return OA(e,n).map(function(n){return MA(e,t,n)})})});return Ac(r,o,EA).filter(function(e){return NA(e)&&AA(e)&&DA(e)})},RA=function(e,t,n){return n.collapsed?IA(e,t,n):Ee.none()},PA=function(e){var t=_r(e);return nt(t,ei).fold(function(){return t},function(e){return t.slice(0,e)})},LA=function(e){var t=PA(e);return Xe(t,Ur),t},jA=function(e,t){var n=vg(t,e);return tt(n.reverse(),function(e){return cg(e)}).each(Ur)},BA=function(e){return 0===Je(xr(e),function(e){return!cg(e)}).length},zA=function(e,t,n,r){if(cg(n))return dg(n),Lp(n.dom());BA(r)&&cg(t)&&Rr(r,Wn.fromTag("br"));var o=Pp(n.dom(),Ol.before(r.dom()));return Xe(LA(t),function(e){Rr(r,e)}),jA(e,t),o},FA=function(e,t,n){if(cg(n))return Ur(n),cg(t)&&dg(t),Lp(t.dom());var r=jp(n.dom());return Xe(LA(t),function(e){jr(n,e)}),jA(e,t),r},HA=function(e,t){var n=vg(t,e);return Ee.from(n[n.length-1])},UA=function(e,t){return fr(t,e)?HA(t,e):Ee.none()},VA=function(e,t){Ip(e,t.dom()).map(function(e){return e.getNode()}).map(Wn.fromDom).filter(ri).each(Ur)},qA=function(e,t,n){return VA(!0,t),VA(!1,n),UA(t,n).fold(r(FA,e,t,n),r(zA,e,t,n))},WA=function(e,t,n,r){return t?qA(e,r,n):qA(e,n,r)},$A=function(e,t){var n=Wn.fromDom(e.getBody()),r=RA(n.dom(),t,e.selection.getRng()).bind(function(e){return WA(n,t,e.from.block,e.to.block)});return r.each(function(t){e.selection.setRng(t.toRange())}),r.isSome()},GA=function(e,t){var n=t.getRng();return Ac(CA(e,Wn.fromDom(n.startContainer)),CA(e,Wn.fromDom(n.endContainer)),function(r,o){return!1===sr(r,o)&&(n.deleteContents(),WA(e,!0,r,o).each(function(e){t.setRng(e.toRange())}),!0)}).getOr(!1)},XA=function(e,t){var n=Wn.fromDom(t),o=r(sr,e);return Bs(n,ci,o).isSome()},KA=function(e,t){return XA(e,t.startContainer)||XA(e,t.endContainer)},YA=function(e,t){var n=Pp(e.dom(),Ol.fromRangeStart(t)).isNone(),r=Rp(e.dom(),Ol.fromRangeEnd(t)).isNone();return!KA(e,t)&&n&&r},JA=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},QA=function(e){var t=Wn.fromDom(e.getBody()),n=e.selection.getRng();return YA(t,n)?JA(e):GA(t,e.selection)},ZA=function(e,t){return!e.selection.isCollapsed()&&QA(e)},eD=function(e){return ap(e).exists(ri)},tD=function(e,t,n){var r=Je(vg(Wn.fromDom(n.container()),t),ei),o=lt(r).getOr(t);return Ap(e,o.dom(),n).filter(eD)},nD=function(e,t){return ap(t).exists(ri)||tD(!0,e,t).isSome()},rD=function(e,t){return up(t).exists(ri)||tD(!1,e,t).isSome()},oD=r(tD,!1),iD=r(tD,!0),aD=function(e){return ci(Wn.fromDom(e))||ai(Wn.fromDom(e))},uD=zu.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),sD=function(e,t){var n=t.getNode(!1===e),r=e?"after":"before";return io(n)&&n.getAttribute("data-mce-caret")===r},cD=function(e,t,n,r){var o=function(t){return ni(Wn.fromDom(t))&&!Yd(n,r,e)};return op(!t,n).fold(function(){return op(t,r).fold(ve(!1),o)},o)},lD=function(e,t,n,r){var o=r.getNode(!1===t);return CA(Wn.fromDom(e),Wn.fromDom(n.getNode())).map(function(e){return cg(e)?uD.remove(e.dom()):uD.moveToElement(o)}).orThunk(function(){return Ee.some(uD.moveToElement(o))})},fD=function(e,t,n){return Ap(t,e,n).bind(function(r){return aD(r.getNode())?Ee.none():cD(e,t,n,r)?Ee.none():t&&xo(r.getNode())?lD(e,t,n,r):!1===t&&xo(r.getNode(!0))?lD(e,t,n,r):t&&Zh(n)?Ee.some(uD.moveToPosition(r)):!1===t&&Qh(n)?Ee.some(uD.moveToPosition(r)):Ee.none()})},dD=function(e,t){return e&&xo(t.nextSibling)?Ee.some(uD.moveToElement(t.nextSibling)):!1===e&&xo(t.previousSibling)?Ee.some(uD.moveToElement(t.previousSibling)):Ee.none()},pD=function(e,t,n){return n.fold(function(e){return Ee.some(uD.remove(e))},function(e){return Ee.some(uD.moveToElement(e))},function(n){return Yd(t,n,e)?Ee.none():Ee.some(uD.moveToPosition(n))})},mD=function(e,t,n){return sD(t,n)?dD(t,n.getNode(!1===t)).fold(function(){return fD(e,t,n)},Ee.some):fD(e,t,n).bind(function(t){return pD(e,n,t)})},hD=function(e,t,n){var r=rp(t?1:-1,e,n),o=Ol.fromRangeStart(r),i=Wn.fromDom(e);return!1===t&&Zh(o)?Ee.some(uD.remove(o.getNode(!0))):t&&Qh(o)?Ee.some(uD.remove(o.getNode())):!1===t&&Qh(o)&&rD(i,o)?oD(i,o).map(function(e){return uD.remove(e.getNode())}):t&&Zh(o)&&nD(i,o)?iD(i,o).map(function(e){return uD.remove(e.getNode())}):mD(e,t,o)},gD=function(e,t){return function(n){return e._selectionOverrides.hideFakeCaret(),Hg(e,t,Wn.fromDom(n)),!0}},vD=function(e,t){return function(n){var r=t?Ol.before(n):Ol.after(n);return e.selection.setRng(r.toRange()),!0}},bD=function(e){return function(t){return e.selection.setRng(t.toRange()),!0}},yD=function(e,t){return Ee.from(_D(e.getBody(),t))},wD=function(e,t){var n=e.selection.getNode();return yD(e,n).filter(xo).fold(function(){return hD(e.getBody(),t,e.selection.getRng()).map(function(n){return n.fold(gD(e,t),vD(e,t),bD(e))}).getOr(!1)},function(){return!0})},xD=function(e){Xe(js(e,".mce-offscreen-selection"),Ur)},CD=function(e,t){var n=e.selection.getNode();if(xo(n)){return yD(e,n.parentNode).filter(xo).fold(function(){return xD(Wn.fromDom(e.getBody())),Hg(e,t,Wn.fromDom(e.selection.getNode())),SA(e),!0},function(){return!0})}return!1},_D=function(e,t){for(;t&&t!==e;){if(wo(t)||xo(t))return t;t=t.parentNode}return null},SD=function(e){var t,n=_D(e.getBody(),e.selection.getNode());return wo(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(Ol.before(t).toRange())),!0},kD=function(e,t){return e.selection.isCollapsed()?wD(e,t):CD(e,t)},TD=function(e,t){ho(t)&&0===t.data.length&&e.remove(t)},ED=function(e,t,n,r,o,i){var a=dN(r,e,i.getNode(!o),o,!0);if(t.collapsed){var u=t.cloneRange();o?u.setEnd(a.startContainer,a.startOffset):u.setStart(a.endContainer,a.endOffset),u.deleteContents()}else t.deleteContents();return e.selection.setRng(a),TD(e.dom,n),!0},OD=function(e,t){var n=e.selection.getRng();if(!ho(n.commonAncestorContainer))return!1;var o=t?El.Forwards:El.Backwards,i=Cp(e.getBody()),a=r(sp,i.next),u=r(sp,i.prev),s=t?a:u,c=t?Qh:Zh,l=ip(o,e.getBody(),n),f=HE(t,s(l));if(!f||!cp(l,f))return!1;if(c(f))return ED(e,n,l.getNode(),o,t,f);var d=s(f);return!!(d&&c(d)&&cp(f,d))&&ED(e,n,l.getNode(),o,t,d)},ND=function(e,t){return OD(e,t)},AD=function(e,t){var r=n.document.createRange();return r.setStart(e.container(),e.offset()),r.setEnd(t.container(),t.offset()),r},DD=function(e){return Ac(Lp(e),jp(e),function(t,n){var r=HE(!0,t),o=HE(!1,n);return Rp(e,r).map(function(e){return e.isEqual(o)}).getOr(!0)}).getOr(!0)},MD=function(e,t){return function(n){return ME(t,n).map(function(t){return fO(e,t),!0}).getOr(!1)}},ID=function(e,t,n,o){var i=e.getBody(),a=r(PE,e);e.undoManager.ignore(function(){e.selection.setRng(AD(n,o)),e.execCommand("Delete"),eO(a,i,Ol.fromRangeStart(e.selection.getRng())).map(oO).map(MD(e,t))}),e.nodeChanged()},RD=function(e,t){var n=Kd(t,e);return n||e},PD=function(e,t,n,o){var i=RD(e.getBody(),o.container()),a=r(PE,e),u=eO(a,i,o);return u.bind(function(e){return n?e.fold(ve(Ee.some(oO(e))),Ee.none,ve(Ee.some(rO(e))),Ee.none):e.fold(Ee.none,ve(Ee.some(rO(e))),Ee.none,ve(Ee.some(oO(e))))}).map(MD(e,t)).getOrThunk(function(){var r=Dp(n,i,o),s=r.bind(function(e){return eO(a,i,e)});return u.isSome()&&s.isSome()?BE(a,i,o).map(function(t){return!!DD(t)&&(Hg(e,n,Wn.fromDom(t)),!0)}).getOr(!1):s.bind(function(i){return r.map(function(r){return n?ID(e,t,o,r):ID(e,t,r,o),!0})}).getOr(!1)})},LD=function(e,t,n){if(e.selection.isCollapsed()&&Zf(e)){var r=Ol.fromRangeStart(e.selection.getRng());return PD(e,t,n,r)}return!1},jD=function(e,t){var n=vg(t,e);return nt(n,ei).fold(ve(n),function(e){return n.slice(0,e)})},BD=function(e){return 1===_r(e).length},zD=function(e,t,n,o){var i=r(hw,t),a=Ge(Je(o,i),function(e){return e.dom()});if(0===a.length)Hg(t,e,n);else{var u=mw(n.dom(),a);t.selection.setRng(u.toRange())}},FD=function(e,t){var n=Wn.fromDom(e.getBody()),r=Wn.fromDom(e.selection.getStart()),o=Je(jD(n,r),BD);return ft(o).map(function(n){var r=Ol.fromRangeStart(e.selection.getRng());return!(!kA(t,r,n.dom())||gw(n))&&(zD(t,e,n,o),!0)}).getOr(!1)},HD=function(e,t){return!!e.selection.isCollapsed()&&FD(e,t)},UD=function(e,t){var n=Ol.fromRangeStart(e.selection.getRng());return Ap(t,e.getBody(),n).filter(function(e){return t?Xh(e):Kh(e)}).bind(function(e){return Ee.from(Jd(t?0:-1,e))}).map(function(t){return e.selection.select(t),!0}).getOr(!1)},VD=function(e,t){return!!e.selection.isCollapsed()&&UD(e,t)},qD=function(e){return zs(e,function(e){return wo(e.dom())||xo(e.dom())}).exists(function(e){return wo(e.dom())})},WD=function(e){var t=parseInt(e,10);return isNaN(t)?0:t},$D=function(e,t){return(e||ti(t)?"margin":"padding")+("rtl"===Io(t,"direction")?"-right":"-left")},GD=function(e,t,n,r,o,i){var a=$D(n,Wn.fromDom(i));if("outdent"===t){var u=Math.max(0,WD(i.style[a])-r);e.setStyle(i,a,u?u+o:"")}else{var u=WD(i.style[a])+r+o;e.setStyle(i,a,u)}},XD=function(e,t){return it(t,function(t){var n=$D(Hf(e),t),r=Po(t,n).map(WD).getOr(0);return"false"!==e.dom.getContentEditable(t.dom())&&r>0})},KD=function(e){var t=QD(e);return!e.mode.isReadOnly()&&(t.length>1||XD(e,t))},YD=function(e){return ii(e)||ai(e)},JD=function(e){return gr(e).map(YD).getOr(!1)},QD=function(e){return Je(Ge(e.selection.getSelectedBlocks(),Wn.fromDom),function(e){return!YD(e)&&!JD(e)&&qD(e)})},ZD=function(e,t){var n=e.dom,r=e.selection,o=e.formatter,i=Uf(e),a=/[a-z%]+$/i.exec(i)[0],u=parseInt(i,10),s=Hf(e),c=yf(e);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||""!==c||n.getParent(r.getNode(),n.isBlock)||o.apply("div"),Xe(QD(e),function(e){GD(n,t,s,u,a,e.dom())})},eM=function(e,t,n){return Mp(e,t,n,qh)},tM=function(e,t){return tt(vg(Wn.fromDom(t.container()),e),ei)},nM=function(e,t,n){return eM(e,t.dom(),n).forall(function(e){return tM(t,n).fold(function(){return!1===Yd(e,n,t.dom())},function(r){return!1===Yd(e,n,t.dom())&&fr(r,Wn.fromDom(e.container()))})})},rM=function(e,t,n){return tM(t,n).fold(function(){return eM(e,t.dom(),n).forall(function(e){return!1===Yd(e,n,t.dom())})},function(t){return eM(e,t.dom(),n).isNone()})},oM=r(rM,!1),iM=r(rM,!0),aM=r(nM,!1),uM=r(nM,!0),sM=function(e,t,n){if(e.selection.isCollapsed()&&KD(e)){var r=e.dom,o=e.selection.getRng(),i=Ol.fromRangeStart(o),a=r.getParent(o.startContainer,r.isBlock);if(null!==a&&oM(Wn.fromDom(a),i))return ZD(e,"outdent"),!0}return!1},cM=function(e,t,n){bA([{keyCode:Ik.BACKSPACE,action:vA(sM,e,!1)},{keyCode:Ik.BACKSPACE,action:vA(kD,e,!1)},{keyCode:Ik.DELETE,action:vA(kD,e,!0)},{keyCode:Ik.BACKSPACE,action:vA(ND,e,!1)},{keyCode:Ik.DELETE,action:vA(ND,e,!0)},{keyCode:Ik.BACKSPACE,action:vA(LD,e,t,!1)},{keyCode:Ik.DELETE,action:vA(LD,e,t,!0)},{keyCode:Ik.BACKSPACE,action:vA(Av,e,!1)},{keyCode:Ik.DELETE,action:vA(Av,e,!0)},{keyCode:Ik.BACKSPACE,action:vA(VD,e,!1)},{keyCode:Ik.DELETE,action:vA(VD,e,!0)},{keyCode:Ik.BACKSPACE,action:vA(ZA,e,!1)},{keyCode:Ik.DELETE,action:vA(ZA,e,!0)},{keyCode:Ik.BACKSPACE,action:vA($A,e,!1)},{keyCode:Ik.DELETE,action:vA($A,e,!0)},{keyCode:Ik.BACKSPACE,action:vA(HD,e,!1)},{keyCode:Ik.DELETE,action:vA(HD,e,!0)}],n).each(function(e){n.preventDefault()})},lM=function(e,t){bA([{keyCode:Ik.BACKSPACE,action:vA(SD,e)},{keyCode:Ik.DELETE,action:vA(SD,e)}],t)},fM=function(e,t){e.on("keydown",function(n){!1===n.isDefaultPrevented()&&cM(e,t,n)}),e.on("keyup",function(t){!1===t.isDefaultPrevented()&&lM(e,t)})},dM=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},pM=function(e,t){var n,r=t,o=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var a=dM(t.firstChild);a&&/^(UL|OL|DL)$/.test(a.nodeName)&&t.insertBefore(o.doc.createTextNode(" "),t.firstChild)}var u=o.createRng();if(t.normalize(),t.hasChildNodes()){for(var s=new yu(t,t);n=s.current();){if(ho(n)){u.setStart(n,0),u.setEnd(n,0);break}if(i[n.nodeName.toLowerCase()]){u.setStartBefore(n),u.setEndBefore(n);break}r=n,n=s.next()}n||(u.setStart(r,0),u.setEnd(r,0))}else yo(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(u.setStartBefore(t),u.setEndBefore(t)):(u.setStartAfter(t),u.setEndAfter(t)):(u.setStart(t,0),u.setEnd(t,0));e.selection.setRng(u),JS(e,u)}},mM=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},hM=function(e){return Ee.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},gM=function(e){return hM(e).fold(ve(""),function(e){return e.nodeName.toUpperCase()})},vM=function(e){return hM(e).filter(function(e){return ai(Wn.fromDom(e))}).isSome()},bM=function(e,t){return e.firstChild&&e.firstChild.nodeName===t},yM=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},wM=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},xM=function(e){return wM(e)&&wM(e.parentNode)},CM=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},_M=function(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!io(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},SM=function(e,t,n,r,o){var i=e.dom,a=e.selection.getRng();if(n!==e.getBody()){xM(n)&&(o="LI");var u=o?t(o):i.create("BR");if(_M(n,r,!0)&&_M(n,r,!1))yM(n,"LI")?i.insertAfter(u,CM(n)):i.replace(u,n);else if(_M(n,r,!0))yM(n,"LI")?(i.insertAfter(u,CM(n)),u.appendChild(i.doc.createTextNode(" ")),u.appendChild(n)):n.parentNode.insertBefore(u,n);else if(_M(n,r,!1))i.insertAfter(u,CM(n));else{n=CM(n);var s=a.cloneRange();s.setStartAfter(r),s.setEndAfter(n);var c=s.extractContents();"LI"===o&&bM(c,"LI")?(u=c.firstChild,i.insertAfter(c,n)):(i.insertAfter(c,n),i.insertAfter(u,n))}i.remove(r),pM(e,u)}},kM=function(e){Xe(Ls(Wn.fromDom(e),Jn),function(e){var t=e.dom();t.nodeValue=dc(t.nodeValue)})},TM=function(e,t){return t&&"A"===t.nodeName&&e.isEmpty(t)},EM=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},OM=function(e){e.innerHTML='<br data-mce-bogus="1">'},NM=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},AM=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},DM=function(e,t,n){var r,o=n,i=[];if(o){for(;o=o.firstChild;){if(e.isBlock(o))return;io(o)&&!t[o.nodeName.toLowerCase()]&&i.push(o)}for(r=i.length;r--;)o=i[r],!o.hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue?e.remove(o):TM(e,o)&&e.remove(o)}},MM=function(e,t,n){return!1===ho(t)?n:e?1===n&&t.data.charAt(n-1)===lc?0:n:n===t.data.length-1&&t.data.charAt(n)===lc?t.data.length:n},IM=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,MM(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,MM(!1,e.endContainer,e.endOffset)),t},RM=function(e){do{ho(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)},PM=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},LM=function(e,t,n){Ee.from(n.style).map(e.dom.parseStyle).each(function(n){var r=Lo(Wn.fromDom(t)),o=Lt(Lt({},r),n);e.dom.setStyles(t,o)});var r=Ee.from(n.class).map(function(e){return e.split(/\s+/)}),o=Ee.from(t.className).map(function(e){return Je(e.split(/\s+/),function(e){return""!==e})});Ac(r,o,function(n,r){var o=Je(r,function(e){return!We(n,e)}),a=i(n,o);e.dom.setAttrib(t,"class",a.join(" "))});var a=["style","class"],u=xt(n,function(e,t){return!We(a,t)});e.dom.setAttribs(t,u)},jM=function(e,t){var n=yf(e);if(n&&n.toLowerCase()===t.tagName.toLowerCase()){var r=wf(e);LM(e,t,r)}},BM=function(e,t,n,r,o){var i,a,u,s,c,l,f=t||"P",d=e.dom,p=PM(d,r);if(!(a=d.getParent(r,d.isBlock))||!AM(d,a)){if(a=a||p,l=a===e.getBody()||EM(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return i=d.create(f),jM(e,i),a.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(s=r;s.parentNode!==a;)s=s.parentNode;for(;s&&!d.isBlock(s);)u=s,s=s.previousSibling;if(u&&e.schema.isValidChild(l,f.toLowerCase())){for(i=d.create(f),jM(e,i),u.parentNode.insertBefore(i,u),s=u;s&&!d.isBlock(s);)c=s.nextSibling,i.appendChild(s),s=c;n.setStart(r,o),n.setEnd(r,o)}}return r},zM=function(e,t){t.normalize();var n=t.lastChild;n&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")},FM=function(e,t){var n,r,o,i,a,u,s,c,l,f,d=e.dom,p=e.schema,m=p.getNonEmptyElements(),h=e.selection.getRng(),g=function(t){var n,o,a,u=r,s=p.getTextInlineElements();if(n=t||"TABLE"===c||"HR"===c?d.create(t||l):i.cloneNode(!1),a=n,!1===_f(e))d.setAttrib(n,"style",null),d.setAttrib(n,"class",null);else do{if(s[u.nodeName]){if(Bp(u)||am(u))continue;o=u.cloneNode(!1),d.setAttrib(o,"id",""),n.hasChildNodes()?(o.appendChild(n.firstChild),n.appendChild(o)):(a=o,n.appendChild(o))}}while((u=u.parentNode)&&u!==x);return jM(e,n),OM(a),n},v=function(e){var t,n,a=MM(e,r,o);if(ho(r)&&(e?a>0:a<r.nodeValue.length))return!1;if(r.parentNode===i&&f&&!e)return!0;if(e&&io(r)&&r===i.firstChild)return!0;if(NM(r,"TABLE")||NM(r,"HR"))return f&&!e||!f&&e;var u=new yu(r,i);for(ho(r)&&(e&&0===a?u.prev():e||a!==r.nodeValue.length||u.next());t=u.current();){if(io(t)){if(!t.getAttribute("data-mce-bogus")&&(n=t.nodeName.toLowerCase(),m[n]&&"br"!==n))return!1}else if(ho(t)&&!di(t.nodeValue))return!1;e?u.prev():u.next()}return!0},b=function(){a=/^(H[1-6]|PRE|FIGURE)$/.test(c)&&"HGROUP"!==C?g(l):g(),Sf(e)&&AM(d,s)&&d.isEmpty(i)?a=d.split(s,i):d.insertAfter(a,i),pM(e,a)};_k(d,h).each(function(e){h.setStart(e.startContainer,e.startOffset),h.setEnd(e.endContainer,e.endOffset)}),r=h.startContainer,o=h.startOffset,l=yf(e);var y=!(!t||!t.shiftKey),w=!(!t||!t.ctrlKey);io(r)&&r.hasChildNodes()&&(f=o>r.childNodes.length-1,r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r,o=f&&ho(r)?r.nodeValue.length:0);var x=PM(d,r);if(x){(l&&!y||!l&&y)&&(r=BM(e,l,h,r,o)),i=d.getParent(r,d.isBlock),s=i?d.getParent(i.parentNode,d.isBlock):null,c=i?i.nodeName.toUpperCase():"";var C=s?s.nodeName.toUpperCase():"";if("LI"!==C||w||(i=s,s=s.parentNode,c=C),/^(LI|DT|DD)$/.test(c)&&d.isEmpty(i))return void SM(e,g,s,i,l);l&&i===e.getBody()||(l=l||"P",hc(i)?(a=Ec(i),d.isEmpty(i)&&OM(i),jM(e,a),pM(e,a)):v()?b():v(!0)?(a=i.parentNode.insertBefore(g(),i),pM(e,NM(i,"HR")?a:i)):(n=IM(h).cloneRange(),n.setEndAfter(i),u=n.extractContents(),kM(u),RM(u),a=u.firstChild,d.insertAfter(u,i),DM(d,m,a),zM(d,i),d.isEmpty(i)&&OM(i),a.normalize(),d.isEmpty(a)?(d.remove(a),b()):(jM(e,a),pM(e,a))),d.setAttrib(a,"id",""),e.fire("NewBlock",{newBlock:a}))}},HM=function(e,t,n){for(var r,o=new yu(t,n),i=e.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||r.length>0)return!0},UM=function(e,t,n){var r=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(r,n),t.scrollIntoView(r),e.remove(r)},VM=function(e,t,n,r){var o=e.createRng();r?(o.setStartBefore(n),o.setEndBefore(n)):(o.setStartAfter(n),o.setEndAfter(n)),t.setRng(o)},qM=function(e,t){var n,r,o=e.selection,i=e.dom,a=o.getRng();_k(i,a).each(function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)});var u=a.startOffset,s=a.startContainer;if(1===s.nodeType&&s.hasChildNodes()){var c=u>s.childNodes.length-1;s=s.childNodes[Math.min(u,s.childNodes.length-1)]||s,u=c&&3===s.nodeType?s.nodeValue.length:0}var l=i.getParent(s,i.isBlock),f=l?i.getParent(l.parentNode,i.isBlock):null,d=f?f.nodeName.toUpperCase():"",p=!(!t||!t.ctrlKey);"LI"!==d||p||(l=f),s&&3===s.nodeType&&u>=s.nodeValue.length&&(HM(e.schema,s,l)||(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0)),n=i.create("br"),Ml(i,a,n),UM(i,o,n),VM(i,o,n,r),e.undoManager.add()},WM=function(e,t){var n=Wn.fromTag("br");Rr(Wn.fromDom(t),n),e.undoManager.add()},$M=function(e,t){XM(e.getBody(),t)||Pr(Wn.fromDom(t),Wn.fromTag("br"));var n=Wn.fromTag("br");Pr(Wn.fromDom(t),n),UM(e.dom,e.selection,n.dom()),VM(e.dom,e.selection,n.dom(),!1),e.undoManager.add()},GM=function(e){return yo(e.getNode())},XM=function(e,t){return!!GM(Ol.after(t))||Rp(e,Ol.after(t)).map(function(e){return yo(e.getNode())}).getOr(!1)},KM=function(e){return e&&"A"===e.nodeName&&"href"in e},YM=function(e){return e.fold(ve(!1),KM,KM,ve(!1))},JM=function(e){var t=r(PE,e),n=Ol.fromRangeStart(e.selection.getRng());return eO(t,e.getBody(),n).filter(YM)},QM=function(e,t){t.fold(me,r(WM,e),r($M,e),me)},ZM=function(e,t){var n=JM(e);n.isSome()?n.each(r(QM,e)):qM(e,t)},eI=function(e,t){return hM(e).filter(function(e){return t.length>0&&or(Wn.fromDom(e),t)}).isSome()},tI=function(e){return eI(e,xf(e))},nI=function(e){return eI(e,Cf(e))},rI=zu.generate([{br:[]},{block:[]},{none:[]}]),oI=function(e,t){return nI(e)},iI=function(e){return function(t,n){return""===yf(t)===e}},aI=function(e){return function(t,n){return vM(t)===e}},uI=function(e,t){return function(n,r){return gM(n)===e.toUpperCase()===t}},sI=function(e){return uI("pre",e)},cI=function(){return uI("summary",!0)},lI=function(e){return function(t,n){return bf(t)===e}},fI=function(e,t){return tI(e)},dI=function(e,t){return t},pI=function(e){var t=yf(e),n=mM(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},mI=function(e,t){return function(n,r){return Ze(e,function(e,t){return e&&t(n,r)},!0)?Ee.some(t):Ee.none()}},hI=function(e,t){return qE([mI([oI],rI.none()),mI([cI()],rI.br()),mI([sI(!0),lI(!1),dI],rI.br()),mI([sI(!0),lI(!1)],rI.block()),mI([sI(!0),lI(!0),dI],rI.block()),mI([sI(!0),lI(!0)],rI.br()),mI([aI(!0),dI],rI.br()),mI([aI(!0)],rI.block()),mI([iI(!0),dI,pI],rI.block()),mI([iI(!0)],rI.br()),mI([fI],rI.br()),mI([iI(!1),dI],rI.br()),mI([pI],rI.block())],[e,!(!t||!t.shiftKey)]).getOr(rI.none())},gI=function(e,t){hI(e,t).fold(function(){ZM(e,t)},function(){FM(e,t)},me)},vI=function(e,t){t.isDefaultPrevented()||(t.preventDefault(),fC(e.undoManager),e.undoManager.transact(function(){!1===e.selection.isCollapsed()&&e.execCommand("Delete"),gI(e,t)}))},bI=function(e){e.on("keydown",function(t){t.keyCode===Ik.ENTER&&vI(e,t)})},yI=function(e,t){var n=t.container(),r=t.offset();return ho(n)?(n.insertData(r,e),Ee.some(E(n,r+e.length))):ap(t).map(function(n){var r=Wn.fromText(e);return t.isAtEnd()?Pr(n,r):Rr(n,r),E(r.dom(),e.length)})},wI=r(yI," "),xI=r(yI," "),CI=function(e){return E.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},_I=function(e,t){var n=Je(vg(Wn.fromDom(t.container()),e),ei);return lt(n).getOr(e)},SI=function(e,t){return CI(t)?Vh(t):Vh(t)||Pp(_I(e,t).dom(),t).exists(Vh)},kI=function(e,t){return CI(t)?Uh(t):Uh(t)||Rp(_I(e,t).dom(),t).exists(Uh)},TI=function(e){return We(["pre","pre-wrap"],e)},EI=function(e){return ap(e).bind(function(e){return zs(e,Yn)}).exists(function(e){return TI(Io(e,"white-space"))})},OI=function(e,t){return Pp(e.dom(),t).isNone()},NI=function(e,t){return Rp(e.dom(),t).isNone()},AI=function(e,t){return OI(e,t)||NI(e,t)||oM(e,t)||iM(e,t)||rD(e,t)||nD(e,t)},DI=function(e,t){return!EI(t)&&(AI(e,t)||SI(e,t)||kI(e,t))},MI=function(e,t){return!EI(t)&&(oM(e,t)||aM(e,t)||rD(e,t)||SI(e,t))},II=function(e){var t=e.container(),n=e.offset();return ho(t)&&n<t.data.length?E(t,n+1):e},RI=function(e,t){var n=II(t);return!EI(n)&&(iM(e,n)||uM(e,n)||nD(e,n)||kI(e,n))},PI=function(e,t){return MI(e,t)||RI(e,t)},LI=function(e,t){return um(e.charAt(t))},jI=function(e){var t=e.container();return ho(t)&&tn(t.data," ")},BI=function(e){var t=e.split("");return Ge(t,function(e,n){return um(e)&&n>0&&n<t.length-1&&cm(t[n-1])&&cm(t[n+1])?" ":e}).join("")},zI=function(e,t){var n=t.data,r=E(t,0);return!(!LI(n,0)||PI(e,r))&&(t.data=" "+n.slice(1),!0)},FI=function(e){var t=e.data,n=BI(t);return n!==t&&(e.data=n,!0)},HI=function(e,t){var n=t.data,r=E(t,n.length-1);return!(!LI(n,n.length-1)||PI(e,r))&&(t.data=n.slice(0,-1)+" ",!0)},UI=function(e,t){return Ee.some(t).filter(jI).bind(function(t){var n=t.container();return zI(e,n)||FI(n)||HI(e,n)?Ee.some(t):Ee.none()})},VI=function(e){var t=Wn.fromDom(e.getBody());e.selection.isCollapsed()&&UI(t,E.fromRangeStart(e.selection.getRng())).each(function(t){e.selection.setRng(t.toRange())})},qI=function(e){return function(t){return t.fold(function(t){return Pp(e.dom(),Ol.before(t))},function(e){return Lp(e)},function(e){return jp(e)},function(t){return Rp(e.dom(),Ol.after(t))})}},WI=function(e,t){return function(n){return DI(e,n)?wI(t):xI(t)}},$I=function(e){return function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}},GI=function(e){var t=Ol.fromRangeStart(e.selection.getRng()),n=Wn.fromDom(e.getBody());if(e.selection.isCollapsed()){var o=r(PE,e),i=Ol.fromRangeStart(e.selection.getRng());return eO(o,e.getBody(),i).bind(qI(n)).bind(WI(n,t)).exists($I(e))}return!1},XI=function(e,t){bA([{keyCode:Ik.SPACEBAR,action:vA(GI,e)}],t).each(function(e){t.preventDefault()})},KI=function(e){e.on("keydown",function(t){!1===t.isDefaultPrevented()&&XI(e,t)})},YI=function(e){return Hs(Wn.fromDom(e.getBody()),"*[data-mce-caret]").fold(ve(null),function(e){return e.dom()})},JI=function(e){e.selection.setRng(e.selection.getRng())},QI=function(e,t){t.hasAttribute("data-mce-caret")&&(Ec(t),JI(e),e.selection.scrollIntoView(t))},ZI=function(e,t){var n=YI(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void QI(e,n)):void(bc(n)&&(QI(e,n),e.undoManager.add()))},eR=function(e){e.on("keyup compositionstart",r(ZI,e))},tR=vn().browser,nR=function(e){var t=_s(function(){e.composing||VI(e)},0);tR.isIE()&&(e.on("keypress",function(e){t.throttle()}),e.on("remove",function(e){t.cancel()}))},rR=function(e){nR(e),e.on("input",function(t){!1===t.isComposing&&VI(e)})},oR=function(e,t){bA([{keyCode:Ik.END,action:ON(e,!0)},{keyCode:Ik.HOME,action:ON(e,!1)}],t).each(function(e){t.preventDefault()})},iR=function(e){e.on("keydown",function(t){!1===t.isDefaultPrevented()&&oR(e,t)})},aR=function(e){var t=wO(e);eR(e),wA(e,t),fM(e,t),bI(e),KI(e),rR(e),iR(e)},uR=function(e){OC(e)||aR(e)},sR=function(){function e(e){this.lastPath=[],this.editor=e;var t,n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",function(n){var r=e.selection.getRng(),o={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};"nodechange"!==n.type&&fk(o,t)||e.fire("SelectionChange"),t=o}),e.on("contextmenu",function(){e.fire("SelectionChange")}),e.on("SelectionChange",function(){var t=e.selection.getStart(!0);!t||!Tn.range&&e.selection.isCollapsed()||nh(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on("mouseup",function(t){!t.isDefaultPrevented()&&nh(e)&&("IMG"===e.selection.getNode().nodeName?Xu.setEditorTimeout(e,function(){e.nodeChanged()}):e.nodeChanged())})}return e.prototype.nodeChanged=function(e){var t,n,r,o=this.editor.selection;this.editor.initialized&&o&&!dd(this.editor)&&!this.editor.mode.isReadOnly()&&(r=this.editor.getBody(),t=o.getStart(!0)||r,t.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(t,r)||(t=r),n=[],this.editor.dom.getParent(t,function(e){if(e===r)return!0;n.push(e)}),e=e||{},e.element=t,e.parents=n,this.editor.fire("NodeChange",e))},e.prototype.isSameElementPath=function(e){var t,n=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e);if(n.length===this.lastPath.length){for(t=n.length;t>=0&&n[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=n,!0}return this.lastPath=n,!1},e}(),cR=function(e){e.on("click",function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()})},lR=function(e){e.parser.addNodeFilter("details",function(e){Xe(e,function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")})}),e.serializer.addNodeFilter("details",function(e){Xe(e,function(e){var t=e.attr("data-mce-open");e.attr("open",Me(t)?t:null),e.attr("data-mce-open",null)})})},fR=function(e){cR(e),lR(e)},dR=function(e){return io(e)&&oi(Wn.fromDom(e))},pR=function(e){var t=e.selection.getRng(),n=E.fromRangeStart(t),r=E.fromRangeEnd(t);if(E.isElementPosition(n)){var o=n.container();dR(o)&&Lp(o).each(function(e){return t.setStart(e.container(),e.offset())})}if(E.isElementPosition(r)){var o=n.container();dR(o)&&jp(o).each(function(e){return t.setEnd(e.container(),e.offset())})}e.selection.setRng(Iv(t))},mR=function(e){e.on("click",function(t){t.detail>=3&&pR(e)})},hR=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top:t.top+o.pageYOffset-r.clientTop,left:t.left+o.pageXOffset-r.clientLeft}},gR=function(e){return e.inline?hR(e.getBody()):{left:0,top:0}},vR=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},bR=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},o={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:o},yR=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=hR(e.getContentAreaContainer()),r=bR(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},wR=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}},xR=function(e,t){return wR(gR(e),vR(e),yR(e,t))},CR=xo,_R=wo,SR=function(e,t){return CR(t)&&t!==e},kR=function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!CR(t)},TR=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},ER=function(e,t,n,r){var o=t.cloneNode(!0);e.dom.setStyles(o,{width:n,height:r}),e.dom.setAttrib(o,"data-mce-selected",null);var i=e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),e.dom.setStyles(o,{margin:0,boxSizing:"border-box"}),i.appendChild(o),i},OR=function(e,t){e.parentNode!==t&&t.appendChild(e)},NR=function(e,t,n,r,o,i){var a=0,u=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>o&&(a=t.pageX+n-o),t.pageY+r>i&&(u=t.pageY+r-i),e.style.width=n-a+"px",e.style.height=r-u+"px"},AR=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},DR=function(e){return 0===e.button},MR=function(e){return e.element},IR=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},RR=function(e,t){return function(n){if(DR(n)){var r=tt(t.dom.getParents(n.target),Wc(CR,_R)).getOr(null);if(SR(t.getBody(),r)){var o=t.dom.getPos(r),i=t.getBody(),a=t.getDoc().documentElement;e.element=r,e.screenX=n.screenX,e.screenY=n.screenY,e.maxX=(t.inline?i.scrollWidth:a.offsetWidth)-2,e.maxY=(t.inline?i.scrollHeight:a.offsetHeight)-2,e.relX=n.pageX-o.x,e.relY=n.pageY-o.y,e.width=r.offsetWidth,e.height=r.offsetHeight,e.ghost=ER(t,r,e.width,e.height)}}}},PR=function(e,t){var n=Xu.throttle(function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)},0);return function(r){var o=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(MR(e)&&!e.dragging&&o>10){if(t.fire("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var i=IR(e,xR(t,r));OR(e.ghost,t.getBody()),NR(e.ghost,i,e.width,e.height,e.maxX,e.maxY),n(r.clientX,r.clientY)}}},LR=function(e){var t=e.getSel().getRangeAt(0),n=t.startContainer;return 3===n.nodeType?n.parentNode:n},jR=function(e,t){return function(n){if(e.dragging&&kR(t,LR(t.selection),e.element)){var r=TR(e.element),o=t.fire("drop",{targetClone:r,clientX:n.clientX,clientY:n.clientY});o.isDefaultPrevented()||(r=o.targetClone,t.undoManager.transact(function(){AR(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()}))}zR(e)}},BR=function(e,t){return function(){e.dragging&&t.fire("dragend"),zR(e)}},zR=function(e){e.dragging=!1,e.element=null,AR(e.ghost)},FR=function(e){var t={},r=rs.DOM,o=n.document,i=RR(t,e),a=PR(t,e),u=jR(t,e),s=BR(t,e);e.on("mousedown",i),e.on("mousemove",a),e.on("mouseup",u),r.bind(o,"mousemove",a),r.bind(o,"mouseup",s),e.on("remove",function(){r.unbind(o,"mousemove",a),r.unbind(o,"mouseup",s)})},HR=function(e){e.on("drop",function(t){var n=void 0!==t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(CR(n)||CR(e.dom.getContentEditableParent(n)))&&t.preventDefault()})},UR=function(e){var t=function(e){if(!e.defaultPrevented){var t=e.dataTransfer;t&&(We(t.types,"Files")||t.files.length>0)&&e.preventDefault()}},r=function(n){dy(e,n.target)&&t(n)},o=function(){var o=rs.DOM,i=e.dom,a=n.document,u=e.inline?e.getBody():e.getDoc(),s=["drop","dragover"];Xe(s,function(e){o.bind(a,e,r),i.bind(u,e,t)}),e.on("remove",function(){Xe(s,function(e){o.unbind(a,e,r),i.unbind(u,e,t)})})};e.on("init",function(){Xu.setEditorTimeout(e,o,0)})},VR=function(e){FR(e),HR(e),vd(e)&&UR(e)},qR=function(e){var t=_s(function(){if(!e.removed&&e.getBody().contains(n.document.activeElement)){if(e.selection.getRng().collapsed){var t=gN(e,e.selection.getRng(),!1);e.selection.setRng(t)}}},0);e.on("focus",function(){t.throttle()}),e.on("blur",function(){t.cancel()})},WR=wo,$R=xo,GR=function(e,t){for(var n=e.getBody();t&&t!==n;){if(WR(t)||$R(t))return t;t=t.parentNode}return null},XR=function(e){var t,n=function(t){return e.dom.isBlock(t)},r=e.getBody(),o=Ld(e,r,n,function(){return Ty(e)}),i="sel-"+e.dom.uniqueId(),a=function(t){return e.dom.hasClass(t,"mce-offscreen-selection")},u=function(){var t=e.dom.get(i);return t?t.getElementsByTagName("*")[0]:t},s=function(t){t&&e.selection.setRng(t)},c=function(){return e.selection.getRng()},l=function(t,n,r,i){return void 0===i&&(i=!0),e.fire("ShowCaret",{target:n,direction:t,before:r}).isDefaultPrevented()?null:(i&&e.selection.scrollIntoView(n,-1===t),o.show(r,n))},f=function(t){t.hasAttribute("data-mce-caret")&&(Ec(t),s(c()),e.selection.scrollIntoView(t))},d=function(e){return vc(e)||Sc(e)||kc(e)},p=function(e){return d(e.startContainer)||d(e.endContainer)},m=function(t){var n=e.schema.getShortEndedElements(),r=e.dom.createRng(),o=t.startContainer,i=t.startOffset,a=t.endContainer,u=t.endOffset;return kt(n,o.nodeName.toLowerCase())?0===i?r.setStartBefore(o):r.setStartAfter(o):r.setStart(o,i),kt(n,a.nodeName.toLowerCase())?0===u?r.setEndBefore(a):r.setEndAfter(a):r.setEnd(a,u),r},h=function(n,o){var a,u,s,c,f,d,m,h=e.$,g=e.dom;if(!n)return null;if(n.collapsed){if(!p(n))if(!1===o){if(f=ip(-1,r,n),Bd(f.getNode(!0)))return l(-1,f.getNode(!0),!1,!1);if(Bd(f.getNode()))return l(-1,f.getNode(),!f.isAtEnd(),!1)}else{if(f=ip(1,r,n),Bd(f.getNode()))return l(1,f.getNode(),!f.isAtEnd(),!1);if(Bd(f.getNode(!0)))return l(1,f.getNode(!0),!1,!1)}return null}s=n.startContainer,c=n.startOffset;var v=n.endOffset;if(3===s.nodeType&&0===c&&$R(s.parentNode)&&(s=s.parentNode,c=g.nodeIndex(s),s=s.parentNode),1!==s.nodeType)return null;if(v===c+1&&s===n.endContainer&&(a=s.childNodes[c]),!$R(a))return null;d=m=a.cloneNode(!0);var y=e.fire("ObjectSelected",{target:a,targetClone:d});if(y.isDefaultPrevented())return null;u=Hs(Wn.fromDom(e.getBody()),"#"+i).fold(function(){return h([])},function(e){return h([e.dom()])}),d=y.targetClone,0===u.length&&(u=h('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",i),u.appendTo(e.getBody())),n=e.dom.createRng(),d===m&&Tn.ie?(u.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(d),n.setStartAfter(u[0].firstChild.firstChild),n.setEndAfter(d)):(u.empty().append(" ").append(d).append(" "),n.setStart(u[0].firstChild,1),n.setEnd(u[0].lastChild,0)),u.css({top:g.getPos(a,e.getBody()).y}),u[0].focus();var w=e.selection.getSel();w.removeAllRanges(),w.addRange(n);var x=Wn.fromDom(a);return Xe(js(Wn.fromDom(e.getBody()),"*[data-mce-selected]"),function(e){sr(x,e)||No(e,"data-mce-selected")}),e.dom.getAttrib(a,"data-mce-selected")||a.setAttribute("data-mce-selected","1"),t=a,b(),n},g=function(){t&&(t.removeAttribute("data-mce-selected"),Hs(Wn.fromDom(e.getBody()),"#"+i).each(Ur),t=null),Hs(Wn.fromDom(e.getBody()),"#"+i).each(Ur),t=null},v=function(){o.destroy(),t=null},b=function(){o.hide()};return Tn.ceFalse&&function(){e.on("mouseup",function(t){var n=c();n.collapsed&&rS(e,t.clientX,t.clientY)&&s(hN(e,n,!1))}),e.on("click",function(t){var n=GR(e,t.target);n&&($R(n)&&(t.preventDefault(),e.focus()),WR(n)&&e.dom.isChildOf(n,e.selection.getNode())&&g())}),e.on("blur NewBlock",function(){g()}),e.on("ResizeWindow FullscreenStateChanged",function(){return o.reposition()});var n=function(e){var t=Cp(e);if(!e.firstChild)return!1;var n=Ol.before(e.firstChild),r=t.next(n);return r&&!Qh(r)&&!Zh(r)},i=function(t,n){return e.dom.getParent(t,e.dom.isBlock)===e.dom.getParent(n,e.dom.isBlock)},f=function(t,r){var o=e.dom.getParent(t,e.dom.isBlock),a=e.dom.getParent(r,e.dom.isBlock);return!(!o||!e.dom.isChildOf(o,a)||!1!==$R(GR(e,o)))||o&&!i(o,a)&&n(o)};!function(e){e.on("tap",function(t){var n=GR(e,t.target);$R(n)&&(t.preventDefault(),h(mN(e,n)))},!0)}(e),e.on("mousedown",function(t){var n=t.target;if((n===r||"HTML"===n.nodeName||e.dom.isChildOf(n,r))&&!1!==rS(e,t.clientX,t.clientY)){var o=GR(e,n);if(o)$R(o)?(t.preventDefault(),h(mN(e,o))):(g(),WR(o)&&t.shiftKey||Mk(t.clientX,t.clientY,e.selection.getRng())||(b(),e.selection.placeCaretAt(t.clientX,t.clientY)));else if(!1===Bd(n)){g(),b();var i=cN(r,t.clientX,t.clientY);if(i&&!f(t.target,i.node)){t.preventDefault();var a=l(1,i.node,i.before,!1);e.getBody().focus(),s(a)}}}}),e.on("keypress",function(t){Ik.modifierPressed(t)||(t.keyCode,$R(e.selection.getNode())&&t.preventDefault())}),e.on("GetSelectionRange",function(e){var n=e.range;if(t){if(!t.parentNode)return void(t=null);n=n.cloneRange(),n.selectNode(t),e.range=n}}),e.on("SetSelectionRange",function(e){e.range=m(e.range);var t=h(e.range,e.forward);t&&(e.range=t)});var d=function(e){return"mcepastebin"===e.id};e.on("AfterSetSelectionRange",function(e){var t=e.range;p(t)||d(t.startContainer.parentNode)||b(),a(t.startContainer.parentNode)||g()}),e.on("copy",function(e){var t=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!Tn.ie){var n=u();n&&(e.preventDefault(),t.clearData(),t.setData("text/html",n.outerHTML),t.setData("text/plain",n.outerText))}}),VR(e),qR(e)}(),{showCaret:l,showBlockCaretContainer:f,hideFakeCaret:b,destroy:v}},KR=function(e){var t=zn.each,r=Ik.BACKSPACE,o=Ik.DELETE,i=e.dom,a=e.selection,u=e.parser,s=Tn.gecko,c=Tn.ie,l=Tn.webkit,f=c?"Text":"URL",d=function(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},p=function(e){return e.isDefaultPrevented()},m=function(t){var n,r;t.dataTransfer&&(e.selection.isCollapsed()&&"IMG"===t.target.tagName&&a.select(t.target),n=e.selection.getContent(),n.length>0&&(r="data:text/mce-internal,"+escape(e.id)+","+escape(n),t.dataTransfer.setData(f,r)))},h=function(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(f))&&t.indexOf("data:text/mce-internal,")>=0?(t=t.substr("data:text/mce-internal,".length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null},g=function(t,n){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:t,internal:n}):e.execCommand("mceInsertContent",!1,t)},v=function(){e.shortcuts.add("meta+a",null,"SelectAll")},b=function(){e.on("keydown",function(e){if(!p(e)&&e.keyCode===r&&a.isCollapsed()&&0===a.getRng().startOffset){var t=a.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})},y=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(t){var n;if("HTML"===t.target.nodeName){if(Tn.ie>11)return void e.getBody().focus();n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged()}}))},w=function(){},x=function(){if(!s||e.removed)return!1;var t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount};return function(){e.on("keydown",function(t){var n,r;if(!p(t)&&t.keyCode===Ik.BACKSPACE){n=a.getRng();var o=n.startContainer,u=n.startOffset,s=i.getRoot();if(r=o,n.collapsed&&0===u){for(;r&&r.parentNode&&r.parentNode.firstChild===r&&r.parentNode!==s;)r=r.parentNode;"BLOCKQUOTE"===r.tagName&&(e.formatter.toggle("blockquote",null,r),n=i.createRng(),n.setStart(o,0),n.setEnd(o,0),a.setRng(n))}}})}(),function(){var t=function(e){var t=i.create("body"),n=e.cloneContents();return t.appendChild(n),a.serializer.serialize(t,{format:"html"})},n=function(n){var r=t(n),o=i.createRng();return o.selectNode(e.getBody()),r===t(o)};e.on("keydown",function(t){var a,u,s=t.keyCode;if(!p(t)&&(s===o||s===r)){if(a=e.selection.isCollapsed(),u=e.getBody(),a&&!i.isEmpty(u))return;if(!a&&!n(e.selection.getRng()))return;t.preventDefault(),e.setContent(""),u.firstChild&&i.isBlock(u.firstChild)?e.selection.setCursorLocation(u.firstChild,0):e.selection.setCursorLocation(u,0),e.nodeChanged()}})}(),Tn.windowsPhone||function(){e.on("keyup focusin mouseup",function(e){Ik.modifierPressed(e)||a.normalize()},!0)}(),l&&(function(){e.inline||i.bind(e.getDoc(),"mousedown mouseup",function(t){var n;if(t.target===e.getDoc().documentElement)if(n=a.getRng(),e.getBody().focus(),"mousedown"===t.type){if(vc(n.startContainer))return;a.placeCaretAt(t.clientX,t.clientY)}else a.setRng(n)})}(),function(){e.on("click",function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==i.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&i.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),a.select(n))})}(),function(){yf(e)&&e.on("init",function(){d("DefaultParagraphSeparator",yf(e))})}(),function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(e){e.preventDefault()})})}(),b(),function(){u.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})}(),Tn.iOS?(function(){e.inline||e.on("keydown",function(){n.document.activeElement===n.document.body&&e.getWin().focus()})}(),y(),function(){e.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}()):v()),Tn.ie>=11&&(y(),b()),Tn.ie&&(v(),function(){d("AutoUrlDetect",!1)}(),function(){e.on("dragstart",function(e){m(e)}),e.on("drop",function(t){if(!p(t)){var n=h(t);if(n&&n.id!==e.id){t.preventDefault();var r=nk(t.x,t.y,e.getDoc());a.setRng(r),g(n.html,!0)}}})}()),s&&(!function(){e.on("keydown",function(t){if(!p(t)&&t.keyCode===r){if(!e.getBody().getElementsByTagName("hr").length)return;if(a.isCollapsed()&&0===a.getRng().startOffset){var n=a.getNode(),o=n.previousSibling;if("HR"===n.nodeName)return i.remove(n),void t.preventDefault();o&&o.nodeName&&"hr"===o.nodeName.toLowerCase()&&(i.remove(o),t.preventDefault())}}})}(),function(){n.Range.prototype.getClientRects||e.on("mousedown",function(t){if(!p(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),Xu.setEditorTimeout(e,function(){n.focus()})}})}(),function(){var n=function(){var n=i.getAttribs(a.getStart().cloneNode(!1));return function(){var r=a.getStart();r!==e.getBody()&&(i.setAttrib(r,"style",null),t(n,function(e){r.setAttributeNode(e.cloneNode(!0))}))}},r=function(){return!a.isCollapsed()&&i.getParent(a.getStart(),i.isBlock)!==i.getParent(a.getEnd(),i.isBlock)};e.on("keypress",function(t){var o;if(!p(t)&&(8===t.keyCode||46===t.keyCode)&&r())return o=n(),e.getDoc().execCommand("delete",!1,null),o(),t.preventDefault(),!1}),i.bind(e.getDoc(),"cut",function(t){var o;!p(t)&&r()&&(o=n(),Xu.setEditorTimeout(e,function(){o()}))})}(),function(){var t=function(){d("StyleWithCSS",!1),d("enableInlineTableEditing",!1),$f(e)||d("enableObjectResizing",!1)};pd(e)||e.on("BeforeExecCommand mousedown",t)}(),function(){var n=function(){t(i.select("a"),function(e){var t=e.parentNode,n=i.getRoot();if(t.lastChild===e){for(;t&&!i.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}i.add(t,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||n()})}(),function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}(),function(){Tn.mac&&e.on("keydown",function(t){if(Ik.metaKeyPressed(t)&&!t.shiftKey&&(37===t.keyCode||39===t.keyCode)){t.preventDefault();e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary")}})}(),b()),{refreshContentEditable:w,isHidden:x}},YR=rs.DOM,JR=function(e,t){var n=Wn.fromDom(e.getDoc().head),r=Wn.fromTag("style");So(r,"type","text/css"),jr(r,Wn.fromText(t)),jr(n,r)},QR=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},ZR=function(e){return xt(e,function(e){return!1===je(e)})},eP=function(e){var t=e.settings,n=e.editorUpload.blobCache;return ZR({allow_conditional_comments:t.allow_conditional_comments,allow_html_data_urls:t.allow_html_data_urls,allow_html_in_named_anchor:t.allow_html_in_named_anchor,allow_script_urls:t.allow_script_urls,allow_unsafe_link_target:t.allow_unsafe_link_target,convert_fonts_to_spans:t.convert_fonts_to_spans,fix_list_elements:t.fix_list_elements,font_size_legacy_values:t.font_size_legacy_values,forced_root_block:t.forced_root_block,forced_root_block_attrs:t.forced_root_block_attrs,padd_empty_with_br:t.padd_empty_with_br,preserve_cdata:t.preserve_cdata,remove_trailing_brs:t.remove_trailing_brs,inline_styles:t.inline_styles,root_name:QR(e),validate:!0,blob_cache:n,images_dataimg_filter:t.images_dataimg_filter})},tP=function(e){var t=e.settings;return Lt(Lt({},eP(e)),ZR({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,element_format:t.element_format,entities:t.entities,entity_encoding:t.entity_encoding,indent:t.indent,indent_after:t.indent_after,indent_before:t.indent_before,block_elements:t.block_elements,boolean_attributes:t.boolean_attributes,custom_elements:t.custom_elements,extended_valid_elements:t.extended_valid_elements,invalid_elements:t.invalid_elements,invalid_styles:t.invalid_styles,move_caret_before_on_enter_elements:t.move_caret_before_on_enter_elements,non_empty_elements:t.non_empty_elements,schema:t.schema,self_closing_elements:t.self_closing_elements,short_ended_elements:t.short_ended_elements,special:t.special,text_block_elements:t.text_block_elements,text_inline_elements:t.text_inline_elements,valid_children:t.valid_children,valid_classes:t.valid_classes,valid_elements:t.valid_elements,valid_styles:t.valid_styles,verify_html:t.verify_html,whitespace_elements:t.whitespace_elements}))},nP=function(e){var t=yT(eP(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",function(t,n){for(var r,o,i=t.length,a=e.dom,u="data-mce-"+n;i--;)if(r=t[i],(o=r.attr(n))&&!r.attr(u)){if(0===o.indexOf("data:")||0===o.indexOf("blob:"))continue;"style"===n?(o=a.serializeStyle(a.parseStyle(o),r.name),o.length||(o=null),r.attr(u,o),r.attr(n,o)):"tabindex"===n?(r.attr(u,o),r.attr(n,null)):r.attr(u,e.convertURL(o,n,r.name))}}),t.addNodeFilter("script",function(e){for(var t=e.length;t--;){var n=e[t],r=n.attr("type")||"no/type";0!==r.indexOf("mce-")&&n.attr("type","mce-"+r)}}),e.settings.preserve_cdata&&t.addNodeFilter("#cdata",function(t){for(var n=t.length;n--;){var r=t[n];r.type=8,r.name="#comment",r.value="[CDATA["+e.dom.encode(r.value)+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){for(var n=t.length,r=e.schema.getNonEmptyElements();n--;){var o=t[n];o.isEmpty(r)&&0===o.getAll("br").length&&(o.append(new bh("br",1)).shortEnded=!0)}}),t},rP=function(e){e.settings.auto_focus&&Xu.setEditorTimeout(e,function(){var t;t=!0===e.settings.auto_focus?e:e.editorManager.get(e.settings.auto_focus),t.destroyed||t.focus()},100)},oP=function(e){var t=e.dom.getRoot();e.inline||nh(e)&&e.selection.getStart(!0)!==t||Lp(t).each(function(t){var n=t.getNode(),r=fo(n)?Lp(n).getOr(t):t;Tn.browser.isIE()?Qb(e,r.toRange()):e.selection.setRng(r.toRange())})},iP=function(e){e.bindPendingEventDelegates(),e.initialized=!0,u_(e),e.focus(!0),oP(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),rP(e)},aP=function(e){return e.inline?YR.styleSheetLoader:e.dom.styleSheetLoader},uP=function(e,t){var n=e.settings,r=e.getDoc(),o=e.getBody();n.browser_spellcheck||n.gecko_spellcheck||(r.body.spellcheck=!1,YR.setAttrib(o,"spellcheck","false")),e.quirks=KR(e),a_(e);var i=qf(e);if(void 0!==i&&(o.dir=i),n.protect&&e.on("BeforeSetContent",function(e){zn.each(n.protect,function(t){e.content=e.content.replace(t,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),!1===t&&e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",function(t){e.composing="compositionstart"===t.type}),e.contentStyles.length>0){var a="";zn.each(e.contentStyles,function(e){a+=e+"\r\n"}),e.dom.addStyle(a)}aP(e).loadAll(e.contentCSS,function(t){iP(e)},function(t){iP(e)}),n.content_style&&JR(e,n.content_style)},sP=function(e,t){var r=e.settings,o=e.getElement(),i=e.getDoc();r.inline||(e.getElement().style.visibility=e.orgVisibility),t||e.inline||(i.open(),i.write(e.iframeHTML),i.close()),e.inline&&(YR.addClass(o,"mce-content-body"),e.contentDocument=i=n.document,e.contentWindow=n.window,e.bodyElement=o,e.contentAreaContainer=o);var u=e.getBody();u.disabled=!0,e.readonly=!!r.readonly,e.readonly||(e.inline&&"static"===YR.getStyle(u,"position",!0)&&(u.style.position="relative"),u.contentEditable=e.getParam("content_editable_state",!0)),u.disabled=!1,e.editorUpload=jT(e),e.schema=a(r),e.dom=rs(i,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:r.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:jf(e),referrerPolicy:Bf(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=nP(e),e.serializer=MT(tP(e),e),e.selection=Uk(e.dom,e.getWin(),e.serializer,e),e.annotator=ph(e),e.formatter=QT(e),e.undoManager=tE(e),e._nodeChangeDispatcher=new sR(e),e._selectionOverrides=XR(e),fE(e),fR(e),OC(e)||mR(e),uR(e),vE(e),sE(e),i_(e),NC(e).fold(function(){uP(e,!1)},function(t){e.setProgressState(!0),t.then(function(t){e.setProgressState(!1),uP(e,t)})})},cP=rs.DOM,lP=function(e,t){if(n.document.domain!==n.window.location.hostname&&Tn.browser.isIE()){var r=PT("mce");e[r]=function(){sP(e)};var o='javascript:(function(){document.open();document.domain="'+n.document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+r+"(true);})()";return cP.setAttrib(t,"src",o),!0}return!1},fP=function(e,t,n,r){var o=Wn.fromTag("iframe");return ko(o,r),ko(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Ms(o,"tox-edit-area__iframe"),o},dP=function(e){var t=pf(e)+"<html><head>";mf(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=hf(e),r=gf(e);return vf(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+vf(e)+'" />'),t+='</head><body id="'+n+'" class="mce-content-body '+r+'" data-id="'+e.id+'"><br></body></html>'},pP=function(e,t){var n=e.editorManager.translate("Rich Text Area. Press ALT-0 for help."),r=fP(e.id,n,t.height,df(e)).dom();r.onload=function(){r.onload=null,e.fire("load")};var o=lP(e,r);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=dP(e),cP.add(t.iframeContainer,r),o},mP=function(e,t){var n=pP(e,t);t.editorContainer&&(cP.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=cP.isHidden(t.editorContainer)),e.getElement().style.display="none",cP.setAttrib(e.id,"aria-hidden","true"),n||sP(e)},hP=rs.DOM,gP=function(e,t,n){var r=aS.get(n),o=aS.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=zn.trim(n),r&&-1===zn.inArray(t,n)){if(zn.each(aS.dependencies(n),function(n){gP(e,t,n)}),e.plugins[n])return;try{var i=new r(e,o,e.$);e.plugins[n]=i,i.init&&(i.init(e,o),t.push(n))}catch(t){vS(e,n,t)}}},vP=function(e){return e.replace(/^\-/,"")},bP=function(e){var t=[];zn.each(hd(e).split(/[ ,]/),function(n){gP(e,t,vP(n))})},yP=function(e){var t=zn.trim(Df(e)),n=e.ui.registry.getAll().icons,r=Lt(Lt({},G_.get("default").icons),G_.get(t).icons);ht(r,function(t,r){kt(n,r)||e.ui.registry.addIcon(r,t)})},wP=function(e){var t=Jf(e);if(Me(t)){e.settings.theme=vP(t);var n=uS.get(t);e.theme=new n(e,uS.urls[t]),e.theme.init&&e.theme.init(e,uS.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},xP=function(e){return e.theme.renderUI()},CP=function(e){var t=e.getElement(),n=Jf(e),r=n(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},_P=function(e){return{editorContainer:e,iframeContainer:e}},SP=function(e){var t=hP.create("div");return hP.insertAfter(t,e),_P(t)},kP=function(e){var t=e.getElement();return e.inline?_P(null):SP(t)},TP=function(e){var t=e.getElement();return e.orgDisplay=t.style.display,Me(Jf(e))?xP(e):Be(Jf(e))?CP(e):kP(e)},EP=function(e){e.fire("ScriptsLoaded"),yP(e),wP(e),bP(e);var t=TP(e);return e.editorContainer=t.editorContainer?t.editorContainer:null,xS(e),e.inline?sP(e):mP(e,t)},OP=rs.DOM,NP=function(e){return"-"===e.charAt(0)},AP=function(e,t){var n=zf(t),r=Ff(t);if(!1===xs.hasCode(n)&&"en"!==n){var o=""!==r?r:t.editorManager.baseURL+"/langs/"+n+".js";e.add(o,me,void 0,function(){gS(t,o,n)})}},DP=function(e,t,n,r){var o=Jf(t);if(Me(o)){if(!NP(o)&&!uS.urls.hasOwnProperty(o)){var i=rd(t);i?uS.load(o,t.documentBaseURI.toAbsolute(i)):uS.load(o,"themes/"+o+"/theme"+n+".js")}e.loadQueue(function(){uS.waitFor(o,r)})}else r()},MP=function(e){return Ee.from(Mf(e)).filter(function(e){return e.length>0}).map(function(e){return{url:e,name:Ee.none()}})},IP=function(e,t,n){return Ee.from(t).filter(function(e){return e.length>0&&!G_.has(e)}).map(function(t){return{url:e.editorManager.baseURL+"/icons/"+t+"/icons"+n+".js",name:Ee.some(t)}})},RP=function(e,t,n){var r=IP(t,"default",n),o=MP(t).orThunk(function(){return IP(t,Df(t),"")});Xe(Nc([r,o]),function(n){e.add(n.url,me,void 0,function(){hS(t,n.url,n.name.getOrUndefined())})})},PP=function(e,t){zn.each(gd(e),function(t,n){aS.load(n,t,me,void 0,function(){mS(e,t,n)}),e.settings.plugins+=" "+n}),zn.each(hd(e).split(/[ ,]/),function(n){if((n=zn.trim(n))&&!aS.urls[n])if(NP(n)){n=n.substr(1,n.length);var r=aS.dependencies(n);zn.each(r,function(n){var r={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"},o=aS.createUrl(r,n);aS.load(o.resource,o,me,void 0,function(){mS(e,o.prefix+o.resource+o.suffix,o.resource)})})}else{var o={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"};aS.load(n,o,me,void 0,function(){mS(e,o.prefix+o.resource+o.suffix,n)})}})},LP=function(e,t){var n=us.ScriptLoader;DP(n,e,t,function(){AP(n,e),RP(n,e,t),PP(e,t),n.loadQueue(function(){e.removed||EP(e)},e,function(){e.removed||EP(e)})})},jP=function(e,t){return Ku.forElement(e,{contentCssCors:md(t),referrerPolicy:Bf(t)})},BP=function(e){var t=e.id;xs.setCode(zf(e));var r=function(){OP.unbind(n.window,"ready",r),e.render()};if(!ia.Event.domLoaded)return void OP.bind(n.window,"ready",r);if(e.getElement()&&Tn.contentEditable){var o=Wn.fromDom(e.getElement()),i=Ao(o);e.on("remove",function(){Ke(o.dom().attributes,function(e){return No(o,e.name)}),ko(o,i)}),e.ui.styleSheetLoader=jP(o,e),od(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var a=e.getElement().form||OP.getParent(t,"form");a&&(e.formElement=a,id(e)&&!mo(e.getElement())&&(OP.insertAfter(OP.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},OP.bind(a,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),!ad(e)||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),a._mceOldSubmit(a)})),e.windowManager=sS(e),e.notificationManager=A(e),ud(e)&&e.on("GetContent",function(e){e.save&&(e.content=OP.encode(e.content))}),sd(e)&&e.on("submit",function(){e.initialized&&e.save()}),cd(e)&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),LP(e,e.suffix)}},zP=function(e){return Be(e)?e:ve(!1)},FP=function(e,t,n){for(var r=e.dom(),o=zP(n);r.parentNode;){r=r.parentNode;var i=Wn.fromDom(r),a=t(i);if(a.isSome())return a;if(o(i))break}return Ee.none()},HP=function(e,t,n){var r=t(e),o=zP(n);return r.orThunk(function(){return o(e)?Ee.none():FP(e,t,o)})},UP={"font-size":"size","font-family":"face"},VP=function(e,t,n){var r=function(t){return Po(t,e).orThunk(function(){return"font"===$n(t)?St(UP,e).bind(function(e){return Eo(t,e)}):Ee.none()})},o=function(e){return sr(Wn.fromDom(t),e)};return HP(Wn.fromDom(n),function(e){return r(e)},o)},qP=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},WP=function(e,t){return Ee.from(rs.DOM.getStyle(t,e,!0))},$P=function(e){return function(t,n){return Ee.from(n).map(Wn.fromDom).filter(Yn).bind(function(n){return VP(e,t,n.dom()).or(WP(e,n.dom()))}).getOr("")}},GP=$P("font-size"),XP=he(qP,$P("font-family")),KP=function(e){return Lp(e.getBody()).map(function(e){var t=e.container();return ho(t)?t.parentNode:t})},YP=function(e,t){return e.startContainer===t&&0===e.startOffset},JP=function(e){return Ee.from(e.selection.getRng()).bind(function(t){var n=e.getBody();return YP(t,n)?Ee.none():Ee.from(e.selection.getStart(!0))})},QP=function(e,t){if(/^[0-9\.]+$/.test(t)){var n=parseInt(t,10);if(n>=1&&n<=7){var r=kf(e),o=Tf(e);return o?o[n-1]||t:r[n-1]||t}return t}return t},ZP=function(e){var t=e.split(/\s*,\s*/);return Ge(t,function(e){return-1===e.indexOf(" ")||nn(e,'"')||nn(e,"'")?e:"'"+e+"'"}).join(",")},eL=function(e,t){var n=QP(e,t);e.formatter.toggle("fontname",{value:ZP(n)}),e.nodeChanged()},tL=function(e){return JP(e).fold(function(){return KP(e).map(function(t){return XP(e.getBody(),t)}).getOr("")},function(t){return XP(e.getBody(),t)})},nL=function(e,t){e.formatter.toggle("fontsize",{value:QP(e,t)}),e.nodeChanged()},rL=function(e){return JP(e).fold(function(){return KP(e).map(function(t){return GP(e.getBody(),t)}).getOr("")},function(t){return GP(e.getBody(),t)})},oL=function(e){var t;return"string"!=typeof e?(t=zn.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:t}):{content:e,details:{}}},iL=function(e,t){var n=oL(t);XC(e,n.content,n.details)},aL=function(e,t){e.getDoc().execCommand(t,!1,null)},uL=function(e){sM(e)||kD(e,!1)||ND(e,!1)||LD(e,!1)||$A(e,!1)||Av(e)||ZA(e)||HD(e,!1)||(aL(e,"Delete"),SA(e))},sL=function(e){kD(e,!0)||ND(e,!0)||LD(e,!0)||$A(e,!0)||Av(e)||ZA(e)||HD(e,!0)||aL(e,"ForwardDelete")},cL=zn.each,lL=zn.map,fL=zn.inArray,dL=function(){function e(e){this.commands={state:{},exec:{},value:{}},this.editor=e,this.setupCommands(e)}return e.prototype.execCommand=function(e,t,n,r){var o,i=!1,a=this;if(!a.editor.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&&r.skip_focus?ey(a.editor):a.editor.focus(),r=a.editor.fire("BeforeExecCommand",{command:e,ui:t,value:n}),r.isDefaultPrevented())return!1;var u=e.toLowerCase();if(o=a.commands.exec[u])return o(u,t,n),a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;if(cL(this.editor.plugins,function(r){if(r.execCommand&&r.execCommand(e,t,n))return a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),i=!0,!1}),i)return i;if(a.editor.theme&&a.editor.theme.execCommand&&a.editor.theme.execCommand(e,t,n))return a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;try{i=a.editor.getDoc().execCommand(e,t,n)}catch(e){}return!!i&&(a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0)}},e.prototype.queryCommandState=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.state[e])return t(e);try{return this.editor.getDoc().queryCommandState(e)}catch(e){}return!1}},e.prototype.queryCommandValue=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.value[e])return t(e);try{return this.editor.getDoc().queryCommandValue(e)}catch(e){}}},e.prototype.addCommands=function(e,t){var n=this;t=t||"exec",cL(e,function(e,r){cL(r.toLowerCase().split(","),function(r){n.commands[t][r]=e})})},e.prototype.addCommand=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.exec[e]=function(e,o,i,a){return t.call(n||r.editor,o,i,a)}},e.prototype.queryCommandSupported=function(e){if(e=e.toLowerCase(),this.commands.exec[e])return!0;try{return this.editor.getDoc().queryCommandSupported(e)}catch(e){}return!1},e.prototype.addQueryStateHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.state[e]=function(){return t.call(n||r.editor)}},e.prototype.addQueryValueHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.value[e]=function(){return t.call(n||r.editor)}},e.prototype.hasCustomCommand=function(e){return e=e.toLowerCase(),!!this.commands.exec[e]},e.prototype.execNativeCommand=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(e,t,n)},e.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)},e.prototype.toggleFormat=function(e,t){this.editor.formatter.toggle(e,t?{value:t}:void 0),this.editor.nodeChanged()},e.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(e){var t=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(n){var r,o=e.getDoc();try{t.execNativeCommand(n)}catch(e){r=!0}if("paste"!==n||o.queryCommandEnabled(n)||(r=!0),r||!o.queryCommandSupported(n)){var i=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Tn.mac&&(i=i.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:i,type:"error"})}},unlink:function(){if(e.selection.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a");return void(t&&e.dom.remove(t,!0))}e.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var r=n.substring(7);"full"===r&&(r="justify"),cL("left,center,right,justify".split(","),function(t){r!==t&&e.formatter.remove("align"+t)}),"none"!==r&&t.toggleFormat("align"+r)},"InsertUnorderedList,InsertOrderedList":function(n){var r;t.execNativeCommand(n);var o=e.dom.getParent(e.selection.getNode(),"ol,ul");o&&(r=o.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)&&(t.storeSelection(),e.dom.split(r,o),t.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){t.toggleFormat(e)},"ForeColor,HiliteColor":function(e,n,r){t.toggleFormat(e,r)},FontName:function(t,n,r){eL(e,r)},FontSize:function(t,n,r){nL(e,r)},RemoveFormat:function(t){e.formatter.remove(t)},mceBlockQuote:function(){t.toggleFormat("blockquote")},FormatBlock:function(e,n,r){return t.toggleFormat(r||"p")},mceCleanup:function(){var t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},mceRemoveNode:function(n,r,o){var i=o||e.selection.getNode();i!==e.getBody()&&(t.storeSelection(),e.dom.remove(i,!0),t.restoreSelection())},mceSelectNodeDepth:function(t,n,r){var o=0;e.dom.getParent(e.selection.getNode(),function(t){if(1===t.nodeType&&o++===r)return e.selection.select(t),!1},e.getBody())},mceSelectNode:function(t,n,r){e.selection.select(r)},mceInsertContent:function(t,n,r){iL(e,r)},mceInsertRawHTML:function(t,n,r){e.selection.setContent("tiny_mce_marker");var o=e.getContent();e.setContent(o.replace(/tiny_mce_marker/g,function(){return r}))},mceInsertNewLine:function(t,n,r){gI(e,r)},mceToggleFormat:function(e,n,r){t.toggleFormat(r)},mceSetContent:function(t,n,r){e.setContent(r)},"Indent,Outdent":function(t){ZD(e,t)},mceRepaint:function(){},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,n,r){e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceInsertLink:function(t,n,r){"string"==typeof r&&(r={href:r});var o=e.dom.getParent(e.selection.getNode(),"a");r.href=r.href.replace(/ /g,"%20"),o&&r.href||e.formatter.remove("link"),r.href&&e.formatter.apply("link",r,o)},selectAll:function(){var t=e.dom.getParent(e.selection.getStart(),wo);if(t){var n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}},delete:function(){uL(e)},forwardDelete:function(){sL(e)},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,r){return ZM(e,r),!0}});var n=function(t){return function(){var n=e.selection.isCollapsed()?[e.dom.getParent(e.selection.getNode(),e.dom.isBlock)]:e.selection.getSelectedBlocks(),r=lL(n,function(n){return!!e.formatter.matchNode(n,t)});return-1!==fL(r,!0)}};t.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return t.isFormatMatch(e)},mceBlockQuote:function(){return t.isFormatMatch("blockquote")},Outdent:function(){return KD(e)},"InsertUnorderedList,InsertOrderedList":function(t){var n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state"),t.addCommands({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),t.addQueryValueHandler("FontName",function(){return tL(e)},this),t.addQueryValueHandler("FontSize",function(){return rL(e)},this)},e}(),pL=function(e,t,n){Ps(e,t)&&!1===n?Rs(e,t):n&&Ms(e,t)},mL=function(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},hL=function(e,t){e.dom().contentEditable=t?"true":"false"},gL=function(e){Xe(js(e,'*[contenteditable="true"]'),function(e){So(e,"data-mce-contenteditable","true"),hL(e,!1)})},vL=function(e){Xe(js(e,'*[data-mce-contenteditable="true"]'),function(e){No(e,"data-mce-contenteditable"),hL(e,!0)})},bL=function(e){Ee.from(e.selection.getNode()).each(function(e){e.removeAttribute("data-mce-selected")})},yL=function(e){e.selection.setRng(e.selection.getRng())},wL=function(e,t){var n=Wn.fromDom(e.getBody());pL(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),bL(e),e.readonly=!0,hL(n,!1),gL(n)):(e.readonly=!1,hL(n,!0),vL(n),mL(e,"StyleWithCSS",!1),mL(e,"enableInlineTableEditing",!1),mL(e,"enableObjectResizing",!1),Ey(e)&&e.focus(),yL(e),e.nodeChanged())},xL=function(e){return e.readonly},CL=function(e){e.parser.addAttributeFilter("contenteditable",function(t){xL(e)&&Xe(t,function(e){e.attr("data-mce-contenteditable",e.attr("contenteditable")),e.attr("contenteditable","false")})}),e.serializer.addAttributeFilter("data-mce-contenteditable",function(t){xL(e)&&Xe(t,function(e){e.attr("contenteditable",e.attr("data-mce-contenteditable"))})}),e.serializer.addTempAttr("data-mce-contenteditable")},_L=function(e){e.serializer?CL(e):e.on("PreInit",function(){CL(e)})},SL=function(e){return"click"===e.type},kL=function(e,t){return null!==e.dom.getParent(t,"a")},TL=function(e,t){var n=t.target;SL(t)&&!Ik.metaKeyPressed(t)&&kL(e,n)&&t.preventDefault()},EL=function(e){e.on("ShowCaret",function(t){xL(e)&&t.preventDefault()}),e.on("ObjectSelected",function(t){xL(e)&&t.preventDefault()})},OL=zn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),NL=function(){function e(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||xe}return e.isNative=function(e){return!!OL[e.toLowerCase()]},e.prototype.fire=function(e,t){e=e.toLowerCase(),t=t||{},t.type=e,t.target||(t.target=this.scope),t.preventDefault||(t.preventDefault=function(){t.isDefaultPrevented=Ce},t.stopPropagation=function(){t.isPropagationStopped=Ce},t.stopImmediatePropagation=function(){t.isImmediatePropagationStopped=Ce},t.isDefaultPrevented=xe,t.isPropagationStopped=xe,t.isImmediatePropagationStopped=xe),this.settings.beforeFire&&this.settings.beforeFire(t);var n=this.bindings[e];if(n)for(var r=0,o=n.length;r<o;r++){var i=n[r];if(i.once&&this.off(e,i.func),t.isImmediatePropagationStopped())return t.stopPropagation(),t;if(!1===i.func.call(this.scope,t))return t.preventDefault(),t}return t},e.prototype.on=function(e,t,n,r){var o,i,a;if(!1===t&&(t=xe),t){var u={func:t};for(r&&zn.extend(u,r),i=e.toLowerCase().split(" "),a=i.length;a--;)e=i[a],o=this.bindings[e],o||(o=this.bindings[e]=[],this.toggleEvent(e,!0)),n?o.unshift(u):o.push(u)}return this},e.prototype.off=function(e,t){var n,r,o,i,a=this;if(e)for(o=e.toLowerCase().split(" "),n=o.length;n--;){if(e=o[n],r=this.bindings[e],!e)return ht(this.bindings,function(e,t){a.toggleEvent(t,!1),delete a.bindings[t]}),this;if(r){if(t)for(i=r.length;i--;)r[i].func===t&&(r=r.slice(0,i).concat(r.slice(i+1)),this.bindings[e]=r);else r.length=0;r.length||(this.toggleEvent(e,!1),delete this.bindings[e])}}else ht(this.bindings,function(e,t){a.toggleEvent(t,!1)}),this.bindings={};return this},e.prototype.once=function(e,t,n){return this.on(e,t,n,{once:!0})},e.prototype.has=function(e){return e=e.toLowerCase(),!(!this.bindings[e]||0===this.bindings[e].length)},e}(),AL=function(e){return e._eventDispatcher||(e._eventDispatcher=new NL({scope:e,toggleEvent:function(t,n){NL.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},DL={fire:function(e,t,n){var r=this;if(r.removed&&"remove"!==e&&"detach"!==e)return t;var o=AL(r).fire(e,t);if(!1!==n&&r.parent)for(var i=r.parent();i&&!o.isPropagationStopped();)i.fire(e,o,!1),i=i.parent();return o},on:function(e,t,n){return AL(this).on(e,t,n)},off:function(e,t){return AL(this).off(e,t)},once:function(e,t){return AL(this).once(e,t)},hasEventListeners:function(e){return AL(this).has(e)}},ML=rs.DOM,IL=function(e,t){if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;var n=Kf(e);return n?(e.eventRoot||(e.eventRoot=ML.select(n)[0]),e.eventRoot):e.getBody()},RL=function(e){return!e.hidden&&!xL(e)},PL=function(e,t,n){RL(e)?e.fire(t,n):xL(e)&&TL(e,n)},LL=function(e,t){var n;if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed){var r=IL(e,t);if(Kf(e)){if(HO||(HO={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||HO&&(ht(HO,function(t,n){e.dom.unbind(IL(e,n))}),HO=null)})),HO[t])return;n=function(n){for(var r=n.target,o=e.editorManager.get(),i=o.length;i--;){var a=o[i].getBody();(a===r||ML.isChildOf(r,a))&&PL(o[i],t,n)}},HO[t]=n,ML.bind(r,t,n)}else n=function(n){PL(e,t,n)},ML.bind(r,t,n),e.delegates[t]=n}},jL=Lt(Lt({},DL),{bindPendingEventDelegates:function(){var e=this;zn.each(e._pendingNativeEvents,function(t){LL(e,t)})},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?LL(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(IL(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e=this,t=e.getBody(),n=e.dom;e.delegates&&(ht(e.delegates,function(t,n){e.dom.unbind(IL(e,n),n,t)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}}),BL=["design","readonly"],zL=function(e,t,r,o){var i=r[t.get()],a=r[o];try{a.activate()}catch(e){return void n.console.error("problem while activating editor mode "+o+":",e)}i.deactivate(),i.editorReadOnly!==a.editorReadOnly&&wL(e,a.editorReadOnly),t.set(o),n_(e,o)},FL=function(e,t,n,r){if(r!==n.get()){if(!kt(t,r))throw new Error("Editor mode '"+r+"' is invalid");e.initialized?zL(e,n,t,r):e.on("init",function(){return zL(e,n,t,r)})}},HL=function(e,t,r){var o;if(We(BL,t))throw new Error("Cannot override default mode "+t);return Lt(Lt({},e),(o={},o[t]=Lt(Lt({},r),{deactivate:function(){try{r.deactivate()}catch(e){n.console.error("problem while deactivating editor mode "+t+":",e)}}}),o))},UL=function(e){var t=ss("design"),n=ss({design:{activate:me,deactivate:me,editorReadOnly:!1},readonly:{activate:me,deactivate:me,editorReadOnly:!0}});return _L(e),EL(e),{isReadOnly:function(){return xL(e)},set:function(r){return FL(e,n.get(),t,r)},get:function(){return t.get()},register:function(e,t){n.set(HL(n.get(),e,t))}}},VL=zn.each,qL=zn.explode,WL={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},$L=zn.makeMap("alt,ctrl,shift,meta,access"),GL=function(){function e(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;var t=this;e.on("keyup keypress keydown",function(e){!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(VL(t.shortcuts,function(n){if(t.matchShortcut(e,n))return t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n),!0}),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))})}return e.prototype.add=function(e,t,n,r){var o=this,i=n;return"string"==typeof i?n=function(){o.editor.execCommand(i,!1,null)}:zn.isArray(i)&&(n=function(){o.editor.execCommand(i[0],i[1],i[2])}),VL(qL(zn.trim(e)),function(e){var i=o.createShortcut(e,t,n,r);o.shortcuts[i.id]=i}),!0},e.prototype.remove=function(e){var t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)},e.prototype.parseShortcut=function(e){var t,n={};VL(qL(e.toLowerCase(),"+"),function(e){e in $L?n[e]=!0:/^[0-9]{2,}$/.test(e)?n.keyCode=parseInt(e,10):(n.charCode=e.charCodeAt(0),n.keyCode=WL[e]||e.toUpperCase().charCodeAt(0))});var r=[n.keyCode];for(t in $L)n[t]?r.push(t):n[t]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,Tn.mac?n.ctrl=!0:n.shift=!0),n.meta&&(Tn.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n},e.prototype.createShortcut=function(e,t,n,r){var o=zn.map(qL(e,">"),this.parseShortcut);return o[o.length-1]=zn.extend(o[o.length-1],{func:n,scope:r||this.editor}),zn.extend(o[0],{desc:this.editor.translate(t),subpatterns:o.slice(1)})},e.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey},e.prototype.isFunctionKey=function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123},e.prototype.matchShortcut=function(e,t){return!!t&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&(t.alt===e.altKey&&t.shift===e.shiftKey&&(!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0))))},e.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null},e}(),XL=function(){var e={},t={},n={},r={},o={},i={},a={},u=function(e,t){return function(n,r){return e[n.toLowerCase()]=Lt(Lt({},r),{type:t})}},s=function(e,t){return r[e.toLowerCase()]=t};return{addButton:u(e,"button"),addGroupToolbarButton:u(e,"grouptoolbarbutton"),addToggleButton:u(e,"togglebutton"),addMenuButton:u(e,"menubutton"),addSplitButton:u(e,"splitbutton"),addMenuItem:u(t,"menuitem"),addNestedMenuItem:u(t,"nestedmenuitem"),addToggleMenuItem:u(t,"togglemenuitem"),addAutocompleter:u(n,"autocompleter"),addContextMenu:u(o,"contextmenu"),addContextToolbar:u(i,"contexttoolbar"),addContextForm:u(i,"contextform"),addSidebar:u(a,"sidebar"),addIcon:s,getAll:function(){return{buttons:e,menuItems:t,icons:r,popups:n,contextMenus:o,contextToolbars:i,sidebars:a}}}},KL=function(){var e=XL();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},YL=zn.each,JL=zn.trim,QL="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),ZL={ftp:21,http:80,https:443,mailto:25},ej=function(){function e(t,r){t=JL(t),this.settings=r||{};var o=this.settings.base_uri,i=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))return void(i.source=t);var a=0===t.indexOf("//");if(0!==t.indexOf("/")||a||(t=(o?o.protocol||"http":"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){var u=this.settings.base_uri?this.settings.base_uri.path:new e(n.document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)t="//mce_host"+i.toAbsPath(u,t);else{var s=/([^#?]*)([#?]?.*)/.exec(t);t=(o&&o.protocol||"http")+"://mce_host"+i.toAbsPath(u,s[1])+s[2]}}t=t.replace(/@@/g,"(mce_at)");var c=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);YL(QL,function(e,t){var n=c[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),i[e]=n}),o&&(i.protocol||(i.protocol=o.protocol),i.userInfo||(i.userInfo=o.userInfo),i.port||"mce_host"!==i.host||(i.port=o.port),i.host&&"mce_host"!==i.host||(i.host=o.host),i.source=""),a&&(i.protocol="")}return e.parseDataUri=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},e.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},e.prototype.setPath=function(e){var t=/^(.*?)\/?(\w+)?$/.exec(e);this.path=t[0],this.directory=t[1],this.file=t[2],this.source="",this.getURI()},e.prototype.toRelative=function(t){var n;if("./"===t)return t;var r=new e(t,{base_uri:this});if("mce_host"!==r.host&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&""!==r.protocol)return r.getURI();var o=this.getURI(),i=r.getURI();return o===i||"/"===o.charAt(o.length-1)&&o.substr(0,o.length-1)===i?o:(n=this.toRelPath(this.path,r.path),r.query&&(n+="?"+r.query),r.anchor&&(n+="#"+r.anchor),n)},e.prototype.toAbsolute=function(t,n){var r=new e(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))},e.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=ZL[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},e.prototype.toRelPath=function(e,t){var n,r,o=0,i="",a=e.substring(0,e.lastIndexOf("/")).split("/"),u=t.split("/");if(a.length>=u.length)for(n=0,r=a.length;n<r;n++)if(n>=u.length||a[n]!==u[n]){o=n+1;break}if(a.length<u.length)for(n=0,r=u.length;n<r;n++)if(n>=a.length||a[n]!==u[n]){o=n+1;break}if(1===o)return t;for(n=0,r=a.length-(o-1);n<r;n++)i+="../";for(n=o-1,r=u.length;n<r;n++)i+=n!==o-1?"/"+u[n]:u[n];return i},e.prototype.toAbsPath=function(e,t){var n,r,o=0,i=[],a=/\/$/.test(t)?"/":"",u=e.split("/"),s=t.split("/");for(YL(u,function(e){e&&i.push(e)}),u=i,n=s.length-1,i=[];n>=0;n--)0!==s[n].length&&"."!==s[n]&&(".."!==s[n]?o>0?o--:i.push(s[n]):o++);return n=u.length-o,r=n<=0?at(i).join("/"):u.slice(0,n).join("/")+"/"+at(i).join("/"),0!==r.indexOf("/")&&(r="/"+r),a&&r.lastIndexOf("/")!==r.length-1&&(r+=a),r},e.prototype.getURI=function(e){void 0===e&&(e=!1);var t;return this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source},e}(),tj=rs.DOM,nj=zn.extend,rj=zn.each,oj=zn.resolve,ij=Tn.ie,aj=function(){function e(e,t,n){var r=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,nj(this,jL),this.settings=U_(this,e,this.documentBaseUrl,n.defaultSettings,t),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(us.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),rs.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Cs.languageLoad=this.settings.language_load,Cs.baseURL=n.baseURL,this.id=e,this.setDirty(!1),this.documentBaseURI=new ej(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new GL(this),this.editorCommands=new dL(this),this.settings.cache_suffix&&(Tn.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:KL(),styleSheetLoader:void 0};var o=this,i=UL(o);this.mode=i,this.setMode=i.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=bu.overrideDefaults(function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}})}return e.prototype.render=function(){BP(this)},e.prototype.focus=function(e){Ay(this,e)},e.prototype.hasFocus=function(){return Ty(this)},e.prototype.execCallback=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o=this,i=o.settings[e];if(i)return o.callbackLookup&&(r=o.callbackLookup[e])&&(i=r.func,r=r.scope),"string"==typeof i&&(r=i.replace(/\.\w+$/,""),r=r?oj(r):0,i=oj(i),o.callbackLookup=o.callbackLookup||{},o.callbackLookup[e]={func:i,scope:r}),i.apply(r||o,t)},e.prototype.translate=function(e){return xs.translate(e)},e.prototype.getParam=function(e,t,n){return $_(this,e,t,n)},e.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)},e.prototype.addCommand=function(e,t,n){this.editorCommands.addCommand(e,t,n)},e.prototype.addQueryStateHandler=function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},e.prototype.addQueryValueHandler=function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},e.prototype.addShortcut=function(e,t,n,r){this.shortcuts.add(e,t,n,r)},e.prototype.execCommand=function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},e.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)},e.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)},e.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)},e.prototype.show=function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(tj.show(e.getContainer()),tj.hide(e.id)),e.load(),e.fire("show"))},e.prototype.hide=function(){var e=this,t=e.getDoc();e.hidden||(ij&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(tj.hide(e.getContainer()),tj.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(e,t){this.fire("ProgressState",{state:e,time:t})},e.prototype.load=function(e){var t,n=this,r=n.getElement();if(n.removed)return"";if(r){e=e||{},e.load=!0;var o=mo(r)?r.value:r.innerHTML;return t=n.setContent(o,e),e.element=r,e.no_events||n.fire("LoadContent",e),e.element=r=null,t}},e.prototype.save=function(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return e=e||{},e.save=!0,e.element=o,t=e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,mo(o)?o.value=t:(!e.is_removing&&r.inline||(o.innerHTML=t),(n=tj.getParent(r.id,"form"))&&rj(n.elements,function(e){if(e.name===r.id)return e.value=t,!1})),e.element=o=null,!1!==e.set_dirty&&r.setDirty(!1),t},e.prototype.setContent=function(e,t){return JC(this,e,t)},e.prototype.getContent=function(e){return YC(this,e)},e.prototype.insertContent=function(e,t){t&&(e=nj({content:e},t)),this.execCommand("mceInsertContent",!1,e)},e.prototype.resetContent=function(e){void 0===e?JC(this,this.startContent,{format:"raw"}):JC(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},e.prototype.getContainer=function(){var e=this;return e.container||(e.container=tj.get(e.editorContainer||e.id+"_parent")),e.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=tj.get(this.id)),this.targetElm},e.prototype.getWin=function(){var e,t=this;return t.contentWindow||(e=t.iframeElement)&&(t.contentWindow=e.contentWindow),t.contentWindow},e.prototype.getDoc=function(){var e,t=this;return t.contentDocument||(e=t.getWin())&&(t.contentDocument=e.document),t.contentDocument},e.prototype.getBody=function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},e.prototype.convertURL=function(e,t,n){var r=this,o=r.settings;return o.urlconverter_callback?r.execCallback("urlconverter_callback",e,n,!0,t):!o.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:o.relative_urls?r.documentBaseURI.toRelative(e):e=r.documentBaseURI.toAbsolute(e,o.remove_script_host)},e.prototype.addVisual=function(e){var t,n=this,r=n.settings,o=n.dom;e=e||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=r.visual),rj(o.select("table,a",e),function(e){var i;switch(e.nodeName){case"TABLE":return t=r.visual_table_class||"mce-item-table",i=o.getAttrib(e,"border"),void(i&&"0"!==i||!n.hasVisual?o.removeClass(e,t):o.addClass(e,t));case"A":return void(o.getAttrib(e,"href")||(i=o.getAttrib(e,"name")||e.id,t=r.visual_anchor_class||"mce-item-anchor",i&&n.hasVisual?o.addClass(e,t):o.removeClass(e,t)))}}),n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},e.prototype.remove=function(){h_(this)},e.prototype.destroy=function(e){g_(this,e)},e.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),uj=rs.DOM,sj=zn.explode,cj=zn.each,lj=zn.extend,fj=0,dj=!1,pj=[],mj=[],hj=function(e){return"length"!==e},gj=function(e){var t=e.type;cj(xj.get(),function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e)}})},vj=function(e){e!==dj&&(e?bu(window).on("resize scroll",gj):bu(window).off("resize scroll",gj),dj=e)},bj=function(e){var t=mj;delete pj[e.id];for(var n=0;n<pj.length;n++)if(pj[n]===e){pj.splice(n,1);break}return mj=Je(mj,function(t){return e!==t}),xj.activeEditor===e&&(xj.activeEditor=mj.length>0?mj[0]:null),xj.focusedEditor===e&&(xj.focusedEditor=null),t.length!==mj.length},yj=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(bj(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},wj="CSS1Compat"!==n.document.compatMode,xj=Lt(Lt({},DL),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:bu,majorVersion:"5",minorVersion:"4.2",releaseDate:"2020-08-17",editors:pj,i18n:xs,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e,t,r=this,o="";t=ej.getDocumentBaseUrl(n.document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/"));var i=window.tinymce||window.tinyMCEPreInit;if(i)e=i.base||i.baseURL,o=i.suffix;else{for(var a=n.document.getElementsByTagName("script"),u=0;u<a.length;u++){var s=a[u].src||"";if(""!==s){var c=s.substring(s.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(s)){-1!==c.indexOf(".min")&&(o=".min"),e=s.substring(0,s.lastIndexOf("/"));break}}}if(!e&&n.document.currentScript){var s=n.document.currentScript.src;-1!==s.indexOf(".min")&&(o=".min"),e=s.substring(0,s.lastIndexOf("/"))}}r.baseURL=new ej(t).toAbsolute(e),r.documentBaseURL=t,r.baseURI=new ej(r.baseURL),r.suffix=o,gy(r)},overrideDefaults:function(e){var t=e.base_url;t&&this._setBaseUrl(t);var n=e.suffix;e.suffix&&(this.suffix=n),this.defaultSettings=e;var r=e.plugin_base_urls;void 0!==r&&ht(r,function(e,t){Cs.PluginManager.urls[t]=e})},init:function(e){var t,r=this,o=zn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),i=function(e,t){return e.inline&&t.tagName.toLowerCase()in o},a=function(e){var t=e.id;return t||(t=St(e,"name").filter(function(e){return!uj.get(e)}).getOrThunk(uj.uniqueId),e.setAttribute("id",t)),t},u=function(t){var n=e[t];if(n)return n.apply(r,Array.prototype.slice.call(arguments,2))},s=function(e,t){return t.constructor===RegExp?t.test(e.className):uj.hasClass(e,t)},c=function(e){var t=[];if(Tn.browser.isIE()&&Tn.browser.version.major<11)return bS("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(wj)return bS("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(e.types)return cj(e.types,function(e){t=t.concat(uj.select(e.selector))}),t;if(e.selector)return uj.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":var r=e.elements||"";r.length>0&&cj(sj(r),function(e){var r=uj.get(e);r?t.push(r):cj(n.document.forms,function(n){cj(n.elements,function(n){n.name===e&&(e="mce_editor_"+fj++,uj.setAttrib(n,"id",e),t.push(n))})})});break;case"textareas":case"specific_textareas":cj(uj.select("textarea"),function(n){e.editor_deselector&&s(n,e.editor_deselector)||e.editor_selector&&!s(n,e.editor_selector)||t.push(n)})}return t},l=function(e){t=e},f=function(){var t,n=0,o=[],s=function(e,i,a){var u=new aj(e,i,r);o.push(u),u.on("init",function(){++n===t.length&&l(o)}),u.targetElm=u.targetElm||a,u.render()};if(uj.unbind(window,"ready",f),u("onpageload"),t=bu.unique(c(e)),e.types)return void cj(e.types,function(n){zn.each(t,function(t){return!uj.is(t,n.selector)||(s(a(t),lj({},e,n),t),!1)})});zn.each(t,function(e){yj(r.get(e.id))}),t=zn.grep(t,function(e){return!r.get(e.id)}),0===t.length?l([]):cj(t,function(t){i(e,t)?bS("Could not initialize inline editor on invalid inline target element",t):s(a(t),e,t)})};return r.settings=e,uj.bind(window,"ready",f),new Hu(function(e){t?e(t):l=function(t){e(t)}})},get:function(e){return 0===arguments.length?mj.slice(0):Me(e)?tt(mj,function(t){return t.id===e}).getOr(null):ze(e)&&mj[e]?mj[e]:null},add:function(e){var t=this;return pj[e.id]===e?e:(null===t.get(e.id)&&(hj(e.id)&&(pj[e.id]=e),pj.push(e),mj.push(e)),vj(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),UO||(UO=function(e){var n=t.fire("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",UO)),e)},createEditor:function(e,t){return this.add(new aj(e,t,this))},remove:function(e){var t,n,r=this;if(e)return Me(e)?void cj(uj.select(e),function(e){(n=r.get(e.id))&&r.remove(n)}):(n=e,Pe(r.get(n.id))?null:(bj(n)&&r.fire("RemoveEditor",{editor:n}),0===mj.length&&window.removeEventListener("beforeunload",UO),n.remove(),vj(mj.length>0),n));for(t=mj.length-1;t>=0;t--)r.remove(mj[t])},execCommand:function(e,t,n){var r=this,o=r.get(n);switch(e){case"mceAddEditor":return r.get(n)||new aj(n,r.settings,r).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(r.execCommand("mceAddEditor",0,n),!0)}return!!r.activeEditor&&r.activeEditor.execCommand(e,t,n)},triggerSave:function(){cj(mj,function(e){e.save()})},addI18n:function(e,t){xs.add(e,t)},translate:function(e){return xs.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new ej(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new ej(this.baseURL)}});xj.setup(),function(e){e.compareRanges=fk,e.getCaretRangeFromPoint=nk,e.getSelectedNode=Hc,e.getNode=Uc}(B||(B={}));var Cj,_j,Sj=B,kj=function(e,t,r){void 0===r&&(r=1e3);var o=!1,i=null,a=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];o||(o=!0,null!==i&&(n.clearTimeout(i),i=null),e.apply(null,t))}},u=a(e),s=a(t);return{start:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o||null!==i||(i=n.setTimeout(function(){return s.apply(null,e)},r))},resolve:u,reject:s}},Tj=function(){var e={},t={};return{load:function(n,r){var o='Script at URL "'+r+'" failed to load',i='Script at URL "'+r+"\" did not call `tinymce.Resource.add('"+n+"', data)` within 1 second";if(void 0!==e[n])return e[n];var a=new Hu(function(e,a){var u=kj(e,a);t[n]=u.resolve,us.ScriptLoader.loadScript(r,function(){return u.start(i)},function(){return u.reject(o)})});return e[n]=a,a},add:function(n,r){void 0!==t[n]&&(t[n](r),delete t[n]),e[n]=Hu.resolve(r)}}}(),Ej=Math.min,Oj=Math.max,Nj=Math.round,Aj=function(e,t,n){var r=t.x,o=t.y,i=e.w,a=e.h,u=t.w,s=t.h;return n=(n||"").split(""),"b"===n[0]&&(o+=s),"r"===n[1]&&(r+=u),"c"===n[0]&&(o+=Nj(s/2)),"c"===n[1]&&(r+=Nj(u/2)),"b"===n[3]&&(o-=a),"r"===n[4]&&(r-=i),"c"===n[3]&&(o-=Nj(a/2)),"c"===n[4]&&(r-=Nj(i/2)),Pj(r,o,i,a)},Dj=function(e,t,n,r){var o,i;for(i=0;i<r.length;i++)if(o=Aj(e,t,r[i]),o.x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},Mj=function(e,t,n){return Pj(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},Ij=function(e,t){var n=Oj(e.x,t.x),r=Oj(e.y,t.y),o=Ej(e.x+e.w,t.x+t.w),i=Ej(e.y+e.h,t.y+t.h);return o-n<0||i-r<0?null:Pj(n,r,o-n,i-r)},Rj=function(e,t,n){var r=e.x,o=e.y,i=e.x+e.w,a=e.y+e.h,u=t.x+t.w,s=t.y+t.h,c=Oj(0,t.x-r),l=Oj(0,t.y-o),f=Oj(0,i-u),d=Oj(0,a-s);return r+=c,o+=l,n&&(i+=c,a+=l,r-=f,o-=d),i-=f,a-=d,Pj(r,o,i-r,a-o)},Pj=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},Lj=function(e){return Pj(e.left,e.top,e.width,e.height)},jj={inflate:Mj,relativePosition:Aj,findBestRelativePosition:Dj,intersect:Ij,clamp:Rj,create:Pj,fromClientRect:Lj},Bj=zn.each,zj=zn.extend,Fj=function(){};Fj.extend=Cj=function(e){var t=this,n=t.prototype,r=function(){var e,t,n,r=this;if(!_j&&(r.init&&r.init.apply(r,arguments),t=r.Mixins))for(e=t.length;e--;)n=t[e],n.init&&n.init.apply(r,arguments)},o=function(){return this},i=function(e,t){return function(){var r=this,o=r._super;r._super=n[e];var i=t.apply(r,arguments);return r._super=o,i}};_j=!0;var a=new t;return _j=!1,e.Mixins&&(Bj(e.Mixins,function(t){for(var n in t)"init"!==n&&(e[n]=t[n])}),n.Mixins&&(e.Mixins=n.Mixins.concat(e.Mixins))),e.Methods&&Bj(e.Methods.split(","),function(t){e[t]=o}),e.Properties&&Bj(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){var t=this;return void 0!==e?(t[n]=e,t):t[n]}}),e.Statics&&Bj(e.Statics,function(e,t){r[t]=e}),e.Defaults&&n.Defaults&&(e.Defaults=zj({},n.Defaults,e.Defaults)),ht(e,function(e,t){"function"==typeof e&&n[t]?a[t]=i(t,e):a[t]=e}),r.prototype=a,r.constructor=r,r.extend=Cj,r};var Hj,Uj=Math.min,Vj=Math.max,qj=Math.round,Wj=function(e){var t={},n=0,r=0,o=0,i=function(e,t,n){var r,o,i;r=0,o=0,i=0,e/=255,t/=255,n/=255;var a=Uj(e,Uj(t,n)),u=Vj(e,Vj(t,n));if(a===u)return i=a,{h:0,s:0,v:100*i};var s=e===a?t-n:n===a?e-t:n-e;return r=e===a?3:n===a?1:5,r=60*(r-s/(u-a)),o=(u-a)/u,i=u,{h:qj(r),s:qj(100*o),v:qj(100*i)}},a=function(e,t,i){if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,i=parseInt(i,10)/100,t=Vj(0,Uj(t,1)),i=Vj(0,Uj(i,1)),0===t)return void(n=r=o=qj(255*i));var a=e/60,u=i*t,s=u*(1-Math.abs(a%2-1)),c=i-u;switch(Math.floor(a)){case 0:n=u,r=s,o=0;break;case 1:n=s,r=u,o=0;break;case 2:n=0,r=u,o=s;break;case 3:n=0,r=s,o=u;break;case 4:n=s,r=0,o=u;break;case 5:n=u,r=0,o=s;break;default:n=r=o=0}n=qj(255*(n+c)),r=qj(255*(r+c)),o=qj(255*(o+c))},u=function(){var e=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+e(n)+e(r)+e(o)},s=function(){return{r:n,g:r,b:o}},c=function(){return i(n,r,o)},l=function(e){var i;return"object"==typeof e?"r"in e?(n=e.r,r=e.g,o=e.b):"v"in e&&a(e.h,e.s,e.v):(i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(n=parseInt(i[1],10),r=parseInt(i[2],10),o=parseInt(i[3],10)):(i=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(n=parseInt(i[1],16),r=parseInt(i[2],16),o=parseInt(i[3],16)):(i=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(n=parseInt(i[1]+i[1],16),r=parseInt(i[2]+i[2],16),o=parseInt(i[3]+i[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,o=o<0?0:o>255?255:o,t};return e&&l(e),t.toRgb=s,t.toHsv=c,t.toHex=u,t.parse=l,t},$j=function(e){var t=JSON.stringify(e);return Me(t)?t.replace(/[\u0080-\uFFFF]/g,function(e){var t=e.charCodeAt(0).toString(16);return"\\u"+"0000".substring(t.length)+t}):t},Gj={serialize:$j,parse:function(e){try{return JSON.parse(e)}catch(e){}}},Xj={callbacks:{},count:0,send:function(e){var t=this,n=rs.DOM,r=void 0!==e.count?e.count:t.count,o="tinymce_jsonp_"+r;t.callbacks[r]=function(i){n.remove(o),delete t.callbacks[r],e.callback(i)},n.add(n.doc.body,"script",{id:o,src:e.url,type:"text/javascript"}),t.count++}},Kj=Lt(Lt({},DL),{send:function(e){var t,r=0,o=function(){!e.async||4===t.readyState||r++>1e4?(e.success&&r<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,r>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):Xu.setTimeout(o,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",Kj.fire("beforeInitialize",{settings:e}),t=new n.XMLHttpRequest){if(t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&zn.each(e.requestheaders,function(e){t.setRequestHeader(e.key,e.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t=Kj.fire("beforeSend",{xhr:t,settings:e}).xhr,t.send(e.data),!e.async)return o();Xu.setTimeout(o,10)}}}),Yj=zn.extend,Jj=function(){function e(e){this.settings=Yj({},e),this.count=0}return e.sendRPC=function(t){return(new e).send(t)},e.prototype.send=function(e){var t=e.error,n=e.success,r=Yj(this.settings,e);r.success=function(e,o){e=Gj.parse(e),void 0===e&&(e={error:"JSON Parse error."}),e.error?t.call(r.error_scope||r.scope,e.error,o):n.call(r.success_scope||r.scope,e.result)},r.error=function(e,n){t&&t.call(r.error_scope||r.scope,e,n)},r.data=Gj.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),r.content_type="application/json",Kj.send(r)},e}();try{var Qj="__storage_test__";Hj=n.window.localStorage,Hj.setItem(Qj,Qj),Hj.removeItem(Qj)}catch(e){Hj=function(){return function(){var e={},t=[],n={getItem:function(t){var n=e[t];return n||null},setItem:function(n,r){t.push(n),e[n]=String(r)},key:function(e){return t[e]},removeItem:function(n){t=t.filter(function(e){return e===n}),delete e[n]},clear:function(){t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:function(){return t.length},configurable:!1,enumerable:!1}),n}()}()}var Zj=Hj,eB={geom:{Rect:jj},util:{Promise:Hu,Delay:Xu,Tools:zn,VK:Ik,URI:ej,Class:Fj,EventDispatcher:NL,Observable:DL,I18n:xs,XHR:Kj,JSON:Gj,JSONRequest:Jj,JSONP:Xj,LocalStorage:Zj,Color:Wj},dom:{EventUtils:ia,Sizzle:Ua,DomQuery:bu,TreeWalker:yu,TextSeeker:cc,DOMUtils:rs,ScriptLoader:us,RangeUtils:Sj,Serializer:MT,StyleSheetLoader:_,ControlSelection:jk,BookmarkManager:Dk,Selection:Uk,Event:ia.Event},html:{Styles:Gi,Entities:Ii,Node:bh,Schema:a,SaxParser:Mh,DomParser:yT,Writer:wh,Serializer:xh},Env:Tn,AddOnManager:Cs,Annotator:ph,Formatter:QT,UndoManager:tE,EditorCommands:dL,WindowManager:sS,NotificationManager:A,EditorObservable:jL,Shortcuts:GL,Editor:aj,FocusManager:ny,EditorManager:xj,DOM:rs.DOM,ScriptLoader:us.ScriptLoader,PluginManager:Cs.PluginManager,ThemeManager:Cs.ThemeManager,IconManager:G_,Resource:Tj,trim:zn.trim,isArray:zn.isArray,is:zn.is,toArray:zn.toArray,makeMap:zn.makeMap,each:zn.each,map:zn.map,grep:zn.grep,inArray:zn.inArray,extend:zn.extend,create:zn.create,walk:zn.walk,createNS:zn.createNS,resolve:zn.resolve,explode:zn.explode,_addCacheSuffix:zn._addCacheSuffix,isOpera:Tn.opera,isWebKit:Tn.webkit,isIE:Tn.ie,isGecko:Tn.gecko,isMac:Tn.mac},tB=zn.extend(xj,eB);!function(e){window.tinymce=e,window.tinyMCE=e}(tB),function(t){try{e.exports=t}catch(e){}}(tB)}(window)}).call(t,n(2))},function(e,t,n){n(43)},function(e,t){tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 010 2H5a1 1 0 010-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 110-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 01-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}})},function(e,t,n){n(45)},function(e,t,n){(function(e){!function(t){"use strict";function n(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function o(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}function i(e,t){var n=function(t,n){if(!Ne(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom();Ku(r)&&(r.style[e]=n+"px")},r=function(n){var r=t(n);if(r<=0||null===r){var o=ps(n,e);return parseFloat(o)||0}return r},o=r,i=function(e,t){return $e(t,function(t,n){var r=ps(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o},0)};return{set:n,get:r,getOuter:o,aggregate:i,max:function(e,t,n){var r=i(e,n);return t>r?t-r:0}}}function a(e,t,n,r,o){return e(n,r)?ve.some(n):Oe(o)&&o(n)?ve.none():t(n,r,o)}function u(e){return void 0!==e.uid}function s(e,t,n){var r=t.backstage,o=function(e){switch(e){case"bc-bc":return Xw;case"tc-tc":return Gw;case"tc-bc":return Nl;case"bc-tc":default:return Al}},i=function(e){He(e,function(e){return e.moveTo(0,0)})},a=function(e){e.length>0&&(rt(e).each(function(e){return e.moveRel(null,"banner")}),He(e,function(t,n){n>0&&t.moveRel(e[n-1].getEl(),"bc-tc")}))},u=function(e){i(e),a(e)};return{open:function(e,i){var a=!e.closeButton&&e.timeout&&(e.timeout>0||e.timeout<0),u=function(){i(),jw.hide(c)},s=Rs(ix.sketch({text:e.text,level:Le(["success","error","warning","warn","info"],e.type)?e.type:void 0,progress:!0===e.progressBar,icon:ve.from(e.icon),closeButton:!a,onAction:u,iconProvider:r.shared.providers.icons,translationProvider:r.shared.providers.translate})),c=Rs(jw.sketch(de({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:t.backstage.shared.getSink,fireDismissalEventInstead:{}},r.shared.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));return n.add(c),e.timeout>0&&Kw.setTimeout(function(){u()},e.timeout),{close:u,moveTo:function(e,t){jw.showAt(c,{anchor:"makeshift",x:e,y:t},Ps(s))},moveRel:function(e,n){if("banner"!==n){var r=o(n),i={anchor:"node",root:as(),node:ve.some(Ur.fromDom(e)),layouts:{onRtl:function(){return[r]},onLtr:function(){return[r]}}};jw.showAt(c,i,Ps(s))}else jw.showAt(c,t.backstage.shared.anchors.banner(),Ps(s))},text:function(e){ix.updateText(s,e)},settings:e,getEl:function(){return s.element().dom()},progressBar:{value:function(e){ix.updateProgress(s,e)}}}},close:function(e){e.close()},reposition:u,getArgs:function(e){return e.settings}}}function c(e,t){var n=Mk(t.colorinput.getColors(),t.colorinput.hasCustomColors()),r=t.colorinput.getColorCols(),o=zk(qa("menu-value"),n,function(t){e.onAction({value:t})},r,"color",Vx.CLOSE_ON_EXECUTE,function(){return!1},t.shared.providers),i=de(de({},o),{markers:Jx("color"),movement:Hk(r,"color")});return{type:"widget",data:{value:qa("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[AS().widget(Cw.sketch(i))]}}function l(e,n){var r=null,o=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];r=t.setTimeout(function(){e.apply(null,o),r=null},n)};return{cancel:function(){null!==r&&(t.clearTimeout(r),r=null)},schedule:o}}function f(){var e={},t=function(t,n,r){kt(r,function(r,o){var i=void 0!==e[o]?e[o]:{};i[n]=Cu(r,t),e[o]=i})},n=function(e,t){return Ja(t).fold(function(){return ve.none()},function(n){return e.bind(function(e){return Rt(e,n)}).map(function(e){return IT(t,e)})})},r=function(t){return Rt(e,t).map(function(e){return Dt(e,function(e,t){return RT(t,e)})}).getOr([])},o=function(t,r,o){var i=Rt(e,r);return Io(o,function(e){return n(i,e)},t)};return{registerId:t,unregisterId:function(t){kt(e,function(e,n){e.hasOwnProperty(t)&&delete e[t]})},filterByType:r,find:o}}function d(){var e=f(),t={},n=function(e){var t=e.element();return Ja(t).fold(function(){return Ka("uid-",e.element())},function(e){return e})},r=function(e,n){var r=t[n];if(r!==e)throw new Error('The tagId "'+n+'" is already used by: '+za(r.element())+"\nCannot use it for: "+za(e.element())+"\nThe conflicting element is"+(is(r.element())?" ":" not ")+"already in the DOM");i(e)},o=function(o){var i=n(o);Lt(t,i)&&r(o,i);var a=[o];e.registerId(a,i,o.events()),t[i]=o},i=function(n){Ja(n.element()).each(function(n){delete t[n],e.unregisterId(n)})},a=function(t){return e.filterByType(t)};return{find:function(t,n,r){return e.find(t,n,r)},filter:a,register:o,unregister:i,getById:function(e){return Rt(t,e)}}}function p(e,n){return g(t.document.createElement("canvas"),e,n)}function m(e){var t=p(e.width,e.height);return h(t).drawImage(e,0,0),t}function h(e){return e.getContext("2d")}function g(e,t,n){return e.width=t,e.height=n,e}function v(e){return e.naturalWidth||e.width}function b(e){return e.naturalHeight||e.height}function y(e){return new LD(function(n,r){function o(){s(),n(u)}function i(){s(),r("Unable to load data of type "+e.type+": "+a)}var a=t.URL.createObjectURL(e),u=new t.Image,s=function(){u.removeEventListener("load",o),u.removeEventListener("error",i)};u.addEventListener("load",o),u.addEventListener("error",i),u.src=a,u.complete&&o()})}function w(e){var n=e.split(","),r=/data:([^;]+)/.exec(n[0]);if(!r)return ve.none();for(var o=r[1],i=n[1],a=t.atob(i),u=a.length,s=Math.ceil(u/1024),c=new Array(s),l=0;l<s;++l){for(var f=1024*l,d=Math.min(f+1024,u),p=new Array(d-f),m=f,h=0;m<d;++h,++m)p[h]=a[m].charCodeAt(0);c[l]=new Uint8Array(p)}return ve.some(new t.Blob(c,{type:o}))}function x(e){return new LD(function(t,n){w(e).fold(function(){n("uri is not base64: "+e)},t)})}function C(e,n,r){return n=n||"image/png",t.HTMLCanvasElement.prototype.toBlob?new LD(function(t,o){e.toBlob(function(e){e?t(e):o()},n,r)}):x(e.toDataURL(n,r))}function _(e,t,n){return t=t||"image/png",e.toDataURL(t,n)}function S(e){return y(e).then(function(e){T(e);var t=p(v(e),b(e));return h(t).drawImage(e,0,0),t})}function k(e){return new LD(function(n){var r=new t.FileReader;r.onloadend=function(){n(r.result)},r.readAsDataURL(e)})}function T(e){t.URL.revokeObjectURL(e.src)}function E(e,t,n){function r(){return LD.resolve(t)}function o(){return n.split(",")[1]}function i(t,n){return e.then(function(e){return C(e,t,n)})}function a(t,n){return e.then(function(e){return _(e,t,n)})}function u(e,t){return a(e,t).then(function(e){return e.split(",")[1]})}function s(){return e.then(m)}var c=t.type;return{getType:ie(c),toBlob:r,toDataURL:ie(n),toBase64:o,toAdjustedBlob:i,toAdjustedDataURL:a,toAdjustedBase64:u,toCanvas:s}}function O(e){return k(e).then(function(t){return E(S(e),e,t)})}function N(e,t){return C(e,t).then(function(t){return E(LD.resolve(e),t,e.toDataURL())})}function A(e,t,n){var r="string"==typeof e?parseFloat(e):e;return r>n?r=n:r<t&&(r=t),r}function D(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]}function M(e,t){for(var n,r=[],o=new Array(25),i=0;i<5;i++){for(var a=0;a<5;a++)r[a]=t[a+5*i];for(var a=0;a<5;a++){n=0;for(var u=0;u<5;u++)n+=e[a+5*u]*r[u];o[a+5*i]=n}}return o}function I(e,t){var n;return t=A(t,-1,1),t*=100,t<0?n=127+t/100*127:(n=t%1,n=0===n?BD[t]:BD[Math.floor(t)]*(1-n)+BD[Math.floor(t)+1]*n,n=127*n+127),M(e,[n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])}function R(e,t){return t=A(255*t,-255,255),M(e,[1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1])}function P(e,t,n,r){return t=A(t,0,2),n=A(n,0,2),r=A(r,0,2),M(e,[t,0,0,0,0,0,n,0,0,0,0,0,r,0,0,0,0,0,1,0,0,0,0,0,1])}function L(e,t){return e.toCanvas().then(function(n){return j(n,e.getType(),t)})}function j(e,t,n){var r=h(e),o=function(e,t){for(var n,r,o,i,a=e.data,u=t[0],s=t[1],c=t[2],l=t[3],f=t[4],d=t[5],p=t[6],m=t[7],h=t[8],g=t[9],v=t[10],b=t[11],y=t[12],w=t[13],x=t[14],C=t[15],_=t[16],S=t[17],k=t[18],T=t[19],E=0;E<a.length;E+=4)n=a[E],r=a[E+1],o=a[E+2],i=a[E+3],a[E]=n*u+r*s+o*c+i*l+f,a[E+1]=n*d+r*p+o*m+i*h+g,a[E+2]=n*v+r*b+o*y+i*w+x,a[E+3]=n*C+r*_+o*S+i*k+T;return e}(r.getImageData(0,0,e.width,e.height),n);return r.putImageData(o,0,0),N(e,t)}function B(e,t){return e.toCanvas().then(function(n){return z(n,e.getType(),t)})}function z(e,t,n){var r=h(e),o=r.getImageData(0,0,e.width,e.height),i=r.getImageData(0,0,e.width,e.height);return i=function(e,t,n){function r(e,t,n){return e>n?e=n:e<t&&(e=t),e}for(var o=Math.round(Math.sqrt(n.length)),i=Math.floor(o/2),a=e.data,u=t.data,s=e.width,c=e.height,l=0;l<c;l++)for(var f=0;f<s;f++){for(var d=0,p=0,m=0,h=0;h<o;h++)for(var g=0;g<o;g++){var v=r(f+g-i,0,s-1),b=r(l+h-i,0,c-1),y=4*(b*s+v),w=n[h*o+g];d+=a[y]*w,p+=a[y+1]*w,m+=a[y+2]*w}var x=4*(l*s+f);u[x]=r(d,0,255),u[x+1]=r(p,0,255),u[x+2]=r(m,0,255)}return t}(o,i,n),r.putImageData(i,0,0),N(e,t)}function F(e){return function(t,n){return L(t,e(D(),n))}}function H(e,t,n){var r=v(e),o=b(e),i=t/r,a=n/o,u=!1;(i<.5||i>2)&&(i=i<.5?.5:2,u=!0),(a<.5||a>2)&&(a=a<.5?.5:2,u=!0);var s=U(e,i,a);return u?s.then(function(e){return H(e,t,n)}):s}function U(e,t,n){return new LD(function(r){var o=v(e),i=b(e),a=Math.floor(o*t),u=Math.floor(i*n),s=p(a,u);h(s).drawImage(e,0,0,o,i,0,0,a,u),r(s)})}function V(e,t){return e.toCanvas().then(function(n){return q(n,e.getType(),t)})}function q(e,t,n){var r=p(e.width,e.height),o=h(r),i=0,a=0;return n=n<0?360+n:n,90!==n&&270!==n||g(r,r.height,r.width),90!==n&&180!==n||(i=r.width),270!==n&&180!==n||(a=r.height),o.translate(i,a),o.rotate(n*Math.PI/180),o.drawImage(e,0,0),N(r,t)}function W(e,t){return e.toCanvas().then(function(n){return $(n,e.getType(),t)})}function $(e,t,n){var r=p(e.width,e.height),o=h(r);return"v"===n?(o.scale(1,-1),o.drawImage(e,0,-r.height)):(o.scale(-1,1),o.drawImage(e,-r.width,0)),N(r,t)}function G(e,t,n,r,o){return e.toCanvas().then(function(i){return X(i,e.getType(),t,n,r,o)})}function X(e,t,n,r,o,i){var a=p(o,i);return h(a).drawImage(e,-n,-r),N(a,t)}function K(e,t,n){return e.toCanvas().then(function(r){return H(r,t,n).then(function(t){return N(t,e.getType())})})}function Y(e){var t=Math.max,n=e.documentElement,r=e.body,o=t(n.scrollWidth,r.scrollWidth),i=t(n.clientWidth,r.clientWidth),a=t(n.offsetWidth,r.offsetWidth),u=t(n.scrollHeight,r.scrollHeight),s=t(n.clientHeight,r.clientHeight),c=t(n.offsetHeight,r.offsetHeight);return{width:o<a?i:o,height:u<c?s:u}}function J(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}function Q(e,n){var r,o,i,a,u=n.document||t.document;n=n||{};var s=u.getElementById(n.handle||e),c=function(e){var c,d=Y(u);J(e),e.preventDefault(),o=e.button;var p=s;i=e.screenX,a=e.screenY,c=t.window.getComputedStyle?t.window.getComputedStyle(p,null).getPropertyValue("cursor"):p.runtimeStyle.cursor,r=sI("<div></div>").css({position:"absolute",top:0,left:0,width:d.width,height:d.height,zIndex:2147483647,opacity:1e-4,cursor:c}).appendTo(u.body),sI(u).on("mousemove touchmove",l).on("mouseup touchend",f),n.start(e)},l=function(e){if(J(e),e.button!==o)return f(e);e.deltaX=e.screenX-i,e.deltaY=e.screenY-a,e.preventDefault(),n.drag(e)},f=function(e){J(e),sI(u).off("mousemove touchmove",l).off("mouseup touchend",f),r.remove(),n.stop&&n.stop(e)};this.destroy=function(){sI(s).off()},sI(s).on("mousedown touchstart",c)}function Z(){function e(e){var t=i.splice(++a);return i.push(e),{state:e,removed:t}}function t(){if(r())return i[--a]}function n(){if(o())return i[++a]}function r(){return a>0}function o(){return-1!==a&&a<i.length-1}var i=[],a=-1;return{data:i,add:e,undo:t,redo:n,canUndo:r,canRedo:o}}var ee,te=function(){},ne=function(e){return function(){return e()}},re=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},oe=function(e,t){return function(n){return e(t(n))}},ie=function(e){return function(){return e}},ae=function(e){return e},ue=function(e){return function(t){return!e(t)}},se=function(e){return function(){throw new Error(e)}},ce=ie(!1),le=ie(!0),fe=tinymce.util.Tools.resolve("tinymce.ThemeManager"),de=function(){return de=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},de.apply(this,arguments)},pe=function(){return me},me=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:ce,isSome:ce,isNone:le,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:ie(null),getOrUndefined:ie(void 0),or:n,orThunk:t,map:pe,each:te,bind:pe,exists:ce,forall:le,filter:pe,equals:e,equals_:e,toArray:function(){return[]},toString:ie("none()")}}(),he=function(e){var t=ie(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:le,isNone:ce,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return he(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:me},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(ce,function(t){return n(e,t)})}};return o},ge=function(e){return null===e||void 0===e?me:he(e)},ve={some:he,none:pe,from:ge},be=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},ye=function(e){return function(t){return be(t)===e}},we=function(e){return function(t){return typeof t===e}},xe=ye("string"),Ce=ye("object"),_e=ye("array"),Se=we("boolean"),ke=function(e){return function(t){return e===t}}(void 0),Te=function(e){return null===e||void 0===e},Ee=function(e){return!Te(e)},Oe=we("function"),Ne=we("number"),Ae=function(e,t){if(_e(e)){for(var n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},De=Array.prototype.slice,Me=Array.prototype.indexOf,Ie=Array.prototype.push,Re=function(e,t){return Me.call(e,t)},Pe=function(e,t){var n=Re(e,t);return-1===n?ve.none():ve.some(n)},Le=function(e,t){return Re(e,t)>-1},je=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1},Be=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},ze=function(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=De.call(e,r,r+t);n.push(o)}return n},Fe=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},He=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},Ue=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n)}},Ve=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}},qe=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},We=function(e,t,n){return Ue(e,function(e){n=t(n,e)}),n},$e=function(e,t,n){return He(e,function(e){n=t(n,e)}),n},Ge=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return ve.some(i);if(n(i,r))break}return ve.none()},Xe=function(e,t){return Ge(e,t,ce)},Ke=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return ve.some(n)}return ve.none()},Ye=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!_e(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Ie.apply(t,e[n])}return t},Je=function(e,t){return Ye(Fe(e,t))},Qe=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n))return!1}return!0},Ze=function(e){var t=De.call(e,0);return t.reverse(),t},et=function(e,t){return qe(e,function(e){return!Le(t,e)})},tt=function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},nt=function(e,t){var n=De.call(e,0);return n.sort(t),n},rt=function(e){return 0===e.length?ve.none():ve.some(e[0])},ot=function(e){return 0===e.length?ve.none():ve.some(e[e.length-1])},it=Oe(Array.from)?Array.from:function(e){return De.call(e)},at=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return ve.none()},ut=function(e){var t=function(t){return e===t},n=function(t){return ut(e)},r=function(t){return ut(e)},o=function(t){return ut(t(e))},i=function(t){return ut(e)},a=function(t){t(e)},u=function(t){return t(e)},s=function(t,n){return n(e)},c=function(t){return t(e)},l=function(t){return t(e)},f=function(){return ve.some(e)};return{is:t,isValue:le,isError:ce,getOr:ie(e),getOrThunk:ie(e),getOrDie:ie(e),or:n,orThunk:r,fold:s,map:o,mapError:i,each:a,bind:u,exists:c,forall:l,toOption:f}},st=function(e){var t=function(e){return e()},n=function(){return se(String(e))()},r=function(e){return e},o=function(e){return e()},i=function(t){return st(e)},a=function(t){return st(t(e))},u=function(t){return st(e)};return{is:ce,isValue:ce,isError:le,getOr:ae,getOrThunk:t,getOrDie:n,or:r,orThunk:o,fold:function(t,n){return t(e)},map:i,mapError:a,each:te,bind:u,exists:ce,forall:le,toOption:ve.none}},ct=function(e,t){return e.fold(function(){return st(t)},ut)},lt={value:ut,error:st,fromOption:ct};!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(ee||(ee={}));var ft,dt=function(e,t,n){return e.stype===ee.Error?t(e.serror):n(e.svalue)},pt=function(e){var t=[],n=[];return He(e,function(e){dt(e,function(e){return n.push(e)},function(e){return t.push(e)})}),{values:t,errors:n}},mt=function(e,t){return e.stype===ee.Error?{stype:ee.Error,serror:t(e.serror)}:e},ht=function(e,t){return e.stype===ee.Value?{stype:ee.Value,svalue:t(e.svalue)}:e},gt=function(e,t){return e.stype===ee.Value?t(e.svalue):e},vt=function(e,t){return e.stype===ee.Error?t(e.serror):e},bt=function(e){return{stype:ee.Value,svalue:e}},yt=function(e){return{stype:ee.Error,serror:e}},wt=function(e){return dt(e,lt.error,lt.value)},xt=function(e){return e.fold(yt,bt)},Ct={fromResult:xt,toResult:wt,svalue:bt,partition:pt,serror:yt,bind:gt,bindError:vt,map:ht,mapError:mt,fold:dt},_t=Object.keys,St=Object.hasOwnProperty,kt=function(e,t){for(var n=_t(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},Tt=function(e,t){return Et(e,function(e,n){return{k:n,v:t(e,n)}})},Et=function(e,t){var n={};return kt(e,function(e,r){var o=t(e,r);n[o.k]=o.v}),n},Ot=function(e){return function(t,n){e[n]=t}},Nt=function(e,t,n,r){var o={};return kt(e,function(e,o){(t(e,o)?n:r)(e,o)}),o},At=function(e,t){var n={};return Nt(e,t,Ot(n),te),n},Dt=function(e,t){var n=[];return kt(e,function(e,r){n.push(t(e,r))}),n},Mt=function(e,t){for(var n=_t(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];if(t(a,i,e))return ve.some(a)}return ve.none()},It=function(e){return Dt(e,function(e){return e})},Rt=function(e,t){return Pt(e,t)?ve.from(e[t]):ve.none()},Pt=function(e,t){return St.call(e,t)},Lt=function(e,t){return Pt(e,t)&&void 0!==e[t]&&null!==e[t]},jt=function(e){if(!_e(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var n=[],r={};return He(e,function(o,i){var a=_t(o);if(1!==a.length)throw new Error("one and only one name per case");var u=a[0],s=o[u];if(void 0!==r[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!_e(s))throw new Error("case arguments must be an array");n.push(u),r[u]=function(){var r=arguments.length;if(r!==s.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+s.length+" ("+s+"), got "+r);for(var o=new Array(r),a=0;a<o.length;a++)o[a]=arguments[a];var c=function(e){var t=_t(e);if(n.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+t.join(","));if(!Qe(n,function(e){return Le(t,e)}))throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+n.join(", "));return e[u].apply(null,o)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);return arguments[i].apply(null,o)},match:c,log:function(e){t.console.log(e,{constructors:n,constructor:u,params:o})}}}}),r},Bt={generate:jt},zt=Object.prototype.hasOwnProperty,Ft=function(e,t){return t},Ht=function(e,t){return Ce(e)&&Ce(t)?Vt(e,t):t},Ut=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)zt.call(i,a)&&(r[a]=e(r[a],i[a]))}return r}},Vt=Ut(Ht),qt=Ut(Ft),Wt=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},$t=Bt.generate([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),Gt=function(e){return $t.defaultedThunk(ie(e))},Xt=function(e){return $t.mergeWithThunk(ie(e))},Kt=$t.strict,Yt=$t.asOption,Jt=$t.defaultedThunk,Qt=($t.asDefaultedOptionThunk,$t.mergeWithThunk),Zt=function(e,t){var n={};return kt(e,function(e,r){Le(t,r)||(n[r]=e)}),n},en=function(e,t){var n;return n={},n[e]=t,n},tn=function(e){var t={};return He(e,function(e){t[e.key]=e.value}),t},nn=(Bt.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(e){var t=[],n=[];return He(e,function(e){e.fold(function(e){t.push(e)},function(e){n.push(e)})}),{errors:t,values:n}}),rn=function(e,t){return Zt(e,t)},on=function(e,t){return en(e,t)},an=function(e){return tn(e)},un=function(e,t){return 0===e.length?lt.value(t):lt.value(Vt(t,qt.apply(void 0,e)))},sn=function(e){return lt.error(Ye(e))},cn=function(e,t){var n=nn(e);return n.errors.length>0?sn(n.errors):un(n.values,t)},ln=function(e,t){return e.length>0?Ct.svalue(Vt(t,qt.apply(void 0,e))):Ct.svalue(t)},fn=function(e){return re(Ct.serror,Ye)(e)},dn=function(e,t){var n=Ct.partition(e);return n.errors.length>0?fn(n.errors):ln(n.values,t)},pn=function(e){var t=Ct.partition(e);return t.errors.length>0?fn(t.errors):Ct.svalue(t.values)},mn={consolidateObj:dn,consolidateArr:pn},hn=function(e){return Ce(e)&&_t(e).length>100?" removed due to size":JSON.stringify(e,null,2)},gn=function(e){var t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):e;return Fe(t,function(e){return"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()})},vn=function(e,t){return Ct.serror([{path:e,getErrorInfo:t}])},bn=function(e,t,n){return vn(e,function(){return'Could not find valid *strict* value for "'+t+'" in '+hn(n)})},yn=function(e,t){return vn(e,function(){return'Choice schema did not contain choice key: "'+t+'"'})},wn=function(e,t,n){return vn(e,function(){return'The chosen schema: "'+n+'" did not exist in branches: '+hn(t)})},xn=function(e,t){return vn(e,function(){return"There are unsupported fields: ["+t.join(", ")+"] specified"})},Cn=function(e,t){return vn(e,function(){return t})},_n=Bt.generate([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),Sn=function(e,t,n){return Rt(t,n).fold(function(){return bn(e,n,t)},Ct.svalue)},kn=function(e,t,n){var r=Rt(e,t).fold(function(){return n(e)},ae);return Ct.svalue(r)},Tn=function(e,t){return Ct.svalue(Rt(e,t))},En=function(e,t,n){var r=Rt(e,t).map(function(t){return!0===t?n(e):t});return Ct.svalue(r)},On=function(e,t,n,r){return n.fold(function(n,o,i,a){var u=function(t){var i=a.extract(e.concat([n]),r,t);return Ct.map(i,function(e){return en(o,r(e))})},s=function(t){return t.fold(function(){var e=en(o,r(ve.none()));return Ct.svalue(e)},function(t){var i=a.extract(e.concat([n]),r,t);return Ct.map(i,function(e){return en(o,r(ve.some(e)))})})};return function(){return i.fold(function(){return Ct.bind(Sn(e,t,n),u)},function(e){return Ct.bind(kn(t,n,e),u)},function(){return Ct.bind(Tn(t,n),s)},function(e){return Ct.bind(En(t,n,e),s)},function(e){var r=e(t),o=Ct.map(kn(t,n,ie({})),function(e){return Vt(r,e)});return Ct.bind(o,u)})}()},function(e,n){var o=n(t);return Ct.svalue(en(e,r(o)))})},Nn=function(e,t,n,r){var o=Fe(n,function(n){return On(e,t,n,r)});return mn.consolidateObj(o,{})},An=function(e){var t=function(t,n,r){return e().extract(t,n,r)},n=function(){return e().toString()};return{extract:t,toString:n}},Dn=function(e){var t=function(t,n,r){return Ct.bindError(e(r,n),function(e){return Cn(t,e)})},n=function(){return"val"};return{extract:t,toString:n}},Mn=function(e){return _t(At(e,function(e){return void 0!==e&&null!==e}))},In=function(e){var t=Rn(e),n=We(e,function(e,t){return t.fold(function(t){return Vt(e,on(t,!0))},ie(e))},{});return{extract:function(e,r,o){var i=Se(o)?[]:Mn(o),a=qe(i,function(e){return!Lt(n,e)});return 0===a.length?t.extract(e,r,o):xn(e,a)},toString:t.toString}},Rn=function(e){var t=function(t,n,r){return Nn(t,r,e,n)},n=function(){return"obj{\n"+Fe(e,function(e){return e.fold(function(e,t,n,r){return e+" -> "+r.toString()},function(e,t){return"state("+e+")"})}).join("\n")+"}"};return{extract:t,toString:n}},Pn=function(e){var t=function(t,n,r){var o=Fe(r,function(r,o){return e.extract(t.concat(["["+o+"]"]),n,r)});return mn.consolidateArr(o)},n=function(){return"array("+e.toString()+")"};return{extract:t,toString:n}},Ln=function(e,t){var n=function(t,n){return Pn(Dn(e)).extract(t,ae,n)},r=function(e,r,o){var i=_t(o),a=n(e,i);return Ct.bind(a,function(n){var i=Fe(n,function(e){return _n.field(e,e,Kt(),t)});return Rn(i).extract(e,r,o)})},o=function(){return"setOf("+t.toString()+")"};return{extract:r,toString:o}},jn=ie(Dn(Ct.svalue)),Bn=re(Pn,Rn),zn=_n.state,Fn=_n.field,Hn=function(e,t,n,r,o){return Rt(r,o).fold(function(){return wn(e,r,o)},function(r){return r.extract(e.concat(["branch: "+o]),t,n)})},Un=function(e,t){var n=function(n,r,o){return Rt(o,e).fold(function(){return yn(n,e)},function(e){return Hn(n,r,o,t,e)})},r=function(){return"chooseOn("+e+"). Possible values: "+_t(t)};return{extract:n,toString:r}},Vn=Dn(Ct.svalue),qn=function(e){return Bn(e)},Wn=An,$n=function(e){return Dn(function(t){return e(t).fold(Ct.serror,Ct.svalue)})},Gn=function(e,t){return Ln(function(t){return Ct.fromResult(e(t))},t)},Xn=function(e,t,n,r){var o=t.extract([e],n,r);return Ct.mapError(o,function(e){return{input:r,errors:e}})},Kn=function(e,t,n){return Ct.toResult(Xn(e,t,ae,n))},Yn=function(e){return e.fold(function(e){throw new Error(Qn(e))},ae)},Jn=function(e,t,n){return Yn(Kn(e,t,n))},Qn=function(e){return"Errors: \n"+gn(e.errors).join("\n")+"\n\nInput object: "+hn(e.input)},Zn=function(e,t){return Un(e,t)},er=function(e,t){return Un(e,Tt(t,Rn))},tr=ie(Vn),nr=function(e,t){return Dn(function(n){var r=typeof n;return e(n)?Ct.svalue(n):Ct.serror("Expected type: "+t+" but got: "+r)})},rr=nr(Ne,"number"),or=nr(xe,"string"),ir=nr(Se,"boolean"),ar=nr(Oe,"function"),ur=function(e){var t=function(e,t){for(var n=e.next();!n.done;){if(!t(n.value))return!1;n=e.next()}return!0};if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every(function(t){return ur(e[t])});case"Map":return t(e.keys(),ur)&&t(e.values(),ur);case"Set":return t(e.keys(),ur);default:return!1}},sr=Dn(function(e){return ur(e)?Ct.svalue(e):Ct.serror("Expected value to be acceptable for sending via postMessage")}),cr=function(e){return $n(function(t){return Le(e,t)?lt.value(t):lt.error('Unsupported value: "'+t+'", choose one of "'+e.join(", ")+'".')})},lr=function(e){return Fn(e,e,Kt(),jn())},fr=function(e,t){return Fn(e,e,Kt(),t)},dr=function(e){return fr(e,rr)},pr=function(e){return fr(e,or)},mr=function(e,t){return Fn(e,e,Kt(),cr(t))},hr=function(e){return fr(e,ar)},gr=function(e,t){return Fn(e,e,Yt(),Dn(function(n){return Ct.serror("The field: "+e+" is forbidden. "+t)}))},vr=function(e,t){return Fn(e,e,Kt(),Rn(t))},br=function(e,t){return Fn(e,e,Kt(),Bn(t))},yr=function(e,t){return Fn(e,e,Kt(),Pn(t))},wr=function(e){return Fn(e,e,Yt(),jn())},xr=function(e,t){return Fn(e,e,Yt(),t)},Cr=function(e){return xr(e,rr)},_r=function(e){return xr(e,or)},Sr=function(e){return xr(e,ar)},kr=function(e,t){return xr(e,Rn(t))},Tr=function(e,t){return xr(e,In(t))},Er=function(e,t){return Fn(e,e,Gt(t),jn())},Or=function(e,t,n){return Fn(e,e,Gt(t),n)},Nr=function(e,t){return Or(e,t,rr)},Ar=function(e,t){return Or(e,t,or)},Dr=function(e,t,n){return Or(e,t,cr(n))},Mr=function(e,t){return Or(e,t,ir)},Ir=function(e,t){return Or(e,t,ar)},Rr=function(e,t,n){return Or(e,t,Rn(n))},Pr=function(e,t){return zn(e,t)},Lr=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},jr=function(e,n){var r=n||t.document,o=r.createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Fr(o.childNodes[0])},Br=function(e,n){var r=n||t.document,o=r.createElement(e);return Fr(o)},zr=function(e,n){var r=n||t.document,o=r.createTextNode(e);return Fr(o)},Fr=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:ie(e)}},Hr=function(e,t,n){var r=e.dom();return ve.from(r.elementFromPoint(t,n)).map(Fr)},Ur={fromHtml:jr,fromTag:Br,fromText:zr,fromDom:Fr,fromPoint:Hr},Vr=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},qr=function(e,n){return Vr(e,n,t.Node.DOCUMENT_POSITION_CONTAINED_BY)},Wr=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},$r=function(e,t){var n=Wr(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return Kr(r(1),r(2))},Gr=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Xr():$r(e,n)},Xr=function(){return Kr(0,0)},Kr=function(e,t){return{major:e,minor:t}},Yr={nu:Kr,detect:Gr,unknown:Xr},Jr=function(){return Qr({current:void 0,version:Yr.unknown()})},Qr=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r("Edge"),isChrome:r("Chrome"),isIE:r("IE"),isOpera:r("Opera"),isFirefox:r("Firefox"),isSafari:r("Safari")}},Zr={unknown:Jr,nu:Qr,edge:ie("Edge"),chrome:ie("Chrome"),ie:ie("IE"),opera:ie("Opera"),firefox:ie("Firefox"),safari:ie("Safari")},eo=function(){return to({current:void 0,version:Yr.unknown()})},to=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r("Windows"),isiOS:r("iOS"),isAndroid:r("Android"),isOSX:r("OSX"),isLinux:r("Linux"),isSolaris:r("Solaris"),isFreeBSD:r("FreeBSD"),isChromeOS:r("ChromeOS")}},no={unknown:eo,nu:to,windows:ie("Windows"),ios:ie("iOS"),android:ie("Android"),linux:ie("Linux"),osx:ie("OSX"),solaris:ie("Solaris"),freebsd:ie("FreeBSD"),chromeos:ie("ChromeOS")},ro=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,a=e.isiOS()||e.isAndroid(),u=a||r("(pointer:coarse)"),s=o||!i&&a&&r("(min-device-width:768px)"),c=i||a&&!s,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),f=!c&&!s&&!l;return{isiPad:ie(o),isiPhone:ie(i),isTablet:ie(s),isPhone:ie(c),isTouch:ie(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ie(l),isDesktop:ie(f)}},oo=function(e,t){var n=String(t).toLowerCase();return Xe(e,function(e){return e.search(n)})},io=function(e,t){return oo(e,t).map(function(e){var n=Yr.detect(e.versionRegexes,t);return{current:e.name,version:n}})},ao=function(e,t){return oo(e,t).map(function(e){var n=Yr.detect(e.versionRegexes,t);return{current:e.name,version:n}})},uo={detectBrowser:io,detectOs:ao},so=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},co=function(e,t){return-1!==e.indexOf(t)},lo=function(e,t){return so(e,t,e.length-t.length)},fo=function(e){return function(t){return t.replace(e,"")}}(/^\s+|\s+$/g),po=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,mo=function(e){return function(t){return co(t,e)}},ho=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return co(e,"edge/")&&co(e,"chrome")&&co(e,"safari")&&co(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,po],search:function(e){return co(e,"chrome")&&!co(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return co(e,"msie")||co(e,"trident")}},{name:"Opera",versionRegexes:[po,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:mo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:mo("firefox")},{name:"Safari",versionRegexes:[po,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(co(e,"safari")||co(e,"mobile/"))&&co(e,"applewebkit")}}],go=[{name:"Windows",search:mo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return co(e,"iphone")||co(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:mo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:mo("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:mo("linux"),versionRegexes:[]},{name:"Solaris",search:mo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:mo("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:mo("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],vo={browsers:ie(ho),oses:ie(go)},bo=function(e,t){var n=vo.browsers(),r=vo.oses(),o=uo.detectBrowser(n,e).fold(Zr.unknown,Zr.nu),i=uo.detectOs(r,e).fold(no.unknown,no.nu);return{browser:o,os:i,deviceType:ro(i,o,e,t)}},yo={detect:bo},wo=function(e){return t.window.matchMedia(e).matches},xo=Wt(function(){return yo.detect(t.navigator.userAgent,wo)}),Co=function(){return xo()},_o=function(e,t){var n=e.dom();if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},So=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},ko=function(e,n){var r=void 0===n?t.document:n.dom();return So(r)?[]:Fe(r.querySelectorAll(e),Ur.fromDom)},To=function(e,n){var r=void 0===n?t.document:n.dom();return So(r)?ve.none():ve.from(r.querySelector(e)).map(Ur.fromDom)},Eo=function(e,t){return e.dom()===t.dom()},Oo=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},No=function(e,t){return qr(e.dom(),t.dom())},Ao=function(e,t){return Co().browser.isIE()?No(e,t):Oo(e,t)},Do=function(e){return Oe(e)?e:ie(!1)},Mo=function(e,t,n){for(var r=e.dom(),o=Do(n);r.parentNode;){r=r.parentNode;var i=Ur.fromDom(r),a=t(i);if(a.isSome())return a;if(o(i))break}return ve.none()},Io=function(e,t,n){var r=t(e),o=Do(n);return r.orThunk(function(){return o(e)?ve.none():Mo(e,t,o)})},Ro=function(e,t){return Eo(e.element(),t.event().target())},Po=function(e){if(!Lt(e,"can")&&!Lt(e,"abort")&&!Lt(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return Jn("Extracting event.handler",In([Er("can",ie(!0)),Er("abort",ie(!1)),Er("run",te)]),e)},Lo=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return $e(e,function(e,r){return e&&t(r).apply(void 0,n)},!0)}},jo=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return $e(e,function(e,r){return e||t(r).apply(void 0,n)},!1)}},Bo=function(e){return Oe(e)?{can:ie(!0),abort:ie(!1),run:e}:e},zo=function(e){var t=Lo(e,function(e){return e.can}),n=jo(e,function(e){return e.abort});return Po({can:t,abort:n,run:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];He(e,function(e){e.run.apply(void 0,t)})}})},Fo=ie("touchstart"),Ho=ie("touchmove"),Uo=ie("touchend"),Vo=ie("touchcancel"),qo=ie("mousedown"),Wo=ie("mousemove"),$o=ie("mouseout"),Go=ie("mouseup"),Xo=ie("mouseover"),Ko=ie("focusin"),Yo=ie("focusout"),Jo=ie("keydown"),Qo=ie("keyup"),Zo=ie("input"),ei=ie("change"),ti=ie("click"),ni=ie("transitionend"),ri=ie("selectstart"),oi={tap:ie("alloy.tap")},ii=ie("alloy.focus"),ai=ie("alloy.blur.post"),ui=ie("alloy.paste.post"),si=ie("alloy.receive"),ci=ie("alloy.execute"),li=ie("alloy.focus.item"),fi=oi.tap,di=ie("alloy.longpress"),pi=ie("alloy.sandbox.close"),mi=ie("alloy.typeahead.cancel"),hi=ie("alloy.system.init"),gi=ie("alloy.system.touchmove"),vi=ie("alloy.system.touchend"),bi=ie("alloy.system.scroll"),yi=ie("alloy.system.resize"),wi=ie("alloy.system.attached"),xi=ie("alloy.system.detached"),Ci=ie("alloy.system.dismissRequested"),_i=ie("alloy.system.repositionRequested"),Si=ie("alloy.focusmanager.shifted"),ki=ie("alloy.slotcontainer.visibility"),Ti=ie("alloy.change.tab"),Ei=ie("alloy.dismiss.tab"),Oi=ie("alloy.highlight"),Ni=ie("alloy.dehighlight"),Ai=function(e,t){Ri(e,e.element(),t,{})},Di=function(e,t,n){Ri(e,e.element(),t,n)},Mi=function(e){Ai(e,ci())},Ii=function(e,t,n){Ri(e,t,n,{})},Ri=function(e,t,n,r){var o=de({target:t},r);e.getSystem().triggerEvent(n,t,Tt(o,ie))},Pi=function(e,t,n,r){e.getSystem().triggerEvent(n,t,r.event())},Li=function(e){return an(e)},ji=function(e,t){return{key:e,value:Po({abort:t})}},Bi=function(e){return{key:e,value:Po({run:function(e,t){t.event().prevent()}})}},zi=function(e,t){return{key:e,value:Po({run:t})}},Fi=function(e,t,n){return{key:e,value:Po({run:function(e,r){t.apply(void 0,[e,r].concat(n))}})}},Hi=function(e){return function(t){return{key:e,value:Po({run:function(e,n){Ro(e,n)&&t(e,n)}})}}},Ui=function(e,t){return zi(e,function(n,r){n.getSystem().getByUid(t).each(function(t){Pi(t,t.element(),e,r)})})},Vi=function(e,t,n){var r=t.partUids[n];return Ui(e,r)},qi=function(e,t){return zi(e,function(e,n){var r=n.event(),o=e.getSystem().getByDom(r.target()).fold(function(){return Io(r.target(),function(t){return e.getSystem().getByDom(t).toOption()},ie(!1)).getOr(e)},function(e){return e});t(e,o,n)})},Wi=function(e){return zi(e,function(e,t){t.cut()})},$i=function(e){return zi(e,function(e,t){t.stop()})},Gi=function(e,t){return Hi(e)(t)},Xi=Hi(wi()),Ki=Hi(xi()),Yi=Hi(hi()),Ji=function(e){return function(t){return zi(e,t)}}(ci()),Qi=(void 0!==t.window?t.window:Function("return this;")(),function(e){return e.dom().nodeName.toLowerCase()}),Zi=function(e){return e.dom().nodeType},ea=function(e){return function(t){return Zi(t)===e}},ta=ea(1),na=ea(3),ra=ea(9),oa=ea(11),ia=function(e){return Ur.fromDom(e.dom().ownerDocument)},aa=function(e){return ra(e)?e:ia(e)},ua=function(e){return Ur.fromDom(e.dom().ownerDocument.documentElement)},sa=function(e){return Ur.fromDom(e.dom().ownerDocument.defaultView)},ca=function(e){return ve.from(e.dom().parentNode).map(Ur.fromDom)},la=function(e){return ve.from(e.dom().offsetParent).map(Ur.fromDom)},fa=function(e){return ve.from(e.dom().nextSibling).map(Ur.fromDom)},da=function(e){return Fe(e.dom().childNodes,Ur.fromDom)},pa=function(e,t){var n=e.dom().childNodes;return ve.from(n[t]).map(Ur.fromDom)},ma=function(e){return pa(e,0)},ha=function(e,t){ca(e).each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},ga=function(e,t){fa(e).fold(function(){ca(e).each(function(e){ba(e,t)})},function(e){ha(e,t)})},va=function(e,t){ma(e).fold(function(){ba(e,t)},function(n){e.dom().insertBefore(t.dom(),n.dom())})},ba=function(e,t){e.dom().appendChild(t.dom())},ya=function(e,t,n){pa(e,n).fold(function(){ba(e,t)},function(e){ha(e,t)})},wa=function(e,t){He(t,function(t){ha(e,t)})},xa=function(e,t){He(t,function(t){ba(e,t)})},Ca=function(e){e.dom().textContent="",He(da(e),function(e){_a(e)})},_a=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},Sa=function(e){var t=da(e);t.length>0&&wa(e,t),_a(e)},ka=function(e,n){var r=n||t.document,o=r.createElement("div");return o.innerHTML=e,da(Ur.fromDom(o))},Ta=function(e){return e.dom().innerHTML},Ea=function(e,t){var n=ia(e),r=n.dom(),o=Ur.fromDom(r.createDocumentFragment()),i=ka(t,r);xa(o,i),Ca(e),ba(e,o)},Oa=function(e){var t=Ur.fromTag("div"),n=Ur.fromDom(e.dom().cloneNode(!0));return ba(t,n),Ta(t)},Na=function(e,n,r){if(!(xe(r)||Se(r)||Ne(r)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,r+"")},Aa=function(e,t,n){Na(e.dom(),t,n)},Da=function(e,t){var n=e.dom();kt(t,function(e,t){Na(n,t,e)})},Ma=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},Ia=function(e,t){return ve.from(Ma(e,t))},Ra=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Pa=function(e,t){e.dom().removeAttribute(t)},La=function(e,t){return Ur.fromDom(e.dom().cloneNode(t))},ja=function(e){return La(e,!1)},Ba=function(e){var t=ja(e);return Oa(t)},za=function(e){return Ba(e)},Fa=function(e,t,n){return Eo(t,e.element())&&!Eo(t,n)},Ha=Li([function(e,t){return{key:e,value:Po({can:t})}}(ii(),function(e,n){var r=n.event().originator(),o=n.event().target();return!Fa(e,r,o)||(t.console.warn(ii()+" did not get interpreted by the desired target. \nOriginator: "+za(r)+"\nTarget: "+za(o)+"\nCheck the "+ii()+" event handlers"),!1)})]),Ua=Object.freeze({__proto__:null,events:Ha}),Va=0,qa=function(e){var t=new Date,n=t.getTime(),r=Math.floor(1e9*Math.random());return Va++,e+"_"+r+Va+String(n)},Wa=ie("alloy-id-"),$a=ie("data-alloy-id"),Ga=Wa(),Xa=$a(),Ka=function(e,t){var n=qa(Ga+e);return Ya(t,n),n},Ya=function(e,t){Object.defineProperty(e.dom(),Xa,{value:t,writable:!0})},Ja=function(e){var t=ta(e)?e.dom()[Xa]:null;return ve.from(t)},Qa=function(e){return qa(e)},Za=ae,eu=function(e){var t=function(t){return function(){throw new Error("The component must be in a context to send: "+t+(e?"\n"+za(e().element())+" is not in context.":""))}};return{debugInfo:ie("fake"),triggerEvent:t("triggerEvent"),triggerFocus:t("triggerFocus"),triggerEscape:t("triggerEscape"),build:t("build"),addToWorld:t("addToWorld"),removeFromWorld:t("removeFromWorld"),addToGui:t("addToGui"),removeFromGui:t("removeFromGui"),getByUid:t("getByUid"),getByDom:t("getByDom"),broadcast:t("broadcast"),broadcastOn:t("broadcastOn"),broadcastEvent:t("broadcastEvent"),isConnected:ie(!1)}},tu=eu(),nu=function(e,t,n){var r=n.toString(),o=r.indexOf(")")+1,i=r.indexOf("("),a=r.substring(i+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:ru(a.slice(0,1).concat(a.slice(3)))}},e},ru=function(e){return Fe(e,function(e){return lo(e,"/*")?e.substring(0,e.length-"/*".length):e})},ou=function(e,t){var n=e.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:ru(i)}},e},iu=function(e,t){var n=t.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:ru(i.slice(1))}},e},au=qa("alloy-premade"),uu=function(e){return on(au,e)},su=function(e){return Rt(e,au)},cu=function(e){return iu(function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.apply(void 0,o([t.getApis(),t],n))},e)},lu={init:function(){return fu({readState:function(){return"No State required"}})}},fu=function(e){return e},du=function(e,t){var n=Fe(t,function(e){return kr(e.name(),[lr("config"),Er("state",lu)])}),r=Kn("component.behaviours",Rn(n),e.behaviours).fold(function(t){throw new Error(Qn(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))},function(e){return e});return{list:t,data:Tt(r,function(e){var t=e.map(function(e){return{config:e.config,state:e.state.init(e.config)}});return function(){return t}})}},pu=function(e){return e.list},mu=function(e){return e.data},hu=function(e,t){var n={};return kt(e,function(e,r){kt(e,function(e,o){var i=Rt(n,o).getOr([]);n[o]=i.concat([t(r,e)])})}),n},gu=function(e){return{classes:void 0!==e.classes?e.classes:[],attributes:void 0!==e.attributes?e.attributes:{},styles:void 0!==e.styles?e.styles:{}}},vu=function(e,t){return de(de({},e),{attributes:de(de({},e.attributes),t.attributes),styles:de(de({},e.styles),t.styles),classes:e.classes.concat(t.classes)})},bu=function(e,t,n,r){var o=de({},t);He(n,function(t){o[t.name()]=t.exhibit(e,r)});var i=hu(o,function(e,t){return{name:e,modification:t}}),a=function(e){return We(e,function(e,t){return de(de({},t.modification),e)},{})},u=We(i.classes,function(e,t){return t.modification.concat(e)},[]),s=a(i.attributes),c=a(i.styles);return gu({classes:u,attributes:s,styles:c})},yu=function(e,t,n,r){try{var o=nt(n,function(n,o){var i=n[t](),a=o[t](),u=r.indexOf(i),s=r.indexOf(a);if(-1===u)throw new Error("The ordering for "+e+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2));if(-1===s)throw new Error("The ordering for "+e+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(r,null,2));return u<s?-1:s<u?1:0});return lt.value(o)}catch(e){return lt.error([e])}},wu=function(e,t){return{handler:e,purpose:ie(t)}},xu=function(e,t){return{cHandler:e,purpose:ie(t)}},Cu=function(e,t){return xu(n.apply(void 0,[e.handler].concat(t)),e.purpose())},_u=function(e){return e.cHandler},Su=function(e,t){return{name:ie(e),handler:ie(t)}},ku=function(e,t){var n={};return He(e,function(e){n[e.name()]=e.handlers(t)}),n},Tu=function(e,t,n){var r=de(de({},n),ku(t,e));return hu(r,Su)},Eu=function(e,t,n,r){var o=Tu(e,n,r);return Du(o,t)},Ou=function(e){var t=Bo(e);return function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i=[e,n].concat(r);t.abort.apply(void 0,i)?n.stop():t.can.apply(void 0,i)&&t.run.apply(void 0,i)}},Nu=function(e,t){return lt.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(Fe(t,function(e){return e.name()}),null,2)])},Au=function(e,t,n){var r=t[n];return r?yu("Event: "+n,"name",e,r).map(function(e){var t=Fe(e,function(e){return e.handler()});return zo(t)}):Nu(n,e)},Du=function(e,t){var n=Dt(e,function(e,n){return(1===e.length?lt.value(e[0].handler()):Au(e,t,n)).map(function(r){var o=Ou(r),i=e.length>1?qe(t[n],function(t){return je(e,function(e){return e.name()===t})}).join(" > "):e[0].name();return on(n,wu(o,i))})});return cn(n,{})},Mu=function(e){return Kn("custom.definition",Rn([Fn("dom","dom",Kt(),Rn([lr("tag"),Er("styles",{}),Er("classes",[]),Er("attributes",{}),wr("value"),wr("innerHtml")])),lr("components"),lr("uid"),Er("events",{}),Er("apis",{}),Fn("eventOrder","eventOrder",Xt({"alloy.execute":["disabling","alloy.base.behaviour","toggling","typeaheadevents"],"alloy.focus":["alloy.base.behaviour","focusing","keying"],"alloy.system.init":["alloy.base.behaviour","disabling","toggling","representing"],input:["alloy.base.behaviour","representing","streaming","invalidating"],"alloy.system.detached":["alloy.base.behaviour","representing","item-events","tooltipping"],mousedown:["focusing","alloy.base.behaviour","item-type-events"],touchstart:["focusing","alloy.base.behaviour","item-type-events"],mouseover:["item-type-events","tooltipping"],"alloy.receive":["receiving","reflecting","tooltipping"]}),tr()),wr("domModification")]),e)},Iu=function(e){return de(de({},e.dom),{uid:e.uid,domChildren:Fe(e.components,function(e){return e.element()})})},Ru=function(e){return e.domModification.fold(function(){return gu({})},gu)},Pu=function(e){return e.events},Lu=function(e,t){var n=Ma(e,t);return void 0===n||""===n?[]:n.split(" ")},ju=function(e,t,n){var r=Lu(e,t),o=r.concat([n]);return Aa(e,t,o.join(" ")),!0},Bu=function(e,t,n){var r=qe(Lu(e,t),function(e){return e!==n});return r.length>0?Aa(e,t,r.join(" ")):Pa(e,t),!1},zu=function(e){return void 0!==e.dom().classList},Fu=function(e){return Lu(e,"class")},Hu=function(e,t){return ju(e,"class",t)},Uu=function(e,t){return Bu(e,"class",t)},Vu=function(e,t){zu(e)?e.dom().classList.add(t):Hu(e,t)},qu=function(e){0===(zu(e)?e.dom().classList:Fu(e)).length&&Pa(e,"class")},Wu=function(e,t){if(zu(e)){e.dom().classList.remove(t)}else Uu(e,t);qu(e)},$u=function(e,t){return zu(e)&&e.dom().classList.contains(t)},Gu=function(e,t){He(t,function(t){Vu(e,t)})},Xu=function(e,t){He(t,function(t){Wu(e,t)})},Ku=function(e){return void 0!==e.style&&Oe(e.style.getPropertyValue)},Yu=function(e){return oa(e)},Ju=Oe(t.Element.prototype.attachShadow)&&Oe(t.Node.prototype.getRootNode),Qu=ie(Ju),Zu=Ju?function(e){return Ur.fromDom(e.dom().getRootNode())}:aa,es=function(e){return Yu(e)?e:Ur.fromDom(aa(e).dom().body)},ts=function(e){var t=Zu(e);return Yu(t)?ve.some(t):ve.none()},ns=function(e){return Ur.fromDom(e.dom().host)},rs=function(e){if(Qu()&&Ee(e.target)){var t=Ur.fromDom(e.target);if(ta(t)&&os(Ur.fromDom(e.target))){var n=e;if(n.composed&&n.composedPath){var r=n.composedPath();if(r)return rt(r)}}}return ve.from(e.target)},os=function(e){return Ee(e.dom().shadowRoot)},is=function(e){var t=na(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&null!==t.ownerDocument&&ts(Ur.fromDom(t)).fold(function(){return t.ownerDocument.body.contains(t)},oe(is,ns))},as=function(){return us(Ur.fromDom(t.document))},us=function(e){var t=e.dom().body;if(null===t||void 0===t)throw new Error("Body is not available yet");return Ur.fromDom(t)},ss=function(e,n,r){if(!xe(r))throw t.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);Ku(e)&&e.style.setProperty(n,r)},cs=function(e,t){Ku(e)&&e.style.removeProperty(t)},ls=function(e,t,n){var r=e.dom();ss(r,t,n)},fs=function(e,t){var n=e.dom();kt(t,function(e,t){ss(n,t,e)})},ds=function(e,t){var n=e.dom();kt(t,function(e,t){e.fold(function(){cs(n,t)},function(e){ss(n,t,e)})})},ps=function(e,n){var r=e.dom(),o=t.window.getComputedStyle(r),i=o.getPropertyValue(n);return""!==i||is(e)?i:ms(r,n)},ms=function(e,t){return Ku(e)?e.style.getPropertyValue(t):""},hs=function(e,t){var n=e.dom(),r=ms(n,t);return ve.from(r).filter(function(e){return e.length>0})},gs=function(e){var t={},n=e.dom();if(Ku(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t},vs=function(e,t,n){var r=Ur.fromTag(e);return ls(r,t,n),hs(r,t).isSome()},bs=function(e,t){var n=e.dom();cs(n,t),Ia(e,"style").map(fo).is("")&&Pa(e,"style")},ys=function(e){return e.dom().offsetWidth},ws=function(e){return e.dom().value},xs=function(e,t){if(void 0===t)throw new Error("Value.set was undefined");e.dom().value=t},Cs=function(e){var t=Ur.fromTag(e.tag);Da(t,e.attributes),Gu(t,e.classes),fs(t,e.styles),e.innerHtml.each(function(e){return Ea(t,e)});var n=e.domChildren;return xa(t,n),e.value.each(function(e){xs(t,e)}),e.uid,Ya(t,e.uid),t},_s=function(e){var t=Rt(e,"behaviours").getOr({}),n=qe(_t(t),function(e){return void 0!==t[e]});return Fe(n,function(e){return t[e].me})},Ss=function(e,t){return du(e,t)},ks=function(e){var t=_s(e);return Ss(e,t)},Ts=function(e,t,n){var r=Iu(e),o=Ru(e),i={"alloy.base.modification":o},a=t.length>0?bu(n,i,t,r):o;return vu(r,a)},Es=function(e,t,n){var r={"alloy.base.behaviour":Pu(e)};return Eu(n,e.eventOrder,t,r).getOrDie()},Os=function(e){var t=function(){return b},n=Lr(tu),r=Yn(Mu(e)),o=ks(e),i=pu(o),a=mu(o),u=Ts(r,i,a),s=Cs(u),c=Es(r,i,a),l=Lr(r.components),f=function(e){n.set(e)},d=function(){n.set(eu(t))},p=function(){var e=da(s),t=Je(e,function(e){return n.get().getByDom(e).fold(function(){return[]},function(e){return[e]})});l.set(t)},m=function(t){var n=a;return(Oe(n[t.name()])?n[t.name()]:function(){throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))})()},h=function(e){return Oe(a[e.name()])},g=function(){return r.apis},v=function(e){return a[e]().map(function(e){return e.state.readState()}).getOr("not enabled")},b={getSystem:n.get,config:m,hasConfigured:h,spec:ie(e),readState:v,getApis:g,connect:f,disconnect:d,element:ie(s),syncComponents:p,components:l.get,events:ie(c)};return b},Ns=function(e){var t=Rt(e,"components").getOr([]);return Fe(t,Rs)},As=function(e){var t=Za(e),n=t.events,o=r(t,["events"]),i=Ns(o),a=de(de({},o),{events:de(de({},Ua),n),components:i});return lt.value(Os(a))},Ds=function(e){var t=Ur.fromText(e);return Ms({element:t})},Ms=function(e){var t=Jn("external.component",In([lr("element"),wr("uid")]),e),n=Lr(eu()),r=function(e){n.set(e)},o=function(){n.set(eu(function(){return i}))};t.uid.each(function(e){Ya(t.element,e)});var i={getSystem:n.get,config:ve.none,hasConfigured:ie(!1),connect:r,disconnect:o,getApis:function(){return{}},element:ie(t.element),spec:ie(e),readState:ie("No state"),syncComponents:te,components:ie([]),events:ie({})};return uu(i)},Is=Qa,Rs=function(e){return su(e).fold(function(){var t=e.hasOwnProperty("uid")?e:de({uid:Is("")},e);return As(t).getOrDie()},function(e){return e})},Ps=uu,Ls=i("height",function(e){var t=e.dom();return is(e)?t.getBoundingClientRect().height:t.offsetHeight}),js=function(e){return Ls.get(e)},Bs=function(e){return Ls.getOuter(e)},zs=function(e,t){var n=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],r=Ls.max(e,t,n);ls(e,"max-height",r+"px")},Fs=function(e,t){var n=function(n,r){return Fs(e+n,t+r)};return{left:ie(e),top:ie(t),translate:n}},Hs=Fs,Us=function(e){var t=e.getBoundingClientRect();return Hs(t.left,t.top)},Vs=function(e,t){return void 0!==e?e:void 0!==t?t:0},qs=function(e){var t=e.dom().ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom())return Hs(n.offsetLeft,n.offsetTop);var i=Vs(r.pageYOffset,o.scrollTop),a=Vs(r.pageXOffset,o.scrollLeft),u=Vs(o.clientTop,n.clientTop),s=Vs(o.clientLeft,n.clientLeft);return Ws(e).translate(a-s,i-u)},Ws=function(e){var t=e.dom(),n=t.ownerDocument,r=n.body;return r===t?Hs(r.offsetLeft,r.offsetTop):is(e)?Us(t):Hs(0,0)},$s=i("width",function(e){return e.dom().offsetWidth}),Gs=function(e,t){return $s.set(e,t)},Xs=function(e){return $s.get(e)},Ks=function(e){return $s.getOuter(e)},Ys=function(e,t){var n=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],r=$s.max(e,t,n);ls(e,"max-width",r+"px")},Js=function(e,t,n,r,o,i,a){return{target:ie(e),x:ie(t),y:ie(n),stop:r,prevent:o,kill:i,raw:ie(a)}},Qs=function(e){var t=Ur.fromDom(rs(e).getOr(e.target)),n=function(){return e.stopPropagation()},r=function(){return e.preventDefault()},o=re(r,n);return Js(t,e.clientX,e.clientY,n,r,o,e)},Zs=function(e,t){return function(n){e(n)&&t(Qs(n))}},ec=function(e,t,r,o,i){var a=Zs(r,o);return e.dom().addEventListener(t,a,i),{unbind:n(rc,e,t,a,i)}},tc=function(e,t,n,r){return ec(e,t,n,r,!1)},nc=function(e,t,n,r){return ec(e,t,n,r,!0)},rc=function(e,t,n,r){e.dom().removeEventListener(t,n,r)},oc=function(e){var n=void 0!==e?e.dom():t.document,r=n.body.scrollLeft||n.documentElement.scrollLeft,o=n.body.scrollTop||n.documentElement.scrollTop;return Hs(r,o)},ic=function(e,n,r){(void 0!==r?r.dom():t.document).defaultView.scrollTo(e,n)},ac=function(e){var n=void 0===e?t.window:e;return ve.from(n.visualViewport)},uc=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},sc=function(e){var n=void 0===e?t.window:e,r=n.document,o=oc(Ur.fromDom(r));return ac(n).fold(function(){var e=n.document.documentElement,t=e.clientWidth,r=e.clientHeight;return uc(o.left(),o.top(),t,r)},function(e){return uc(Math.max(e.pageLeft,o.left()),Math.max(e.pageTop,o.top()),e.width,e.height)})},cc=function(e,t){return e.view(t).fold(ie([]),function(t){var n=e.owner(t);return[t].concat(cc(e,n))})},lc=function(e,t){var n=t.owner(e),r=cc(t,n);return ve.some(r)},fc=function(e){return(e.dom()===t.document?ve.none():ve.from(e.dom().defaultView.frameElement)).map(Ur.fromDom)},dc=function(e){return ia(e)},pc=Object.freeze({__proto__:null,view:fc,owner:dc}),mc=function(e){var r=Ur.fromDom(t.document),o=oc(r);return lc(e,pc).fold(n(qs,e),function(t){var n=Ws(e),r=We(t,function(e,t){var n=Ws(t);return{left:e.left+n.left(),top:e.top+n.top()}},{left:0,top:0});return Hs(r.left+n.left()+o.left(),r.top+n.top()+o.top())})},hc=function(e,t,n){return{point:e,width:t,height:n}},gc=function(e,t,n,r){return{x:e,y:t,width:n,height:r}},vc=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},bc=function(e){var t=qs(e),n=Ks(e),r=Bs(e);return vc(t.left(),t.top(),n,r)},yc=function(e){var t=mc(e),n=Ks(e),r=Bs(e);return vc(t.left(),t.top(),n,r)},wc=function(){return sc(t.window)},xc=function(e,t,n){for(var r=e.dom(),o=Oe(n)?n:ie(!1);r.parentNode;){r=r.parentNode;var i=Ur.fromDom(r);if(t(i))return ve.some(i);if(o(i))break}return ve.none()},Cc=function(e,t,n){return a(function(e,t){return t(e)},xc,e,t,n)},_c=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){var o=Ur.fromDom(e.childNodes[r]);if(t(o))return ve.some(o);var i=n(e.childNodes[r]);if(i.isSome())return i}return ve.none()};return n(e.dom())},Sc=function(e,t,n){return Cc(e,t,n).isSome()},kc=function(e,t,n){return xc(e,function(e){return _o(e,t)},n)},Tc=function(e,t){return To(t,e)},Ec=function(e,t,n){return a(function(e,t){return _o(e,t)},kc,e,t,n)},Oc=function(e){return Cc(e,function(e){if(!ta(e))return!1;var t=Ma(e,"id");return void 0!==t&&t.indexOf("aria-owns")>-1}).bind(function(e){var t=Ma(e,"id"),n=ia(e);return Tc(n,'[aria-owns="'+t+'"]')})},Nc=function(){var e=qa("aria-owns");return{id:e,link:function(t){Aa(t,"aria-owns",e)},unlink:function(e){Pa(e,"aria-owns")}}},Ac=function(e,t){return Oc(t).exists(function(t){return Dc(e,t)})},Dc=function(e,t){return Sc(t,function(t){return Eo(t,e.element())},ie(!1))||Ac(e,t)};!function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"}(ft||(ft={}));var Mc,Ic=Lr({}),Rc=function(e,n){var r=[],o=(new Date).getTime();return{logEventCut:function(e,t,n){r.push({outcome:"cut",target:t,purpose:n})},logEventStopped:function(e,t,n){r.push({outcome:"stopped",target:t,purpose:n})},logNoParent:function(e,t,n){r.push({outcome:"no-parent",target:t,purpose:n})},logEventNoHandlers:function(e,t){r.push({outcome:"no-handlers-left",target:t})},logEventResponse:function(e,t,n){r.push({outcome:"response",purpose:n,target:t})},write:function(){var i=(new Date).getTime();Le(["mousemove","mouseover","mouseout",hi()],e)||t.console.log(e,{event:e,time:i-o,target:n.dom(),sequence:Fe(r,function(e){return Le(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+za(e.target)+")":e.outcome})})}}},Pc=function(e,t,n){switch(Rt(Ic.get(),e).orThunk(function(){var t=_t(Ic.get());return at(t,function(t){return e.indexOf(t)>-1?ve.some(Ic.get()[t]):ve.none()})}).getOr(ft.NORMAL)){case ft.NORMAL:return n(Fc());case ft.LOGGING:var r=Rc(e,t),o=n(r);return r.write(),o;case ft.STOP:return!0}},Lc=["alloy/data/Fields","alloy/debugging/Debugging"],jc=function(){var e=new Error;if(void 0!==e.stack){var t=e.stack.split("\n");return Xe(t,function(e){return e.indexOf("alloy")>0&&!je(Lc,function(t){return e.indexOf(t)>-1})}).getOr("unknown")}return"unknown"},Bc={logEventCut:te,logEventStopped:te,logNoParent:te,logEventNoHandlers:te,logEventResponse:te,write:te},zc=function(e,t,n){return Pc(e,t,n)},Fc=ie(Bc),Hc=ie([lr("menu"),lr("selectedMenu")]),Uc=ie([lr("item"),lr("selectedItem")]),Vc=(ie(Rn(Uc().concat(Hc()))),ie(Rn(Uc()))),qc=vr("initSize",[lr("numColumns"),lr("numRows")]),Wc=function(){return vr("markers",[lr("backgroundMenu")].concat(Hc()).concat(Uc()))},$c=function(e){return vr("markers",Fe(e,lr))},Gc=function(e,t,n){jc();return Fn(t,t,n,$n(function(e){return lt.value(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(void 0,t)})}))},Xc=function(e){return Gc(0,e,Gt(te))},Kc=function(e){return Gc(0,e,Gt(ve.none))},Yc=function(e){return Gc(0,e,Kt())},Jc=function(e){return Gc(0,e,Kt())},Qc=function(e,t){return Pr(e,ie(t))},Zc=function(e){return Pr(e,ae)},el=ie(qc),tl=function(e,t,n,r,o,i){return{x:ie(e),y:ie(t),bubble:ie(n),direction:ie(r),boundsRestriction:ie(o),label:ie(i)}},nl=Bt.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),rl=function(e,t,n,r,o,i,a,u,s){return e.fold(t,n,r,o,i,a,u,s)},ol=function(e,t,n,r){return e.fold(t,t,r,r,t,r,n,n)},il=function(e,t,n,r){return e.fold(t,r,t,r,n,n,t,r)},al=nl.southeast,ul=nl.southwest,sl=nl.northeast,cl=nl.northwest,ll=nl.south,fl=nl.north,dl=nl.east,pl=nl.west,ml=function(e,t){switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}},hl=function(e,t){return tt(["left","right","top","bottom"],function(n){return Rt(t,n).map(function(t){return ml(e,t)})})},gl=function(e,t,n){var r=function(e,r){var o="top"===e||"bottom"===e?n.top():n.left();return Rt(t,e).bind(ae).bind(function(t){return"left"===e||"top"===e?t>=r?ve.some(t):ve.none():t<=r?ve.some(t):ve.none()}).map(function(e){return e+o}).getOr(r)},o=r("left",e.x),i=r("top",e.y),a=r("right",e.right),u=r("bottom",e.bottom);return vc(o,i,a-o,u-i)},vl=function(e){return e.x},bl=function(e,t){return e.x+e.width/2-t.width/2},yl=function(e,t){return e.x+e.width-t.width},wl=function(e,t){return e.y-t.height},xl=function(e){return e.y+e.height},Cl=function(e,t){return e.y+e.height/2-t.height/2},_l=function(e){return e.x+e.width},Sl=function(e,t){return e.x-t.width},kl=function(e,t,n){return tl(vl(e),xl(e),n.southeast(),al(),hl(e,{left:1,top:3}),"layout-se")},Tl=function(e,t,n){return tl(yl(e,t),xl(e),n.southwest(),ul(),hl(e,{right:0,top:3}),"layout-sw")},El=function(e,t,n){return tl(vl(e),wl(e,t),n.northeast(),sl(),hl(e,{left:1,bottom:2}),"layout-ne")},Ol=function(e,t,n){return tl(yl(e,t),wl(e,t),n.northwest(),cl(),hl(e,{right:0,bottom:2}),"layout-nw")},Nl=function(e,t,n){return tl(bl(e,t),wl(e,t),n.north(),fl(),hl(e,{bottom:2}),"layout-n")},Al=function(e,t,n){return tl(bl(e,t),xl(e),n.south(),ll(),hl(e,{top:3}),"layout-s")},Dl=function(e,t,n){return tl(_l(e),Cl(e,t),n.east(),dl(),hl(e,{left:0}),"layout-e")},Ml=function(e,t,n){return tl(Sl(e,t),Cl(e,t),n.west(),pl(),hl(e,{right:1}),"layout-w")},Il=function(){return[kl,Tl,El,Ol,Al,Nl,Dl,Ml]},Rl=function(){return[Tl,kl,Ol,El,Al,Nl,Dl,Ml]},Pl=function(){return[El,Ol,kl,Tl,Nl,Al]},Ll=function(){return[Ol,El,Tl,kl,Nl,Al]},jl=function(){return[kl,Tl,El,Ol,Al,Nl]},Bl=function(){return[Tl,kl,Ol,El,Al,Nl]},zl=function(e,t,n){return Ji(function(r){n(r,e,t)})},Fl=function(e,t,n){return Yi(function(r,o){n(r,e,t)})},Hl=function(e,t,n,r,o,i){var a=In(e),u=kr(t,[Tr("config",e)]);return Wl(a,u,t,n,r,o,i)},Ul=function(e,t,n,r,o,i){var a=e,u=kr(t,[xr("config",e)]);return Wl(a,u,t,n,r,o,i)},Vl=function(e,t,n){return nu(function(r){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var a=[r].concat(o);return r.config({name:ie(e)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)},function(e){var n=Array.prototype.slice.call(a,1);return t.apply(void 0,[r,e.config,e.state].concat(n))})},n,t)},ql=function(e){return{key:e,value:void 0}},Wl=function(e,t,r,o,i,a,u){var s=function(e){return Lt(e,r)?e[r]():ve.none()},c=Tt(i,function(e,t){return Vl(r,e,t)}),l=Tt(a,function(e,t){return ou(e,t)}),f=de(de(de({},l),c),{revoke:n(ql,r),config:function(t){var n=Jn(r+"-config",e,t);return{key:r,value:{config:n,me:f,configAsRaw:Wt(function(){return Jn(r+"-config",e,t)}),initialConfig:t,state:u}}},schema:function(){return t},exhibit:function(e,t){return s(e).bind(function(e){return Rt(o,"exhibit").map(function(n){return n(t,e.config,e.state)})}).getOr(gu({}))},name:function(){return r},handlers:function(e){return s(e).map(function(e){return Rt(o,"events").getOr(function(){return{}})(e.config,e.state)}).getOr({})}});return f},$l=function(e){return an(e)},Gl=In([lr("fields"),lr("name"),Er("active",{}),Er("apis",{}),Er("state",lu),Er("extra",{})]),Xl=function(e){var t=Jn("Creating behaviour: "+e.name,Gl,e);return Hl(t.fields,t.name,t.active,t.apis,t.extra,t.state)},Kl=In([lr("branchKey"),lr("branches"),lr("name"),Er("active",{}),Er("apis",{}),Er("state",lu),Er("extra",{})]),Yl=function(e){var t=Jn("Creating behaviour: "+e.name,Kl,e);return Ul(er(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},Jl=ie(void 0),Ql=function(e,t){return t.universal()?e:qe(e,function(e){return Le(t.channels(),e)})},Zl=function(e){return Li([zi(si(),function(t,n){var r=e.channels,o=_t(r),i=n,a=Ql(o,i);He(a,function(e){var n=r[e],o=n.schema,a=Jn("channel["+e+"] data\nReceiver: "+za(t.element()),o,i.data());n.onReceive(t,a)})})])},ef=Object.freeze({__proto__:null,events:Zl}),tf=[fr("channels",Gn(lt.value,In([Yc("onReceive"),Er("schema",tr())])))],nf=Xl({fields:tf,name:"receiving",active:ef}),rf=function(e,t){return gu({classes:[],styles:t.useFixed()?{}:{position:"relative"}})},of=Object.freeze({__proto__:null,exhibit:rf}),af=function(){return Ur.fromDom(t.document)},uf=function(e){return e.dom().focus()},sf=function(e){return e.dom().blur()},cf=function(e){var t=Zu(e).dom();return e.dom()===t.activeElement},lf=function(e){return void 0===e&&(e=af()),ve.from(e.dom().activeElement).map(Ur.fromDom)},ff=function(e){return lf(Zu(e)).filter(function(t){return e.dom().contains(t.dom())})},df=function(e,t){var n=ia(t),r=lf(n).bind(function(e){var n=function(t){return Eo(e,t)};return n(t)?ve.some(t):_c(t,n)}),o=e(t);return r.each(function(e){lf(n).filter(function(t){return Eo(t,e)}).fold(function(){uf(e)},te)}),o},pf=function(e,t,n,r,o){return{position:ie(e),left:ie(t),top:ie(n),right:ie(r),bottom:ie(o)}},mf=function(e,t){var n=function(e){return e+"px"};ds(e,{position:ve.some(t.position()),left:t.left().map(n),top:t.top().map(n),right:t.right().map(n),bottom:t.bottom().map(n)})},hf=Bt.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),gf=function(e,t,n,r,o,i){var a=t.x-n,u=t.y-r,s=t.width,c=t.height,l=o-(a+s),f=i-(u+c),d=ve.some(a),p=ve.some(u),m=ve.some(l),h=ve.some(f),g=ve.none();return rl(t.direction,function(){return pf(e,d,p,g,g)},function(){return pf(e,g,p,m,g)},function(){return pf(e,d,g,g,h)},function(){return pf(e,g,g,m,h)},function(){return pf(e,d,p,g,g)},function(){return pf(e,d,g,g,h)},function(){return pf(e,d,p,g,g)},function(){return pf(e,g,p,m,g)})},vf=function(e,t){return e.fold(function(){return pf("absolute",ve.some(t.x),ve.some(t.y),ve.none(),ve.none())},function(e,n,r,o){return gf("absolute",t,e,n,r,o)},function(e,n,r,o){return gf("fixed",t,e,n,r,o)})},bf=function(e,t){var r=n(mc,t),o=e.fold(r,r,function(){var e=oc();return mc(t).translate(-e.left(),-e.top())}),i=Ks(t),a=Bs(t);return vc(o.left(),o.top(),i,a)},yf=function(e,t){return t.fold(function(){return e.fold(wc,wc,vc)},function(t){return e.fold(t,t,function(){var n=t(),r=wf(e,n.x,n.y);return vc(r.left(),r.top(),n.width,n.height)})})},wf=function(e,t,n){var r=Hs(t,n),o=function(){var e=oc();return r.translate(-e.left(),-e.top())};return e.fold(ie(r),ie(r),o)},xf=function(e,t,n,r){return e.fold(t,n,r)},Cf=(hf.none,hf.relative),_f=hf.fixed,Sf=function(e,t){return{anchorBox:ie(e),origin:ie(t)}},kf=function(e,t){return Sf(e,t)},Tf=function(e,t,n,r){var o=e+t;return o>r?n:o<n?r:o},Ef=function(e,t,n){return Math.min(Math.max(e,t),n)},Of=Bt.generate([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}]),Nf=function(e,t,n,r,o){var i=o.x,a=o.y,u=o.width,s=o.height,c=e>=i,l=t>=a,f=c&&l,d=e+n<=i+u,p=t+r<=a+s,m=d&&p,h=Math.abs(Math.min(n,c?i+u-e:i-(e+n))),g=Math.abs(Math.min(r,l?a+s-t:a-(t+r))),v=Math.max(o.x,o.right-n),b=Math.max(o.y,o.bottom-r);return{originInBounds:f,sizeInBounds:m,limitX:Ef(e,o.x,v),limitY:Ef(t,o.y,b),deltaW:h,deltaH:g}},Af=function(e,t,n,r){var o=e.x(),i=e.y(),a=e.bubble().offset(),u=a.left(),s=a.top(),c=gl(r,e.boundsRestriction(),a),l=c.y,f=c.bottom,d=c.x,p=c.right,m=o+u,h=i+s,g=Nf(m,h,t,n,c),v=g.originInBounds,b=g.sizeInBounds,y=g.limitX,w=g.limitY,x=g.deltaW,C=g.deltaH,_=ie(w+C-l),S=ie(f-w),k=ol(e.direction(),S,S,_),T=ie(y+x-d),E=ie(p-y),O=il(e.direction(),E,E,T),N={x:y,y:w,width:x,height:C,maxHeight:k,maxWidth:O,direction:e.direction(),classes:{on:e.bubble().classesOn(),off:e.bubble().classesOff()},label:e.label(),candidateYforTest:h};return v&&b?Of.fit(N):Of.nofit(N,x,C)},Df=function(e,t,r,o,i){var a=r.width,u=r.height,s=function(e,n,s,c){var l=e(t,r,o);return Af(l,a,u,i).fold(Of.fit,function(e,t,r){return r>c||t>s?Of.nofit(e,t,r):Of.nofit(n,s,c)})};return $e(e,function(e,t){var r=n(s,t);return e.fold(Of.fit,r)},Of.nofit({x:t.x,y:t.y,width:r.width,height:r.height,maxHeight:r.height,maxWidth:r.width,direction:al(),classes:{on:[],off:[]},label:"none",candidateYforTest:t.y},-1,-1)).fold(ae,ae)},Mf=function(e){return{width:Ks(e),height:Bs(e)}},If=function(e,t,n,r){bs(t,"max-height"),bs(t,"max-width");var o=Mf(t);return Df(r.preference,e,o,n,r.bounds)},Rf=function(e,t){var n=t.classes;Xu(e,n.off),Gu(e,n.on)},Pf=function(e,t,n){(0,n.maxHeightFunction)(e,t.maxHeight)},Lf=function(e,t,n){(0,n.maxWidthFunction)(e,t.maxWidth)},jf=function(e,t,n){mf(e,vf(n.origin,t))},Bf=function(e,t){zs(e,Math.floor(t))},zf=ie(function(e,t){Bf(e,t),fs(e,{"overflow-x":"hidden","overflow-y":"auto"})}),Ff=ie(function(e,t){Bf(e,t)}),Hf=function(e,t,n){return void 0===e[t]?n:e[t]},Uf=function(e,t,n,r,o,i){var a=Hf(i,"maxHeightFunction",zf()),u=Hf(i,"maxWidthFunction",te),s=e.anchorBox(),c=e.origin(),l={bounds:yf(c,o),origin:c,preference:r,maxHeightFunction:a,maxWidthFunction:u};Vf(s,t,n,l)},Vf=function(e,t,n,r){var o=If(e,t,n,r);jf(t,o,r),Rf(t,o),Pf(t,o,r),Lf(t,o,r)},qf=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"],Wf=function(e,t,n){var r=function(e){return Rt(n,e).getOr([])},o=function(e,t,n){var o=et(qf,n);return{offset:function(){return Hs(e,t)},classesOn:function(){return Je(n,r)},classesOff:function(){return Je(o,r)}}};return{southeast:function(){return o(-e,t,["top","alignLeft"])},southwest:function(){return o(e,t,["top","alignRight"])},south:function(){return o(-e/2,t,["top","alignCentre"])},northeast:function(){return o(-e,-t,["bottom","alignLeft"])},northwest:function(){return o(e,-t,["bottom","alignRight"])},north:function(){return o(-e/2,-t,["bottom","alignCentre"])},east:function(){return o(e,-t/2,["valignCentre","left"])},west:function(){return o(-e,-t/2,["valignCentre","right"])},innerNorthwest:function(){return o(-e,t,["top","alignRight"])},innerNortheast:function(){return o(e,t,["top","alignLeft"])},innerNorth:function(){return o(-e/2,t,["top","alignCentre"])},innerSouthwest:function(){return o(-e,-t,["bottom","alignRight"])},innerSoutheast:function(){return o(e,-t,["bottom","alignLeft"])},innerSouth:function(){return o(-e/2,-t,["bottom","alignCentre"])},innerWest:function(){return o(e,-t/2,["valignCentre","right"])},innerEast:function(){return o(-e,-t/2,["valignCentre","left"])}}},$f=function(){return Wf(0,0,{})},Gf=function(e){return e},Xf=function(e,t){return function(n){return"rtl"===Kf(n)?t:e}},Kf=function(e){return"rtl"===ps(e,"direction")?"rtl":"ltr"};!function(e){e.TopToBottom="toptobottom",e.BottomToTop="bottomtotop"}(Mc||(Mc={}));var Yf,Jf="data-alloy-vertical-dir",Qf=function(e){return Sc(e,function(e){return ta(e)&&Ma(e,Jf)===Mc.BottomToTop})},Zf=function(){return kr("layouts",[lr("onLtr"),lr("onRtl"),wr("onBottomLtr"),wr("onBottomRtl")])},ed=function(e,t,n,r,o,i,a){var u=a.map(Qf).getOr(!1),s=t.layouts.map(function(t){return t.onLtr(e)}),c=t.layouts.map(function(t){return t.onRtl(e)}),l=u?t.layouts.bind(function(t){return t.onBottomLtr.map(function(t){return t(e)})}).or(s).getOr(o):s.getOr(n),f=u?t.layouts.bind(function(t){return t.onBottomRtl.map(function(t){return t(e)})}).or(c).getOr(i):c.getOr(r);return Xf(l,f)(e)},td=function(e,t,n){var r=t.hotspot,o=bf(n,r.element()),i=ed(e.element(),t,jl(),Bl(),Pl(),Ll(),ve.some(t.hotspot.element()));return ve.some(Gf({anchorBox:o,bubble:t.bubble.getOr($f()),overrides:t.overrides,layouts:i,placer:ve.none()}))},nd=[lr("hotspot"),wr("bubble"),Er("overrides",{}),Zf(),Qc("placement",td)],rd=function(e,t,n){var r=wf(n,t.x,t.y),o=vc(r.left(),r.top(),t.width,t.height),i=ed(e.element(),t,Il(),Rl(),Il(),Rl(),ve.none());return ve.some(Gf({anchorBox:o,bubble:t.bubble,overrides:t.overrides,layouts:i,placer:ve.none()}))},od=[lr("x"),lr("y"),Er("height",0),Er("width",0),Er("bubble",$f()),Er("overrides",{}),Zf(),Qc("placement",rd)],id=function(e,t,n,r){return{start:ie(e),soffset:ie(t),finish:ie(n),foffset:ie(r)}},ad={create:id},ud=Bt.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),sd=function(e,t,n,r){return e.fold(t,n,r)},cd=function(e){return e.fold(ae,ae,ae)},ld=ud.before,fd=ud.on,dd=ud.after,pd={before:ld,on:fd,after:dd,cata:sd,getStart:cd},md=Bt.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),hd=function(e){return md.exact(e.start(),e.soffset(),e.finish(),e.foffset())},gd=function(e){return e.match({domRange:function(e){return Ur.fromDom(e.startContainer)},relative:function(e,t){return pd.getStart(e)},exact:function(e,t,n,r){return e}})},vd=md.domRange,bd=md.relative,yd=md.exact,wd=function(e){var t=gd(e);return sa(t)},xd=ad.create,Cd={domRange:vd,relative:bd,exact:yd,exactFromRange:hd,getWin:wd,range:xd},_d=function(e,t){t.fold(function(t){e.setStartBefore(t.dom())},function(t,n){e.setStart(t.dom(),n)},function(t){e.setStartAfter(t.dom())})},Sd=function(e,t){t.fold(function(t){e.setEndBefore(t.dom())},function(t,n){e.setEnd(t.dom(),n)},function(t){e.setEndAfter(t.dom())})},kd=function(e,t,n){var r=e.document.createRange();return _d(r,t),Sd(r,n),r},Td=function(e,t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},Ed=function(e){return{left:ie(e.left),top:ie(e.top),right:ie(e.right),bottom:ie(e.bottom),width:ie(e.width),height:ie(e.height)}},Od=function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?ve.some(n).map(Ed):ve.none()},Nd=Bt.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ad=function(e,t,n){return t(Ur.fromDom(n.startContainer),n.startOffset,Ur.fromDom(n.endContainer),n.endOffset)},Dd=function(e,t){return t.match({domRange:function(e){return{ltr:ie(e),rtl:ve.none}},relative:function(t,n){return{ltr:Wt(function(){return kd(e,t,n)}),rtl:Wt(function(){return ve.some(kd(e,n,t))})}},exact:function(t,n,r,o){return{ltr:Wt(function(){return Td(e,t,n,r,o)}),rtl:Wt(function(){return ve.some(Td(e,r,o,t,n))})}}})},Md=function(e,t){var n=t.ltr();if(n.collapsed){return t.rtl().filter(function(e){return!1===e.collapsed}).map(function(e){return Nd.rtl(Ur.fromDom(e.endContainer),e.endOffset,Ur.fromDom(e.startContainer),e.startOffset)}).getOrThunk(function(){return Ad(0,Nd.ltr,n)})}return Ad(0,Nd.ltr,n)},Id=function(e,t){var n=Dd(e,t);return Md(0,n)},Rd=function(e,t){return Id(e,t).match({ltr:function(t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},rtl:function(t,n,r,o){var i=e.document.createRange();return i.setStart(r.dom(),o),i.setEnd(t.dom(),n),i}})},Pd=(Nd.ltr,Nd.rtl,function(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?ve.from(t.dom().nodeValue):ve.none()};return{get:n,getOption:r,set:function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r}}}(na,"text")),Ld=function(e){return Pd.get(e)},jd=function(e){return Pd.getOption(e)},Bd=function(e){return"img"===Qi(e)?1:jd(e).fold(function(){return da(e).length},function(e){return e.length})},zd=function(e){return jd(e).filter(function(e){return 0!==e.trim().length||e.indexOf(" ")>-1}).isSome()},Fd=["img","br"],Hd=function(e){return zd(e)||Le(Fd,Qi(e))},Ud=function(e){return Vd(e,Hd)},Vd=function(e,t){var n=function(e){for(var r=da(e),o=r.length-1;o>=0;o--){var i=r[o];if(t(i))return ve.some(i);var a=n(i);if(a.isSome())return a}return ve.none()};return n(e)},qd=function(e,t){return ko(t,e)},Wd=function(e,t,n,r){var o=ia(e),i=o.dom().createRange();return i.setStart(e.dom(),t),i.setEnd(n.dom(),r),i},$d=function(e,t,n,r){var o=Wd(e,t,n,r),i=Eo(e,n)&&t===r;return o.collapsed&&!i},Gd=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return ve.some(ad.create(Ur.fromDom(t.startContainer),t.startOffset,Ur.fromDom(n.endContainer),n.endOffset))}return ve.none()},Xd=function(e){var t=Ur.fromDom(e.anchorNode),n=Ur.fromDom(e.focusNode);return $d(t,e.anchorOffset,n,e.focusOffset)?ve.some(ad.create(t,e.anchorOffset,n,e.focusOffset)):Gd(e)},Kd=function(e){return ve.from(e.getSelection()).filter(function(e){return e.rangeCount>0}).bind(Xd)},Yd=function(e,t){var n=Rd(e,t);return Od(n)},Jd=function(e,t){return{element:e,offset:t}},Qd=function(e,t){var n=da(e);if(0===n.length)return Jd(e,t);if(t<n.length)return Jd(n[t],0);var r=n[n.length-1],o=na(r)?Ld(r).length:da(r).length;return Jd(r,o)},Zd=Bt.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),ep=function(e){return e.fold(ae,function(e,t,n){return e.translate(-t,-n)})},tp=function(e){return e.fold(ae,ae)},np=function(e){return $e(e,function(e,t){return e.translate(t.left(),t.top())},Hs(0,0))},rp=function(e){var t=Fe(e,ep);return np(t)},op=function(e){var t=Fe(e,tp);return np(t)},ip=Zd.screen,ap=Zd.absolute,up=function(e,t,n){var r=sa(n.root).dom(),o=function(t){var n=ia(t),r=ia(e.element());return Eo(n,r)};return ve.from(r.frameElement).map(Ur.fromDom).filter(o).map(qs)},sp=function(e,t,n){var r=ia(e.element()),o=oc(r),i=up(e,0,n).getOr(o);return ap(i,o.left(),o.top())},cp=function(e,t,n,r){var o=e,i=t,a=n,u=r;e<0&&(o=0,a=n+e),t<0&&(i=0,u=r+t);var s=ip(Hs(o,i));return ve.some(hc(s,a,u))},lp=function(e,t,n,r,o){return e.map(function(e){var i=[t,e.point],a=xf(r,function(){return op(i)},function(){return op(i)},function(){return rp(i)}),u=gc(a.left(),a.top(),e.width,e.height),s=n.showAbove?Pl():jl(),c=(n.showAbove,Bl()),l=ed(o,n,s,c,s,c,ve.none());return Gf({anchorBox:u,bubble:n.bubble.getOr($f()),overrides:n.overrides,layouts:l,placer:ve.none()})})},fp=function(e,t){return{element:e,offset:t}},dp=function(e,t){return na(e)?fp(e,t):Qd(e,t)},pp=function(e,t){return t.getSelection.getOrThunk(function(){return function(){return Kd(e)}})().map(function(e){var t=dp(e.start(),e.soffset()),n=dp(e.finish(),e.foffset());return Cd.range(t.element,t.offset,n.element,n.offset)})},mp=function(e,t,n){var r=sa(t.root).dom(),o=sp(e,0,t),i=pp(r,t).bind(function(e){return Yd(r,Cd.exactFromRange(e)).orThunk(function(){var t=Ur.fromText("\ufeff");return ha(e.start(),t),Yd(r,Cd.exact(t,0,t,1)).map(function(e){return _a(t),e})}).bind(function(e){return cp(e.left(),e.top(),e.width(),e.height())})}),a=pp(r,t).bind(function(e){return ta(e.start())?ve.some(e.start()):ca(e.start())}),u=a.getOr(e.element());return lp(i,o,t,n,u)},hp=[wr("getSelection"),lr("root"),wr("bubble"),Zf(),Er("overrides",{}),Er("showAbove",!1),Qc("placement",mp)],gp=function(e,t,n){var r=sp(e,0,t);return t.node.bind(function(o){var i=o.dom().getBoundingClientRect(),a=cp(i.left,i.top,i.width,i.height),u=t.node.getOr(e.element());return lp(a,r,t,n,u)})},vp=[lr("node"),lr("root"),wr("bubble"),Zf(),Er("overrides",{}),Er("showAbove",!1),Qc("placement",gp)],bp=function(e){return e.x+e.width},yp=function(e,t){return e.x-t.width},wp=function(e,t){return e.y-t.height+e.height},xp=function(e){return e.y},Cp=function(e,t,n){return tl(bp(e),xp(e),n.southeast(),al(),hl(e,{left:0,top:2}),"link-layout-se")},_p=function(e,t,n){return tl(yp(e,t),xp(e),n.southwest(),ul(),hl(e,{right:1,top:2}),"link-layout-sw")},Sp=function(e,t,n){return tl(bp(e),wp(e,t),n.northeast(),sl(),hl(e,{left:0,bottom:3}),"link-layout-ne")},kp=function(e,t,n){return tl(yp(e,t),wp(e,t),n.northwest(),cl(),hl(e,{right:1,bottom:3}),"link-layout-nw")},Tp=function(){return[Cp,_p,Sp,kp]},Ep=function(){return[_p,Cp,kp,Sp]},Op=function(e,t,n){var r=bf(n,t.item.element()),o=ed(e.element(),t,Tp(),Ep(),Tp(),Ep(),ve.none());return ve.some(Gf({anchorBox:r,bubble:$f(),overrides:t.overrides,layouts:o,placer:ve.none()}))},Np=[lr("item"),Zf(),Er("overrides",{}),Qc("placement",Op)],Ap=er("anchor",{selection:hp,node:vp,hotspot:nd,submenu:Np,makeshift:od}),Dp=function(){var e=t.document.documentElement;return _f(0,0,e.clientWidth,e.clientHeight)},Mp=function(e){var t=qs(e.element()),n=e.element().dom().getBoundingClientRect();return Cf(t.left(),t.top(),n.width,n.height)},Ip=function(e,t,n,r,o){var i=kf(n.anchorBox,t);Uf(i,o.element(),n.bubble,n.layouts,r,n.overrides)},Rp=function(e,t,n,r,o){Pp(e,t,n,r,o,ve.none())},Pp=function(e,t,n,r,o,i){var a=i.map(bc);return Lp(e,t,n,r,o,a)},Lp=function(e,t,n,r,o,i){var a=Jn("positioning anchor.info",Ap,r);df(function(){ls(o.element(),"position","fixed");var n=hs(o.element(),"visibility");ls(o.element(),"visibility","hidden");var r=t.useFixed()?Dp():Mp(e),u=a.placement,s=i.map(ie).or(t.getBounds);u(e,a,r).each(function(t){t.placer.getOr(Ip)(e,r,t,s,o)}),n.fold(function(){bs(o.element(),"visibility")},function(e){ls(o.element(),"visibility",e)}),hs(o.element(),"left").isNone()&&hs(o.element(),"top").isNone()&&hs(o.element(),"right").isNone()&&hs(o.element(),"bottom").isNone()&&hs(o.element(),"position").is("fixed")&&bs(o.element(),"position")},o.element())},jp=function(e,t,n){return t.useFixed()?"fixed":"absolute"},Bp=Object.freeze({__proto__:null,position:Rp,positionWithin:Pp,positionWithinBounds:Lp,getMode:jp}),zp=[Er("useFixed",ce),wr("getBounds")],Fp=Xl({fields:zp,name:"positioning",active:of,apis:Bp}),Hp=function(e){Ai(e,xi());var t=e.components();He(t,Hp)},Up=function(e){var t=e.components();He(t,Up),Ai(e,wi())},Vp=function(e,t){ba(e.element(),t.element())},qp=function(e){He(e.components(),function(e){return _a(e.element())}),Ca(e.element()),e.syncComponents()},Wp=function(e,t){var n=e.components();qp(e);var r=et(n,t);He(r,function(t){Hp(t),e.getSystem().removeFromWorld(t)}),He(t,function(t){t.getSystem().isConnected()?Vp(e,t):(e.getSystem().addToWorld(t),Vp(e,t),is(e.element())&&Up(t)),e.syncComponents()})},$p=function(e,t){Gp(e,t,ba)},Gp=function(e,t,n){e.getSystem().addToWorld(t),n(e.element(),t.element()),is(e.element())&&Up(t),e.syncComponents()},Xp=function(e){Hp(e),_a(e.element()),e.getSystem().removeFromWorld(e)},Kp=function(e){var t=ca(e.element()).bind(function(t){return e.getSystem().getByDom(t).toOption()});Xp(e),t.each(function(e){e.syncComponents()})},Yp=function(e){var t=e.components();He(t,Xp),Ca(e.element()),e.syncComponents()},Jp=function(e,t){Zp(e,t,ba)},Qp=function(e,t){Zp(e,t,ga)},Zp=function(e,t,n){n(e,t.element());var r=da(t.element());He(r,function(e){t.getByDom(e).each(Up)})},em=function(e){var t=da(e.element());He(t,function(t){e.getByDom(t).each(Hp)}),_a(e.element())},tm=function(e,t,n,r){n.get().each(function(t){Yp(e)});var o=t.getAttachPoint(e);$p(o,e);var i=e.getSystem().build(r);return $p(e,i),n.set(i),i},nm=function(e,t,n,r){var o=tm(e,t,n,r);return t.onOpen(e,o),o},rm=function(e,t,n,r){return n.get().map(function(){return tm(e,t,n,r)})},om=function(e,t,n,r,o){fm(e,t),nm(e,t,n,r),o(),pm(e,t)},im=function(e,t,n){n.get().each(function(r){Yp(e),Kp(e),t.onClose(e,r),n.clear()})},am=function(e,t,n){return n.isOpen()},um=function(e,t,n,r){return am(0,0,n)&&n.get().exists(function(n){return t.isPartOf(e,n,r)})},sm=function(e,t,n){return n.get()},cm=function(e,t,n,r){hs(e.element(),t).fold(function(){Pa(e.element(),n)},function(t){Aa(e.element(),n,t)}),ls(e.element(),t,r)},lm=function(e,t,n){Ia(e.element(),n).fold(function(){return bs(e.element(),t)},function(n){return ls(e.element(),t,n)})},fm=function(e,t,n){var r=t.getAttachPoint(e);ls(e.element(),"position",Fp.getMode(r)),cm(e,"visibility",t.cloakVisibilityAttr,"hidden")},dm=function(e){return je(["top","left","right","bottom"],function(t){return hs(e,t).isSome()})},pm=function(e,t,n){dm(e.element())||bs(e.element(),"position"),lm(e,"visibility",t.cloakVisibilityAttr)},mm=Object.freeze({__proto__:null,cloak:fm,decloak:pm,open:nm,openWhileCloaked:om,close:im,isOpen:am,isPartOf:um,getState:sm,setContent:rm}),hm=function(e,t){return Li([zi(pi(),function(n,r){im(n,e,t)})])},gm=Object.freeze({__proto__:null,events:hm}),vm=[Xc("onOpen"),Xc("onClose"),lr("isPartOf"),lr("getAttachPoint"),Er("cloakVisibilityAttr","data-precloak-visibility")],bm=function(){var e=Lr(ve.none()),t=ie("not-implemented"),n=function(){return e.get().isSome()},r=function(t){e.set(ve.some(t))},o=function(){return e.get()};return fu({readState:t,isOpen:n,clear:function(){e.set(ve.none())},set:r,get:o})},ym=Object.freeze({__proto__:null,init:bm}),wm=Xl({fields:vm,name:"sandboxing",active:gm,apis:mm,state:ym}),xm=ie("dismiss.popups"),Cm=ie("reposition.popups"),_m=ie("mouse.released"),Sm=In([Er("isExtraPart",ie(!1)),kr("fireEventInstead",[Er("event",Ci())])]),km=function(e){var t,n=Jn("Dismissal",Sm,e);return t={},t[xm()]={schema:In([lr("target")]),onReceive:function(e,t){if(wm.isOpen(e)){wm.isPartOf(e,t.target)||n.isExtraPart(e,t.target)||n.fireEventInstead.fold(function(){return wm.close(e)},function(t){return Ai(e,t.event)})}}},t},Tm=In([kr("fireEventInstead",[Er("event",_i())]),hr("doReposition")]),Em=function(e){var t,n=Jn("Reposition",Tm,e);return t={},t[Cm()]={onReceive:function(e){wm.isOpen(e)&&n.fireEventInstead.fold(function(){return n.doReposition(e)},function(t){return Ai(e,t.event)})}},t},Om=function(e,t,n){t.store.manager.onLoad(e,t,n)},Nm=function(e,t,n){t.store.manager.onUnload(e,t,n)},Am=function(e,t,n,r){t.store.manager.setValue(e,t,n,r)},Dm=function(e,t,n){return t.store.manager.getValue(e,t,n)},Mm=function(e,t,n){return n},Im=Object.freeze({__proto__:null,onLoad:Om,onUnload:Nm,setValue:Am,getValue:Dm,getState:Mm}),Rm=function(e,t){var n=e.resetOnDom?[Xi(function(n,r){Om(n,e,t)}),Ki(function(n,r){Nm(n,e,t)})]:[Fl(e,t,Om)];return Li(n)},Pm=Object.freeze({__proto__:null,events:Rm}),Lm=function(){var e=Lr(null),t=function(){return{mode:"memory",value:e.get()}},n=function(){return null===e.get()},r=function(){e.set(null)};return fu({set:e.set,get:e.get,isNotSet:n,clear:r,readState:t})},jm=function(){return fu({readState:function(){}})},Bm=function(){var e=Lr({}),t=Lr({}),n=function(){return{mode:"dataset",dataByValue:e.get(),dataByText:t.get()}},r=function(){e.set({}),t.set({})};return fu({readState:n,lookup:function(n){return Rt(e.get(),n).orThunk(function(){return Rt(t.get(),n)})},update:function(n){var r=e.get(),o=t.get(),i={},a={};He(n,function(e){i[e.value]=e,Rt(e,"meta").each(function(t){Rt(t,"text").each(function(t){a[t]=e})})}),e.set(de(de({},r),i)),t.set(de(de({},o),a))},clear:r})},zm=function(e){return e.store.manager.state(e)},Fm=Object.freeze({__proto__:null,memory:Lm,dataset:Bm,manual:jm,init:zm}),Hm=function(e,t,n,r){var o=t.store;n.update([r]),o.setValue(e,r),t.onSetValue(e,r)},Um=function(e,t,n){var r=t.store,o=r.getDataKey(e);return n.lookup(o).fold(function(){return r.getFallbackEntry(o)},function(e){return e})},Vm=function(e,t,n){t.store.initialValue.each(function(r){Hm(e,t,n,r)})},qm=function(e,t,n){n.clear()},Wm=[wr("initialValue"),lr("getFallbackEntry"),lr("getDataKey"),lr("setValue"),Qc("manager",{setValue:Hm,getValue:Um,onLoad:Vm,onUnload:qm,state:Bm})],$m=function(e,t,n){return t.store.getValue(e)},Gm=function(e,t,n,r){t.store.setValue(e,r),t.onSetValue(e,r)},Xm=function(e,t,n){t.store.initialValue.each(function(n){t.store.setValue(e,n)})},Km=[lr("getValue"),Er("setValue",te),wr("initialValue"),Qc("manager",{setValue:Gm,getValue:$m,onLoad:Xm,onUnload:te,state:lu.init})],Ym=function(e,t,n,r){n.set(r),t.onSetValue(e,r)},Jm=function(e,t,n){return n.get()},Qm=function(e,t,n){t.store.initialValue.each(function(e){n.isNotSet()&&n.set(e)})},Zm=function(e,t,n){n.clear()},eh=[wr("initialValue"),Qc("manager",{setValue:Ym,getValue:Jm,onLoad:Qm,onUnload:Zm,state:Lm})],th=[Or("store",{mode:"memory"},er("mode",{memory:eh,manual:Km,dataset:Wm})),Xc("onSetValue"),Er("resetOnDom",!1)],nh=Xl({fields:th,name:"representing",active:Pm,apis:Im,extra:{setValueFrom:function(e,t){var n=nh.getValue(t);nh.setValue(e,n)}},state:Fm}),rh=function(e,t){return Rr(e,{},Fe(t,function(t){return gr(t.name(),"Cannot configure "+t.name()+" for "+e)}).concat([Pr("dump",ae)]))},oh=function(e){return e.dump},ih=function(e,t){return de(de({},e.dump),$l(t))},ah={field:rh,augment:ih,get:oh},uh=Bt.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),sh=function(e){return Pt(e,"uiType")},ch=function(e,t,n,r){return e.exists(function(e){return e!==n.owner})?uh.single(!0,ie(n)):Rt(r,n.name).fold(function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+_t(r)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))},function(e){return e.replace()})},lh=function(e,t,n,r){return sh(n)&&"placeholder"===n.uiType?ch(e,0,n,r):uh.single(!1,ie(n))},fh=function(e,t,n,r){return lh(e,0,n,r).fold(function(o,i){var a=sh(n)?i(t,n.config,n.validated):i(t),u=Rt(a,"components").getOr([]),s=Je(u,function(n){return fh(e,t,n,r)});return[de(de({},a),{components:s})]},function(e,r){if(sh(n)){var o=r(t,n.config,n.validated);return n.validated.preprocess.getOr(ae)(o)}return r(t)})},dh=function(e,t,n,r){return Je(n,function(n){return fh(e,t,n,r)})},ph=function(e,t){var n=!1,r=function(){return n},o=function(){if(n)throw new Error("Trying to use the same placeholder more than once: "+e);return n=!0,t},i=function(){return t.fold(function(e,t){return e},function(e,t){return e})};return{name:ie(e),required:i,used:r,replace:o}},mh=function(e,t,n,r){var o=Tt(r,function(e,t){return ph(t,e)}),i=dh(e,t,n,o);return kt(o,function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))}),i},hh=uh.single,gh=uh.multiple,vh=ie("placeholder"),bh=Bt.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),yh=Er("factory",{sketch:ae}),wh=Er("schema",[]),xh=lr("name"),Ch=Fn("pname","pname",Jt(function(e){return"<alloy."+qa(e.name)+">"}),tr()),_h=Pr("schema",function(){return[wr("preprocess")]}),Sh=Er("defaults",ie({})),kh=Er("overrides",ie({})),Th=Rn([yh,wh,xh,Ch,Sh,kh]),Eh=Rn([yh,wh,xh,Sh,kh]),Oh=Rn([yh,wh,xh,Ch,Sh,kh]),Nh=Rn([yh,_h,xh,lr("unit"),Ch,Sh,kh]),Ah=function(e){return e.fold(ve.some,ve.none,ve.some,ve.some)},Dh=function(e){var t=function(e){return e.name};return e.fold(t,t,t,t)},Mh=function(e){return e.fold(ae,ae,ae,ae)},Ih=function(e,t){return function(n){var r=Jn("Converting part type",t,n);return e(r)}},Rh=Ih(bh.required,Th),Ph=Ih(bh.external,Eh),Lh=Ih(bh.optional,Oh),jh=Ih(bh.group,Nh),Bh=ie("entirety"),zh=Object.freeze({__proto__:null,required:Rh,external:Ph,optional:Lh,group:jh,asNamedPart:Ah,name:Dh,asCommon:Mh,original:Bh}),Fh=function(e,t,n,r){return Vt(t.defaults(e,n,r),n,{uid:e.partUids[t.name]},t.overrides(e,n,r))},Hh=function(e,t,n){var r={},o={};return He(n,function(e){e.fold(function(e){r[e.pname]=hh(!0,function(t,n,r){return e.factory.sketch(Fh(t,e,n,r))})},function(e){var n=t.parts[e.name];o[e.name]=ie(e.factory.sketch(Fh(t,e,n[Bh()]),n))},function(e){r[e.pname]=hh(!1,function(t,n,r){return e.factory.sketch(Fh(t,e,n,r))})},function(e){r[e.pname]=gh(!0,function(t,n,r){var o=t[e.name];return Fe(o,function(n){return e.factory.sketch(Vt(e.defaults(t,n,r),n,e.overrides(t,n)))})})})}),{internals:ie(r),externals:ie(o)}},Uh=function(e,t){var n={};return He(t,function(t){Ah(t).each(function(t){var r=Vh(e,t.pname);n[t.name]=function(n){var o=Jn("Part: "+t.name+" in "+e,Rn(t.schema),n);return de(de({},r),{config:n,validated:o})}})}),n},Vh=function(e,t){return{uiType:vh(),owner:e,name:t}},qh=function(e,t,n){return{uiType:vh(),owner:e,name:t,config:n,validated:{}}},Wh=function(e){return Je(e,function(e){return e.fold(ve.none,ve.some,ve.none,ve.none).map(function(e){return vr(e.name,e.schema.concat([Zc(Bh())]))}).toArray()})},$h=function(e){return Fe(e,Dh)},Gh=function(e,t,n){return Hh(0,t,n)},Xh=function(e,t,n){return mh(ve.some(e),t,t.components,n)},Kh=function(e,t,n){var r=t.partUids[n];return e.getSystem().getByUid(r).toOption()},Yh=function(e,t,n){return Kh(e,t,n).getOrDie("Could not find part: "+n)},Jh=function(e,t,n){var r={},o=t.partUids,i=e.getSystem();return He(n,function(e){r[e]=ie(i.getByUid(o[e]))}),r},Qh=function(e,t){var n=e.getSystem();return Tt(t.partUids,function(e,t){return ie(n.getByUid(e))})},Zh=function(e){return _t(e.partUids)},eg=function(e,t,n){var r={},o=t.partUids,i=e.getSystem();return He(n,function(e){r[e]=ie(i.getByUid(o[e]).getOrDie())}),r},tg=function(e,t){var n=$h(t);return an(Fe(n,function(t){return{key:t,value:e+"-"+t}}))},ng=function(e){return Fn("partUids","partUids",Qt(function(t){return tg(t.uid,e)}),tr())},rg=Object.freeze({__proto__:null,generate:Uh,generateOne:qh,schemas:Wh,names:$h,substitutes:Gh,components:Xh,defaultUids:tg,defaultUidsSchema:ng,getAllParts:Qh,getAllPartNames:Zh,getPart:Kh,getPartOrDie:Yh,getParts:Jh,getPartsOrDie:eg}),og=function(e,t){return(e.length>0?[vr("parts",e)]:[]).concat([lr("uid"),Er("dom",{}),Er("components",[]),Zc("originalSpec"),Er("debug.sketcher",{})]).concat(t)},ig=function(e,t,n,r,o){var i=og(r,o);return Jn(e+" [SpecSchema]",In(i.concat(t)),n)},ag=function(e,t,n,r){var o=cg(r);return n(ig(e,t,o,[],[]),o)},ug=function(e,t,n,r,o){var i=cg(o),a=Wh(n),u=ng(n),s=ig(e,t,i,a,[u]),c=Gh(0,s,n);return r(s,Xh(e,s,c.internals()),i,c.externals())},sg=function(e){return Pt(e,"uid")},cg=function(e){return sg(e)?e:de(de({},e),{uid:Qa("uid")})},lg=In([lr("name"),lr("factory"),lr("configFields"),Er("apis",{}),Er("extraApis",{})]),fg=In([lr("name"),lr("factory"),lr("configFields"),lr("partFields"),Er("apis",{}),Er("extraApis",{})]),dg=function(e){var t=Jn("Sketcher for "+e.name,lg,e),n=function(e){return ag(t.name,t.configFields,t.factory,e)},r=Tt(t.apis,cu),o=Tt(t.extraApis,function(e,t){return ou(e,t)});return de(de({name:ie(t.name),configFields:ie(t.configFields),sketch:n},r),o)},pg=function(e){var t=Jn("Sketcher for "+e.name,fg,e),n=function(e){return ug(t.name,t.configFields,t.partFields,t.factory,e)},r=Uh(t.name,t.partFields),o=Tt(t.apis,cu),i=Tt(t.extraApis,function(e,t){return ou(e,t)});return de(de({name:ie(t.name),partFields:ie(t.partFields),configFields:ie(t.configFields),sketch:n,parts:ie(r)},o),i)},mg=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},hg=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(!r.isSome())return ve.none();t.push(r.getOrDie())}return ve.some(t)},gg=function(e,t,n){return e.isSome()&&t.isSome()?ve.some(n(e.getOrDie(),t.getOrDie())):ve.none()},vg=function(e,t,n,r){return e.isSome()&&t.isSome()&&n.isSome()?ve.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):ve.none()},bg=function(e){return"input"===Qi(e)&&"radio"!==Ma(e,"type")||"textarea"===Qi(e)},yg=function(e,t,n){return t.find(e)},wg=Object.freeze({__proto__:null,getCurrent:yg}),xg=[lr("find")],Cg=Xl({fields:xg,name:"composing",apis:wg}),_g=function(e,t,n,r){var o=qd(e.element(),"."+t.highlightClass);He(o,function(n){je(r,function(e){return e.element()===n})||(Wu(n,t.highlightClass),e.getSystem().getByDom(n).each(function(n){t.onDehighlight(e,n),Ai(n,Ni())}))})},Sg=function(e,t,n){return _g(e,t,0,[])},kg=function(e,t,n,r){Dg(e,t,n,r)&&(Wu(r.element(),t.highlightClass),t.onDehighlight(e,r),Ai(r,Ni()))},Tg=function(e,t,n,r){_g(e,t,0,[r]),Dg(e,t,n,r)||(Vu(r.element(),t.highlightClass),t.onHighlight(e,r),Ai(r,Oi()))},Eg=function(e,t,n){Rg(e,t).each(function(r){Tg(e,t,n,r)})},Og=function(e,t,n){Pg(e,t).each(function(r){Tg(e,t,n,r)})},Ng=function(e,t,n,r){Ig(e,t,n,r).fold(function(e){throw new Error(e)},function(r){Tg(e,t,n,r)})},Ag=function(e,t,n,r){var o=zg(e,t);Xe(o,r).each(function(r){Tg(e,t,n,r)})},Dg=function(e,t,n,r){return $u(r.element(),t.highlightClass)},Mg=function(e,t,n){return Tc(e.element(),"."+t.highlightClass).bind(function(t){return e.getSystem().getByDom(t).toOption()})},Ig=function(e,t,n,r){var o=qd(e.element(),"."+t.itemClass);return ve.from(o[r]).fold(function(){return lt.error("No element found with index "+r)},e.getSystem().getByDom)},Rg=function(e,t,n){return Tc(e.element(),"."+t.itemClass).bind(function(t){return e.getSystem().getByDom(t).toOption()})},Pg=function(e,t,n){var r=qd(e.element(),"."+t.itemClass);return(r.length>0?ve.some(r[r.length-1]):ve.none()).bind(function(t){return e.getSystem().getByDom(t).toOption()})},Lg=function(e,t,n,r){var o=qd(e.element(),"."+t.itemClass);return Ke(o,function(e){return $u(e,t.highlightClass)}).bind(function(t){var n=Tf(t,r,0,o.length-1);return e.getSystem().getByDom(o[n]).toOption()})},jg=function(e,t,n){return Lg(e,t,0,-1)},Bg=function(e,t,n){return Lg(e,t,0,1)},zg=function(e,t,n){var r=qd(e.element(),"."+t.itemClass);return mg(Fe(r,function(t){return e.getSystem().getByDom(t).toOption()}))},Fg=Object.freeze({__proto__:null,dehighlightAll:Sg,dehighlight:kg,highlight:Tg,highlightFirst:Eg,highlightLast:Og,highlightAt:Ng,highlightBy:Ag,isHighlighted:Dg,getHighlighted:Mg,getFirst:Rg,getLast:Pg,getPrevious:jg,getNext:Bg,getCandidates:zg}),Hg=[lr("highlightClass"),lr("itemClass"),Xc("onHighlight"),Xc("onDehighlight")],Ug=Xl({fields:Hg,name:"highlighting",apis:Fg}),Vg=function(){return[8]},qg=function(){return[9]},Wg=function(){return[13]},$g=function(){return[27]},Gg=function(){return[32]},Xg=function(){return[37]},Kg=function(){return[38]},Yg=function(){return[39]},Jg=function(){return[40]},Qg=function(e,t,n){var r=Ze(e.slice(0,t)),o=Ze(e.slice(t+1));return Xe(r.concat(o),n)},Zg=function(e,t,n){var r=Ze(e.slice(0,t));return Xe(r,n)},ev=function(e,t,n){var r=e.slice(0,t),o=e.slice(t+1);return Xe(o.concat(r),n)},tv=function(e,t,n){var r=e.slice(t+1);return Xe(r,n)},nv=function(e){return function(t){var n=t.raw();return Le(e,n.which)}},rv=function(e){return function(t){return Qe(e,function(e){return e(t)})}},ov=function(e){return!0===e.raw().shiftKey},iv=function(e){return!0===e.raw().ctrlKey},av=ue(ov),uv=function(e,t){return{matches:e,classification:t}},sv=function(e,t){return Xe(e,function(e){return e.matches(t)}).map(function(e){return e.classification})},cv=function(e,t,n){t.exists(function(e){return n.exists(function(t){return Eo(t,e)})})||Di(e,Si(),{prevFocus:t,newFocus:n})},lv=function(){var e=function(e){return ff(e.element())};return{get:e,set:function(t,n){var r=e(t);t.getSystem().triggerFocus(n,t.element());var o=e(t);cv(t,r,o)}}},fv=function(){var e=function(e){return Ug.getHighlighted(e).map(function(e){return e.element()})};return{get:e,set:function(t,n){var r=e(t);t.getSystem().getByDom(n).fold(te,function(e){Ug.highlight(t,e)});var o=e(t);cv(t,r,o)}}};!function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"}(Yf||(Yf={}));var dv,pv=function(e,t,n,r,o){var i=function(){return e.concat([Er("focusManager",lv()),Or("focusInside","onFocus",$n(function(e){return Le(["onFocus","onEnterOrSpace","onApi"],e)?lt.value(e):lt.error("Invalid value for focusInside")})),Qc("handler",s),Qc("state",t),Qc("sendFocusIn",o)])},a=function(e,t,n,r,o){var i=n(e,t,r,o);return sv(i,t.event()).bind(function(n){return n(e,t,r,o)})},u=function(e,t){var i=e.focusInside!==Yf.OnFocusMode?ve.none():o(e).map(function(n){return zi(ii(),function(r,o){n(r,e,t),o.stop()})}),u=function(n,r){var i=nv(Gg().concat(Wg()))(r.event());e.focusInside===Yf.OnEnterOrSpaceMode&&i&&Ro(n,r)&&o(e).each(function(o){o(n,e,t),r.stop()})},s=[zi(Jo(),function(r,o){a(r,o,n,e,t).fold(function(){u(r,o)},function(e){o.stop()})}),zi(Qo(),function(n,o){a(n,o,r,e,t).each(function(e){o.stop()})})];return Li(i.toArray().concat(s))},s={schema:i,processKey:a,toEvents:u};return s},mv=function(e){var t=[wr("onEscape"),wr("onEnter"),Er("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Er("firstTabstop",0),Er("useTabstopAt",ie(!0)),wr("visibilitySelector")].concat([e]),r=function(e,t){var n=e.visibilitySelector.bind(function(e){return Ec(t,e)}).getOr(t);return js(n)>0},o=function(e,t){var n=qd(e.element(),t.selector),o=qe(n,function(e){return r(t,e)});return ve.from(o[t.firstTabstop])},i=function(e,t){return t.focusManager.get(e).bind(function(e){return Ec(e,t.selector)})},a=function(e,t){return r(e,t)&&e.useTabstopAt(t)},u=function(e,t,n){o(e,t).each(function(n){t.focusManager.set(e,n)})},s=function(e,t,n,r,o){return o(t,n,function(e){return a(r,e)}).fold(function(){return r.cyclic?ve.some(!0):ve.none()},function(t){return r.focusManager.set(e,t),ve.some(!0)})},c=function(e,t,r,o){var a=qd(e.element(),r.selector);return i(e,r).bind(function(t){return Ke(a,n(Eo,t)).bind(function(t){return s(e,a,t,r,o)})})},l=function(e,t,n){var r=n.cyclic?Qg:Zg;return c(e,0,n,r)},f=function(e,t,n){var r=n.cyclic?ev:tv;return c(e,0,n,r)},d=function(e,t,n){return n.onEnter.bind(function(n){return n(e,t)})},p=function(e,t,n){return n.onEscape.bind(function(n){return n(e,t)})},m=ie([uv(rv([ov,nv(qg())]),l),uv(nv(qg()),f),uv(nv($g()),p),uv(rv([av,nv(Wg())]),d)]),h=ie([]);return pv(t,lu.init,m,h,function(){return ve.some(u)})},hv=mv(Pr("cyclic",ie(!1))),gv=mv(Pr("cyclic",ie(!0))),vv=function(e,t,n){return Ii(e,n,ci()),ve.some(!0)},bv=function(e,t,n){return bg(n)&&nv(Gg())(t.event())?ve.none():vv(e,0,n)},yv=function(e,t){return ve.some(!0)},wv=[Er("execute",bv),Er("useSpace",!1),Er("useEnter",!0),Er("useControlEnter",!1),Er("useDown",!1)],xv=function(e,t,n){return n.execute(e,t,e.element())},Cv=function(e,t,n,r){var o=n.useSpace&&!bg(e.element())?Gg():[],i=n.useEnter?Wg():[],a=n.useDown?Jg():[],u=o.concat(i).concat(a);return[uv(nv(u),xv)].concat(n.useControlEnter?[uv(rv([iv,nv(Wg())]),xv)]:[])},_v=function(e,t,n,r){return n.useSpace&&!bg(e.element())?[uv(nv(Gg()),yv)]:[]},Sv=pv(wv,lu.init,Cv,_v,function(){return ve.none()}),kv=function(){var e=Lr(ve.none()),t=function(t,n){e.set(ve.some({numRows:t,numColumns:n}))},n=function(){return e.get().map(function(e){return e.numRows})},r=function(){return e.get().map(function(e){return e.numColumns})};return fu({readState:function(){return e.get().map(function(e){return{numRows:String(e.numRows),numColumns:String(e.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:t,getNumRows:n,getNumColumns:r})},Tv=function(e){return e.state(e)},Ev=Object.freeze({__proto__:null,flatgrid:kv,init:Tv}),Ov=function(e){return function(t,n,r,o){var i=e(t.element());return Mv(i,t,n,r,o)}},Nv=function(e,t){var n=Xf(e,t);return Ov(n)},Av=function(e,t){var n=Xf(t,e);return Ov(n)},Dv=function(e){return function(t,n,r,o){return Mv(e,t,n,r,o)}},Mv=function(e,t,n,r,o){return r.focusManager.get(t).bind(function(n){return e(t.element(),n,r,o)}).map(function(e){return r.focusManager.set(t,e),!0})},Iv=Dv,Rv=Dv,Pv=Dv,Lv=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},jv=function(e){return!Lv(e.dom())},Bv=function(e,t){return Ke(e,t).map(function(t){return{index:ie(t),candidates:ie(e)}})},zv=function(e,t,n){var r=function(e){return Eo(e,t)},o=qd(e,n),i=qe(o,jv);return Bv(i,r)},Fv=function(e,t){return Ke(e,function(e){return Eo(t,e)})},Hv=function(e,t,n,r){return r(Math.floor(t/n),t%n).bind(function(t){var r=t.row()*n+t.column();return r>=0&&r<e.length?ve.some(e[r]):ve.none()})},Uv=function(e,t,n,r,o){return Hv(e,t,r,function(t,i){var a=t===n-1,u=a?e.length-t*r:r,s=Tf(i,o,0,u-1);return ve.some({row:ie(t),column:ie(s)})})},Vv=function(e,t,n,r,o){return Hv(e,t,r,function(t,i){var a=Tf(t,o,0,n-1),u=a===n-1,s=u?e.length-a*r:r,c=Ef(i,0,s-1);return ve.some({row:ie(a),column:ie(c)})})},qv=function(e,t,n,r){return Uv(e,t,n,r,1)},Wv=function(e,t,n,r){return Uv(e,t,n,r,-1)},$v=function(e,t,n,r){return Vv(e,t,n,r,-1)},Gv=function(e,t,n,r){return Vv(e,t,n,r,1)},Xv=[lr("selector"),Er("execute",bv),Kc("onEscape"),Er("captureTab",!1),el()],Kv=function(e,t,n){Tc(e.element(),t.selector).each(function(n){t.focusManager.set(e,n)})},Yv=function(e,t){return t.focusManager.get(e).bind(function(e){return Ec(e,t.selector)})},Jv=function(e,t,n,r){return Yv(e,n).bind(function(r){return n.execute(e,t,r)})},Qv=function(e){return function(t,n,r,o){return zv(t,n,r.selector).bind(function(t){return e(t.candidates(),t.index(),o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))})}},Zv=function(e,t,n){return n.captureTab?ve.some(!0):ve.none()},eb=function(e,t,n){return n.onEscape(e,t)},tb=Qv(Wv),nb=Qv(qv),rb=Qv($v),ob=Qv(Gv),ib=ie([uv(nv(Xg()),Nv(tb,nb)),uv(nv(Yg()),Av(tb,nb)),uv(nv(Kg()),Iv(rb)),uv(nv(Jg()),Rv(ob)),uv(rv([ov,nv(qg())]),Zv),uv(rv([av,nv(qg())]),Zv),uv(nv($g()),eb),uv(nv(Gg().concat(Wg())),Jv)]),ab=ie([uv(nv(Gg()),yv)]),ub=pv(Xv,kv,ib,ab,function(){return ve.some(Kv)}),sb=function(e,t,n,r){var o=function(e){return"button"===Qi(e)&&"disabled"===Ma(e,"disabled")},i=function(e,t,n){var a=Tf(t,r,0,n.length-1);return a===e?ve.none():o(n[a])?i(e,a,n):ve.from(n[a])};return zv(e,n,t).bind(function(e){var t=e.index(),n=e.candidates();return i(t,t,n)})},cb=[lr("selector"),Er("getInitial",ve.none),Er("execute",bv),Kc("onEscape"),Er("executeOnMove",!1),Er("allowVertical",!0)],lb=function(e,t){return t.focusManager.get(e).bind(function(e){return Ec(e,t.selector)})},fb=function(e,t,n){return lb(e,n).bind(function(r){return n.execute(e,t,r)})},db=function(e,t,n){t.getInitial(e).orThunk(function(){return Tc(e.element(),t.selector)}).each(function(n){t.focusManager.set(e,n)})},pb=function(e,t,n){return sb(e,n.selector,t,-1)},mb=function(e,t,n){return sb(e,n.selector,t,1)},hb=function(e){return function(t,n,r,o){return e(t,n,r,o).bind(function(){return r.executeOnMove?fb(t,n,r):ve.some(!0)})}},gb=function(e,t,n){return n.onEscape(e,t)},vb=function(e,t,n,r){var o=Xg().concat(n.allowVertical?Kg():[]),i=Yg().concat(n.allowVertical?Jg():[]);return[uv(nv(o),hb(Nv(pb,mb))),uv(nv(i),hb(Av(pb,mb))),uv(nv(Wg()),fb),uv(nv(Gg()),fb),uv(nv($g()),gb)]},bb=ie([uv(nv(Gg()),yv)]),yb=pv(cb,lu.init,vb,bb,function(){return ve.some(db)}),wb=function(e,t,n){return ve.from(e[t]).bind(function(e){return ve.from(e[n]).map(function(e){return{rowIndex:t,columnIndex:n,cell:e}})})},xb=function(e,t,n,r){var o=e[t],i=o.length,a=Tf(n,r,0,i-1);return wb(e,t,a)},Cb=function(e,t,n,r){var o=Tf(n,r,0,e.length-1),i=e[o].length,a=Ef(t,0,i-1);return wb(e,o,a)},_b=function(e,t,n,r){var o=e[t],i=o.length,a=Ef(n+r,0,i-1);return wb(e,t,a)},Sb=function(e,t,n,r){var o=Ef(n+r,0,e.length-1),i=e[o].length,a=Ef(t,0,i-1);return wb(e,o,a)},kb=function(e,t,n){return xb(e,t,n,1)},Tb=function(e,t,n){return xb(e,t,n,-1)},Eb=function(e,t,n){return Cb(e,n,t,-1)},Ob=function(e,t,n){return Cb(e,n,t,1)},Nb=function(e,t,n){return _b(e,t,n,-1)},Ab=function(e,t,n){return _b(e,t,n,1)},Db=function(e,t,n){return Sb(e,n,t,-1)},Mb=function(e,t,n){return Sb(e,n,t,1)},Ib=[vr("selectors",[lr("row"),lr("cell")]),Er("cycles",!0),Er("previousSelector",ve.none),Er("execute",bv)],Rb=function(e,t,n){t.previousSelector(e).orThunk(function(){var n=t.selectors;return Tc(e.element(),n.cell)}).each(function(n){t.focusManager.set(e,n)})},Pb=function(e,t,n){return ff(e.element()).bind(function(r){return n.execute(e,t,r)})},Lb=function(e,t){return Fe(e,function(e){return qd(e,t.selectors.cell)})},jb=function(e,t){return function(n,r,o){var i=o.cycles?e:t;return Ec(r,o.selectors.row).bind(function(e){var t=qd(e,o.selectors.cell);return Fv(t,r).bind(function(t){var r=qd(n,o.selectors.row);return Fv(r,e).bind(function(e){var n=Lb(r,o);return i(n,e,t).map(function(e){return e.cell})})})})}},Bb=jb(Tb,Nb),zb=jb(kb,Ab),Fb=jb(Eb,Db),Hb=jb(Ob,Mb),Ub=ie([uv(nv(Xg()),Nv(Bb,zb)),uv(nv(Yg()),Av(Bb,zb)),uv(nv(Kg()),Iv(Fb)),uv(nv(Jg()),Rv(Hb)),uv(nv(Gg().concat(Wg())),Pb)]),Vb=ie([uv(nv(Gg()),yv)]),qb=pv(Ib,lu.init,Ub,Vb,function(){return ve.some(Rb)}),Wb=[lr("selector"),Er("execute",bv),Er("moveOnTab",!1)],$b=function(e,t,n){return n.focusManager.get(e).bind(function(r){return n.execute(e,t,r)})},Gb=function(e,t,n){Tc(e.element(),t.selector).each(function(n){t.focusManager.set(e,n)})},Xb=function(e,t,n){return sb(e,n.selector,t,-1)},Kb=function(e,t,n){return sb(e,n.selector,t,1)},Yb=function(e,t,n,r){return n.moveOnTab?Pv(Xb)(e,t,n,r):ve.none()},Jb=function(e,t,n,r){return n.moveOnTab?Pv(Kb)(e,t,n,r):ve.none()},Qb=ie([uv(nv(Kg()),Pv(Xb)),uv(nv(Jg()),Pv(Kb)),uv(rv([ov,nv(qg())]),Yb),uv(rv([av,nv(qg())]),Jb),uv(nv(Wg()),$b),uv(nv(Gg()),$b)]),Zb=ie([uv(nv(Gg()),yv)]),ey=pv(Wb,lu.init,Qb,Zb,function(){return ve.some(Gb)}),ty=[Kc("onSpace"),Kc("onEnter"),Kc("onShiftEnter"),Kc("onLeft"),Kc("onRight"),Kc("onTab"),Kc("onShiftTab"),Kc("onUp"),Kc("onDown"),Kc("onEscape"),Er("stopSpaceKeyup",!1),wr("focusIn")],ny=function(e,t,n){return[uv(nv(Gg()),n.onSpace),uv(rv([av,nv(Wg())]),n.onEnter),uv(rv([ov,nv(Wg())]),n.onShiftEnter),uv(rv([ov,nv(qg())]),n.onShiftTab),uv(rv([av,nv(qg())]),n.onTab),uv(nv(Kg()),n.onUp),uv(nv(Jg()),n.onDown),uv(nv(Xg()),n.onLeft),uv(nv(Yg()),n.onRight),uv(nv(Gg()),n.onSpace),uv(nv($g()),n.onEscape)]},ry=function(e,t,n){return n.stopSpaceKeyup?[uv(nv(Gg()),yv)]:[]},oy=pv(ty,lu.init,ny,ry,function(e){return e.focusIn}),iy=hv.schema(),ay=gv.schema(),uy=yb.schema(),sy=ub.schema(),cy=qb.schema(),ly=Sv.schema(),fy=ey.schema(),dy=oy.schema(),py=Object.freeze({__proto__:null,acyclic:iy,cyclic:ay,flow:uy,flatgrid:sy,matrix:cy,execution:ly,menu:fy,special:dy}),my=function(e){return Lt(e,"setGridSize")},hy=Yl({branchKey:"mode",branches:py,name:"keying",active:{events:function(e,t){return e.handler.toEvents(e,t)}},apis:{focusIn:function(e,t,n){t.sendFocusIn(t).fold(function(){e.getSystem().triggerFocus(e.element(),e.element())},function(r){r(e,t,n)})},setGridSize:function(e,n,r,o,i){my(r)?r.setGridSize(o,i):t.console.error("Layout does not support setGridSize")}},state:Ev}),gy=function(e,t,n,r){df(function(){var t=Fe(r,e.getSystem().build);Wp(e,t)},e.element())},vy=function(e,t,n,r){var o=e.getSystem().build(r);Gp(e,o,n)},by=function(e,t,n,r){vy(e,0,ba,r)},yy=function(e,t,n,r){vy(e,0,va,r)},wy=function(e,t,n,r){var o=xy(e);Xe(o,function(e){return Eo(r.element(),e.element())}).each(Kp)},xy=function(e,t){return e.components()},Cy=function(e,t,n,r,o){var i=xy(e);return ve.from(i[r]).map(function(t){return wy(e,0,0,t),o.each(function(t){vy(e,0,function(e,t){ya(e,t,r)},t)}),t})},_y=function(e,t,n,r,o){var i=xy(e);return Ke(i,r).bind(function(t){return Cy(e,0,0,t,o)})},Sy=Object.freeze({__proto__:null,append:by,prepend:yy,remove:wy,replaceAt:Cy,replaceBy:_y,set:gy,contents:xy}),ky=Xl({fields:[],name:"replacing",apis:Sy}),Ty=function(e,t){var n=Li(t);return Xl({fields:[lr("enabled")],name:e,active:{events:ie(n)}})},Ey=function(e,t){return{key:e,value:{config:{},me:Ty(e,t),configAsRaw:ie({}),initialConfig:{},state:lu}}},Oy=function(e,t){t.ignore||(uf(e.element()),t.onFocus(e))},Ny=function(e,t){t.ignore||sf(e.element())},Ay=function(e){return cf(e.element())},Dy=Object.freeze({__proto__:null,focus:Oy,blur:Ny,isFocused:Ay}),My=function(e,t){var n=t.ignore?{}:{attributes:{tabindex:"-1"}};return gu(n)},Iy=function(e){return Li([zi(ii(),function(t,n){Oy(t,e),n.stop()})].concat(e.stopMousedown?[zi(qo(),function(e,t){t.event().prevent()})]:[]))},Ry=Object.freeze({__proto__:null,exhibit:My,events:Iy}),Py=[Xc("onFocus"),Er("stopMousedown",!1),Er("ignore",!1)],Ly=Xl({fields:Py,name:"focusing",active:Ry,apis:Dy}),jy=function(e,t,n){var r=t.aria;r.update(e,r,n.get())},By=function(e,t,n){t.toggleClass.each(function(t){n.get()?Vu(e.element(),t):Wu(e.element(),t)})},zy=function(e,t,n){Uy(e,t,n,!n.get())},Fy=function(e,t,n){n.set(!0),By(e,t,n),jy(e,t,n)},Hy=function(e,t,n){n.set(!1),By(e,t,n),jy(e,t,n)},Uy=function(e,t,n,r){(r?Fy:Hy)(e,t,n)},Vy=function(e,t,n){return n.get()},qy=function(e,t,n){Uy(e,t,n,t.selected)},Wy=Object.freeze({__proto__:null,onLoad:qy,toggle:zy,isOn:Vy,on:Fy,off:Hy,set:Uy}),$y=function(){return gu({})},Gy=function(e,t){var n=zl(e,t,zy),r=Fl(e,t,qy);return Li(Ye([e.toggleOnExecute?[n]:[],[r]]))},Xy=Object.freeze({__proto__:null,exhibit:$y,events:Gy}),Ky=function(e,t,n){Aa(e.element(),"aria-pressed",n),t.syncWithExpanded&&Qy(e,t,n)},Yy=function(e,t,n){Aa(e.element(),"aria-selected",n)},Jy=function(e,t,n){Aa(e.element(),"aria-checked",n)},Qy=function(e,t,n){Aa(e.element(),"aria-expanded",n)},Zy=[Er("selected",!1),wr("toggleClass"),Er("toggleOnExecute",!0),Or("aria",{mode:"none"},er("mode",{pressed:[Er("syncWithExpanded",!1),Qc("update",Ky)],checked:[Qc("update",Jy)],expanded:[Qc("update",Qy)],selected:[Qc("update",Yy)],none:[Qc("update",te)]}))],ew=Xl({fields:Zy,name:"toggling",active:Xy,apis:Wy,state:function(e){return{init:function(){var t=Lr(e);return{get:function(){return t.get()},set:function(e){return t.set(e)},clear:function(){return t.set(e)},readState:function(){return t.get()}}}}}(!1)}),tw=function(){var e=function(e,t){t.stop(),Mi(e)};return[zi(ti(),e),zi(fi(),e),Wi(Fo()),Wi(qo())]},nw=function(e){var t=function(e){return Ji(function(t,n){e(t),n.stop()})};return Li(Ye([e.map(t).toArray(),tw()]))},rw=function(e){(ff(e.element()).isNone()||Ly.isFocused(e))&&(Ly.isFocused(e)||Ly.focus(e),Di(e,"alloy.item-hover",{item:e}))},ow=function(e){Di(e,"alloy.item-focus",{item:e})},iw=ie("alloy.item-hover"),aw=ie("alloy.item-focus"),uw=function(e){return{dom:e.dom,domModification:de(de({},e.domModification),{attributes:de(de(de({role:e.toggling.isSome()?"menuitemcheckbox":"menuitem"},e.domModification.attributes),{"aria-haspopup":e.hasSubmenu}),e.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:ah.augment(e.itemBehaviours,[e.toggling.fold(ew.revoke,function(e){return ew.config(de({aria:{mode:"checked"}},e))}),Ly.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:function(e){ow(e)}}),hy.config({mode:"execution"}),nh.config({store:{mode:"memory",initialValue:e.data}}),Ey("item-type-events",o(tw(),[zi(Xo(),rw),zi(li(),Ly.focus)]))]),components:e.components,eventOrder:e.eventOrder}},sw=[lr("data"),lr("components"),lr("dom"),Er("hasSubmenu",!1),wr("toggling"),ah.field("itemBehaviours",[ew,Ly,hy,nh]),Er("ignoreFocus",!1),Er("domModification",{}),Qc("builder",uw),Er("eventOrder",{})],cw=function(e){return{dom:e.dom,components:e.components,events:Li([$i(li())])}},lw=[lr("dom"),lr("components"),Qc("builder",cw)],fw=ie([Rh({name:"widget",overrides:function(e){return{behaviours:$l([nh.config({store:{mode:"manual",getValue:function(t){return e.data},setValue:function(){}}})])}}})]),dw=function(e){var t=Gh(0,e,fw()),n=Xh("item-widget",e,t.internals()),r=function(t){return Kh(t,e,"widget").map(function(e){return hy.focusIn(e),e})},o=function(t,n){return bg(n.event().target())?ve.none():function(){return e.autofocus?(n.setSource(t.element()),ve.none()):ve.none()}()};return{dom:e.dom,components:n,domModification:e.domModification,events:Li([Ji(function(e,t){r(e).each(function(e){t.stop()})}),zi(Xo(),rw),zi(li(),function(t,n){e.autofocus?r(t):Ly.focus(t)})]),behaviours:ah.augment(e.widgetBehaviours,[nh.config({store:{mode:"memory",initialValue:e.data}}),Ly.config({ignore:e.ignoreFocus,onFocus:function(e){ow(e)}}),hy.config({mode:"special",focusIn:e.autofocus?function(e){r(e)}:Jl(),onLeft:o,onRight:o,onEscape:function(t,n){return Ly.isFocused(t)||e.autofocus?e.autofocus?(n.setSource(t.element()),ve.none()):ve.none():(Ly.focus(t),ve.some(!0))}})])}},pw=[lr("uid"),lr("data"),lr("components"),lr("dom"),Er("autofocus",!1),Er("ignoreFocus",!1),ah.field("widgetBehaviours",[nh,Ly,hy]),Er("domModification",{}),ng(fw()),Qc("builder",dw)],mw=er("type",{widget:pw,item:sw,separator:lw}),hw=function(e,t){return{mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}},gw=function(e,t){return{mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},focusManager:e.focusManager}},vw=function(e,t){return{mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}},bw=ie([jh({factory:{sketch:function(e){var t=Jn("menu.spec item",mw,e);return t.builder(t)}},name:"items",unit:"item",defaults:function(e,t){return t.hasOwnProperty("uid")?t:de(de({},t),{uid:Qa("item")})},overrides:function(e,t){return{type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}}}})]),yw=ie([lr("value"),lr("items"),lr("dom"),lr("components"),Er("eventOrder",{}),rh("menuBehaviours",[Ug,nh,Cg,hy]),Or("movement",{mode:"menu",moveOnTab:!0},er("mode",{grid:[el(),Qc("config",hw)],matrix:[Qc("config",gw),lr("rowSelector")],menu:[Er("moveOnTab",!0),Qc("config",vw)]})),function(){return fr("markers",Vc())}(),Er("fakeFocus",!1),Er("focusManager",lv()),Xc("onHighlight")]),ww=ie("alloy.menu-focus"),xw=function(e,t,n,r){return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:ih(e.menuBehaviours,[Ug.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight}),nh.config({store:{mode:"memory",initialValue:e.value}}),Cg.config({find:ve.some}),hy.config(e.movement.config(e,e.movement))]),events:Li([zi(aw(),function(e,t){var n=t.event();e.getSystem().getByDom(n.target()).each(function(n){Ug.highlight(e,n),t.stop(),Di(e,ww(),{menu:e,item:n})})}),zi(iw(),function(e,t){var n=t.event().item();Ug.highlight(e,n)})]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}}},Cw=pg({name:"Menu",configFields:yw(),partFields:bw(),factory:xw}),_w=function(e){return Et(e,function(e,t){return{k:e,v:t}})},Sw=function(e,t,n,r){return Rt(n,r).bind(function(r){return Rt(e,r).bind(function(r){var o=Sw(e,t,n,r);return ve.some([r].concat(o))})}).getOr([])},kw=function(e,t){var n={};kt(e,function(e,t){He(e,function(e){n[e]=t})});var r=t,o=_w(t),i=Tt(o,function(e,t){return[t].concat(Sw(n,r,o,t))});return Tt(n,function(e){return Rt(i,e).getOr([e])})},Tw=function(){var e=Lr({}),t=Lr({}),n=Lr({}),r=Lr(ve.none()),o=Lr({}),i=function(){e.set({}),t.set({}),n.set({}),r.set(ve.none())},a=function(){return r.get().isNone()},u=function(e,n){var r;t.set(de(de({},t.get()),(r={},r[e]={type:"prepared",menu:n},r)))},s=function(i,a,u,s){r.set(ve.some(i)),e.set(u),t.set(a),o.set(s);var c=kw(s,u);n.set(c)},c=function(t){return Mt(e.get(),function(e,n){return e===t})},l=function(e,t,n){return h(e).bind(function(r){return c(e).bind(function(e){return t(e).map(function(e){return{triggeredMenu:r,triggeringItem:e,triggeringPath:n}})})})},f=function(e,t){var o=qe(v(e).toArray(),function(e){return h(e).isSome()});return Rt(n.get(),e).bind(function(e){var n=Ze(o.concat(e)),i=Je(n,function(e,o){return l(e,t,n.slice(0,o+1)).fold(function(){return r.get().is(e)?[]:[ve.none()]},function(e){return[ve.some(e)]})});return hg(i)})},d=function(t){return Rt(e.get(),t).map(function(e){return[e].concat(Rt(n.get(),t).getOr([]))})},p=function(e){return Rt(n.get(),e).bind(function(e){return e.length>1?ve.some(e.slice(1)):ve.none()})},m=function(e){return Rt(n.get(),e)},h=function(e){return g(e).bind(Ew)},g=function(e){return Rt(t.get(),e)},v=function(t){return Rt(e.get(),t)};return{setMenuBuilt:u,setContents:s,expand:d,refresh:m,collapse:p,lookupMenu:g,lookupItem:v,otherMenus:function(e){var t=o.get();return et(_t(t),e)},getPrimary:function(){return r.get().bind(h)},getMenus:function(){return t.get()},clear:i,isClear:a,getTriggeringPath:f}},Ew=function(e){return"prepared"===e.type?ve.some(e.menu):ve.none()},Ow={init:Tw,extractPreparedMenu:Ew},Nw=function(e,t){var n,r=Lr(ve.none()),o=function(t,n,r){return Tt(r,function(r,o){var i=function(){return Cw.sketch(de(de({},r),{value:o,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:e.onHighlight,focusManager:e.fakeFocus?fv():lv()}))};return o===n?{type:"prepared",menu:t.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}})},i=Ow.init(),a=function(t){var n=o(t,e.data.primary,e.data.menus),r=c();return i.setContents(e.data.primary,n,e.data.expansions,r),i.getPrimary()},u=function(e){return nh.getValue(e).value},s=function(e,t,n){return at(t,function(e){if(!e.getSystem().isConnected())return ve.none();var t=Ug.getCandidates(e);return Xe(t,function(e){return u(e)===n})})},c=function(t){return Tt(e.data.menus,function(e,t){return Je(e.items,function(e){return"separator"===e.type?[]:[e.data.value]})})},l=function(e,t){Ug.highlight(e,t),Ug.getHighlighted(t).orThunk(function(){return Ug.getFirst(t)}).each(function(t){Ii(e,t.element(),li())})},f=function(e,t){return mg(Fe(t,function(t){return e.lookupMenu(t).bind(function(e){return"prepared"===e.type?ve.some(e.menu):ve.none()})}))},d=function(t,n,r){var o=f(n,n.otherMenus(r));He(o,function(n){Xu(n.element(),[e.markers.backgroundMenu]),e.stayInDom||ky.remove(t,n)})},p=function(t){return r.get().getOrThunk(function(){var n={},o=qd(t.element(),"."+e.markers.item),i=qe(o,function(e){return"true"===Ma(e,"aria-haspopup")});return He(i,function(e){t.getSystem().getByDom(e).each(function(e){var t=u(e);n[t]=e})}),r.set(ve.some(n)),n})},m=function(e,t){var n=p(e);kt(n,function(e,n){var r=Le(t,n);Aa(e.element(),"aria-expanded",r)})},h=function(t,n,r){return ve.from(r[0]).bind(function(o){return n.lookupMenu(o).bind(function(o){if("notbuilt"===o.type)return ve.none();var i=o.menu,a=f(n,r.slice(1));return He(a,function(t){Vu(t.element(),e.markers.backgroundMenu)}),is(i.element())||ky.append(t,Ps(i)),Xu(i.element(),[e.markers.backgroundMenu]),l(t,i),d(t,n,r),ve.some(i)})})};!function(e){e[e.HighlightSubmenu=0]="HighlightSubmenu",e[e.HighlightParent=1]="HighlightParent"}(n||(n={}));var g=function(e,t,n){if("notbuilt"===n.type){var r=e.getSystem().build(n.nbMenu());return i.setMenuBuilt(t,r),r}return n.menu},v=function(t,r,o){void 0===o&&(o=n.HighlightSubmenu);var a=u(r);return i.expand(a).bind(function(a){return m(t,a),ve.from(a[0]).bind(function(u){return i.lookupMenu(u).bind(function(s){var c=g(t,u,s);return is(c.element())||ky.append(t,Ps(c)),e.onOpenSubmenu(t,r,c,Ze(a)),o===n.HighlightSubmenu?(Ug.highlightFirst(c),h(t,i,a)):(Ug.dehighlightAll(c),ve.some(r))})})})},b=function(t,n){var r=u(n);return i.collapse(r).bind(function(r){return m(t,r),h(t,i,r).map(function(r){return e.onCollapseMenu(t,n,r),r})})},y=function(e,t){var n=u(t);return i.refresh(n).bind(function(t){return m(e,t),h(e,i,t)})},w=function(e,t){return bg(t.element())?ve.none():v(e,t,n.HighlightSubmenu)},x=function(e,t){return bg(t.element())?ve.none():b(e,t)},C=function(t,n){return b(t,n).orThunk(function(){return e.onEscape(t,n).map(function(){return t})})},_=function(t){return function(n,r){return Ec(r.getSource(),"."+e.markers.item).bind(function(e){return n.getSystem().getByDom(e).toOption().bind(function(e){return t(n,e).map(function(){return!0})})})}},S=Li([zi(ww(),function(e,t){var n=t.event().item();i.lookupItem(u(n)).each(function(){var n=t.event().menu();Ug.highlight(e,n);var r=u(t.event().item());i.refresh(r).each(function(t){return d(e,i,t)})})}),Ji(function(t,r){var o=r.event().target();t.getSystem().getByDom(o).each(function(r){0===u(r).indexOf("collapse-item")&&b(t,r),v(t,r,n.HighlightSubmenu).fold(function(){e.onExecute(t,r)},function(){})})}),Xi(function(t,n){a(t).each(function(n){ky.append(t,Ps(n)),e.onOpenMenu(t,n),e.highlightImmediately&&l(t,n)})})].concat(e.navigateOnHover?[zi(iw(),function(t,r){var o=r.event().item();y(t,o),v(t,o,n.HighlightParent),e.onHover(t,o)})]:[])),k=function(e){return Ug.getHighlighted(e).bind(Ug.getHighlighted)},T=function(e){k(e).each(function(t){b(e,t)})},E=function(e){i.getPrimary().each(function(t){l(e,t)})},O=function(e){return ve.from(e.components()[0]).filter(function(e){return"menu"===Ma(e.element(),"role")})},N=function(t){i.getPrimary().bind(function(e){return k(t).bind(function(e){var t=u(e),n=It(i.getMenus()),r=mg(Fe(n,Ow.extractPreparedMenu));return i.getTriggeringPath(t,function(e){return s(0,r,e)})}).map(function(t){return{primary:e,triggeringPath:t}})}).fold(function(){O(t).each(function(n){e.onRepositionMenu(t,n,[])})},function(n){var r=n.primary,o=n.triggeringPath;e.onRepositionMenu(t,r,o)})},A={collapseMenu:T,highlightPrimary:E,repositionMenus:N};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:ih(e.tmenuBehaviours,[hy.config({mode:"special",onRight:_(w),onLeft:_(x),onEscape:_(C),focusIn:function(e,t){i.getPrimary().each(function(t){Ii(e,t.element(),li())})}}),Ug.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),Cg.config({find:function(e){return Ug.getHighlighted(e)}}),ky.config({})]),eventOrder:e.eventOrder,apis:A,events:S}},Aw=ie("collapse-item"),Dw=function(e,t,n){return{primary:e,menus:t,expansions:n}},Mw=function(e,t){return{primary:e,menus:on(e,t),expansions:{}}},Iw=function(e){return{value:qa(Aw()),meta:{text:e}}},Rw=dg({name:"TieredMenu",configFields:[Jc("onExecute"),Jc("onEscape"),Yc("onOpenMenu"),Yc("onOpenSubmenu"),Xc("onRepositionMenu"),Xc("onCollapseMenu"),Er("highlightImmediately",!0),vr("data",[lr("primary"),lr("menus"),lr("expansions")]),Er("fakeFocus",!1),Xc("onHighlight"),Xc("onHover"),Wc(),lr("dom"),Er("navigateOnHover",!0),Er("stayInDom",!1),rh("tmenuBehaviours",[hy,Ug,Cg,ky]),Er("eventOrder",{})],apis:{collapseMenu:function(e,t){e.collapseMenu(t)},highlightPrimary:function(e,t){e.highlightPrimary(t)},repositionMenus:function(e,t){e.repositionMenus(t)}},factory:Nw,extraApis:{tieredData:Dw,singleData:Mw,collapseItem:Iw}}),Pw=function(e,t,n,r,o){var i=function(){return e.lazySink(t)},a="horizontal"===r.type?{layouts:{onLtr:function(){return jl()},onRtl:function(){return Bl()}}}:{},u=function(e){return 2===e.length},s=function(e){return u(e)?a:{}};return Rw.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,highlightImmediately:r.menu.highlightImmediately,onEscape:function(){return wm.close(t),e.onEscape.map(function(e){return e(t)}),ve.some(!0)},onExecute:function(){return ve.some(!0)},onOpenMenu:function(e,t){Fp.positionWithinBounds(i().getOrDie(),n,t,o())},onOpenSubmenu:function(e,t,n,r){var o=i().getOrDie();Fp.position(o,de({anchor:"submenu",item:t},s(r)),n)},onRepositionMenu:function(e,t,r){var a=i().getOrDie();Fp.positionWithinBounds(a,n,t,o()),He(r,function(e){var t=s(e.triggeringPath);Fp.position(a,de({anchor:"submenu",item:e.triggeringItem},t),e.triggeredMenu)})}})},Lw=function(e,t){var n=function(t,n){return e.getRelated(t).exists(function(e){return Dc(e,n)})},r=function(e,t){wm.setContent(e,t)},o=function(e,t,n){i(e,t,n,ve.none())},i=function(e,t,n,r){a(e,t,n,function(){return r.map(function(e){return bc(e)})})},a=function(t,n,r,o){var i=e.lazySink(t).getOrDie();wm.openWhileCloaked(t,r,function(){return Fp.positionWithinBounds(i,n,t,o())}),nh.setValue(t,ve.some({mode:"position",anchor:n,getBounds:o}))},u=function(e,t,n){s(e,t,n,function(){return ve.none()})},s=function(t,n,r,o){var i=Pw(e,t,n,r,o);wm.open(t,i),nh.setValue(t,ve.some({mode:"menu",menu:i}))},c=function(e){wm.isOpen(e)&&(nh.setValue(e,ve.none()),wm.close(e))},l=function(e){return wm.getState(e)},f=function(t){wm.isOpen(t)&&nh.getValue(t).each(function(n){switch(n.mode){case"menu":wm.getState(t).each(function(e){Rw.repositionMenus(e)});break;case"position":var r=e.lazySink(t).getOrDie();Fp.positionWithinBounds(r,n.anchor,t,n.getBounds())}})},d={setContent:r,showAt:o,showWithin:i,showWithinBounds:a,showMenuAt:u,showMenuWithinBounds:s,hide:c,getContent:l,reposition:f,isOpen:wm.isOpen};return{uid:e.uid,dom:e.dom,behaviours:ih(e.inlineBehaviours,[wm.config({isPartOf:function(e,t,r){return Dc(t,r)||n(e,r)},getAttachPoint:function(t){return e.lazySink(t).getOrDie()},onOpen:function(t){e.onShow(t)},onClose:function(t){e.onHide(t)}}),nh.config({store:{mode:"memory",initialValue:ve.none()}}),nf.config({channels:de(de({},km(de({isExtraPart:t.isExtraPart},e.fireDismissalEventInstead.map(function(e){return{fireEventInstead:{event:e.event}}}).getOr({})))),Em(de(de({},e.fireRepositionEventInstead.map(function(e){return{fireEventInstead:{event:e.event}}}).getOr({})),{doReposition:f})))})]),eventOrder:e.eventOrder,apis:d}},jw=dg({name:"InlineView",configFields:[lr("lazySink"),Xc("onShow"),Xc("onHide"),Sr("onEscape"),rh("inlineBehaviours",[wm,nh,nf]),kr("fireDismissalEventInstead",[Er("event",Ci())]),kr("fireRepositionEventInstead",[Er("event",_i())]),Er("getRelated",ve.none),Er("isExtraPart",ce),Er("eventOrder",ve.none)],factory:Lw,apis:{showAt:function(e,t,n,r){e.showAt(t,n,r)},showWithin:function(e,t,n,r,o){e.showWithin(t,n,r,o)},showWithinBounds:function(e,t,n,r,o){e.showWithinBounds(t,n,r,o)},showMenuAt:function(e,t,n,r){e.showMenuAt(t,n,r)},showMenuWithinBounds:function(e,t,n,r,o){e.showMenuWithinBounds(t,n,r,o)},hide:function(e,t){e.hide(t)},isOpen:function(e,t){return e.isOpen(t)},getContent:function(e,t){return e.getContent(t)},setContent:function(e,t,n){e.setContent(t,n)},reposition:function(e,t){e.reposition(t)}}}),Bw=function(e){return e.x},zw=function(e,t){return e.x+e.width/2-t.width/2},Fw=function(e,t){return e.x+e.width-t.width},Hw=function(e){return e.y},Uw=function(e,t){return e.y+e.height-t.height},Vw=function(e,t,n){return tl(Fw(e,t),Uw(e,t),n.innerSoutheast(),cl(),hl(e,{right:0,bottom:3}),"layout-inner-se")},qw=function(e,t,n){return tl(Bw(e),Uw(e,t),n.innerSouthwest(),sl(),hl(e,{left:1,bottom:3}),"layout-inner-sw")},Ww=function(e,t,n){return tl(Fw(e,t),Hw(e),n.innerNortheast(),ul(),hl(e,{right:0,top:2}),"layout-inner-ne")},$w=function(e,t,n){return tl(Bw(e),Hw(e),n.innerNorthwest(),al(),hl(e,{left:1,top:2}),"layout-inner-nw")},Gw=function(e,t,n){return tl(zw(e,t),Hw(e),n.innerNorth(),ll(),hl(e,{top:2}),"layout-inner-n")},Xw=function(e,t,n){return tl(zw(e,t),Uw(e,t),n.innerSouth(),fl(),hl(e,{bottom:3}),"layout-inner-s")},Kw=tinymce.util.Tools.resolve("tinymce.util.Delay"),Yw=function(e){var t=nw(e.action),n=e.dom.tag,r=function(t){return Rt(e.dom,"attributes").bind(function(e){return Rt(e,t)})};return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:ah.augment(e.buttonBehaviours,[Ly.config({}),hy.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:function(){if("button"===n){var e=r("type").getOr("button"),t=r("role").map(function(e){return{role:e}}).getOr({});return de({type:e},t)}return{role:r("role").getOr("button")}}()},eventOrder:e.eventOrder}},Jw=dg({name:"Button",factory:Yw,configFields:[Er("uid",void 0),lr("dom"),Er("components",[]),ah.field("buttonBehaviours",[Ly,hy]),wr("action"),wr("role"),Er("eventOrder",{})]}),Qw=function(e){var t=u(e)&&Lt(e,"uid")?e.uid:Qa("memento");return{get:function(e){return e.getSystem().getByUid(t).getOrDie()},getOpt:function(e){return e.getSystem().getByUid(t).toOption()},asSpec:function(){return de(de({},e),{uid:t})}}},Zw=function(e){return ve.from(e()["temporary-placeholder"]).getOr("!not found!")},ex=function(e,t){return ve.from(t()[e.toLowerCase()]).getOrThunk(function(){return Zw(t)})},tx=function(e,t,n){return ve.from(t()[e.toLowerCase()]).or(n).getOrThunk(function(){return Zw(t)})},nx=function(e,t){return at(e,function(e){return ve.from(t()[e.toLowerCase()])}).getOrThunk(function(){return Zw(t)})},rx={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},ox=function(e){var t=Qw({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:$l([ky.config({})])}),n=function(e){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+e+"%"}}}},r=function(e){return{dom:{tag:"div",classes:["tox-text"],innerHtml:e+"%"}}},o=Qw({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},r(0)],behaviours:$l([ky.config({})])}),i=function(e,t){e.getSystem().isConnected()&&o.getOpt(e).each(function(e){ky.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(t)]},r(t)])})},a=function(e,n){if(e.getSystem().isConnected()){var r=t.get(e);ky.set(r,[Ds(n)])}},u={updateProgress:i,updateText:a},s=Ye([e.icon.toArray(),e.level.toArray(),e.level.bind(function(e){return ve.from(rx[e])}).toArray()]),c=Qw(Jw.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:ex("close",e.iconProvider),attributes:{"aria-label":e.translationProvider("Close")}}}],action:function(t){e.onAction(t)}})),l=[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:nx(s,e.iconProvider)}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:$l([ky.config({})])}];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map(function(e){return["tox-notification","tox-notification--in","tox-notification--"+e]}).getOr(["tox-notification","tox-notification--in"])},behaviours:$l([Ly.config({}),Ey("notification-events",[zi(Ko(),function(e){c.getOpt(e).each(Ly.focus)})])]),components:l.concat(e.progress?[o.asSpec()]:[]).concat(e.closeButton?[c.asSpec()]:[]),apis:u}},ix=dg({name:"Notification",factory:ox,configFields:[wr("level"),lr("progress"),lr("icon"),lr("onAction"),lr("text"),lr("iconProvider"),lr("translationProvider"),Mr("closeButton",!0)],apis:{updateProgress:function(e,t,n){e.updateProgress(t,n)},updateText:function(e,t,n){e.updateText(t,n)}}}),ax=function(e,n){var r=null;return{cancel:function(){null!==r&&(t.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null===r&&(r=t.setTimeout(function(){e.apply(null,o),r=null},n))}}},ux=function(e,n){var r=null;return{cancel:function(){null!==r&&(t.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null!==r&&t.clearTimeout(r),r=t.setTimeout(function(){e.apply(null,o),r=null},n)}}},sx=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),cx=function(e,t){return e.isBlock(t)||Le(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t)},lx=function(e,t,n,r,o){var i=sx(e,function(t){return cx(e,t)});return ve.from(i.backwards(t,n,r,o))},fx=function(e,t){return dx(Ur.fromDom(e.selection.getNode())).getOrThunk(function(){var n=Ur.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());return ba(n,Ur.fromDom(t.extractContents())),t.insertNode(n.dom()),ca(n).each(function(e){return e.dom().normalize()}),Ud(n).map(function(t){e.selection.setCursorLocation(t.dom(),Bd(t))}),n})},dx=function(e){return Ec(e,"[data-mce-autocompleter]")},px=function(e){return e.collapsed&&3===e.startContainer.nodeType},mx=function(e){return e.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},hx=function(e){return""!==e&&-1!=="  \f\n\r\t\v".indexOf(e)},gx=function(e,t){return e.substring(t.length)},vx=function(e,t,n){var r;for(r=t-1;r>=0;r--){var o=e.charAt(r);if(hx(o))return ve.none();if(o===n)break}return ve.some(r)},bx=function(e,t,n,r){if(void 0===r&&(r=0),!px(t))return ve.none();var o=function(e,t,r){return vx(r,t,n).getOr(t)},i=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return lx(e,t.startContainer,t.startOffset,o,i).bind(function(e){var o=t.cloneRange();if(o.setStart(e.container,e.offset),o.setEnd(t.endContainer,t.endOffset),o.collapsed)return ve.none();var i=mx(o);return 0!==i.lastIndexOf(n)||gx(i,n).length<r?ve.none():ve.some({text:gx(i,n),range:o,triggerChar:n})})},yx=function(e,t,n,r){return void 0===r&&(r=0),dx(Ur.fromDom(t.startContainer)).fold(function(){return bx(e,t,n,r)},function(t){var r=e.createRng();r.selectNode(t.dom());var o=mx(r);return ve.some({range:r,text:gx(o,n),triggerChar:n})})},wx=function(e,t){t.on("keypress compositionend",e.onKeypress.throttle),t.on("remove",e.onKeypress.cancel);var n=function(e,t){Di(e,Jo(),{raw:t})};t.on("keydown",function(t){var r=function(){return e.getView().bind(Ug.getHighlighted)};8===t.which&&e.onKeypress.throttle(t),e.isActive()&&(27===t.which&&e.cancelIfNecessary(),e.isMenuOpen()?13===t.which?(r().each(Mi),t.preventDefault()):40===t.which?(r().fold(function(){e.getView().each(Ug.highlightFirst)},function(e){n(e,t)}),t.preventDefault(),t.stopImmediatePropagation()):37!==t.which&&38!==t.which&&39!==t.which||r().each(function(e){n(e,t),t.preventDefault(),t.stopImmediatePropagation()}):13!==t.which&&38!==t.which&&40!==t.which||e.cancelIfNecessary())}),t.on("NodeChange",function(t){e.isActive()&&!e.isProcessingAction()&&dx(Ur.fromDom(t.element)).isNone()&&e.cancelIfNecessary()})},xx={setup:wx},Cx=tinymce.util.Tools.resolve("tinymce.util.Promise"),_x=function(e,t){return{container:e,offset:t}},Sx=function(e){return e.nodeType===t.Node.TEXT_NODE},kx=function(e){return e.nodeType===t.Node.ELEMENT_NODE},Tx=function(e){if(Sx(e))return _x(e,e.data.length);var t=e.childNodes;return t.length>0?Tx(t[t.length-1]):_x(e,t.length)},Ex=function(e,t){var n=e.childNodes;return n.length>0&&t<n.length?Ex(n[t],0):n.length>0&&kx(e)&&n.length===t?Tx(n[n.length-1]):_x(e,t)},Ox=function(e,t){return lx(e,t.container,t.offset,function(e,t){return 0===t?-1:t},e.getRoot()).filter(function(e){var t=e.container.data.charAt(e.offset-1);return!hx(t)}).isSome()},Nx=function(e){return function(t){var n=Ex(t.startContainer,t.startOffset);return!Ox(e,n)}},Ax=function(e,t,n){return at(n.triggerChars,function(n){return yx(e,t,n)})},Dx=function(e,t){var n=t(),r=e.selection.getRng();return Ax(e.dom,r,n).bind(function(n){return Mx(e,t,n)})},Mx=function(e,t,n,r){void 0===r&&(r={});var o=t(),i=e.selection.getRng(),a=i.startContainer.nodeValue,u=qe(o.lookupByChar(n.triggerChar),function(t){return n.text.length>=t.minChars&&t.matches.getOrThunk(function(){return Nx(e.dom)})(n.range,a,n.text)});if(0===u.length)return ve.none();var s=Cx.all(Fe(u,function(e){return e.fetch(n.text,e.maxResults,r).then(function(t){return{matchText:n.text,items:t,columns:e.columns,onAction:e.onAction}})}));return ve.some({lookupData:s,context:n})},Ix=Rn([pr("type"),_r("text")]),Rx=function(e){return Kn("separatormenuitem",Ix,e)},Px=Rn([Pr("type",function(){return"autocompleteitem"}),Pr("active",function(){return!1}),Pr("disabled",function(){return!1}),Er("meta",{}),pr("value"),_r("text"),_r("icon")]),Lx=Rn([pr("type"),pr("ch"),Nr("minChars",1),Er("columns",1),Nr("maxResults",10),Sr("matches"),hr("fetch"),hr("onAction")]),jx=function(e){return Kn("Autocompleter.Separator",Ix,e)},Bx=function(e){return Kn("Autocompleter.Item",Px,e)},zx=function(e){return Kn("Autocompleter",Lx,e)},Fx=function(e){var t={};return He(e,function(e){t[e]={}}),_t(t)},Hx=function(e){var t=e.ui.registry.getAll().popups,n=Tt(t,function(e){return zx(e).fold(function(e){throw new Error(Qn(e))},function(e){return e})}),r=Fx(Dt(n,function(e){return e.ch})),o=It(n);return{dataset:n,triggerChars:r,lookupByChar:function(e){return qe(o,function(t){return t.ch===e})}}};!function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"}(dv||(dv={}));var Ux,Vx=dv,qx="tox-menu-nav__js",Wx={normal:qx,color:"tox-swatch"},$x="tox-collection__item-label",Gx="tox-collection__item--active",Xx=function(e){return Rt(Wx,e).getOr(qx)},Kx=function(e){return"color"===e?"tox-swatches":"tox-menu"},Yx=function(e){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:Kx(e),tieredMenu:"tox-tiered-menu"}},Jx=function(e){var t=Yx(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:Xx(e)}},Qx=function(e,t,n){var r=Yx(n);return{tag:"div",classes:Ye([[r.menu,"tox-menu-"+t+"-column"],e?[r.hasIcons]:[]])}},Zx=[Cw.parts().items({})],eC=function(e,t,n){var r=Yx(n);return{dom:{tag:"div",classes:Ye([[r.tieredMenu]])},markers:Jx(n)}},tC=function(e,t){return function(n){var r=ze(n,t);return Fe(r,function(t){return{dom:e,components:t}})}},nC=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Cw.parts().items({preprocess:"auto"!==e?tC({tag:"div",classes:["tox-swatches__row"]},e):ae})]}]}},rC=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Cw.parts().items({preprocess:tC({tag:"div",classes:["tox-collection__group"]},e)})]}},oC=function(e,t){var n=[],r=[];return He(e,function(e,o){t(e,o)?(r.length>0&&n.push(r),r=[],Pt(e.dom,"innerHtml")&&r.push(e)):r.push(e)}),r.length>0&&n.push(r),Fe(n,function(e){return{dom:{tag:"div",classes:["tox-collection__group"]},components:e}})},iC=function(e,t,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[Cw.parts().items({preprocess:function(n){return"auto"!==e&&e>1?tC({tag:"div",classes:["tox-collection__group"]},e)(n):oC(n,function(e,n){return"separator"===t[n].type})}})]}},aC=function(e,t){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Cw.parts().items({preprocess:function(t){return oC(t,function(t,n){return"separator"===e[n].type})}})]}},uC=function(e){return je(e,function(e){return"icon"in e&&void 0!==e.icon})},sC=function(e){return t.console.error(Qn(e)),t.console.log(e),ve.none()},cC=function(e,t,n,r,o){var i=aC(n);return{value:e,dom:i.dom,components:i.components,items:n}},lC=function(e,t,n,r,o){if("color"===o){var i=nC(r);return{value:e,dom:i.dom,components:i.components,items:n}}if("normal"===o&&"auto"===r){var i=iC(r,n);return{value:e,dom:i.dom,components:i.components,items:n}}if("normal"===o&&1===r){var i=iC(1,n);return{value:e,dom:i.dom,components:i.components,items:n}}if("normal"===o){var i=iC(r,n);return{value:e,dom:i.dom,components:i.components,items:n}}if("listpreview"===o&&"auto"!==r){var i=rC(r);return{value:e,dom:i.dom,components:i.components,items:n}}return{value:e,dom:Qx(t,r,o),components:Zx,items:n}},fC=[Mr("disabled",!1),_r("text"),_r("shortcut"),Fn("value","value",Jt(function(){return qa("menuitem-value")}),tr()),Er("meta",{})],dC=Rn([pr("type"),Mr("active",!1),_r("icon")].concat(fC)),pC=function(e){return Kn("choicemenuitem",dC,e)},mC=["inserttable","colorswatch"],hC=Rn([pr("type"),mr("fancytype",mC),Ir("onAction",te)]),gC=function(e){return Kn("fancymenuitem",hC,e)},vC=Rn([pr("type"),Ir("onSetup",function(){return te}),Ir("onAction",te),_r("icon")].concat(fC)),bC=function(e){return Kn("menuitem",vC,e)},yC=Rn([pr("type"),hr("getSubmenuItems"),Ir("onSetup",function(){return te}),_r("icon")].concat(fC)),wC=function(e){return Kn("nestedmenuitem",yC,e)},xC=Rn([pr("type"),_r("icon"),Mr("active",!1),Ir("onSetup",function(){return te}),hr("onAction")].concat(fC)),CC=function(e){return Kn("togglemenuitem",xC,e)},_C=function(e,t,n){var r=qd(e.element(),"."+n);if(r.length>0){var o=Ke(r,function(e){var n=e.dom().getBoundingClientRect().top,o=r[0].dom().getBoundingClientRect().top;return Math.abs(n-o)>t}).getOr(r.length);return ve.some({numColumns:o,numRows:Math.ceil(r.length/o)})}return ve.none()},SC=function(e,t){return $l([Ey(e,t)])},kC=function(e){return SC(qa("unnamed-events"),e)},TC={namedEvents:SC,unnamedEvents:kC},EC=[lr("lazySink"),lr("tooltipDom"),Er("exclusive",!0),Er("tooltipComponents",[]),Er("delay",300),Dr("mode","normal",["normal","follow-highlight"]),Er("anchor",function(e){return{anchor:"hotspot",hotspot:e,layouts:{onLtr:ie([Al,Nl,kl,El,Tl,Ol]),onRtl:ie([Al,Nl,kl,El,Tl,Ol])}}}),Xc("onHide"),Xc("onShow")],OC=function(){var e=Lr(ve.none()),n=Lr(ve.none()),r=function(){return n.get()},o=function(e){n.set(ve.some(e))},i=function(){n.set(ve.none())},a=function(){e.get().each(function(e){t.clearTimeout(e)})},u=function(n,r){a(),e.set(ve.some(t.setTimeout(function(){n()},r)))},s=function(){return n.get().isSome()},c=ie("not-implemented");return fu({getTooltip:r,isShowing:s,setTooltip:o,clearTooltip:i,clearTimer:a,resetTimer:u,readState:c})},NC=Object.freeze({__proto__:null,init:OC}),AC=qa("tooltip.exclusive"),DC=qa("tooltip.show"),MC=qa("tooltip.hide"),IC=function(e,t,n){e.getSystem().broadcastOn([AC],{})},RC=function(e,t,n,r){n.getTooltip().each(function(e){e.getSystem().isConnected()&&ky.set(e,r)})},PC=Object.freeze({__proto__:null,hideAllExclusive:IC,setComponents:RC}),LC=function(e,t){var n=function(n){t.getTooltip().each(function(r){Kp(r),e.onHide(n,r),t.clearTooltip()}),t.clearTimer()},r=function(n){if(!t.isShowing()){IC(n);var r=e.lazySink(n).getOrDie(),o=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Li("normal"===e.mode?[zi(Xo(),function(e){Ai(n,DC)}),zi($o(),function(e){Ai(n,MC)})]:[]),behaviours:$l([ky.config({})])});t.setTooltip(o),$p(r,o),e.onShow(n,o),Fp.position(r,e.anchor(n),o)}};return Li(Ye([[zi(DC,function(n){t.resetTimer(function(){r(n)},e.delay)}),zi(MC,function(r){t.resetTimer(function(){n(r)},e.delay)}),zi(si(),function(e,t){Le(t.channels(),AC)&&n(e)}),Ki(function(e){n(e)})],"normal"===e.mode?[zi(Ko(),function(e){Ai(e,DC)}),zi(ai(),function(e){Ai(e,MC)}),zi(Xo(),function(e){Ai(e,DC)}),zi($o(),function(e){Ai(e,MC)})]:[zi(Oi(),function(e,t){Ai(e,DC)}),zi(Ni(),function(e){Ai(e,MC)})]]))},jC=Object.freeze({__proto__:null,events:LC}),BC=Xl({fields:EC,name:"tooltipping",active:jC,state:NC,apis:PC}),zC=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),FC=tinymce.util.Tools.resolve("tinymce.util.I18n"),HC=["input","button","textarea","select"],UC=function(e,t,n){(t.disabled()?YC:JC)(e,t,n)},VC=function(e,t){return!0===t.useNative&&Le(HC,Qi(e.element()))},qC=function(e){return Ra(e.element(),"disabled")},WC=function(e){Aa(e.element(),"disabled","disabled")},$C=function(e){Pa(e.element(),"disabled")},GC=function(e){return"true"===Ma(e.element(),"aria-disabled")},XC=function(e){Aa(e.element(),"aria-disabled","true")},KC=function(e){Aa(e.element(),"aria-disabled","false")},YC=function(e,t,n){t.disableClass.each(function(t){Vu(e.element(),t)}),(VC(e,t)?WC:XC)(e),t.onDisabled(e)},JC=function(e,t,n){t.disableClass.each(function(t){Wu(e.element(),t)}),(VC(e,t)?$C:KC)(e),t.onEnabled(e)},QC=function(e,t){return VC(e,t)?qC(e):GC(e)},ZC=function(e,t,n,r){(r?YC:JC)(e,t,n)},e_=Object.freeze({__proto__:null,enable:JC,disable:YC,isDisabled:QC,onLoad:UC,set:ZC}),t_=function(e,t){return gu({classes:t.disabled()?t.disableClass.toArray():[]})},n_=function(e,t){return Li([ji(ci(),function(t,n){return QC(t,e)}),Fl(e,t,UC)])},r_=Object.freeze({__proto__:null,exhibit:t_,events:n_}),o_=[Ir("disabled",ce),Er("useNative",!0),wr("disableClass"),Xc("onDisabled"),Xc("onEnabled")],i_=Xl({fields:o_,name:"disabling",active:r_,apis:e_}),a_=tinymce.util.Tools.resolve("tinymce.EditorManager"),u_=function(e){var t=e.getParam("skin"),n=e.getParam("skin_url");if(!1!==t){var r=t||"oxide";n=n?e.documentBaseURI.toAbsolute(n):a_.baseURL+"/skins/ui/"+r}return n},s_=function(e){return e.getParam("readonly",!1,"boolean")},c_=function(e){return!1===e.getParam("skin")},l_=function(e){return e.getParam("height",Math.max(e.getElement().offsetHeight,200))},f_=function(e){return e.getParam("width",zC.DOM.getStyle(e.getElement(),"width"))},d_=function(e){return ve.from(e.getParam("min_width")).filter(Ne)},p_=function(e){return ve.from(e.getParam("min_height")).filter(Ne)},m_=function(e){return ve.from(e.getParam("max_width")).filter(Ne)},h_=function(e){return ve.from(e.getParam("max_height")).filter(Ne)},g_=function(e){return ve.from(e.getParam("style_formats")).filter(_e)},v_=function(e){return e.getParam("style_formats_merge",!1,"boolean")},b_=function(e){return e.getParam("removed_menuitems","")},y_=function(e){return!1!==e.getParam("menubar",!0,"boolean")},w_=function(e){var t=e.getParam("toolbar",!0),n=!0===t,r=xe(t),o=_e(t)&&t.length>0;return!C_(e)&&(o||r||n)},x_=function(e){var t=Be(9,function(t){return e.getParam("toolbar"+(t+1),!1,"string")}),n=qe(t,function(e){return"string"==typeof e});return n.length>0?ve.some(n):ve.none()},C_=function(e){return x_(e).fold(function(){return e.getParam("toolbar",[],"string[]").length>0},function(){return!0})};!function(e){e.default="wrap",e.floating="floating",e.sliding="sliding",e.scrolling="scrolling"}(Ux||(Ux={}));var __,S_=function(e){return e.getParam("toolbar_mode","","string")};!function(e){e.auto="auto",e.top="top",e.bottom="bottom"}(__||(__={}));var k_,T_=function(e){return e.getParam("toolbar_groups",{},"object")},E_=function(e){return e.getParam("toolbar_location",__.auto,"string")},O_=function(e){return E_(e)===__.bottom},N_=function(e){return e.getParam("fixed_toolbar_container","","string")},A_=function(e){var t=N_(e);return t.length>0&&e.inline?Tc(as(),t):ve.none()},D_=function(e){return e.inline&&A_(e).isSome()},M_=function(e){return A_(e).getOr(as())},I_=function(e){return e.inline&&!y_(e)&&!w_(e)&&!C_(e)},R_=function(e){return(e.getParam("toolbar_sticky",!1,"boolean")||e.inline)&&!D_(e)&&!I_(e)},P_=function(e){return e.getParam("draggable_modal",!1,"boolean")},L_=function(e){var t=e.getParam("menu");return t?Tt(t,function(e){return de(de({},e),{items:e.items})}):{}},j_=function(e){return e.getParam("menubar")},B_=function(e){return e.getParam("toolbar",!0)},z_=function(e){return e.getParam("file_picker_callback")},F_=function(e){return e.getParam("file_picker_types")},H_=function(e){return e.getParam("file_browser_callback_types")},U_=function(e){return!1===e.getParam("typeahead_urls")},V_=function(e){return e.getParam("anchor_top","#top")},q_=function(e){return e.getParam("anchor_bottom","#bottom")},W_=function(e){var t=e.getParam("file_picker_validator_handler",void 0,"function");return void 0===t?e.getParam("filepicker_validator_handler",void 0,"function"):t},$_=Rn([function(e){return fr(e,ir)}("readonly")]),G_=function(e,t){var n=e.outerContainer,r=n.element();t&&(e.mothership.broadcastOn([xm()],{target:r}),e.uiMothership.broadcastOn([xm()],{target:r})),e.mothership.broadcastOn(["silver.readonly"],{readonly:t}),e.uiMothership.broadcastOn(["silver.readonly"],{readonly:t})},X_=function(e,t){e.on("init",function(){e.mode.isReadOnly()&&G_(t,!0)}),e.on("SwitchMode",function(){return G_(t,e.mode.isReadOnly())}),s_(e)&&e.setMode("readonly")},K_=function(){var e;return nf.config({channels:(e={},e["silver.readonly"]={schema:$_,onReceive:function(e,t){i_.set(e,t.readonly)}},e)})},Y_=function(e){return i_.config({disabled:e,disableClass:"tox-collection__item--state-disabled"})},J_=function(e){return i_.config({disabled:e})},Q_=function(e){return i_.config({disabled:e,disableClass:"tox-tbtn--disabled"})},Z_=function(e){return i_.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1})},eS={item:Y_,button:J_,splitButton:Q_,toolbarButton:Z_},tS=function(e,t){var n=e.getApi(t);return function(e){e(n)}},nS=function(e,t){return Xi(function(n){tS(e,n)(function(n){var r=e.onSetup(n);null!==r&&void 0!==r&&t.set(r)})})},rS=function(e,t){return Ki(function(n){return tS(e,n)(t.get())})},oS=function(e,t){return Ji(function(n,r){tS(e,n)(e.onAction),e.triggersSubmenu||t!==Vx.CLOSE_ON_EXECUTE||(Ai(n,pi()),r.stop())})},iS={"alloy.execute":["disabling","alloy.base.behaviour","toggling","item-events"]},aS=function(e){return Je(e,function(e){return e.toArray()})},uS=function(e,t,n,r){var o=Lr(te);return{type:"item",dom:t.dom,components:aS(t.optComponents),data:e.data,eventOrder:iS,hasSubmenu:e.triggersSubmenu,itemBehaviours:$l([Ey("item-events",[oS(e,n),nS(e,o),rS(e,o)]),eS.item(function(){return e.disabled||r.isReadOnly()}),K_(),ky.config({})].concat(e.itemBehaviours))}},sS=function(e){return{value:e.value,meta:de({text:e.text.getOr("")},e.meta)}},cS=tinymce.util.Tools.resolve("tinymce.Env"),lS=function(e){var t={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},n={meta:"Ctrl",access:"Shift+Alt"},r=cS.mac?t:n,o=e.split("+"),i=Fe(o,function(e){var t=e.toLowerCase().trim();return Pt(r,t)?r[t]:e});return cS.mac?i.join(""):i.join("+")},fS=function(e){return{dom:{tag:"div",classes:["tox-collection__item-icon"],innerHtml:e}}},dS=function(e){return{dom:{tag:"div",classes:[$x]},components:[Ds(FC.translate(e))]}},pS=function(e){return{dom:{tag:"div",classes:[$x],innerHtml:e}}},mS=function(e,t){return{dom:{tag:"div",classes:[$x]},components:[{dom:{tag:e.tag,styles:e.styles},components:[Ds(FC.translate(t))]}]}},hS=function(e){return{dom:{tag:"div",classes:["tox-collection__item-accessory"],innerHtml:lS(e)}}},gS=function(e){return{dom:{tag:"div",classes:["tox-collection__item-checkmark"],innerHtml:ex("checkmark",e)}}},vS=function(e){return{dom:{tag:"div",classes:["tox-collection__item-caret"],innerHtml:ex("chevron-right",e)}}},bS=function(e){return{dom:{tag:"div",classes:["tox-collection__item-caret"],innerHtml:ex("chevron-down",e)}}},yS=function(e,t,n,r){return{dom:function(){var i=n.getOr(""),a=e.map(function(e){return{title:r.translate(e)}}).getOr({}),u={tag:"div",attributes:a,classes:["tox-swatch"]};return"custom"===t?de(de({},u),{tag:"button",classes:o(u.classes,["tox-swatches__picker-btn"]),innerHtml:i}):"remove"===t?de(de({},u),{classes:o(u.classes,["tox-swatch--remove"]),innerHtml:i}):de(de({},u),{attributes:de(de({},u.attributes),{"data-mce-color":t}),styles:{"background-color":t}})}(),optComponents:[]}},wS=function(e,t,n,r,o){var i=n?t.or(ve.some("")).map(fS):ve.none(),a=e.checkMark,u=e.ariaLabel.map(function(e){return{attributes:{title:FC.translate(e)}}}).getOr({});return{dom:de({tag:"div",classes:[qx,"tox-collection__item"].concat(o?["tox-collection__item-icon-rtl"]:[])},u),optComponents:[i,e.htmlContent.fold(function(){return e.textContent.map(r)},function(e){return ve.some(pS(e))}),e.shortcutContent.map(hS),a,e.caret]}},xS=["list-num-default","list-num-lower-alpha","list-num-lower-greek","list-num-lower-roman","list-num-upper-alpha","list-num-upper-roman"],CS=["list-bull-circle","list-bull-default","list-bull-square"],_S=function(e,t,r,o){void 0===o&&(o=ve.none());var i=FC.isRtl()&&e.iconContent.exists(function(e){return Le(CS,e)}),a=function(e){return e.map(function(e){return FC.isRtl()&&Le(xS,e)?e+"-rtl":e})}(e.iconContent).map(function(e){return tx(e,t.icons,o)}),u=ve.from(e.meta).fold(function(){return dS},function(e){return Pt(e,"style")?n(mS,e.style):dS});return"color"===e.presets?yS(e.ariaLabel,e.value,a,t):wS(e,a,r,u,i)},SS=function(e,t){return Rt(e,"tooltipWorker").map(function(e){return[BC.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(e){return{anchor:"submenu",item:e,overrides:{maxHeightFunction:Ff}}},mode:"follow-highlight",onShow:function(t,n){e(function(e){BC.setComponents(t,[Ms({element:Ur.fromDom(e)})])})}})]}).getOr([])},kS=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},TS=function(e){return zC.DOM.encode(e)},ES=function(e,t){var n=FC.translate(e),r=TS(n);if(t.length>0){var o=new RegExp(kS(t),"gi");return r.replace(o,function(e){return'<span class="tox-autocompleter-highlight">'+e+"</span>"})}return r},OS=function(e,t,n,r,o,i,a,u){void 0===u&&(u=!0);var s=_S({presets:r,textContent:ve.none(),htmlContent:n?e.text.map(function(e){return ES(e,t)}):ve.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:ve.none(),checkMark:ve.none(),caret:ve.none(),value:e.value},a.providers,u,e.icon);return uS({data:sS(e),disabled:e.disabled,getApi:function(){return{}},onAction:function(t){return o(e.value,e.meta)},onSetup:function(){return function(){}},triggersSubmenu:!1,itemBehaviours:SS(e.meta,a)},s,i,a.providers)},NS=function(e,t,n,r,o,i,a,u){void 0===u&&(u=!0);var s=function(e){return{setActive:function(t){ew.set(e,t)},isActive:function(){return ew.isOn(e)},isDisabled:function(){return i_.isDisabled(e)},setDisabled:function(t){return i_.set(e,t)}}},c=_S({presets:n,textContent:t?e.text:ve.none(),htmlContent:ve.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:ve.none(),checkMark:t?ve.some(gS(a.icons)):ve.none(),caret:ve.none(),value:e.value},a,u);return Vt(uS({data:sS(e),disabled:e.disabled,getApi:s,onAction:function(t){return r(e.value)},onSetup:function(e){return e.setActive(o),function(){}},triggersSubmenu:!1,itemBehaviours:[]},c,i,a),{toggling:{toggleClass:"tox-collection__item--enabled",toggleOnExecute:!1,selected:e.active}})},AS=ie(Uh("item-widget",fw())),DS=qa("cell-over"),MS=qa("cell-execute"),IS=function(e,t,n){var r,o=function(n){return Di(n,DS,{row:e,col:t})},i=function(n){return Di(n,MS,{row:e,col:t})},a=function(e,t){t.stop(),i(e)};return Rs({dom:{tag:"div",attributes:(r={role:"button"},r["aria-labelledby"]=n,r)},behaviours:$l([Ey("insert-table-picker-cell",[zi(Xo(),Ly.focus),zi(ci(),i),zi(ti(),a),zi(fi(),a)]),ew.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Ly.config({onFocus:o})])})},RS=function(e,t,n){for(var r=[],o=0;o<t;o++){for(var i=[],a=0;a<n;a++)i.push(IS(o,a,e));r.push(i)}return r},PS=function(e,t,n,r,o){for(var i=0;i<r;i++)for(var a=0;a<o;a++)ew.set(e[i][a],i<=t&&a<=n)},LS=function(e){return Je(e,function(e){return Fe(e,Ps)})},jS=function(e,t){return Ds(t+1+"x"+(e+1))},BS=function(e){var t=qa("size-label"),n=RS(t,10,10),r=Qw({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:t}},components:[Ds("0x0")],behaviours:$l([ky.config({})])});return{type:"widget",data:{value:qa("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[AS().widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:LS(n).concat(r.asSpec()),behaviours:$l([Ey("insert-table-picker",[qi(DS,function(e,t,o){var i=o.event().row(),a=o.event().col();PS(n,i,a,10,10),ky.set(r.get(e),[jS(i,a)])}),qi(MS,function(t,n,r){e.onAction({numRows:r.event().row()+1,numColumns:r.event().col()+1}),Ai(t,pi())})]),hy.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},zS=function(e){return{value:e}},FS=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,HS=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,US=function(e){return FS.test(e)||HS.test(e)},VS=function(e){return{value:e.value.replace(FS,function(e,t,n,r){return t+t+n+n+r+r})}},qS=function(e){var t=VS(e),n=HS.exec(t.value);return null===n?["FFFFFF","FF","FF","FF"]:n},WS=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t},$S=function(e){var t=WS(e.red)+WS(e.green)+WS(e.blue);return zS(t)},GS=Math.min,XS=Math.max,KS=Math.round,YS=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,JS=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,QS=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},ZS=function(e){var t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},ek=function(e){var t,n,r,o=(e.hue||0)%360,i=e.saturation/100,a=e.value/100;if(i=XS(0,GS(i,1)),a=XS(0,GS(a,1)),0===i)return t=n=r=KS(255*a),QS(t,n,r,1);var u=o/60,s=a*i,c=s*(1-Math.abs(u%2-1)),l=a-s;switch(Math.floor(u)){case 0:t=s,n=c,r=0;break;case 1:t=c,n=s,r=0;break;case 2:t=0,n=s,r=c;break;case 3:t=0,n=c,r=s;break;case 4:t=c,n=0,r=s;break;case 5:t=s,n=0,r=c;break;default:t=n=r=0}return t=KS(255*(t+l)),n=KS(255*(n+l)),r=KS(255*(r+l)),QS(t,n,r,1)},tk=function(e){var t=qS(e),n=parseInt(t[1],16),r=parseInt(t[2],16),o=parseInt(t[3],16);return QS(n,r,o,1)},nk=function(e,t,n,r){var o=parseInt(e,10),i=parseInt(t,10),a=parseInt(n,10),u=parseFloat(r);return QS(o,i,a,u)},rk=function(e){if("transparent"===e)return ve.some(QS(0,0,0,0));var t=YS.exec(e);if(null!==t)return ve.some(nk(t[1],t[2],t[3],"1"));var n=JS.exec(e);return null!==n?ve.some(nk(n[1],n[2],n[3],n[4])):ve.none()},ok=function(e){return"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")"},ik=QS(255,0,0,1),ak=function(e){return e.fire("SkinLoaded")},uk=function(e,t){return e.fire("SkinLoadError",t)},sk=function(e){return e.fire("ResizeEditor")},ck=function(e,t){return e.fire("ResizeContent",t)},lk=function(e,t){return e.fire("ScrollContent",t)},fk=function(e,t){return e.fire("TextColorChange",t)},dk=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),pk="tinymce-custom-colors",mk="choiceitem",hk=[{type:mk,text:"Light Green",value:"#BFEDD2"},{type:mk,text:"Light Yellow",value:"#FBEEB8"},{type:mk,text:"Light Red",value:"#F8CAC6"},{type:mk,text:"Light Purple",value:"#ECCAFA"},{type:mk,text:"Light Blue",value:"#C2E0F4"},{type:mk,text:"Green",value:"#2DC26B"},{type:mk,text:"Yellow",value:"#F1C40F"},{type:mk,text:"Red",value:"#E03E2D"},{type:mk,text:"Purple",value:"#B96AD9"},{type:mk,text:"Blue",value:"#3598DB"},{type:mk,text:"Dark Turquoise",value:"#169179"},{type:mk,text:"Orange",value:"#E67E23"},{type:mk,text:"Dark Red",value:"#BA372A"},{type:mk,text:"Dark Purple",value:"#843FA1"},{type:mk,text:"Dark Blue",value:"#236FA1"},{type:mk,text:"Light Gray",value:"#ECF0F1"},{type:mk,text:"Medium Gray",value:"#CED4D9"},{type:mk,text:"Gray",value:"#95A5A6"},{type:mk,text:"Dark Gray",value:"#7E8C8D"},{type:mk,text:"Navy Blue",value:"#34495E"},{type:mk,text:"Black",value:"#000000"},{type:mk,text:"White",value:"#ffffff"}],gk=function(e){void 0===e&&(e=10);var t=dk.getItem(pk),n=xe(t)?JSON.parse(t):[],r=function(t){return e-t.length<0?t.slice(0,e):t}(n),o=function(e){r.splice(e,1)};return{add:function(t){Pe(r,t).each(o),r.unshift(t),r.length>e&&r.pop(),dk.setItem(pk,JSON.stringify(r))},state:function(){return r.slice(0)}}}(10),vk=function(e){var n=[],r=t.document.createElement("canvas");r.height=1,r.width=1;for(var o=r.getContext("2d"),i=function(e,t){var n=t/255;return("0"+Math.round(e*n+255*(1-n)).toString(16)).slice(-2).toUpperCase()},a=0;a<e.length;a+=2)n.push({text:e[a+1],value:function(e){if(/^[0-9A-Fa-f]{6}$/.test(e))return"#"+e.toUpperCase();o.clearRect(0,0,r.width,r.height),o.fillStyle="#FFFFFF",o.fillStyle=e,o.fillRect(0,0,1,1);var t=o.getImageData(0,0,1,1).data,n=t[0],a=t[1],u=t[2],s=t[3];return"#"+i(n,s)+i(a,s)+i(u,s)}(e[a]),type:"choiceitem"});return n},bk=function(e,t){return e.getParam("color_cols",t,"number")},yk=function(e){return!1!==e.getParam("custom_colors")},wk=function(e){return e.getParam("color_map")},xk=function(e){var t=wk(e);return void 0!==t?vk(t):hk},Ck=function(){return Fe(gk.state(),function(e){return{type:mk,text:e,value:e}})},_k=function(e){gk.add(e)},Sk=function(e,t){var n;return e.dom.getParents(e.selection.getStart(),function(e){var r;(r=e.style["forecolor"===t?"color":"background-color"])&&(n=n||r)}),n},kk=function(e,t,n){e.undoManager.transact(function(){e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()})},Tk=function(e,t){e.undoManager.transact(function(){e.focus(),e.formatter.remove(t,{value:null},null,!0),e.nodeChanged()})},Ek=function(e){e.addCommand("mceApplyTextcolor",function(t,n){kk(e,t,n)}),e.addCommand("mceRemoveTextcolor",function(t){Tk(e,t)})},Ok=function(e){return Math.max(5,Math.ceil(Math.sqrt(e)))},Nk=function(e){var t=xk(e),n=Ok(t.length);return bk(e,n)},Ak=function(e){var t={type:"choiceitem",text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},n={type:"choiceitem",text:"Custom color",icon:"color-picker",value:"custom"};return e?[t,n]:[t]},Dk=function(e,t,n,r){if("custom"===n){jk(e)(function(n){n.each(function(n){_k(n),e.execCommand("mceApplyTextcolor",t,n),r(n)})},"#000000")}else"remove"===n?(r(""),e.execCommand("mceRemoveTextcolor",t)):(r(n),e.execCommand("mceApplyTextcolor",t,n))},Mk=function(e,t){return e.concat(Ck().concat(Ak(t)))},Ik=function(e,t){return function(n){n(Mk(e,t))}},Rk=function(e,t,n){var r="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";!function(t,n){e.setIconFill(t,n),e.setIconStroke(t,n)}(r,n)},Pk=function(e,t,n,r,o){e.ui.registry.addSplitButton(t,{tooltip:r,presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:function(t){return ve.from(Sk(e,n)).bind(function(e){return rk(e).map(function(e){var n=$S(e).value;return co(t.toLowerCase(),n)})}).getOr(!1)},columns:Nk(e),fetch:Ik(xk(e),yk(e)),onAction:function(t){null!==o.get()&&Dk(e,n,o.get(),function(){})},onItemAction:function(r,i){Dk(e,n,i,function(n){o.set(n),fk(e,{name:t,color:n})})},onSetup:function(n){null!==o.get()&&Rk(n,t,o.get());var r=function(e){e.name===t&&Rk(n,e.name,e.color)};return e.on("TextColorChange",r),function(){e.off("TextColorChange",r)}}})},Lk=function(e,t,n,r){e.ui.registry.addNestedMenuItem(t,{text:r,icon:"forecolor"===t?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(t){Dk(e,n,t.value,te)}}]}})},jk=function(e){return function(t,n){var r=function(e,t){"hex-valid"===t.name&&(t.value?e.enable("ok"):e.disable("ok"))},o={colorpicker:n},i=function(e){return function(t){var n=t.getData();e(ve.from(n.colorpicker)),t.close()}}(t);e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onAction:r,onSubmit:i,onClose:function(){},onCancel:function(){t(ve.none())}})}},Bk=function(e){Ek(e);var t=Lr(null),n=Lr(null);Pk(e,"forecolor","forecolor","Text color",t),Pk(e,"backcolor","hilitecolor","Background color",n),Lk(e,"forecolor","forecolor","Text color"),Lk(e,"backcolor","hilitecolor","Background color")},zk=function(e,t,n,r,o,i,a,u){var s=uC(t),c="color"!==o?"normal":"color",l=Fk(t,n,r,c,i,a,u);return lC(e,s,l,r,o)},Fk=function(e,t,n,r,o,i,a){return mg(Fe(e,function(u){return"choiceitem"===u.type?pC(u).fold(sC,function(s){return ve.some(NS(s,1===n,r,t,i(u.value),o,a,uC(e)))}):ve.none()}))},Hk=function(e,t){var n=Jx(t);return 1===e?{mode:"menu",moveOnTab:!0}:"auto"===e?{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===t?"tox-swatches__row":"tox-collection__group")}},Uk=function(e,t){return 1===e?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===e?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===t?".tox-swatches__row":".tox-collection__group",cell:"color"===t?".tox-swatch":".tox-collection__item"}}},Vk={inserttable:BS,colorswatch:c},qk=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?ve.some(e[t]):ve.none()},Wk=function(e,t){return qk(Vk,e.fancytype).map(function(n){return n(e,t)})},$k=function(e,t,n,r){void 0===r&&(r=!0);var o=function(e){return{isDisabled:function(){return i_.isDisabled(e)},setDisabled:function(t){return i_.set(e,t)}}},i=_S({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:ve.none(),ariaLabel:e.text,caret:ve.none(),checkMark:ve.none(),shortcutContent:e.shortcut},n,r);return uS({data:sS(e),getApi:o,disabled:e.disabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,t,n)},Gk=function(e,t,n,r,o){void 0===r&&(r=!0),void 0===o&&(o=!1);var i=o?bS(n.icons):vS(n.icons),a=function(e){return{isDisabled:function(){return i_.isDisabled(e)},setDisabled:function(t){return i_.set(e,t)}}},u=_S({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:ve.none(),ariaLabel:e.text,caret:ve.some(i),checkMark:ve.none(),shortcutContent:e.shortcut},n,r);return uS({data:sS(e),getApi:a,disabled:e.disabled,onAction:te,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},u,t,n)},Xk=function(e){var t=e.text.fold(function(){return{}},function(e){return{innerHtml:e}});return{type:"separator",dom:de({tag:"div",classes:["tox-collection__item","tox-collection__group-heading"]},t),components:[]}},Kk=function(e,t,n,r){void 0===r&&(r=!0);var o=function(e){return{setActive:function(t){ew.set(e,t)},isActive:function(){return ew.isOn(e)},isDisabled:function(){return i_.isDisabled(e)},setDisabled:function(t){return i_.set(e,t)}}},i=_S({iconContent:e.icon,textContent:e.text,htmlContent:ve.none(),ariaLabel:e.text,checkMark:ve.some(gS(n.icons)),caret:ve.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,r);return Vt(uS({data:sS(e),disabled:e.disabled,getApi:o,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,t,n),{toggling:{toggleClass:"tox-collection__item--enabled",toggleOnExecute:!1,selected:e.active}})},Yk=OS,Jk=Xk,Qk=$k,Zk=Gk,eT=Kk,tT=Wk;!function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"}(k_||(k_={}));var nT=function(e,n,r,o,i){var a=r.shared.providers,u=function(e){return i?de(de({},e),{shortcut:ve.none(),icon:e.text.isSome()?ve.none():e.icon}):e};switch(e.type){case"menuitem":return bC(e).fold(sC,function(e){return ve.some(Qk(u(e),n,a,o))});case"nestedmenuitem":return wC(e).fold(sC,function(e){return ve.some(Zk(u(e),n,a,o,i))});case"togglemenuitem":return CC(e).fold(sC,function(e){return ve.some(eT(u(e),n,a,o))});case"separator":return Rx(e).fold(sC,function(e){return ve.some(Jk(e))});case"fancymenuitem":return gC(e).fold(sC,function(e){return tT(u(e),r)});default:return t.console.error("Unknown item in general menu",e),ve.none()}},rT=function(e,t,n,r,o,i){var a=1===r,u=!a||uC(e);return mg(Fe(e,function(e){return"separator"===e.type?jx(e).fold(sC,function(e){return ve.some(Jk(e))}):Bx(e).fold(sC,function(e){return ve.some(Yk(e,t,a,"normal",n,o,i,u))})}))},oT=function(e,t,n,r,o){var i=uC(t),a=mg(Fe(t,function(e){var t=function(e){return o?!e.hasOwnProperty("text"):i},a=function(e){return nT(e,n,r,t(e),o)};return a("nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?de(de({},e),{disabled:!0}):e)}));return(o?cC:lC)(e,i,a,1,"normal")},iT=function(e){return Rw.singleData(e.value,e)},aT=function(e,t,n,r){var o=n===k_.ContentFocus?fv():lv(),i=Hk(t,r),a=Jx(r);return{dom:e.dom,components:e.components,items:e.items,value:e.value,markers:{selectedItem:a.selectedItem,item:a.item},movement:i,fakeFocus:n===k_.ContentFocus,focusManager:o,menuBehaviours:TC.unnamedEvents("auto"!==t?[]:[Xi(function(e,t){_C(e,4,a.item).each(function(t){var n=t.numColumns,r=t.numRows;hy.setGridSize(e,r,n)})})])}},uT=function(e,n){var r=Lr(ve.none()),o=Lr(!1),i=Rs(jw.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:$l([Ey("dismissAutocompleter",[zi(Ci(),function(){return c()})])]),lazySink:n.getSink})),a=function(){return jw.isOpen(i)},u=function(){return r.get().isSome()},s=function(){u()&&jw.hide(i)},c=function(){if(u()){var t=r.get().map(function(e){return e.element});dx(t.getOr(Ur.fromDom(e.selection.getNode()))).each(Sa),s(),r.set(ve.none()),o.set(!1)}},l=Wt(function(){return Hx(e)}),f=function(r,i){var a=at(i,function(e){return ve.from(e.columns)}).getOr(1);return Je(i,function(i){var u=i.items;return rT(u,i.matchText,function(n,a){var u=e.selection.getRng();yx(e.dom,u,r).fold(function(){return t.console.error("Lost context. Cursor probably moved")},function(e){var t=e.range,r={hide:function(){c()},reload:function(e){s(),h(e)}};o.set(!0),i.onAction(r,t,n,a),o.set(!1)})},a,Vx.BUBBLE_TO_SANDBOX,n)})},d=function(t){if(!u()){var n=fx(e,t.range);r.set(ve.some({triggerChar:t.triggerChar,element:n,matchLength:t.text.length})),o.set(!1)}},p=function(t,n,r,o){t.matchLength=n.text.length;var a=at(r,function(e){return ve.from(e.columns)}).getOr(1);jw.showAt(i,{anchor:"node",root:Ur.fromDom(e.getBody()),node:ve.from(t.element)},Cw.sketch(aT(lC("autocompleter-value",!0,o,a,"normal"),a,k_.ContentFocus,"normal"))),jw.getContent(i).each(Ug.highlightFirst)},m=function(t){return r.get().map(function(n){return yx(e.dom,e.selection.getRng(),n.triggerChar).bind(function(n){return Mx(e,l,n,t)})}).getOrThunk(function(){return Dx(e,l)})},h=function(e){m(e).fold(c,function(e){d(e.context),e.lookupData.then(function(t){r.get().map(function(n){var r=e.context;if(n.triggerChar===r.triggerChar){var o=f(r.triggerChar,t);o.length>0?p(n,r,t,o):r.text.length-n.matchLength>=10?c():s()}})})})},g=ux(function(e){27!==e.which&&h()},50),v={onKeypress:g,cancelIfNecessary:c,isMenuOpen:a,isActive:u,isProcessingAction:o.get,getView:function(){return jw.getContent(i)}};xx.setup(v,e)},sT={register:uT},cT=ie(!0),lT=function(e,t,n){return tc(e,t,cT,n)},fT=function(e,t,n){return nc(e,t,cT,n)},dT=Qs,pT=function(e,t,n){return Ec(e,t,n).isSome()},mT=function(e){var t=e.raw();return void 0===t.touches||1!==t.touches.length?ve.none():ve.some(t.touches[0])},hT=function(e,t){var n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>5||r>5},gT=function(e){var t=Lr(ve.none()),n=Lr(!1),r=l(function(t){e.triggerEvent(di(),t),n.set(!0)},400),o=function(e){return mT(e).each(function(o){r.cancel();var i={x:o.clientX,y:o.clientY,target:e.target()};r.schedule(e),n.set(!1),t.set(ve.some(i))}),ve.none()},i=function(e){return r.cancel(),mT(e).each(function(e){t.get().each(function(n){hT(e,n)&&t.set(ve.none())})}),ve.none()},a=function(o){r.cancel();var i=function(e){return Eo(e.target,o.target())};return t.get().filter(i).map(function(t){return n.get()?(o.prevent(),!1):e.triggerEvent(fi(),o)})},u=an([{key:Fo(),value:o},{key:Ho(),value:i},{key:Uo(),value:a}]);return{fireIfReady:function(e,t){return Rt(u,t).bind(function(t){return t(e)})}}},vT=function(e){return e.raw().which===Vg()[0]&&!Le(["input","textarea"],Qi(e.target()))&&!pT(e.target(),'[contenteditable="true"]')},bT=function(){return Co().browser.isFirefox()},yT=In([hr("triggerEvent"),Er("stopBackspace",!0)]),wT=function(e,t){return bT()?fT(e,"focus",t):lT(e,"focusin",t)},xT=function(e,t){return bT()?fT(e,"blur",t):lT(e,"focusout",t)},CT=function(e,n){var r=Jn("Getting GUI events settings",yT,n),o=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],i=gT(r),a=Fe(o.concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(t){return lT(e,t,function(e){i.fireIfReady(e,t).each(function(t){t&&e.kill()}),r.triggerEvent(t,e)&&e.kill()})}),u=Lr(ve.none()),s=lT(e,"paste",function(e){i.fireIfReady(e,"paste").each(function(t){t&&e.kill()}),r.triggerEvent("paste",e)&&e.kill(),u.set(ve.some(t.setTimeout(function(){r.triggerEvent(ui(),e)},0)))}),c=lT(e,"keydown",function(e){r.triggerEvent("keydown",e)?e.kill():!0===r.stopBackspace&&vT(e)&&e.prevent()}),l=wT(e,function(e){r.triggerEvent("focusin",e)&&e.kill()}),f=Lr(ve.none()),d=xT(e,function(e){r.triggerEvent("focusout",e)&&e.kill(),f.set(ve.some(t.setTimeout(function(){r.triggerEvent(ai(),e)},0)))});return{unbind:function(){He(a,function(e){e.unbind()}),c.unbind(),l.unbind(),d.unbind(),s.unbind(),u.get().each(t.clearTimeout),f.get().each(t.clearTimeout)}}},_T=function(e,t){var n=Rt(e,"target").map(function(e){return e()}).getOr(t);return Lr(n)},ST=function(e,t){var n=Lr(!1),r=Lr(!1);return{stop:function(){n.set(!0)},cut:function(){r.set(!0)},isStopped:n.get,isCut:r.get,event:ie(e),setSource:t.set,getSource:t.get}},kT=function(e){var t=Lr(!1);return{stop:function(){t.set(!0)},cut:te,isStopped:t.get,isCut:ie(!1),event:ie(e),setSource:se("Cannot set source of a broadcasted event"),getSource:se("Cannot get source of a broadcasted event")}},TT=Bt.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),ET=function(e,t,n,r,o,i){var a=e(t,r),u=ST(n,o);return a.fold(function(){return i.logEventNoHandlers(t,r),TT.complete()},function(e){var n=e.descHandler;return _u(n)(u),u.isStopped()?(i.logEventStopped(t,e.element,n.purpose()),TT.stopped()):u.isCut()?(i.logEventCut(t,e.element,n.purpose()),TT.complete()):ca(e.element).fold(function(){return i.logNoParent(t,e.element,n.purpose()),TT.complete()},function(r){return i.logEventResponse(t,e.element,n.purpose()),TT.resume(r)})})},OT=function(e,t,n,r,o,i){return ET(e,t,n,r,o,i).fold(function(){return!0},function(r){return OT(e,t,n,r,o,i)},function(){return!1})},NT=function(e,t,n,r,o){var i=_T(n,r);return ET(e,t,n,r,i,o)},AT=function(e,t,n){var r=kT(t);return He(e,function(e){var t=e.descHandler();_u(t)(r)}),r.isStopped()},DT=function(e,t,n,r){var o=n.target();return MT(e,t,n,o,r)},MT=function(e,t,n,r,o){var i=_T(n,r);return OT(e,t,n,r,i,o)},IT=function(e,t){return{element:e,descHandler:t}},RT=function(e,t){return{id:ie(e),descHandler:ie(t)}},PT=function(e){var t=e.dom,n=t.attributes,o=r(t,["attributes"]);return{uid:e.uid,dom:de({tag:"div",attributes:de({role:"presentation"},n)},o),components:e.components,behaviours:oh(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},LT=dg({name:"Container",factory:PT,configFields:[Er("components",[]),rh("containerBehaviours",[]),Er("events",{}),Er("domModification",{}),Er("eventOrder",{})]}),jT=function(e){var t=function(t){return ca(e.element()).fold(function(){return!0},function(e){return Eo(t,e)})},n=d(),r=function(e,r){return n.find(t,e,r)},o=CT(e.element(),{triggerEvent:function(e,t){return zc(e,t.target(),function(n){return DT(r,e,t,n)})}}),i={debugInfo:ie("real"),triggerEvent:function(e,t,n){zc(e,t,function(o){return MT(r,e,n,t,o)})},triggerFocus:function(e,t){Ja(e).fold(function(){uf(e)},function(n){zc(ii(),e,function(n){return NT(r,ii(),{originator:ie(t),kill:te,prevent:te,target:ie(e)},e,n),!1})})},triggerEscape:function(e,t){i.triggerEvent("keydown",e.element(),t.event())},getByUid:function(e){return g(e)},getByDom:function(e){return v(e)},build:Rs,addToGui:function(e){s(e)},removeFromGui:function(e){c(e)},addToWorld:function(e){a(e)},removeFromWorld:function(e){u(e)},broadcast:function(e){p(e)},broadcastOn:function(e,t){m(e,t)},broadcastEvent:function(e,t){h(e,t)},isConnected:ie(!0)},a=function(e){e.connect(i),na(e.element())||(n.register(e),He(e.components(),a),i.triggerEvent(hi(),e.element(),{target:ie(e.element())}))},u=function(e){na(e.element())||(He(e.components(),u),n.unregister(e)),e.disconnect()},s=function(t){$p(e,t)},c=function(e){Kp(e)},l=function(){o.unbind(),_a(e.element())},f=function(e){var t=n.filter(si());He(t,function(t){var n=t.descHandler();_u(n)(e)})},p=function(e){f({universal:ie(!0),data:ie(e)})},m=function(e,t){f({universal:ie(!1),channels:ie(e),data:ie(t)})},h=function(e,t){var r=n.filter(e);return AT(r,t)},g=function(e){return n.getById(e).fold(function(){return lt.error(new Error('Could not find component with uid: "'+e+'" in system.'))},lt.value)},v=function(e){var t=Ja(e).getOr("not found");return g(t)};return a(e),{root:ie(e),element:e.element,destroy:l,add:s,remove:c,getByUid:g,getByDom:v,addToWorld:a,removeFromWorld:u,broadcast:p,broadcastOn:m,broadcastEvent:h}},BT=function(e,t){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Fe(e.items,t.interpreter)}},zT=ie([Er("prefix","form-field"),rh("fieldBehaviours",[Cg,nh])]),FT=ie([Lh({schema:[lr("dom")],name:"label"}),Lh({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[lr("text")],name:"aria-descriptor"}),Rh({factory:{sketch:function(e){var t=rn(e,["factory"]);return e.factory.sketch(t)}},schema:[lr("factory")],name:"field"})]),HT=function(e,t,n,r){var o=ih(e.fieldBehaviours,[Cg.config({find:function(t){return Kh(t,e,"field")}}),nh.config({store:{mode:"manual",getValue:function(e){return Cg.getCurrent(e).bind(nh.getValue)},setValue:function(e,t){Cg.getCurrent(e).each(function(e){nh.setValue(e,t)})}}})]),i=Li([Xi(function(t,n){var r=Jh(t,e,["label","field","aria-descriptor"]);r.field().each(function(t){var n=qa(e.prefix);r.label().each(function(e){Aa(e.element(),"for",n),Aa(t.element(),"id",n)}),r["aria-descriptor"]().each(function(n){var r=qa(e.prefix);Aa(n.element(),"id",r),Aa(t.element(),"aria-describedby",r)})})})]),a={getField:function(t){return Kh(t,e,"field")},getLabel:function(t){return Kh(t,e,"label")}};return{uid:e.uid,dom:e.dom,components:t,behaviours:o,events:i,apis:a}},UT=pg({name:"FormField",configFields:zT(),partFields:FT(),factory:HT,apis:{getField:function(e,t){return e.getField(t)},getLabel:function(e,t){return e.getLabel(t)}}}),VT=function(e,t){return gu({attributes:an([{key:t.tabAttr,value:"true"}])})},qT=Object.freeze({__proto__:null,exhibit:VT}),WT=[Er("tabAttr","data-alloy-tabstop")],$T=Xl({fields:WT,name:"tabstopping",active:qT}),GT=function(e,t,n,r){var o=KT(e,t,n,r);return UT.sketch(o)},XT=function(e,t){return GT(e,t,[],[])},KT=function(e,t,n,r){return{dom:JT(n),components:e.toArray().concat([t]),fieldBehaviours:$l(r)}},YT=function(){return JT([])},JT=function(e){return{tag:"div",classes:["tox-form__group"].concat(e)}},QT=function(e,t){return UT.parts().label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}})},ZT=qa("form-component-change"),eE=qa("form-close"),tE=qa("form-cancel"),nE=qa("form-action"),rE=qa("form-submit"),oE=qa("form-block"),iE=qa("form-unblock"),aE=qa("form-tabchange"),uE=qa("form-resize"),sE=function(e,t){var n=e.label.map(function(e){return QT(e,t)}),r=function(e){return function(t,n){Ec(n.event().target(),"[data-collection-item-value]").each(function(r){e(t,n,r,Ma(r,"data-collection-item-value"))})}},o=function(e){return'"'===e?"&quot;":e},i=function(n,r){var i=Fe(r,function(n){var r=FC.translate(n.text),i=1===e.columns?'<div class="tox-collection__item-label">'+r+"</div>":"",a='<div class="tox-collection__item-icon">'+n.icon+"</div>",u={_:" "," - ":" ","-":" "},s=r.replace(/\_| \- |\-/g,function(e){return u[e]});return'<div class="tox-collection__item'+(t.isReadOnly()?" tox-collection__item--state-disabled":"")+'" tabindex="-1" data-collection-item-value="'+o(n.value)+'" title="'+s+'" aria-label="'+s+'">'+a+i+"</div>"}),a=e.columns>1&&"auto"!==e.columns?ze(i,e.columns):[i],u=Fe(a,function(e){return'<div class="tox-collection__group">'+e.join("")+"</div>"});Ea(n.element(),u.join(""))},a=r(function(n,r,o,i){r.stop(),t.isReadOnly()||Di(n,nE,{name:e.name,value:i})}),u=[zi(Xo(),r(function(e,t,n){uf(n)})),zi(ti(),a),zi(fi(),a),zi(Ko(),r(function(e,t,n){Tc(e.element(),"."+Gx).each(function(e){Wu(e,Gx)}),Vu(n,Gx)})),zi(Yo(),r(function(e){Tc(e.element(),"."+Gx).each(function(e){Wu(e,Gx)})})),Ji(r(function(t,n,r,o){Di(t,nE,{name:e.name,value:o})}))],s=function(e,t){return Fe(qd(e.element(),".tox-collection__item"),t)},c=UT.parts().field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:ae},behaviours:$l([i_.config({disabled:t.isReadOnly,onDisabled:function(e){s(e,function(e){Vu(e,"tox-collection__item--state-disabled"),Aa(e,"aria-disabled",!0)})},onEnabled:function(e){s(e,function(e){Wu(e,"tox-collection__item--state-disabled"),Pa(e,"aria-disabled")})}}),K_(),ky.config({}),nh.config({store:{mode:"memory",initialValue:[]},onSetValue:function(t,n){i(t,n),"auto"===e.columns&&_C(t,5,"tox-collection__item").each(function(e){var n=e.numRows,r=e.numColumns;hy.setGridSize(t,n,r)}),Ai(t,uE)}}),$T.config({}),hy.config(Uk(e.columns,"normal")),Ey("collection-events",u)]),eventOrder:{"alloy.execute":["disabling","alloy.base.behaviour","collection-events"]}});return GT(n,c,["tox-form__group--collection"],[])},cE=ie([wr("data"),Er("inputAttributes",{}),Er("inputStyles",{}),Er("tag","input"),Er("inputClasses",[]),Xc("onSetValue"),Er("styles",{}),Er("eventOrder",{}),rh("inputBehaviours",[nh,Ly]),Er("selectOnFocus",!0)]),lE=function(e){return $l([Ly.config({onFocus:e.selectOnFocus?function(e){var t=e.element(),n=ws(t);t.dom().setSelectionRange(0,n.length)}:te})])},fE=function(e){return de(de({},lE(e)),ih(e.inputBehaviours,[nh.config({store:de(de({mode:"manual"},e.data.map(function(e){return{initialValue:e}}).getOr({})),{getValue:function(e){return ws(e.element())},setValue:function(e,t){ws(e.element())!==t&&xs(e.element(),t)}}),onSetValue:e.onSetValue})]))},dE=function(e){return{tag:e.tag,attributes:de({type:"text"},e.inputAttributes),styles:e.inputStyles,classes:e.inputClasses}},pE=function(e,t){return{uid:e.uid,dom:dE(e),components:[],behaviours:fE(e),eventOrder:e.eventOrder}},mE=dg({name:"Input",configFields:cE(),factory:pE}),hE={},gE={exports:hE};!function(t,n,r,o){!function(o){if("object"==typeof n&&void 0!==r)r.exports=o();else if("function"==typeof t&&t.amd)t([],o);else{var i;i="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this,i.EphoxContactWrapper=o()}}(function(){return function(){function e(t,n,r){function i(u,s){if(!n[u]){if(!t[u]){var c="function"==typeof o&&o;if(!s&&c)return c(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}};t[u][0].call(f.exports,function(e){return i(t[u][1][e]||e)},f,f.exports,e,t,n,r)}return n[u].exports}for(var a="function"==typeof o&&o,u=0;u<r.length;u++)i(r[u]);return i}return e}()({1:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function u(){g&&m&&(g=!1,m.length?h=m.concat(h):v=-1,h.length&&s())}function s(){if(!g){var e=i(u);g=!0;for(var t=h.length;t;){for(m=h,h=[];++v<t;)m&&m[v].run();v=-1,t=h.length}m=null,g=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var f,d,p=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(e){d=o}}();var m,h=[],g=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new c(e,t)),1!==h.length||g||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){function r(){}function o(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?u:s)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void s(t.promise,e)}u(t.promise,r)})}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void f(o(n,t),e)}e._state=1,e._value=t,c(e)}catch(t){s(e,t)}}function s(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e(function(e){n||(n=!0,u(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}var d=setTimeout;i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new l(e,t,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,function(e){r(i,e)},n)}t[i]=a,0==--o&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var o=t.length,i=0;i<t.length;i++)r(i,t[i])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},i._immediateFn="function"==typeof e?function(t){e(t)}:function(e){d(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){function o(e,t){this._id=e,this._clearFn=t}var i=e("process/browser.js").nextTick,a=Function.prototype.apply,u=Array.prototype.slice,s={},c=0;n.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=c++,r=!(arguments.length<2)&&u.call(arguments,1);return s[t]=!0,i(function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),o=function(){return"undefined"!=typeof window?window:Function("return this;")()}();t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)})}(void 0,hE,gE,void 0);var vE,bE=gE.exports.boltExport,yE=function(e){var n=ve.none(),r=[],o=function(e){return yE(function(t){i(function(n){t(e(n))})})},i=function(e){u()?c(e):r.push(e)},a=function(e){u()||(n=ve.some(e),s(r),r=[])},u=function(){return n.isSome()},s=function(e){He(e,c)},c=function(e){n.each(function(n){t.setTimeout(function(){e(n)},0)})};return e(a),{get:i,map:o,isReady:u}},wE=function(e){return yE(function(t){t(e)})},xE={nu:yE,pure:wE},CE=function(e){t.setTimeout(function(){throw e},0)},_E=function(e){var t=function(t){e().then(t,CE)};return{map:function(t){return _E(function(){return e().then(t)})},bind:function(t){return _E(function(){return e().then(function(e){return t(e).toPromise()})})},anonBind:function(t){return _E(function(){return e().then(function(){return t.toPromise()})})},toLazy:function(){return xE.nu(t)},toCached:function(){var t=null;return _E(function(){return null===t&&(t=e()),t})},toPromise:e,get:t}},SE=function(e){return _E(function(){return new bE(e)})},kE=function(e){return _E(function(){return bE.resolve(e)})},TE={nu:SE,pure:kE},EE=["input","textarea"],OE=function(e){var t=Qi(e);return Le(EE,t)},NE=function(e,t){var n=t.getRoot(e).getOr(e.element());Wu(n,t.invalidClass),t.notify.each(function(t){OE(e.element())&&Aa(e.element(),"aria-invalid",!1),t.getContainer(e).each(function(e){Ea(e,t.validHtml)}),t.onValid(e)})},AE=function(e,t,n,r){var o=t.getRoot(e).getOr(e.element());Vu(o,t.invalidClass),t.notify.each(function(t){OE(e.element())&&Aa(e.element(),"aria-invalid",!0),t.getContainer(e).each(function(e){Ea(e,r)}),t.onInvalid(e,r)})},DE=function(e,t,n){return t.validator.fold(function(){return TE.pure(lt.value(!0))},function(t){return t.validate(e)})},ME=function(e,t,n){return t.notify.each(function(t){t.onValidate(e)}),DE(e,t).map(function(n){return e.getSystem().isConnected()?n.fold(function(n){return AE(e,t,0,n),lt.error(n)},function(n){return NE(e,t),lt.value(n)}):lt.error("No longer in system")})},IE=function(e,t){var n=t.getRoot(e).getOr(e.element());return $u(n,t.invalidClass)},RE=Object.freeze({__proto__:null,markValid:NE,markInvalid:AE,query:DE,run:ME,isInvalid:IE}),PE=function(e,t){return e.validator.map(function(t){return Li([zi(t.onEvent,function(t){ME(t,e).get(ae)})].concat(t.validateOnLoad?[Xi(function(t){ME(t,e).get(te)})]:[]))}).getOr({})},LE=Object.freeze({__proto__:null,events:PE}),jE=[lr("invalidClass"),Er("getRoot",ve.none),kr("notify",[Er("aria","alert"),Er("getContainer",ve.none),Er("validHtml",""),Xc("onValid"),Xc("onInvalid"),Xc("onValidate")]),kr("validator",[lr("validate"),Er("onEvent","input"),Er("validateOnLoad",!0)])],BE=Xl({fields:jE,name:"invalidating",active:LE,apis:RE,extra:{validation:function(e){return function(t){var n=nh.getValue(t);return TE.pure(e(n))}}}}),zE=function(e,t,n,r){return n.getOrCreate(e,t,r)},FE=Object.freeze({__proto__:null,getCoupled:zE}),HE=[fr("others",Gn(lt.value,tr()))],UE=function(){var e={},t=function(t,n,r){var o=_t(n.others);if(o)return Rt(e,r).getOrThunk(function(){var o=Rt(n.others,r).getOrDie("No information found for coupled component: "+r),i=o(t),a=t.getSystem().build(i);return e[r]=a,a});throw new Error("Cannot find coupled component: "+r+". Known coupled components: "+JSON.stringify(o,null,2))},n=ie({});return fu({readState:n,getOrCreate:t})},VE=Object.freeze({__proto__:null,init:UE}),qE=Xl({fields:HE,name:"coupling",apis:FE,state:VE}),WE=ie("sink"),$E=ie(Lh({name:WE(),overrides:ie({dom:{tag:"div"},behaviours:$l([Fp.config({useFixed:le})]),events:Li([Wi(Jo()),Wi(qo()),Wi(ti())])})}));!function(e){e[e.HighlightFirst=0]="HighlightFirst",e[e.HighlightNone=1]="HighlightNone"}(vE||(vE={}));var GE,XE=function(e,t){var n=e.getHotspot(t).getOr(t),r=e.getAnchorOverrides();return e.layouts.fold(function(){return{anchor:"hotspot",hotspot:n,overrides:r}},function(e){return{anchor:"hotspot",hotspot:n,overrides:r,layouts:e}})},KE=function(e,t,n){return(0,e.fetch)(n).map(t)},YE=function(e,t,n,r,o,i,a){var u=KE(e,t,r),s=tO(r,e);return u.map(function(e){return e.bind(function(e){return ve.from(Rw.sketch(de(de({},i.menu()),{uid:Qa(""),data:e,highlightImmediately:a===vE.HighlightFirst,onOpenMenu:function(e,t){var r=s().getOrDie();Fp.position(r,n,t),wm.decloak(o)},onOpenSubmenu:function(e,t,n){var r=s().getOrDie();Fp.position(r,{anchor:"submenu",item:t},n),wm.decloak(o)},onRepositionMenu:function(e,t,r){var o=s().getOrDie();Fp.position(o,n,t),He(r,function(e){Fp.position(o,{anchor:"submenu",item:e.triggeringItem},e.triggeredMenu)})},onEscape:function(){return Ly.focus(r),wm.close(o),ve.some(!0)}})))})})},JE=function(e,t,n,r,o,i,a){var u=XE(e,n);return YE(e,t,u,n,r,o,a).map(function(e){return e.fold(function(){wm.isOpen(r)&&wm.close(r)},function(e){wm.cloak(r),wm.open(r,e),i(r)}),r})},QE=function(e,t,n,r,o,i,a){return wm.close(r),TE.pure(r)},ZE=function(e,t,n,r,o,i){var a=qE.getCoupled(n,"sandbox");return(wm.isOpen(a)?QE:JE)(e,t,n,a,r,o,i)},eO=function(e,t,n){var r=Cg.getCurrent(t).getOr(t),o=Xs(e.element());n?ls(r.element(),"min-width",o+"px"):Gs(r.element(),o)},tO=function(e,t){return e.getSystem().getByUid(t.uid+"-"+WE()).map(function(e){return function(){return lt.value(e)}}).getOrThunk(function(){return t.lazySink.fold(function(){return function(){return lt.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(t){return function(){return t(e)}})})},nO=function(e){wm.getState(e).each(function(e){Rw.repositionMenus(e)})},rO=function(e,t,n){var r=Nc(),o=function(o,i){var a=XE(e,t);r.link(t.element()),e.matchWidth&&eO(a.hotspot,i,e.useMinWidth),e.onOpen(a,o,i),void 0!==n&&void 0!==n.onOpen&&n.onOpen(o,i)},i=function(e,o){r.unlink(t.element()),void 0!==n&&void 0!==n.onClose&&n.onClose(e,o)},a=tO(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:r.id,role:"listbox"}},behaviours:ah.augment(e.sandboxBehaviours,[nh.config({store:{mode:"memory",initialValue:t}}),wm.config({onOpen:o,onClose:i,isPartOf:function(e,n,r){return Dc(n,r)||Dc(t,r)},getAttachPoint:function(){return a().getOrDie()}}),Cg.config({find:function(e){return wm.getState(e).bind(function(e){return Cg.getCurrent(e)})}}),nf.config({channels:de(de({},km({isExtraPart:ce})),Em({doReposition:nO}))})])}},oO=function(e){var t=qE.getCoupled(e,"sandbox");nO(t)},iO=function(){return[Er("sandboxClasses",[]),ah.field("sandboxBehaviours",[Cg,nf,wm,nh])]},aO=ie([lr("dom"),lr("fetch"),Xc("onOpen"),Kc("onExecute"),Er("getHotspot",ve.some),Er("getAnchorOverrides",ie({})),Zf(),rh("dropdownBehaviours",[ew,qE,hy,Ly]),lr("toggleClass"),Er("eventOrder",{}),wr("lazySink"),Er("matchWidth",!1),Er("useMinWidth",!1),wr("role")].concat(iO())),uO=ie([Ph({schema:[Wc()],name:"menu",defaults:function(e){return{onExecute:e.onExecute}}}),$E()]),sO=function(e,t,n,r){var o,i=function(e){wm.getState(e).each(function(e){Rw.highlightPrimary(e)})},a=function(t){var n=i;ZE(e,function(e){return e},t,r,n,vE.HighlightFirst).get(te)},u={expand:function(t){ew.isOn(t)||ZE(e,function(e){return e},t,r,te,vE.HighlightNone).get(te)},open:function(t){ew.isOn(t)||ZE(e,function(e){return e},t,r,te,vE.HighlightFirst).get(te)},isOpen:ew.isOn,close:function(t){ew.isOn(t)&&ZE(e,function(e){return e},t,r,te,vE.HighlightFirst).get(te)},repositionMenus:function(e){ew.isOn(e)&&oO(e)}},s=function(e,t){return Mi(e),ve.some(!0)};return{uid:e.uid,dom:e.dom,components:t,behaviours:ih(e.dropdownBehaviours,[ew.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),qE.config({others:{sandbox:function(t){return rO(e,t,{onOpen:function(){ew.on(t)},onClose:function(){ew.off(t)}})}}}),hy.config({mode:"special",onSpace:s,onEnter:s,onDown:function(e,t){if(cO.isOpen(e)){var n=qE.getCoupled(e,"sandbox");i(n)}else cO.open(e);return ve.some(!0)},onEscape:function(e,t){return cO.isOpen(e)?(cO.close(e),ve.some(!0)):ve.none()}}),Ly.config({})]),events:nw(ve.some(a)),eventOrder:de(de({},e.eventOrder),(o={},o[ci()]=["disabling","toggling","alloy.base.behaviour"],o)),apis:u,domModification:{attributes:de(de({"aria-haspopup":"true"},e.role.fold(function(){return{}},function(e){return{role:e}})),"button"===e.dom.tag?{type:function(t){return Rt(e.dom,"attributes").bind(function(e){return Rt(e,t)})}("type").getOr("button")}:{})}}},cO=pg({name:"Dropdown",configFields:aO(),partFields:uO(),factory:sO,apis:{open:function(e,t){return e.open(t)},expand:function(e,t){return e.expand(t)},close:function(e,t){return e.close(t)},isOpen:function(e,t){return e.isOpen(t)},repositionMenus:function(e,t){return e.repositionMenus(t)}}}),lO=function(){return gu({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},fO=function(){return Li([ji(ri(),ie(!0))])},dO=Object.freeze({__proto__:null,events:fO,exhibit:lO}),pO=Xl({fields:[],name:"unselecting",active:dO}),mO=function(e,t){return cO.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:$l([eS.button(t.providers.isReadOnly),K_(),pO.config({}),$T.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:function(n){return TE.nu(function(t){return e.fetch(t)}).map(function(r){return ve.from(iT(Vt(zk(qa("menu-value"),r,function(t){e.onItemAction(n,t)},e.columns,e.presets,Vx.CLOSE_ON_EXECUTE,function(){return!1},t.providers),{movement:Hk(e.columns,e.presets)})))})},parts:{menu:eC(0,0,e.presets)}})},hO=qa("color-input-change"),gO=qa("color-swatch-change"),vO=qa("color-picker-cancel"),bO=function(e,t,n){var r=UT.parts().field({factory:mE,inputClasses:["tox-textfield"],onSetValue:function(e){return BE.run(e).get(function(){})},inputBehaviours:$l([i_.config({disabled:t.providers.isReadOnly}),K_(),$T.config({}),BE.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(e){return ca(e.element())},notify:{onValid:function(e){var t=nh.getValue(e);Di(e,hO,{color:t})}},validator:{validateOnLoad:!1,validate:function(e){var t=nh.getValue(e);if(0===t.length)return TE.pure(lt.value(!0));var n=Ur.fromTag("span");ls(n,"background-color",t);var r=hs(n,"background-color").fold(function(){return lt.error("blah")},function(e){return lt.value(t)});return TE.pure(r)}}})]),selectOnFocus:!1}),o=e.label.map(function(e){return QT(e,t.providers)}),i=function(e,t){Di(e,gO,{value:t})},a=function(e,t){u.getOpt(e).each(function(e){"custom"===t?n.colorPicker(function(t){t.fold(function(){return Ai(e,vO)},function(t){i(e,t),_k(t)})},"#ffffff"):"remove"===t?i(e,""):i(e,t)})},u=Qw(mO({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Tl,kl,Al]},onLtr:function(){return[kl,Tl,Al]}},components:[],fetch:Ik(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:a},t));return UT.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:o.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,u.asSpec()]}]),fieldBehaviours:$l([Ey("form-field-events",[zi(hO,function(t,n){u.getOpt(t).each(function(e){ls(e.element(),"background-color",n.event().color())}),Di(t,ZT,{name:e.name})}),zi(gO,function(e,t){UT.getField(e).each(function(n){nh.setValue(n,t.event().value()),Cg.getCurrent(e).each(Ly.focus)})}),zi(vO,function(e,t){UT.getField(e).each(function(t){Cg.getCurrent(e).each(Ly.focus)})})])])})},yO=function(e,t,n){return{hue:e,saturation:t,value:n}},wO=function(e){var t=0,n=0,r=0,o=e.red/255,i=e.green/255,a=e.blue/255,u=Math.min(o,Math.min(i,a)),s=Math.max(o,Math.max(i,a));if(u===s)return r=u,yO(0,0,100*r);var c=o===u?i-a:a===u?o-i:a-o;return t=o===u?3:a===u?1:5,t=60*(t-c/(s-u)),n=(s-u)/s,r=s,yO(Math.round(t),Math.round(100*n),Math.round(100*r))},xO=function(e){var t=(100-e)/100*360,n=yO(t,100,100),r=ek(n);return $S(r)},CO=qa("rgb-hex-update"),_O=qa("slider-update"),SO=qa("palette-update"),kO=Lh({schema:[lr("dom")],name:"label"}),TO=function(e){return Lh({name:e+"-edge",overrides:function(t){return t.model.manager.edgeActions[e].fold(function(){return{}},function(e){return{events:Li([Fi(Fo(),function(t,n,r){return e(t,r)},[t]),Fi(qo(),function(t,n,r){return e(t,r)},[t]),Fi(Wo(),function(t,n,r){r.mouseIsDown.get()&&e(t,r)},[t])])}})}})},EO=TO("top-left"),OO=TO("top"),NO=TO("top-right"),AO=TO("right"),DO=TO("bottom-right"),MO=TO("bottom"),IO=TO("bottom-left"),RO=TO("left"),PO=Rh({name:"thumb",defaults:ie({dom:{styles:{position:"absolute"}}}),overrides:function(e){return{events:Li([Vi(Fo(),e,"spectrum"),Vi(Ho(),e,"spectrum"),Vi(Uo(),e,"spectrum"),Vi(qo(),e,"spectrum"),Vi(Wo(),e,"spectrum"),Vi(Go(),e,"spectrum")])}}}),LO=Rh({schema:[Pr("mouseIsDown",function(){return Lr(!1)})],name:"spectrum",overrides:function(e){var t=e.model,n=t.manager,r=function(t,r){return n.getValueFromEvent(r).map(function(r){return n.setValueFrom(t,e,r)})};return{behaviours:$l([hy.config({mode:"special",onLeft:function(t){return n.onLeft(t,e)},onRight:function(t){return n.onRight(t,e)},onUp:function(t){return n.onUp(t,e)},onDown:function(t){return n.onDown(t,e)}}),Ly.config({})]),events:Li([zi(Fo(),r),zi(Ho(),r),zi(qo(),r),zi(Wo(),function(t,n){e.mouseIsDown.get()&&r(t,n)})])}}}),jO=[kO,RO,AO,OO,MO,EO,NO,IO,DO,PO,LO],BO=ie("slider.change.value"),zO=function(e){return-1!==e.type.indexOf("touch")},FO=function(e){var t=e.event().raw();if(zO(t)){var n=t;return void 0!==n.touches&&1===n.touches.length?ve.some(n.touches[0]).map(function(e){return Hs(e.clientX,e.clientY)}):ve.none()}var r=t;return void 0!==r.clientX?ve.some(r).map(function(e){return Hs(e.clientX,e.clientY)}):ve.none()},HO=function(e){return e.model.minX},UO=function(e){return e.model.minY},VO=function(e){return e.model.minX-1},qO=function(e){return e.model.minY-1},WO=function(e){return e.model.maxX},$O=function(e){return e.model.maxY},GO=function(e){return e.model.maxX+1},XO=function(e){return e.model.maxY+1},KO=function(e,t,n){return t(e)-n(e)},YO=function(e){return KO(e,WO,HO)},JO=function(e){return KO(e,$O,UO)},QO=function(e){return YO(e)/2},ZO=function(e){return JO(e)/2},eN=function(e){return e.stepSize},tN=function(e){return e.snapToGrid},nN=function(e){return e.snapStart},rN=function(e){return e.rounded},oN=function(e,t){return void 0!==e[t+"-edge"]},iN=function(e){return oN(e,"left")},aN=function(e){return oN(e,"right")},uN=function(e){return oN(e,"top")},sN=function(e){return oN(e,"bottom")},cN=function(e){return e.model.value.get()},lN=function(e){return{x:ie(e)}},fN=function(e){return{y:ie(e)}},dN=function(e,t){return{x:ie(e),y:ie(t)}},pN=function(e,t){Di(e,BO(),{value:t})},mN=function(e,t){pN(e,dN(VO(t),qO(t)))},hN=function(e,t){pN(e,fN(qO(t)))},gN=function(e,t){pN(e,dN(QO(t),qO(t)))},vN=function(e,t){pN(e,dN(GO(t),qO(t)))},bN=function(e,t){pN(e,lN(GO(t)))},yN=function(e,t){pN(e,dN(GO(t),ZO(t)))},wN=function(e,t){pN(e,dN(GO(t),XO(t)))},xN=function(e,t){pN(e,fN(XO(t)))},CN=function(e,t){pN(e,dN(QO(t),XO(t)))},_N=function(e,t){pN(e,dN(VO(t),XO(t)))},SN=function(e,t){pN(e,lN(VO(t)))},kN=function(e,t){pN(e,dN(VO(t),ZO(t)))},TN=function(e,t,n,r){return e<t?e:e>n?n:e===t?t-1:Math.max(t,e-r)},EN=function(e,t,n,r){return e>n?e:e<t?t:e===n?n+1:Math.min(n,e+r)},ON=function(e,t,n){return Math.max(t,Math.min(n,e))},NN=function(e,t,n,r,o){return o.fold(function(){var o=e-t,i=Math.round(o/r)*r;return ON(t+i,t-1,n+1)},function(t){var o=(e-t)%r,i=Math.round(o/r),a=Math.floor((e-t)/r),u=Math.floor((n-t)/r),s=Math.min(u,a+i),c=t+s*r;return Math.max(t,c)})},AN=function(e,t,n){return Math.min(n,Math.max(e,t))-t},DN=function(e){var t=e.min,n=e.max,r=e.range,o=e.value,i=e.step,a=e.snap,u=e.snapStart,s=e.rounded,c=e.hasMinEdge,l=e.hasMaxEdge,f=e.minBound,d=e.maxBound,p=e.screenRange,m=c?t-1:t,h=l?n+1:n;if(o<f)return m;if(o>d)return h;var g=AN(o,f,d),v=ON(g/p*r+t,m,h);return a&&v>=t&&v<=n?NN(v,t,n,i,u):s?Math.round(v):v},MN=function(e){var t=e.min,n=e.max,r=e.range,o=e.value,i=e.hasMinEdge,a=e.hasMaxEdge,u=e.maxBound,s=e.maxOffset,c=e.centerMinEdge,l=e.centerMaxEdge;return o<t?i?0:c:o>n?a?u:l:(o-t)/r*s},IN=function(e){return e.element().dom().getBoundingClientRect()},RN=function(e,t){return e[t]},PN=function(e){var t=IN(e);return RN(t,"left")},LN=function(e){var t=IN(e);return RN(t,"right")},jN=function(e){var t=IN(e);return RN(t,"top")},BN=function(e){var t=IN(e);return RN(t,"bottom")},zN=function(e){var t=IN(e);return RN(t,"width")},FN=function(e){var t=IN(e);return RN(t,"height")},HN=function(e,t,n){return(e+t)/2-n},UN=function(e,t){var n=IN(e),r=IN(t),o=RN(n,"left"),i=RN(n,"right"),a=RN(r,"left");return HN(o,i,a)},VN=function(e,t){var n=IN(e),r=IN(t),o=RN(n,"top"),i=RN(n,"bottom"),a=RN(r,"top");return HN(o,i,a)},qN=function(e,t){Di(e,BO(),{value:t})},WN=function(e){return{x:ie(e)}},$N=function(e,t,n){var r={min:HO(t),max:WO(t),range:YO(t),value:n,step:eN(t),snap:tN(t),snapStart:nN(t),rounded:rN(t),hasMinEdge:iN(t),hasMaxEdge:aN(t),minBound:PN(e),maxBound:LN(e),screenRange:zN(e)};return DN(r)},GN=function(e,t,n){var r=$N(e,t,n),o=WN(r);return qN(e,o),r},XN=function(e,t){var n=HO(t);qN(e,WN(n))},KN=function(e,t){var n=WO(t);qN(e,WN(n))},YN=function(e,t,n){var r=e>0?EN:TN,o=r(cN(n).x(),HO(n),WO(n),eN(n));return qN(t,WN(o)),ve.some(o)},JN=function(e){return function(t,n){return YN(e,t,n).map(function(){return!0})}},QN=function(e){return FO(e).map(function(e){return e.left()})},ZN=function(e,t,n,r,o){var i=zN(e),a=r.bind(function(t){return ve.some(UN(t,e))}).getOr(0),u=o.bind(function(t){return ve.some(UN(t,e))}).getOr(i),s={min:HO(t),max:WO(t),range:YO(t),value:n,hasMinEdge:iN(t),hasMaxEdge:aN(t),minBound:PN(e),minOffset:0,maxBound:LN(e),maxOffset:i,centerMinEdge:a,centerMaxEdge:u};return MN(s)},eA=function(e,t,n,r,o,i){var a=ZN(t,i,n,r,o);return PN(t)-PN(e)+a},tA=function(e,t,n,r){var o=cN(n),i=eA(e,r.getSpectrum(e),o.x(),r.getLeftEdge(e),r.getRightEdge(e),n),a=Xs(t.element())/2;ls(t.element(),"left",i-a+"px")},nA=JN(-1),rA=JN(1),oA=ve.none,iA=ve.none,aA={"top-left":ve.none(),top:ve.none(),"top-right":ve.none(),right:ve.some(bN),"bottom-right":ve.none(),bottom:ve.none(),"bottom-left":ve.none(),left:ve.some(SN)},uA=Object.freeze({__proto__:null,setValueFrom:GN,setToMin:XN,setToMax:KN,findValueOfOffset:$N,getValueFromEvent:QN,findPositionOfValue:eA,setPositionFromValue:tA,onLeft:nA,onRight:rA,onUp:oA,onDown:iA,edgeActions:aA}),sA=function(e,t){Di(e,BO(),{value:t})},cA=function(e){return{y:ie(e)}},lA=function(e,t,n){var r={min:UO(t),max:$O(t),range:JO(t),value:n,step:eN(t),snap:tN(t),snapStart:nN(t),rounded:rN(t),hasMinEdge:uN(t),hasMaxEdge:sN(t),minBound:jN(e),maxBound:BN(e),screenRange:FN(e)};return DN(r)},fA=function(e,t,n){var r=lA(e,t,n),o=cA(r);return sA(e,o),r},dA=function(e,t){var n=UO(t);sA(e,cA(n))},pA=function(e,t){var n=$O(t);sA(e,cA(n))},mA=function(e,t,n){var r=e>0?EN:TN,o=r(cN(n).y(),UO(n),$O(n),eN(n));return sA(t,cA(o)),ve.some(o)},hA=function(e){return function(t,n){return mA(e,t,n).map(function(){return!0})}},gA=function(e){return FO(e).map(function(e){return e.top()})},vA=function(e,t,n,r,o){var i=FN(e),a=r.bind(function(t){return ve.some(VN(t,e))}).getOr(0),u=o.bind(function(t){return ve.some(VN(t,e))}).getOr(i),s={min:UO(t),max:$O(t),range:JO(t),value:n,hasMinEdge:uN(t),hasMaxEdge:sN(t),minBound:jN(e),minOffset:0,maxBound:BN(e),maxOffset:i,centerMinEdge:a,centerMaxEdge:u};return MN(s)},bA=function(e,t,n,r,o,i){var a=vA(t,i,n,r,o);return jN(t)-jN(e)+a},yA=function(e,t,n,r){var o=cN(n),i=bA(e,r.getSpectrum(e),o.y(),r.getTopEdge(e),r.getBottomEdge(e),n),a=js(t.element())/2;ls(t.element(),"top",i-a+"px")},wA=ve.none,xA=ve.none,CA=hA(-1),_A=hA(1),SA={"top-left":ve.none(),top:ve.some(hN),"top-right":ve.none(),right:ve.none(),"bottom-right":ve.none(),bottom:ve.some(xN),"bottom-left":ve.none(),left:ve.none()},kA=Object.freeze({__proto__:null,setValueFrom:fA,setToMin:dA,setToMax:pA,findValueOfOffset:lA,getValueFromEvent:gA,findPositionOfValue:bA,setPositionFromValue:yA,onLeft:wA,onRight:xA,onUp:CA,onDown:_A,edgeActions:SA}),TA=function(e,t){Di(e,BO(),{value:t})},EA=function(e,t){return{x:ie(e),y:ie(t)}},OA=function(e,t,n){var r=$N(e,t,n.left()),o=lA(e,t,n.top()),i=EA(r,o);return TA(e,i),i},NA=function(e,t,n,r){var o=e>0?EN:TN,i=t?cN(r).x():o(cN(r).x(),HO(r),WO(r),eN(r)),a=t?o(cN(r).y(),UO(r),$O(r),eN(r)):cN(r).y();return TA(n,EA(i,a)),ve.some(i)},AA=function(e,t){return function(n,r){return NA(e,t,n,r).map(function(){return!0})}},DA=function(e,t){var n=HO(t),r=UO(t);TA(e,EA(n,r))},MA=function(e,t){var n=WO(t),r=$O(t);TA(e,EA(n,r))},IA=function(e){return FO(e)},RA=function(e,t,n,r){var o=cN(n),i=eA(e,r.getSpectrum(e),o.x(),r.getLeftEdge(e),r.getRightEdge(e),n),a=bA(e,r.getSpectrum(e),o.y(),r.getTopEdge(e),r.getBottomEdge(e),n),u=Xs(t.element())/2,s=js(t.element())/2;ls(t.element(),"left",i-u+"px"),ls(t.element(),"top",a-s+"px")},PA=AA(-1,!1),LA=AA(1,!1),jA=AA(-1,!0),BA=AA(1,!0),zA={"top-left":ve.some(mN),top:ve.some(gN),"top-right":ve.some(vN),right:ve.some(yN),"bottom-right":ve.some(wN),bottom:ve.some(CN),"bottom-left":ve.some(_N),left:ve.some(kN)},FA=Object.freeze({__proto__:null,setValueFrom:OA,setToMin:DA,setToMax:MA,getValueFromEvent:IA,setPositionFromValue:RA,onLeft:PA,onRight:LA,onUp:jA,onDown:BA,edgeActions:zA}),HA=[Er("stepSize",1),Er("onChange",te),Er("onChoose",te),Er("onInit",te),Er("onDragStart",te),Er("onDragEnd",te),Er("snapToGrid",!1),Er("rounded",!0),wr("snapStart"),fr("model",er("mode",{x:[Er("minX",0),Er("maxX",100),Pr("value",function(e){return Lr(e.mode.minX)}),lr("getInitialValue"),Qc("manager",uA)],y:[Er("minY",0),Er("maxY",100),Pr("value",function(e){return Lr(e.mode.minY)}),lr("getInitialValue"),Qc("manager",kA)],xy:[Er("minX",0),Er("maxX",100),Er("minY",0),Er("maxY",100),Pr("value",function(e){return Lr({x:ie(e.mode.minX),y:ie(e.mode.minY)})}),lr("getInitialValue"),Qc("manager",FA)]})),rh("sliderBehaviours",[hy,nh]),Pr("mouseIsDown",function(){return Lr(!1)})],UA=function(e,t,n,r){var o,i=function(t){return Yh(t,e,"thumb")},a=function(t){return Yh(t,e,"spectrum")},u=function(t){return Kh(t,e,"left-edge")},s=function(t){return Kh(t,e,"right-edge")},c=function(t){return Kh(t,e,"top-edge")},l=function(t){return Kh(t,e,"bottom-edge")},f=e.model,d=f.manager,p=function(t,n){d.setPositionFromValue(t,n,e,{getLeftEdge:u,getRightEdge:s,getTopEdge:c,getBottomEdge:l,getSpectrum:a})},m=function(t,n){f.value.set(n);var r=i(t);return p(t,r),e.onChange(t,r,n),ve.some(!0)},h=function(t){d.setToMin(t,e)},g=function(t){d.setToMax(t,e)},v=function(t){var n=e.mouseIsDown.get();e.mouseIsDown.set(!1),n&&function(){Kh(t,e,"thumb").each(function(n){var r=f.value.get();e.onChoose(t,n,r)})}()},b=function(t,n){n.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,i(t))},y=function(t,n){n.stop(),e.onDragEnd(t,i(t)),v(t)};return{uid:e.uid,dom:e.dom,components:t,behaviours:ih(e.sliderBehaviours,[hy.config({mode:"special",focusIn:function(t){return Kh(t,e,"spectrum").map(hy.focusIn).map(ie(!0))}}),nh.config({store:{mode:"manual",getValue:function(e){return f.value.get()}}}),nf.config({channels:(o={},o[_m()]={onReceive:v},o)})]),events:Li([zi(BO(),function(e,t){m(e,t.event().value())}),Xi(function(t,n){var r=f.getInitialValue();f.value.set(r);var o=i(t);p(t,o);var u=a(t);e.onInit(t,o,u,f.value.get())}),zi(Fo(),b),zi(Uo(),y),zi(qo(),b),zi(Go(),y)]),apis:{resetToMin:h,resetToMax:g,changeValue:m,refresh:p},domModification:{styles:{position:"relative"}}}},VA=pg({name:"Slider",configFields:HA,partFields:jO,factory:UA,apis:{resetToMin:function(e,t){e.resetToMin(t)},resetToMax:function(e,t){e.resetToMax(t)},refresh:function(e,t){e.refresh(t)}}}),qA=function(e,t){var n=VA.parts().spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),r=VA.parts().thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return VA.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:ie({y:ie(0)})},components:[n,r],sliderBehaviours:$l([Ly.config({})]),onChange:function(e,t,n){Di(e,_O,{value:n})}})},WA=[rh("formBehaviours",[nh])],$A=function(e){return"<alloy.field."+e+">"},GA=function(e){var t=function(){var e=[];return{field:function(t,n){return e.push(t),qh("form",$A(t),n)},record:function(){return e}}}(),n=e(t),r=t.record(),o=Fe(r,function(e){return Rh({name:e,pname:$A(e)})});return ug("form",WA,o,KA,n)},XA=function(e,t){return e.fold(function(){return lt.error(t)},lt.value)},KA=function(e,t){return{uid:e.uid,dom:e.dom,components:t,behaviours:ih(e.formBehaviours,[nh.config({store:{mode:"manual",getValue:function(t){var n=Qh(t,e);return Tt(n,function(e,t){return e().bind(function(e){var n=Cg.getCurrent(e);return XA(n,new Error("Cannot find a current component to extract the value from for form part '"+t+"': "+za(e.element())))}).map(nh.getValue)})},setValue:function(t,n){kt(n,function(n,r){Kh(t,e,r).each(function(e){Cg.getCurrent(e).each(function(e){nh.setValue(e,n)})})})}}})]),apis:{getField:function(t,n){return Kh(t,e,n).bind(Cg.getCurrent)}}}},YA={getField:cu(function(e,t,n){return e.getField(t,n)}),sketch:GA},JA=qa("valid-input"),QA=qa("invalid-input"),ZA=qa("validating-input"),eD=function(e,t,n,r){var o=function(n,r){return BE.config({invalidClass:t("invalid"),notify:{onValidate:function(e){Di(e,ZA,{type:n})},onValid:function(e){Di(e,JA,{type:n,value:nh.getValue(e)})},onInvalid:function(e){Di(e,QA,{type:n,value:nh.getValue(e)})}},validator:{validate:function(t){var n=nh.getValue(t),o=r(n)?lt.value(!0):lt.error(e("aria.input.invalid"));return TE.pure(o)},validateOnLoad:!1}})},i=function(n,r,i,a,u){var s=e("colorcustom.rgb.range"),c=UT.parts().label({dom:{tag:"label",innerHtml:i,attributes:{"aria-label":a}}}),l=UT.parts().field({data:u,factory:mE,inputAttributes:de({type:"text"},"hex"===r?{"aria-live":"polite"}:{}),inputClasses:[t("textfield")],inputBehaviours:$l([o(r,n),$T.config({})]),onSetValue:function(e){if(BE.isInvalid(e)){BE.run(e).get(te)}}}),f=[c,l],d="hex"!==r?[UT.parts()["aria-descriptor"]({text:s})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:f.concat(d)}},a=function(e,t){var n=$S(t);return YA.getField(e,"hex").each(function(t){Ly.isFocused(t)||nh.setValue(e,{hex:n.value})}),n},u=function(e,t){var n=t.red,r=t.green,o=t.blue;nh.setValue(e,{red:n,green:r,blue:o})},s=Qw({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),c=function(e,t){s.getOpt(e).each(function(e){ls(e.element(),"background-color","#"+t.value)})};return dg({factory:function(){var o={red:Lr(ve.some(255)),green:Lr(ve.some(255)),blue:Lr(ve.some(255)),hex:Lr(ve.some("ffffff"))},l=function(e,t){var n=tk(t);u(e,n),m(n)},f=function(e){return o[e].get()},d=function(e,t){o[e].set(t)},p=function(){return f("red").bind(function(e){return f("green").bind(function(t){return f("blue").map(function(n){return QS(e,t,n,1)})})})},m=function(e){var t=e.red,n=e.green,r=e.blue;d("red",ve.some(t)),d("green",ve.some(n)),d("blue",ve.some(r))},h=function(e,t){var n=t.event();"hex"!==n.type()?d(n.type(),ve.none()):r(e)},g=function(e,t){n(e);var r=zS(t);d("hex",ve.some(t));var o=tk(r);u(e,o),m(o),Di(e,CO,{hex:r}),c(e,r)},v=function(e,t,n){var r=parseInt(n,10);d(t,ve.some(r)),p().each(function(t){var n=a(e,t);c(e,n)})},b=function(e){return"hex"===e.type()},y=function(e,t){var n=t.event();b(n)?g(e,n.value()):v(e,n.type(),n.value())},w=function(t){return{label:e("colorcustom.rgb."+t+".label"),description:e("colorcustom.rgb."+t+".description")}},x=w("red"),C=w("green"),_=w("blue"),S=w("hex");return Vt(YA.sketch(function(n){return{dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[n.field("red",UT.sketch(i(ZS,"red",x.label,x.description,255))),n.field("green",UT.sketch(i(ZS,"green",C.label,C.description,255))),n.field("blue",UT.sketch(i(ZS,"blue",_.label,_.description,255))),n.field("hex",UT.sketch(i(US,"hex",S.label,S.description,"ffffff"))),s.asSpec()],formBehaviours:$l([BE.config({invalidClass:t("form-invalid")}),Ey("rgb-form-events",[zi(JA,y),zi(QA,h),zi(ZA,h)])])}}),{apis:{updateHex:function(e,t){nh.setValue(e,{hex:t.value}),l(e,t),c(e,t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:function(e,t,n){e.updateHex(t,n)}},extraApis:{}})},tD=function(e,t){var n=VA.parts().spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),r=VA.parts().thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:"<div class="+t("sv-palette-inner-thumb")+' role="presentation"></div>'}}),o=function(e,t){var n=e.width,r=e.height,o=e.getContext("2d");if(null!==o){o.fillStyle=t,o.fillRect(0,0,n,r);var i=o.createLinearGradient(0,0,n,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),o.fillStyle=i,o.fillRect(0,0,n,r);var a=o.createLinearGradient(0,0,0,r);a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)"),o.fillStyle=a,o.fillRect(0,0,n,r)}},i=function(e,t){var n=e.components()[0].element().dom();o(n,ok(t))};return dg({factory:function(e){var i=ie({x:ie(0),y:ie(0)}),a=function(e,t,n){Di(e,SO,{value:n})},u=function(e,t,n,r){o(n.element().dom(),ok(ik))},s=$l([Cg.config({find:ve.some}),Ly.config({})]);return VA.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:i},rounded:!1,components:[n,r],onChange:a,onInit:u,sliderBehaviours:s})},name:"SaturationBrightnessPalette",configFields:[],apis:{setRgba:function(e,t,n){i(t,n)}},extraApis:{}})},nD=function(e,t){var n=function(n){var r=eD(e,t,n.onValidHex,n.onInvalidHex),o=tD(0,t),i={paletteRgba:Lr(ik)},a=Qw(o.sketch({})),u=Qw(r.sketch({})),s=function(e,t){a.getOpt(e).each(function(e){var n=tk(t);i.paletteRgba.set(n),o.setRgba(e,n)})},c=function(e,t){u.getOpt(e).each(function(e){r.updateHex(e,t)})},l=function(e,t,n){He(n,function(n){n(e,t)})};return{uid:n.uid,dom:n.dom,components:[a.asSpec(),qA(0,t),u.asSpec()],behaviours:$l([Ey("colour-picker-events",[zi(SO,function(){var e=[c];return function(t,n){var r=n.event().value(),o=i.paletteRgba.get(),a=wO(o),u=yO(a.hue,r.x(),100-r.y()),s=ek(u),c=$S(s);l(t,c,e)}}()),zi(_O,function(){var e=[s,c];return function(t,n){var r=n.event().value(),o=xO(r.y());l(t,o,e)}}())]),Cg.config({find:function(e){return u.getOpt(e)}}),hy.config({mode:"acyclic"})])}};return dg({name:"ColourPicker",configFields:[lr("dom"),Er("onValidHex",te),Er("onInvalidHex",te)],factory:n})},rD=function(){return Cg.config({find:ve.some})},oD=function(e){return Cg.config({find:e.getOpt})},iD=function(e){return Cg.config({find:function(t){return pa(t.element(),e).bind(function(e){return t.getSystem().getByDom(e).toOption()})}})},aD={self:rD,memento:oD,childAt:iD},uD={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},sD=function(e){return uD[e]},cD=function(e){return sD(e)},lD=function(e){var n=function(e){return"tox-"+e},r=nD(cD,n),o=function(e){Di(e,nE,{name:"hex-valid",value:!0})},i=function(e){Di(e,nE,{name:"hex-valid",value:!1})},a=Qw(r.sketch({dom:{tag:"div",classes:[n("color-picker-container")],attributes:{role:"presentation"}},onValidHex:o,onInvalidHex:i}));return{dom:{tag:"div"},components:[a.asSpec()],behaviours:$l([nh.config({store:{mode:"manual",getValue:function(e){var t=a.get(e);return Cg.getCurrent(t).bind(function(e){return nh.getValue(e).hex}).map(function(e){return"#"+e}).getOr("")},setValue:function(e,n){var r=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,o=r.exec(n),i=a.get(e);Cg.getCurrent(i).fold(function(){t.console.log("Can not find form")},function(e){nh.setValue(e,{hex:ve.from(o[1]).getOr("")}),YA.getField(e,"hex").each(function(e){Ai(e,Zo())})})}}}),aD.self()])}},fD=tinymce.util.Tools.resolve("tinymce.Resource"),dD=function(e){return Object.prototype.hasOwnProperty.call(e,"init")},pD=function(e){var t=Lr(ve.none()),n=Qw({dom:{tag:e.tag}}),r=Lr(ve.none());return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:$l([Ey("editor-foo-events",[Xi(function(o){n.getOpt(o).each(function(n){(dD(e)?e.init(n.element().dom()):fD.load(e.scriptId,e.scriptUrl).then(function(t){return t(n.element().dom(),e.settings)})).then(function(e){r.get().each(function(t){e.setValue(t)}),r.set(ve.none()),t.set(ve.some(e))})})})]),nh.config({store:{mode:"manual",getValue:function(){return t.get().fold(function(){return r.get().getOr("")},function(e){return e.getValue()})},setValue:function(e,n){t.get().fold(function(){r.set(ve.some(n))},function(e){return e.setValue(n)})}}}),aD.self()]),components:[n.asSpec()]}},mD=Rn([Er("preprocess",ae),Er("postprocess",ae)]),hD=function(e,t){var n=Jn("RepresentingConfigs.memento processors",mD,t);return nh.config({store:{mode:"manual",getValue:function(t){var r=e.get(t),o=nh.getValue(r);return n.postprocess(o)},setValue:function(t,r){var o=n.preprocess(r),i=e.get(t);nh.setValue(i,o)}}})},gD=function(e,t,n){return nh.config(Vt({store:{mode:"manual",getValue:t,setValue:n}},e.map(function(e){return{store:{initialValue:e}}}).getOr({})))},vD=function(e,t,n){return gD(e,function(e){return t(e.element())},function(e,t){return n(e.element(),t)})},bD=function(e){return vD(e,ws,xs)},yD=function(e){return vD(e,Ta,Ea)},wD=function(e){return nh.config({store:{mode:"memory",initialValue:e}})},xD={memento:hD,withElement:vD,withComp:gD,domValue:bD,domHtml:yD,memory:wD},CD=".jpg,.jpeg,.png,.gif",_D=function(e){var t=new RegExp("("+CD.split(/\s*,\s*/).join("|")+")$","i");return qe(it(e),function(e){return t.test(e.name)})},SD=function(e,t){var n=function(e,t){t.stop()},r=function(e){return function(t,n){He(e,function(e){e(t,n)})}},o=function(e,t){if(!i_.isDisabled(e)){var n=t.event().raw();a(e,n.dataTransfer.files)}},i=function(e,t){var n=t.event().raw().target.files;a(e,n)},a=function(t,n){nh.setValue(t,_D(n)),Di(t,ZT,{name:e.name})},u=Qw({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:$l([Ey("input-file-events",[Wi(ti()),Wi(fi())])])}),s=function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:$l([xD.memory([]),aD.self(),i_.config({}),ew.config({toggleClass:"dragenter",toggleOnExecute:!1}),Ey("dropzone-events",[zi("dragenter",r([n,ew.toggle])),zi("dragleave",r([n,ew.toggle])),zi("dragover",n),zi("drop",r([n,o])),zi(ei(),i)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:t.translate("Drop an image here")}},Jw.sketch({dom:{tag:"button",innerHtml:t.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[u.asSpec()],action:function(e){u.get(e).element().dom().click()},buttonBehaviours:$l([$T.config({}),eS.button(t.isReadOnly),K_()])})]}]}},c=e.label.map(function(e){return QT(e,t)}),l=UT.parts().field({factory:{sketch:s}});return GT(c,l,["tox-form__group--stretched"],[])},kD=function(e,t){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+e.columns+"col"]},components:Fe(e.items,t.interpreter)}},TD=qa("alloy-fake-before-tabstop"),ED=qa("alloy-fake-after-tabstop"),OD=function(e){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:$l([Ly.config({ignore:!0}),$T.config({})])}},ND=function(e){return{dom:{tag:"div",classes:["tox-navobj"]},components:[OD([TD]),e,OD([ED])],behaviours:$l([aD.childAt(1)])}},AD=function(e,t){Di(e,Jo(),{raw:{which:9,shiftKey:t}})},DD=function(e,t){var n=t.element();$u(n,TD)?AD(e,!0):$u(n,ED)&&AD(e,!1)},MD=function(e){return pT(e,["."+TD,"."+ED].join(","),ie(!1))},ID=!(Co().browser.isIE()||Co().browser.isEdge()),RD=function(e){var t=Lr("");return{getValue:function(e){return t.get()},setValue:function(n,r){if(e)Aa(n.element(),"srcdoc",r);else{Aa(n.element(),"src","javascript:''");var o=n.element().dom().contentWindow.document;o.open(),o.write(r),o.close()}t.set(r)}}},PD=function(e,t){var n=ID&&e.sandboxed,r=de(de({},e.label.map(function(e){return{title:e}}).getOr({})),n?{sandbox:"allow-scripts allow-same-origin"}:{}),o=RD(n),i=e.label.map(function(e){return QT(e,t)}),a=function(e){return ND({uid:e.uid,dom:{tag:"iframe",attributes:r},behaviours:$l([$T.config({}),Ly.config({}),xD.withComp(ve.none(),o.getValue,o.setValue)])})},u=UT.parts().field({factory:{sketch:a}});return GT(i,u,["tox-form__group--stretched"],[])},LD=window.Promise?window.Promise:function(){function e(e,t){return function(){return e.apply(t,arguments)}}function n(e){var t=this;if(null===this._state)return void this._deferreds.push(e);c(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var r;try{r=n(t._value)}catch(t){return void e.reject(t)}e.resolve(r)})}function r(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void u(e(n,t),e(r,this),e(o,this))}this._state=!0,this._value=t,i.call(this)}catch(e){o.call(this,e)}}function o(e){this._state=!1,this._value=e,i.call(this)}function i(){for(var e=0,t=this._deferreds;e<t.length;e++){var r=t[e];n.call(this,r)}this._deferreds=[]}function a(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function u(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(e){if(r)return;r=!0,n(e)}}var s=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(t,e(r,this),e(o,this))},c=s.immediateFn||"function"==typeof window.setImmediate&&window.setImmediate||function(e){t.setTimeout(e,1)},l=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return s.prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){var r=this;return new s(function(o,i){n.call(r,new a(e,t,o,i))})},s.all=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Array.prototype.slice.call(1===e.length&&l(e[0])?e[0]:e);return new s(function(e,t){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,function(e){r(i,e)},t)}n[i]=a,0==--o&&e(n)}catch(e){t(e)}}if(0===n.length)return e([]);for(var o=n.length,i=0;i<n.length;i++)r(i,n[i])})},s.resolve=function(e){return e&&"object"==typeof e&&e.constructor===s?e:new s(function(t){t(e)})},s.reject=function(e){return new s(function(t,n){n(e)})},s.race=function(e){return new s(function(t,n){for(var r=0,o=e;r<o.length;r++){o[r].then(t,n)}})},s}(),jD=function(e){return O(e)},BD=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],zD=function(e){return function(t){return L(t,e)}}([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),FD=F(R),HD=F(I),UD=function(e,t,n,r){return L(e,P(D(),t,n,r))},VD=function(e){return function(t){return B(t,e)}}([0,-1,0,-1,5,-1,0,-1,0]),qD=function(e){var t=function(t,n,r){for(var o=h(t),i=new Array(256),a=0;a<i.length;a++)i[a]=e(a,r);var u=function(e,t){for(var n=e.data,r=0;r<n.length;r+=4)n[r]=t[n[r]],n[r+1]=t[n[r+1]],n[r+2]=t[n[r+2]];return e}(o.getImageData(0,0,t.width,t.height),i);return o.putImageData(u,0,0),N(t,n)};return function(e,n){return e.toCanvas().then(function(r){return t(r,e.getType(),n)})}}(function(e,t){return 255*Math.pow(e/255,1-t)}),WD=function(e){return zD(e)},$D=function(e){return VD(e)},GD=function(e,t){return qD(e,t)},XD=function(e,t,n,r){return UD(e,t,n,r)},KD=function(e,t){return FD(e,t)},YD=function(e,t){return HD(e,t)},JD=function(e,t){return W(e,t)},QD=function(e,t,n,r,o){return G(e,t,n,r,o)},ZD=function(e,t,n){return K(e,t,n)},eM=function(e,t){return V(e,t)},tM=function(e,t){return de({dom:{tag:"span",innerHtml:e,classes:["tox-icon","tox-tbtn__icon-wrap"]}},t)},nM=function(e,t){return tM(ex(e,t),{})},rM=function(e,t){return tM(ex(e,t),{behaviours:$l([ky.config({})])})},oM=function(e,t,n){return{dom:{tag:"span",innerHtml:n.translate(e),classes:[t+"__select-label"]},behaviours:$l([ky.config({})])}},iM=qa("toolbar.button.execute"),aM=function(e){return Ji(function(t,n){tS(e,t)(function(n){Di(t,iM,{buttonApi:n}),e.onAction(n)})})},uM={"alloy.execute":["disabling","alloy.base.behaviour","toggling","toolbar-button-events"]},sM=qa("update-menu-text"),cM=qa("update-menu-icon"),lM=function(e,t,n){var r=Lr(te),i=e.text.map(function(e){return Qw(oM(e,t,n.providers))}),a=e.icon.map(function(e){return Qw(rM(e,n.providers.icons))}),u=function(e,t){var n=nh.getValue(e);return Ly.focus(n),Di(n,"keydown",{raw:t.event().raw()}),cO.close(n),ve.some(!0)},s=e.role.fold(function(){return{}},function(e){return{role:e}}),c=e.tooltip.fold(function(){return{}},function(e){var t=n.providers.translate(e);return{title:t,"aria-label":t}});return Qw(cO.sketch(de(de({},s),{dom:{tag:"button",classes:[t,t+"--select"].concat(Fe(e.classes,function(e){return t+"--"+e})),attributes:de({},c)},components:aS([a.map(function(e){return e.asSpec()}),i.map(function(e){return e.asSpec()}),ve.some({dom:{tag:"div",classes:[t+"__select-chevron"],innerHtml:ex("chevron-down",n.providers.icons)}})]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:$l(o(e.dropdownBehaviours,[eS.button(function(){return e.disabled||n.providers.isReadOnly()}),K_(),pO.config({}),ky.config({}),Ey("dropdown-events",[nS(e,r),rS(e,r)]),Ey("menubutton-update-display-text",[zi(sM,function(e,t){i.bind(function(t){return t.getOpt(e)}).each(function(e){ky.set(e,[Ds(n.providers.translate(t.event().text()))])})}),zi(cM,function(e,t){a.bind(function(t){return t.getOpt(e)}).each(function(e){ky.set(e,[rM(t.event().icon(),n.providers.icons)])})})])])),eventOrder:Vt(uM,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:$l([hy.config({mode:"special",onLeft:u,onRight:u})]),lazySink:n.getSink,toggleClass:t+"--active",parts:{menu:eC(0,e.columns,e.presets)},fetch:function(){return TE.nu(e.fetch)}}))).asSpec()},fM=function(e){return xe(e)},dM=function(e){return"separator"===e.type},pM=function(e){return Pt(e,"getSubmenuItems")},mM={type:"separator"},hM=function(e,t){var n=$e(e,function(e,n){return fM(n)?""===n?e:"|"===n?e.length>0&&!dM(e[e.length-1])?e.concat([mM]):e:Pt(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])},[]);return n.length>0&&dM(n[n.length-1])&&n.pop(),n},gM=function(e,t){var n=e.getSubmenuItems(),r=yM(n,t);return{item:e,menus:Vt(r.menus,on(e.value,r.items)),expansions:Vt(r.expansions,on(e.value,e.value))}},vM=function(e,t){return pM(e)?gM(e,t):{item:e,menus:{},expansions:{}}},bM=function(e){if(dM(e))return e;var t=Rt(e,"value").getOrThunk(function(){return qa("generated-menu-item")});return Vt({value:t},e)},yM=function(e,t){var n=hM(xe(e)?e.split(" "):e,t);return We(n,function(e,n){var r=bM(n),o=vM(r,t);return{menus:Vt(e.menus,o.menus),items:[o.item].concat(e.items),expansions:Vt(e.expansions,o.expansions)}},{menus:{},expansions:{},items:[]})},wM=function(e,t,n,r){var o=qa("primary-menu"),i=yM(e,n.shared.providers.menuItems());if(0===i.items.length)return ve.none();var a=oT(o,i.items,t,n,r),u=Tt(i.menus,function(e,r){return oT(r,e,t,n,!1)}),s=Vt(u,on(o,a));return ve.from(Rw.tieredData(o,s,i.expansions))},xM=function(e){return{isDisabled:function(){return i_.isDisabled(e)},setDisabled:function(t){return i_.set(e,t)},setActive:function(t){var n=e.element();t?(Vu(n,"tox-tbtn--enabled"),Aa(n,"aria-pressed",!0)):(Wu(n,"tox-tbtn--enabled"),Pa(n,"aria-pressed"))},isActive:function(){return $u(e.element(),"tox-tbtn--enabled")}}},CM=function(e,t,n,r){return lM({text:e.text,icon:e.icon,tooltip:e.tooltip,role:r,fetch:function(t){e.fetch(function(e){t(wM(e,Vx.CLOSE_ON_EXECUTE,n,!1))})},onSetup:e.onSetup,getApi:xM,columns:1,presets:"normal",classes:[],dropdownBehaviours:[$T.config({})]},t,n.shared)},_M=function(e,t,n){var r=function(e){return function(r){var o=!r.isActive();r.setActive(o),e.storage.set(o),n.shared.getSink().each(function(n){t().getOpt(n).each(function(t){uf(t.element()),Di(t,nE,{name:e.name,value:e.storage.get()})})})}},o=function(e){return function(t){t.setActive(e.storage.get())}};return function(t){t(Fe(e,function(e){var t=e.text.fold(function(){return{}},function(e){return{text:e}});return de(de({type:e.type,active:!1},t),{onAction:r(e),onSetup:o(e)})}))}},SM=function(e,t,n,r,o,i){void 0===n&&(n=[]);var a=t.fold(function(){return{}},function(e){return{action:e}}),u=de({buttonBehaviours:$l([eS.button(function(){return e.disabled||i.isReadOnly()}),K_(),$T.config({}),Ey("button press",[Bi("click"),Bi("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},a),s=Vt(u,{dom:r});return Vt(s,{components:o})},kM=function(e,t,n,r){void 0===r&&(r=[]);var o=e.tooltip.map(function(e){return{"aria-label":n.translate(e),title:n.translate(e)}}).getOr({}),i={tag:"button",classes:["tox-tbtn"],attributes:o},a=e.icon.map(function(e){return nM(e,n.icons)}),u=aS([a]);return SM(e,t,r,i,u,n)},TM=function(e,t,n,r){void 0===r&&(r=[]);var o=kM(e,ve.some(t),n,r);return Jw.sketch(o)},EM=function(e,t,n,r,i){void 0===r&&(r=[]),void 0===i&&(i=[]);var a=n.translate(e.text),u=e.icon?e.icon.map(function(e){return nM(e,n.icons)}):ve.none(),s=u.isSome()?aS([u]):[],c=u.isSome()?{}:{innerHtml:a},l=o(e.primary||e.borderless?["tox-button"]:["tox-button","tox-button--secondary"],u.isSome()?["tox-button--icon"]:[],e.borderless?["tox-button--naked"]:[],i),f=de(de({tag:"button",classes:l},c),{attributes:{title:a}});return SM(e,t,r,f,s,n)},OM=function(e,t,n,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var i=EM(e,ve.some(t),n,r,o);return Jw.sketch(i)},NM=function(e,n){return function(r){"custom"===n?Di(r,nE,{name:e,value:{}}):"submit"===n?Ai(r,rE):"cancel"===n?Ai(r,tE):t.console.error("Unknown button type: ",n)}},AM=function(e,t){return"menu"===t},DM=function(e,t){return"custom"===t||"cancel"===t||"submit"===t},MM=function(e,n,r){if(AM(0,n)){var o=function(){return u},i=e,a=de(de({},e),{onSetup:function(t){return t.setDisabled(e.disabled),te},fetch:_M(i.items,o,r)}),u=Qw(CM(a,"tox-tbtn",r,ve.none()));return u.asSpec()}if(DM(0,n)){var s=NM(e.name,n),c=de(de({},e),{borderless:!1});return OM(c,s,r.shared.providers,[])}t.console.error("Unknown footer button type: ",n)},IM=function(e,t){var n=NM(e.name,"custom");return XT(ve.none(),UT.parts().field(de({factory:Jw},EM(e,ve.some(n),t,[xD.memory(""),aD.self()]))))},RM=ie([Er("field1Name","field1"),Er("field2Name","field2"),Yc("onLockedChange"),$c(["lockClass"]),Er("locked",!1),ah.field("coupledFieldBehaviours",[Cg,nh])]),PM=function(e,t,n){return Kh(e,t,n).bind(Cg.getCurrent)},LM=function(e,t){return Rh({factory:UT,name:e,overrides:function(e){return{fieldBehaviours:$l([Ey("coupled-input-behaviour",[zi(Zo(),function(n){PM(n,e,t).each(function(t){Kh(n,e,"lock").each(function(r){ew.isOn(r)&&e.onLockedChange(n,t,r)})})})])])}}})},jM=ie([LM("field1","field2"),LM("field2","field1"),Rh({factory:Jw,schema:[lr("dom")],name:"lock",overrides:function(e){return{buttonBehaviours:$l([ew.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])}}})]),BM=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:ah.augment(e.coupledFieldBehaviours,[Cg.config({find:ve.some}),nh.config({store:{mode:"manual",getValue:function(t){var n,r=eg(t,e,["field1","field2"]);return n={},n[e.field1Name]=nh.getValue(r.field1()),n[e.field2Name]=nh.getValue(r.field2()),n},setValue:function(t,n){var r=eg(t,e,["field1","field2"]);Lt(n,e.field1Name)&&nh.setValue(r.field1(),n[e.field1Name]),Lt(n,e.field2Name)&&nh.setValue(r.field2(),n[e.field2Name])}}})]),apis:{getField1:function(t){return Kh(t,e,"field1")},getField2:function(t){return Kh(t,e,"field2")},getLock:function(t){return Kh(t,e,"lock")}}}},zM=pg({name:"FormCoupledInputs",configFields:RM(),partFields:jM(),factory:BM,apis:{getField1:function(e,t){return e.getField1(t)},getField2:function(e,t){return e.getField2(t)},getLock:function(e,t){return e.getLock(t)}}}),FM=function(e){var t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},n=e.value.toFixed(function(e){return e in t?t[e]:1}(e.unit));return-1!==n.indexOf(".")&&(n=n.replace(/\.?0*$/,"")),n+e.unit},HM=function(e){var t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,n=t.exec(e);if(null!==n){var r=parseFloat(n[1]),o=n[2];return lt.value({value:r,unit:o})}return lt.error(e)},UM=function(e,t){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},r=function(e){return Object.prototype.hasOwnProperty.call(n,e)};return e.unit===t?ve.some(e.value):r(e.unit)&&r(t)?n[e.unit]===n[t]?ve.some(e.value):ve.some(e.value/n[e.unit]*n[t]):ve.none()},VM=function(e){return ve.none()},qM=function(e,t){return function(n){return UM(n,t).map(function(n){return{value:n*e,unit:t}})}},WM=function(e,t){var n=HM(e).toOption(),r=HM(t).toOption();return gg(n,r,function(e,t){return UM(e,t.unit).map(function(e){return t.value/e}).map(function(e){return qM(e,t.unit)}).getOr(VM)}).getOr(VM)},$M=function(e,t){var n=VM,r=qa("ratio-event"),o=zM.parts().lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:ex("lock",t.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:ex("unlock",t.icons)}}],buttonBehaviours:$l([i_.config({disabled:function(){return e.disabled||t.isReadOnly()}}),K_(),$T.config({})])}),i=function(e){return{dom:{tag:"div",classes:["tox-form__group"]},components:e}},a=function(n){return UT.parts().field({factory:mE,inputClasses:["tox-textfield"],inputBehaviours:$l([i_.config({disabled:function(){return e.disabled||t.isReadOnly()}}),K_(),$T.config({}),Ey("size-input-events",[zi(Ko(),function(e,t){Di(e,r,{isField1:n})}),zi(ei(),function(t,n){Di(t,ZT,{name:e.name})})])]),selectOnFocus:!1})},u=function(e){return{dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}},s=zM.parts().field1(i([UT.parts().label(u("Width")),a(!0)])),c=zM.parts().field2(i([UT.parts().label(u("Height")),a(!1)]));return zM.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[s,c,i([u("&nbsp;"),o])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(e,t,r){HM(nh.getValue(e)).each(function(e){n(e).each(function(e){nh.setValue(t,FM(e))})})},coupledFieldBehaviours:$l([i_.config({disabled:function(){return e.disabled||t.isReadOnly()},onDisabled:function(e){zM.getField1(e).bind(UT.getField).each(i_.disable),zM.getField2(e).bind(UT.getField).each(i_.disable),zM.getLock(e).each(i_.disable)},onEnabled:function(e){zM.getField1(e).bind(UT.getField).each(i_.enable),zM.getField2(e).bind(UT.getField).each(i_.enable),zM.getLock(e).each(i_.enable)}}),K_(),Ey("size-input-events2",[zi(r,function(e,t){var r=t.event().isField1(),o=r?zM.getField1(e):zM.getField2(e),i=r?zM.getField2(e):zM.getField1(e),a=o.map(nh.getValue).getOr(""),u=i.map(nh.getValue).getOr("");n=WM(a,u)})])])})},GM=ie(qa("undo")),XM=ie(qa("redo")),KM=ie(qa("zoom")),YM=ie(qa("back")),JM=ie(qa("apply")),QM=ie(qa("swap")),ZM=ie(qa("transform")),eI=ie(qa("temp-transform")),tI=ie(qa("transform-apply")),nI={undo:GM,redo:XM,zoom:KM,back:YM,apply:JM,swap:QM,transform:ZM,tempTransform:eI,transformApply:tI},rI=ie("save-state"),oI=ie("disable"),iI=ie("enable"),aI={formActionEvent:nE,saveState:rI,disable:oI,enable:iI},uI=function(e,t){var n=function(e,n,r,o){return Qw(OM({name:e,text:e,disabled:r,primary:o,icon:ve.none(),borderless:!1},n,t))},r=function(e,n,r,o){return Qw(TM({name:e,icon:ve.some(e),tooltip:ve.some(n),disabled:o,primary:!1,borderless:!1},r,t))},o=function(e,t){e.map(function(e){var n=e.get(t);n.hasConfigured(i_)&&i_.disable(n)})},i=function(e,t){e.map(function(e){var n=e.get(t);n.hasConfigured(i_)&&i_.enable(n)})},a={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},u=te,s=function(e,t,n){Di(e,t,n)},c=function(e){return Ai(e,aI.disable())},l=function(e){return Ai(e,aI.enable())},f=function(e,t){c(e),s(e,nI.transform(),{transform:t}),l(e)},d=function(e,t){c(e),s(e,nI.tempTransform(),{transform:t}),l(e)},p=function(e){return function(){oe.getOpt(e).each(function(e){ky.set(e,[ne])})}},m=function(e,t){c(e),s(e,nI.transformApply(),{transform:t,swap:p(e)}),l(e)},h=function(){return n("Back",function(e){return s(e,nI.back(),{swap:p(e)})},!1,!1)},g=function(){return Qw({dom:{tag:"div",classes:["tox-spacer"]},behaviours:$l([i_.config({})])})},v=function(){return n("Apply",function(e){return s(e,nI.apply(),{swap:p(e)})},!0,!0)},b=function(){return function(t){var n=e.getRect();return QD(t,n.x,n.y,n.w,n.h)}},y=[h(),g(),n("Apply",function(t){var n=b();m(t,n),e.hideCrop()},!1,!0)],w=LT.sketch({dom:a,components:y.map(function(e){return e.asSpec()}),containerBehaviours:$l([Ey("image-tools-crop-buttons-events",[zi(aI.disable(),function(e,t){o(y,e)}),zi(aI.enable(),function(e,t){i(y,e)})])])}),x=Qw($M({name:"size",label:ve.none(),constrain:!0,disabled:!1},t)),C=function(e,t){return function(n){return ZD(n,e,t)}},_=[h(),g(),x,g(),n("Apply",function(e){x.getOpt(e).each(function(t){var n=nh.getValue(t),r=parseInt(n.width,10),o=parseInt(n.height,10),i=C(r,o);m(e,i)})},!1,!0)],S=LT.sketch({dom:a,components:_.map(function(e){return e.asSpec()}),containerBehaviours:$l([Ey("image-tools-resize-buttons-events",[zi(aI.disable(),function(e,t){o(_,e)}),zi(aI.enable(),function(e,t){i(_,e)})])])}),k=function(e,t){return function(n){return e(n,t)}},T=k(JD,"h"),E=k(JD,"v"),O=k(eM,-90),N=k(eM,90),A=function(e,t){d(e,t)},D=[h(),g(),r("flip-horizontally","Flip horizontally",function(e){A(e,T)},!1),r("flip-vertically","Flip vertically",function(e){A(e,E)},!1),r("rotate-left","Rotate counterclockwise",function(e){A(e,O)},!1),r("rotate-right","Rotate clockwise",function(e){A(e,N)},!1),g(),v()],M=LT.sketch({dom:a,components:D.map(function(e){return e.asSpec()}),containerBehaviours:$l([Ey("image-tools-fliprotate-buttons-events",[zi(aI.disable(),function(e,t){o(D,e)}),zi(aI.enable(),function(e,t){i(D,e)})])])}),I=function(e,n,r,o,i){var a=VA.parts().label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}),u=VA.parts().spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),s=VA.parts().thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Qw(VA.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:r,maxX:i,getInitialValue:ie({x:ie(o)})},components:[a,u,s],sliderBehaviours:$l([Ly.config({})]),onChoose:n}))},R=function(e,t,n,r,o){return I(e,function(e,n,r){var o=k(t,r.x()/100);f(e,o)},n,r,o)},P=function(e,t,n,r,o){return[h(),R(e,t,n,r,o),v()]},L=function(e,t,n,r,u){var s=P(e,t,n,r,u);return LT.sketch({dom:a,components:s.map(function(e){return e.asSpec()}),containerBehaviours:$l([Ey("image-tools-filter-panel-buttons-events",[zi(aI.disable(),function(e,t){o(s,e)}),zi(aI.enable(),function(e,t){i(s,e)})])])})},j=[h(),g(),v()],B=LT.sketch({dom:a,components:j.map(function(e){return e.asSpec()})}),z=L("Brightness",KD,-100,0,100),F=L("Contrast",YD,-100,0,100),H=L("Gamma",GD,-100,0,100),U=function(e,t,n){return function(r){return XD(r,e,t,n)}},V=function(e){return I(e,function(e,t,n){var r=q.getOpt(e),o=$.getOpt(e),i=W.getOpt(e);r.each(function(t){o.each(function(n){i.each(function(r){var o=nh.getValue(t).x()/100,i=nh.getValue(r).x()/100,a=nh.getValue(n).x()/100,u=U(o,i,a);f(e,u)})})})},0,100,200)},q=V("R"),W=V("G"),$=V("B"),G=[h(),q,W,$,v()],X=LT.sketch({dom:a,components:G.map(function(e){return e.asSpec()})}),K=function(e,t,n){return function(r){var o=function(){oe.getOpt(r).each(function(t){ky.set(t,[e]),n(t)})};s(r,nI.swap(),{transform:t,swap:o})}},Y=function(t){e.showCrop()},J=function(t){x.getOpt(t).each(function(t){var n=e.getMeasurements(),r=n.width,o=n.height;nh.setValue(t,{width:r,height:o})})},Q=ve.some($D),Z=ve.some(WD),ee=[r("crop","Crop",K(w,ve.none(),Y),!1),r("resize","Resize",K(S,ve.none(),J),!1),r("orientation","Orientation",K(M,ve.none(),u),!1),r("brightness","Brightness",K(z,ve.none(),u),!1),r("sharpen","Sharpen",K(B,Q,u),!1),r("contrast","Contrast",K(F,ve.none(),u),!1),r("color-levels","Color levels",K(X,ve.none(),u),!1),r("gamma","Gamma",K(H,ve.none(),u),!1),r("invert","Invert",K(B,Z,u),!1)],ne=LT.sketch({dom:a,components:ee.map(function(e){return e.asSpec()})}),re=LT.sketch({dom:{tag:"div"},components:[ne],containerBehaviours:$l([ky.config({})])}),oe=Qw(re);return{memContainer:oe,getApplyButton:function(e){return oe.getOpt(e).map(function(e){var t=e.components()[0];return t.components()[t.components().length-1]})}}},sI=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),cI=tinymce.util.Tools.resolve("tinymce.geom.Rect"),lI=tinymce.util.Tools.resolve("tinymce.util.Observable"),fI=tinymce.util.Tools.resolve("tinymce.util.Tools"),dI=tinymce.util.Tools.resolve("tinymce.util.VK"),pI=0,mI=function(e,t,n,r,o){function i(t,r,o,i){var a,u,s,c,f;a=r.x,u=r.y,s=r.w,c=r.h,a+=o*t.deltaX,u+=i*t.deltaY,s+=o*t.deltaW,c+=i*t.deltaH,s<20&&(s=20),c<20&&(c=20),f=e=cI.clamp({x:a,y:u,w:s,h:c},n,"move"===t.name),f=y(n,f),x.fire("updateRect",{rect:f}),l(f)}function a(e){var t=fI.map(g,function(e){return"#"+h+"-"+e.name}).concat(fI.map(v,function(e){return"#"+h+"-"+e})).join(",");e?sI(t,r).show():sI(t,r).hide()}function u(e){function n(e,t){t.h<0&&(t.h=0),t.w<0&&(t.w=0),sI("#"+h+"-"+e,r).css({left:t.x,top:t.y,width:t.w,height:t.h})}fI.each(g,function(t){sI("#"+h+"-"+t.name,r).css({left:e.w*t.xMul+e.x,top:e.h*t.yMul+e.y})}),n("top",{x:t.x,y:t.y,w:t.w,h:e.y-t.y}),n("right",{x:e.x+e.w,y:e.y,w:t.w-e.x-e.w+t.x,h:e.h}),n("bottom",{x:t.x,y:e.y+e.h,w:t.w,h:t.h-e.y-e.h+t.y}),n("left",{x:t.x,y:e.y,w:e.x-t.x,h:e.h}),n("move",e)}function s(t){e=t,u(e)}function c(n){t=n,u(e)}function l(e){s(b(n,e))}function f(t){n=t,u(e)}function d(){fI.each(p,function(e){e.destroy()}),p=[]}var p,m="tox-",h=m+"crid-"+pI++,g=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],v=["top","right","bottom","left"],b=function(e,t){return{x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},y=function(e,t){return{x:t.x-e.x,y:t.y-e.y,w:t.w,h:t.h}},w=function(){return y(n,e)};!function(){function t(t){var n;return new Q(h,{document:r.ownerDocument,handle:h+"-"+t.name,start:function(){n=e},drag:function(e){i(t,n,e.deltaX,e.deltaY)}})}sI('<div id="'+h+'" class="'+m+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(r),fI.each(v,function(e){sI("#"+h,r).append('<div id="'+h+"-"+e+'"class="'+m+'croprect-block" style="display: none" data-mce-bogus="all">')}),fI.each(g,function(e){sI("#"+h,r).append('<div id="'+h+"-"+e.name+'" class="'+m+"croprect-handle "+m+"croprect-handle-"+e.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+e.label+'" aria-grabbed="false" title="'+e.label+'">')}),p=fI.map(g,t),u(e),sI(r).on("focusin focusout",function(e){sI(e.target).attr("aria-grabbed","focus"===e.type?"true":"false")}),sI(r).on("keydown",function(t){function n(e,t,n,o,a){e.stopPropagation(),e.preventDefault(),i(r,n,o,a)}var r;switch(fI.each(g,function(e){if(t.target.id===h+"-"+e.name)return r=e,!1}),t.keyCode){case dI.LEFT:n(t,r,e,-10,0);break;case dI.RIGHT:n(t,r,e,10,0);break;case dI.UP:n(t,r,e,0,-10);break;case dI.DOWN:n(t,r,e,0,10);break;case dI.ENTER:case dI.SPACEBAR:t.preventDefault(),o()}})}();var x=fI.extend({toggleVisibility:a,setClampRect:f,setRect:s,getInnerRect:w,setInnerRect:l,setViewPortRect:c,destroy:d},lI);return x},hI={create:mI},gI=function(e){return new Cx(function(t){var n=function(){e.removeEventListener("load",n),t(e)};e.complete?t(e):e.addEventListener("load",n)})},vI=function(e){var t=Qw({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),n=Lr(1),r=Lr(ve.none()),o=Lr({x:0,y:0,w:1,h:1}),i=Lr({x:0,y:0,w:1,h:1}),a=function(e,i){m.getOpt(e).each(function(e){var a=n.get(),u=Xs(e.element()),s=js(e.element()),c=i.dom().naturalWidth*a,l=i.dom().naturalHeight*a,f=Math.max(0,u/2-c/2),d=Math.max(0,s/2-l/2),p={left:f.toString()+"px",top:d.toString()+"px",width:c.toString()+"px",height:l.toString()+"px",position:"absolute"};fs(i,p),t.getOpt(e).each(function(e){fs(e.element(),p)}),r.get().each(function(e){var t=o.get();e.setRect({x:t.x*a+f,y:t.y*a+d,w:t.w*a,h:t.h*a}),e.setClampRect({x:f,y:d,w:c,h:l}),e.setViewPortRect({x:0,y:0,w:u,h:s})})})},u=function(e,t){m.getOpt(e).each(function(e){var r=Xs(e.element()),o=js(e.element()),i=t.dom().naturalWidth,a=t.dom().naturalHeight,u=Math.min(r/i,o/a);u>=1?n.set(1):n.set(u)})},s=function(e,t){var n=Ur.fromTag("img");return Aa(n,"src",t),gI(n.dom()).then(function(){return m.getOpt(e).map(function(e){var t=Ms({element:n});ky.replaceAt(e,1,ve.some(t));var r=i.get(),s={x:0,y:0,w:n.dom().naturalWidth,h:n.dom().naturalHeight};i.set(s);var c=cI.inflate(s,-20,-20);return o.set(c),r.w===s.w&&r.h===s.h||u(e,n),a(e,n),n})})},c=function(e,t){var r=n.get(),o=t>0?Math.min(2,r+.1):Math.max(.1,r-.1);n.set(o),m.getOpt(e).each(function(e){var t=e.components()[1].element();a(e,t)})},l=function(){r.get().each(function(e){e.toggleVisibility(!0)})},f=function(){r.get().each(function(e){e.toggleVisibility(!1)})},d=function(){return o.get()},p=LT.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[t.asSpec(),{dom:{tag:"img",attributes:{src:e}}},{dom:{tag:"div"},behaviours:$l([Ey("image-panel-crop-events",[Xi(function(e){m.getOpt(e).each(function(e){var t=e.element().dom(),i=hI.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},t,function(){});i.toggleVisibility(!1),i.on("updateRect",function(e){var t=e.rect,r=n.get(),i={x:Math.round(t.x/r),y:Math.round(t.y/r),w:Math.round(t.w/r),h:Math.round(t.h/r)};o.set(i)}),r.set(ve.some(i))})})])])}],containerBehaviours:$l([ky.config({}),Ey("image-panel-events",[Xi(function(t){s(t,e)})])])}),m=Qw(p);return{memContainer:m,updateSrc:s,zoom:c,showCrop:l,hideCrop:f,getRect:d,getMeasurements:function(){var e=i.get();return{width:e.w,height:e.h}}}},bI=function(e,t,n,r,o){return TM({name:e,icon:ve.some(t),disabled:n,tooltip:ve.some(e),primary:!1,borderless:!1},r,o)},yI=function(e,t){t?i_.enable(e):i_.disable(e)},wI=function(e){var t=function(e,t,o){n.getOpt(e).each(function(e){yI(e,t)}),r.getOpt(e).each(function(e){yI(e,o)})},n=Qw(bI("Undo","undo",!0,function(e){Di(e,nI.undo(),{direction:1})},e)),r=Qw(bI("Redo","redo",!0,function(e){Di(e,nI.redo(),{direction:1})},e));return{container:LT.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[n.asSpec(),r.asSpec(),bI("Zoom in","zoom-in",!1,function(e){Di(e,nI.zoom(),{direction:1})},e),bI("Zoom out","zoom-out",!1,function(e){Di(e,nI.zoom(),{direction:-1})},e)]}),updateButtonUndoStates:t}},xI=function(e){var n=Lr(e),r=Lr(ve.none()),o=Z();o.add(e);var i=function(){return n.get()},a=function(e){n.set(e)},u=function(){return r.get().fold(function(){return n.get()},function(e){return e})},s=function(e){var t=c(e);return d(),r.set(ve.some(t)),t.url},c=function(e){return{blob:e,url:t.URL.createObjectURL(e)}},l=function(e){t.URL.revokeObjectURL(e.url)},f=function(e){fI.each(e,l)},d=function(){r.get().each(l),r.set(ve.none())},p=function(e){var t=c(e);a(t);var n=o.add(t).removed;return f(n),t.url};return{getBlobState:i,setBlobState:a,addBlobState:p,getTempState:u,updateTempState:s,addTempState:function(e){var t=c(e);return r.set(ve.some(t)),t.url},applyTempState:function(e){return r.get().fold(function(){},function(t){p(t.blob),e()})},destroyTempState:d,undo:function(){var e=o.undo();return a(e),e.url},redo:function(){var e=o.redo();return a(e),e.url},getHistoryStates:function(){return{undoEnabled:o.canUndo(),redoEnabled:o.canRedo()}}}},CI=function(e,n){var r=xI(e.currentState),o=function(e,t){var n=t.event().direction();S.zoom(e,n)},i=function(e){var t=r.getHistoryStates();k.updateButtonUndoStates(e,t.undoEnabled,t.redoEnabled),Di(e,aI.formActionEvent,{name:aI.saveState(),value:t.undoEnabled})},a=function(e){k.updateButtonUndoStates(e,!1,!1)},u=function(e,t){var n=r.undo();d(e,n).then(function(t){f(e),i(e)})},s=function(e,t){var n=r.redo();d(e,n).then(function(t){f(e),i(e)})},c=function(e){return e.toBlob()},l=function(e){Di(e,aI.formActionEvent,{name:aI.disable(),value:{}})},f=function(e){T.getApplyButton(e).each(function(e){i_.enable(e)}),Di(e,aI.formActionEvent,{name:aI.enable(),value:{}})},d=function(e,t){return l(e),S.updateSrc(e,t)},p=function(e,n,r,o,a){return l(e),jD(n).then(r).then(c).then(o).then(function(t){return d(e,t).then(function(t){return i(e),a(),f(e),t})}).catch(function(n){return t.console.log(n),f(e),n})},m=function(e,t,n){var o=r.getBlobState().blob;p(e,o,t,function(e){return r.updateTempState(e)},n)},h=function(e,t){var n=r.getTempState().blob;p(e,n,t,function(e){return r.addTempState(e)},te)},g=function(e,t,n){var o=r.getBlobState().blob;p(e,o,t,function(t){var n=r.addBlobState(t);return b(e),n},n)},v=function(e,t){var n=function(){b(e),t.event().swap()()};r.applyTempState(n)},b=function(e){var t=r.getBlobState().url;return r.destroyTempState(),i(e),t},y=function(e){var t=b(e);d(e,t).then(function(t){f(e)})},w=function(e,t){y(e),t.event().swap()(),S.hideCrop()},x=function(e,t){return m(e,t.event().transform(),te)},C=function(e,t){return h(e,t.event().transform())},_=function(e,t){return g(e,t.event().transform(),t.event().swap())},S=vI(e.currentState.url),k=wI(n),T=uI(S,n),E=function(e,t){a(e);var n=t.event().transform(),r=t.event().swap();n.fold(function(){r()},function(t){m(e,t,r)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[T.memContainer.asSpec(),S.memContainer.asSpec(),k.container],behaviours:$l([nh.config({store:{mode:"manual",getValue:function(){return r.getBlobState()}}}),Ey("image-tools-events",[zi(nI.undo(),u),zi(nI.redo(),s),zi(nI.zoom(),o),zi(nI.back(),w),zi(nI.apply(),v),zi(nI.transform(),x),zi(nI.tempTransform(),C),zi(nI.transformApply(),_),zi(nI.swap(),E)]),aD.self()])}},_I=function(e,t){return{dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"label",innerHtml:t.providers.translate(e.label),classes:["tox-label"]}}].concat(Fe(e.items,t.interpreter)),behaviours:$l([aD.self(),ky.config({}),xD.domHtml(ve.none()),hy.config({mode:"acyclic"})])}},SI=function(e,t){return{dom:{tag:"div",classes:e.classes},components:Fe(e.items,t.shared.interpreter)}},kI=function(e,t){var n=Fe(e.options,function(e){return{dom:{tag:"option",value:e.value,innerHtml:e.text}}}),r=e.data.map(function(e){return on("initialValue",e)}).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:ih(e.selectBehaviours,[Ly.config({}),nh.config({store:de({mode:"manual",getValue:function(e){return ws(e.element())},setValue:function(t,n){Xe(e.options,function(e){return e.value===n}).isSome()&&xs(t.element(),n)}},r)})])}},TI=dg({name:"HtmlSelect",configFields:[lr("options"),rh("selectBehaviours",[Ly,nh]),Er("selectClasses",[]),Er("selectAttributes",{}),wr("data")],factory:kI}),EI=function(e,t){var n=Fe(e.items,function(e){return{text:t.translate(e.text),value:e.value}}),r=e.label.map(function(e){return QT(e,t)}),o=UT.parts().field({dom:{},selectAttributes:{size:e.size},options:n,factory:TI,selectBehaviours:$l([i_.config({disabled:function(){return e.disabled||t.isReadOnly()}}),$T.config({}),Ey("selectbox-change",[zi(ei(),function(t,n){Di(t,ZT,{name:e.name})})])])}),i=e.size>1?ve.none():ve.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:ex("chevron-down",t.icons)}}),a={dom:{tag:"div",classes:["tox-selectfield"]},components:Ye([[o],i.toArray()])};return UT.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Ye([r.toArray(),[a]]),fieldBehaviours:$l([i_.config({disabled:function(){return e.disabled||t.isReadOnly()},onDisabled:function(e){UT.getField(e).each(i_.disable)},onEnabled:function(e){UT.getField(e).each(i_.enable)}}),K_()])})},OI=function(e,t){var n=function(e){return{dom:{tag:"th",innerHtml:t.translate(e)}}},r=function(e){return{dom:{tag:"td",innerHtml:t.translate(e)}}},o=function(e){return{dom:{tag:"tr"},components:Fe(e,r)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[function(e){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Fe(e,n)}]}}(e.header),function(e){return{dom:{tag:"tbody"},components:Fe(e,o)}}(e.cells)],behaviours:$l([$T.config({}),Ly.config({})])}},NI=function(e,t){var n=e.label.map(function(e){return QT(e,t)}),r=[i_.config({disabled:function(){return e.disabled||t.isReadOnly()}}),K_(),hy.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:function(e){return Ai(e,rE),ve.some(!0)}}),Ey("textfield-change",[zi(Zo(),function(t,n){Di(t,ZT,{name:e.name})}),zi(ui(),function(t,n){Di(t,ZT,{name:e.name})})]),$T.config({})],o=e.validation.map(function(e){return BE.config({getRoot:function(e){return ca(e.element())},invalidClass:"tox-invalid",validator:{validate:function(t){var n=nh.getValue(t),r=e.validator(n);return TE.pure(!0===r?lt.value(n):lt.error(r))},validateOnLoad:e.validateOnLoad}})}).toArray(),i=e.placeholder.fold(ie({}),function(e){return{placeholder:t.translate(e)}}),a=e.inputMode.fold(ie({}),function(e){return{inputmode:e}}),u=de(de({},i),a),s=UT.parts().field({tag:!0===e.multiline?"textarea":"input",inputAttributes:u,inputClasses:[e.classname],inputBehaviours:$l(Ye([r,o])),selectOnFocus:!1,factory:mE}),c=e.flex?["tox-form__group--stretched"]:[],l=c.concat(e.maximized?["tox-form-group--maximize"]:[]),f=[i_.config({disabled:function(){return e.disabled||t.isReadOnly()},onDisabled:function(e){UT.getField(e).each(i_.disable)},onEnabled:function(e){UT.getField(e).each(i_.enable)}}),K_()];return GT(n,s,l,f)},AI=function(e,t){return NI({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:e.disabled,classname:"tox-textfield",validation:ve.none(),maximized:e.maximized},t)},DI=function(e,t){return NI({name:e.name,multiline:!0,label:e.label,inputMode:ve.none(),placeholder:e.placeholder,flex:!0,disabled:e.disabled,classname:"tox-textarea",validation:ve.none(),maximized:e.maximized},t)},MI=function(e,t){var n=e.stream.streams,r=n.setup(e,t);return Li([zi(e.event,r),Ki(function(){return t.cancel()})].concat(e.cancelEvent.map(function(e){return[zi(e,function(){return t.cancel()})]}).getOr([])))},II=Object.freeze({__proto__:null,events:MI}),RI=function(e){var t=Lr(null);return fu({readState:function(){return{timer:null!==t.get()?"set":"unset"}},setTimer:function(e){t.set(e)},cancel:function(){var e=t.get();null!==e&&e.cancel()}})},PI=function(e){return e.stream.streams.state(e)},LI=Object.freeze({__proto__:null,throttle:RI,init:PI}),jI=function(e,t){var n=e.stream,r=ux(e.onStream,n.delay);return t.setTimer(r),function(e,t){r.throttle(e,t),n.stopEvent&&t.stop()}},BI=[fr("stream",er("mode",{throttle:[lr("delay"),Er("stopEvent",!0),Qc("streams",{setup:jI,state:RI})]})),Er("event","input"),wr("cancelEvent"),Yc("onStream")],zI=Xl({fields:BI,name:"streaming",active:II,state:LI}),FI=function(e,t,n){var r=nh.getValue(n);nh.setValue(t,r),UI(t)},HI=function(e,t){var n=e.element(),r=ws(n),o=n.dom();"number"!==Ma(n,"type")&&t(o,r)},UI=function(e){HI(e,function(e,t){return e.setSelectionRange(t.length,t.length)})},VI=function(e,t){HI(e,function(e,n){return e.setSelectionRange(t,n.length)})},qI=function(e,t,n){if(e.selectsOver){var r=nh.getValue(t),o=e.getDisplayText(r),i=nh.getValue(n);return 0===e.getDisplayText(i).indexOf(o)?ve.some(function(){FI(0,t,n),VI(t,o.length)}):ve.none()}return ve.none()},WI=ie("alloy.typeahead.itemexecute"),$I=function(e,t,n,r){var o=function(t,n,o){e.previewing.set(!1);var i=qE.getCoupled(t,"sandbox");if(wm.isOpen(i))Cg.getCurrent(i).each(function(e){Ug.getHighlighted(e).fold(function(){o(e)},function(){Pi(i,e.element(),"keydown",n)})});else{var u=function(e){Cg.getCurrent(e).each(o)};JE(e,a(t),t,i,r,u,vE.HighlightFirst).get(te)}},i=lE(e),a=function(e){return function(t){return t.map(function(t){var n=It(t.menus),r=Je(n,function(e){return qe(e.items,function(e){return"item"===e.type})});return nh.getState(e).update(Fe(r,function(e){return e.data})),t})}},u=[Ly.config({}),nh.config({onSetValue:e.onSetValue,store:de({mode:"dataset",getDataKey:function(e){return ws(e.element())},getFallbackEntry:function(e){return{value:e,meta:{}}},setValue:function(t,n){xs(t.element(),e.model.getDisplayText(n))}},e.initialData.map(function(e){return on("initialValue",e)}).getOr({}))}),zI.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:function(t,n){var o=qE.getCoupled(t,"sandbox");if(Ly.isFocused(t)&&ws(t.element()).length>=e.minChars){var i=Cg.getCurrent(o).bind(function(e){return Ug.getHighlighted(e).map(nh.getValue)});e.previewing.set(!0);var u=function(t){Cg.getCurrent(o).each(function(t){i.fold(function(){e.model.selectsOver&&Ug.highlightFirst(t)},function(e){Ug.highlightBy(t,function(t){return nh.getValue(t).value===e.value}),Ug.getHighlighted(t).orThunk(function(){return Ug.highlightFirst(t),ve.none()})})})};JE(e,a(t),t,o,r,u,vE.HighlightFirst).get(te)}},cancelEvent:mi()}),hy.config({mode:"special",onDown:function(e,t){return o(e,t,Ug.highlightFirst),ve.some(!0)},onEscape:function(e){var t=qE.getCoupled(e,"sandbox");return wm.isOpen(t)?(wm.close(t),ve.some(!0)):ve.none()},onUp:function(e,t){return o(e,t,Ug.highlightLast),ve.some(!0)},onEnter:function(t){var n=qE.getCoupled(t,"sandbox"),r=wm.isOpen(n);if(r&&!e.previewing.get())return Cg.getCurrent(n).bind(function(e){return Ug.getHighlighted(e)}).map(function(e){return Di(t,WI(),{item:e}),!0});var o=nh.getValue(t);return Ai(t,mi()),e.onExecute(n,t,o),r&&wm.close(n),ve.some(!0)}}),ew.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),qE.config({others:{sandbox:function(t){return rO(e,t,{onOpen:function(){return ew.on(t)},onClose:function(){return ew.off(t)}})}}}),Ey("typeaheadevents",[Ji(function(t){var n=te;ZE(e,a(t),t,r,n,vE.HighlightFirst).get(te)}),zi(WI(),function(t,n){var r=qE.getCoupled(t,"sandbox");FI(e.model,t,n.event().item()),Ai(t,mi()),e.onItemExecute(t,r,n.event().item(),nh.getValue(t)),wm.close(r),UI(t)})].concat(e.dismissOnBlur?[zi(ai(),function(e){var t=qE.getCoupled(e,"sandbox");ff(t.element()).isNone()&&wm.close(t)})]:[]))];return{uid:e.uid,dom:dE(Vt(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:de(de({},i),ih(e.typeaheadBehaviours,u)),eventOrder:e.eventOrder}},GI=ie([wr("lazySink"),lr("fetch"),Er("minChars",5),Er("responseTime",1e3),Xc("onOpen"),Er("getHotspot",ve.some),Er("getAnchorOverrides",ie({})),Er("layouts",ve.none()),Er("eventOrder",{}),Rr("model",{},[Er("getDisplayText",function(e){return void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value}),Er("selectsOver",!0),Er("populateFromBrowse",!0)]),Xc("onSetValue"),Kc("onExecute"),Xc("onItemExecute"),Er("inputClasses",[]),Er("inputAttributes",{}),Er("inputStyles",{}),Er("matchWidth",!0),Er("useMinWidth",!1),Er("dismissOnBlur",!0),$c(["openClass"]),wr("initialData"),rh("typeaheadBehaviours",[Ly,nh,zI,hy,ew,qE]),Pr("previewing",function(){return Lr(!0)})].concat(cE()).concat(iO())),XI=ie([Ph({schema:[Wc()],name:"menu",overrides:function(e){return{fakeFocus:!0,onHighlight:function(t,n){e.previewing.get()?t.getSystem().getByUid(e.uid).each(function(r){qI(e.model,r,n).fold(function(){return Ug.dehighlight(t,n)},function(e){return e()})}):t.getSystem().getByUid(e.uid).each(function(t){e.model.populateFromBrowse&&FI(e.model,t,n)}),e.previewing.set(!1)},onExecute:function(t,n){return t.getSystem().getByUid(e.uid).toOption().map(function(e){return Di(e,WI(),{item:n}),!0})},onHover:function(t,n){e.previewing.set(!1),t.getSystem().getByUid(e.uid).each(function(t){e.model.populateFromBrowse&&FI(e.model,t,n)})}}}})]),KI=pg({name:"Typeahead",configFields:GI(),partFields:XI(),factory:$I}),YI=function(e){var n=function(){return YI(e.toCached())},r=function(t){return YI(e.bind(function(e){return e.fold(function(e){return TE.pure(lt.error(e))},function(e){return t(e)})}))},o=function(t){return YI(e.map(function(e){return e.bind(t)}))},i=function(t){return YI(e.map(function(e){return e.map(t)}))},a=function(t){return YI(e.map(function(e){return e.mapError(t)}))},u=function(t,n){return e.map(function(e){return e.fold(t,n)})},s=function(n,r){return YI(TE.nu(function(o){var i=!1,a=t.setTimeout(function(){i=!0,o(lt.error(r()))},n);e.get(function(e){i||(t.clearTimeout(a),o(e))})}))};return de(de({},e),{toCached:n,bindFuture:r,bindResult:o,mapResult:i,mapError:a,foldResult:u,withTimeout:s})},JI=function(e){return YI(TE.nu(e))},QI=function(e){return YI(TE.pure(lt.value(e)))},ZI=function(e){return YI(TE.pure(lt.error(e)))},eR=function(e){return YI(TE.pure(e))},tR=function(e){return YI(e.map(lt.value))},nR=function(e){return JI(function(t){e.then(function(e){t(lt.value(e))},function(e){t(lt.error(e))})})},rR={nu:JI,wrap:YI,pure:QI,value:QI,error:ZI,fromResult:eR,fromFuture:tR,fromPromise:nR},oR={type:"separator"},iR=function(e){return{type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:function(){}}},aR=function(e,t){return{type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:function(){}}},uR=function(e){return Fe(e,iR)},sR=function(e,t){return qe(t,function(t){return t.type===e})},cR=function(e,t){return uR(sR(e,t))},lR=function(e){return cR("header",e.targets)},fR=function(e){return cR("anchor",e.targets)},dR=function(e){return ve.from(e.anchorTop).map(function(e){return aR("<top>",e)}).toArray()},pR=function(e){return ve.from(e.anchorBottom).map(function(e){return aR("<bottom>",e)}).toArray()},mR=function(e){return Fe(e,function(e){return aR(e,e)})},hR=function(e){return $e(e,function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(oR,t)},[])},gR=function(e,t){var n=e.toLowerCase();return qe(t,function(e){var t=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text;return co(t.toLowerCase(),n)||co(e.value.toLowerCase(),n)})},vR=function(e,t,n){var r=nh.getValue(t),o=void 0!==r.meta.text?r.meta.text:r.value;return n.getLinkInformation().fold(function(){return[]},function(t){var r=gR(o,mR(n.getHistory(e)));return"file"===e?hR([r,gR(o,lR(t)),gR(o,Ye([dR(t),fR(t),pR(t)]))]):r})},bR=qa("aria-invalid"),yR=function(e,t,n){var r,o=t.shared.providers,i=function(t){var r=nh.getValue(t);n.addToHistory(r.value,e.filetype)},a=UT.parts().field({factory:KI,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":bR,type:"url"},minChars:0,responseTime:0,fetch:function(r){var o=vR(e.filetype,r,n),i=wM(o,Vx.BUBBLE_TO_SANDBOX,t,!1);return TE.pure(i)},getHotspot:function(e){return d.getOpt(e)},onSetValue:function(e,t){e.hasConfigured(BE)&&BE.run(e).get(te)},typeaheadBehaviours:$l(Ye([n.getValidationHandler().map(function(t){return BE.config({getRoot:function(e){return ca(e.element())},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(e,t){s.getOpt(e).each(function(e){Aa(e.element(),"title",o.translate(t))})}},validator:{validate:function(n){var r=nh.getValue(n);return rR.nu(function(n){t({type:e.filetype,url:r.value},function(e){if("invalid"===e.status){var t=lt.error(e.message);n(t)}else{var r=lt.value(e.message);n(r)}})})},validateOnLoad:!1}})}).toArray(),[i_.config({disabled:function(){return e.disabled||o.isReadOnly()}}),$T.config({}),Ey("urlinput-events",Ye(["file"===e.filetype?[zi(Zo(),function(t){Di(t,ZT,{name:e.name})})]:[],[zi(ei(),function(t){Di(t,ZT,{name:e.name}),i(t)}),zi(ui(),function(t){Di(t,ZT,{name:e.name}),i(t)})]]))]])),eventOrder:(r={},r[Zo()]=["streaming","urlinput-events","invalidating"],r),model:{getDisplayText:function(e){return e.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:eC(0,0,"normal")},onExecute:function(e,t,n){Di(t,rE,{})},onItemExecute:function(t,n,r,o){i(t),Di(t,ZT,{name:e.name})}}),u=e.label.map(function(e){return QT(e,o)}),s=Qw(function(e,t,n,r){return void 0===n&&(n=e),void 0===r&&(r=e),{dom:{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],innerHtml:ex(n,o.icons),attributes:de({title:o.translate(r),"aria-live":"polite"},t.fold(function(){return{}},function(e){return{id:e}}))}}}("invalid",ve.some(bR),"warning")),c=Qw({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[s.asSpec()]}),l=n.getUrlPicker(e.filetype),f=qa("browser.url.event"),d=Qw({dom:{tag:"div",classes:["tox-control-wrap"]},components:[a,c.asSpec()],behaviours:$l([i_.config({disabled:function(){return e.disabled||o.isReadOnly()}})])}),p=Qw(OM({name:e.name,icon:ve.some("browse"),text:e.label.getOr(""),disabled:e.disabled,primary:!1,borderless:!0},function(e){return Ai(e,f)},o,[],["tox-browse-url"])),m=function(t){Cg.getCurrent(t).each(function(n){var r=nh.getValue(n),o=de({fieldname:e.name},r);l.each(function(r){r(o).get(function(r){nh.setValue(n,r),Di(t,ZT,{name:e.name})})})})};return UT.sketch({dom:YT(),components:u.toArray().concat([function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Ye([[d.asSpec()],l.map(function(){return p.asSpec()}).toArray()])}}()]),fieldBehaviours:$l([i_.config({disabled:function(){return e.disabled||o.isReadOnly()},onDisabled:function(e){UT.getField(e).each(i_.disable),p.getOpt(e).each(i_.disable)},onEnabled:function(e){UT.getField(e).each(i_.enable),p.getOpt(e).each(i_.enable)}}),K_(),Ey("url-input-events",[zi(f,m)])])})},wR=function(e,t){return LT.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+e.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Jw.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:ex(e.icon,t.icons),attributes:{title:t.translate(e.iconTooltip)}},action:function(t){Di(t,nE,{name:"alert-banner",value:e.url})}})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]})},xR=function(e,t){var n=nh.config({store:{mode:"manual",getValue:function(e){return e.element().dom().checked},setValue:function(e,t){e.element().dom().checked=t}}}),r=function(e){return e.element().dom().click(),ve.some(!0)},o=UT.parts().field({factory:{sketch:ae},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:$l([aD.self(),i_.config({disabled:function(){return e.disabled||t.isReadOnly()}}),$T.config({}),Ly.config({}),n,hy.config({mode:"special",onEnter:r,onSpace:r,stopSpaceKeyup:!0}),Ey("checkbox-events",[zi(ei(),function(t,n){Di(t,ZT,{name:e.name})})])])}),i=UT.parts().label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:t.translate(e.label)},behaviours:$l([pO.config({})])}),a=function(e){return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e],innerHtml:ex("checked"===e?"selected":"unselected",t.icons)}}},u=Qw({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[a("checked"),a("unchecked")]});return UT.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,u.asSpec(),i],fieldBehaviours:$l([i_.config({disabled:function(){return e.disabled||t.isReadOnly()},disableClass:"tox-checkbox--disabled",onDisabled:function(e){UT.getField(e).each(i_.disable)},onEnabled:function(e){UT.getField(e).each(i_.enable)}}),K_()])})},CR=function(e){return"presentation"===e.presets?LT.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):LT.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:$l([$T.config({}),Ly.config({})])})},_R=function(e){return function(t,n,r){return Rt(n,"name").fold(function(){return e(n,r)},function(o){return t.field(o,e(n,r))})}},SR={bar:_R(function(e,t){return BT(e,t.shared)}),collection:_R(function(e,t){return sE(e,t.shared.providers)}),alertbanner:_R(function(e,t){return wR(e,t.shared.providers)}),input:_R(function(e,t){return AI(e,t.shared.providers)}),textarea:_R(function(e,t){return DI(e,t.shared.providers)}),label:_R(function(e,t){return _I(e,t.shared)}),iframe:function(e){return function(t,n,r){var o=Vt(n,{source:"dynamic"});return _R(e)(t,o,r)}}(function(e,t){return PD(e,t.shared.providers)}),button:_R(function(e,t){return IM(e,t.shared.providers)}),checkbox:_R(function(e,t){return xR(e,t.shared.providers)}),colorinput:_R(function(e,t){return bO(e,t.shared,t.colorinput)}),colorpicker:_R(lD),dropzone:_R(function(e,t){return SD(e,t.shared.providers)}),grid:_R(function(e,t){return kD(e,t.shared)}),selectbox:_R(function(e,t){return EI(e,t.shared.providers)}),sizeinput:_R(function(e,t){return $M(e,t.shared.providers)}),urlinput:_R(function(e,t){return yR(e,t,t.urlinput)}),customeditor:_R(pD),htmlpanel:_R(CR),imagetools:_R(function(e,t){return CI(e,t.shared.providers)}),table:_R(function(e,t){return OI(e,t.shared.providers)}),panel:_R(function(e,t){return SI(e,t)})},kR={field:function(e,t){return t}},TR=function(e,t,n){var r=Vt(n,{shared:{interpreter:function(t){return ER(e,t,r)}}});return ER(e,t,r)},ER=function(e,n,r){return Rt(SR,n.type).fold(function(){return t.console.error('Unknown factory type "'+n.type+'", defaulting to container: ',n),n},function(t){return t(e,n,r)})},OR=function(e,t){return ER(kR,e,t)},NR={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},AR=function(e,t,n){var r=Wf(-12,12,NR),o={maxHeightFunction:Ff()},i=function(){return{anchor:"node",root:us(ia(e())),node:ve.from(e()),bubble:r,layouts:{onRtl:function(){return[$w]},onLtr:function(){return[Ww]}},overrides:o}},a=function(){return{anchor:"hotspot",hotspot:t(),bubble:r,layouts:{onRtl:function(){return[kl]},onLtr:function(){return[Tl]}},overrides:o}};return function(){return n()?i():a()}},DR=function(e,t,n){var r=function(){return{anchor:"node",root:us(ia(e())),node:ve.from(e()),layouts:{onRtl:function(){return[Gw]},onLtr:function(){return[Gw]}}}},o=function(){return{anchor:"hotspot",hotspot:t(),layouts:{onRtl:function(){return[Al]},onLtr:function(){return[Al]}}}};return function(){return n()?r():o()}},MR=function(e,t){return function(){return{anchor:"selection",root:t(),getSelection:function(){var t=e.selection.getRng();return ve.some(Cd.range(Ur.fromDom(t.startContainer),t.startOffset,Ur.fromDom(t.endContainer),t.endOffset))}}}},IR=function(e){return function(t){return{anchor:"node",root:e(),node:t}}},RR=function(e,t,n){var r=D_(e),o=function(){return Ur.fromDom(e.getBody())},i=function(){return Ur.fromDom(e.getContentAreaContainer())},a=function(){return r||!n()};return{inlineDialog:AR(i,t,a),banner:DR(i,t,a),cursor:MR(e,o),node:IR(o)}},PR=function(e){return function(t,n){jk(e)(t,n)}},LR=function(e){return function(){return yk(e)}},jR=function(e){return function(){return xk(e)}},BR=function(e){return function(){return Nk(e)}},zR=function(e){return{colorPicker:PR(e),hasCustomColors:LR(e),getColors:jR(e),getColorCols:BR(e)}},FR=function(e){return function(){return P_(e)}},HR=function(e){return{isDraggableModal:FR(e)}},UR=function(e){var t=Lr(O_(e)?"bottom":"top");return{isPositionedAtTop:function(){return"top"===t.get()},getDockingMode:t.get,setDockingMode:t.set}},VR=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],qR=function(e){return Pt(e,"items")},WR=function(e){return Pt(e,"block")},$R=function(e){return Pt(e,"inline")},GR=function(e){return Pt(e,"selector")},XR=function(e){return $e(e,function(e,t){if(qR(t)){var n=XR(t.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}if($R(t)||WR(t)||GR(t)){var r="custom-"+t.title.toLowerCase();return{customFormats:e.customFormats.concat([{name:r,format:t}]),formats:e.formats.concat([{title:t.title,format:r,icon:t.icon}])}}return de(de({},e),{formats:e.formats.concat(t)})},{customFormats:[],formats:[]})},KR=function(e,t){var n=XR(t),r=function(t){He(t,function(t){e.formatter.has(t.name)||e.formatter.register(t.name,t.format)})};return e.formatter?r(n.customFormats):e.on("init",function(){r(n.customFormats)}),n.formats},YR=function(e){return g_(e).map(function(t){var n=KR(e,t);return v_(e)?VR.concat(n):n}).getOr(VR)},JR=function(e,t,n){var r={type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)};return Vt(e,r)},QR=function(e,t,n,r){var o=function(e){return JR(e,n,r)},i=function(e){return Vt(e,{type:"submenu"})},a=function(t){var o=qa(t.title),i={type:"formatter",format:o,isSelected:n(o),getStylePreview:r(o)},a=Vt(t,i);return e.formatter.register(o,a),a},u=function(e){return Fe(e,function(e){var t=_t(e);if(Lt(e,"items")){var n=u(e.items);return Vt(i(e),{getStyleItems:function(){return n}})}return Lt(e,"format")?o(e):1===t.length&&Le(t,"title")?Vt(e,{type:"separator"}):a(e)})};return u(t)},ZR=function(e){var t=function(t){return function(){return e.formatter.match(t)}},n=function(t){return function(){var n=e.formatter.get(t);return void 0!==n?ve.some({tag:n.length>0?n[0].inline||n[0].block||"div":"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):ve.none()}},r=function(e){var t=e.items;return void 0!==t&&t.length>0?Je(t,r):[e.format]},o=Lr([]),i=Lr([]),a=Lr([]),u=Lr([]),s=Lr(!1);return e.on("PreInit",function(a){var u=YR(e),s=QR(e,u,t,n);o.set(s),i.set(Je(s,r))}),e.on("addStyleModifications",function(o){var i=QR(e,o.items,t,n);a.set(i),s.set(o.replace),u.set(Je(i,r))}),{getData:function(){var e=s.get()?[]:o.get(),t=a.get();return e.concat(t)},getFlattenedKeys:function(){var e=s.get()?[]:i.get(),t=u.get();return e.concat(t)}}},eP=fI.trim,tP=function(e){return function(t){if(t&&1===t.nodeType){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},nP=tP("true"),rP=tP("false"),oP=function(e,t,n,r,o){return{type:e,title:t,url:n,level:r,attach:o}},iP=function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return nP(e)}return!1},aP=function(e,t){return Fe(qd(Ur.fromDom(t),e),function(e){return e.dom()})},uP=function(e){return e.innerText||e.textContent},sP=function(e){return e.id?e.id:qa("h")},cP=function(e){return e&&"A"===e.nodeName&&void 0!==(e.id||e.name)},lP=function(e){return cP(e)&&dP(e)},fP=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},dP=function(e){return iP(e)&&!rP(e)},pP=function(e){return fP(e)&&dP(e)},mP=function(e){return fP(e)?parseInt(e.nodeName.substr(1),10):0},hP=function(e){var t=sP(e),n=function(){e.id=t};return oP("header",uP(e),"#"+t,mP(e),n)},gP=function(e){var t=e.id||e.name,n=uP(e);return oP("anchor",n||"#"+t,"#"+t,0,te)},vP=function(e){return Fe(qe(e,pP),hP)},bP=function(e){return Fe(qe(e,lP),gP)},yP=function(e){return aP("h1,h2,h3,h4,h5,h6,a:not([href])",e)},wP=function(e){return eP(e.title).length>0},xP=function(e){var t=yP(e);return qe(vP(t).concat(bP(t)),wP)},CP={find:xP},_P="tinymce-url-history",SP=function(e){return xe(e)&&/^https?/.test(e)},kP=function(e){return _e(e)&&e.length<=5&&Qe(e,SP)},TP=function(e){return Ce(e)&&Mt(e,function(e){return!kP(e)}).isNone()},EP=function(){var e=dk.getItem(_P);if(null===e)return{};var n;try{n=JSON.parse(e)}catch(e){if(e instanceof SyntaxError)return t.console.log("Local storage "+_P+" was not valid JSON",e),{};throw e}return TP(n)?n:(t.console.log("Local storage "+_P+" was not valid format",n),{})},OP=function(e){if(!TP(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));dk.setItem(_P,JSON.stringify(e))},NP=function(e){var t=EP();return Object.prototype.hasOwnProperty.call(t,e)?t[e]:[]},AP=function(e,t){if(SP(e)){var n=EP(),r=Object.prototype.hasOwnProperty.call(n,t)?n[t]:[],o=qe(r,function(t){return t!==e});n[t]=[e].concat(o).slice(0,5),OP(n)}},DP=function(e){return!!e},MP=function(e){return Tt(fI.makeMap(e,/[, ]/),DP)},IP=function(e){return ve.from(z_(e)).filter(Oe)},RP=function(e){var t=ve.some(F_(e)).filter(DP),n=ve.some(H_(e)).filter(DP),r=t.or(n).map(MP);return IP(e).fold(function(){return!1},function(e){return r.fold(function(){return!0},function(e){return _t(e).length>0&&e})})},PP=function(e,t){var n=RP(e);return Se(n)?n?IP(e):ve.none():n[t]?IP(e):ve.none()},LP=function(e,t){return PP(e,t).map(function(n){return function(r){return TE.nu(function(o){var i=function(e,t){if(!xe(e))throw new Error("Expected value to be string");if(void 0!==t&&!Ce(t))throw new Error("Expected meta to be a object");o({value:e,meta:t})},a=de({filetype:t,fieldname:r.fieldname},ve.from(r.meta).getOr({}));n.call(e,i,r.value,a)})}})},jP=function(e){return ve.from(e).filter(xe).getOrUndefined()},BP=function(e){return U_(e)?ve.none():ve.some({targets:CP.find(e.getBody()),anchorTop:jP(V_(e)),anchorBottom:jP(q_(e))})},zP=function(e){return ve.from(W_(e))},FP=function(e){return{getHistory:NP,addToHistory:AP,getLinkInformation:function(){return BP(e)},getValidationHandler:function(){return zP(e)},getUrlPicker:function(t){return LP(e,t)}}},HP=function(e,t,n){var r=Lr(!1),o=UR(t),i={shared:{providers:{icons:function(){return t.ui.registry.getAll().icons},menuItems:function(){return t.ui.registry.getAll().menuItems},translate:FC.translate,isReadOnly:function(){return t.mode.isReadOnly()}},interpreter:function(e){return OR(e,i)},anchors:RR(t,n,o.isPositionedAtTop),header:o,getSink:function(){return lt.value(e)}},urlinput:FP(t),styleselect:ZR(t),colorinput:zR(t),dialog:HR(t),isContextMenuOpen:function(){return r.get()},setContextMenuState:function(e){return r.set(e)}};return i},UP=ie(function(e,t){Ys(e,Math.floor(t))}),VP=ie([lr("items"),$c(["itemSelector"]),rh("tgroupBehaviours",[hy])]),qP=ie([jh({name:"items",unit:"item"})]),WP=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:ih(e.tgroupBehaviours,[hy.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},$P=pg({name:"ToolbarGroup",configFields:VP(),partFields:qP(),factory:WP}),GP=ie([lr("dom"),Er("shell",!0),rh("toolbarBehaviours",[ky])]),XP=function(){return{behaviours:$l([ky.config({})])}},KP=ie([Lh({name:"groups",overrides:XP})]),YP=function(e,n,r,o){var i=function(e,n){a(e).fold(function(){throw t.console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(e){ky.set(e,n)})},a=function(t){return e.shell?ve.some(t):Kh(t,e,"groups")},u=e.shell?{behaviours:[ky.config({})],components:[]}:{behaviours:[],components:n};return{uid:e.uid,dom:e.dom,components:u.components,behaviours:ih(e.toolbarBehaviours,u.behaviours),apis:{setGroups:i},domModification:{attributes:{role:"group"}}}},JP=pg({name:"Toolbar",configFields:GP(),partFields:KP(),factory:YP,apis:{setGroups:function(e,t,n){e.setGroups(t,n)}}}),QP=function(e,t){var n={len:0,list:[]};return $e(e,function(e,n){return t(n,e.len).fold(ie(e),function(t){return{len:t.finish(),list:e.list.concat([t])}})},n).list},ZP=function(e,t,n){return{within:ie(e),extra:ie(t),withinWidth:ie(n)}},eL=function(e,t,n){var r=QP(e,function(e,t){var r=n(e);return ve.some({element:ie(e),start:ie(t),finish:ie(t+r),width:ie(r)})}),o=qe(r,function(e){return e.finish()<=t}),i=We(o,function(e,t){return e+t.width()},0),a=r.slice(o.length);return{within:ie(o),extra:ie(a),withinWidth:ie(i)}},tL=function(e){return Fe(e,function(e){return e.element()})},nL=function(e,t,n){var r=tL(e.concat(t));return ZP(r,[],n)},rL=function(e,t,n,r){var o=tL(e).concat([n]);return ZP(o,tL(t),r)},oL=function(e,t,n){return ZP(tL(e),[],n)},iL=function(e,t,n){var r=eL(t,e,n);return 0===r.extra().length?ve.some(r):ve.none()},aL=function(e,t,n,r){var o=iL(e,t,n).getOrThunk(function(){return eL(t,e-n(r),n)}),i=o.within(),a=o.extra(),u=o.withinWidth();return 1===a.length&&a[0].width()<=n(r)?nL(i,a,u):a.length>=1?rL(i,a,r,u):oL(i,0,u)},uL=function(e,t){var n=Fe(t,function(e){return Ps(e)});JP.setGroups(e,n)},sL=function(e){return at(e,function(e){return ff(e.element()).bind(function(t){return e.getSystem().getByDom(t).toOption()})})},cL=function(e,t,n){var r=Yh(e,t,"primary"),o=qE.getCoupled(e,"overflowGroup");ls(r.element(),"visibility","hidden");var i=t.builtGroups.get().concat([o]),a=sL(i);n([]),uL(r,i);var u=Xs(r.element()),s=aL(u,t.builtGroups.get(),function(e){return Xs(e.element())},o);0===s.extra().length?(ky.remove(r,o),n([])):(uL(r,s.within()),n(s.extra())),bs(r.element(),"visibility"),ys(r.element()),a.each(Ly.focus)},lL=ie([rh("splitToolbarBehaviours",[qE]),Pr("builtGroups",function(){return Lr([])})]),fL=ie([$c(["overflowToggledClass"]),Sr("getOverflowBounds"),lr("lazySink"),Pr("overflowGroups",function(){return Lr([])})].concat(lL())),dL=ie([Rh({factory:JP,schema:GP(),name:"primary"}),Ph({schema:GP(),name:"overflow"}),Ph({name:"overflow-button"}),Ph({name:"overflow-group"})]),pL=ie([$c(["toggledClass"]),lr("lazySink"),hr("fetch"),Sr("getBounds"),kr("fireDismissalEventInstead",[Er("event",Ci())]),Zf()]),mL=ie([Ph({name:"button",overrides:function(e){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:$l([ew.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Ph({factory:JP,schema:GP(),name:"toolbar",overrides:function(e){return{toolbarBehaviours:$l([hy.config({mode:"cyclic",onEscape:function(t){return Kh(t,e,"button").each(Ly.focus),ve.none()}})])}}})]),hL=function(e,t){var n=qE.getCoupled(e,"toolbarSandbox");wm.isOpen(n)?wm.close(n):wm.open(n,t.toolbar())},gL=function(e,t,n,r){var o=n.getBounds.map(function(e){return e()}),i=n.lazySink(e).getOrDie();Fp.positionWithinBounds(i,{anchor:"hotspot",hotspot:e,layouts:r,overrides:{maxWidthFunction:UP()}},t,o)},vL=function(e,t,n,r,o){JP.setGroups(t,o),gL(e,t,n,r),ew.on(e)},bL=function(e,t,n){var r=Nc(),o=function(o,i){n.fetch().get(function(o){vL(e,i,n,t.layouts,o),r.link(e.element()),hy.focusIn(i)})},i=function(){ew.off(e),Ly.focus(e),r.unlink(e.element())};return{dom:{tag:"div",attributes:{id:r.id}},behaviours:$l([hy.config({mode:"special",onEscape:function(e){return wm.close(e),ve.some(!0)}}),wm.config({onOpen:o,onClose:i,isPartOf:function(t,n,r){return Dc(n,r)||Dc(e,r)},getAttachPoint:function(){return n.lazySink(e).getOrDie()}}),nf.config({channels:de(de({},km(de({isExtraPart:ce},n.fireDismissalEventInstead.map(function(e){return{fireEventInstead:{event:e.event}}}).getOr({})))),Em({doReposition:function(){wm.getState(qE.getCoupled(e,"toolbarSandbox")).each(function(r){gL(e,r,n,t.layouts)})}}))})])}},yL=function(e,t,n,r){return de(de({},Jw.sketch(de(de({},r.button()),{action:function(e){hL(e,r)},buttonBehaviours:ah.augment({dump:r.button().buttonBehaviours},[qE.config({others:{toolbarSandbox:function(t){return bL(t,n,e)}}})])}))),{apis:{setGroups:function(t,r){wm.getState(qE.getCoupled(t,"toolbarSandbox")).each(function(o){vL(t,o,e,n.layouts,r)})},reposition:function(t){wm.getState(qE.getCoupled(t,"toolbarSandbox")).each(function(r){gL(t,r,e,n.layouts)})},toggle:function(e){hL(e,r)},getToolbar:function(e){return wm.getState(qE.getCoupled(e,"toolbarSandbox"))}}})},wL=pg({name:"FloatingToolbarButton",factory:yL,configFields:pL(),partFields:mL(),apis:{setGroups:function(e,t,n){e.setGroups(t,n)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},getToolbar:function(e,t){return e.getToolbar(t)}}}),xL=function(e){return Fe(e,function(e){return Ps(e)})},CL=function(e,t,n){cL(e,n,function(r){n.overflowGroups.set(r),t.getOpt(e).each(function(e){wL.setGroups(e,xL(r))})})},_L=function(e,t,n,r){var o=Qw(wL.sketch({fetch:function(){return TE.nu(function(t){t(xL(e.overflowGroups.get()))})},layouts:{onLtr:function(){return[Tl,kl]},onRtl:function(){return[kl,Tl]},onBottomLtr:function(){return[Ol,El]},onBottomRtl:function(){return[El,Ol]}},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:r["overflow-button"](),toolbar:r.overflow()}}));return{uid:e.uid,dom:e.dom,components:t,behaviours:ih(e.splitToolbarBehaviours,[qE.config({others:{overflowGroup:function(){return $P.sketch(de(de({},r["overflow-group"]()),{items:[o.asSpec()]}))}}})]),apis:{setGroups:function(t,n){e.builtGroups.set(Fe(n,t.getSystem().build)),CL(t,o,e)},refresh:function(t){return CL(t,o,e)},toggle:function(e){o.getOpt(e).each(function(e){wL.toggle(e)})},reposition:function(e){o.getOpt(e).each(function(e){wL.reposition(e)})},getOverflow:function(e){return o.getOpt(e).bind(function(e){return wL.getToolbar(e)})}},domModification:{attributes:{role:"group"}}}},SL=pg({name:"SplitFloatingToolbar",configFields:fL(),partFields:dL(),factory:_L,apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},getOverflow:function(e,t){return e.getOverflow(t)}}}),kL=function(e,t){return t.getAnimationRoot.fold(function(){return e.element()},function(t){return t(e)})},TL=function(e){return e.dimension.property},EL=function(e,t){return e.dimension.getDimension(t)},OL=function(e,t){var n=kL(e,t);Xu(n,[t.shrinkingClass,t.growingClass])},NL=function(e,t){Wu(e.element(),t.openClass),Vu(e.element(),t.closedClass),ls(e.element(),TL(t),"0px"),ys(e.element())},AL=function(e,t){Wu(e.element(),t.closedClass),Vu(e.element(),t.openClass),bs(e.element(),TL(t))},DL=function(e,t,n,r){n.setCollapsed(),ls(e.element(),TL(t),EL(t,e.element())),ys(e.element()),OL(e,t),NL(e,t),t.onStartShrink(e),t.onShrunk(e)},ML=function(e,t,n,r){var o=r.getOrThunk(function(){return EL(t,e.element())});n.setCollapsed(),ls(e.element(),TL(t),o),ys(e.element());var i=kL(e,t);Wu(i,t.growingClass),Vu(i,t.shrinkingClass),NL(e,t),t.onStartShrink(e)},IL=function(e,t,n){var r=EL(t,e.element());("0px"===r?DL:ML)(e,t,n,ve.some(r))},RL=function(e,t,n){var r=kL(e,t),o=$u(r,t.shrinkingClass),i=EL(t,e.element());AL(e,t);var a=EL(t,e.element()),u=function(){ls(e.element(),TL(t),i),ys(e.element())},s=function(){NL(e,t)};(o?u:s)(),Wu(r,t.shrinkingClass),Vu(r,t.growingClass),AL(e,t),ls(e.element(),TL(t),a),n.setExpanded(),t.onStartGrow(e)},PL=function(e,t,n){if(n.isExpanded()){bs(e.element(),TL(t));var r=EL(t,e.element());ls(e.element(),TL(t),r)}},LL=function(e,t,n){n.isExpanded()||RL(e,t,n)},jL=function(e,t,n){n.isExpanded()&&IL(e,t,n)},BL=function(e,t,n){n.isExpanded()&&DL(e,t,n,ve.none())},zL=function(e,t,n){return n.isExpanded()},FL=function(e,t,n){return n.isCollapsed()},HL=function(e,t,n){var r=kL(e,t);return!0===$u(r,t.growingClass)},UL=function(e,t,n){var r=kL(e,t);return!0===$u(r,t.shrinkingClass)},VL=function(e,t,n){return!0===HL(e,t)||!0===UL(e,t)},qL=function(e,t,n){(n.isExpanded()?IL:RL)(e,t,n)},WL=Object.freeze({__proto__:null,refresh:PL,grow:LL,shrink:jL,immediateShrink:BL,hasGrown:zL,hasShrunk:FL,isGrowing:HL,isShrinking:UL,isTransitioning:VL,toggleGrow:qL,disableTransitions:OL}),$L=function(e,t,n){var r=t.expanded;return gu(r?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:on(t.dimension.property,"0px")})},GL=function(e,t){return Li([Gi(ni(),function(n,r){r.event().raw().propertyName===e.dimension.property&&(OL(n,e),t.isExpanded()&&bs(n.element(),e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(n))})])},XL=Object.freeze({__proto__:null,exhibit:$L,events:GL}),KL=[lr("closedClass"),lr("openClass"),lr("shrinkingClass"),lr("growingClass"),wr("getAnimationRoot"),Xc("onShrunk"),Xc("onStartShrink"),Xc("onGrown"),Xc("onStartGrow"),Er("expanded",!1),fr("dimension",er("property",{width:[Qc("property","width"),Qc("getDimension",function(e){return Xs(e)+"px"})],height:[Qc("property","height"),Qc("getDimension",function(e){return js(e)+"px"})]}))],YL=function(e){var t=Lr(e.expanded),r=function(){return"expanded: "+t.get()};return fu({isExpanded:function(){return!0===t.get()},isCollapsed:function(){return!1===t.get()},setCollapsed:n(t.set,!1),setExpanded:n(t.set,!0),readState:r})},JL=Object.freeze({__proto__:null,init:YL}),QL=Xl({fields:KL,name:"sliding",active:XL,apis:WL,state:JL}),ZL=ie([$c(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Xc("onOpened"),Xc("onClosed")].concat(lL())),ej=ie([Rh({factory:JP,schema:GP(),name:"primary"}),Rh({factory:JP,schema:GP(),name:"overflow",overrides:function(e){return{toolbarBehaviours:$l([QL.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:function(t){Kh(t,e,"overflow-button").each(function(e){ew.off(e),Ly.focus(e)}),e.onClosed(t)},onGrown:function(t){hy.focusIn(t),e.onOpened(t)},onStartGrow:function(t){Kh(t,e,"overflow-button").each(ew.on)}}),hy.config({mode:"acyclic",onEscape:function(t){return Kh(t,e,"overflow-button").each(Ly.focus),ve.some(!0)}})])}}}),Ph({name:"overflow-button",overrides:function(e){return{buttonBehaviours:$l([ew.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Ph({name:"overflow-group"})]),tj=function(e,t){Kh(e,t,"overflow").each(function(n){nj(e,t),QL.toggleGrow(n)})},nj=function(e,t){Kh(e,t,"overflow").each(function(n){cL(e,t,function(e){var t=Fe(e,function(e){return Ps(e)});JP.setGroups(n,t)}),Kh(e,t,"overflow-button").each(function(e){QL.hasGrown(n)&&ew.on(e)}),QL.refresh(n)})},rj=function(e,t,n,r){var o=function(t,n){var r=Fe(n,t.getSystem().build);e.builtGroups.set(r)};return{uid:e.uid,dom:e.dom,components:t,behaviours:ih(e.splitToolbarBehaviours,[qE.config({others:{overflowGroup:function(e){return $P.sketch(de(de({},r["overflow-group"]()),{items:[Jw.sketch(de(de({},r["overflow-button"]()),{action:function(t){Ai(e,"alloy.toolbar.toggle")}}))]}))}}}),Ey("toolbar-toggle-events",[zi("alloy.toolbar.toggle",function(t){Kh(t,e,"overflow").each(function(n){nj(t,e),QL.toggleGrow(n)})})])]),apis:{setGroups:function(t,n){o(t,n),nj(t,e)},refresh:function(t){return nj(t,e)},toggle:function(t){return tj(t,e)}},domModification:{attributes:{role:"group"}}}},oj=pg({name:"SplitSlidingToolbar",configFields:ZL(),partFields:ej(),factory:rj,apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},toggle:function(e,t){e.toggle(t)}}}),ij=ie(qa("toolbar-height-change")),aj=function(e){var t=e.title.fold(function(){return{}},function(e){return{attributes:{title:e}}});return{dom:de({tag:"div",classes:["tox-toolbar__group"]},t),components:[$P.parts().items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:$l([$T.config({}),Ly.config({})])}},uj=function(e){return $P.sketch(aj(e))},sj=function(e,t){var n=Xi(function(t){var n=Fe(e.initGroups,uj);JP.setGroups(t,n)});return $l([eS.toolbarButton(e.providers.isReadOnly),K_(),hy.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Ey("toolbar-events",[n])])},cj=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":aj({title:ve.none(),items:[]}),"overflow-button":kM({name:"more",icon:ve.some("more-drawer"),disabled:!1,tooltip:ve.some("More..."),primary:!1,borderless:!1},ve.none(),e.providers)},splitToolbarBehaviours:sj(e,t)}},lj=function(e){var t=cj(e),n=SL.parts().primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return SL.sketch(de(de({},t),{lazySink:e.getSink,getOverflowBounds:function(){var t=e.moreDrawerData.lazyHeader().element(),n=yc(t),r=ua(t),o=yc(r),i=Math.max(r.dom().scrollHeight,o.height);return vc(n.x+4,o.y,n.width-8,i)},parts:de(de({},t.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}}),components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},fj=function(e){var t=oj.parts().primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=oj.parts().overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),r=cj(e);return oj.sketch(de(de({},r),{components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(e){e.getSystem().broadcastOn([ij()],{type:"opened"})},onClosed:function(e){e.getSystem().broadcastOn([ij()],{type:"closed"})}}))},dj=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return JP.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===Ux.scrolling?["tox-toolbar--scrolling"]:[])},components:[JP.parts().groups({})],toolbarBehaviours:sj(e,t)})},pj=[Mr("disabled",!1),_r("tooltip"),_r("icon"),_r("text"),Ir("onSetup",function(){return te})],mj=Rn([pr("type"),hr("onAction")].concat(pj)),hj=function(e){return Kn("toolbarbutton",mj,e)},gj=[_r("text"),_r("tooltip"),_r("icon"),hr("fetch"),Ir("onSetup",function(){return te})],vj=Rn(o([pr("type")],gj)),bj=function(e){return Kn("menubutton",vj,e)},yj=Rn([pr("type"),_r("tooltip"),_r("icon"),_r("text"),Sr("select"),hr("fetch"),Ir("onSetup",function(){return te}),Dr("presets","normal",["normal","color","listpreview"]),Er("columns",1),hr("onAction"),hr("onItemAction")]),wj=function(e){return Kn("SplitButton",yj,e)},xj=[Mr("active",!1)].concat(pj),Cj=Rn(xj.concat([pr("type"),hr("onAction")])),_j=function(e){return Kn("ToggleButton",Cj,e)},Sj=Rn([pr("type"),fr("items",function(e){var t=function(t,n,r){for(var o=[],i=0,a=e;i<a.length;i++){var u=a[i],s=u.extract(t,n,r);if(s.stype===ee.Value)return s;o.push(s)}return mn.consolidateArr(o)},n=function(){return"oneOf("+Fe(e,function(e){return e.toString()}).join(", ")+")"};return{extract:t,toString:n}}([qn([pr("name"),yr("items",or)]),or]))].concat(pj)),kj=function(e){return Kn("GroupToolbarButton",Sj,e)},Tj=[Ir("predicate",function(){return!1}),Dr("scope","node",["node","editor"]),Dr("position","selection",["node","selection","line"])],Ej=pj.concat([Er("type","contextformbutton"),Er("primary",!1),hr("onAction"),Pr("original",ae)]),Oj=xj.concat([Er("type","contextformbutton"),Er("primary",!1),hr("onAction"),Pr("original",ae)]),Nj=pj.concat([Er("type","contextformbutton")]),Aj=xj.concat([Er("type","contextformtogglebutton")]),Dj=er("type",{contextformbutton:Ej,contextformtogglebutton:Oj}),Mj=Rn([Er("type","contextform"),Ir("initValue",function(){return""}),_r("label"),yr("commands",Dj),xr("launch",er("type",{contextformbutton:Nj,contextformtogglebutton:Aj}))].concat(Tj)),Ij=Rn([Er("type","contexttoolbar"),pr("items")].concat(Tj)),Rj=function(e){return Kn("ContextToolbar",Ij,e)},Pj=function(e){return Kn("ContextForm",Mj,e)},Lj=function(e,t,n){return n},jj=Object.freeze({__proto__:null,getState:Lj}),Bj=function(e,t){var n=function(n,r){e.updateState.each(function(e){var o=e(n,r);t.set(o)}),e.renderComponents.each(function(e){var o=e(r,t.get()),i=Fe(o,n.getSystem().build);Wp(n,i)})};return Li([zi(si(),function(t,r){var o=r,i=e.channel;Le(o.channels(),i)&&n(t,o.data())}),Xi(function(t,r){e.initialData.each(function(e){n(t,e)})})])},zj=Object.freeze({__proto__:null,events:Bj}),Fj=function(){var e=Lr(ve.none()),t=function(t){return e.set(t)},n=function(){return e.set(ve.none())},r=function(){return e.get()};return{readState:function(){return e.get().fold(function(){return"none"},function(e){return e})},get:r,set:t,clear:n}},Hj=Object.freeze({__proto__:null,init:Fj}),Uj=[lr("channel"),wr("renderComponents"),wr("updateState"),wr("initialData")],Vj=Xl({fields:Uj,name:"reflecting",active:zj,apis:jj,state:Hj}),qj=ie([lr("toggleClass"),lr("fetch"),Yc("onExecute"),Er("getHotspot",ve.some),Er("getAnchorOverrides",ie({})),Zf(),Yc("onItemExecute"),wr("lazySink"),lr("dom"),Xc("onOpen"),rh("splitDropdownBehaviours",[qE,hy,Ly]),Er("matchWidth",!1),Er("useMinWidth",!1),Er("eventOrder",{}),wr("role")].concat(iO())),Wj=Rh({factory:Jw,schema:[lr("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:$l([Ly.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(Mi)},buttonBehaviours:$l([ew.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])}}}),$j=Rh({factory:Jw,schema:[lr("dom")],name:"button",defaults:function(){return{buttonBehaviours:$l([Ly.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(function(n){e.onExecute(n,t)})}}}}),Gj=ie([Wj,$j,Lh({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[lr("text")],name:"aria-descriptor"}),Ph({schema:[Wc()],name:"menu",defaults:function(e){return{onExecute:function(t,n){t.getSystem().getByUid(e.uid).each(function(r){e.onItemExecute(r,t,n)})}}}}),$E()]),Xj=function(e,t,n,r){var o=function(e){Cg.getCurrent(e).each(function(e){Ug.highlightFirst(e),hy.focusIn(e)})},i=function(t){var n=o;ZE(e,function(e){return e},t,r,n,vE.HighlightFirst).get(te)},a=function(e){return i(e),ve.some(!0)},u=function(t){var n=Yh(t,e,"button");return Mi(n),ve.some(!0)},s=de(de({},Li([Xi(function(t,n){Kh(t,e,"aria-descriptor").each(function(e){var n=qa("aria");Aa(e.element(),"id",n),Aa(t.element(),"aria-describedby",n)})})])),nw(ve.some(i))),c={repositionMenus:function(e){ew.isOn(e)&&oO(e)}};return{uid:e.uid,dom:e.dom,components:t,apis:c,eventOrder:de(de({},e.eventOrder),{"alloy.execute":["disabling","toggling","alloy.base.behaviour"]}),events:s,behaviours:ih(e.splitDropdownBehaviours,[qE.config({others:{sandbox:function(t){var n=Yh(t,e,"arrow");return rO(e,t,{onOpen:function(){ew.on(n),ew.on(t)},onClose:function(){ew.off(n),ew.off(t)}})}}}),hy.config({mode:"special",onSpace:u,onEnter:u,onDown:a}),Ly.config({}),ew.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},Kj=pg({name:"SplitDropdown",configFields:qj(),partFields:Gj(),factory:Xj,apis:{repositionMenus:function(e,t){return e.repositionMenus(t)}}}),Yj=function(e){return{isDisabled:function(){return i_.isDisabled(e)},setDisabled:function(t){return i_.set(e,t)}}},Jj=function(e){return{setActive:function(t){ew.set(e,t)},isActive:function(){return ew.isOn(e)},isDisabled:function(){return i_.isDisabled(e)},setDisabled:function(t){return i_.set(e,t)}}},Qj=function(e,t){return e.map(function(e){return{"aria-label":t.translate(e),title:t.translate(e)}}).getOr({})},Zj=qa("focus-button"),eB=["checklist","ordered-list"],tB=["indent","outdent","table-insert-column-after","table-insert-column-before","unordered-list"],nB=function(e,t,n,r,o,i){var a,u=function(e){return FC.isRtl()&&Le(eB,e)?e+"-rtl":e},s=FC.isRtl()&&e.exists(function(e){return Le(tB,e)});return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]).concat(s?["tox-tbtn__icon-rtl"]:[]),attributes:Qj(n,i)},components:aS([e.map(function(e){return nM(u(e),i.icons)}),t.map(function(e){return oM(e,"tox-tbtn",i)})]),eventOrder:(a={},a[qo()]=["focusing","alloy.base.behaviour","common-button-display-events"],a),buttonBehaviours:$l([eS.toolbarButton(i.isReadOnly),K_(),Ey("common-button-display-events",[zi(qo(),function(e,t){t.event().prevent(),Ai(e,Zj)})])].concat(r.map(function(n){return Vj.config({channel:n,initialData:{icon:e,text:t},renderComponents:function(e,t){return aS([e.icon.map(function(e){return nM(u(e),i.icons)}),e.text.map(function(e){return oM(e,"tox-tbtn",i)})])}})}).toArray()).concat(o.getOr([])))}},rB=function(e,t,n,r){var o=t.shared;return wL.sketch({lazySink:o.getSink,fetch:function(){return TE.nu(function(t){t(Fe(n(e.items),uj))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:nB(e.icon,e.text,e.tooltip,ve.none(),ve.none(),o.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r}}}})},oB=function(e,t,n){var r=Lr(te),o=nB(e.icon,e.text,e.tooltip,ve.none(),ve.none(),n);return Jw.sketch({dom:o.dom,components:o.components,eventOrder:uM,buttonBehaviours:$l([Ey("toolbar-button-events",[aM({onAction:e.onAction,getApi:t.getApi}),nS(t,r),rS(t,r)]),eS.toolbarButton(function(){return e.disabled||n.isReadOnly()}),K_()].concat(t.toolbarButtonBehaviours))})},iB=function(e,t){return aB(e,t,[])},aB=function(e,t,n){return oB(e,{toolbarButtonBehaviours:[].concat(n.length>0?[Ey("toolbarButtonWith",n)]:[]),getApi:Yj,onSetup:e.onSetup},t)},uB=function(e,t){return sB(e,t,[])},sB=function(e,t,n){return Vt(oB(e,{toolbarButtonBehaviours:[ky.config({}),ew.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[Ey("toolbarToggleButtonWith",n)]:[]),getApi:Jj,onSetup:e.onSetup},t))},cB=function(e,t,n){return function(r){return TE.nu(function(e){return t.fetch(e)}).map(function(o){return ve.from(iT(Vt(zk(qa("menu-value"),o,function(n){t.onItemAction(e(r),n)},t.columns,t.presets,Vx.CLOSE_ON_EXECUTE,t.select.getOr(function(){return!1}),n),{movement:Hk(t.columns,t.presets),menuBehaviours:TC.unnamedEvents("auto"!==t.columns?[]:[Xi(function(e,n){_C(e,4,Xx(t.presets)).each(function(t){var n=t.numRows,r=t.numColumns;hy.setGridSize(e,n,r)})})])})))})}},lB=function(e,t){var n,r=qa("channel-update-split-dropdown-display"),o=function(e){return{isDisabled:function(){return i_.isDisabled(e)},setDisabled:function(t){return i_.set(e,t)},setIconFill:function(t,n){Tc(e.element(),'svg path[id="'+t+'"], rect[id="'+t+'"]').each(function(e){Aa(e,"fill",n)})},setIconStroke:function(t,n){Tc(e.element(),'svg path[id="'+t+'"], rect[id="'+t+'"]').each(function(e){Aa(e,"stroke",n)})},setActive:function(t){Aa(e.element(),"aria-pressed",t),Tc(e.element(),"span").each(function(n){e.getSystem().getByDom(n).each(function(e){return ew.set(e,t)})})},isActive:function(){return Tc(e.element(),"span").exists(function(t){return e.getSystem().getByDom(t).exists(ew.isOn)})}}},i=Lr(te),a={getApi:o,onSetup:e.onSetup};return Kj.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:de({"aria-pressed":!1},Qj(e.tooltip,t.providers))},onExecute:function(t){e.onAction(o(t))},onItemExecute:function(e,t,n){},splitDropdownBehaviours:$l([eS.splitButton(t.providers.isReadOnly),K_(),Ey("split-dropdown-events",[zi(Zj,Ly.focus),nS(a,i),rS(a,i)]),pO.config({})]),eventOrder:(n={},n[wi()]=["alloy.base.behaviour","split-dropdown-events"],n),toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:cB(o,e,t.providers),parts:{menu:eC(0,e.columns,e.presets)},components:[Kj.parts().button(nB(e.icon,e.text,ve.none(),ve.some(r),ve.some([ew.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),t.providers)),Kj.parts().arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:ex("chevron-down",t.providers.icons)},buttonBehaviours:$l([eS.splitButton(t.providers.isReadOnly),K_()])}),Kj.parts()["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})},fB=function(e){return{hide:function(){return Ai(e,pi())},getValue:function(){return nh.getValue(e)}}},dB=function(e,t){return zi(iM,function(n,r){var o=e.get(n),i=fB(o);t.onAction(i,r.event().buttonApi())})},pB=function(e,t,n){var o=t.original,i=(o.primary,r(o,["primary"])),a=Yn(hj(de(de({},i),{type:"button",onAction:function(){}})));return aB(a,n.backstage.shared.providers,[dB(e,t)])},mB=function(e,t,n){var o=t.original,i=(o.primary,r(o,["primary"])),a=Yn(_j(de(de({},i),{type:"togglebutton",onAction:function(){}})));return sB(a,n.backstage.shared.providers,[dB(e,t)])},hB=function(e,t,n){var r={backstage:{shared:{providers:n}}};return"contextformtogglebutton"===t.type?mB(e,t,r):pB(e,t,r)},gB=function(e,t,n){var r=Fe(t,function(t){return Qw(hB(e,t,n))});return{asSpecs:function(){return Fe(r,function(e){return e.asSpec()})},findPrimary:function(e){return at(t,function(t,n){return t.primary?ve.from(r[n]).bind(function(t){return t.getOpt(e)}).filter(ue(i_.isDisabled)):ve.none()})}}},vB=function(e,t){var n=e.label.fold(function(){return{}},function(e){return{"aria-label":e}}),r=Qw(mE.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:$l([hy.config({mode:"special",onEnter:function(e){return o.findPrimary(e).map(function(e){return Mi(e),!0})},onLeft:function(e,t){return t.cut(),ve.none()},onRight:function(e,t){return t.cut(),ve.none()}})])})),o=gB(r,e.commands,t);return[{title:ve.none(),items:[r.asSpec()]},{title:ve.none(),items:o.asSpecs()}]},bB=function(e,t,n){return dj({type:e,uid:qa("context-toolbar"),initGroups:vB(t,n),onEscape:ve.none,cyclicKeying:!0,providers:n})},yB={renderContextForm:bB,buildInitGroups:vB},wB=function(e,t){var n=Math.max(t.x,e.x),r=e.right-n,o=t.width-(n-t.x);return{x:n,width:Math.min(r,o)}},xB=function(e,t,n,r){var o=Ur.fromDom(e.getContainer()),i=Tc(o,".tox-editor-header").getOr(o),a=bc(i),u=a.y>=t.bottom,s=r&&!u;if(e.inline&&s)return{y:Math.max(a.bottom,n.y),bottom:n.bottom};if(e.inline&&!s)return{y:n.y,bottom:Math.min(a.y,n.bottom)};var c=bc(o);return s?{y:Math.max(a.bottom,n.y),bottom:Math.min(c.bottom,n.bottom)}:{y:Math.max(c.y,n.y),bottom:Math.min(a.y,n.bottom)}},CB=function(e,n){var r=sc(t.window),o=bc(Ur.fromDom(e.getContentAreaContainer())),i=y_(e)||w_(e)||C_(e),a=wB(o,r),u=a.x,s=a.width;if(e.inline&&!i)return vc(u,r.y,s,r.height);var c=n.header.isPositionedAtTop(),l=xB(e,o,r,c),f=l.y,d=l.bottom;return vc(u,f,s,d-f)},_B=function(e,t){var n=qe(t,function(t){return t.predicate(e.dom())}),r=Ve(n,function(e){return"contexttoolbar"===e.type});return{contextToolbars:r.pass,contextForms:r.fail}},SB=function(e){if(e.length<=1)return e;var t=function(t){return je(e,function(e){return e.position===t})},n=function(t){return qe(e,function(e){return e.position===t})},r=t("selection"),o=t("node");if(r||o){if(o&&r){var i=n("node"),a=Fe(n("selection"),function(e){return de(de({},e),{position:"node"})});return i.concat(a)}return n(r?"selection":"node")}return n("line")},kB=function(e){if(e.length<=1)return e;var t=function(t){return Xe(e,function(e){return e.position===t})};return t("selection").orThunk(function(){return t("node")}).orThunk(function(){return t("line")}).map(function(e){return e.position}).fold(function(){return[]},function(t){return qe(e,function(e){return e.position===t})})},TB=function(e,t,n){var r=_B(e,t);if(r.contextForms.length>0)return ve.some({elem:e,toolbars:[r.contextForms[0]]});var o=_B(e,n);if(o.contextForms.length>0)return ve.some({elem:e,toolbars:[o.contextForms[0]]});if(r.contextToolbars.length>0||o.contextToolbars.length>0){var i=SB(r.contextToolbars.concat(o.contextToolbars));return ve.some({elem:e,toolbars:i})}return ve.none()},EB=function(e,t,n){return e(t)?ve.none():Mo(t,function(e){var t=_B(e,n.inNodeScope),r=t.contextToolbars,o=t.contextForms,i=o.length>0?o:kB(r);return i.length>0?ve.some({elem:e,toolbars:i}):ve.none()},e)},OB=function(e,t){var n=Ur.fromDom(t.getBody()),r=function(e){return Eo(e,n)},o=Ur.fromDom(t.selection.getNode());return function(e){return!r(e)&&!Ao(n,e)}(o)?ve.none():TB(o,e.inNodeScope,e.inEditorScope).orThunk(function(){return EB(r,o,e)})},NB=function(e,t){var n={},r=[],o=[],i={},a={},u=function(e,u){var s=Yn(Pj(u));n[e]=s,s.launch.map(function(n){i["form:"+e]=de(de({},u.launch),{type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:function(){t(s)}})}),"editor"===s.scope?o.push(s):r.push(s),a[e]=s},s=function(e,t){Rj(t).each(function(n){"editor"===t.scope?o.push(n):r.push(n),a[e]=n})},c=_t(e);return He(c,function(t){var n=e[t];"contextform"===n.type?u(t,n):"contexttoolbar"===n.type&&s(t,n)}),{forms:n,inNodeScope:r,inEditorScope:o,lookupTable:a,formNavigators:i}},AB=qa("forward-slide"),DB=qa("backward-slide"),MB=qa("change-slide-event"),IB=function(e){var t=Lr([]);return jw.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(e){t.set([]),jw.getContent(e).each(function(e){bs(e.element(),"visibility")}),Wu(e.element(),"tox-pop--resizing"),bs(e.element(),"width")},inlineBehaviours:$l([Ey("context-toolbar-events",[Gi(ni(),function(e,t){Wu(e.element(),"tox-pop--resizing"),bs(e.element(),"width")}),zi(MB,function(e,t){bs(e.element(),"width");var n=Xs(e.element());jw.setContent(e,t.event().contents()),Vu(e.element(),"tox-pop--resizing");var r=Xs(e.element());ls(e.element(),"width",n+"px"),jw.getContent(e).each(function(n){t.event().focus().bind(function(t){return uf(t),ff(e.element())}).orThunk(function(){return hy.focusIn(n),lf()})}),Kw.setTimeout(function(){ls(e.element(),"width",r+"px")},0)}),zi(AB,function(e,n){jw.getContent(e).each(function(e){t.set(t.get().concat([{bar:e,focus:lf()}]))}),Di(e,MB,{contents:n.event().forwardContents(),focus:ve.none()})}),zi(DB,function(e,n){ot(t.get()).each(function(n){t.set(t.get().slice(0,t.get().length-1)),Di(e,MB,{contents:Ps(n.bar),focus:n.focus})})})]),hy.config({mode:"special",onEscape:function(n){return ot(t.get()).fold(function(){return e.onEscape()},function(e){return Ai(n,DB),ve.some(!0)})}})]),lazySink:function(){return lt.value(e.sink)}})},RB=function(e,t,n){var r=function(e,r,i,a){var u=t.shared.providers.translate(e.title);if("separator"===e.type)return ve.some({type:"separator",text:u});if("submenu"===e.type){var s=Je(e.getStyleItems(),function(e){return o(e,r,a)});return 0===r&&s.length<=0?ve.none():ve.some({type:"nestedmenuitem",text:u,disabled:s.length<=0,getSubmenuItems:function(){return Je(e.getStyleItems(),function(e){return o(e,r,a)})}})}return ve.some(de({type:"togglemenuitem",text:u,icon:e.icon,active:e.isSelected(a),disabled:i,onAction:n.onAction(e)},e.getStylePreview().fold(function(){return{}},function(e){return{meta:{style:e}}})))},o=function(e,t,o){var i="formatter"===e.type&&n.isInvalid(e);return 0===t?i?[]:r(e,t,!1,o).toArray():r(e,t,i,o).toArray()},i=function(e){var t=n.getCurrentValue(),r=n.shouldHide?0:1;return Je(e,function(e){return o(e,r,t)})};return{validateItems:i,getFetch:function(e,t){return function(n){var r=t(),o=i(r);n(wM(o,Vx.CLOSE_ON_EXECUTE,e,!1))}}}},PB=function(e,t,n){var r=n.dataset,o="basic"===r.type?function(){return Fe(r.data,function(e){return JR(e,n.isSelectedFor,n.getPreviewFor)})}:r.getData;return{items:RB(0,t,n),getStyleItems:o}},LB=function(e,t,n){var r=PB(0,t,n),o=r.items,i=r.getStyleItems,a=function(e){return{getComponent:function(){return e}}},u=function(t){return n.setInitialValue.each(function(e){return e(t.getComponent())}),n.nodeChangeHandler.map(function(n){var r=n(t.getComponent());return e.on("NodeChange",r),function(){e.off("NodeChange",r)}}).getOr(te)};return lM({text:n.icon.isSome()?ve.none():ve.some(""),icon:n.icon,tooltip:ve.from(n.tooltip),role:ve.none(),fetch:o.getFetch(t,i),onSetup:u,getApi:a,columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)},jB=function(e){return Fe(e,function(e){var t=e,n=e,r=e.split("=");return r.length>1&&(t=r[0],n=r[1]),{title:t,format:n}})},BB=function(e){return{type:"basic",data:e}};!function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"}(GE||(GE={}));var zB,FB=function(e,t){return t===GE.SemiColon?e.replace(/;$/,"").split(";"):e.split(" ")},HB=function(e,t,n,r){var o=e.getParam(t,n,"string");return{type:"basic",data:jB(FB(o,r))}},UB=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],VB=function(e){var t=function(){return Xe(UB,function(t){return e.formatter.match(t.format)})},n=function(t){return function(){return e.formatter.match(t)}},r=function(e){return function(){return ve.none()}},o=function(e){var n=t(),r=n.fold(function(){return"left"},function(e){return e.title.toLowerCase()});Di(e,cM,{icon:"align-"+r})},i=ve.some(function(e){return function(){return o(e)}}),a=ve.some(function(e){return o(e)}),u=BB(UB),s=function(t){return function(){return Xe(UB,function(e){return e.format===t.format}).each(function(t){return e.execCommand(t.command)})}};return{tooltip:"Align",icon:ve.some("align-left"),isSelectedFor:n,getCurrentValue:ie(ve.none()),getPreviewFor:r,onAction:s,setInitialValue:a,nodeChangeHandler:i,dataset:u,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},qB=function(e,t){return LB(e,t,VB(e))},WB=function(e,t){var n=PB(0,t,VB(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},$B=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],GB=function(e){var t=e.split(/\s*,\s*/);return Fe(t,function(e){return e.replace(/^['"]+|['"]+$/g,"")})},XB=function(e){return 0===e.indexOf("-apple-system")&&function(){var t=GB(e.toLowerCase());return Qe($B,function(e){return t.indexOf(e.toLowerCase())>-1})}()},KB=function(e){var t=function(){var t=function(e){return e?GB(e)[0]:""},n=e.queryCommandValue("FontName"),r=c.data,o=n?n.toLowerCase():"";return{matchOpt:Xe(r,function(e){var n=e.format;return n.toLowerCase()===o||t(n).toLowerCase()===t(o).toLowerCase()}).orThunk(function(){return XB(o)?ve.from({title:"System Font",format:o}):ve.none()}),font:n}},n=function(e){return function(t){return t.exists(function(t){return t.format===e})}},r=function(){return t().matchOpt},o=function(e){return function(){return ve.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}})}},i=function(t){return function(){e.undoManager.transact(function(){e.focus(),e.execCommand("FontName",!1,t.format)})}},a=function(e){var n=t(),r=n.matchOpt,o=n.font,i=r.fold(function(){return o},function(e){return e.title});Di(e,sM,{text:i})},u=ve.some(function(e){return function(){return a(e)}}),s=ve.some(function(e){return a(e)}),c=HB(e,"font_formats","Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",GE.SemiColon);return{tooltip:"Fonts",icon:ve.none(),isSelectedFor:n,getCurrentValue:r,getPreviewFor:o,onAction:i,setInitialValue:s,nodeChangeHandler:u,dataset:c,shouldHide:!1,isInvalid:function(){return!1}}},YB=function(e,t){return LB(e,t,KB(e))},JB=function(e,t){var n=PB(0,t,KB(e));e.ui.registry.addNestedMenuItem("fontformats",{text:t.shared.providers.translate("Fonts"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},QB={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},ZB=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},ez=function(e,t){return/[0-9.]+px$/.test(e)?ZB(72*parseInt(e,10)/96,t||0)+"pt":e},tz=function(e){return Rt(QB,e).getOr("")},nz=function(e){var t=function(){var t=ve.none(),n=c.data,r=e.queryCommandValue("FontSize");if(r)for(var o=3;t.isNone()&&o>=0;o--)!function(e){var o=ez(r,e),i=tz(o);t=Xe(n,function(e){return e.format===r||e.format===o||e.format===i})}(o);return{matchOpt:t,size:r}},n=function(e){return function(t){return t.exists(function(t){return t.format===e})}},r=function(){return t().matchOpt},o=ie(ie(ve.none())),i=function(t){return function(){e.undoManager.transact(function(){e.focus(),e.execCommand("FontSize",!1,t.format)})}},a=function(e){var n=t(),r=n.matchOpt,o=n.size,i=r.fold(function(){return o},function(e){return e.title});Di(e,sM,{text:i})},u=ve.some(function(e){return function(){return a(e)}}),s=ve.some(function(e){return a(e)}),c=HB(e,"fontsize_formats","8pt 10pt 12pt 14pt 18pt 24pt 36pt",GE.Space);return{tooltip:"Font sizes",icon:ve.none(),isSelectedFor:n,getPreviewFor:o,getCurrentValue:r,onAction:i,setInitialValue:s,nodeChangeHandler:u,dataset:c,shouldHide:!1,isInvalid:function(){return!1}}},rz=function(e,t){return LB(e,t,nz(e))},oz=function(e,t){var n=PB(0,t,nz(e));e.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},iz=function(e,t,n){var r=t();return at(n,function(t){return Xe(r,function(n){return e.formatter.matchNode(t,n.format)})}).orThunk(function(){return e.formatter.match("p")?ve.some({title:"Paragraph",format:"p"}):ve.none()})},az=function(e){var t=e.selection.getStart(!0)||e.getBody();return e.dom.getParents(t,function(){return!0},e.getBody())},uz=function(e,t){return function(n){var r=Lr(ve.none()),o=function(){n.setActive(e.formatter.match(t));var o=e.formatter.formatChanged(t,n.setActive).unbind;r.set(ve.some(o))};return e.initialized?o():e.on("init",o),function(){return r.get().each(function(e){return e()})}}},sz=function(e){return function(t){return function(){e.undoManager.transact(function(){e.focus(),e.execCommand("mceToggleFormat",!1,t.format)})}}},cz=function(e){var t=function(t){return iz(e,function(){return u.data},t)},n=function(t){return function(){return e.formatter.match(t)}},r=function(t){return function(){var n=e.formatter.get(t);return ve.some({tag:n.length>0?n[0].inline||n[0].block||"div":"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))})}},o=function(e,n){var r=t(e),o=r.fold(function(){return"Paragraph"},function(e){return e.title});Di(n,sM,{text:o})},i=ve.some(function(e){return function(t){return o(t.parents,e)}}),a=ve.some(function(t){var n=az(e);o(n,t)}),u=HB(e,"block_formats","Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",GE.SemiColon);return{tooltip:"Blocks",icon:ve.none(),isSelectedFor:n,getCurrentValue:ie(ve.none()),getPreviewFor:r,onAction:sz(e),setInitialValue:a,nodeChangeHandler:i,dataset:u,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},lz=function(e,t){return LB(e,t,cz(e))},fz=function(e,t){var n=PB(0,t,cz(e));e.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},dz=function(e,t){var n=function(t){return function(){return e.formatter.match(t)}},r=function(t){return function(){var n=e.formatter.get(t);return void 0!==n?ve.some({tag:n.length>0?n[0].inline||n[0].block||"div":"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):ve.none()}},o=function(t,n){var r=function(e){var t=e.items;return void 0!==t&&t.length>0?Je(t,r):[{title:e.title,format:e.format}]},o=Je(YR(e),r),i=iz(e,function(){return o},t),a=i.fold(function(){return"Paragraph"},function(e){return e.title});Di(n,sM,{text:a})},i=ve.some(function(e){return function(t){return o(t.parents,e)}}),a=ve.some(function(t){var n=az(e);o(n,t)});return{tooltip:"Formats",icon:ve.none(),isSelectedFor:n,getCurrentValue:ie(ve.none()),getPreviewFor:r,onAction:sz(e),setInitialValue:a,nodeChangeHandler:i,shouldHide:e.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(t){return!e.formatter.canApply(t.format)},dataset:t}},pz=function(e,t){var n=de({type:"advanced"},t.styleselect);return LB(e,t,dz(e,n))},mz=function(e,t){var n=de({type:"advanced"},t.styleselect),r=PB(0,t,dz(e,n));e.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})},hz=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],gz=function(e,t){return function(n,r,o){var i=e(n).mapError(function(e){return Qn(e)}).getOrDie();return t(i,r,o)}},vz={button:gz(hj,function(e,t){return iB(e,t.backstage.shared.providers)}),togglebutton:gz(_j,function(e,t){return uB(e,t.backstage.shared.providers)}),menubutton:gz(bj,function(e,t){return CM(e,"tox-tbtn",t.backstage,ve.none())}),splitbutton:gz(wj,function(e,t){return lB(e,t.backstage.shared)}),grouptoolbarbutton:gz(kj,function(e,t,n){var r,o=n.ui.registry.getAll().buttons,i=function(e){return kz(n,{buttons:o,toolbar:e,allowToolbarGroups:!1},t,ve.none())},a=(r={},r[Jf]=t.backstage.shared.header.isPositionedAtTop()?Mc.TopToBottom:Mc.BottomToTop,r);switch(S_(n)){case Ux.floating:return rB(e,t.backstage,i,a);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(e,t){return pz(e,t.backstage)},fontsizeSelectButton:function(e,t){return rz(e,t.backstage)},fontSelectButton:function(e,t){return YB(e,t.backstage)},formatButton:function(e,t){return lz(e,t.backstage)},alignMenuButton:function(e,t){return qB(e,t.backstage)}},bz=function(e,n,r){return Rt(vz,e.type).fold(function(){return t.console.error("skipping button defined by",e),ve.none()},function(t){return ve.some(t(e,n,r))})},yz={styleselect:vz.styleSelectButton,fontsizeselect:vz.fontsizeSelectButton,fontselect:vz.fontSelectButton,formatselect:vz.formatButton,align:vz.alignMenuButton},wz=function(e){var t=Fe(hz,function(t){var n=qe(t.items,function(t){return Pt(e,t)||Pt(yz,t)});return{name:t.name,items:n}});return qe(t,function(e){return e.items.length>0})},xz=function(e){var t=e.split("|");return Fe(t,function(e){return{items:e.trim().split(" ")}})},Cz=function(e){return Ae(e,function(e){return Pt(e,"name")&&Pt(e,"items")})},_z=function(e){var n=e.toolbar,r=e.buttons;return!1===n?[]:void 0===n||!0===n?wz(r):xe(n)?xz(n):Cz(n)?n:(t.console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},Sz=function(e,n,r,o,i,a){return Rt(n,r.toLowerCase()).orThunk(function(){return a.bind(function(e){return at(e,function(e){return Rt(n,e+r.toLowerCase())})})}).fold(function(){return Rt(yz,r.toLowerCase()).map(function(t){return t(e,i)}).orThunk(function(){return ve.none()})},function(n){return"grouptoolbarbutton"!==n.type||o?bz(n,i,e):(t.console.warn("Ignoring the '"+r+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),ve.none())})},kz=function(e,t,n,r){var o=_z(t),i=Fe(o,function(o){var i=Je(o.items,function(o){return 0===o.trim().length?[]:Sz(e,t.buttons,o,t.allowToolbarGroups,n,r).toArray()});return{title:ve.from(e.translate(o.name)),items:i}});return qe(i,function(e){return e.items.length>0})},Tz={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Ez={maxHeightFunction:Ff(),maxWidthFunction:UP()},Oz={onLtr:function(){return[Nl,Al,El,kl,Ol,Tl,Gw,Xw,Ww,Vw,$w,qw]},onRtl:function(){return[Nl,Al,Ol,Tl,El,kl,Gw,Xw,$w,qw,Ww,Vw]}},Nz={onLtr:function(){return[Al,kl,Tl,El,Ol,Nl,Gw,Xw,Ww,Vw,$w,qw]},onRtl:function(){return[Al,Tl,kl,Ol,El,Nl,Gw,Xw,$w,qw,Ww,Vw]}},Az=function(e,t){return"line"===e?{bubble:Wf(12,0,Tz),layouts:{onLtr:function(){return[Dl]},onRtl:function(){return[Ml]}},overrides:Ez}:{bubble:Wf(0,12,Tz),layouts:t?Nz:Oz,overrides:Ez}},Dz=function(e,t,n,r){var o=Co().deviceType.isTouch,i=Rs(IB({sink:n,onEscape:function(){return e.focus(),ve.some(!0)}})),a=function(){return CB(e,r.backstage.shared)},u=function(e,t,n,r){return Math.max(e,n)<=Math.min(t,r)},s=function(){var t=p.get().filter(function(e){return is(Ur.fromDom(e))}).map(function(e){return e.getBoundingClientRect()}).getOrThunk(function(){return e.selection.getRng().getBoundingClientRect()}),n=e.inline?oc().top():yc(Ur.fromDom(e.getBody())).y;return{y:t.top+n,bottom:t.bottom+n}},c=function(){if(o()&&r.backstage.isContextMenuOpen())return!0;var e=s(),t=a();return!u(e.y,e.bottom,t.y,t.bottom)},l=function(){jw.hide(i)},f=function(){d.get().each(function(e){var t=i.element();bs(t,"display"),c()?ls(t,"display","none"):Fp.positionWithinBounds(n,e,i,ve.some(a()))})},d=Lr(ve.none()),p=Lr(ve.none()),m=Lr(null),h=function(t){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:$l([hy.config({mode:"acyclic"}),Ey("pop-dialog-wrap-events",[Xi(function(t){e.shortcuts.add("ctrl+F9","focus statusbar",function(){return hy.focusIn(t)})}),Ki(function(t){e.shortcuts.remove("ctrl+F9")})])])}},g=Wt(function(){return NB(t,function(e){var t=y([e]);Di(i,AB,{forwardContents:h(t)})})}),v=function(t,n){return kz(e,{buttons:t,toolbar:n.items,allowToolbarGroups:!1},r,ve.some(["form:"]))},b=function(e,t){return yB.buildInitGroups(e,t)},y=function(t){var n=e.ui.registry.getAll().buttons,o=g(),i=de(de({},n),o.formNavigators),a=S_(e)===Ux.scrolling?Ux.scrolling:Ux.default,u=Ye(Fe(t,function(e){return"contexttoolbar"===e.type?v(i,e):b(e,r.backstage.shared.providers)}));return dj({type:a,uid:qa("context-toolbar"),initGroups:u,onEscape:ve.none,cyclicKeying:!0,providers:r.backstage.shared.providers})};e.on("contexttoolbar-show",function(t){var n=g();Rt(n.lookupTable,t.toolbarKey).each(function(n){x([n],t.target===e?ve.none():ve.some(t)),jw.getContent(i).each(hy.focusIn)})});var w=function(e,t){var n="node"===e?r.backstage.shared.anchors.node(t):r.backstage.shared.anchors.cursor();return Vt(n,Az(e,o()))},x=function(e,t){if(_(),!o()||!r.backstage.isContextMenuOpen()){var n=y(e),u=t.map(Ur.fromDom),s=w(e[0].position,u);d.set(ve.some(s)),p.set(t);var l=i.element();bs(l,"display"),jw.showWithinBounds(i,s,h(n),function(){return ve.some(a())}),c()&&ls(l,"display","none")}},C=function(){if(e.hasFocus()){var t=g();OB(t,e).fold(function(){d.set(ve.none()),jw.hide(i)},function(e){x(e.toolbars,ve.some(e.elem.dom()))})}},_=function(){var e=m.get();null!==e&&(Kw.clearTimeout(e),m.set(null))},S=function(e){_(),m.set(e)};e.on("init",function(){e.on("contexttoolbar-hide",l),e.on("ScrollContent ScrollWindow longpress",f),e.on("click keyup focus SetContent ObjectResized ResizeEditor",function(){S(Kw.setEditorTimeout(e,C,0))}),e.on("focusout",function(t){Kw.setEditorTimeout(e,function(){ff(n.element()).isNone()&&ff(i.element()).isNone()&&(d.set(ve.none()),jw.hide(i))},0)}),e.on("SwitchMode",function(){e.mode.isReadOnly()&&(d.set(ve.none()),jw.hide(i))}),e.on("NodeChange",function(t){ff(i.element()).fold(function(){S(Kw.setEditorTimeout(e,C,0))},function(e){})})})},Mz=function(e,n,r){var o=function(e,t){He([n,r],function(n){n.broadcastEvent(e,t)})},i=function(e,t){He([n,r],function(n){n.broadcastOn([e],t)})},a=function(e){return i(xm(),{target:e.target()})},u=lT(Ur.fromDom(t.document),"touchstart",a),s=lT(Ur.fromDom(t.document),"touchmove",function(e){return o(gi(),e)}),c=lT(Ur.fromDom(t.document),"touchend",function(e){return o(vi(),e)}),l=lT(Ur.fromDom(t.document),"mousedown",a),f=lT(Ur.fromDom(t.document),"mouseup",function(e){0===e.raw().button&&i(_m(),{target:e.target()})}),d=function(e){return i(xm(),{target:Ur.fromDom(e.target)})},p=function(e){0===e.button&&i(_m(),{target:Ur.fromDom(e.target)})},m=function(e){return o(bi(),dT(e))},h=function(e){i(Cm(),{}),o(yi(),dT(e))},g=function(){return i(Cm(),{})};e.on("PostRender",function(){e.on("click",d),e.on("tap",d),e.on("mouseup",p),e.on("ScrollWindow",m),e.on("ResizeWindow",h),e.on("ResizeEditor",g)}),e.on("remove",function(){e.off("click",d),e.off("tap",d),e.off("mouseup",p),e.off("ScrollWindow",m),e.off("ResizeWindow",h),e.off("ResizeEditor",g),l.unbind(),u.unbind(),s.unbind(),c.unbind(),f.unbind()}),e.on("detach",function(){em(n),em(r),n.destroy(),r.destroy()})},Iz=rg,Rz=zh,Pz=ie([Er("shell",!1),lr("makeItem"),Er("setupItem",te),ah.field("listBehaviours",[ky])]),Lz=function(){return{behaviours:$l([ky.config({})])}},jz=Lh({name:"items",overrides:Lz}),Bz=ie([jz]),zz=ie("CustomList"),Fz=function(e,n,r,o){var i=function(n,r){u(n).fold(function(){throw t.console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(t){var o=ky.contents(t),i=r.length,a=i-o.length,u=a>0?Be(a,function(){return e.makeItem()}):[],s=o.slice(i);He(s,function(e){return ky.remove(t,e)}),He(u,function(e){return ky.append(t,e)});var c=ky.contents(t);He(c,function(t,o){e.setupItem(n,t,r[o],o)})})},a=e.shell?{behaviours:[ky.config({})],components:[]}:{behaviours:[],components:n},u=function(t){return e.shell?ve.some(t):Kh(t,e,"items")};return{uid:e.uid,dom:e.dom,components:a.components,behaviours:ih(e.listBehaviours,a.behaviours),apis:{setItems:i}}},Hz=pg({name:zz(),configFields:Pz(),partFields:Bz(),factory:Fz,apis:{setItems:function(e,t,n){e.setItems(t,n)}}}),Uz=function(e){return(hs(e,"position").is("fixed")?ve.none():la(e)).orThunk(function(){var t=Ur.fromTag("span");return ca(e).bind(function(e){ba(e,t);var n=la(t);return _a(t),n})})},Vz=function(e){return Uz(e).map(qs).getOrThunk(function(){return Hs(0,0)})},qz=Bt.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),Wz=function(e,t){var n=e.element();Vu(n,t.transitionClass),Wu(n,t.fadeOutClass),Vu(n,t.fadeInClass),t.onShow(e)},$z=function(e,t){var n=e.element();Vu(n,t.transitionClass),Wu(n,t.fadeInClass),Vu(n,t.fadeOutClass),t.onHide(e)},Gz=function(e,t){return e.y<t.bottom&&e.bottom>t.y},Xz=function(e,t){return e.y>=t.y},Kz=function(e,t){return e.bottom<=t.bottom},Yz=function(e,t,n){return Qe(e,function(e){switch(e){case"bottom":return Kz(t,n);case"top":return Xz(t,n)}})},Jz=function(e,t){return t.getInitialPosition().map(function(t){return vc(t.bounds.x,t.bounds.y,Xs(e),js(e))})},Qz=function(e,t,n){n.setInitialPosition(ve.some({style:gs(e),position:ps(e,"position")||"static",bounds:t}))},Zz=function(e,t,n){return n.getInitialPosition().bind(function(r){switch(n.setInitialPosition(ve.none()),r.position){case"static":return ve.some(qz.static());case"absolute":var o=Uz(e).map(bc).getOrThunk(function(){return bc(as())});return ve.some(qz.absolute(pf("absolute",Rt(r.style,"left").map(function(e){return t.x-o.x}),Rt(r.style,"top").map(function(e){return t.y-o.y}),Rt(r.style,"right").map(function(e){return o.right-t.right}),Rt(r.style,"bottom").map(function(e){return o.bottom-t.bottom}))));default:return ve.none()}})},eF=function(e,t,n){return Jz(e,n).filter(function(e){return Yz(n.getModes(),e,t)}).bind(function(t){return Zz(e,t,n)})},tF=function(e,t,n){var r=bc(e);if(Yz(n.getModes(),r,t))return ve.none();Qz(e,r,n);var o=wc(),i=r.x-o.x,a=t.y-o.y,u=o.bottom-t.bottom,s=r.y<=t.y;return ve.some(qz.fixed(pf("fixed",ve.some(i),s?ve.some(a):ve.none(),ve.none(),s?ve.none():ve.some(u))))},nF=function(e,t,n){var r=e.element();return hs(r,"position").is("fixed")?eF(r,t,n):tF(r,t,n)},rF=function(e,t){var n=e.element();return Jz(n,t).bind(function(e){return Zz(n,e,t)})},oF=function(e,t){He(["left","right","top","bottom","position"],function(t){return bs(e.element(),t)}),t.onUndocked(e)},iF=function(e,t,n){mf(e.element(),n),("fixed"===n.position()?t.onDocked:t.onUndocked)(e)},aF=function(e,t,n,r,o){void 0===o&&(o=!1),t.contextual.each(function(t){t.lazyContext(e).each(function(i){var a=Gz(i,r);if(a!==n.isVisible())if(n.setVisible(a),o&&!a)Gu(e.element(),[t.fadeOutClass]),t.onHide(e);else{var u=a?Wz:$z;u(e,t)}})})},uF=function(e,t,n){var r=t.lazyViewport(e),o=n.isDocked();o&&aF(e,t,n,r),nF(e,r,n).each(function(i){n.setDocked(!o),i.fold(function(){return oF(e,t)},function(n){return iF(e,t,n)},function(o){aF(e,t,n,r,!0),iF(e,t,o)})})},sF=function(e,t,n){var r=e.element();n.setDocked(!1),rF(e,n).each(function(n){n.fold(function(){return oF(e,t)},function(n){return iF(e,t,n)},te)}),n.setVisible(!0),t.contextual.each(function(t){Xu(r,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)}),cF(e,t,n)},cF=function(e,t,n){e.getSystem().isConnected()&&uF(e,t,n)},lF=function(e,t,n){n.isDocked()&&sF(e,t,n)},fF=function(e,t,n){return n.isDocked()},dF=function(e,t,n,r){return n.setModes(r)},pF=function(e,t,n){return n.getModes()},mF=Object.freeze({__proto__:null,refresh:cF,reset:lF,isDocked:fF,getModes:pF,setModes:dF}),hF=function(e,t){return Li([Gi(ni(),function(n,r){e.contextual.each(function(e){if($u(n.element(),e.transitionClass)){Xu(n.element(),[e.transitionClass,e.fadeInClass]);(t.isVisible()?e.onShown:e.onHidden)(n)}r.stop()})}),zi(bi(),function(n,r){cF(n,e,t)}),zi(yi(),function(n,r){lF(n,e,t)})])},gF=Object.freeze({__proto__:null,events:hF}),vF=[kr("contextual",[pr("fadeInClass"),pr("fadeOutClass"),pr("transitionClass"),hr("lazyContext"),Xc("onShow"),Xc("onShown"),Xc("onHide"),Xc("onHidden")]),Ir("lazyViewport",wc),function(e,t,n){return Or(e,t,Pn(n))}("modes",["top","bottom"],or),Xc("onDocked"),Xc("onUndocked")],bF=function(e){var t=Lr(!1),n=Lr(!0),r=Lr(ve.none()),o=Lr(e.modes),i=function(){return"docked:  "+t.get()+", visible: "+n.get()+", modes: "+o.get().join(",")};return fu({isDocked:t.get,setDocked:t.set,getInitialPosition:r.get,setInitialPosition:r.set,isVisible:n.get,setVisible:n.set,getModes:o.get,setModes:o.set,readState:i})},yF=Object.freeze({__proto__:null,init:bF}),wF=Xl({fields:vF,name:"docking",active:gF,apis:mF,state:yF}),xF={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},CF=function(e,t){var n=ia(t),r=n.dom().defaultView.innerHeight,o=oc(n),i=Ur.fromDom(e.elm),a=yc(i),u=js(i),s=a.y,c=s+u,l=qs(t),f=js(t),d=l.top(),p=d+f,m=Math.abs(d-o.top())<2,h=Math.abs(p-(o.top()+r))<2;if(m&&s<p)ic(o.left(),s-f,n);else if(h&&c>d){var g=s-r+u+f;ic(o.left(),g,n)}},_F=function(e,t){return Le(wF.getModes(e),t)},SF=function(e){var t=function(e){return Bs(e)+(parseInt(ps(e,"margin-top"),10)||0)+(parseInt(ps(e,"margin-bottom"),10)||0)},n=e.element();ca(n).each(function(r){var o="padding-"+wF.getModes(e)[0];if(wF.isDocked(e)){var i=Xs(r);ls(n,"width",i+"px"),ls(r,o,t(n)+"px")}else bs(n,"width"),bs(r,o)})},kF=function(e,t){t?(Wu(e,xF.fadeOutClass),Gu(e,[xF.transitionClass,xF.fadeInClass])):(Wu(e,xF.fadeInClass),Gu(e,[xF.fadeOutClass,xF.transitionClass]))},TF=function(e,t){var n=Ur.fromDom(e.getContainer());t?(Vu(n,"tox-tinymce--toolbar-sticky-on"),Wu(n,"tox-tinymce--toolbar-sticky-off")):(Vu(n,"tox-tinymce--toolbar-sticky-off"),Wu(n,"tox-tinymce--toolbar-sticky-on"))},EF=function(e,t){var n=ia(t);lf(n).filter(function(e){return!Eo(t,e)}).filter(function(t){return Eo(t,Ur.fromDom(n.dom().body))||Ao(e,t)}).each(function(){return uf(t)})},OF=function(e,t){return ff(e).orThunk(function(){return t().toOption().bind(function(e){return ff(e.element())})})},NF=function(e,t,n){e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",function(){n().each(wF.reset)}),e.on("ResizeWindow ResizeEditor",function(){n().each(SF)}),e.on("SkinLoaded",function(){n().each(function(e){wF.isDocked(e)?wF.reset(e):wF.refresh(e)})}),e.on("FullscreenStateChanged",function(){n().each(wF.reset)})),e.on("AfterScrollIntoView",function(e){n().each(function(t){wF.refresh(t);var n=t.element();jv(n)&&CF(e,n)})}),e.on("PostRender",function(){TF(e,!1)})},AF=function(e){return e().map(wF.isDocked).getOr(!1)},DF=function(){var e;return[nf.config({channels:(e={},e[ij()]={onReceive:SF},e)})]},MF=function(e,t){var n=Lr(ve.none()),r=t.getSink,i=function(e){r().each(function(t){return e(t.element())})},a=function(t){e.inline||SF(t),TF(e,wF.isDocked(t)),t.getSystem().broadcastOn([Cm()],{}),r().each(function(e){return e.getSystem().broadcastOn([Cm()],{})})},u=e.inline?[]:DF();return o([Ly.config({}),wF.config({contextual:de({lazyContext:function(t){var n=Bs(t.element()),r=e.inline?e.getContentAreaContainer():e.getContainer(),o=bc(Ur.fromDom(r)),i=o.height-n,a=o.y+(_F(t,"top")?0:n);return ve.some(vc(o.x,a,o.width,i))},onShow:function(){i(function(e){return kF(e,!0)})},onShown:function(e){i(function(e){return Xu(e,[xF.transitionClass,xF.fadeInClass])}),n.get().each(function(t){EF(e.element(),t),n.set(ve.none())})},onHide:function(e){n.set(OF(e.element(),r)),i(function(e){return kF(e,!1)})},onHidden:function(){i(function(e){return Xu(e,[xF.transitionClass])})}},xF),modes:[t.header.getDockingMode()],onDocked:a,onUndocked:a})],u)},IF=Object.freeze({__proto__:null,setup:NF,isDocked:AF,getBehaviours:MF}),RF=te,PF=ce,LF=ie([]),jF=Object.freeze({__proto__:null,setup:RF,isDocked:PF,getBehaviours:LF}),BF=function(e){var t=e.editor,n=e.sticky?MF:LF;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:$l(n(t,e.sharedBackstage))}},zF=function(e,t){var n=function(e,n){var r=Fe(n,function(e){var n={type:"menubutton",text:e.text,fetch:function(t){t(e.getItems())}},r=bj(n).mapError(function(e){return Qn(e)}).getOrDie();return CM(r,"tox-mbtn",t.backstage,ve.some("menuitem"))});ky.set(e,r)},r={focus:hy.focusIn,setMenus:n};return{uid:e.uid,dom:e.dom,components:[],behaviours:$l([ky.config({}),Ey("menubar-events",[Xi(function(t){e.onSetup(t)}),zi(Xo(),function(e,t){Tc(e.element(),".tox-mbtn--active").each(function(n){Ec(t.event().target(),".tox-mbtn").each(function(t){Eo(n,t)||e.getSystem().getByDom(n).each(function(n){e.getSystem().getByDom(t).each(function(e){cO.expand(e),cO.close(n),Ly.focus(e)})})})})}),zi(Si(),function(e,t){t.event().prevFocus().bind(function(t){return e.getSystem().getByDom(t).toOption()}).each(function(n){t.event().newFocus().bind(function(t){return e.getSystem().getByDom(t).toOption()}).each(function(e){cO.isOpen(n)&&(cO.expand(e),cO.close(n))})})})]),hy.config({mode:"flow",selector:".tox-mbtn",onEscape:function(t){return e.onEscape(t),ve.some(!0)}}),$T.config({})]),apis:r,domModification:{attributes:{role:"menubar"}}}},FF=dg({factory:zF,name:"silver.Menubar",configFields:[lr("dom"),lr("uid"),lr("onEscape"),lr("backstage"),Er("onSetup",te)],apis:{focus:function(e,t){e.focus(t)},setMenus:function(e,t,n){e.setMenus(t,n)}}}),HF=[rh("slotBehaviours",[])],UF=function(e){return"<alloy.field."+e+">"},VF=function(e){var t=function(){var e=[];return{slot:function(t,n){return e.push(t),qh("container",UF(t),n)},record:function(){return e}}}(),n=e(t),r=t.record(),o=Fe(r,function(e){return Rh({name:e,pname:UF(e)})});return ug("container",HF,o,qF,n)},qF=function(e,t){var n=function(t){return Zh(e)},r=function(t,n){return Kh(t,e,n)},o=function(t,n){return function(r,o){return Kh(r,e,o).map(function(e){return t(e,o)}).getOr(n)}},i=function(e,t){return"true"!==Ma(e.element(),"aria-hidden")},a=function(e,t){if(!i(e)){var n=e.element();bs(n,"display"),Pa(n,"aria-hidden"),Di(e,ki(),{name:t,visible:!0})}},u=function(e,t){if(i(e)){var n=e.element();ls(n,"display","none"),Aa(n,"aria-hidden","true"),Di(e,ki(),{name:t,visible:!1})}},s=o(i,!1),c=o(u),l=function(e){return function(t,n){He(n,function(n){return e(t,n)})}}(c),f=function(e){return l(e,n())},d=o(a),p={getSlotNames:n,getSlot:r,isShowing:s,hideSlot:c,hideAllSlots:f,showSlot:d};return{uid:e.uid,dom:e.dom,components:t,behaviours:oh(e.slotBehaviours),apis:p}},WF=Tt({getSlotNames:function(e,t){return e.getSlotNames(t)},getSlot:function(e,t,n){return e.getSlot(t,n)},isShowing:function(e,t,n){return e.isShowing(t,n)},hideSlot:function(e,t,n){return e.hideSlot(t,n)},hideAllSlots:function(e,t){return e.hideAllSlots(t)},showSlot:function(e,t,n){return e.showSlot(t,n)}},function(e){return cu(e)}),$F=de(de({},WF),{sketch:VF}),GF=Rn([_r("icon"),_r("tooltip"),Ir("onShow",te),Ir("onHide",te),Ir("onSetup",function(){return te})]),XF=function(e){return Kn("sidebar",GF,e)},KF=function(e){var t=e.ui.registry.getAll().sidebars;He(_t(t),function(n){var r=t[n],o=function(){return ve.from(e.queryCommandValue("ToggleSidebar")).is(n)};e.ui.registry.addToggleButton(n,{icon:r.icon,tooltip:r.tooltip,onAction:function(t){e.execCommand("ToggleSidebar",!1,n),t.setActive(o())},onSetup:function(t){var n=function(){return t.setActive(o())};return e.on("ToggleSidebar",n),function(){e.off("ToggleSidebar",n)}}})})},YF=function(e){return{element:function(){return e.element().dom()}}},JF=function(e,t){var n=Fe(_t(t),function(e){var n=t[e],r=Yn(XF(n));return{name:e,getApi:YF,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}});return Fe(n,function(t){var r=Lr(te);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:TC.unnamedEvents([nS(t,r),rS(t,r),zi(ki(),function(e,t){var r=t.event();Xe(n,function(e){return e.name===r.name()}).each(function(t){(r.visible()?t.onShow:t.onHide)(t.getApi(e))})})])})})},QF=function(e){return $F.sketch(function(t){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:JF(t,e),slotBehaviours:TC.unnamedEvents([Xi(function(e){return $F.hideAllSlots(e)})])}})},ZF=function(e,t){Cg.getCurrent(e).each(function(e){return ky.set(e,[QF(t)])})},eH=function(e,t){Cg.getCurrent(e).each(function(e){Cg.getCurrent(e).each(function(n){QL.hasGrown(e)?$F.isShowing(n,t)?QL.shrink(e):($F.hideAllSlots(n),$F.showSlot(n,t)):($F.hideAllSlots(n),$F.showSlot(n,t),QL.grow(e))})})},tH=function(e){return Cg.getCurrent(e).bind(function(e){return QL.isGrowing(e)||QL.hasGrown(e)?Cg.getCurrent(e).bind(function(e){return Xe($F.getSlotNames(e),function(t){return $F.isShowing(e,t)})}):ve.none()})},nH=qa("FixSizeEvent"),rH=qa("AutoSizeEvent"),oH=function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:$l([$T.config({}),Ly.config({}),QL.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(e){Cg.getCurrent(e).each($F.hideAllSlots),Ai(e,rH)},onGrown:function(e){Ai(e,rH)},onStartGrow:function(e){Di(e,nH,{width:hs(e.element(),"width").getOr("")})},onStartShrink:function(e){Di(e,nH,{width:Xs(e.element())+"px"})}}),ky.config({}),Cg.config({find:function(e){var t=ky.contents(e);return rt(t)}})])}],behaviours:$l([aD.childAt(0),Ey("sidebar-sliding-events",[zi(nH,function(e,t){ls(e.element(),"width",t.event().width())}),zi(rH,function(e,t){bs(e.element(),"width")})])])}},iH=function(e){var t=void 0!==e.dom().attributes?e.dom().attributes:[];return $e(t,function(e,t){var n;return"class"===t.name?e:de(de({},e),(n={},n[t.name]=t.value,n))},{})},aH=function(e){return Array.prototype.slice.call(e.dom().classList,0)},uH=function(e){var t=Ur.fromHtml(e),n=da(t),r=iH(t),o=aH(t),i=0===n.length?{}:{innerHtml:Ta(t)};return de({tag:Qi(t),classes:o,attributes:r},i)},sH=function(e){return{dom:{tag:"div",attributes:{"aria-label":e.translate("Loading...")},classes:["tox-throbber__busy-spinner"]},components:[{dom:uH('<div class="tox-spinner"><div></div><div></div><div></div></div>')}],behaviours:$l([hy.config({mode:"special",onTab:function(){return ve.some(!0)},onShiftTab:function(){return ve.some(!0)}}),Ly.config({})])}},cH=function(e,t,n){var r=e.element();!0===t?(ky.set(e,[sH(n)]),bs(r,"display"),Pa(r,"aria-hidden")):(ky.set(e,[]),ls(r,"display","none"),Aa(r,"aria-hidden","true"))},lH=function(e){return{uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:$l([ky.config({})]),components:[]}},fH=function(e,t,n){var r=Lr(!1),o=Lr(ve.none()),i=function(e){e!==r.get()&&(cH(t(),e,n.providers),r.set(e))};e.on("ProgressState",function(t){if(o.get().each(Kw.clearTimeout),Ne(t.time)){var n=Kw.setEditorTimeout(e,function(){return i(t.state)},t.time);o.set(ve.some(n))}else i(t.state),o.set(ve.none())})},dH=function(e,t,n){var r={getSocket:function(t){return Iz.getPart(t,e,"socket")},setSidebar:function(t,n){Iz.getPart(t,e,"sidebar").each(function(e){return ZF(e,n)})},toggleSidebar:function(t,n){Iz.getPart(t,e,"sidebar").each(function(e){return eH(e,n)})},whichSidebar:function(t){return Iz.getPart(t,e,"sidebar").bind(tH).getOrNull()},getHeader:function(t){return Iz.getPart(t,e,"header")},getToolbar:function(t){return Iz.getPart(t,e,"toolbar")},setToolbar:function(t,n){Iz.getPart(t,e,"toolbar").each(function(e){e.getApis().setGroups(e,n)})},setToolbars:function(t,n){Iz.getPart(t,e,"multiple-toolbar").each(function(e){Hz.setItems(e,n)})},refreshToolbar:function(t){Iz.getPart(t,e,"toolbar").each(function(e){return e.getApis().refresh(e)})},getThrobber:function(t){return Iz.getPart(t,e,"throbber")},focusToolbar:function(t){Iz.getPart(t,e,"toolbar").orThunk(function(){return Iz.getPart(t,e,"multiple-toolbar")}).each(function(e){hy.focusIn(e)})},setMenubar:function(t,n){Iz.getPart(t,e,"menubar").each(function(e){FF.setMenus(e,n)})},focusMenubar:function(t){Iz.getPart(t,e,"menubar").each(function(e){FF.focus(e)})}};return{uid:e.uid,dom:e.dom,components:t,apis:r,behaviours:e.behaviours}},pH=Rz.optional({factory:FF,name:"menubar",schema:[lr("backstage")]}),mH=function(e){return e.type===Ux.sliding?fj:e.type===Ux.floating?lj:dj},hH=Rz.optional({factory:{sketch:function(e){return Hz.sketch({uid:e.uid,dom:e.dom,listBehaviours:$l([hy.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return dj({type:e.type,uid:qa("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:function(){return ve.none()}})},setupItem:function(e,t,n,r){JP.setGroups(t,n)},shell:!0})}},name:"multiple-toolbar",schema:[lr("dom"),lr("onEscape")]}),gH=Rz.optional({factory:{sketch:function(e){return mH(e)({type:e.type,uid:e.uid,onEscape:function(){return e.onEscape(),ve.some(!0)},cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})}},name:"toolbar",schema:[lr("dom"),lr("onEscape"),lr("getSink")]}),vH=Rz.optional({factory:{sketch:BF},name:"header",schema:[lr("dom")]}),bH=Rz.optional({name:"socket",schema:[lr("dom")]}),yH=Rz.optional({factory:{sketch:oH},name:"sidebar",schema:[lr("dom")]}),wH=Rz.optional({factory:{sketch:lH},name:"throbber",schema:[lr("dom")]}),xH=pg({name:"OuterContainer",factory:dH,configFields:[lr("dom"),lr("behaviours")],partFields:[vH,pH,gH,hH,bH,yH,wH],apis:{getSocket:function(e,t){return e.getSocket(t)},setSidebar:function(e,t,n){e.setSidebar(t,n)},toggleSidebar:function(e,t,n){e.toggleSidebar(t,n)},whichSidebar:function(e,t){return e.whichSidebar(t)},getHeader:function(e,t){return e.getHeader(t)},getToolbar:function(e,t){return e.getToolbar(t)},setToolbar:function(e,t,n){var r=Fe(n,function(e){return uj(e)});e.setToolbar(t,r)},setToolbars:function(e,t,n){var r=Fe(n,function(e){return Fe(e,uj)});e.setToolbars(t,r)},refreshToolbar:function(e,t){return e.refreshToolbar(t)},getThrobber:function(e,t){return e.getThrobber(t)},setMenubar:function(e,t,n){e.setMenubar(t,n)},focusMenubar:function(e,t){e.focusMenubar(t)},focusToolbar:function(e,t){e.focusToolbar(t)}}}),CH={file:{title:"File",items:"newdocument restoredraft | preview | print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},_H=function(e,t,n){var r=b_(n).split(/[ ,]/);return{text:e.title,getItems:function(){return Je(e.items,function(e){var n=e.toLowerCase();return 0===n.trim().length?[]:je(r,function(e){return e===n})?[]:"separator"===n||"|"===n?[{type:"separator"}]:t.menuItems[n]?[t.menuItems[n]]:[]})}}},SH=function(e){return"string"==typeof e?e.split(" "):e},kH=function(e,t){var n=de(de({},CH),t.menus),r=_t(t.menus).length>0,o=SH(void 0===t.menubar||!0===t.menubar?"file edit view insert format tools table help":!1===t.menubar?"":t.menubar),i=qe(o,function(e){return r?t.menus.hasOwnProperty(e)&&t.menus[e].hasOwnProperty("items")||CH.hasOwnProperty(e):CH.hasOwnProperty(e)}),a=Fe(i,function(r){var o=n[r];return _H({title:o.title,items:SH(o.items)},t,e)});return qe(a,function(e){var t=function(e){return"separator"!==e.type};return e.getItems().length>0&&je(e.getItems(),t)})},TH=function(e){var t=function(){e._skinLoaded=!0,ak(e)};return function(){e.initialized?t():e.on("init",t)}},EH=function(e,t){return function(){return uk(e,{message:t})}},OH=function(e,t){var n,r=u_(t);r&&(n=r+"/skin.min.css",t.contentCSS.push(r+(e?"/content.inline":"/content")+".min.css")),!1===c_(t)&&n?t.ui.styleSheetLoader.load(n,TH(t),EH(t,"Skin could not be loaded")):TH(t)()},NH=n(OH,!1),AH=n(OH,!0),DH=function(e,t,n,r){var o=t.outerContainer,i=n.toolbar,a=n.buttons;if(Ae(i,xe)){var u=i.map(function(t){var o={toolbar:t,buttons:a,allowToolbarGroups:n.allowToolbarGroups};return kz(e,o,{backstage:r},ve.none())});xH.setToolbars(o,u)}else xH.setToolbar(o,kz(e,n,{backstage:r},ve.none()))},MH=zC.DOM,IH=Co(),RH=IH.os.isiOS()&&IH.os.version.major<=12,PH=function(e,t){var n=e.getWin(),r=e.getDoc().documentElement,o=Lr(Hs(n.innerWidth,n.innerHeight)),i=Lr(Hs(r.offsetWidth,r.offsetHeight)),a=function(){var t=o.get();t.left()===n.innerWidth&&t.top()===n.innerHeight||(o.set(Hs(n.innerWidth,n.innerHeight)),ck(e))},u=function(){var t=e.getDoc().documentElement,n=i.get();n.left()===t.offsetWidth&&n.top()===t.offsetHeight||(i.set(Hs(t.offsetWidth,t.offsetHeight)),ck(e))},s=function(t){return lk(e,t)};MH.bind(n,"resize",a),MH.bind(n,"scroll",s);var c=fT(Ur.fromDom(e.getBody()),"load",u),l=t.uiMothership.element();e.on("hide",function(){ls(l,"display","none")}),e.on("show",function(){bs(l,"display")}),e.on("NodeChange",u),e.on("remove",function(){c.unbind(),MH.unbind(n,"resize",a),MH.unbind(n,"scroll",s)})},LH=function(e,t,n,r,o){var i=Lr(0);NH(e);var a=Ur.fromDom(o.targetNode),u=es(Zu(a));Qp(a,t.mothership),Jp(u,t.uiMothership),e.on("PostRender",function(){DH(e,t,n,r),i.set(e.getWin().innerWidth),xH.setMenubar(t.outerContainer,kH(e,n)),xH.setSidebar(t.outerContainer,n.sidebar),PH(e,t)});var s=xH.getSocket(t.outerContainer).getOrDie("Could not find expected socket element");if(RH){fs(s.element(),{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var c=ax(function(){e.fire("ScrollContent")},20);lT(s.element(),"scroll",c.throttle)}X_(e,t),e.addCommand("ToggleSidebar",function(n,r){xH.toggleSidebar(t.outerContainer,r),e.fire("ToggleSidebar")}),e.addQueryValueHandler("ToggleSidebar",function(){return xH.whichSidebar(t.outerContainer)});var l=S_(e),f=function(){xH.refreshToolbar(t.outerContainer)};return l!==Ux.sliding&&l!==Ux.floating||e.on("ResizeWindow ResizeEditor ResizeContent",function(){var t=e.getWin().innerWidth;t!==i.get()&&(f(),i.set(t))}),{iframeContainer:s.element().dom(),editorContainer:t.outerContainer.element().dom()}},jH=Object.freeze({__proto__:null,render:LH}),BH=function(e){var t=Lr(ve.none()),n=function(){t.get().each(e)},r=function(){n(),t.set(ve.none())},o=function(e){n(),t.set(ve.some(e))};return{clear:r,isSet:function(){return t.get().isSome()},set:o}},zH=function(){return BH(function(e){e.unbind()})},FH=function(){var e=Lr(ve.none()),t=function(){e.set(ve.none())},n=function(t){e.set(ve.some(t))},r=function(t){e.get().each(t)};return{clear:t,set:n,isSet:function(){return e.get().isSome()},on:r}},HH=function(e){return/^[0-9\.]+(|px)$/i.test(""+e)?ve.some(parseInt(""+e,10)):ve.none()},UH=function(e){return Ne(e)?e+"px":e},VH=function(e,t,n){var r=t.filter(function(t){return e<t}),o=n.filter(function(t){return e>t});return r.or(o).getOr(e)},qH=function(e){var t=l_(e),n=p_(e),r=h_(e);return HH(t).map(function(e){return VH(e,n,r)})},WH=function(e){return qH(e).getOr(l_(e))},$H=function(e){var t=f_(e),n=d_(e),r=m_(e);return HH(t).map(function(e){return VH(e,n,r)})},GH=function(e){return $H(e).getOr(f_(e))},XH=function(e,t,n,r,o){var i=n.uiMothership,a=n.outerContainer,u=zC.DOM,s=D_(e),c=R_(e),l=m_(e).or($H(e)),f=r.shared.header,d=f.isPositionedAtTop,p=S_(e),m=p===Ux.sliding||p===Ux.floating,h=Lr(!1),g=function(){return h.get()&&!e.removed},v=function(e){return m?e.fold(function(){return 0},function(e){return e.components().length>1?js(e.components()[1].element()):0}):0},b=function(n){switch(E_(e)){case __.auto:var r=xH.getToolbar(a),o=v(r),i=js(n.element())-o,u=bc(t);if(u.y>i)return"top";var s=ua(t),c=Math.max(s.dom().scrollHeight,js(s));if(u.bottom<c-i)return"bottom";return wc().bottom<u.bottom-i?"bottom":"top";case __.bottom:return"bottom";case __.top:default:return"top"}},y=function(e){var t=o.get();wF.setModes(t,[e]),f.setDockingMode(e);var n=d()?Mc.TopToBottom:Mc.BottomToTop;Aa(t.element(),Jf,n)},w=function(){var e=l.getOrThunk(function(){var e=HH(ps(as(),"margin-left")).getOr(0);return Xs(as())-qs(t).left()+e});ls(o.get().element(),"max-width",e+"px")},x=function(){var e=xH.getToolbar(a),n=v(e),r=bc(t),i=d()?Math.max(r.y-js(o.get().element())+n,0):r.bottom;fs(a.element(),{position:"absolute",top:Math.round(i)+"px",left:Math.round(r.x)+"px"})},C=function(){i.broadcastOn([Cm()],{})},_=function(e){if(void 0===e&&(e=!1),g()){if(s||w(),m&&xH.refreshToolbar(a),s||x(),c){var t=o.get();e?wF.reset(t):wF.refresh(t)}C()}},S=function(e){if(void 0===e&&(e=!0),!s&&c&&g()){var t=f.getDockingMode(),n=b(o.get());n!==t&&(y(n),e&&_(!0))}};return{isVisible:g,isPositionedAtTop:d,show:function(){h.set(!0),ls(a.element(),"display","flex"),u.addClass(e.getBody(),"mce-edit-focus"),bs(i.element(),"display"),S(!1),_()},hide:function(){h.set(!1),n.outerContainer&&(ls(a.element(),"display","none"),u.removeClass(e.getBody(),"mce-edit-focus")),ls(i.element(),"display","none")},update:_,updateMode:S,repositionPopups:C}},KH=function(e,t){var n=bc(e);return{pos:t?n.y:n.bottom,bounds:n}},YH=function(e,t,n){var r=Lr(KH(t,n.isPositionedAtTop())),o=function(o){var i=KH(t,n.isPositionedAtTop()),a=i.pos,u=i.bounds,s=r.get(),c=s.pos,l=s.bounds,f=u.height!==l.height||u.width!==l.width;r.set({pos:a,bounds:u}),f&&ck(e,o),n.isVisible()&&(c!==a?n.update(!0):f&&(n.updateMode(),n.repositionPopups()))};e.on("activate",n.show),e.on("deactivate",n.hide),e.on("SkinLoaded ResizeWindow",function(){return n.update(!0)}),e.on("NodeChange keydown",function(e){Kw.requestAnimationFrame(function(){return o(e)})}),e.on("ScrollWindow",function(){return n.updateMode()});var i=zH();i.set(fT(Ur.fromDom(e.getBody()),"load",o)),e.on("remove",function(){i.clear()})},JH=function(e,t,n,r,o){var i=t.mothership,a=t.uiMothership,u=t.outerContainer,s=Lr(null),c=Ur.fromDom(o.targetNode),l=XH(e,c,t,r,s);AH(e);var f=function(){if(s.get())return void l.show();s.set(xH.getHeader(u).getOrDie());var o=M_(e);Jp(o,i),Jp(o,a),DH(e,t,n,r),xH.setMenubar(u,kH(e,n)),l.show(),YH(e,c,l),e.nodeChanged()};return e.on("focus show",f),e.on("blur hide",l.hide),e.on("init",function(){e.hasFocus()&&f()}),X_(e,t),{editorContainer:u.element().dom()}},QH=Object.freeze({__proto__:null,render:JH}),ZH=function(e){var t=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];fI.each(t,function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,onAction:function(){return e.execCommand(t.cmd)},icon:t.icon,onSetup:uz(e,t.name)})});var n={name:"alignnone",text:"No alignment",cmd:"JustifyNone",icon:"align-none"};e.ui.registry.addButton(n.name,{tooltip:n.text,onAction:function(){return e.execCommand(n.cmd)},icon:n.icon})},eU=function(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}},tU=function(e){fI.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(t,n){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:uz(e,t.name),onAction:eU(e,t.name)})});for(var t=1;t<=6;t++){var n="h"+t;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:uz(e,n),onAction:eU(e,n)})}},nU=function(e){fI.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(t){e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:function(){return e.execCommand(t.action)}})})},rU=function(e){fI.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:function(){return e.execCommand(t.action)},onSetup:uz(e,t.name)})})},oU=function(e){tU(e),nU(e),rU(e)},iU=function(e){fI.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(t){e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:function(){return e.execCommand(t.action)}})}),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:eU(e,"code")})},aU=function(e){oU(e),iU(e)},uU=function(e,t,n){var r=function(){return!!t.undoManager&&t.undoManager[n]()},o=function(){e.setDisabled(t.mode.isReadOnly()||!r())};return e.setDisabled(!r()),t.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o),function(){return t.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o)}},sU=function(e){e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(t){return uU(t,e,"hasUndo")},onAction:function(){return e.execCommand("undo")}}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(t){return uU(t,e,"hasRedo")},onAction:function(){return e.execCommand("redo")}})},cU=function(e){e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(t){return uU(t,e,"hasUndo")},onAction:function(){return e.execCommand("undo")}}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(t){return uU(t,e,"hasRedo")},onAction:function(){return e.execCommand("redo")}})},lU=function(e){sU(e),cU(e)},fU=function(e,t){e.setActive(t.hasVisual);var n=function(t){e.setActive(t.hasVisual)};return t.on("VisualAid",n),function(){return t.off("VisualAid",n)}},dU=function(e){e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(t){return fU(t,e)},onAction:function(){e.execCommand("mceToggleVisualAid")}})},pU=function(e){e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return e.execCommand("mceToggleVisualAid")}})},mU=function(e){pU(e),dU(e)},hU=function(e,t){e.setDisabled(!t.queryCommandState("outdent"));var n=function(){e.setDisabled(!t.queryCommandState("outdent"))};return t.on("NodeChange",n),function(){return t.off("NodeChange",n)}},gU=function(e){e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:function(t){return hU(t,e)},onAction:function(){return e.execCommand("outdent")}}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:function(){return e.execCommand("indent")}})},vU=function(e){gU(e)},bU=function(e,t){WB(e,t),JB(e,t),mz(e,t),fz(e,t),oz(e,t)},yU=function(e,t){ZH(e),aU(e),bU(e,t),lU(e),Bk(e),mU(e),vU(e)},wU=function(e,t){return{anchor:"makeshift",x:e,y:t}},xU=function(e,t,n){return wU(e.x+t,e.y+n)},CU=function(e){return"longpress"===e.type||0===e.type.indexOf("touch")},_U=function(e){if(CU(e)){var t=e.touches[0];return wU(t.pageX,t.pageY)}return wU(e.pageX,e.pageY)},SU=function(e){if(CU(e)){var t=e.touches[0];return wU(t.clientX,t.clientY)}return wU(e.clientX,e.clientY)},kU=function(e,t){var n=zC.DOM.getPos(e);return xU(t,n.x,n.y)},TU=function(e,t){return"contextmenu"===t.type||"longpress"===t.type?e.inline?_U(t):kU(e.getContentAreaContainer(),SU(t)):EU(e)},EU=function(e){return{anchor:"selection",root:Ur.fromDom(e.selection.getNode())}},OU=function(e){return{anchor:"node",node:ve.some(Ur.fromDom(e.selection.getNode())),root:Ur.fromDom(e.getBody())}},NU=function(e,t,n){return n?OU(e):TU(e,t)},AU=function(e,t,n,r,o,i){var a=n(),u=NU(e,t,i);wM(a,Vx.CLOSE_ON_EXECUTE,r,!1).map(function(e){t.preventDefault(),jw.showMenuAt(o,u,{menu:{markers:Jx("normal")},data:e})})},DU={onLtr:function(){return[Al,kl,Tl,El,Ol,Nl,Gw,Xw,Ww,Vw,$w,qw]},onRtl:function(){return[Al,Tl,kl,Ol,El,Nl,Gw,Xw,$w,qw,Ww,Vw]}},MU={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},IU=function(e,t){var n=e.selection;if(n.isCollapsed()||t.touches.length<1)return!1;var r=t.touches[0],o=n.getRng();return Yd(e.getWin(),Cd.domRange(o)).exists(function(e){return e.left()<=r.clientX&&e.right()>=r.clientX&&e.top()<=r.clientY&&e.bottom()>=r.clientY})},RU=function(e,t,n){var r=t?OU(e):TU(e,n);return de({bubble:Wf(0,12,MU),layouts:DU,overrides:{maxWidthFunction:UP(),maxHeightFunction:Ff()}},r)},PU=function(e){var t=e.selection.getRng(),n=function(){Kw.setEditorTimeout(e,function(){e.selection.setRng(t)},10),i()};e.once("touchend",n);var r=function(e){e.preventDefault(),e.stopImmediatePropagation()};e.on("mousedown",r,!0);var o=function(){return i()};e.once("longpresscancel",o);var i=function(){e.off("touchend",n),e.off("longpresscancel",o),e.off("mousedown",r)}},LU=function(e,t,n,r,o,i,a){var u=RU(e,i,t);wM(n,Vx.CLOSE_ON_EXECUTE,r,!0).map(function(n){t.preventDefault(),jw.showMenuWithinBounds(o,u,{menu:{markers:Jx("normal"),highlightImmediately:a},data:n,type:"horizontal"},function(){return ve.some(CB(e,r.shared))}),e.fire("contexttoolbar-hide")})},jU=function(e,t,n,r,o,i){var a=Co(),u=a.os.isiOS(),s=a.os.isOSX(),c=a.os.isAndroid(),l=a.deviceType.isTouch(),f=function(){return!(c||u||s&&l)},d=function(){var a=n();LU(e,t,a,r,o,i,f())};if(!s&&!u||i)c&&!i&&e.selection.setCursorLocation(t.target,0),d();else{var p=function(){PU(e),d()};IU(e,t)?p():(e.once("selectionchange",p),e.once("touchend",function(){return e.off("selectionchange",p)}))}},BU=function(e){return"string"==typeof e?e.split(/[ ,]/):e},zU=function(e){return e.getParam("contextmenu_never_use_native",!1,"boolean")},FU=function(e,t,n){var r=e.ui.registry.getAll().contextMenus;return ve.from(e.getParam(t)).map(BU).getOrThunk(function(){return qe(BU(n),function(e){return Pt(r,e)})})},HU=function(e){return!1===e.getParam("contextmenu")},UU=function(e){return FU(e,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},VU=function(e){return xe(e)?"|"===e:"separator"===e.type},qU={type:"separator"},WU=function(e){if(xe(e))return e;switch(e.type){case"separator":return qU;case"submenu":return{type:"nestedmenuitem",text:e.text,icon:e.icon,getSubmenuItems:function(){var t=e.getSubmenuItems();return xe(t)?t:Fe(t,WU)}};default:return{type:"menuitem",text:e.text,icon:e.icon,onAction:ne(e.onAction)}}},$U=function(e,t){if(0===t.length)return e;var n=ot(e).filter(function(e){return!VU(e)}),r=n.fold(function(){return[]},function(e){return[qU]});return e.concat(r).concat(t).concat([qU])},GU=function(e,t,n){var r=$e(t,function(t,r){if(Pt(e,r)){var o=e[r].update(n);if(xe(o))return $U(t,o.split(" "));if(o.length>0){var i=Fe(o,WU);return $U(t,i)}return t}return t.concat([r])},[]);return r.length>0&&VU(r[r.length-1])&&r.pop(),r},XU=function(e,t){return t.ctrlKey&&!zU(e)},KU=function(e,t){return"longpress"!==t.type&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType)},YU=function(e,t,n){var r=Co(),o=r.deviceType.isTouch,i=Rs(jw.sketch({dom:{tag:"div"},lazySink:t,onEscape:function(){return e.focus()},onShow:function(){return n.setContextMenuState(!0)},onHide:function(){return n.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:$l([Ey("dismissContextMenu",[zi(Ci(),function(t,n){wm.close(t),e.focus()})])])})),a=function(e){return jw.hide(i)},u=function(t){if(zU(e)&&t.preventDefault(),!XU(e,t)&&!HU(e)){var r=KU(e,t),a=function(){var n=r?e.selection.getStart(!0):t.target,o=e.ui.registry.getAll(),i=UU(e);return GU(o.contextMenus,i,n)};(o()?jU:AU)(e,t,a,n,i,r)}};e.on("init",function(){var t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(o()?"":" ResizeWindow");e.on(t,a),e.on("longpress contextmenu",u)})},JU=Bt.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),QU=function(e){return function(t){return t.translate(-e.left(),-e.top())}},ZU=function(e){return function(t){return t.translate(e.left(),e.top())}},eV=function(e){return function(t,n){return $e(e,function(e,t){return t(e)},Hs(t,n))}},tV=function(e,t,n){return e.fold(eV([ZU(n),QU(t)]),eV([QU(t)]),eV([]))},nV=function(e,t,n){return e.fold(eV([ZU(n)]),eV([]),eV([ZU(t)]))},rV=function(e,t,n){return e.fold(eV([]),eV([QU(n)]),eV([ZU(t),QU(n)]))},oV=function(e,t,n,r,o,i){var a=nV(e,o,i),u=nV(t,o,i);return Math.abs(a.left()-u.left())<=n&&Math.abs(a.top()-u.top())<=r},iV=function(e,t,n,r,o,i){var a=nV(e,o,i),u=nV(t,o,i),s=Math.abs(a.left()-u.left()),c=Math.abs(a.top()-u.top());return Hs(s,c)},aV=function(e,t,n){var r=e.fold(function(e,t){return{position:ve.some("absolute"),left:ve.some(e+"px"),top:ve.some(t+"px")}},function(e,t){return{position:ve.some("absolute"),left:ve.some(e-n.left()+"px"),top:ve.some(t-n.top()+"px")}},function(e,t){return{position:ve.some("fixed"),left:ve.some(e+"px"),top:ve.some(t+"px")}});return de({right:ve.none(),bottom:ve.none()},r)},uV=function(e,t,n){return e.fold(function(e,r){return cV(e+t,r+n)},function(e,r){return lV(e+t,r+n)},function(e,r){return fV(e+t,r+n)})},sV=function(e,t,n,r){var o=function(e,o){return function(i,a){var u=e(t,n,r);return o(i.getOr(u.left()),a.getOr(u.top()))}};return e.fold(o(rV,cV),o(nV,lV),o(tV,fV))},cV=JU.offset,lV=JU.absolute,fV=JU.fixed,dV=function(e,t){var n=Ma(e,t);return ke(n)?NaN:parseInt(n,10)},pV=function(e,t){var n=e.element(),r=dV(n,t.leftAttr),o=dV(n,t.topAttr);return isNaN(r)||isNaN(o)?ve.none():ve.some(Hs(r,o))},mV=function(e,t,n){var r=e.element();Aa(r,t.leftAttr,n.left()+"px"),Aa(r,t.topAttr,n.top()+"px")},hV=function(e,t){var n=e.element();Pa(n,t.leftAttr),Pa(n,t.topAttr)},gV=function(e,t,n,r){return pV(e,t).fold(function(){return n},function(e){return fV(e.left()+r.left(),e.top()+r.top())})},vV=function(e,t,n,r,o,i){var a=gV(e,t,n,r),u=t.mustSnap?wV(e,t,a,o,i):xV(e,t,a,o,i),s=tV(a,o,i);return mV(e,t,s),u.fold(function(){return{coord:fV(s.left(),s.top()),extra:ve.none()}},function(e){return{coord:e.output,extra:e.extra}})},bV=function(e,t){hV(e,t)},yV=function(e,t,n,r){return at(e,function(e){var o=e.sensor;return oV(t,o,e.range.left(),e.range.top(),n,r)?ve.some({output:sV(e.output,t,n,r),extra:e.extra}):ve.none()})},wV=function(e,t,n,r,o){var i=t.getSnapPoints(e);return yV(i,n,r,o).orThunk(function(){return $e(i,function(e,t){var i=t.sensor,a=iV(n,i,t.range.left(),t.range.top(),r,o);return e.deltas.fold(function(){return{deltas:ve.some(a),snap:ve.some(t)}},function(n){return(a.left()+a.top())/2<=(n.left()+n.top())/2?{deltas:ve.some(a),snap:ve.some(t)}:e})},{deltas:ve.none(),snap:ve.none()}).snap.map(function(e){return{output:sV(e.output,n,r,o),extra:e.extra}})})},xV=function(e,t,n,r,o){var i=t.getSnapPoints(e);return yV(i,n,r,o)},CV=function(e,t,n){return{coord:sV(e.output,e.output,t,n),extra:e.extra}},_V=function(e,t,n,r){var o=t.getTarget(e.element());if(t.repositionTarget){var i=ia(e.element()),a=oc(i),u=Vz(o),s=CV(r,a,u),c=aV(s.coord,0,u);ds(o,c)}},SV=Object.freeze({__proto__:null,snapTo:_V}),kV=function(e){ca(e.element()).filter(ta).each(function(e){Ia(e,"data-initial-z-index").fold(function(){return bs(e,"z-index")},function(t){return ls(e,"z-index",t)}),Pa(e,"data-initial-z-index")})},TV=function(e){ca(e.element()).filter(ta).each(function(t){hs(t,"z-index").each(function(e){Aa(t,"data-initial-z-index",e)}),ls(t,"z-index",ps(e.element(),"z-index"))})},EV=function(e,t){e.getSystem().addToGui(t),TV(t)},OV=function(e){kV(e),e.getSystem().removeFromGui(e)},NV=function(e,t,n){return e.getSystem().build(LT.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}))},AV=kr("snaps",[lr("getSnapPoints"),Xc("onSensor"),lr("leftAttr"),lr("topAttr"),Er("lazyViewport",wc),Er("mustSnap",!1)]),DV=[Er("useFixed",ce),lr("blockerClass"),Er("getTarget",ae),Er("onDrag",te),Er("repositionTarget",!0),Er("onDrop",te),Ir("getBounds",wc),AV],MV=function(e){return vg(hs(e,"left"),hs(e,"top"),hs(e,"position"),function(e,t,n){return("fixed"===n?fV:cV)(parseInt(e,10),parseInt(t,10))}).getOrThunk(function(){var t=qs(e);return lV(t.left(),t.top())})},IV=function(e,t,n,r,o){var i=o.bounds,a=nV(t,n,r),u=Ef(a.left(),i.x,i.x+i.width-o.width),s=Ef(a.top(),i.y,i.y+i.height-o.height),c=lV(u,s);return t.fold(function(){var e=rV(c,n,r);return cV(e.left(),e.top())},function(){return c},function(){var e=tV(c,n,r);return fV(e.left(),e.top())})},RV=function(e,t,n,r,o,i,a){var u=t.fold(function(){var e=uV(n,i.left(),i.top()),t=tV(e,r,o);return fV(t.left(),t.top())},function(t){var a=vV(e,t,n,i,r,o);return a.extra.each(function(n){t.onSensor(e,n)}),a.coord});return IV(0,u,r,o,a)},PV=function(e,t,n,r){var o=t.getTarget(e.element());if(t.repositionTarget){var i=ia(e.element()),a=oc(i),u=Vz(o),s=MV(o),c=RV(e,t.snaps,s,a,u,r,n),l=aV(c,0,u);ds(o,l)}t.onDrag(e,o,r)},LV=function(e,t){return{bounds:e.getBounds(),height:Bs(t.element()),width:Ks(t.element())}},jV=function(e,t,n,r,o){var i=n.update(r,o),a=n.getStartData().getOrThunk(function(){return LV(t,e)});i.each(function(n){PV(e,t,a,n)})},BV=function(e,t,n,r){t.each(OV),n.snaps.each(function(t){bV(e,t)});var o=n.getTarget(e.element());r.reset(),n.onDrop(e,o)},zV=function(e){return function(t,n){var r=function(e){n.setStartData(LV(t,e))};return Li(o([zi(bi(),function(e){n.getStartData().each(function(){return r(e)})})],e(t,n,r)))}},FV=function(e){return Li([zi(qo(),e.forceDrop),zi(Go(),e.drop),zi(Wo(),function(t,n){e.move(n.event())}),zi($o(),e.delayDrop)])},HV=function(e){return ve.from(Hs(e.x(),e.y()))},UV=function(e,t){return Hs(t.left()-e.left(),t.top()-e.top())},VV=Object.freeze({__proto__:null,getData:HV,getDelta:UV}),qV=function(e,t,n){return[zi(qo(),function(r,o){if(0===o.event().raw().button){o.stop();var i=function(){return BV(r,ve.some(s),e,t)},a=l(i,200),u={drop:i,delayDrop:a.schedule,forceDrop:i,move:function(n){a.cancel(),jV(r,e,t,VV,n)}},s=NV(r,e.blockerClass,FV(u));!function(){n(r),EV(r,s)}()}})]},WV=o(DV,[Qc("dragger",{handlers:zV(qV)})]),$V=function(e){return Li([zi(Fo(),e.forceDrop),zi(Uo(),e.drop),zi(Vo(),e.drop),zi(Ho(),function(t,n){e.move(n.event())})])},GV=function(e){var t=e[0];return ve.some(Hs(t.clientX,t.clientY))},XV=function(e){var t=e.raw(),n=t.touches;return 1===n.length?GV(n):ve.none()},KV=function(e,t){return Hs(t.left()-e.left(),t.top()-e.top())},YV=Object.freeze({__proto__:null,getData:XV,getDelta:KV}),JV=function(e,t,n){var r=Lr(ve.none());return[zi(Fo(),function(o,i){i.stop();var a=function(){BV(o,r.get(),e,t),r.set(ve.none())},u={drop:a,delayDrop:function(){},forceDrop:a,move:function(n){jV(o,e,t,YV,n)}},s=NV(o,e.blockerClass,$V(u));r.set(ve.some(s));!function(){n(o),EV(o,s)}()}),zi(Ho(),function(n,r){r.stop(),jV(n,e,t,YV,r.event())}),zi(Uo(),function(n,o){o.stop(),BV(n,r.get(),e,t),r.set(ve.none())}),zi(Vo(),function(n){BV(n,r.get(),e,t),r.set(ve.none())})]},QV=o(DV,[Qc("dragger",{handlers:zV(JV)})]),ZV=function(e,t,n){return o(qV(e,t,n),JV(e,t,n))},eq=o(DV,[Qc("dragger",{handlers:zV(ZV)})]),tq=WV,nq=QV,rq=eq,oq=Object.freeze({__proto__:null,mouse:tq,touch:nq,mouseOrTouch:rq}),iq=function(){var e=ve.none(),t=ve.none(),n=function(){e=ve.none(),t=ve.none()},r=function(t,n){var r=e.map(function(e){return t.getDelta(e,n)});return e=ve.some(n),r},o=function(e,t){return e.getData(t).bind(function(t){return r(e,t)})},i=function(e){t=ve.some(e)},a=function(){return t},u=ie({});return fu({readState:u,reset:n,update:o,getStartData:a,setStartData:i})},aq=Object.freeze({__proto__:null,init:iq}),uq=Yl({branchKey:"mode",branches:oq,name:"dragging",active:{events:function(e,t){return e.dragger.handlers(e,t)}},extra:{snap:function(e){return{sensor:e.sensor,range:e.range,output:e.output,extra:ve.from(e.extra)}}},state:aq,apis:SV}),sq=function(e,t,n,r,o,i){return e.fold(function(){return uq.snap({sensor:lV(n-20,r-20),range:Hs(o,i),output:lV(ve.some(n),ve.some(r)),extra:{td:t}})},function(e){var o=n-20,i=r-20,a=e.element().dom().getBoundingClientRect();return uq.snap({sensor:lV(o,i),range:Hs(40,40),output:lV(ve.some(n-a.width/2),ve.some(r-a.height/2)),extra:{td:t}})})},cq=function(e,t,n){var r=function(e,t){return e.exists(function(e){return Eo(e,t)})};return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(e,o){var i=o.td;r(t.get(),i)||(t.set(ve.some(i)),n(i))},mustSnap:!0}},lq=function(e){return Qw(Jw.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:$l([uq.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),pO.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},fq=function(e,t){var n=Lr([]),r=Lr([]),o=Lr(!1),i=Lr(ve.none()),a=Lr(ve.none()),u=function(e){var n=yc(e);return sq(p.getOpt(t),e,n.x,n.y,n.width,n.height)},s=function(){return Fe(n.get(),function(e){return u(e)})},c=function(e){var n=yc(e);return sq(m.getOpt(t),e,n.right,n.bottom,n.width,n.height)},l=function(){return Fe(r.get(),function(e){return c(e)})},f=cq(s,i,function(t){a.get().each(function(n){e.fire("TableSelectorChange",{start:t,finish:n})})}),d=cq(l,a,function(t){i.get().each(function(n){e.fire("TableSelectorChange",{start:n,finish:t})})}),p=lq(f),m=lq(d),h=Rs(p.asSpec()),g=Rs(m.asSpec()),v=function(t,n,r,o){var i=n.dom().getBoundingClientRect();bs(t.element(),"display");var a=sa(Ur.fromDom(e.getBody())).dom().innerHeight,u=r(i),s=o(i,a);(u||s)&&ls(t.element(),"display","none")},b=function(e,t,n,r){var o=n(t);uq.snapTo(e,o),v(e,t,function(e){return e[r]<0},function(e,t){return e[r]>t})},y=function(e){return b(h,e,u,"top")},w=function(){return i.get().each(y)},x=function(e){return b(g,e,c,"bottom")},C=function(){return a.get().each(x)};Co().deviceType.isTouch()&&(e.on("TableSelectionChange",function(e){o.get()||($p(t,h),$p(t,g),o.set(!0)),i.set(ve.some(e.start)),a.set(ve.some(e.finish)),e.otherCells.each(function(t){n.set(t.upOrLeftCells),r.set(t.downOrRightCells),y(e.start),x(e.finish)})}),e.on("ResizeEditor ResizeWindow ScrollContent",function(){w(),C()}),e.on("TableSelectionClear",function(){o.get()&&(Kp(h),Kp(g),o.set(!1)),i.set(ve.none()),a.set(ve.none())}))};!function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"}(zB||(zB={}));var dq=function(e,t,n,r,o){var i={};return i.height=VH(r+t.top(),p_(e),h_(e)),n===zB.Both&&(i.width=VH(o+t.left(),d_(e),m_(e))),i},pq=function(e,t,n){var r=Ur.fromDom(e.getContainer()),o=dq(e,t,n,js(r),Xs(r));kt(o,function(e,t){return ls(r,t,UH(e))}),sk(e)},mq=function(e){if(1===e.nodeType){if("BR"===e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1},hq=function(e,t,n){t.delimiter||(t.delimiter="»");var r=function(r){var o=r||[],i=Fe(o,function(t,r){return Jw.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":r,"tab-index":-1,"aria-level":r+1},innerHtml:t.name},action:function(n){e.focus(),e.selection.select(t.element),e.nodeChanged()},buttonBehaviours:$l([eS.button(n.isReadOnly),K_()])})}),a={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+t.delimiter+" "}};return $e(i.slice(1),function(e,t){var n=e;return n.push(a),n.push(t),n},[i[0]])},o=function(t){for(var n=[],r=t.length;r-- >0;){var o=t[r];if(1===o.nodeType&&!mq(o)){var i=e.fire("ResolveName",{name:o.nodeName.toLowerCase(),target:o});if(i.isDefaultPrevented()||n.push({name:i.name,element:o}),i.isPropagationStopped())break}}return n};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:$l([hy.config({mode:"flow",selector:"div[role=button]"}),i_.config({disabled:n.isReadOnly}),K_(),$T.config({}),ky.config({}),Ey("elementPathEvents",[Xi(function(t,n){e.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return hy.focusIn(t)}),e.on("NodeChange",function(e){var n=o(e.parents);n.length>0?ky.set(t,r(n)):ky.set(t,[])})})])]),components:[]}},gq=function(e,t){var n=function(e,n,r){return ky.set(e,[Ds(t.translate(["{0} "+r,n[r]]))])};return Jw.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:$l([eS.button(t.isReadOnly),K_(),$T.config({}),ky.config({}),nh.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Ey("wordcount-events",[Ji(function(e){var t=nh.getValue(e),r="words"===t.mode?"characters":"words";nh.setValue(e,{mode:r,count:t.count}),n(e,t.count,r)}),Xi(function(t){e.on("wordCountUpdate",function(e){var r=nh.getValue(t).mode;nh.setValue(t,{mode:r,count:e.wordCount}),n(t,e.wordCount,r)})})])]),eventOrder:{"alloy.execute":["disabling","alloy.base.behaviour","wordcount-events"]}})},vq=function(e,t){var n=function(n){return{dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize"),"aria-hidden":"true"},innerHtml:ex("resize-handle",t.icons)},behaviours:$l([uq.config({mode:"mouse",repositionTarget:!1,onDrag:function(t,r,o){pq(e,o,n)},blockerClass:"tox-blocker"})])}},r=function(){var e=FC.translate(["Powered by {0}","Tiny"]);return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:'<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+e+'">'+e+"</a>"}}},o=function(e){var t=!co(e.getParam("plugins","","string"),"autoresize"),n=e.getParam("resize",t);return!1===n?zB.None:"both"===n?zB.Both:zB.Vertical},i=function(){var n=[];return e.getParam("elementpath",!0,"boolean")&&n.push(hq(e,{},t)),co(e.getParam("plugins","","string"),"wordcount")&&n.push(gq(e,t)),e.getParam("branding",!0,"boolean")&&n.push(r()),n.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:n}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:function(){var t=i(),r=o(e);return r!==zB.None&&t.push(n(r)),t}()}},bq=function(e){var t,n=e.inline,r=n?QH:jH,o=R_(e)?IF:jF,i=ve.none(),a=Co(),u=a.browser.isIE(),s=u?["tox-platform-ie"]:[],c=a.deviceType.isTouch(),l=c?["tox-platform-touch"]:[],f=O_(e),d=FC.isRtl()?{attributes:{dir:"rtl"}}:{},p={attributes:(t={},t[Jf]=f?Mc.BottomToTop:Mc.TopToBottom,t)},m=function(){return i.bind(xH.getHeader)},h=function(){return o.isDocked(m)},g=Rs({dom:de({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(s).concat(l)},d),behaviours:$l([Fp.config({useFixed:function(){return h()}})])}),v=function(){return lt.value(g)},b=Qw({dom:{tag:"div",classes:["tox-anchorbar"]}}),y=function(){return i.bind(function(e){return b.getOpt(e)}).getOrDie("Could not find a anchor bar element")},w=function(){return i.bind(function(e){return xH.getToolbar(e)}).getOrDie("Could not find more toolbar element")},x=function(){return i.bind(function(e){return xH.getThrobber(e)}).getOrDie("Could not find throbber element")},C=HP(g,e,y),_=xH.parts().menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:C,onEscape:function(){e.focus()}}),S=S_(e),k=xH.parts().toolbar(de({dom:{tag:"div",classes:["tox-toolbar"]},getSink:v,providers:C.shared.providers,onEscape:function(){e.focus()},type:S,lazyToolbar:w,lazyHeader:function(){return m().getOrDie("Could not find header element")}},p)),T=xH.parts()["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:C.shared.providers,onEscape:function(){},type:S}),E=xH.parts().socket({dom:{tag:"div",classes:["tox-edit-area"]}}),O=xH.parts().sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),N=xH.parts().throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:C}),A=e.getParam("statusbar",!0,"boolean"),D=A&&!n?ve.some(vq(e,C.shared.providers)):ve.none(),M={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[E,O]},I=C_(e),R=w_(e),P=y_(e),L=xH.parts().header({dom:de({tag:"div",classes:["tox-editor-header"]},p),components:Ye([P?[_]:[],function(){return I?[T]:R?[k]:[]}(),D_(e)?[]:[b.asSpec()]]),sticky:R_(e),editor:e,sharedBackstage:C.shared}),j=Ye([f?[]:[L],n?[]:[M],f?[L]:[]]),B={dom:{tag:"div",classes:["tox-editor-container"]},components:j},z=Ye([[B],n?[]:D.toArray(),[N]]),F=I_(e),H=de(de({role:"application"},FC.isRtl()?{dir:"rtl"}:{}),F?{"aria-hidden":"true"}:{}),U=Rs(xH.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(f?["tox-tinymce--toolbar-bottom"]:[]).concat(l).concat(s),styles:de({visibility:"hidden"},F?{opacity:"0",border:"0"}:{}),attributes:H},components:z,behaviours:$l([hy.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a"})])}));i=ve.some(U),e.shortcuts.add("alt+F9","focus menubar",function(){xH.focusMenubar(U)}),e.shortcuts.add("alt+F10","focus toolbar",function(){xH.focusToolbar(U)});var V=jT(U),q=jT(g);Mz(e,V,q);var W=function(){return{channels:{broadcastAll:q.broadcast,broadcastOn:q.broadcastOn,register:function(){}}}},$=function(){var t=UH(WH(e)),n=UH(GH(e));return e.inline||(vs("div","width",n)&&ls(U.element(),"width",n),vs("div","height",t)?ls(U.element(),"height",t):ls(U.element(),"height","200px")),t};return{mothership:V,uiMothership:q,backstage:C,renderUI:function(){o.setup(e,C.shared,m),yU(e,C),YU(e,v,C),KF(e),fH(e,x,C.shared),Tt(T_(e),function(t,n){e.ui.registry.addGroupToolbarButton(n,t)});var t=e.ui.registry.getAll(),n=t.buttons,i=t.menuItems,a=t.contextToolbars,u=t.sidebars,s=x_(e),c={menuItems:i,menus:L_(e),menubar:j_(e),toolbar:s.getOrThunk(function(){return B_(e)}),allowToolbarGroups:S===Ux.floating,buttons:n,sidebar:u};Dz(e,a,g,{backstage:C}),fq(e,g);var l=e.getElement(),f=$(),d={mothership:V,uiMothership:q,outerContainer:U},p={targetNode:l,height:f};return r.render(e,d,c,C,p)},getUi:W}},yq=function(e,t){var n=ve.from(Ma(e,"id")).fold(function(){var e=qa("dialog-describe");return Aa(t,"id",e),e},ae);Aa(e,"aria-describedby",n)},wq=function(e,t){var n=ve.from(Ma(e,"id")).fold(function(){var e=qa("dialog-label");return Aa(t,"id",e),e},ae);Aa(e,"aria-labelledby",n)},xq=ie([lr("lazySink"),wr("dragBlockClass"),Ir("getBounds",wc),Er("useTabstopAt",ie(!0)),Er("eventOrder",{}),rh("modalBehaviours",[hy]),Kc("onExecute"),Jc("onEscape")]),Cq={sketch:ae},_q=ie([Lh({name:"draghandle",overrides:function(e,t){return{behaviours:$l([uq.config({mode:"mouse",getTarget:function(e){return kc(e,'[role="dialog"]').getOr(e)},blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])}}}),Rh({schema:[lr("dom")],name:"title"}),Rh({factory:Cq,schema:[lr("dom")],name:"close"}),Rh({factory:Cq,schema:[lr("dom")],name:"body"}),Lh({factory:Cq,schema:[lr("dom")],name:"footer"}),Ph({factory:{sketch:function(e,t){return de(de({},e),{dom:t.dom,components:t.components})}},schema:[Er("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Er("components",[])],name:"blocker"})]),Sq=function(e,t,n,r){var o=qa("alloy.dialog.busy"),i=qa("alloy.dialog.idle"),a=$l([hy.config({mode:"special",onTab:function(){return ve.some(!0)},onShiftTab:function(){return ve.some(!0)}}),Ly.config({})]),u=function(t){var n=e.lazySink(t).getOrDie(),u=Lr(ve.none()),s=r.blocker(),c=n.getSystem().build(de(de({},s),{components:s.components.concat([Ps(t)]),behaviours:$l([Ly.config({}),Ey("dialog-blocker-events",[Gi(Ko(),function(){hy.focusIn(t)}),zi(i,function(e,n){Ra(t.element(),"aria-busy")&&(Pa(t.element(),"aria-busy"),u.get().each(function(e){return ky.remove(t,e)}))}),zi(o,function(e,n){Aa(t.element(),"aria-busy","true");var r=n.event().getBusySpec();u.get().each(function(e){ky.remove(t,e)});var o=r(t,a),i=e.getSystem().build(o);u.set(ve.some(i)),ky.append(t,Ps(i)),i.hasConfigured(hy)&&hy.focusIn(i)})])])}));$p(n,c),hy.focusIn(t)},s=function(e){ca(e.element()).each(function(t){e.getSystem().getByDom(t).each(function(e){Kp(e)})})},c=function(t){return Yh(t,e,"body")},l=function(t){return Yh(t,e,"footer")},f=function(e,t){Di(e,o,{getBusySpec:t})},d=function(e){Ai(e,i)},p=qa("modal-events"),m=de(de({},e.eventOrder),{"alloy.system.attached":[p].concat(e.eventOrder["alloy.system.attached"]||[])});return{uid:e.uid,dom:e.dom,components:t,apis:{show:u,hide:s,getBody:c,getFooter:l,setIdle:d,setBusy:f},eventOrder:m,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:ih(e.modalBehaviours,[ky.config({}),hy.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt}),Ey(p,[Xi(function(t){wq(t.element(),Yh(t,e,"title").element()),yq(t.element(),Yh(t,e,"body").element())})])])}},kq=pg({name:"ModalDialog",configFields:xq(),partFields:_q(),factory:Sq,apis:{show:function(e,t){e.show(t)},hide:function(e,t){e.hide(t)},getBody:function(e,t){return e.getBody(t)},getFooter:function(e,t){return e.getFooter(t)},setBusy:function(e,t,n){e.setBusy(t,n)},setIdle:function(e,t){e.setIdle(t)}}}),Tq=Rn([pr("type"),pr("name")].concat(fC)),Eq=ir,Oq=[Fn("name","name",Jt(function(){return qa("button-name")}),or),_r("icon"),Dr("align","end",["start","end"]),Mr("primary",!1),Mr("disabled",!1)],Nq=o(Oq,[pr("text")]),Aq=o([mr("type",["submit","cancel","custom"])],Nq),Dq=o([mr("type",["menu"]),_r("text"),_r("tooltip"),_r("icon"),yr("items",Tq)],Oq),Mq=er("type",{submit:Aq,cancel:Aq,custom:Aq,menu:Dq}),Iq=[pr("type"),pr("text"),mr("level",["info","warn","error","success"]),pr("icon"),Er("url","")],Rq=Rn(Iq),Pq=function(e){return[pr("type"),e]},Lq=[pr("type"),pr("text"),Mr("disabled",!1),Mr("primary",!1),Fn("name","name",Jt(function(){return qa("button-name")}),or),_r("icon"),Mr("borderless",!1)],jq=Rn(Lq),Bq=[pr("type"),pr("name"),pr("label"),Mr("disabled",!1)],zq=Rn(Bq),Fq=ir,Hq=[pr("type"),pr("name")],Uq=Hq.concat([_r("label")]),Vq=Uq,qq=Rn(Vq),Wq=or,$q=Uq,Gq=Rn($q),Xq=or,Kq=Uq,Yq=Rn(Kq),Jq=function(){return Pn(Vn)}(),Qq=function(e){return[pr("type"),dr("columns"),e]},Zq=Uq.concat([Mr("sandboxed",!0)]),eW=Rn(Zq),tW=or,nW=Uq.concat([_r("inputMode"),_r("placeholder"),Mr("maximized",!1),Mr("disabled",!1)]),rW=Rn(nW),oW=or,iW=Uq.concat([br("items",[pr("text"),pr("value")]),Nr("size",1),Mr("disabled",!1)]),aW=Rn(iW),uW=or,sW=Uq.concat([Mr("constrain",!0),Mr("disabled",!1)]),cW=Rn(sW),lW=Rn([pr("width"),pr("height")]),fW=Uq.concat([_r("placeholder"),Mr("maximized",!1),Mr("disabled",!1)]),dW=Rn(fW),pW=or,mW=Uq.concat([Dr("filetype","file",["image","media","file"]),Er("disabled",!1)]),hW=Rn(mW),gW=Rn([pr("value"),Er("meta",{})]),vW=Hq.concat([Ar("tag","textarea"),pr("scriptId"),pr("scriptUrl"),function(e,t){return Or(e,t,sr)}("settings",void 0)]),bW=Hq.concat([Ar("tag","textarea"),hr("init")]),yW=$n(function(e){return Kn("customeditor.old",In(bW),e).orThunk(function(){return Kn("customeditor.new",In(vW),e)})}),wW=or,xW=[pr("type"),pr("html"),Dr("presets","presentation",["presentation","document"])],CW=Rn(xW),_W=Uq.concat([fr("currentState",Rn([lr("blob"),pr("url")]))]),SW=Rn(_W),kW=Uq.concat([Er("columns","auto")]),TW=Rn(kW),EW=qn([pr("value"),pr("text"),pr("icon")]),OW=function(e){return[pr("type"),pr("label"),e]},NW=[pr("type"),yr("header",or),yr("cells",Pn(or))],AW=Rn(NW),DW=function(e){return Fn("items","items",Kt(),Pn($n(function(t){return Kn("Checking item of "+e,MW,t).fold(function(e){return lt.error(Qn(e))},function(e){return lt.value(e)})})))},MW=Wn(function(){return Zn("type",{alertbanner:Rq,bar:Rn(Pq(DW("bar"))),button:jq,checkbox:zq,colorinput:qq,colorpicker:Gq,dropzone:Yq,grid:Rn(Qq(DW("grid"))),iframe:eW,input:rW,selectbox:aW,sizeinput:cW,textarea:dW,urlinput:hW,customeditor:yW,htmlpanel:CW,imagetools:SW,collection:TW,label:Rn(OW(DW("label"))),table:AW,panel:RW})}),IW=[pr("type"),Er("classes",[]),yr("items",MW)],RW=Rn(IW),PW=[Fn("name","name",Jt(function(){return qa("tab-name")}),or),pr("title"),yr("items",MW)],LW=[pr("type"),br("tabs",PW)],jW=Rn(LW),BW=Nq,zW=Mq,FW=Rn([pr("title"),fr("body",Zn("type",{panel:RW,tabpanel:jW})),Ar("size","normal"),yr("buttons",zW),Er("initialData",{}),Ir("onAction",te),Ir("onChange",te),Ir("onSubmit",te),Ir("onClose",te),Ir("onCancel",te),Er("onTabChange",te)]),HW=function(e){return Kn("dialog",FW,e)},UW=function(e){return Ce(e)?[e].concat(Je(It(e),UW)):_e(e)?Je(e,UW):[]},VW=function(e){return xe(e.type)&&xe(e.name)},qW={checkbox:Fq,colorinput:Wq,colorpicker:Xq,dropzone:Jq,input:oW,iframe:tW,sizeinput:lW,selectbox:uW,size:lW,textarea:pW,urlinput:gW,customeditor:wW,collection:EW,togglemenuitem:Eq},WW=function(e){return ve.from(qW[e.type])},$W=function(e){return qe(UW(e),VW)},GW=function(e){var t=$W(e),n=Je(t,function(e){return WW(e).fold(function(){return[]},function(t){return[fr(e.name,t)]})});return Rn(n)},XW=Rn(o([mr("type",["cancel","custom"])],BW)),KW=Rn([pr("title"),pr("url"),Cr("height"),Cr("width"),function(e,t){return xr(e,Pn(t))}("buttons",XW),Ir("onAction",te),Ir("onCancel",te),Ir("onClose",te),Ir("onMessage",te)]),YW=function(e){return Kn("dialog",KW,e)},JW=function(e){return{internalDialog:Yn(HW(e)),dataValidator:GW(e),initialData:e.initialData}},QW={open:function(e,t){var n=JW(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(e,t){return e(Yn(YW(t)))},redial:function(e){return JW(e)}},ZW=function(e){var t=[],n={};return kt(e,function(e,r){e.fold(function(){t.push(r)},function(e){n[r]=e})}),t.length>0?lt.error(t):lt.value(n)},e$=function(e,n){var r=Qw(YA.sketch(function(t){return{dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:Fe(e.items,function(e){return TR(t,e,n)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[r.asSpec()]}],behaviours:$l([hy.config({mode:"acyclic",useTabstopAt:ue(MD)}),aD.memento(r),xD.memento(r,{postprocess:function(e){return ZW(e).fold(function(e){return t.console.error(e),{}},function(e){return e})}})])}},t$=function(e,t){return{uid:e.uid,dom:e.dom,components:e.components,events:nw(e.action),behaviours:ih(e.tabButtonBehaviours,[Ly.config({}),hy.config({mode:"execution",useSpace:!0,useEnter:!0}),nh.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification}},n$=dg({name:"TabButton",configFields:[Er("uid",void 0),lr("value"),Fn("dom","dom",Qt(function(){return{attributes:{role:"tab",id:qa("aria"),"aria-selected":"false"}}}),tr()),wr("action"),Er("domModification",{}),rh("tabButtonBehaviours",[Ly,hy,nh]),lr("view")],factory:t$}),r$=ie([lr("tabs"),lr("dom"),Er("clickToDismiss",!1),rh("tabbarBehaviours",[Ug,hy]),$c(["tabClass","selectedClass"])]),o$=jh({factory:n$,name:"tabs",unit:"tab",overrides:function(e){var t=function(e,t){Ug.dehighlight(e,t),Di(e,Ei(),{tabbar:e,button:t})},n=function(e,t){Ug.highlight(e,t),Di(e,Ti(),{tabbar:e,button:t})};return{action:function(r){var o=r.getSystem().getByUid(e.uid).getOrDie(),i=Ug.isHighlighted(o,r);!function(){return i&&e.clickToDismiss?t:i?te:n}()(o,r)},domModification:{classes:[e.markers.tabClass]}}}}),i$=ie([o$]),a$=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:ih(e.tabbarBehaviours,[Ug.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:function(e,t){Aa(t.element(),"aria-selected","true")},onDehighlight:function(e,t){Aa(t.element(),"aria-selected","false")}}),hy.config({mode:"flow",getInitial:function(e){return Ug.getHighlighted(e).map(function(e){return e.element()})},selector:"."+e.markers.tabClass,executeOnMove:!0})])}},u$=pg({name:"Tabbar",configFields:r$(),partFields:i$(),factory:a$}),s$=function(e,t){return{uid:e.uid,dom:e.dom,behaviours:ih(e.tabviewBehaviours,[ky.config({})]),domModification:{attributes:{role:"tabpanel"}}}},c$=dg({name:"Tabview",configFields:[rh("tabviewBehaviours",[ky])],factory:s$}),l$=ie([Er("selectFirst",!0),Xc("onChangeTab"),Xc("onDismissTab"),Er("tabs",[]),rh("tabSectionBehaviours",[])]),f$=Rh({factory:u$,schema:[lr("dom"),vr("markers",[lr("tabClass"),lr("selectedClass")])],name:"tabbar",defaults:function(e){return{tabs:e.tabs}}}),d$=Rh({factory:c$,name:"tabview"}),p$=ie([f$,d$]),m$=function(e,t,n,r){var o=function(t){var n=nh.getValue(t);Kh(t,e,"tabview").each(function(r){Xe(e.tabs,function(e){return e.value===n}).each(function(n){var o=n.view();Ia(t.element(),"id").each(function(e){Aa(r.element(),"aria-labelledby",e)}),ky.set(r,o),e.onChangeTab(r,t,o)})})},i=function(t,n){Kh(t,e,"tabbar").each(function(e){n(e).each(Mi)})};return{uid:e.uid,dom:e.dom,components:t,behaviours:oh(e.tabSectionBehaviours),events:Li(Ye([e.selectFirst?[Xi(function(e,t){i(e,Ug.getFirst)})]:[],[zi(Ti(),function(e,t){var n=t.event().button();o(n)}),zi(Ei(),function(t,n){var r=n.event().button();e.onDismissTab(t,r)})]])),apis:{getViewItems:function(t){return Kh(t,e,"tabview").map(function(e){return ky.contents(e)}).getOr([])},showTab:function(e,t){i(e,function(e){var n=Ug.getCandidates(e);return Xe(n,function(e){return nh.getValue(e)===t}).filter(function(t){return!Ug.isHighlighted(e,t)})})}}}},h$=pg({name:"TabSection",configFields:l$(),partFields:p$(),factory:m$,apis:{getViewItems:function(e,t){return e.getViewItems(t)},showTab:function(e,t,n){e.showTab(t,n)}}}),g$=function(e,t,n){return Fe(e,function(r,o){ky.set(n,e[o].view());var i=t.dom().getBoundingClientRect();return ky.set(n,[]),i.height})},v$=function(e){return rt(nt(e,function(e,t){return e>t?-1:e<t?1:0}))},b$=function(e,n,r){var o,i=ua(e).dom(),a=kc(e,".tox-dialog-wrap").getOr(e),u="fixed"===ps(a,"position");o=u?Math.max(i.clientHeight,t.window.innerHeight):Math.max(i.offsetHeight,i.scrollHeight);var s=js(n),c=n.dom().offsetLeft>=r.dom().offsetLeft+Xs(r),l=c?Math.max(js(r),s):s,f=parseInt(ps(e,"margin-top"),10)||0,d=parseInt(ps(e,"margin-bottom"),10)||0;return o-(js(e)+f+d-l)},y$=function(e,t){rt(e).each(function(e){return h$.showTab(t,e.value)})},w$=function(e,t){ls(e,"height",t+"px"),Co().browser.isIE()?bs(e,"flex-basis"):ls(e,"flex-basis",t+"px")},x$=function(e,t,n){kc(e,'[role="dialog"]').each(function(e){Tc(e,'[role="tablist"]').each(function(r){n.get().map(function(n){return ls(t,"height","0"),ls(t,"flex-basis","0"),Math.min(n,b$(e,t,r))}).each(function(e){w$(t,e)})})})},C$=function(e){return Tc(e,'[role="tabpanel"]')},_$=function(e){return{smartTabHeight:function(){var t=Lr(ve.none());return{extraEvents:[Xi(function(n){var r=n.element();C$(r).each(function(o){ls(o,"visibility","hidden"),n.getSystem().getByDom(o).toOption().each(function(n){var r=g$(e,o,n),i=v$(r);t.set(i)}),x$(r,o,t),bs(o,"visibility"),y$(e,n),Kw.requestAnimationFrame(function(){x$(r,o,t)})})}),zi(yi(),function(e){var n=e.element();C$(n).each(function(e){x$(n,e,t)})}),zi(uE,function(e,n){var r=e.element();C$(r).each(function(e){var n=lf();ls(e,"visibility","hidden");var o=hs(e,"height").map(function(e){return parseInt(e,10)});bs(e,"height"),bs(e,"flex-basis");var i=e.dom().getBoundingClientRect().height;o.forall(function(e){return i>e})?(t.set(ve.from(i)),x$(r,e,t)):o.each(function(t){w$(e,t)}),bs(e,"visibility"),n.each(uf)})})],selectFirst:!1}}(),naiveTabHeight:function(){return{extraEvents:[],selectFirst:!0}}()}},S$=function(e,t){var n=Lr({}),r=function(e){var t=nh.getValue(e),r=ZW(t).getOr({}),o=n.get(),i=Vt(o,r);n.set(i)},o=function(e){var t=n.get();nh.setValue(e,t)},i=Lr(null),a=Fe(e.tabs,function(e){return{value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:t.shared.providers.translate(e.title)},view:function(){return[YA.sketch(function(n){return{dom:{tag:"div",classes:["tox-form"]},components:Fe(e.items,function(e){return TR(n,e,t)}),formBehaviours:$l([hy.config({mode:"acyclic",useTabstopAt:ue(MD)}),Ey("TabView.form.events",[Xi(o),Ki(r)]),nf.config({channels:an([{key:"send-data-to-section",value:{onReceive:r}},{key:"send-data-to-view",value:{onReceive:o}}])})])}})]}}}),u=_$(a).smartTabHeight;return h$.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(e,t,n){var r=nh.getValue(t);Di(e,aE,{name:r,oldName:i.get()}),i.set(r)},tabs:a,components:[h$.parts().tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[u$.parts().tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:$l([$T.config({})])}),h$.parts().tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:u.selectFirst,tabSectionBehaviours:$l([Ey("tabpanel",u.extraEvents),hy.config({mode:"acyclic"}),Cg.config({find:function(e){return rt(h$.getViewItems(e))}}),nh.config({store:{mode:"manual",getValue:function(e){return e.getSystem().broadcastOn(["send-data-to-section"],{}),n.get()},setValue:function(e,t){n.set(t),e.getSystem().broadcastOn(["send-data-to-view"],{})}}})])})},k$=qa("update-dialog"),T$=qa("update-title"),E$=qa("update-body"),O$=qa("update-footer"),N$=qa("body-send-message"),A$=function(e,t,n,r){var o=function(e){switch(e.body.type){case"tabpanel":return[S$(e.body,n)];default:return[e$(e.body,n)]}},i=function(e,t){return ve.some({isTabPanel:function(){return"tabpanel"===t.body.type}})},a={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:de(de({},t.map(function(e){return{id:e}}).getOr({})),r?a:{})},components:[],behaviours:$l([aD.childAt(0),Vj.config({channel:E$,updateState:i,renderComponents:o,initialData:e})])}},D$=function(e,t,n,r){return A$(e,ve.some(t),n,r)},M$=function(e,t){var n=A$(e,ve.none(),t,!1);return kq.parts().body(n)},I$=function(e){var t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[ND({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:$l([$T.config({}),Ly.config({})])})]}],behaviours:$l([hy.config({mode:"acyclic",useTabstopAt:ue(MD)})])};return kq.parts().body(t)},R$=cS.deviceType.isTouch(),P$=function(e,t){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}},L$=function(e,t){return kq.parts().close(Jw.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:$l([$T.config({})])}))},j$=function(){return kq.parts().title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},B$=function(e,t){return kq.parts().body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:uH("<p>"+t.translate(e)+"</p>")}]}]})},z$=function(e){return kq.parts().footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e})},F$=function(e,t){return[LT.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),LT.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})]},H$=function(e){var t;return kq.sketch({lazySink:e.lazySink,onEscape:function(t){return e.onEscape(t),ve.some(!0)},useTabstopAt:function(e){return!MD(e)},dom:{tag:"div",classes:["tox-dialog"].concat(e.extraClasses),styles:de({position:"relative"},e.extraStyles)},components:o([e.header,e.body],e.footer.toArray()),parts:{blocker:{dom:uH('<div class="tox-dialog-wrap"></div>'),components:[{dom:{tag:"div",classes:R$?["tox-dialog-wrap__backdrop","tox-dialog-wrap__backdrop--opaque"]:["tox-dialog-wrap__backdrop"]}}]}},dragBlockClass:"tox-dialog-wrap",modalBehaviours:$l(o([Ly.config({}),Ey("dialog-events",e.dialogEvents.concat([Gi(Ko(),function(e,t){hy.focusIn(e)})])),Ey("scroll-lock",[Xi(function(){Vu(as(),"tox-dialog__disable-scroll")}),Ki(function(){Wu(as(),"tox-dialog__disable-scroll")})])],e.extraBehaviours)),eventOrder:de((t={},t[ci()]=["dialog-events"],t[wi()]=["scroll-lock","dialog-events","alloy.base.behaviour"],t[xi()]=["alloy.base.behaviour","dialog-events","scroll-lock"],t),e.eventOrder)})},U$=function(e){return Jw.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M17.953 7.453L13.422 12l4.531 4.547-1.406 1.406L12 13.422l-4.547 4.531-1.406-1.406L10.578 12 6.047 7.453l1.406-1.406L12 10.578l4.547-4.531z" fill-rule="evenodd"></path></svg>'}}],action:function(e){Ai(e,tE)}})},V$=function(e,t,n){var r=function(e){return[Ds(n.translate(e.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:de({},t.map(function(e){return{id:e}}).getOr({}))},components:r(e),behaviours:$l([Vj.config({channel:T$,renderComponents:r})])}},q$=function(){return{dom:uH('<div class="tox-dialog__draghandle"></div>')}},W$=function(e,t,n){return LT.sketch({dom:uH('<div class="tox-dialog__header"></div>'),components:[V$(e,ve.some(t),n),q$(),U$(n)],containerBehaviours:$l([uq.config({mode:"mouse",blockerClass:"blocker",getTarget:function(e){return Ec(e,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},$$=function(e,t){var n=kq.parts().title(V$(e,ve.none(),t)),r=kq.parts().draghandle(q$()),o=kq.parts().close(U$(t)),i=[n].concat(e.draggable?[r]:[]).concat([o]);return LT.sketch({dom:uH('<div class="tox-dialog__header"></div>'),components:i})},G$=function(e,t){return $$({title:t.shared.providers.translate(e),draggable:t.dialog.isDraggableModal()},t.shared.providers)},X$=function(e,t){return{onClose:function(){return t.closeWindow()},onBlock:function(t){kq.setBusy(e(),function(e,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":t.message()},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:n,components:[{dom:uH('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}})},onUnblock:function(){kq.setIdle(e())}}},K$=function(e,t,n,r){var i,a=function(e,t){return ve.some(t)};return Rs(H$(de(de({},e),{lazySink:r.shared.getSink,extraBehaviours:o([Vj.config({channel:k$,updateState:a,initialData:t}),xD.memory({})],e.extraBehaviours),onEscape:function(e){Ai(e,tE)},dialogEvents:n,eventOrder:(i={},i[si()]=["reflecting","receiving"],i[wi()]=["scroll-lock","reflecting","messages","dialog-events","alloy.base.behaviour"],i[xi()]=["alloy.base.behaviour","dialog-events","messages","reflecting","scroll-lock"],i)})))},Y$=function(e){var t=function(e){var t=Fe(e.items,function(e){var t=Lr(!1);return de(de({},e),{storage:t})});return de(de({},e),{items:t})};return Fe(e,function(e){return"menu"===e.type?t(e):e})},J$=function(e){return $e(e,function(e,t){if("menu"===t.type){return $e(t.items,function(e,t){return e[t.name]=t.storage,e},e)}return e},{})},Q$=function(e,t){return[qi(Ko(),DD),e(eE,function(e,n){t.onClose(),n.onClose()}),e(tE,function(e,t,n,r){t.onCancel(e),Ai(r,eE)}),zi(iE,function(e,n){return t.onUnblock()}),zi(oE,function(e,n){return t.onBlock(n.event())})]},Z$=function(e,t){var n=function(t,n){return zi(t,function(t,o){r(t,function(r,i){n(e(),r,o.event(),t)})})},r=function(e,t){Vj.getState(e).get().each(function(n){t(n,e)})};return o(Q$(n,t),[n(nE,function(e,t,n){t.onAction(e,{name:n.name()})})])},eG=function(e,t,n){var r=function(t,n){return zi(t,function(t,r){i(t,function(o,i){n(e(),o,r.event(),t)})})},i=function(e,t){Vj.getState(e).get().each(function(n){t(n.internalDialog,e)})};return o(Q$(r,t),[r(rE,function(e,t){return t.onSubmit(e)}),r(ZT,function(e,t,n){t.onChange(e,{name:n.name()})}),r(nE,function(e,t,r,o){var i=function(){return hy.focusIn(o)},a=function(e){return Ra(e,"disabled")||Ia(e,"aria-disabled").exists(function(e){return"true"===e})},u=lf();t.onAction(e,{name:r.name(),value:r.value()}),lf().fold(i,function(e){a(e)?i():u.exists(function(t){return Ao(e,t)&&a(t)})?i():n().toOption().filter(function(t){return!Ao(t.element(),e)}).each(i)})}),r(aE,function(e,t,n){t.onTabChange(e,{newTabName:n.name(),oldTabName:n.oldName()})}),Ki(function(t){var n=e();nh.setValue(t,n.getData())})])},tG={initUrlDialog:Z$,initDialog:eG},nG=function(e,t){return MM(e,e.type,t)},rG=function(e,t,n){return Xe(t,function(e){return e.name===n}).bind(function(t){return t.memento.getOpt(e)})},oG=function(e,t){var n=t.map(function(e){return e.footerButtons}).getOr([]),r=Ve(n,function(e){return"start"===e.align}),o=function(e,t){return LT.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+e]},components:Fe(t,function(e){return e.memento.asSpec()})})};return[o("start",r.pass),o("end",r.fail)]},iG=function(e,t){var n=function(e,n){var r=Fe(n.buttons,function(e){var n=Qw(nG(e,t));return{name:e.name,align:e.align,memento:n}}),o=function(e,t){return rG(e,r,t)};return ve.some({lookupByName:o,footerButtons:r})};return{dom:uH('<div class="tox-dialog__footer"></div>'),components:[],behaviours:$l([Vj.config({channel:O$,initialData:e,updateState:n,renderComponents:oG})])}},aG=function(e,t){return iG(e,t)},uG=function(e,t){return kq.parts().footer(iG(e,t))},sG=function(e,t){if(e.getRoot().getSystem().isConnected()){var n=Cg.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return YA.getField(n,t).fold(function(){var r=e.getFooter();return Vj.getState(r).get().bind(function(e){return e.lookupByName(n,t)})},function(e){return ve.some(e)})}return ve.none()},cG=function(e,t){var n=e.getRoot();return Vj.getState(n).get().map(function(e){return Yn(Kn("data",e.dataValidator,t))}).getOr(t)},lG=function(e,t,n){var r=function(t){var n=e.getRoot();n.getSystem().isConnected()&&t(n)},o=function(){var t=e.getRoot(),r=t.getSystem().isConnected()?e.getFormWrapper():t,o=nh.getValue(r),i=Tt(n,function(e){return e.get()});return de(de({},o),i)},i=function(t){r(function(r){var o=m.getData(),i=de(de({},o),t),a=cG(e,i),u=e.getFormWrapper();nh.setValue(u,a),kt(n,function(e,t){Pt(i,t)&&e.set(i[t])})})},a=function(t){sG(e,t).each(i_.disable)},u=function(t){sG(e,t).each(i_.enable)},s=function(t){sG(e,t).each(Ly.focus)},c=function(e){if(!xe(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r(function(t){Di(t,oE,{message:e})})},l=function(){r(function(e){Ai(e,iE)})},f=function(t){r(function(n){var r=e.getBody();Vj.getState(r).get().exists(function(e){return e.isTabPanel()})&&Cg.getCurrent(r).each(function(e){h$.showTab(e,t)})})},d=function(e){r(function(n){var r=t(e);n.getSystem().broadcastOn([k$],r),n.getSystem().broadcastOn([T$],r.internalDialog),n.getSystem().broadcastOn([E$],r.internalDialog),n.getSystem().broadcastOn([O$],r.internalDialog),m.setData(r.initialData)})},p=function(){r(function(e){Ai(e,eE)})},m={getData:o,setData:i,disable:a,enable:u,focus:s,block:c,unblock:l,showTab:f,redial:d,close:p};return m},fG=function(e,t,n){var r=G$(e.internalDialog.title,n),o=M$({body:e.internalDialog.body},n),i=Y$(e.internalDialog.buttons),a=J$(i),u=uG({buttons:i},n),s=tG.initDialog(function(){return p},X$(function(){return f},t),n.shared.getSink),c="normal"!==e.internalDialog.size?"large"===e.internalDialog.size?["tox-dialog--width-lg"]:["tox-dialog--width-md"]:[],l={header:r,body:o,footer:ve.some(u),extraClasses:c,extraBehaviours:[],extraStyles:{}},f=K$(l,e,s,n),d=function(){var e=function(){var e=kq.getBody(f);return Cg.getCurrent(e).getOr(e)};return{getRoot:function(){return f},getBody:function(){return kq.getBody(f)},getFooter:function(){return kq.getFooter(f)},getFormWrapper:e}}(),p=lG(d,t.redial,a);return{dialog:f,instanceApi:p}},dG=function(e,t,n,r){var o,i,a=qa("dialog-label"),u=qa("dialog-content"),s=function(e,t){return ve.some(t)},c=Qw(W$({title:e.internalDialog.title,draggable:!0},a,n.shared.providers)),l=Qw(D$({body:e.internalDialog.body},u,n,r)),f=Y$(e.internalDialog.buttons),d=J$(f),p=Qw(aG({buttons:f},n)),m=tG.initDialog(function(){return g},{onBlock:function(){},onUnblock:function(){},onClose:function(){return t.closeWindow()}},n.shared.getSink),h=Rs({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(o={role:"dialog"},o["aria-labelledby"]=a,o["aria-describedby"]=""+u,o)},eventOrder:(i={},i[si()]=[Vj.name(),nf.name()],i[ci()]=["execute-on-form"],i[wi()]=["reflecting","execute-on-form"],i),behaviours:$l([hy.config({mode:"cyclic",onEscape:function(e){return Ai(e,eE),ve.some(!0)},useTabstopAt:function(e){return!MD(e)&&("button"!==Qi(e)||"disabled"!==Ma(e,"disabled"))}}),Vj.config({channel:k$,updateState:s,initialData:e}),Ly.config({}),Ey("execute-on-form",m.concat([Gi(Ko(),function(e,t){hy.focusIn(e)})])),xD.memory({})]),components:[c.asSpec(),l.asSpec(),p.asSpec()]}),g=lG({getRoot:function(){return h},getFooter:function(){return p.get(h)},getBody:function(){return l.get(h)},getFormWrapper:function(){var e=l.get(h);return Cg.getCurrent(e).getOr(e)}},t.redial,d);return{dialog:h,instanceApi:g}},pG=tinymce.util.Tools.resolve("tinymce.util.URI"),mG=function(e){var t=function(t){e.getSystem().isConnected()&&t(e)};return{block:function(e){if(!xe(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");t(function(t){Di(t,oE,{message:e})})},unblock:function(){t(function(e){Ai(e,iE)})},close:function(){t(function(e){Ai(e,eE)})},sendMessage:function(e){t(function(t){t.getSystem().broadcastOn([N$],e)})}}},hG=["insertContent","setContent","execCommand","close","block","unblock"],gG=function(e){return Ce(e)&&-1!==hG.indexOf(e.mceAction)},vG=function(e){return!gG(e)&&Ce(e)&&Pt(e,"mceAction")},bG=function(e,t,n){switch(n.mceAction){case"insertContent":e.insertContent(n.content);break;case"setContent":e.setContent(n.content);break;case"execCommand":var r=!!Se(n.ui)&&n.ui;e.execCommand(n.cmd,r,n.value);break;case"close":t.close();break;case"block":t.block(n.message);break;case"unblock":t.unblock()}},yG=function(e,n,r,o){var i,a=G$(e.title,o),u=I$(e),s=e.buttons.bind(function(e){return 0===e.length?ve.none():ve.some(uG({buttons:e},o))}),c=tG.initUrlDialog(function(){return b},X$(function(){return v},n)),l=de(de({},e.height.fold(function(){return{}},function(e){return{height:e+"px","max-height":e+"px"}})),e.width.fold(function(){return{}},function(e){return{width:e+"px","max-width":e+"px"}})),f=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],d=new pG(e.url,{base_uri:new pG(t.window.location.href)}),p=d.protocol+"://"+d.host+(d.port?":"+d.port:""),m=Lr(ve.none()),h=[Ey("messages",[Xi(function(){var n=lT(Ur.fromDom(t.window),"message",function(t){if(d.isSameOrigin(new pG(t.raw().origin))){var n=t.raw().data;gG(n)?bG(r,b,n):vG(n)&&e.onMessage(b,n)}});m.set(ve.some(n))}),Ki(function(){m.get().each(function(e){return e.unbind()})})]),nf.config({channels:(i={},i[N$]={onReceive:function(e,t){Tc(e.element(),"iframe").each(function(e){e.dom().contentWindow.postMessage(t,p)})}},i)})],g={header:a,body:u,footer:s,extraClasses:f,extraBehaviours:h,extraStyles:l},v=K$(g,e,c,o),b=mG(v);return{dialog:v,instanceApi:b}},wG=function(e){var t=e.backstage.shared;return{open:function(n,r){var o=function(){kq.hide(s),r()},i=Qw(MM({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:ve.none()},"cancel",e.backstage)),a=j$(),u=L$(o,t.providers),s=Rs(H$({lazySink:function(){return t.getSink()},header:P$(a,u),body:B$(n,t.providers),footer:ve.some(z$(F$([],[i.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[zi(tE,o)],eventOrder:{}}));kq.show(s);var c=i.get(s);Ly.focus(c)}}},xG=function(e){var t=e.backstage.shared;return{open:function(n,r){var o=function(e){kq.hide(c),r(e)},i=Qw(MM({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:ve.none()},"submit",e.backstage)),a=MM({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:ve.none()},"cancel",e.backstage),u=j$(),s=L$(function(){return o(!1)},t.providers),c=Rs(H$({lazySink:function(){return t.getSink()},header:P$(u,s),body:B$(n,t.providers),footer:ve.some(z$(F$([],[a,i.asSpec()]))),onEscape:function(){return o(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[zi(tE,function(){return o(!1)}),zi(rE,function(){return o(!0)})],eventOrder:{}}));kq.show(c);var l=i.get(c);Ly.focus(l)}}},CG=function(e,t){return Yn(Kn("data",t,e))},_G=function(e){return pT(e,".tox-alert-dialog")||pT(e,".tox-confirm-dialog")},SG=function(e,t,n){return t&&n?[]:[wF.config({contextual:{lazyContext:function(){return ve.some(bc(Ur.fromDom(e.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},kG=function(e){var t=e.backstage,n=e.editor,r=R_(n),i=wG(e),a=xG(e),u=function(e,n,r){return void 0!==n&&"toolbar"===n.inline?f(e,t.shared.anchors.inlineDialog(),r,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?f(e,t.shared.anchors.cursor(),r,n.ariaAttrs):l(e,r)},s=function(e,t){return c(e,t)},c=function(e,r){var o=function(e){var o=yG(e,{closeWindow:function(){kq.hide(o.dialog),r(o.instanceApi)}},n,t);return kq.show(o.dialog),o.instanceApi};return QW.openUrl(o,e)},l=function(e,n){var r=function(e,r,o){var i=r,a={dataValidator:o,initialData:i,internalDialog:e},u=fG(a,{redial:QW.redial,closeWindow:function(){kq.hide(u.dialog),n(u.instanceApi)}},t);return kq.show(u.dialog),u.instanceApi.setData(i),u.instanceApi};return QW.open(r,e)},f=function(e,i,a,u){var s=function(e,s,c){var l=CG(s,c),f=FH(),d=t.shared.header.isPositionedAtTop(),p={dataValidator:c,initialData:l,internalDialog:e},m=function(){return f.on(function(e){jw.reposition(e),wF.refresh(e)})},h=dG(p,{redial:QW.redial,closeWindow:function(){f.on(jw.hide),n.off("ResizeEditor",m),f.clear(),a(h.instanceApi)}},t,u),g=Rs(jw.sketch(de(de({lazySink:t.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},d?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:$l(o([Ey("window-manager-inline-events",[zi(Ci(),function(e,t){Ai(h.dialog,tE)})])],SG(n,r,d))),isExtraPart:function(e,t){return _G(t)}})));return f.set(g),jw.showWithin(g,i,Ps(h.dialog),ve.some(as())),r&&d||(wF.refresh(g),n.on("ResizeEditor",m)),h.instanceApi.setData(l),hy.focusIn(h.dialog),h.instanceApi};return QW.open(s,e)},d=function(e,t){a.open(e,function(e){t(e)})};return{open:u,openUrl:s,alert:function(e,t){i.open(e,function(){t()})},close:function(e){e.close()},confirm:d}};!function(){fe.add("silver",function(e){var t=bq(e),n=t.uiMothership,r=t.backstage,o=t.renderUI,i=t.getUi;sT.register(e,r.shared);var a=kG({editor:e,backstage:r});return{renderUI:o,getWindowManagerImpl:ie(a),getNotificationManagerImpl:function(){return s(e,{backstage:r},n)},ui:i()}})}()}(window)}).call(t,n(2))},function(e,t,n){n(47)},function(e,t){!function(e){"use strict";var t=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},r.apply(this,arguments)},o=function(){},i=function(e){return function(){return e}},a=i(!1),u=i(!0),s=i("[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"),c=function(){return l},l=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:a,isSome:a,isNone:u,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:n,orThunk:t,map:c,each:o,bind:c,exists:a,forall:u,filter:c,equals:e,equals_:e,toArray:function(){return[]},toString:i("none()")}}(),f=function(e){var t=i(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:u,isNone:a,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return f(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:l},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(a,function(t){return n(e,t)})}};return o},d=function(e){return null===e||void 0===e?l:f(e)},p={some:f,none:c,from:d},m=s,h=tinymce.util.Tools.resolve("tinymce.util.Tools"),g=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},v=function(e){return function(t){return g(t)===e}},b=function(e){return function(t){return typeof t===e}},y=v("string"),w=v("array"),x=b("boolean"),C=b("function"),_=b("number"),S=Array.prototype.slice,k=Array.prototype.push,T=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},E=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},O=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n)}},N=function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var u=e[i],s=t(u);s!==n&&(r.push(o),o=[]),n=s,o.push(u)}return 0!==o.length&&r.push(o),r},A=function(e,t,n){return E(e,function(e){n=t(n,e)}),n},D=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!w(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);k.apply(t,e[n])}return t},M=function(e,t){return D(T(e,t))},I=function(e,t){var n=S.call(e,0);return n.sort(t),n},R=Object.hasOwnProperty,P=function(e,t){return R.call(e,t)},L=(void 0!==e.window?e.window:Function("return this;")(),function(e){return e.dom().nodeType}),j=function(e){return function(t){return L(t)===e}}(3),B=function(t,n,r){if(!(y(r)||x(r)||_(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")},z=function(e,t,n){B(e.dom(),t,n)},F=function(t,n){var r=n||e.document,o=r.createElement("div");if(o.innerHTML=t,!o.hasChildNodes()||o.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return V(o.childNodes[0])},H=function(t,n){var r=n||e.document,o=r.createElement(t);return V(o)},U=function(t,n){var r=n||e.document,o=r.createTextNode(t);return V(o)},V=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:i(e)}},q=function(e,t,n){var r=e.dom();return p.from(r.elementFromPoint(t,n)).map(V)},W={fromHtml:F,fromTag:H,fromText:U,fromDom:V,fromPoint:q},$=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},G=function(t,n){return $(t,n,e.Node.DOCUMENT_POSITION_PRECEDING)},X=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},K=function(t,n){var r=void 0===n?e.document:n.dom();return X(r)?[]:T(r.querySelectorAll(t),W.fromDom)},Y=function(e){return p.from(e.dom().parentNode).map(W.fromDom)},J=function(e){return T(e.dom().childNodes,W.fromDom)},Q=function(e,t){return{element:i(e),offset:i(t)}},Z=function(e,t){var n=J(e);return n.length>0&&t<n.length?Q(n[t],0):Q(e,t)},ee=function(e,t){Y(e).each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},te=function(e,t){e.dom().appendChild(t.dom())},ne=function(e,t){ee(e,t),te(t,e)},re=function(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?p.from(t.dom().nodeValue):p.none()};return{get:n,getOption:r,set:function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r}}}(j,"text"),oe=function(e){return re.get(e)},ie=(C(e.Element.prototype.attachShadow)&&C(e.Node.prototype.getRootNode),function(e,t){return K(t,e)}),ae=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ue=function(e,t){return e.isBlock(t)||P(e.schema.getShortEndedElements(),t.nodeName)},se=function(e,t){return"false"===e.getContentEditable(t)},ce=function(e,t){return"true"===e.getContentEditable(t)&&"false"===e.getContentEditableParent(t.parentNode)},le=function(e,t){return!e.isBlock(t)&&P(e.schema.getWhiteSpaceElements(),t.nodeName)},fe=function(e,t){return ue(e,t)||se(e,t)||le(e,t)||ce(e,t)},de=function(e){return 3===e.nodeType},pe=function(){return{sOffset:0,fOffset:0,elements:[]}},me=function(e,t){return Z(W.fromDom(e),t)},he=function(e,t,n,r,o,i){void 0===i&&(i=!0);for(var a=i?t(!1):n;a;){var u=se(e,a);if(u||le(e,a)){if(u?r.cef(a):r.boundary(a))break;a=t(!0)}else{if(ue(e,a)){if(r.boundary(a))break}else de(a)&&r.text(a);if(a===o)break;a=t(!1)}}},ge=function(e,t,n,r,o){if(!fe(e,n)){var i=e.getParent(r,e.isBlock),a=new ae(n,i),s=o?a.next:a.prev;he(e,s,n,{boundary:u,cef:u,text:function(e){o?t.fOffset+=e.length:t.sOffset+=e.length,t.elements.push(W.fromDom(e))}})}},ve=function(e,t,n,r,o,i){void 0===i&&(i=!0);var a=new ae(n,t),u=[],s=pe();ge(e,s,n,t,!1);var c=function(){return s.elements.length>0&&(u.push(s),s=pe()),!1};return he(e,a.next,n,{boundary:c,cef:function(e){return c(),o&&u.push.apply(u,o.cef(e)),!1},text:function(e){s.elements.push(W.fromDom(e)),o&&o.text(e,s)}},r,i),r&&ge(e,s,r,t,!0),c(),u},be=function(e,t){var n=me(t.startContainer,t.startOffset),r=n.element().dom(),o=me(t.endContainer,t.endOffset),i=o.element().dom();return ve(e,t.commonAncestorContainer,r,i,{text:function(e,t){e===i?t.fOffset+=e.length-o.offset():e===r&&(t.sOffset+=n.offset())},cef:function(t){var n=M(ie(W.fromDom(t),"*[contenteditable=true]"),function(t){var n=t.dom();return ve(e,n,n)});return I(n,function(e,t){return G(e.elements[0].dom(),t.elements[0].dom())?1:-1})}},!1)},ye=function(e,t){return t.collapsed?[]:be(e,t)},we=function(e,t){var n=e.createRng();return n.selectNode(t),ye(e,n)},xe=function(e,t){return M(t,function(t){return we(e,t)})},Ce=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=e.length);var o=t.regex;o.lastIndex=n;for(var i,a=[];i=o.exec(e);){var u=i[t.matchIndex],s=i.index+i[0].indexOf(u),c=s+u.length;if(c>r)break;a.push({start:s,finish:c}),o.lastIndex=c}return a},_e=function(e,t){var n=A(e,function(e,n){var r=oe(n),o=e.last,i=o+r.length,a=M(t,function(e,t){return e.start<i&&e.finish>o?[{element:n,start:Math.max(o,e.start)-o,finish:Math.min(i,e.finish)-o,matchId:t}]:[]});return{results:e.results.concat(a),last:i}},{results:[],last:0}).results;return N(n,function(e){return e.matchId})},Se=function(e,t){return M(t,function(t){var n=t.elements,r=T(n,oe).join(""),o=Ce(r,e,t.sOffset,r.length-t.fOffset);return _e(n,o)})},ke=function(e,t){O(e,function(e,n){O(e,function(e){var r=W.fromDom(t.cloneNode(!1));z(r,"data-mce-index",n);var o=e.element.dom();if(o.length===e.finish&&0===e.start)ne(e.element,r);else{o.length!==e.finish&&o.splitText(e.finish);var i=o.splitText(e.start);ne(W.fromDom(i),r)}})})},Te=function(e,t,n,r){var o=we(e,n),i=Se(t,o);return ke(i,r),i.length},Ee=function(e,t,n,r){var o=n.getBookmark(),i=e.select("td[data-mce-selected],th[data-mce-selected]"),a=i.length>0?xe(e,i):ye(e,n.getRng()),u=Se(t,a);return ke(u,r),n.moveToBookmark(o),u.length},Oe=function(e){var t=e.getAttribute("data-mce-index");return"number"==typeof t?""+t:t},Ne=function(e,t,n,r){var o=e.dom.create("span",{"data-mce-bogus":1});o.className="mce-match-marker";var i=e.getBody();return Fe(e,t,!1),r?Ee(e.dom,n,e.selection,o):Te(e.dom,n,i,o)},Ae=function(e){var t=e.parentNode;e.firstChild&&t.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)},De=function(e,t){var n=[],r=h.toArray(e.getBody().getElementsByTagName("span"));if(r.length)for(var o=0;o<r.length;o++){var i=Oe(r[o]);null!==i&&i.length&&(i===t.toString()&&n.push(r[o]))}return n},Me=function(e,t,n){var r=t.get(),o=r.index,i=e.dom;n=!1!==n,n?o+1===r.count?o=0:o++:o-1==-1?o=r.count-1:o--,i.removeClass(De(e,r.index),"mce-match-marker-selected");var a=De(e,o);return a.length?(i.addClass(De(e,o),"mce-match-marker-selected"),e.selection.scrollIntoView(a[0]),o):-1},Ie=function(e,t){var n=t.parentNode;e.remove(t),e.isEmpty(n)&&e.remove(n)},Re=function(e,t){var n=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]"),r="("+n+")";return t?"(?:^|\\s|"+m()+")"+r+"(?=$|\\s|"+m()+")":r},Pe=function(e,t,n,r,o,i){var a=Re(n,o),u={regex:new RegExp(a,r?"g":"gi"),matchIndex:1},s=Ne(e,t,u,i);if(s){var c=Me(e,t,!0);t.set({index:c,count:s,text:n,matchCase:r,wholeWord:o,inSelection:i})}return s},Le=function(e,t){var n=Me(e,t,!0);t.set(r(r({},t.get()),{index:n}))},je=function(e,t){var n=Me(e,t,!1);t.set(r(r({},t.get()),{index:n}))},Be=function(e){var t=Oe(e);return null!==t&&t.length>0},ze=function(e,t,n,o,i){var a,u=t.get(),s=u.index,c=s;o=!1!==o;for(var l=e.getBody(),f=h.grep(h.toArray(l.getElementsByTagName("span")),Be),d=0;d<f.length;d++){var p=Oe(f[d]),m=a=parseInt(p,10);if(i||m===u.index){for(n.length?(f[d].firstChild.nodeValue=n,Ae(f[d])):Ie(e.dom,f[d]);f[++d];){if((m=parseInt(Oe(f[d]),10))!==a){d--;break}Ie(e.dom,f[d])}o&&c--}else a>s&&f[d].setAttribute("data-mce-index",String(a-1))}return t.set(r(r({},u),{count:i?0:u.count-1,index:c})),o?Le(e,t):je(e,t),!i&&t.get().count>0},Fe=function(e,t,n){var o,i,a,u=t.get(),s=h.toArray(e.getBody().getElementsByTagName("span"));for(o=0;o<s.length;o++){var c=Oe(s[o]);null!==c&&c.length&&(c===u.index.toString()&&(i||(i=s[o].firstChild),a=s[o].firstChild),Ae(s[o]))}if(t.set(r(r({},u),{index:-1,count:0,text:""})),i&&a){var l=e.dom.createRng();return l.setStart(i,0),l.setEnd(a,a.data.length),!1!==n&&e.selection.setRng(l),l}},He=function(e,t){return t.get().count>1},Ue=function(e,t){return t.get().count>1},Ve=function(e,t){return{done:function(n){return Fe(e,t,n)},find:function(n,r,o,i){return void 0===i&&(i=!1),Pe(e,t,n,r,o,i)},next:function(){return Le(e,t)},prev:function(){return je(e,t)},replace:function(n,r,o){return ze(e,t,n,r,o)}}},qe=function(){var e=t(p.none()),n=function(){e.set(p.none())},r=function(t){e.set(p.some(t))},o=function(t){e.get().each(t)};return{clear:n,set:r,isSet:function(){return e.get().isSome()},on:o}},We=tinymce.util.Tools.resolve("tinymce.Env"),$e=function(e,t){function n(n){(He(e,t)?n.enable:n.disable)("next"),(Ue(e,t)?n.enable:n.disable)("prev")}function o(t){e.windowManager.alert("Could not find the specified string.",function(){t.focus("findtext")})}var i=qe();e.undoManager.add();var a=h.trim(e.selection.getContent({format:"text"})),u=function(e){var n=e.getData(),o=t.get();t.set(r(r({},o),{matchCase:n.matchcase,wholeWord:n.wholewords,inSelection:n.inselection}))},s=function(e,t){var n=["replace","replaceall","prev","next"],r=t?e.disable:e.enable;E(n,r)},c=function(e,t){We.browser.isSafari()&&We.deviceType.isTouch()&&("find"===t||"replace"===t||"replaceall"===t)&&e.focus(t)},l=function(r){Fe(e,t,!1),s(r,!0),n(r)},f=function(r){var i=r.getData(),a=t.get();if(!i.findtext.length)return void l(r);if(a.text===i.findtext&&a.matchCase===i.matchcase&&a.wholeWord===i.wholewords)Le(e,t);else{var u=Pe(e,t,i.findtext,i.matchcase,i.wholewords,i.inselection);u<=0&&o(r),s(r,0===u)}n(r)},d=t.get(),p={findtext:a,replacetext:"",wholewords:d.wholeWord,matchcase:d.matchCase,inselection:d.inSelection},m={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace All",disabled:!0}],initialData:p,onChange:function(e,n){"findtext"===n.name&&t.get().count>0&&l(e)},onAction:function(r,o){var i=r.getData();switch(o.name){case"find":f(r);break;case"replace":ze(e,t,i.replacetext)?n(r):l(r);break;case"replaceall":ze(e,t,i.replacetext,!0,!0),l(r);break;case"prev":je(e,t),n(r);break;case"next":Le(e,t),n(r);break;case"matchcase":case"wholewords":case"inselection":u(r),l(r)}c(r,o.name)},onSubmit:function(e){f(e),c(e,"find")},onClose:function(){e.focus(),Fe(e,t),e.undoManager.add()}};i.set(e.windowManager.open(m,{inline:"toolbar"}))},Ge=function(e,t){e.addCommand("SearchReplace",function(){$e(e,t)})},Xe=function(e,t){return function(){$e(e,t)}},Ke=function(e,t){e.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:Xe(e,t),icon:"search"}),e.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:Xe(e,t),icon:"search"}),e.shortcuts.add("Meta+F","",Xe(e,t))};!function(){n.add("searchreplace",function(e){var n=t({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return Ge(e,n),Ke(e,n),Ve(e,n)})}()}(window)},function(e,t,n){n(49)},function(e,t){!function(e){"use strict";function t(e,t){return ve.each(t,function(t){e=t.constructor===RegExp?e.replace(t,""):e.replace(t[0],t[1])}),e}function n(e){function n(e){var t=e.name,r=e;if("br"===t)return void(i+="\n");if("wbr"!==t){if(a[t]&&(i+=" "),u[t])return void(i+=" ");if(3===e.type&&(i+=e.value),!e.shortEnded&&(e=e.firstChild))do{n(e)}while(e=e.next);s[t]&&r.next&&(i+="\n","p"===t&&(i+="\n"))}}var r=Oe(),o=Se({},r),i="",a=r.getShortEndedElements(),u=ve.makeMap("script noscript style textarea video audio iframe object"," "),s=r.getBlockElements();return e=t(e,[/<!\[[^\]]+\]>/g]),n(o.parse(e)),i}function r(e){function n(e,t,n){return t||n?Te:" "}return e=t(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,n],/<br class="Apple-interchange-newline">/g,/<br>$/i])}function o(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)}function i(e){var t,n=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return e=e.replace(/^[\u00a0 ]+/,""),ve.each(n,function(n){if(n.test(e))return t=!0,!1}),t}function a(e){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(e)}function u(e){function t(e){var n="";if(3===e.type)return e.value;if(e=e.firstChild)do{n+=t(e)}while(e=e.next);return n}function n(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do{if(!n(e,t))return!1}while(e=e.next);return!0}function r(e){if(e._listIgnore)return void e.remove();if(e=e.firstChild)do{r(e)}while(e=e.next)}function o(e,t,o){var i=e._listLevel||c;i!==c&&(i<c?u&&(u=u.parent.parent):(s=u,u=null)),u&&u.name===t?u.append(e):(s=s||u,u=new Ee(t,1),o>1&&u.attr("start",""+o),e.wrap(u)),e.name="li",i>c&&s&&s.lastChild.append(u),c=i,r(e),n(e,/^\u00a0+/),n(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),n(e,/^\u00a0+/)}for(var u,s,c=1,l=[],f=e.firstChild;void 0!==f&&null!==f;)if(l.push(f),null!==(f=f.walk()))for(;void 0!==f&&f.parent!==e;)f=f.walk();for(var d=0;d<l.length;d++)if(e=l[d],"p"===e.name&&e.firstChild){var p=t(e);if(a(p)){o(e,"ul");continue}if(i(p)){var m=/([0-9]+)\./.exec(p),h=1;m&&(h=parseInt(m[1],10)),o(e,"ol",h);continue}if(e._listLevel){o(e,"ul",1);continue}u=null}else s=u,u=null}function s(e,t,n,r){var o,i={},a=e.dom.parseStyle(r);return ve.each(a,function(a,u){switch(u){case"mso-list":o=/\w+ \w+([0-9]+)/i.exec(r),o&&(n._listLevel=parseInt(o[1],10)),/Ignore/i.test(a)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":u="text-align";break;case"vert-align":u="vertical-align";break;case"font-color":case"mso-foreground":u="color";break;case"mso-background":case"mso-highlight":u="background";break;case"font-weight":case"font-style":return void("normal"!==a&&(i[u]=a));case"mso-element":if(/^(comment|comment-list)$/i.test(a))return void n.remove()}if(0===u.indexOf("mso-comment"))return void n.remove();0!==u.indexOf("mso-")&&("all"===te(e)||t&&t[u])&&(i[u]=a)}),/(bold)/i.test(i["font-weight"])&&(delete i["font-weight"],n.wrap(new Ee("b",1))),/(italic)/i.test(i["font-style"])&&(delete i["font-style"],n.wrap(new Ee("i",1))),(i=e.dom.serializeStyle(i,n.name))||null}function c(e,t){e.on("PastePreProcess",function(n){n.content=t(e,n.content,n.internal,n.wordContent)})}function l(e,t){e.on("PastePostProcess",function(n){t(e,n.node)})}function f(e,n){if(!o(n))return n;var r=[];return ve.each(e.schema.getBlockElements(),function(e,t){r.push(t)}),n=t(n,[[new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+r.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g"),"$1"]]),n=t(n,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function d(e,t,n,r){if(r||n)return t;var o,i=Y(e);if(!1===J(e)||"all"===i)return t;if(i&&(o=i.split(/[, ]/)),o){var a=e.dom,u=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(e,t,n,r){var i=a.parseStyle(a.decode(n)),s={};if("none"===o)return t+r;for(var c=0;c<o.length;c++){var l=i[o[c]],f=a.getStyle(u,o[c],!0);/color/.test(o[c])&&(l=a.toHex(l),f=a.toHex(f)),f!==l&&(s[o[c]]=l)}return s=a.serializeStyle(s,"span"),s?t+' style="'+s+'"'+r:t+r})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(e,t,n,r){return t+' style="'+n+'"'+r})}function p(e,t){e.$("a",t).find("font,u").each(function(t,n){e.dom.remove(n,!0)})}var m=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},h=tinymce.util.Tools.resolve("tinymce.PluginManager"),g=function(t){return!(!/(^|[ ,])powerpaste([, ]|$)/.test(t.getParam("plugins"))||!h.get("powerpaste"))&&(void 0!==e.window.console&&e.window.console.log&&e.window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0)},v=function(e,t){return{clipboard:e,quirks:t}},b=function(e,t,n,r){return e.fire("PastePreProcess",{content:t,internal:n,wordContent:r})},y=function(e,t,n,r){return e.fire("PastePostProcess",{node:t,internal:n,wordContent:r})},w=function(e,t){return e.fire("PastePlainTextToggle",{state:t})},x=function(e,t){return e.fire("paste",{ieFake:t})},C=function(e,t){"text"===t.pasteFormat.get()?(t.pasteFormat.set("html"),w(e,!1)):(t.pasteFormat.set("text"),w(e,!0)),e.focus()},_=function(e,t){e.addCommand("mceTogglePlainTextPaste",function(){C(e,t)}),e.addCommand("mceInsertClipboardContent",function(e,n){n.content&&t.pasteHtml(n.content,n.internal),n.text&&t.pasteText(n.text)})},S=function(){},k=function(e){return function(){return e}},T=k(!1),E=k(!0),O=function(){return N},N=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:T,isSome:T,isNone:E,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:k(null),getOrUndefined:k(void 0),or:n,orThunk:t,map:O,each:S,bind:O,exists:T,forall:E,filter:O,equals:e,equals_:e,toArray:function(){return[]},toString:k("none()")}}(),A=function(e){var t=k(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:E,isNone:T,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return A(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:N},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(T,function(t){return n(e,t)})}};return o},D=function(e){return null===e||void 0===e?N:A(e)},M={some:A,none:O,from:D},I=function(e){return function(t){return typeof t===e}}("function"),R=Array.prototype.slice,P=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},L=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},j=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},B=function(e,t,n){return L(e,function(e){n=t(n,e)}),n},z=I(Array.from)?Array.from:function(e){return R.call(e)},F=function(){var e=m(M.none()),t=function(){e.set(M.none())},n=function(t){e.set(M.some(t))},r=function(t){e.get().each(t)};return{clear:t,set:n,isSet:function(){return e.get().isSome()},on:r}},H=tinymce.util.Tools.resolve("tinymce.Env"),U=tinymce.util.Tools.resolve("tinymce.util.Delay"),V=tinymce.util.Tools.resolve("tinymce.util.Promise"),q=tinymce.util.Tools.resolve("tinymce.util.VK"),W=function(e){return e.getParam("paste_block_drop",!1)},$=function(e){return e.getParam("paste_data_images",!1)},G=function(e){return e.getParam("paste_filter_drop",!0)},X=function(e){return e.getParam("paste_preprocess")},K=function(e){return e.getParam("paste_postprocess")},Y=function(e){return e.getParam("paste_webkit_styles")},J=function(e){return e.getParam("paste_remove_styles_if_webkit",!0)},Q=function(e){return e.getParam("paste_merge_formats",!0)},Z=function(e){return e.getParam("smart_paste",!0)},ee=function(e){return e.getParam("paste_as_text",!1)},te=function(e){return e.getParam("paste_retain_style_properties")},ne=function(e){return e.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")},re=function(e){return e.getParam("paste_convert_word_fake_lists",!0)},oe=function(e){return e.getParam("paste_enable_default_filters",!0)},ie=function(e){return e.getParam("validate")},ae=function(e){return e.getParam("allow_html_data_urls",!1,"boolean")},ue=function(e){return e.getParam("paste_data_images",!1,"boolean")},se=function(e){return e.getParam("images_dataimg_filter")},ce=function(e){return e.getParam("images_reuse_filename")},le=function(e){return e.getParam("forced_root_block")},fe=function(e){return e.getParam("forced_root_block_attrs")},de=function(e){return e.getParam("paste_tab_spaces",4,"number")},pe="\x3c!-- x-tinymce/html --\x3e",me=function(e){return pe+e},he=function(e){return e.replace(pe,"")},ge=function(e){return-1!==e.indexOf(pe)},ve=tinymce.util.Tools.resolve("tinymce.util.Tools"),be=tinymce.util.Tools.resolve("tinymce.html.Entities"),ye=function(e){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e)},we=function(e){return e.replace(/\r?\n/g,"<br>")},xe=function(e,t){var n,r=[],o="<"+e;if("object"==typeof t){for(n in t)t.hasOwnProperty(n)&&r.push(n+'="'+be.encodeAllRaw(t[n])+'"');r.length&&(o+=" "+r.join(" "))}return o+">"},Ce=function(e,t,n){var r=e.split(/\n\n/),o=xe(t,n),i="</"+t+">",a=ve.map(r,function(e){return e.split(/\n/).join("<br />")}),u=function(e){return o+e+i};return 1===a.length?a[0]:ve.map(a,u).join("")},_e=function(e,t,n){return t?Ce(e,!0===t?"p":t,n):we(e)},Se=tinymce.util.Tools.resolve("tinymce.html.DomParser"),ke=tinymce.util.Tools.resolve("tinymce.html.Serializer"),Te=" ",Ee=tinymce.util.Tools.resolve("tinymce.html.Node"),Oe=tinymce.util.Tools.resolve("tinymce.html.Schema"),Ne=function(e,n){var r,o=te(e);o&&(r=ve.makeMap(o.split(/[, ]/))),n=t(n,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,Te],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join(Te):""}]]);var i=ne(e),a=Oe({valid_elements:i,valid_children:"-li[p]"});ve.each(a.elements,function(e){e.attributes.class||(e.attributes.class={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))});var c=Se({},a);c.addAttributeFilter("style",function(t){for(var n,o=t.length;o--;)n=t[o],n.attr("style",s(e,r,n,n.attr("style"))),"span"===n.name&&n.parent&&!n.attributes.length&&n.unwrap()}),c.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)t=e[r],n=t.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)}),c.addNodeFilter("del",function(e){for(var t=e.length;t--;)e[t].remove()}),c.addNodeFilter("a",function(e){for(var t,n,r,o=e.length;o--;)if(t=e[o],n=t.attr("href"),r=t.attr("name"),n&&-1!==n.indexOf("#_msocom_"))t.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1])&&(n="#"+n),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){t.unwrap();continue}t.attr({href:n,name:r})}else t.unwrap()});var l=c.parse(n);return re(e)&&u(l),n=ke({validate:ie(e)},a).serialize(l)},Ae=function(e,t){return oe(e)?Ne(e,t):t},De=function(e,t){var n=Se({},e.schema);n.addNodeFilter("meta",function(e){ve.each(e,function(e){return e.remove()})});var r=n.parse(t,{forced_root_block:!1,isRootContent:!0});return ke({validate:ie(e)},e.schema).serialize(r)},Me=function(e,t){return{content:e,cancelled:t}},Ie=function(e,t,n,r){var o=e.dom.create("div",{style:"display:none"},t),i=y(e,o,n,r);return Me(i.node.innerHTML,i.isDefaultPrevented())},Re=function(e,t,n,r){var o=b(e,t,n,r),i=De(e,o.content);return e.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?Ie(e,i,n,r):Me(i,o.isDefaultPrevented())},Pe=function(e,t,n){var r=o(t),i=r?Ae(e,t):t;return Re(e,i,n,r)},Le=function(e,t){return e.insertContent(t,{merge:Q(e),paste:!0}),!0},je=function(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)},Be=function(e){return je(e)&&/.(gif|jpe?g|png)$/.test(e)},ze=function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.insertContent('<img src="'+t+'">')}),!0},Fe=function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.execCommand("mceInsertLink",!1,t)}),!0},He=function(e,t,n){return!(!1!==e.selection.isCollapsed()||!je(t))&&Fe(e,t,n)},Ue=function(e,t,n){return!!Be(t)&&ze(e,t,n)},Ve=function(e,t){ve.each([He,Ue,Le],function(n){return!0!==n(e,t,Le)})},qe=function(e,t,n){n||!1===Z(e)?Le(e,t):Ve(e,t)},We=function(e,t){return t<=0?"":new Array(t+1).join(e)},$e=function(e){return-1!==" \f\t\v".indexOf(e)},Ge=function(e){return"\n"===e||"\r"===e},Xe=function(e,t){return t<e.length&&t>=0&&Ge(e[t])},Ke=function(e,t){var n=We(" ",de(e)),r=t.replace(/\t/g,n);return B(r,function(e,t){return $e(t)||t===Te?e.pcIsSpace||""===e.str||e.str.length===r.length-1||Xe(r,e.str.length+1)?{pcIsSpace:!1,str:e.str+Te}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:Ge(t),str:e.str+t}},{pcIsSpace:!1,str:""}).str},Ye=function(e,t,n,r){var o=Pe(e,t,n);!1===o.cancelled&&qe(e,o.content,r)},Je=function(e,t,n){var r=n||ge(t);Ye(e,he(t),r,!1)},Qe=function(e,t){var n=e.dom.encode(t).replace(/\r\n/g,"\n"),r=Ke(e,n),o=_e(r,le(e),fe(e));Ye(e,o,!1,!0)},Ze=function(e){var t={};if(e){if(e.getData){var n=e.getData("Text");n&&n.length>0&&-1===n.indexOf("data:text/mce-internal,")&&(t["text/plain"]=n)}if(e.types)for(var r=0;r<e.types.length;r++){var o=e.types[r];try{t[o]=e.getData(o)}catch(e){t[o]=""}}}return t},et=function(e,t){return Ze(t.clipboardData||e.getDoc().dataTransfer)},tt=function(e,t){return t in e&&e[t].length>0},nt=function(e){return tt(e,"text/html")||tt(e,"text/plain")},rt=function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(e);return t?{type:t[1],data:decodeURIComponent(t[2])}:{type:null,data:null}},ot=function(e,t){var n=se(e);return!n||n(t)},it=function(e,t){var n=t.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i);return n?e.dom.encode(n[1]):null},at=function(e){var t=0;return function(){return e+t++}}("mceclip"),ut=function(t,n){var r=rt(n.uri),o=r.data,i=r.type,a=at(),u=ce(t)&&n.blob.name?it(t,n.blob.name):a,s=new e.Image;if(s.src=n.uri,ot(t,s)){var c=t.editorUpload.blobCache,l=void 0,f=c.getByData(o,i);f?l=f:(l=c.create(a,n.blob,o,u),c.add(l)),Je(t,'<img src="'+l.blobUri()+'">',!1)}else Je(t,'<img src="'+n.uri+'">',!1)},st=function(e){return"paste"===e.type},ct=function(e){return V.all(P(e,function(e){return new V(function(t){var n=e.getAsFile?e.getAsFile():e,r=new window.FileReader;r.onload=function(){t({blob:n,uri:r.result})},r.readAsDataURL(n)})}))},lt=function(e){var t=e.items?P(z(e.items),function(e){return e.getAsFile()}):[],n=e.files?z(e.files):[];return j(t.length>0?t:n,function(e){return/^image\/(jpeg|png|gif|bmp)$/.test(e.type)})},ft=function(e,t,n){var r=st(t)?t.clipboardData:t.dataTransfer;if(ue(e)&&r){var o=lt(r);if(o.length>0)return t.preventDefault(),ct(o).then(function(t){n&&e.selection.setRng(n),L(t,function(t){ut(e,t)})}),!0}return!1},dt=function(t){var n=t.clipboardData;return-1!==e.navigator.userAgent.indexOf("Android")&&n&&n.items&&0===n.items.length},pt=function(e){return q.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode},mt=function(t,o,i){function a(e,i,a,u){var s;tt(e,"text/html")?s=e["text/html"]:(s=o.getHtml(),u=u||ge(s),o.isDefaultContent(s)&&(a=!0)),s=r(s),o.remove();var c=!1===u&&ye(s),l=Be(s);if((!s.length||c&&!l)&&(a=!0),(a||l)&&(s=tt(e,"text/plain")&&c?e["text/plain"]:n(s)),o.isDefaultContent(s))return void(i||t.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."));a?Qe(t,s):Je(t,s,u)}var u,s=F();t.on("keydown",function(n){function r(e){pt(e)&&!e.isDefaultPrevented()&&o.remove()}if(pt(n)&&!n.isDefaultPrevented()){if((u=n.shiftKey&&86===n.keyCode)&&H.webkit&&-1!==e.navigator.userAgent.indexOf("Version/"))return;if(n.stopImmediatePropagation(),s.set(n),window.setTimeout(function(){s.clear()},100),H.ie&&u)return n.preventDefault(),void x(t,!0);o.remove(),o.create(),t.once("keyup",r),t.once("paste",function(){t.off("keyup",r)})}});var c=function(){return o.getLastRng()||t.selection.getRng()};t.on("paste",function(e){var n=s.isSet(),r=et(t,e),l="text"===i.get()||u,f=tt(r,"x-tinymce/html");return u=!1,e.isDefaultPrevented()||dt(e)?void o.remove():!nt(r)&&ft(t,e,c())?void o.remove():(n||e.preventDefault(),!H.ie||n&&!e.ieFake||tt(r,"text/html")||(o.create(),t.dom.bind(o.getEl(),"paste",function(e){e.stopPropagation()}),t.getDoc().execCommand("Paste",!1,null),r["text/html"]=o.getHtml()),void(tt(r,"text/html")?(e.preventDefault(),f||(f=ge(r["text/html"])),a(r,n,l,f)):U.setEditorTimeout(t,function(){a(r,n,l,f)},0)))})},ht=function(e,t,n){mt(e,t,n);var r;e.parser.addNodeFilter("img",function(t,n,o){var i=function(e){e.attr("data-mce-object")||r===H.transparentSrc||e.remove()};if(!ue(e)&&function(e){return e.data&&!0===e.data.paste}(o))for(var a=t.length;a--;)(r=t[a].attr("src"))&&(!function(e){return 0===e.indexOf("webkit-fake-url")}(r)?!ae(e)&&function(e){return 0===e.indexOf("data:")}(r)&&i(t[a]):i(t[a]))})},gt=function(t){return H.ie&&t.inline?e.document.body:t.getBody()},vt=function(e){return gt(e)!==e.getBody()},bt=function(e,t,n){vt(e)&&e.dom.bind(t,"paste keyup",function(t){Tt(e,n)||e.fire("paste")})},yt=function(e,t,n){var r=e.dom,o=e.getBody();t.set(e.selection.getRng());var i=e.dom.add(gt(e),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n);(H.ie||H.gecko)&&r.setStyle(i,"left","rtl"===r.getStyle(o,"direction",!0)?65535:-65535),r.bind(i,"beforedeactivate focusin focusout",function(e){e.stopPropagation()}),bt(e,i,n),i.focus(),e.selection.select(i,!0)},wt=function(e,t){if(xt(e)){for(var n=void 0,r=t.get();n=e.dom.get("mcepastebin");)e.dom.remove(n),e.dom.unbind(n);r&&e.selection.setRng(r)}t.set(null)},xt=function(e){return e.dom.get("mcepastebin")},Ct=function(e){var t=function(t,n){t.appendChild(n),e.dom.remove(n,!0)},n=ve.grep(gt(e).childNodes,function(e){return"mcepastebin"===e.id}),r=n.shift();ve.each(n,function(e){t(r,e)});for(var o=e.dom.select("div[id=mcepastebin]",r),i=o.length-1;i>=0;i--){var a=e.dom.create("div");r.insertBefore(a,o[i]),t(a,o[i])}return r?r.innerHTML:""},_t=function(e){return e.get()},St=function(e,t){return t===e},kt=function(e){return e&&"mcepastebin"===e.id},Tt=function(e,t){var n=xt(e);return kt(n)&&St(t,n.innerHTML)},Et=function(e){var t=m(null);return{create:function(){return yt(e,t,"%MCEPASTEBIN%")},remove:function(){return wt(e,t)},getEl:function(){return xt(e)},getHtml:function(){return Ct(e)},getLastRng:function(){return _t(t)},isDefault:function(){return Tt(e,"%MCEPASTEBIN%")},isDefaultContent:function(e){return St("%MCEPASTEBIN%",e)}}},Ot=function(e,t){var n=Et(e);return e.on("PreInit",function(){return ht(e,n,t)}),{pasteFormat:t,pasteHtml:function(t,n){return Je(e,t,n)},pasteText:function(t){return Qe(e,t)},pasteImageData:function(t,n){return ft(e,t,n)},getDataTransferItems:Ze,hasHtmlOrText:nt,hasContentType:tt}},Nt=function(e){return!1===H.iOS&&"function"==typeof(null===e||void 0===e?void 0:e.setData)},At=function(e,t,n){if(!Nt(e))return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData("x-tinymce/html",t),!0}catch(e){return!1}},Dt=function(e,t,n,r){At(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},Mt=function(e){return function(t,n){var r=me(t),o=e.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),i=e.dom.create("div",{contenteditable:"true"},r);e.dom.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),o.appendChild(i),e.dom.add(e.getBody(),o);var a=e.selection.getRng();i.focus();var u=e.dom.createRng();u.selectNodeContents(i),e.selection.setRng(u),U.setTimeout(function(){e.selection.setRng(a),o.parentNode.removeChild(o),n()},0)}},It=function(e){return{html:e.selection.getContent({contextual:!0}),text:e.selection.getContent({format:"text"})}},Rt=function(e){return!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody())},Pt=function(e){return!e.selection.isCollapsed()||Rt(e)},Lt=function(e){return function(t){Pt(e)&&Dt(t,It(e),Mt(e),function(){if(H.browser.isChrome()){var t=e.selection.getRng();U.setEditorTimeout(e,function(){e.selection.setRng(t),e.execCommand("Delete")},0)}else e.execCommand("Delete")})}},jt=function(e){return function(t){Pt(e)&&Dt(t,It(e),Mt(e),function(){})}},Bt=function(e){e.on("cut",Lt(e)),e.on("copy",jt(e))},zt=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Ft=function(e,t){return zt.getCaretRangeFromPoint(t.clientX,t.clientY,e.getDoc())},Ht=function(e){var t=e["text/plain"];return!!t&&0===t.indexOf("file://")},Ut=function(e,t){e.focus(),e.selection.setRng(t)},Vt=function(e,t,n){W(e)&&e.on("dragend dragover draggesture dragdrop drop drag",function(e){e.preventDefault(),e.stopPropagation()}),$(e)||e.on("drop",function(e){var t=e.dataTransfer;t&&t.files&&t.files.length>0&&e.preventDefault()}),e.on("drop",function(o){var i=Ft(e,o);if(!o.isDefaultPrevented()&&!n.get()){var a=t.getDataTransferItems(o.dataTransfer),u=t.hasContentType(a,"x-tinymce/html");if((t.hasHtmlOrText(a)&&!Ht(a)||!t.pasteImageData(o,i))&&i&&G(e)){var s=a["mce-internal"]||a["text/html"]||a["text/plain"];s&&(o.preventDefault(),U.setEditorTimeout(e,function(){e.undoManager.transact(function(){a["mce-internal"]&&e.execCommand("Delete"),Ut(e,i),s=r(s),a["text/html"]?t.pasteHtml(s,u):t.pasteText(s)})}))}}}),e.on("dragstart",function(e){n.set(!0)}),e.on("dragover dragend",function(t){$(e)&&!1===n.get()&&(t.preventDefault(),Ut(e,Ft(e,t))),"dragend"===t.type&&n.set(!1)})},qt=function(e){var t=e.plugins.paste,n=X(e);n&&e.on("PastePreProcess",function(e){n.call(t,t,e)});var r=K(e);r&&e.on("PastePostProcess",function(e){r.call(t,t,e)})},Wt=function(e){H.webkit&&c(e,d),H.ie&&(c(e,f),l(e,p))},$t=function(e,t){return function(n){n.setActive("text"===t.pasteFormat.get());var r=function(e){return n.setActive(e.state)};return e.on("PastePlainTextToggle",r),function(){return e.off("PastePlainTextToggle",r)}}},Gt=function(e,t){e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:function(){return e.execCommand("mceTogglePlainTextPaste")},onSetup:$t(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:function(){return e.execCommand("mceTogglePlainTextPaste")},onSetup:$t(e,t)})};!function(){h.add("paste",function(e){if(!1===g(e)){var t=m(!1),n=m(ee(e)?"text":"html"),r=Ot(e,n),o=Wt(e);return Gt(e,r),_(e,r),qt(e),Bt(e),Vt(e,r,t),v(r,o)}})}()}(window)},function(e,t,n){n(51)},function(e,t){!function(e){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(){},r=function(e){return function(){return e}},o=function(e){return function(t){return!e(t)}},i=r(!1),a=r(!0),u=function(){return s},s=function(){var e=function(e){return e.isNone()},t=function(e){return e()},o=function(e){return e};return{fold:function(e,t){return e()},is:i,isSome:i,isNone:a,getOr:o,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:r(null),getOrUndefined:r(void 0),or:o,orThunk:t,map:u,each:n,bind:u,exists:i,forall:a,filter:u,equals:e,equals_:e,toArray:function(){return[]},toString:r("none()")}}(),c=function(e){var t=r(e),n=function(){return u},o=function(t){return t(e)},u={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:a,isNone:i,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return c(t(e))},each:function(t){t(e)},bind:o,exists:o,forall:o,filter:function(t){return t(e)?u:s},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(i,function(t){return n(e,t)})}};return u},l=function(e){return null===e||void 0===e?s:c(e)},f={some:c,none:u,from:l},d=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},p=function(e){return function(t){return d(t)===e}},m=function(e){return function(t){return typeof t===e}},h=p("string"),g=p("array"),v=m("boolean"),b=m("function"),y=m("number"),w=Array.prototype.slice,x=Array.prototype.push,C=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},_=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},S=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},k=function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var u=e[i],s=t(u);s!==n&&(r.push(o),o=[]),n=s,o.push(u)}return 0!==o.length&&r.push(o),r},T=function(e,t,n){return _(e,function(e){n=t(n,e)}),n},E=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return f.some(i);if(n(i,r))break}return f.none()},O=function(e,t){return E(e,t,i)},N=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!g(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);x.apply(t,e[n])}return t},A=function(e,t){return N(C(e,t))},D=function(e){var t=w.call(e,0);return t.reverse(),t},M=function(e){return 0===e.length?f.none():f.some(e[0])},I=function(e){return 0===e.length?f.none():f.some(e[e.length-1])},R=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},P=function(t,n){return R(t,n,e.Node.DOCUMENT_POSITION_CONTAINED_BY)},L=function(){return L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},L.apply(this,arguments)},j=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},B=function(e,t){var n=j(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return H(r(1),r(2))},z=function(e,t){var n=String(t).toLowerCase();return 0===e.length?F():B(e,n)},F=function(){return H(0,0)},H=function(e,t){return{major:e,minor:t}},U={nu:H,detect:z,unknown:F},V=function(){return q({current:void 0,version:U.unknown()})},q=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r("Edge"),isChrome:r("Chrome"),isIE:r("IE"),isOpera:r("Opera"),isFirefox:r("Firefox"),isSafari:r("Safari")}},W={unknown:V,nu:q,edge:r("Edge"),chrome:r("Chrome"),ie:r("IE"),opera:r("Opera"),firefox:r("Firefox"),safari:r("Safari")},$=function(){return G({current:void 0,version:U.unknown()})},G=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r("Windows"),isiOS:r("iOS"),isAndroid:r("Android"),isOSX:r("OSX"),isLinux:r("Linux"),isSolaris:r("Solaris"),isFreeBSD:r("FreeBSD"),isChromeOS:r("ChromeOS")}},X={unknown:$,nu:G,windows:r("Windows"),ios:r("iOS"),android:r("Android"),linux:r("Linux"),osx:r("OSX"),solaris:r("Solaris"),freebsd:r("FreeBSD"),chromeos:r("ChromeOS")},K=function(e,t,n,o){var i=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!i,u=e.isiOS()||e.isAndroid(),s=u||o("(pointer:coarse)"),c=i||!a&&u&&o("(min-device-width:768px)"),l=a||u&&!c,f=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!l&&!c&&!f;return{isiPad:r(i),isiPhone:r(a),isTablet:r(c),isPhone:r(l),isTouch:r(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:r(f),isDesktop:r(d)}},Y=function(e,t){var n=String(t).toLowerCase();return O(e,function(e){return e.search(n)})},J=function(e,t){return Y(e,t).map(function(e){var n=U.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Q=function(e,t){return Y(e,t).map(function(e){var n=U.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Z={detectBrowser:J,detectOs:Q},ee=function(e,t){return-1!==e.indexOf(t)},te=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ne=function(e){return function(t){return ee(t,e)}},re=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return ee(e,"edge/")&&ee(e,"chrome")&&ee(e,"safari")&&ee(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,te],search:function(e){return ee(e,"chrome")&&!ee(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return ee(e,"msie")||ee(e,"trident")}},{name:"Opera",versionRegexes:[te,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ne("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ne("firefox")},{name:"Safari",versionRegexes:[te,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(ee(e,"safari")||ee(e,"mobile/"))&&ee(e,"applewebkit")}}],oe=[{name:"Windows",search:ne("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return ee(e,"iphone")||ee(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ne("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ne("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ne("linux"),versionRegexes:[]},{name:"Solaris",search:ne("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ne("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ne("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ie={browsers:r(re),oses:r(oe)},ae=function(e,t){var n=ie.browsers(),r=ie.oses(),o=Z.detectBrowser(n,e).fold(W.unknown,W.nu),i=Z.detectOs(r,e).fold(X.unknown,X.nu);return{browser:o,os:i,deviceType:K(i,o,e,t)}},ue={detect:ae},se=function(t){return e.window.matchMedia(t).matches},ce=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}}(function(){return ue.detect(e.navigator.userAgent,se)}),le=function(){return ce()},fe=function(t,n){var r=n||e.document,o=r.createElement("div");if(o.innerHTML=t,!o.hasChildNodes()||o.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return me(o.childNodes[0])},de=function(t,n){var r=n||e.document,o=r.createElement(t);return me(o)},pe=function(t,n){var r=n||e.document,o=r.createTextNode(t);return me(o)},me=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:r(e)}},he=function(e,t,n){var r=e.dom();return f.from(r.elementFromPoint(t,n)).map(me)},ge={fromHtml:fe,fromTag:de,fromText:pe,fromDom:me,fromPoint:he},ve=function(e,t){var n=e.dom();if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},be=function(e,t){return e.dom()===t.dom()},ye=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},we=function(e,t){return P(e.dom(),t.dom())},xe=function(e,t){return le().browser.isIE()?we(e,t):ye(e,t)},Ce=ve,_e=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Se=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ke=tinymce.util.Tools.resolve("tinymce.util.VK"),Te=function(e,t,n){return e.isSome()&&t.isSome()?f.some(n(e.getOrDie(),t.getOrDie())):f.none()},Ee=function(t,n){var r=n||e.document,o=r.createDocumentFragment();return _(t,function(e){o.appendChild(e.dom())}),ge.fromDom(o)},Oe=(void 0!==e.window?e.window:Function("return this;")(),function(e){return e.dom().nodeName.toLowerCase()}),Ne=function(e){return e.dom().nodeType},Ae=function(e){return function(t){return Ne(t)===e}}(1),De=function(e){return f.from(e.dom().parentNode).map(ge.fromDom)},Me=function(e){return C(e.dom().childNodes,ge.fromDom)},Ie=function(e,t){var n=e.dom().childNodes;return f.from(n[t]).map(ge.fromDom)},Re=function(e){return Ie(e,0)},Pe=function(e){return Ie(e,e.dom().childNodes.length-1)},Le=function(e,t){De(e).each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},je=function(e,t){e.dom().appendChild(t.dom())},Be=function(e,t){_(t,function(t){Le(e,t)})},ze=function(e,t){_(t,function(t){je(e,t)})},Fe=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},He=function(e,t,n){return e.fire("ListMutation",{action:t,element:n})},Ue=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Ve=tinymce.util.Tools.resolve("tinymce.util.Tools"),qe=function(e){return function(t){return t&&t.nodeName.toLowerCase()===e}},We=function(e){return function(t){return t&&e.test(t.nodeName)}},$e=function(e){return e&&3===e.nodeType},Ge=We(/^(OL|UL|DL)$/),Xe=We(/^(OL|UL)$/),Ke=qe("ol"),Ye=We(/^(LI|DT|DD)$/),Je=We(/^(DT|DD)$/),Qe=We(/^(TH|TD)$/),Ze=qe("br"),et=function(e){return e.parentNode.firstChild===e},tt=function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},nt=function(e,t){return e&&e.nodeName in t},rt=function(e,t){return!!Ze(t)&&!(!e.isBlock(t.nextSibling)||Ze(t.previousSibling))},ot=function(e,t,n){var r=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&r},it=function(e,t){return e.isChildOf(t,e.getRoot())},at=function(e,t){var n=t||e.selection.getStart(!0);return e.dom.getParent(n,"OL,UL,DL",pt(e,n))},ut=function(e,t){return e&&1===t.length&&t[0]===e},st=function(e){return Ve.grep(e.querySelectorAll("ol,ul,dl"),function(e){return Ge(e)})},ct=function(e){var t=at(e),n=e.selection.getSelectedBlocks();return ut(t,n)?st(t):Ve.grep(n,function(e){return Ge(e)&&t!==e})},lt=function(e,t){var n=Ve.map(t,function(t){var n=e.dom.getParent(t,"li,dd,dt",pt(e,t));return n||t});return Ue.unique(n)},ft=function(e){var t=e.selection.getSelectedBlocks();return Ve.grep(lt(e,t),function(e){return Ye(e)})},dt=function(e){return S(ft(e),Je)},pt=function(e,t){var n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()},mt=function(e,t){var n=e.dom.getParents(t,"ol,ul",pt(e,t));return I(n)},ht=function(e){var t=mt(e,e.selection.getStart()),n=S(e.selection.getSelectedBlocks(),Xe);return t.toArray().concat(n)},gt=function(e){var t=ht(e);return vt(e,t)},vt=function(e,t){var n=C(t,function(t){return mt(e,t).getOr(t)});return Ue.unique(n)},bt=function(e){return e.getParam("lists_indent_on_tab",!0)},yt=function(e){var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t},wt=function(e){return e.getParam("forced_root_block_attrs",{})},xt=function(e,t){var n,r,o,i=e.dom,a=e.schema.getBlockElements(),u=i.createFragment(),s=yt(e);if(s&&(r=i.create(s),r.tagName===s.toUpperCase()&&i.setAttribs(r,wt(e)),nt(t.firstChild,a)||u.appendChild(r)),t)for(;n=t.firstChild;){var c=n.nodeName;o||"SPAN"===c&&"bookmark"===n.getAttribute("data-mce-type")||(o=!0),nt(n,a)?(u.appendChild(n),r=null):s?(r||(r=i.create(s),u.appendChild(r)),r.appendChild(n)):u.appendChild(n)}return s?o||r.appendChild(i.create("br",{"data-mce-bogus":"1"})):u.appendChild(i.create("br")),u},Ct=Object.keys,_t=function(e,t){for(var n=Ct(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},St=function(e){return function(t,n){e[n]=t}},kt=function(e,t,n,r){var o={};return _t(e,function(e,o){(t(e,o)?n:r)(e,o)}),o},Tt=function(e,t){var r={};return kt(e,t,St(r),n),r},Et=function(t,n,r){if(!(h(r)||v(r)||y(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")},Ot=function(e,t){var n=e.dom();_t(t,function(e,t){Et(n,t,e)})},Nt=function(e){return T(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},At=function(e){return void 0!==e.style&&b(e.style.getPropertyValue)},Dt=(b(e.Element.prototype.attachShadow)&&b(e.Node.prototype.getRootNode),function(t,n,r){if(!h(r))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new Error("CSS value must be a string: "+r);At(t)&&t.style.setProperty(n,r)}),Mt=function(e,t,n){var r=e.dom();Dt(r,t,n)},It=function(e,t){return ge.fromDom(e.dom().cloneNode(t))},Rt=function(e){return It(e,!0)},Pt=function(e,t){var n=ge.fromTag(t),r=Nt(e);return Ot(n,r),n},Lt=function(e,t){var n=Pt(e,t);Le(e,n);var r=Me(e);return ze(n,r),Fe(e),n},jt=function(e,t){je(e.item,t.list)},Bt=function(e){for(var t=1;t<e.length;t++)jt(e[t-1],e[t])},zt=function(e,t){Te(I(e),M(t),jt)},Ft=function(e,t){var n={list:ge.fromTag(t,e),item:ge.fromTag("li",e)};return je(n.list,n.item),n},Ht=function(e,t,n){for(var r=[],o=0;o<n;o++)r.push(Ft(e,t.listType));return r},Ut=function(e,t){for(var n=0;n<e.length-1;n++)Mt(e[n].item,"list-style-type","none");I(e).each(function(e){Ot(e.list,t.listAttributes),Ot(e.item,t.itemAttributes),ze(e.item,t.content)})},Vt=function(e,t){Oe(e.list)!==t.listType&&(e.list=Lt(e.list,t.listType)),Ot(e.list,t.listAttributes)},qt=function(e,t,n){var r=ge.fromTag("li",e);return Ot(r,t),ze(r,n),r},Wt=function(e,t){je(e.list,t),e.item=t},$t=function(e,t,n){var r=t.slice(0,n.depth);return I(r).each(function(t){var r=qt(e,n.itemAttributes,n.content);Wt(t,r),Vt(t,n)}),r},Gt=function(e,t,n){var r=Ht(e,n,n.depth-t.length);return Bt(r),Ut(r,n),zt(t,r),t.concat(r)},Xt=function(e,t){var n=T(t,function(t,n){return n.depth>t.length?Gt(e,t,n):$t(e,t,n)},[]);return M(n).map(function(e){return e.list})},Kt=function(e){return Ce(e,"OL,UL")},Yt=function(e){return Re(e).map(Kt).getOr(!1)},Jt=function(e){return Pe(e).map(Kt).getOr(!1)},Qt=function(e){return e.depth>0},Zt=function(e){return e.isSelected},en=function(e){var t=Me(e),n=Jt(e)?t.slice(0,-1):t;return C(n,Rt)},tn=function(e,t,n){return De(e).filter(Ae).map(function(r){return{depth:t,dirty:!1,isSelected:n,content:en(e),itemAttributes:Nt(e),listAttributes:Nt(r),listType:Oe(r)}})},nn=function(e,t){switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0},rn=function(e,t){e.listType=t.listType,e.listAttributes=L({},t.listAttributes)},on=function(e){e.listAttributes=Tt(e.listAttributes,function(e,t){return"start"!==t})},an=function(e,t){var n=e[t].depth,r=function(e){return e.depth===n&&!e.dirty},o=function(e){return e.depth<n};return E(D(e.slice(0,t)),r,o).orThunk(function(){return E(e.slice(t+1),r,o)})},un=function(e){return _(e,function(t,n){an(e,n).fold(function(){t.dirty&&on(t)},function(e){return rn(t,e)})}),e},sn=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},cn=function(e,t,n,r){return Re(r).filter(Kt).fold(function(){t.each(function(e){be(e.start,r)&&n.set(!0)});var o=tn(r,e,n.get());t.each(function(e){be(e.end,r)&&n.set(!1)});var i=Pe(r).filter(Kt).map(function(r){return ln(e,t,n,r)}).getOr([]);return o.toArray().concat(i)},function(r){return ln(e,t,n,r)})},ln=function(e,t,n,r){return A(Me(r),function(r){return(Kt(r)?ln:cn)(e+1,t,n,r)})},fn=function(e,t){var n=sn(!1);return C(e,function(e){return{sourceList:e,entries:ln(0,t,n,e)}})},dn=function(e,t){var n=un(t);return C(n,function(t){var n=Ee(t.content);return ge.fromDom(xt(e,n.dom()))})},pn=function(e,t){var n=un(t);return Xt(e.contentDocument,n).toArray()},mn=function(e,t){return A(k(t,Qt),function(t){return M(t).map(Qt).getOr(!1)?pn(e,t):dn(e,t)})},hn=function(e,t){_(S(e,Zt),function(e){return nn(t,e)})},gn=function(e){var t=C(ft(e),ge.fromDom);return Te(O(t,o(Yt)),O(D(t),o(Yt)),function(e,t){return{start:e,end:t}})},vn=function(e,t,n){var r=fn(t,gn(e));_(r,function(t){hn(t.entries,n);var r=mn(e,t.entries);_(r,function(t){He(e,"Indent"===n?"IndentList":"OutdentList",t.dom())}),Be(t.sourceList,r),Fe(t.sourceList)})},bn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),yn=bn.DOM,wn=function(e,t,n){var r=yn.select('span[data-mce-type="bookmark"]',t),o=xt(e,n),i=yn.createRng();i.setStartAfter(n),i.setEndAfter(t);for(var a=i.extractContents(),u=a.firstChild;u;u=u.firstChild)if("LI"===u.nodeName&&e.dom.isEmpty(u)){yn.remove(u);break}e.dom.isEmpty(a)||yn.insertAfter(a,t),yn.insertAfter(o,t),ot(e.dom,n.parentNode)&&function(e){Ve.each(r,function(t){e.parentNode.insertBefore(t,n.parentNode)}),yn.remove(e)}(n.parentNode),yn.remove(n),ot(e.dom,t)&&yn.remove(t)},xn=function(e,t){Ce(t,"dd")?Lt(t,"dt"):Ce(t,"dt")&&De(t).each(function(n){return wn(e,n.dom(),t.dom())})},Cn=function(e){Ce(e,"dt")&&Lt(e,"dd")},_n=function(e,t,n){"Indent"===t?_(n,Cn):_(n,function(t){return xn(e,t)})},Sn=function(e,t){if($e(e))return{container:e,offset:t};var n=_e.getNode(e,t);return $e(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&$e(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&$e(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},kn=function(e){var t=e.cloneRange(),n=Sn(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);var r=Sn(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},Tn=function(e,t){var n=C(gt(e),ge.fromDom),r=C(dt(e),ge.fromDom),o=!1;if(n.length||r.length){var i=e.selection.getBookmark();vn(e,n,t),_n(e,t,r),e.selection.moveToBookmark(i),e.selection.setRng(kn(e.selection.getRng())),e.nodeChanged(),o=!0}return o},En=function(e){return Tn(e,"Indent")},On=function(e){return Tn(e,"Outdent")},Nn=function(e){return Tn(e,"Flatten")},An=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Dn=bn.DOM,Mn=function(e){var t={},n=function(n){var r,o,i;o=e[n?"startContainer":"endContainer"],i=e[n?"startOffset":"endOffset"],1===o.nodeType&&(r=Dn.create("span",{"data-mce-type":"bookmark"}),o.hasChildNodes()?(i=Math.min(i,o.childNodes.length-1),n?o.insertBefore(r,o.childNodes[i]):Dn.insertAfter(r,o.childNodes[i])):o.appendChild(r),o=r,i=0),t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=i};return n(!0),e.collapsed||n(),t},In=function(e){function t(t){var n,r,o;n=o=e[t?"startContainer":"endContainer"],r=e[t?"startOffset":"endOffset"],n&&(1===n.nodeType&&(r=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1}(n),n=n.parentNode,Dn.remove(o),!n.hasChildNodes()&&Dn.isBlock(n)&&n.appendChild(Dn.create("br"))),e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=r)}t(!0),t();var n=Dn.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),kn(n)},Rn=function(e){switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Pn=function(e){return/\btox\-/.test(e.className)},Ln=function(e,t,n){var r=function(e){var r=E(e.parents,Ge,Qe).filter(function(e){return e.nodeName===t&&!Pn(e)}).isSome();n(r)},o=e.dom.getParents(e.selection.getNode());return r({parents:o}),e.on("NodeChange",r),function(){return e.off("NodeChange",r)}},jn=function(e,t,n){var r=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",r)},Bn=function(e,t){Ve.each(t,function(t,n){e.setAttribute(n,t)})},zn=function(e,t,n){Bn(t,n["list-attributes"]),Ve.each(e.select("li",t),function(e){Bn(e,n["list-item-attributes"])})},Fn=function(e,t,n){jn(e,t,n),zn(e,t,n)},Hn=function(e,t,n){Ve.each(n,function(n){var r;return e.setStyle(t,(r={},r[n]="",r))})},Un=function(e,t,n,r){var o=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"];for(1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!n&&Ze(o.nextSibling)&&(o=o.nextSibling);o.parentNode!==r;){if(tt(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o},Vn=function(e,t,n){for(var r,o=[],i=e.dom,a=Un(e,t,!0,n),u=Un(e,t,!1,n),s=[],c=a;c&&(s.push(c),c!==u);c=c.nextSibling);return Ve.each(s,function(t){if(tt(e,t))return o.push(t),void(r=null);if(i.isBlock(t)||Ze(t))return Ze(t)&&i.remove(t),void(r=null);var a=t.nextSibling;if(An.isBookmarkNode(t)&&(tt(e,a)||!a&&t.parentNode===n))return void(r=null);r||(r=i.create("p"),t.parentNode.insertBefore(r,t),o.push(r)),r.appendChild(t)}),o},qn=function(e,t,n){var r=e.getStyle(t,"list-style-type"),o=n?n["list-style-type"]:"";return o=null===o?"":o,r===o},Wn=function(e,t,n){void 0===n&&(n={});var r=e.selection.getRng(),o="LI",i=pt(e,e.selection.getStart(!0)),a=e.dom;if("false"!==a.getContentEditable(e.selection.getNode())){t=t.toUpperCase(),"DL"===t&&(o="DT");var u=Mn(r);Ve.each(Vn(e,r,i),function(r){var i,u=r.previousSibling;u&&Ge(u)&&u.nodeName===t&&qn(a,u,n)?(i=u,r=a.rename(r,o),u.appendChild(r)):(i=a.create(t),r.parentNode.insertBefore(i,r),i.appendChild(r),r=a.rename(r,o)),Hn(a,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Fn(a,i,n),Yn(e.dom,i)}),e.selection.setRng(In(u))}},$n=function(e,t){return e&&t&&Ge(e)&&e.nodeName===t.nodeName},Gn=function(e,t,n){return e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0)},Xn=function(e,t){return e.className===t.className},Kn=function(e,t,n){return $n(t,n)&&Gn(e,t,n)&&Xn(t,n)},Yn=function(e,t){var n,r;if(n=t.nextSibling,Kn(e,t,n)){for(;r=n.firstChild;)t.appendChild(r);e.remove(n)}if(n=t.previousSibling,Kn(e,t,n)){for(;r=n.lastChild;)t.insertBefore(r,t.firstChild);e.remove(n)}},Jn=function(e,t,n,r){if(t.nodeName!==n){var o=e.dom.rename(t,n);Fn(e.dom,o,r),He(e,Rn(n),o)}else Fn(e.dom,t,r),He(e,Rn(n),t)},Qn=function(e,t,n,r,o){if(t.nodeName!==r||Zn(o)){var i=Mn(e.selection.getRng(!0));Ve.each([t].concat(n),function(t){Jn(e,t,r,o)}),e.selection.setRng(In(i))}else Nn(e)},Zn=function(e){return"list-style-type"in e},er=function(e,t,n,r){if(t!==e.getBody())if(t)if(t.nodeName!==n||Zn(r)||Pn(t)){var o=Mn(e.selection.getRng(!0));Fn(e.dom,t,r);var i=e.dom.rename(t,n);Yn(e.dom,i),e.selection.setRng(In(o)),He(e,Rn(n),i)}else Nn(e);else Wn(e,n,r),He(e,Rn(n),t)},tr=function(e,t,n){var r=at(e),o=ct(e);n=n||{},r&&o.length>0?Qn(e,r,o,t,n):er(e,r,t,n)},nr=bn.DOM,rr=function(e,t){var n,r=t.parentNode;"LI"===r.nodeName&&r.firstChild===t&&(n=r.previousSibling,n&&"LI"===n.nodeName?(n.appendChild(t),ot(e,r)&&nr.remove(r)):nr.setStyle(r,"listStyleType","none")),Ge(r)&&(n=r.previousSibling)&&"LI"===n.nodeName&&n.appendChild(t)},or=function(e,t){Ve.each(Ve.grep(e.select("ol,ul",t)),function(t){rr(e,t)})},ir=function(e,t,n,r){var o=t.startContainer,i=t.startOffset;if($e(o)&&(n?i<o.data.length:i>0))return o;var a=e.schema.getNonEmptyElements();1===o.nodeType&&(o=_e.getNode(o,i));var u=new Se(o,r);for(n&&rt(e.dom,o)&&u.next();o=u[n?"next":"prev2"]();){if("LI"===o.nodeName&&!o.hasChildNodes())return o;if(a[o.nodeName])return o;if($e(o)&&o.data.length>0)return o}},ar=function(e,t){var n=t.childNodes;return 1===n.length&&!Ge(n[0])&&e.isBlock(n[0])},ur=function(e,t){ar(e,t)&&e.remove(t.firstChild,!0)},sr=function(e,t,n){var r,o=ar(e,n)?n.firstChild:n;if(ur(e,t),!ot(e,t,!0))for(;r=t.firstChild;)o.appendChild(r)},cr=function(e,t,n){var r,o=t.parentNode;if(it(e,t)&&it(e,n)){Ge(n.lastChild)&&(r=n.lastChild),o===n.lastChild&&Ze(o.previousSibling)&&e.remove(o.previousSibling);var i=n.lastChild;i&&Ze(i)&&t.hasChildNodes()&&e.remove(i),ot(e,n,!0)&&e.$(n).empty(),sr(e,t,n),r&&n.appendChild(r);var a=xe(ge.fromDom(n),ge.fromDom(t)),u=a?e.getParents(t,Ge,n):[];e.remove(t),_(u,function(t){ot(e,t)&&t!==e.getRoot()&&e.remove(t)})}},lr=function(e,t,n){e.dom.$(n).empty(),cr(e.dom,t,n),e.selection.setCursorLocation(n)},fr=function(e,t,n,r){var o=e.dom;if(o.isEmpty(r))lr(e,n,r);else{var i=Mn(t);cr(o,n,r),e.selection.setRng(In(i))}},dr=function(e,t,n,r){var o=Mn(t);cr(e.dom,n,r);var i=In(o);e.selection.setRng(i)},pr=function(e,t){var n=e.dom,r=e.selection,o=r.getStart(),i=pt(e,o),a=n.getParent(r.getStart(),"LI",i);if(a){var u=a.parentNode;if(u===e.getBody()&&ot(n,u))return!0;var s=kn(r.getRng()),c=n.getParent(ir(e,s,t,i),"LI",i);if(c&&c!==a)return e.undoManager.transact(function(){t?fr(e,s,c,a):et(a)?On(e):dr(e,s,a,c)}),!0;if(!c&&!t&&0===s.startOffset&&0===s.endOffset)return e.undoManager.transact(function(){Nn(e)}),!0}return!1},mr=function(e,t,n){var r=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),r&&e.isEmpty(r)&&e.remove(r)},hr=function(e,t){var n=e.dom,r=e.selection.getStart(),o=pt(e,r),i=n.getParent(r,n.isBlock,o);if(i&&n.isEmpty(i)){var a=kn(e.selection.getRng()),u=n.getParent(ir(e,a,t,o),"LI",o);if(u)return e.undoManager.transact(function(){mr(n,i,o),Yn(n,u.parentNode),e.selection.select(u,!0),e.selection.collapse(t)}),!0}return!1},gr=function(e,t){return pr(e,t)||hr(e,t)},vr=function(e){var t=e.selection.getStart(),n=pt(e,t);return!!(e.dom.getParent(t,"LI,DT,DD",n)||ft(e).length>0)&&(e.undoManager.transact(function(){e.execCommand("Delete"),or(e.dom,e.getBody())}),!0)},br=function(e,t){return e.selection.isCollapsed()?gr(e,t):vr(e)},yr=function(e){e.on("keydown",function(t){t.keyCode===ke.BACKSPACE?br(e,!1)&&t.preventDefault():t.keyCode===ke.DELETE&&br(e,!0)&&t.preventDefault()})},wr=function(e){return{backspaceDelete:function(t){br(e,t)}}},xr=function(e){var t=e.dom,n=at(e);Ke(n)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:t.getAttrib(n,"start")||"1"},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(n){var r=n.getData();e.undoManager.transact(function(){t.setAttrib(at(e),"start","1"===r.start?"":r.start)}),n.close()}})},Cr=function(e,t){return function(){var n=e.dom.getParent(e.selection.getStart(),"UL,OL,DL");return n&&n.nodeName===t}},_r=function(e){e.on("BeforeExecCommand",function(t){var n=t.command.toLowerCase();"indent"===n?En(e):"outdent"===n&&On(e)}),e.addCommand("InsertUnorderedList",function(t,n){tr(e,"UL",n)}),e.addCommand("InsertOrderedList",function(t,n){tr(e,"OL",n)}),e.addCommand("InsertDefinitionList",function(t,n){tr(e,"DL",n)}),e.addCommand("RemoveList",function(){Nn(e)}),e.addCommand("mceListProps",function(){xr(e)}),e.addQueryStateHandler("InsertUnorderedList",Cr(e,"UL")),e.addQueryStateHandler("InsertOrderedList",Cr(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",Cr(e,"DL"))},Sr=function(e){return!(!/(^|[ ,])rtc([, ]|$)/.test(e.getParam("plugins","","string"))||!t.get("rtc"))},kr=function(e){e.on("keydown",function(t){t.keyCode!==ke.TAB||ke.metaKeyPressed(t)||e.undoManager.transact(function(){(t.shiftKey?On(e):En(e))&&t.preventDefault()})})},Tr=function(e){bt(e)&&kr(e),yr(e)},Er=function(e){var t=function(t){return function(){return e.execCommand(t)}};(function(e,t){var n=e.getParam("plugins","","string");return-1!==Ve.inArray(n.split(/[ ,]/),t)})(e,"advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:function(t){return Ln(e,"OL",t.setActive)}}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:function(t){return Ln(e,"UL",t.setActive)}}))},Or=function(e){var t={text:"List properties...",icon:"ordered-list",onAction:function(){return xr(e)},onSetup:function(t){return Ln(e,"OL",function(e){return t.setDisabled(!e)})}};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:function(t){var n=at(e,t);return Ke(n)?["listprops"]:[]}})};!function(){t.add("lists",function(e){return!1===Sr(e)&&(Tr(e),_r(e)),Er(e),Or(e),wr(e)})}()}(window)},function(e,t,n){n(53)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.util.Tools"),n=function(e,t,n){var r="UL"===t?"InsertUnorderedList":"InsertOrderedList";e.execCommand(r,!1,!1===n?null:{"list-style-type":n})},r=function(e){e.addCommand("ApplyUnorderedListStyle",function(t,r){n(e,"UL",r["list-style-type"])}),e.addCommand("ApplyOrderedListStyle",function(t,r){n(e,"OL",r["list-style-type"])})},o=function(e){var t=e.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return t?t.split(/[ ,]/):[]},i=function(e){var t=e.getParam("advlist_bullet_styles","default,circle,square");return t?t.split(/[ ,]/):[]},a=function(){},u=function(e){return function(){return e}},s=u(!1),c=u(!0),l=function(){return f},f=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:s,isSome:s,isNone:c,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(void 0),or:n,orThunk:t,map:l,each:a,bind:l,exists:s,forall:c,filter:l,equals:e,equals_:e,toArray:function(){return[]},toString:u("none()")}}(),d=function(e){var t=u(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:c,isNone:s,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return d(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:f},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(s,function(t){return n(e,t)})}};return o},p=function(e){return null===e||void 0===e?f:d(e)},m={some:d,none:l,from:p},h=function(e,t){return e.$.contains(e.getBody(),t)},g=function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},v=function(e){return function(t){return t&&/^(OL|UL|DL)$/.test(t.nodeName)&&h(e,t)}},b=function(e){var t=e.dom.getParent(e.selection.getNode(),"ol,ul"),n=e.dom.getStyle(t,"listStyleType");return m.from(n)},y=function(e,t){for(var n=0;n<e.length;n++){if(t(e[n]))return n}return-1},w=function(e){return e.replace(/\-/g," ").replace(/\b\w/g,function(e){return e.toUpperCase()})},x=function(e,n,r){var o=y(n.parents,g),i=-1!==o?n.parents.slice(0,o):n.parents,a=t.grep(i,v(e));return a.length>0&&a[0].nodeName===r},C=function(e,r,o,i,a,u){e.ui.registry.addSplitButton(r,{tooltip:o,icon:"OL"===a?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(e){e(t.map(u,function(e){var t="OL"===a?"num":"bull",n="disc"===e||"decimal"===e?"default":e;return{type:"choiceitem",value:"default"===e?"":e,icon:"list-"+t+"-"+n,text:w(e)}}))},onAction:function(){return e.execCommand(i)},onItemAction:function(t,r){n(e,a,r)},select:function(t){return b(e).map(function(e){return t===e}).getOr(!1)},onSetup:function(t){var n=function(n){t.setActive(x(e,n,a))};return e.on("NodeChange",n),function(){return e.off("NodeChange",n)}}})},_=function(e,t,n,r,o,i){e.ui.registry.addToggleButton(t,{active:!1,tooltip:n,icon:"OL"===o?"ordered-list":"unordered-list",onSetup:function(t){var n=function(n){t.setActive(x(e,n,o))};return e.on("NodeChange",n),function(){return e.off("NodeChange",n)}},onAction:function(){return e.execCommand(r)}})},S=function(e,t,n,r,o,i){i.length>1?C(e,t,n,r,o,i):_(e,t,n,r,o)},k=function(e){S(e,"numlist","Numbered list","InsertOrderedList","OL",o(e)),S(e,"bullist","Bullet list","InsertUnorderedList","UL",i(e))};!function(){e.add("advlist",function(e){(function(e,n){return-1!==t.inArray(e.getParam("plugins","","string").split(/[ ,]/),n)})(e,"lists")&&(k(e),r(e))})}()}()},function(e,t,n){n(55)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e,t){e.focus(),e.undoManager.transact(function(){e.setContent(t)}),e.selection.setCursorLocation(),e.nodeChanged()},n=function(e){return e.getContent({source_view:!0})},r=function(e){var r=n(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:r},onSubmit:function(n){t(e,n.getData().code),n.close()}})},o=function(e){e.addCommand("mceCodeEditor",function(){r(e)})},i=function(e){e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:function(){return r(e)}}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:function(){return r(e)}})};!function(){e.add("code",function(e){return o(e),i(e),{}})}()}()},function(e,t,n){n(57)},function(e,t){!function(e){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e,t){return e.fire("insertCustomChar",{chr:t})},r=function(e,t){var r=n(e,t).chr;e.execCommand("mceInsertContent",!1,r)},o=tinymce.util.Tools.resolve("tinymce.util.Tools"),i=function(e){return e.getParam("charmap")},a=function(e){return e.getParam("charmap_append")},u=function(){},s=function(e){return function(){return e}},c=s(!1),l=s(!0),f=function(){return d},d=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:c,isSome:c,isNone:l,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:s(null),getOrUndefined:s(void 0),or:n,orThunk:t,map:f,each:u,bind:f,exists:c,forall:l,filter:f,equals:e,equals_:e,toArray:function(){return[]},toString:s("none()")}}(),p=function(e){var t=s(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:l,isNone:c,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return p(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:d},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(c,function(t){return n(e,t)})}};return o},m=function(e){return null===e||void 0===e?d:p(e)},h={some:p,none:f,from:m},g=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},v=function(e){return function(t){return g(t)===e}}("array"),b=Array.prototype.push,y=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},w=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},x=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return h.some(i);if(n(i,r))break}return h.none()},C=function(e,t){return x(e,t,c)},_=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!v(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);b.apply(t,e[n])}return t},S=function(e,t){return _(y(e,t))},k=o.isArray,T=function(){return[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}]},E=function(e){return o.grep(e,function(e){return k(e)&&2===e.length})},O=function(e){return k(e)?[].concat(E(e)):"function"==typeof e?e():[]},N=function(e,t){var n=i(e);n&&(t=[{name:"User Defined",characters:O(n)}]);var r=a(e);if(r){var u=o.grep(t,function(e){return"User Defined"===e.name});return u.length?(u[0].characters=[].concat(u[0].characters).concat(O(r)),t):[].concat(t).concat({name:"User Defined",characters:O(r)})}return t},A=function(e){var t=N(e,T());return t.length>1?[{name:"All",characters:S(t,function(e){return e.characters})}].concat(t):t},D=function(e){return{getCharMap:function(){return A(e)},insertChar:function(t){r(e,t)}}},M=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},I=function(t,n){var r=null;return{cancel:function(){null!==r&&(e.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null!==r&&e.clearTimeout(r),r=e.setTimeout(function(){t.apply(null,o),r=null},n)}}},R=String.fromCodePoint,P=function(e,t){return-1!==e.indexOf(t)},L=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(R)return R.apply(void 0,e);for(var n=[],r=0,o="",i=0,a=e.length;i!==a;++i){var u=+e[i];if(!(u<1114111&&u>>>0===u))throw RangeError("Invalid code point: "+u);u<=65535?r=n.push(u):(u-=65536,r=n.push(55296+(u>>10),u%1024+56320)),r>=16383&&(o+=String.fromCharCode.apply(null,n),n.length=0)}return o+String.fromCharCode.apply(null,n)},j=function(e,t,n){return!!P(L(e).toLowerCase(),n)||(P(t.toLowerCase(),n)||P(t.toLowerCase().replace(/\s+/g,""),n))},B=function(e,t){var n=[],r=t.toLowerCase();return w(e.characters,function(e){j(e[0],e[1],r)&&n.push(e)}),y(n,function(e){return{text:e[1],value:L(e[0]),icon:L(e[0])}})},z=function(e,t){var n=function(){return[{label:"Search",type:"input",name:"pattern"},{type:"collection",name:"results"}]},o=function(){return y(t,function(e){return{title:e.name,name:e.name,items:n()}})},i=M(1===t.length?"User Defined":"All"),a=function(e,n){C(t,function(e){return e.name===i.get()}).each(function(t){var r=B(t,n);e.setData({results:r})})},u=I(function(e){var t=e.getData().pattern;a(e,t)},40),s=1===t.length?function(){return{type:"panel",items:n()}}():function(){return{type:"tabpanel",tabs:o()}}(),c={pattern:"",results:B(t[0],"")},l={title:"Special Character",size:"normal",body:s,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:c,onAction:function(t,n){"results"===n.name&&(r(e,n.value),t.close())},onTabChange:function(e,t){i.set(t.newTabName),u.throttle(e)},onChange:function(e,t){"pattern"===t.name&&u.throttle(e)}};e.windowManager.open(l).focus("pattern")},F=function(e,t){e.addCommand("mceShowCharmap",function(){z(e,t)})},H=tinymce.util.Tools.resolve("tinymce.util.Promise"),U=function(e,t){e.ui.registry.addAutocompleter("charmap",{ch:":",columns:"auto",minChars:2,fetch:function(e,n){return new H(function(n,r){n(B(t,e))})},onAction:function(t,n,r){e.selection.setRng(n),e.insertContent(r),t.hide()}})},V=function(e){e.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:function(){return e.execCommand("mceShowCharmap")}}),e.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:function(){return e.execCommand("mceShowCharmap")}})};!function(){t.add("charmap",function(e){var t=A(e);return F(e,t),V(e),U(e,t[0]),D(e)})}()}(window)},function(e,t,n){n(59)},function(e,t){!function(e){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(){},r=function(e){return function(){return e}},o=r(!1),i=r(!0),a=function(){return u},u=function(){var e=function(e){return e.isNone()},t=function(e){return e()},u=function(e){return e};return{fold:function(e,t){return e()},is:o,isSome:o,isNone:i,getOr:u,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:r(null),getOrUndefined:r(void 0),or:u,orThunk:t,map:a,each:n,bind:a,exists:o,forall:i,filter:a,equals:e,equals_:e,toArray:function(){return[]},toString:r("none()")}}(),s=function(e){var t=r(e),n=function(){return c},a=function(t){return t(e)},c={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:i,isNone:o,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return s(t(e))},each:function(t){t(e)},bind:a,exists:a,forall:a,filter:function(t){return t(e)?c:u},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(o,function(t){return n(e,t)})}};return c},c=function(e){return null===e||void 0===e?u:s(e)},l={some:s,none:a,from:c},f=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1},d=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},p=function(e,t){return-1!==e.indexOf(t)},m=function(e,t){return p(e.title.toLowerCase(),t)||f(e.keywords,function(e){return p(e.toLowerCase(),t)})},h=function(e,t,n){for(var r=[],i=t.toLowerCase(),a=n.fold(function(){return o},function(e){return function(t){return t>=e}}),u=0;u<e.length&&(0!==t.length&&!m(e[u],i)||(r.push({value:e[u].char,text:e[u].title,icon:e[u].char}),!a(r.length)));u++);return r},g=function(e,t){e.ui.registry.addAutocompleter("emoticons",{ch:":",columns:"auto",minChars:2,fetch:function(e,n){return t.waitForLoad().then(function(){var r=t.listAll();return h(r,e,l.some(n))})},onAction:function(t,n,r){e.selection.setRng(n),e.insertContent(r),t.hide()}})},v=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},b=function(t,n){var r=null;return{cancel:function(){null!==r&&(e.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null!==r&&e.clearTimeout(r),r=e.setTimeout(function(){t.apply(null,o),r=null},n)}}},y=function(e,t){e.insertContent(t)},w=function(){return w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},w.apply(this,arguments)},x=Object.prototype.hasOwnProperty,C=function(e,t){return t},_=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)x.call(i,a)&&(r[a]=e(r[a],i[a]))}return r}}(C),S=Object.keys,k=Object.hasOwnProperty,T=function(e,t){for(var n=S(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},E=function(e,t){return O(e,function(e,n){return{k:n,v:t(e,n)}})},O=function(e,t){var n={};return T(e,function(e,r){var o=t(e,r);n[o.k]=o.v}),n},N=function(e,t){return k.call(e,t)},A=tinymce.util.Tools.resolve("tinymce.Resource"),D=tinymce.util.Tools.resolve("tinymce.util.Delay"),M=tinymce.util.Tools.resolve("tinymce.util.Promise"),I=function(e,t){return e.getParam("emoticons_database_url",t+"/js/emojis"+e.suffix+".js")},R=function(e){return e.getParam("emoticons_database_id","tinymce.plugins.emoticons","string")},P=function(e){return e.getParam("emoticons_append",{},"object")},L={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},j=function(e,t){return N(e,t)?e[t]:t},B=function(e){var t=P(e);return E(t,function(e){return w({keywords:[],category:"user"},e)})},z=function(t,n,r){var o=v(l.none()),i=v(l.none()),a=function(e){var t={},n=[];T(e,function(e,r){var o={title:r,keywords:e.keywords,char:e.char,category:j(L,e.category)},i=void 0!==t[o.category]?t[o.category]:[];t[o.category]=i.concat([o]),n.push(o)}),o.set(l.some(t)),i.set(l.some(n))};t.on("init",function(){A.load(r,n).then(function(e){var n=B(t);a(_(e,n))},function(t){e.console.log("Failed to load emoticons: "+t),o.set(l.some({})),i.set(l.some([]))})});var u=function(e){return"All"===e?s():o.get().bind(function(t){return l.from(t[e])}).getOr([])},s=function(){return i.get().getOr([])},c=function(){return["All"].concat(S(o.get().getOr({})))},f=function(){return d()?M.resolve(!0):new M(function(t,r){var o=15,i=D.setInterval(function(){d()?(D.clearInterval(i),t(!0)):--o<0&&(e.console.log("Could not load emojis from url: "+n),D.clearInterval(i),r(!1))},100)})},d=function(){return o.get().isSome()&&i.get().isSome()};return{listCategories:c,hasLoaded:d,waitForLoad:f,listAll:s,listCategory:u}},F=function(e,t){var n={pattern:"",results:h(t.listAll(),"",l.some(300))},r=v("All"),o=function(e){var n=e.getData(),o=r.get(),i=t.listCategory(o),a=h(i,n.pattern,"All"===o?l.some(300):l.none());e.setData({results:a})},i=b(function(e){o(e)},200),a={label:"Search",type:"input",name:"pattern"},u={type:"collection",name:"results"},s=function(){return{title:"Emoticons",size:"normal",body:{type:"tabpanel",tabs:d(t.listCategories(),function(e){return{title:e,name:e,items:[a,u]}})},initialData:n,onTabChange:function(e,t){r.set(t.newTabName),i.throttle(e)},onChange:i.throttle,onAction:function(t,n){"results"===n.name&&(y(e,n.value),t.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}},c=e.windowManager.open(s());c.focus("pattern"),t.hasLoaded()||(c.block("Loading emoticons..."),t.waitForLoad().then(function(){c.redial(s()),i.throttle(c),c.focus("pattern"),c.unblock()}).catch(function(e){c.redial({title:"Emoticons",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"<p>Could not load emoticons</p>"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),c.focus("pattern"),c.unblock()}))},H=function(e,t){var n=function(){return F(e,t)};e.ui.registry.addButton("emoticons",{tooltip:"Emoticons",icon:"emoji",onAction:n}),e.ui.registry.addMenuItem("emoticons",{text:"Emoticons...",icon:"emoji",onAction:n})};!function(){t.add("emoticons",function(e,t){var n=I(e,t),r=R(e),o=z(e,n,r);H(e,o),g(e,o)})}()}(window)},function(e,t,n){n(61)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){e.addCommand("InsertHorizontalRule",function(){e.execCommand("mceInsertContent",!1,"<hr />")})},n=function(e){e.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:function(){return e.execCommand("InsertHorizontalRule")}}),e.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:function(){return e.execCommand("InsertHorizontalRule")}})};!function(){e.add("hr",function(e){t(e),n(e)})}()}()},function(e,t,n){n(63)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){var t=e.getParam("nonbreaking_force_tab",0);return"boolean"==typeof t?!0===t?3:0:t},n=function(e){return e.getParam("nonbreaking_wrap",!0,"boolean")},r=function(e,t){for(var n="",r=0;r<t;r++)n+=e;return n},o=function(e){return!!e.plugins.visualchars&&e.plugins.visualchars.isEnabled()},i=function(e,t){var i=function(){return o(e)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"},a=n(e),u=a||e.plugins.visualchars?function(){return'<span class="'+i()+'" contenteditable="false">'+r("&nbsp;",t)+"</span>"}():r("&nbsp;",t);e.undoManager.transact(function(){return e.insertContent(u)})},a=function(e){e.addCommand("mceNonBreaking",function(){i(e,1)})},u=tinymce.util.Tools.resolve("tinymce.util.VK"),s=function(e){var n=t(e);n>0&&e.on("keydown",function(t){if(t.keyCode===u.TAB&&!t.isDefaultPrevented()){if(t.shiftKey)return;t.preventDefault(),t.stopImmediatePropagation(),i(e,n)}})},c=function(e){e.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:function(){return e.execCommand("mceNonBreaking")}}),e.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:function(){return e.execCommand("mceNonBreaking")}})};!function(){e.add("nonbreaking",function(e){a(e),c(e),s(e)})}()}()},function(e,t,n){n(65)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){return e.getParam("insertdatetime_dateformat",e.translate("%Y-%m-%d"))},n=function(e){return e.getParam("insertdatetime_timeformat",e.translate("%H:%M:%S"))},r=function(e){return e.getParam("insertdatetime_formats",["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"])},o=function(e){var t=r(e);return t.length>0?t[0]:n(e)},i=function(e){return e.getParam("insertdatetime_element",!1)},a="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),u="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),s="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),c="January February March April May June July August September October November December".split(" "),l=function(e,t){if(e=""+e,e.length<t)for(var n=0;n<t-e.length;n++)e="0"+e;return e},f=function(e,t,n){return n=n||new Date,t=t.replace("%D","%m/%d/%Y"),t=t.replace("%r","%I:%M:%S %p"),t=t.replace("%Y",""+n.getFullYear()),t=t.replace("%y",""+n.getYear()),t=t.replace("%m",l(n.getMonth()+1,2)),t=t.replace("%d",l(n.getDate(),2)),t=t.replace("%H",""+l(n.getHours(),2)),t=t.replace("%M",""+l(n.getMinutes(),2)),t=t.replace("%S",""+l(n.getSeconds(),2)),t=t.replace("%I",""+((n.getHours()+11)%12+1)),t=t.replace("%p",n.getHours()<12?"AM":"PM"),t=t.replace("%B",""+e.translate(c[n.getMonth()])),t=t.replace("%b",""+e.translate(s[n.getMonth()])),t=t.replace("%A",""+e.translate(u[n.getDay()])),t=t.replace("%a",""+e.translate(a[n.getDay()])),t=t.replace("%%","%")},d=function(e,t,n,r){var o=e.dom.create("time",{datetime:n},r);t.parentNode.insertBefore(o,t),e.dom.remove(t),e.selection.select(o,!0),e.selection.collapse(!1)},p=function(e,t){if(i(e)){var n=f(e,t),r=void 0;r=/%[HMSIp]/.test(t)?f(e,"%Y-%m-%dT%H:%M"):f(e,"%Y-%m-%d");var o=e.dom.getParent(e.selection.getStart(),"time");o?d(e,o,r,n):e.insertContent('<time datetime="'+r+'">'+n+"</time>")}else e.insertContent(f(e,t))},m=function(e){e.addCommand("mceInsertDate",function(){p(e,t(e))}),e.addCommand("mceInsertTime",function(){p(e,n(e))})},h=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},g=tinymce.util.Tools.resolve("tinymce.util.Tools"),v=function(e){var t=r(e),n=h(o(e));e.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:function(e){return e===n.get()},fetch:function(n){n(g.map(t,function(t){return{type:"choiceitem",text:f(e,t),value:t}}))},onAction:function(t){p(e,n.get())},onItemAction:function(t,r){n.set(r),p(e,r)}});var i=function(t){return function(){n.set(t),p(e,t)}};e.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:function(){return g.map(t,function(t){return{type:"menuitem",text:f(e,t),onAction:i(t)}})}})};!function(){e.add("insertdatetime",function(e){m(e),v(e)})}()}()},function(e,t,n){n(67)},function(e,t){!function(e){"use strict";var t=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(e){return{isFullscreen:function(){return null!==e.get()}}},o=function(){},i=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},a=function(e,t){return function(n){return e(t(n))}},u=function(e){return function(){return e}},s=u(!1),c=u(!0),l=function(){return f},f=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:s,isSome:s,isNone:c,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(void 0),or:n,orThunk:t,map:l,each:o,bind:l,exists:s,forall:c,filter:l,equals:e,equals_:e,toArray:function(){return[]},toString:u("none()")}}(),d=function(e){var t=u(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:c,isNone:s,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return d(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:f},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(s,function(t){return n(e,t)})}};return o},p=function(e){return null===e||void 0===e?f:d(e)},m={some:d,none:l,from:p},h=function(e){var n=t(m.none()),r=function(){n.get().each(e)},o=function(){r(),n.set(m.none())},i=function(e){r(),n.set(m.some(e))};return{clear:o,isSet:function(){return n.get().isSome()},set:i}},g=function(){return h(function(e){e.unbind()})},v=function(){var e=t(m.none()),n=function(){e.set(m.none())},r=function(t){e.set(m.some(t))},o=function(t){e.get().each(t)};return{clear:n,set:r,isSet:function(){return e.get().isSome()},on:o}},b=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},y=function(e){return function(t){return b(t)===e}},w=function(e){return function(t){return typeof t===e}},x=y("string"),C=y("array"),_=w("boolean"),S=function(e){return null===e||void 0===e},k=function(e){return!S(e)},T=w("function"),E=w("number"),O=Array.prototype.push,N=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},A=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},D=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},M=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!C(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);O.apply(t,e[n])}return t},I=function(e,t){return M(N(e,t))},R=function(e){return 0===e.length?m.none():m.some(e[0])},P=Object.keys,L=function(e,t){for(var n=P(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},j=function(e){return void 0!==e.style&&T(e.style.getPropertyValue)},B=function(t,n){var r=n||e.document,o=r.createElement("div");if(o.innerHTML=t,!o.hasChildNodes()||o.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return H(o.childNodes[0])},z=function(t,n){var r=n||e.document,o=r.createElement(t);return H(o)},F=function(t,n){var r=n||e.document,o=r.createTextNode(t);return H(o)},H=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:u(e)}},U=function(e,t,n){var r=e.dom();return m.from(r.elementFromPoint(t,n)).map(H)},V={fromHtml:B,fromTag:z,fromText:F,fromDom:H,fromPoint:U},q=(void 0!==e.window?e.window:Function("return this;")(),function(e){return e.dom().nodeType}),W=function(e){return function(t){return q(t)===e}},$=W(1),G=W(3),X=W(9),K=W(11),Y=function(e,t){var n=e.dom();if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},J=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},Q=function(t,n){var r=void 0===n?e.document:n.dom();return J(r)?[]:N(r.querySelectorAll(t),V.fromDom)},Z=function(e,t){return e.dom()===t.dom()},ee=function(e){return V.fromDom(e.dom().ownerDocument)},te=function(e){return X(e)?e:ee(e)},ne=function(e){return m.from(e.dom().parentNode).map(V.fromDom)},re=function(e,t){for(var n=T(t)?t:s,r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=V.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},oe=function(e){var t=function(t){return D(t,function(t){return!Z(e,t)})};return ne(e).map(ie).map(t).getOr([])},ie=function(e){return N(e.dom().childNodes,V.fromDom)},ae=function(e){return K(e)},ue=T(e.Element.prototype.attachShadow)&&T(e.Node.prototype.getRootNode),se=u(ue),ce=ue?function(e){return V.fromDom(e.dom().getRootNode())}:te,le=function(e){var t=ce(e);return ae(t)?m.some(t):m.none()},fe=function(e){return V.fromDom(e.dom().host)},de=function(e){if(se()&&k(e.target)){var t=V.fromDom(e.target);if($(t)&&pe(V.fromDom(e.target))){var n=e;if(n.composed&&n.composedPath){var r=n.composedPath();if(r)return R(r)}}}return m.from(e.target)},pe=function(e){return k(e.dom().shadowRoot)},me=function(e){var t=G(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&null!==t.ownerDocument&&le(V.fromDom(t)).fold(function(){return t.ownerDocument.body.contains(t)},a(me,fe))},he=function(t,n,r){if(!(x(r)||_(r)||E(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")},ge=function(e,t,n){he(e.dom(),t,n)},ve=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},be=function(e,t){e.dom().removeAttribute(t)},ye=function(t,n,r){if(!x(r))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new Error("CSS value must be a string: "+r);j(t)&&t.style.setProperty(n,r)},we=function(e,t){var n=e.dom();L(t,function(e,t){ye(n,t,e)})},xe=function(t,n){var r=t.dom(),o=e.window.getComputedStyle(r),i=o.getPropertyValue(n);return""!==i||me(t)?i:Ce(r,n)},Ce=function(e,t){return j(e)?e.style.getPropertyValue(t):""},_e=function(e,t,n,r,o,i,a){return{target:u(e),x:u(t),y:u(n),stop:r,prevent:o,kill:i,raw:u(a)}},Se=function(e){var t=V.fromDom(de(e).getOr(e.target)),n=function(){return e.stopPropagation()},r=function(){return e.preventDefault()},o=i(r,n);return _e(t,e.clientX,e.clientY,n,r,o,e)},ke=function(e,t){var n=function(n,r){return ke(e+n,t+r)};return{left:u(e),top:u(t),translate:n}},Te=ke,Ee=function(t){var n=void 0!==t?t.dom():e.document,r=n.body.scrollLeft||n.documentElement.scrollLeft,o=n.body.scrollTop||n.documentElement.scrollTop;return Te(r,o)},Oe=function(t){var n=void 0===t?e.window:t;return m.from(n.visualViewport)},Ne=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},Ae=function(t){var n=void 0===t?e.window:t,r=n.document,o=Ee(V.fromDom(r));return Oe(n).fold(function(){var e=n.document.documentElement,t=e.clientWidth,r=e.clientHeight;return Ne(o.left(),o.top(),t,r)},function(e){return Ne(Math.max(e.pageLeft,o.left()),Math.max(e.pageTop,o.top()),e.width,e.height)})},De=function(e,t,n){return Oe(n).map(function(n){var r=function(e){return t(Se(e))};return n.addEventListener(e,r),{unbind:function(){return n.removeEventListener(e,r)}}}).getOrThunk(function(){return{unbind:o}})},Me=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ie=tinymce.util.Tools.resolve("tinymce.Env"),Re=tinymce.util.Tools.resolve("tinymce.util.Delay"),Pe=function(e,t){e.fire("FullscreenStateChanged",{state:t})},Le=function(e,t,n){return D(re(e,n),t)},je=function(e,t){return D(oe(e),t)},Be=function(e){return Q(e)},ze=function(e,t,n){return Le(e,function(e){return Y(e,t)},n)},Fe=function(e,t){return je(e,function(e){return Y(e,t)})},He="data-ephox-mobile-fullscreen-style",Ue="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",Ve=Ie.os.isAndroid(),qe=function(e){var t=xe(e,"background-color");return void 0!==t&&""!==t?"background-color:"+t+"!important":"background-color:rgb(255,255,255)!important;"},We=function(e,t,n){var r=function(e){return Fe(e,"*:not(.tox-silver-sink)")},o=function(t){return function(n){var r=ve(n,"style"),o=void 0===r?"no-styles":r.trim();o!==t&&(ge(n,He,o),we(n,e.parseStyle(t)))}},i=ze(t,"*"),a=I(i,r),u=qe(n);A(a,o("display:none!important;")),A(i,o("position:absolute!important;"+Ue+u)),o((!0===Ve?"":"position:absolute!important;")+Ue+u)(t)},$e=function(e){var t=Be("["+He+"]");A(t,function(t){var n=ve(t,He);"no-styles"!==n?we(t,e.parseStyle(n)):be(t,"style"),be(t,He)})},Ge=Me.DOM,Xe=function(){var t=Ae(e.window);return{x:t.x,y:t.y}},Ke=function(t){e.window.scrollTo(t.x,t.y)},Ye=Oe().fold(function(){return{bind:o,unbind:o}},function(t){var n=v(),r=g(),o=g(),i=function(){e.document.body.scrollTop=0,e.document.documentElement.scrollTop=0},a=function(){e.window.requestAnimationFrame(function(){n.on(function(e){return we(e,{top:t.offsetTop+"px",left:t.offsetLeft+"px",height:t.height+"px",width:t.width+"px"})})})},u=Re.throttle(function(){i(),a()},50);return{bind:function(e){n.set(e),u(),r.set(De("resize",u)),o.set(De("scroll",u))},unbind:function(){n.on(function(){r.clear(),o.clear()}),n.clear()}}}),Je=function(t,n){var r=e.document.body,o=e.document.documentElement,i=t.getContainer(),a=V.fromDom(i),u=n.get(),s=V.fromDom(t.getBody()),c=Ie.deviceType.isTouch(),l=i.style,f=t.iframeElement,d=f.style,p=function(){c&&$e(t.dom),Ge.removeClass(r,"tox-fullscreen"),Ge.removeClass(o,"tox-fullscreen"),Ge.removeClass(i,"tox-fullscreen"),Ye.unbind()};if(u)d.width=u.iframeWidth,d.height=u.iframeHeight,l.width=u.containerWidth,l.height=u.containerHeight,l.top=u.containerTop,l.left=u.containerLeft,Ke(u.scrollPos),n.set(null),Pe(t,!1),p(),t.off("remove",p);else{var m={scrollPos:Xe(),containerWidth:l.width,containerHeight:l.height,containerTop:l.top,containerLeft:l.left,iframeWidth:d.width,iframeHeight:d.height};c&&We(t.dom,a,s),d.width=d.height="100%",l.width=l.height="",Ge.addClass(r,"tox-fullscreen"),Ge.addClass(o,"tox-fullscreen"),Ge.addClass(i,"tox-fullscreen"),Ye.bind(a),t.on("remove",p),n.set(m),Pe(t,!0)}},Qe=function(e,t){e.addCommand("mceFullScreen",function(){Je(e,t)})},Ze=function(e,t){return function(n){n.setActive(null!==t.get());var r=function(e){return n.setActive(e.state)};return e.on("FullscreenStateChanged",r),function(){return e.off("FullscreenStateChanged",r)}}},et=function(e,t){e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:function(){return e.execCommand("mceFullScreen")},onSetup:Ze(e,t)}),e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:function(){return e.execCommand("mceFullScreen")},onSetup:Ze(e,t)})};!function(){n.add("fullscreen",function(e){var n=t(null);return e.inline?r(n):(Qe(e,n),et(e,n),e.addShortcut("Meta+Shift+F","","mceFullScreen"),r(n))})}()}(window)},function(e,t,n){n(69)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(e){return e.getParam("content_style","")},o=function(e){return e.getParam("content_css_cors",!1,"boolean")},i=function(e){return e.getParam("body_class","","hash")[e.id]||""},a=function(e){var t=e.getParam("body_class","","string");return-1===t.indexOf("=")?t:i(e)},u=function(e){var t=e.getParam("body_id","","hash");return t[e.id]||t},s=function(e){var t=e.getParam("body_id","tinymce","string");return-1===t.indexOf("=")?t:u(e)},c=function(e){var i="",u=e.dom.encode,c=r(e);i+='<base href="'+u(e.documentBaseURI.getURI())+'">',c&&(i+='<style type="text/css">'+c+"</style>");var l=o(e)?' crossorigin="anonymous"':"";n.each(e.contentCSS,function(t){i+='<link type="text/css" rel="stylesheet" href="'+u(e.documentBaseURI.toAbsolute(t))+'"'+l+">"});var f=s(e),d=a(e),p=t.mac?"e.metaKey":"e.ctrlKey && !e.altKey",m='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+p+")) {e.preventDefault();}}}, false);<\/script> ",h=e.getBody().dir,g=h?' dir="'+u(h)+'"':"";return"<!DOCTYPE html><html><head>"+i+'</head><body id="'+u(f)+'" class="mce-content-body '+u(d)+'"'+g+">"+e.getContent()+m+"</body></html>"},l=function(e){var t=c(e);e.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:t}}).focus("close")},f=function(e){e.addCommand("mcePreview",function(){l(e)})},d=function(e){e.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:function(){return e.execCommand("mcePreview")}}),e.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:function(){return e.execCommand("mcePreview")}})};!function(){e.add("preview",function(e){f(e),d(e)})}()}()},function(e,t,n){n(71)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=function(e){e.addCommand("mcePrint",function(){t.browser.isIE()?e.getDoc().execCommand("print",!1,null):e.getWin().print()})},r=function(e){e.ui.registry.addButton("print",{icon:"print",tooltip:"Print",onAction:function(){return e.execCommand("mcePrint")}}),e.ui.registry.addMenuItem("print",{text:"Print...",icon:"print",onAction:function(){return e.execCommand("mcePrint")}})};!function(){e.add("print",function(e){n(e),r(e),e.addShortcut("Meta+P","","mcePrint")})}()}()},function(e,t,n){n(73)},function(e,t){!function(e){"use strict";function t(t){var n=function(n,r,o,i){var a=new e.XMLHttpRequest;a.open("POST",t.url),a.withCredentials=t.credentials,a.upload.onprogress=function(e){i(e.loaded/e.total*100)},a.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=function(){if(a.status<200||a.status>=300)return void o("HTTP Error: "+a.status);var e=JSON.parse(a.responseText);if(!e||"string"!=typeof e.location)return void o("Invalid JSON: "+a.responseText);r(ct(t.basePath,e.location))};var u=new e.FormData;u.append("file",n.blob(),n.filename()),a.send(u)},o=function(e,t){return new z(function(n,o){try{t(e,n,o,r)}catch(e){o(e.message)}})},i=function(e){return e===n},a=function(e){return!t.url&&i(t.handler)?z.reject("Upload url missing from the settings."):o(e,t.handler)};return t=et.extend({credentials:!1,handler:n},t),{upload:a}}var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(){},o=function(e){return function(){return e}},i=o(!1),a=o(!0),u=function(){return s},s=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:i,isSome:i,isNone:a,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:o(null),getOrUndefined:o(void 0),or:n,orThunk:t,map:u,each:r,bind:u,exists:i,forall:a,filter:u,equals:e,equals_:e,toArray:function(){return[]},toString:o("none()")}}(),c=function(e){var t=o(e),n=function(){return u},r=function(t){return t(e)},u={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:a,isNone:i,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return c(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?u:s},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(i,function(t){return n(e,t)})}};return u},l=function(e){return null===e||void 0===e?s:c(e)},f={some:c,none:u,from:l},d=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},p=function(e){return function(t){return d(t)===e}},m=function(e){return function(t){return typeof t===e}},h=p("string"),g=p("object"),v=p("array"),b=function(e){return function(t){return e===t}}(null),y=m("boolean"),w=m("number"),x=Array.prototype.push,C=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!v(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);x.apply(t,e[n])}return t},_=function(e){return 0===e.length?f.none():f.some(e[0])},S=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return f.none()},k=Object.prototype.hasOwnProperty,T=function(e,t){return g(e)&&g(t)?E(e,t):t},E=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)k.call(i,a)&&(r[a]=e(r[a],i[a]))}return r}}(T),O=function(){return O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},O.apply(this,arguments)},N=(void 0!==e.window?e.window:Function("return this;")(),function(t,n,r){if(!(h(r)||y(r)||w(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")}),A=function(e,t,n){N(e.dom(),t,n)},D=function(e,t){e.dom().removeAttribute(t)},M=function(t,n){var r=n||e.document,o=r.createElement("div");if(o.innerHTML=t,!o.hasChildNodes()||o.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return P(o.childNodes[0])},I=function(t,n){var r=n||e.document,o=r.createElement(t);return P(o)},R=function(t,n){var r=n||e.document,o=r.createTextNode(t);return P(o)},P=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:o(e)}},L=function(e,t,n){var r=e.dom();return f.from(r.elementFromPoint(t,n)).map(P)},j={fromHtml:M,fromTag:I,fromText:R,fromDom:P,fromPoint:L},B=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),z=tinymce.util.Tools.resolve("tinymce.util.Promise"),F=tinymce.util.Tools.resolve("tinymce.util.XHR"),H=function(e){return e.getParam("image_dimensions",!0,"boolean")},U=function(e){return e.getParam("image_advtab",!1,"boolean")},V=function(e){return e.getParam("image_uploadtab",!0,"boolean")},q=function(e){return e.getParam("image_prepend_url","","string")},W=function(e){return e.getParam("image_class_list")},$=function(e){return e.getParam("image_description",!0,"boolean")},G=function(e){return e.getParam("image_title",!1,"boolean")},X=function(e){return e.getParam("image_caption",!1,"boolean")},K=function(e){return e.getParam("image_list",!1)},Y=function(e){return!!Q(e)},J=function(e){return!!Z(e)},Q=function(e){return e.getParam("images_upload_url","","string")},Z=function(e){return e.getParam("images_upload_handler",void 0,"function")},ee=function(e){return e.getParam("images_upload_base_path",void 0,"string")},te=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},ne=function(e){return e.getParam("a11y_advanced_options",!1,"boolean")},re=function(e){return e.getParam("automatic_uploads",!0,"boolean")},oe=function(e,t){return Math.max(parseInt(e,10),parseInt(t,10))},ie=function(t){return new z(function(n){var r=e.document.createElement("img"),o=function(e){r.parentNode&&r.parentNode.removeChild(r),n(e)};r.onload=function(){var e=oe(r.width,r.clientWidth),t=oe(r.height,r.clientHeight),n={width:e,height:t};o(z.resolve(n))},r.onerror=function(){o(z.reject("Failed to get image dimensions for: "+t))};var i=r.style;i.visibility="hidden",i.position="fixed",i.bottom=i.left="0px",i.width=i.height="auto",e.document.body.appendChild(r),r.src=t})},ae=function(e){return e&&(e=e.replace(/px$/,"")),e},ue=function(e){return e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e},se=function(e){if(e.margin){var t=String(e.margin).split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e},ce=function(e,t){var n=K(e);"string"==typeof n?F.send({url:n,success:function(e){t(JSON.parse(e))}}):"function"==typeof n?n(t):t(n)},le=function(e,t,n){var r=function(){n.onload=n.onerror=null,e.selection&&(e.selection.select(n),e.nodeChanged())};n.onload=function(){t.width||t.height||!H(e)||e.dom.setAttribs(n,{width:String(n.clientWidth),height:String(n.clientHeight)}),r()},n.onerror=r},fe=function(t){return new z(function(n,r){var o=new e.FileReader;o.onload=function(){n(o.result)},o.onerror=function(){r(o.error.message)},o.readAsDataURL(t)})},de=function(e){return"IMG"===e.nodeName&&(e.hasAttribute("data-mce-object")||e.hasAttribute("data-mce-placeholder"))},pe=B.DOM,me=function(e){return e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?ae(e.style.marginLeft):""},he=function(e){return e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?ae(e.style.marginTop):""},ge=function(e){return e.style.borderWidth?ae(e.style.borderWidth):""},ve=function(e,t){return e.hasAttribute(t)?e.getAttribute(t):""},be=function(e,t){return e.style[t]?e.style[t]:""},ye=function(e){return null!==e.parentNode&&"FIGURE"===e.parentNode.nodeName},we=function(e,t,n){""===n?e.removeAttribute(t):e.setAttribute(t,n)},xe=function(e){var t=pe.create("figure",{class:"image"});pe.insertAfter(t,e),t.appendChild(e),t.appendChild(pe.create("figcaption",{contentEditable:"true"},"Caption")),t.contentEditable="false"},Ce=function(e){var t=e.parentNode;pe.insertAfter(e,t),pe.remove(t)},_e=function(e){ye(e)?Ce(e):xe(e)},Se=function(e,t){var n=e.getAttribute("style"),r=t(null!==n?n:"");r.length>0?(e.setAttribute("style",r),e.setAttribute("data-mce-style",r)):e.removeAttribute("style")},ke=function(e,t){return function(e,n,r){e.style[n]?(e.style[n]=ue(r),Se(e,t)):we(e,n,r)}},Te=function(e,t){return e.style[t]?ae(e.style[t]):ve(e,t)},Ee=function(e,t){var n=ue(t);e.style.marginLeft=n,e.style.marginRight=n},Oe=function(e,t){var n=ue(t);e.style.marginTop=n,e.style.marginBottom=n},Ne=function(e,t){var n=ue(t);e.style.borderWidth=n},Ae=function(e,t){e.style.borderStyle=t},De=function(e){return be(e,"borderStyle")},Me=function(e){return"FIGURE"===e.nodeName},Ie=function(e){return"IMG"===e.nodeName},Re=function(e){return 0===pe.getAttrib(e,"alt").length&&"presentation"===pe.getAttrib(e,"role")},Pe=function(e){return Re(e)?"":ve(e,"alt")},Le=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},je=function(t,n){var r=e.document.createElement("img");return we(r,"style",n.style),(me(r)||""!==n.hspace)&&Ee(r,n.hspace),(he(r)||""!==n.vspace)&&Oe(r,n.vspace),(ge(r)||""!==n.border)&&Ne(r,n.border),(De(r)||""!==n.borderStyle)&&Ae(r,n.borderStyle),t(r.getAttribute("style"))},Be=function(t,n){var r=e.document.createElement("img");if(qe(t,O(O({},n),{caption:!1}),r),He(r,n.alt,n.isDecorative),n.caption){var o=pe.create("figure",{class:"image"});return o.appendChild(r),o.appendChild(pe.create("figcaption",{contentEditable:"true"},"Caption")),o.contentEditable="false",o}return r},ze=function(e,t){return{src:ve(t,"src"),alt:Pe(t),title:ve(t,"title"),width:Te(t,"width"),height:Te(t,"height"),class:ve(t,"class"),style:e(ve(t,"style")),caption:ye(t),hspace:me(t),vspace:he(t),border:ge(t),borderStyle:be(t,"borderStyle"),isDecorative:Re(t)}},Fe=function(e,t,n,r,o){n[r]!==t[r]&&o(e,r,n[r])},He=function(e,t,n){if(n){pe.setAttrib(e,"role","presentation");var r=j.fromDom(e);A(r,"alt","")}else{if(b(t)){var r=j.fromDom(e);D(r,"alt")}else{var r=j.fromDom(e);A(r,"alt",t)}"presentation"===pe.getAttrib(e,"role")&&pe.setAttrib(e,"role","")}},Ue=function(e,t,n){n.alt===t.alt&&n.isDecorative===t.isDecorative||He(e,n.alt,n.isDecorative)},Ve=function(e,t){return function(n,r,o){e(n,o),Se(n,t)}},qe=function(e,t,n){var r=ze(e,n);Fe(n,r,t,"caption",function(e,t,n){return _e(e)}),Fe(n,r,t,"src",we),Fe(n,r,t,"title",we),Fe(n,r,t,"width",ke(0,e)),Fe(n,r,t,"height",ke(0,e)),Fe(n,r,t,"class",we),Fe(n,r,t,"style",Ve(function(e,t){return we(e,"style",t)},e)),Fe(n,r,t,"hspace",Ve(Ee,e)),Fe(n,r,t,"vspace",Ve(Oe,e)),Fe(n,r,t,"border",Ve(Ne,e)),Fe(n,r,t,"borderStyle",Ve(Ae,e)),Ue(n,r,t)},We=function(e,t){var n=e.dom.styles.parse(t),r=se(n),o=e.dom.styles.parse(e.dom.styles.serialize(r));return e.dom.styles.serialize(o)},$e=function(e){var t=e.selection.getNode(),n=e.dom.getParent(t,"figure.image");return n?e.dom.select("img",n)[0]:t&&("IMG"!==t.nodeName||de(t))?null:t},Ge=function(e,t){var n=e.dom,r=n.getParent(t.parentNode,function(t){return!!e.schema.getTextBlockElements()[t.nodeName]},e.getBody());return r?n.split(r,t):t},Xe=function(e){var t=$e(e);return t?ze(function(t){return We(e,t)},t):Le()},Ke=function(e,t){var n=Be(function(t){return We(e,t)},t);e.dom.setAttrib(n,"data-mce-id","__mcenew"),e.focus(),e.selection.setContent(n.outerHTML);var r=e.dom.select('*[data-mce-id="__mcenew"]')[0];if(e.dom.setAttrib(r,"data-mce-id",null),Me(r)){var o=Ge(e,r);e.selection.select(o)}else e.selection.select(r)},Ye=function(e,t){e.dom.setAttrib(t,"src",t.getAttribute("src"))},Je=function(e,t){if(t){var n=e.dom.is(t.parentNode,"figure.image")?t.parentNode:t;e.dom.remove(n),e.focus(),e.nodeChanged(),e.dom.isEmpty(e.getBody())&&(e.setContent(""),e.selection.setCursorLocation())}},Qe=function(e,t){var n=$e(e);if(qe(function(t){return We(e,t)},t,n),Ye(e,n),Me(n.parentNode)){var r=n.parentNode;Ge(e,r),e.selection.select(n.parentNode)}else e.selection.select(n),le(e,t,n)},Ze=function(e,t){var n=$e(e);if(n){var r=ze(function(t){return We(e,t)},n),o=O(O({},r),t);o.src?Qe(e,o):Je(e,n)}else t.src&&Ke(e,O(O({},Le()),t))},et=tinymce.util.Tools.resolve("tinymce.util.Tools"),tt=function(e){return h(e.value)?e.value:""},nt=function(e,t){var n=[];return et.each(e,function(e){var r=h(e.text)?e.text:h(e.title)?e.title:"";if(void 0!==e.menu){var o=nt(e.menu,t);n.push({text:r,items:o})}else{var i=t(e);n.push({text:r,value:i})}}),n},rt=function(e){return void 0===e&&(e=tt),function(t){return t?f.from(t).map(function(t){return nt(t,e)}):f.none()}},ot=function(e){return rt(tt)(e)},it=function(e){return Object.prototype.hasOwnProperty.call(e,"items")},at=function(e,t){return S(e,function(e){return it(e)?at(e.items,t):e.value===t?f.some(e):f.none()})},ut=function(e,t){return e.bind(function(e){return at(e,t)})},st={sanitizer:rt,sanitize:ot,findEntry:ut},ct=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t},lt=function(e){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"selectbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},ft={makeTab:lt},dt=function(e){var t=st.sanitizer(function(t){return e.convertURL(t.value||t.url,"src")}),n=new z(function(n){ce(e,function(e){n(t(e).map(function(e){return C([[{text:"None",value:""}],e])}))})}),r=st.sanitize(W(e)),o=U(e),i=V(e),a=Y(e),u=J(e),s=Xe(e),c=$(e),l=G(e),d=H(e),p=X(e),m=ne(e),g=Q(e),v=ee(e),b=te(e),y=Z(e),w=re(e),x=f.some(q(e)).filter(function(e){return h(e)&&e.length>0});return n.then(function(e){return{image:s,imageList:e,classList:r,hasAdvTab:o,hasUploadTab:i,hasUploadUrl:a,hasUploadHandler:u,hasDescription:c,hasImageTitle:l,hasDimensions:d,hasImageCaption:p,url:g,basePath:v,credentials:b,handler:y,prependURL:x,hasAccessibilityOptions:m,automaticUploads:w}})},pt=function(e){var t={name:"src",type:"urlinput",filetype:"image",label:"Source"},n=e.imageList.map(function(e){return{name:"images",type:"selectbox",label:"Image list",items:e}}),r={name:"alt",type:"input",label:"Alternative description",disabled:e.hasAccessibilityOptions&&e.image.isDecorative},o={name:"title",type:"input",label:"Image title"},i={name:"dimensions",type:"sizeinput"},a={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},u=e.classList.map(function(e){return{name:"classes",type:"selectbox",label:"Class",items:e}}),s={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]};return C([[t],n.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[a]:[],e.hasDescription?[r]:[],e.hasImageTitle?[o]:[],e.hasDimensions?[i]:[],[{type:"grid",columns:2,items:C([u.toArray(),e.hasImageCaption?[s]:[]])}]])},mt=function(e){return{title:"General",name:"general",items:pt(e)}},ht={makeTab:mt,makeItems:pt},gt=function(e){return{title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]}},vt={makeTab:gt},bt=function(e){return{prevImage:st.findEntry(e.imageList,e.image.src),prevAlt:e.image.alt,open:!0}},yt=function(e){return{src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e.class,caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[],isDecorative:e.isDecorative}},wt=function(e,t){return{src:e.src.value,alt:0===e.alt.length&&t?null:e.alt,title:e.title,width:e.dimensions.width,height:e.dimensions.height,class:e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle,isDecorative:e.isDecorative}},xt=function(e,t){return/^(?:[a-zA-Z]+:)?\/\//.test(t)?f.none():e.prependURL.bind(function(e){return t.substring(0,e.length)!==e?f.some(e+t):f.none()})},Ct=function(e,t){var n=t.getData();xt(e,n.src.value).each(function(e){t.setData({src:{value:e,meta:n.src.meta}})})},_t=function(e,t,n){e.hasDescription&&h(n.alt)&&(t.alt=n.alt),e.hasAccessibilityOptions&&(t.isDecorative=n.isDecorative||t.isDecorative||!1),e.hasImageTitle&&h(n.title)&&(t.title=n.title),e.hasDimensions&&(h(n.width)&&(t.dimensions.width=n.width),h(n.height)&&(t.dimensions.height=n.height)),h(n.class)&&st.findEntry(e.classList,n.class).each(function(e){t.classes=e.value}),e.hasImageCaption&&y(n.caption)&&(t.caption=n.caption),e.hasAdvTab&&(h(n.style)&&(t.style=n.style),h(n.vspace)&&(t.vspace=n.vspace),h(n.border)&&(t.border=n.border),h(n.hspace)&&(t.hspace=n.hspace),h(n.borderstyle)&&(t.borderstyle=n.borderstyle))},St=function(e,t){var n=t.getData(),r=n.src.meta;if(void 0!==r){var o=E({},n);_t(e,o,r),t.setData(o)}},kt=function(e,t,n,r){var o=r.getData(),i=o.src.value,a=o.src.meta||{};a.width||a.height||!t.hasDimensions||e.imageSize(i).then(function(e){n.open&&r.setData({dimensions:e})})},Tt=function(e,t,n){var r=n.getData(),o=st.findEntry(e.imageList,r.src.value);t.prevImage=o,n.setData({images:o.map(function(e){return e.value}).getOr("")})},Et=function(e,t,n,r){Ct(t,r),St(t,r),kt(e,t,n,r),Tt(t,n,r)},Ot=function(e,t,n,r){var o=r.getData(),i=st.findEntry(t.imageList,o.images);i.each(function(e){""===o.alt||n.prevImage.map(function(e){return e.text===o.alt}).getOr(!1)?""===e.value?r.setData({src:e,alt:n.prevAlt}):r.setData({src:e,alt:e.text}):r.setData({src:e})}),n.prevImage=i,Et(e,t,n,r)},Nt=function(e){return e["margin-top"]&&e["margin-bottom"]&&e["margin-top"]===e["margin-bottom"]?ae(String(e["margin-top"])):""},At=function(e){return e["margin-right"]&&e["margin-left"]&&e["margin-right"]===e["margin-left"]?ae(String(e["margin-right"])):""},Dt=function(e){return e["border-width"]?ae(String(e["border-width"])):""},Mt=function(e){return e["border-style"]?String(e["border-style"]):""},It=function(e,t,n){return t(e(t(n)))},Rt=function(e,t,n){var r=se(e(n.style)),o=E({},n);return o.vspace=Nt(r),o.hspace=At(r),o.border=Dt(r),o.borderstyle=Mt(r),o.style=It(e,t,r),o},Pt=function(e,t){var n=t.getData(),r=Rt(e.parseStyle,e.serializeStyle,n);t.setData(r)},Lt=function(e,t,n){var r=E(yt(t.image),n.getData()),o=je(e.normalizeCss,wt(r,!1));n.setData({style:o})},jt=function(n,r,o,i){var a=i.getData();i.block("Uploading image"),_(a.fileinput).fold(function(){i.unblock()},function(a){var u=e.URL.createObjectURL(a),s=t({url:r.url,basePath:r.basePath,credentials:r.credentials,handler:r.handler}),c=function(){i.unblock(),e.URL.revokeObjectURL(u)},l=function(e){i.setData({src:{value:e,meta:{}}}),i.showTab("general"),Et(n,r,o,i)};fe(a).then(function(e){var t=n.createBlobCache(a,u,e);r.automaticUploads?s.upload(t).then(function(e){l(e),c()}).catch(function(e){c(),n.alertErr(e)}):(n.addToBlobCache(t),l(t.blobUri()),i.unblock())})})},Bt=function(e,t,n){return function(r,o){"src"===o.name?Et(e,t,n,r):"images"===o.name?Ot(e,t,n,r):"alt"===o.name?n.prevAlt=r.getData().alt:"style"===o.name?Pt(e,r):"vspace"===o.name||"hspace"===o.name||"border"===o.name||"borderstyle"===o.name?Lt(e,t,r):"fileinput"===o.name?jt(e,t,n,r):"isDecorative"===o.name&&(r.getData().isDecorative?r.disable("alt"):r.enable("alt"))}},zt=function(e){return function(){e.open=!1}},Ft=function(e){if(e.hasAdvTab||e.hasUploadUrl||e.hasUploadHandler){return{type:"tabpanel",tabs:C([[ht.makeTab(e)],e.hasAdvTab?[ft.makeTab(e)]:[],e.hasUploadTab&&(e.hasUploadUrl||e.hasUploadHandler)?[vt.makeTab(e)]:[]])}}return{type:"panel",items:ht.makeItems(e)}},Ht=function(e){return function(t){var n=bt(t);return{title:"Insert/Edit Image",size:"normal",body:Ft(t),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:yt(t.image),onSubmit:e.onSubmit(t),onChange:Bt(e,t,n),onClose:zt(n)}}},Ut=function(e){return function(t){return function(n){var r=E(yt(t.image),n.getData());e.execCommand("mceUpdateImage",!1,wt(r,t.hasAccessibilityOptions)),e.editorUpload.uploadImagesAuto(),n.close()}}},Vt=function(e){return function(t){return ie(e.documentBaseURI.toAbsolute(t)).then(function(e){return{width:String(e.width),height:String(e.height)}})}},qt=function(e){return function(t,n,r){return e.editorUpload.blobCache.create({blob:t,blobUri:n,name:t.name?t.name.replace(/\.[^\.]+$/,""):null,base64:r.split(",")[1]})}},Wt=function(e){return function(t){e.editorUpload.blobCache.add(t)}},$t=function(e){return function(t){e.windowManager.alert(t)}},Gt=function(e){return function(t){return We(e,t)}},Xt=function(e){return function(t){return e.dom.parseStyle(t)}},Kt=function(e){return function(t,n){return e.dom.serializeStyle(t,n)}},Yt=function(e){var t={onSubmit:Ut(e),imageSize:Vt(e),addToBlobCache:Wt(e),createBlobCache:qt(e),alertErr:$t(e),normalizeCss:Gt(e),parseStyle:Xt(e),serializeStyle:Kt(e)},n=function(){return dt(e).then(Ht(t)).then(function(t){return e.windowManager.open(t)})};return{open:n,openLater:function(){n()}}},Jt=function(e){e.addCommand("mceImage",Yt(e).openLater),e.addCommand("mceUpdateImage",function(t,n){e.undoManager.transact(function(){return Ze(e,n)})})},Qt=function(e){var t=e.attr("class");return t&&/\bimage\b/.test(t)},Zt=function(e){return function(t){for(var n=t.length,r=function(t){t.attr("contenteditable",e?"true":null)};n--;){var o=t[n];Qt(o)&&(o.attr("contenteditable",e?"false":null),et.each(o.getAll("figcaption"),r))}}},en=function(e){e.on("PreInit",function(){e.parser.addNodeFilter("figure",Zt(!0)),e.serializer.addNodeFilter("figure",Zt(!1))})},tn=function(e){e.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Yt(e).openLater,onSetup:function(t){return e.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",t.setActive).unbind}}),e.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Yt(e).openLater}),e.ui.registry.addContextMenu("image",{update:function(e){return Me(e)||Ie(e)&&!de(e)?["image"]:[]}})};!function(){n.add("image",function(e){en(e),tn(e),Jt(e)})}()}(window)},function(e,t,n){n(75)},function(e,t){!function(e){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.util.VK"),r=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},o=function(e){return function(t){return r(t)===e}},i=function(e){return function(t){return typeof t===e}},a=o("string"),u=o("array"),s=function(e){return function(t){return e===t}}(null),c=i("boolean"),l=i("function"),f=function(e){var t=e.getParam("link_assume_external_targets",!1);return c(t)&&t?1:!a(t)||"http"!==t&&"https"!==t?0:t},d=function(e){return e.getParam("link_context_toolbar",!1,"boolean")},p=function(e){return e.getParam("link_list")},m=function(e){return e.getParam("default_link_target")},h=function(e){return e.getParam("target_list",!0)},g=function(e){return e.getParam("rel_list",[],"array")},v=function(e){return e.getParam("link_class_list",[],"array")},b=function(e){return e.getParam("link_title",!0,"boolean")},y=function(e){return e.getParam("allow_unsafe_link_target",!1,"boolean")},w=function(e){return e.getParam("link_quicklink",!1,"boolean")},x=function(e){return e.getParam("link_default_protocol","http","string")},C=function(){},_=function(e){return function(){return e}},S=_(!1),k=_(!0),T=function(){return E},E=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:S,isSome:S,isNone:k,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:_(null),getOrUndefined:_(void 0),or:n,orThunk:t,map:T,each:C,bind:T,exists:S,forall:k,filter:T,equals:e,equals_:e,toArray:function(){return[]},toString:_("none()")}}(),O=function(e){var t=_(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:k,isNone:S,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return O(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:E},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(S,function(t){return n(e,t)})}};return o},N=function(e){return null===e||void 0===e?E:O(e)},A={some:O,none:T,from:N},D=Array.prototype.indexOf,M=Array.prototype.push,I=function(e,t){return D.call(e,t)},R=function(e,t){return I(e,t)>-1},P=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},L=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},j=function(e,t,n){return L(e,function(e){n=t(n,e)}),n},B=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!u(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);M.apply(t,e[n])}return t},z=function(e,t){return B(P(e,t))},F=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return A.none()},H=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},U=function(e,t){return e?A.some(t):A.none()},V=tinymce.util.Tools.resolve("tinymce.util.Tools"),q=function(e){return a(e.value)?e.value:""},W=function(e,t){var n=[];return V.each(e,function(e){var r=a(e.text)?e.text:a(e.title)?e.title:"";if(void 0!==e.menu);else{var o=t(e);n.push({text:r,value:o})}}),n},$=function(e){return void 0===e&&(e=q),function(t){return A.from(t).map(function(t){return W(t,e)})}},G=function(e){return $(q)(e)},X=function(e,t){return function(n){return{name:e,type:"selectbox",label:t,items:n}}},K={sanitize:G,sanitizeWith:$,createUi:X,getValue:q},Y=function(){return Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Y.apply(this,arguments)},J=Object.keys,Q=function(e,t){for(var n=J(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},Z=function(e){return function(t,n){e[n]=t}},ee=function(e,t,n,r){var o={};return Q(e,function(e,o){(t(e,o)?n:r)(e,o)}),o},te=function(e,t){var n={};return ee(e,t,Z(n),C),n},ne=function(e){return!(!/(^|[ ,])rtc([, ]|$)/.test(e.getParam("plugins","","string"))||!t.get("rtc"))},re=function(e){return/^\w+:/i.test(e)},oe=function(e){var t=e.getAttribute("data-mce-href");return t||e.getAttribute("href")},ie=function(e,t){var n=["noopener"],r=e?e.split(/\s+/):[],o=function(e){return e.filter(function(e){return-1===V.inArray(n,e)})},i=t?function(e){return e=o(e),e.length>0?e.concat(n):n}(r):o(r);return i.length>0?function(e){return V.trim(e.sort().join(" "))}(i):""},ae=function(e){return e.replace(/\uFEFF/g,"")},ue=function(e,t){return t=t||e.selection.getNode(),de(t)?e.dom.select("a[href]",t)[0]:e.dom.getParent(t,"a[href]")},se=function(e,t){var n=t?t.innerText||t.textContent:e.getContent({format:"text"});return ae(n)},ce=function(e){return e&&"A"===e.nodeName&&!!oe(e)},le=function(e){return V.grep(e,ce).length>0},fe=function(e){return!(/</.test(e)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(e)||-1===e.indexOf("href=")))},de=function(e){return e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className)},pe=function(e){return j(["title","rel","class","target"],function(t,n){return e[n].each(function(e){t[n]=e.length>0?e:null}),t},{href:e.href})},me=function(e,t){return"http"!==t&&"https"!==t||re(e)?e:t+"://"+e},he=function(e,t){var n=Y({},t);if(!(g(e).length>0)&&!1===y(e)){var r=ie(n.rel,"_blank"===n.target);n.rel=r||null}return A.from(n.target).isNone()&&!1===h(e)&&(n.target=m(e)),n.href=me(n.href,f(e)),n},ge=function(e,t,n,r){n.each(function(e){t.hasOwnProperty("innerText")?t.innerText=e:t.textContent=e}),e.dom.setAttribs(t,r),e.selection.select(t)},ve=function(e,t,n,r){de(t)?Se(e,t,r):n.fold(function(){e.execCommand("mceInsertLink",!1,r)},function(t){e.insertContent(e.dom.createHTML("a",r,e.dom.encode(t)))})},be=function(e,t,n){var r=e.selection.getNode(),o=ue(e,r),i=he(e,pe(n));e.undoManager.transact(function(){n.href===t.href&&t.attach(),o?(e.focus(),ge(e,o,n.text,i)):ve(e,r,n.text,i)})},ye=function(e){e.undoManager.transact(function(){var t=e.selection.getNode();if(de(t))_e(e,t);else{var n=e.dom.getParent(t,"a[href]",e.getBody());n&&e.dom.remove(n,!0)}e.focus()})},we=function(e){var t=e.class,n=e.href,r=e.rel,o=e.target,i=e.text,a=e.title;return te({class:t.getOrNull(),href:n,rel:r.getOrNull(),target:o.getOrNull(),text:i.getOrNull(),title:a.getOrNull()},function(e,t){return!1===s(e)})},xe=function(e,t,n){ne(e)?e.execCommand("createlink",!1,we(n)):be(e,t,n)},Ce=function(e){ne(e)?e.execCommand("unlink"):ye(e)},_e=function(e,t){var n=e.dom.select("img",t)[0];if(n){var r=e.dom.getParents(n,"a[href]",t)[0];r&&(r.parentNode.insertBefore(n,r),e.dom.remove(r))}},Se=function(e,t,n){var r=e.dom.select("img",t)[0];if(r){var o=e.dom.create("a",n);r.parentNode.insertBefore(o,r),o.appendChild(r)}},ke=function(e,t){return F(t,function(t){return U(t.value===e,t)})},Te=function(e,t,n,r){var o=r[t],i=e.length>0;return void 0!==o?ke(o,n).map(function(t){return{url:{value:t.value,meta:{text:i?e:t.text,attach:C}},text:i?e:t.text}}):A.none()},Ee=function(e,t){return"link"===t?e.link:"anchor"===t?e.anchor:A.none()},Oe=function(e,t){var n={text:e.text,title:e.title},r=function(e){return U(n.title.length<=0,A.from(e.meta.title).getOr(""))},o=function(e){return U(n.text.length<=0,A.from(e.meta.text).getOr(e.value))},i=function(e){var t=o(e.url),n=r(e.url);return t.isSome()||n.isSome()?A.some(Y(Y({},t.map(function(e){return{text:e}}).getOr({})),n.map(function(e){return{title:e}}).getOr({}))):A.none()},a=function(e,r){var o=Ee(t,r.name).getOr([]);return Te(n.text,r.name,o,e)};return{onChange:function(e,t){var r=t.name;return"url"===r?i(e()):R(["anchor","link"],r)?a(e(),t):"text"===r||"title"===r?(n[r]=e()[r],A.none()):A.none()}}},Ne={init:Oe,getDelta:Te},Ae=tinymce.util.Tools.resolve("tinymce.util.Delay"),De=tinymce.util.Tools.resolve("tinymce.util.Promise"),Me=function(e,t,n){var r=e.selection.getRng();Ae.setEditorTimeout(e,function(){e.windowManager.confirm(t,function(t){e.selection.setRng(r),n(t)})})},Ie=function(e){var t=e.href;return t.indexOf("@")>0&&-1===t.indexOf("/")&&-1===t.indexOf("mailto:")?A.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(e){return Y(Y({},e),{href:"mailto:"+t})}}):A.none()},Re=function(e,t){return function(n){var r=n.href;return 1===e&&!re(r)||0===e&&/^\s*www[\.|\d\.]/i.test(r)?A.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+t+":// prefix?",preprocess:function(e){return Y(Y({},e),{href:t+"://"+r})}}):A.none()}},Pe=function(e,t){return F([Ie,Re(f(e),x(e))],function(e){return e(t)}).fold(function(){return De.resolve(t)},function(n){return new De(function(r){Me(e,n.message,function(e){r(e?n.preprocess(t):t)})})})},Le={preprocess:Pe},je=function(e){var t=e.dom.select("a:not([href])"),n=z(t,function(e){var t=e.name||e.id;return t?[{text:t,value:"#"+t}]:[]});return n.length>0?A.some([{text:"None",value:""}].concat(n)):A.none()},Be={getAnchors:je},ze=function(e){var t=v(e);return t.length>0?K.sanitize(t):A.none()},Fe={getClasses:ze},He=tinymce.util.Tools.resolve("tinymce.util.XHR"),Ue=function(e){try{return A.some(JSON.parse(e))}catch(e){return A.none()}},Ve=function(e){var t=function(t){return e.convertURL(t.value||t.url,"href")},n=p(e);return new De(function(e){a(n)?He.send({url:n,success:function(t){return e(Ue(t))},error:function(t){return e(A.none())}}):l(n)?n(function(t){return e(A.some(t))}):e(A.from(n))}).then(function(e){return e.bind(K.sanitizeWith(t)).map(function(e){return e.length>0?[{text:"None",value:""}].concat(e):e})})},qe={getLinks:Ve},We=function(e,t){var n=g(e);if(n.length>0){var r=t.is("_blank"),o=!1===y(e),i=function(e){return ie(K.getValue(e),r)};return(o?K.sanitizeWith(i):K.sanitize)(n)}return A.none()},$e={getRels:We},Ge=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Xe=function(e){var t=h(e);return u(t)?K.sanitize(t).orThunk(function(){return A.some(Ge)}):!1===t?A.none():A.some(Ge)},Ke={getTargets:Xe},Ye=function(e,t,n){var r=e.getAttrib(t,n);return null!==r&&r.length>0?A.some(r):A.none()},Je=function(e,t){var n=e.dom,r=fe(e.selection.getContent()),o=r?A.some(se(e.selection,t)):A.none(),i=t?A.some(n.getAttrib(t,"href")):A.none(),a=t?A.from(n.getAttrib(t,"target")):A.none(),u=Ye(n,t,"rel"),s=Ye(n,t,"class");return{url:i,text:o,title:Ye(n,t,"title"),target:a,rel:u,linkClass:s}},Qe=function(e,t){return qe.getLinks(e).then(function(n){var r=Je(e,t);return{anchor:r,catalogs:{targets:Ke.getTargets(e),rels:$e.getRels(e,r.target),classes:Fe.getClasses(e),anchor:Be.getAnchors(e),link:n},optNode:A.from(t),flags:{titleEnabled:b(e)}}})},Ze={collect:Qe},et=function(e,t){return function(n){var r=n.getData();if(!r.url.value)return Ce(e),void n.close();var o=function(e){return A.from(r[e]).filter(function(n){return!t.anchor[e].is(n)})},i={href:r.url.value,text:o("text"),target:o("target"),rel:o("rel"),class:o("linkClass"),title:o("title")},a={href:r.url.value,attach:void 0!==r.url.meta&&r.url.meta.attach?r.url.meta.attach:function(){}};Le.preprocess(e,i).then(function(t){xe(e,a,t)}),n.close()}},tt=function(e){var t=ue(e);return Ze.collect(e,t)},nt=function(e,t){var n=e.anchor,r=n.url.getOr("");return{url:{value:r,meta:{original:{value:r}}},text:n.text.getOr(""),title:n.title.getOr(""),anchor:r,link:r,rel:n.rel.getOr(""),target:n.target.or(t).getOr(""),linkClass:n.linkClass.getOr("")}},rt=function(e,t,n){var r=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],o=e.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),i=e.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],a=A.from(m(n)),u=nt(e,a),s=e.catalogs,c=Ne.init(u,s);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:B([r,o,i,H([s.anchor.map(K.createUi("anchor","Anchors")),s.rels.map(K.createUi("rel","Rel")),s.targets.map(K.createUi("target","Open link in...")),s.link.map(K.createUi("link","Link list")),s.classes.map(K.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:u,onChange:function(e,t){var n=t.name;c.onChange(e.getData,{name:n}).each(function(t){e.setData(t)})},onSubmit:t}},ot=function(e){tt(e).then(function(t){var n=et(e,t);return rt(t,n,e)}).then(function(t){e.windowManager.open(t)})},it=function(t,n){e.document.body.appendChild(t),t.dispatchEvent(n),e.document.body.removeChild(t)},at=function(t){var n=e.document.createElement("a");n.target="_blank",n.href=t,n.rel="noreferrer noopener";var r=e.document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,e.window,0,0,0,0,0,!1,!1,!1,!1,0,null),it(n,r)},ut=function(e,t){return e.dom.getParent(t,"a[href]")},st=function(e){return ut(e,e.selection.getStart())},ct=function(e){return!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey},lt=function(e,t){if(t){var n=oe(t);if(/^#/.test(n)){var r=e.$(n);r.length&&e.selection.scrollIntoView(r[0],!0)}else at(t.href)}},ft=function(e){return function(){ot(e)}},dt=function(e){return function(){lt(e,st(e))}},pt=function(e){e.on("click",function(t){var r=ut(e,t.target);r&&n.metaKeyPressed(t)&&(t.preventDefault(),lt(e,r))}),e.on("keydown",function(t){var n=st(e);n&&13===t.keyCode&&ct(t)&&(t.preventDefault(),lt(e,n))})},mt=function(e){return function(t){var n=function(n){return t.setActive(!e.mode.isReadOnly()&&!!ue(e,n.element))};return e.on("NodeChange",n),function(){return e.off("NodeChange",n)}}},ht=function(e){return function(t){var n=e.dom.getParents(e.selection.getStart());t.setDisabled(!le(n));var r=function(e){return t.setDisabled(!le(e.parents))};return e.on("NodeChange",r),function(){return e.off("NodeChange",r)}}},gt=function(e){e.addCommand("mceLink",function(){w(e)?e.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):ft(e)()})},vt=function(e){e.addShortcut("Meta+K","",function(){e.execCommand("mceLink")})},bt=function(e){e.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:ft(e),onSetup:mt(e)}),e.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:dt(e),onSetup:ht(e)}),e.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return Ce(e)},onSetup:ht(e)})},yt=function(e){e.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:dt(e),onSetup:ht(e)}),e.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:ft(e)}),e.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return Ce(e)},onSetup:ht(e)})},wt=function(e){e.ui.registry.addContextMenu("link",{update:function(t){return le(e.dom.getParents(t,"a"))?"link unlink openlink":"link"}})},xt=function(e){var t=function(e){e.selection.collapse(!1)},n=function(t){var n=e.selection.getNode();return t.setDisabled(!ue(e,n)),function(){}};e.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:mt(e)},label:"Link",predicate:function(t){return!!ue(e,t)&&d(e)},initValue:function(){var t=ue(e);return t?oe(t):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(t){var n=e.selection.getNode();return t.setActive(!!ue(e,n)),mt(e)(t)},onAction:function(n){var r=ue(e),o=n.getValue();if(r)e.undoManager.transact(function(){e.dom.setAttrib(r,"href",o),t(e),n.hide()});else{var i={href:o,attach:function(){}},a=fe(e.selection.getContent()),u=a?A.some(se(e.selection,r)).filter(function(e){return e.length>0}).or(A.from(o)):A.none();xe(e,i,{href:o,text:u,title:A.none(),rel:A.none(),target:A.none(),class:A.none()}),n.hide()}}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:n,onAction:function(t){Ce(e),t.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:n,onAction:function(t){dt(e)(),t.hide()}}]})};!function(){t.add("link",function(e){bt(e),yt(e),wt(e),xt(e),pt(e),gt(e),vt(e)})}()}(window)},function(e,t,n){n(77)},function(e,t){!function(e){"use strict";function t(e){return e&&"PRE"===e.nodeName&&-1!==e.className.indexOf("language-")}function n(e){return function(t,n){return e(n)}}var r=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=function(){},i=function(e){return function(){return e}},a=i(!1),u=i(!0),s=function(){return c},c=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:a,isSome:a,isNone:u,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:n,orThunk:t,map:s,each:o,bind:s,exists:a,forall:u,filter:s,equals:e,equals_:e,toArray:function(){return[]},toString:i("none()")}}(),l=function(e){var t=i(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:u,isNone:a,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return l(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:c},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(a,function(t){return n(e,t)})}};return o},f=function(e){return null===e||void 0===e?c:l(e)},d={some:l,none:s,from:f},p=function(e){return 0===e.length?d.none():d.some(e[0])},m=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),h=void 0!==e.window?e.window:Function("return this;")(),g={},v={exports:g},b={};!function(e,t,n,r){var o=window.Prism;window.Prism={manual:!0},function(r){if("object"==typeof t&&void 0!==n)n.exports=r();else if("function"==typeof e&&e.amd)e([],r);else{var o;o="undefined"!=typeof window?window:void 0!==b?b:"undefined"!=typeof self?self:this,o.EphoxContactWrapper=r()}}(function(){return function(){function e(t,n,o){function i(u,s){if(!n[u]){if(!t[u]){var c="function"==typeof r&&r;if(!s&&c)return c(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}};t[u][0].call(f.exports,function(e){return i(t[u][1][e]||e)},f,f.exports,e,t,n,o)}return n[u].exports}for(var a="function"==typeof r&&r,u=0;u<o.length;u++)i(o[u]);return i}return e}()({1:[function(e,t,n){Prism.languages.c=Prism.languages.extend("clike",{"class-name":{pattern:/(\b(?:enum|struct)\s+)\w+/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*\/%&|^!=<>]=?/,number:/(?:\b0x(?:[\da-f]+\.?[\da-f]*|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?)[ful]*/i}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z]+(?:[^\r\n\\]|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,alias:"property",inside:{string:{pattern:/(#\s*include\s*)(?:<.+?>|("|')(?:\\?.)+?\2)/,lookbehind:!0},directive:{pattern:/(#\s*)\b(?:define|defined|elif|else|endif|error|ifdef|ifndef|if|import|include|line|pragma|undef|using)\b/,lookbehind:!0,alias:"keyword"}}},constant:/\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/}),delete Prism.languages.c.boolean},{}],2:[function(e,t,n){Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*\/~^%]/,punctuation:/[{}[\];(),.:]/}},{}],3:[function(e,t,n){(function(e){var n="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},r=function(e){function t(e,t,n,r,o){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length,this.greedy=!!o}var n=/\blang(?:uage)?-([\w-]+)\b/i,r=0,o={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof t?new t(e.type,o.util.encode(e.content),e.alias):Array.isArray(e)?e.map(o.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++r}),e.__id},clone:function e(t,n){var r,i,a=o.util.type(t);switch(n=n||{},a){case"Object":if(i=o.util.objId(t),n[i])return n[i];r={},n[i]=r;for(var u in t)t.hasOwnProperty(u)&&(r[u]=e(t[u],n));return r;case"Array":return i=o.util.objId(t),n[i]?n[i]:(r=[],n[i]=r,t.forEach(function(t,o){r[o]=e(t,n)}),r);default:return t}},getLanguage:function(e){for(;e&&!n.test(e.className);)e=e.parentElement;return e?(e.className.match(n)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(r.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}}},languages:{extend:function(e,t){var n=o.util.clone(o.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){r=r||o.languages;var i=r[e],a={};for(var u in i)if(i.hasOwnProperty(u)){if(u==t)for(var s in n)n.hasOwnProperty(s)&&(a[s]=n[s]);n.hasOwnProperty(u)||(a[u]=i[u])}var c=r[e];return r[e]=a,o.languages.DFS(o.languages,function(t,n){n===c&&t!=e&&(this[t]=a)}),a},DFS:function e(t,n,r,i){i=i||{};var a=o.util.objId;for(var u in t)if(t.hasOwnProperty(u)){n.call(t,u,t[u],r||u);var s=t[u],c=o.util.type(s);"Object"!==c||i[a(s)]?"Array"!==c||i[a(s)]||(i[a(s)]=!0,e(s,n,u,i)):(i[a(s)]=!0,e(s,n,null,i))}}},plugins:{},highlightAll:function(e,t){o.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),o.hooks.run("before-all-elements-highlight",r);for(var i,a=0;i=r.elements[a++];)o.highlightElement(i,!0===t,r.callback)},highlightElement:function(t,r,i){function a(e){f.highlightedCode=e,o.hooks.run("before-insert",f),f.element.innerHTML=f.highlightedCode,o.hooks.run("after-highlight",f),o.hooks.run("complete",f),i&&i.call(f.element)}var u=o.util.getLanguage(t),s=o.languages[u];t.className=t.className.replace(n,"").replace(/\s+/g," ")+" language-"+u;var c=t.parentNode;c&&"pre"===c.nodeName.toLowerCase()&&(c.className=c.className.replace(n,"").replace(/\s+/g," ")+" language-"+u);var l=t.textContent,f={element:t,language:u,grammar:s,code:l};if(o.hooks.run("before-sanity-check",f),!f.code)return o.hooks.run("complete",f),void(i&&i.call(f.element));if(o.hooks.run("before-highlight",f),!f.grammar)return void a(o.util.encode(f.code));if(r&&e.Worker){var d=new Worker(o.filename);d.onmessage=function(e){a(e.data)},d.postMessage(JSON.stringify({language:f.language,code:f.code,immediateClose:!0}))}else a(o.highlight(f.code,f.grammar,f.language))},highlight:function(e,n,r){var i={code:e,grammar:n,language:r};return o.hooks.run("before-tokenize",i),i.tokens=o.tokenize(i.code,i.grammar),o.hooks.run("after-tokenize",i),t.stringify(o.util.encode(i.tokens),i.language)},matchGrammar:function(e,n,r,i,a,u,s){for(var c in r)if(r.hasOwnProperty(c)&&r[c]){var l=r[c];l=Array.isArray(l)?l:[l];for(var f=0;f<l.length;++f){if(s&&s==c+","+f)return;var d=l[f],p=d.inside,m=!!d.lookbehind,h=!!d.greedy,g=0,v=d.alias;if(h&&!d.pattern.global){var b=d.pattern.toString().match(/[imsuy]*$/)[0];d.pattern=RegExp(d.pattern.source,b+"g")}d=d.pattern||d;for(var y=i,w=a;y<n.length;w+=n[y].length,++y){var x=n[y];if(n.length>e.length)return;if(!(x instanceof t)){if(h&&y!=n.length-1){d.lastIndex=w;var C=d.exec(e);if(!C)break;for(var _=C.index+(m&&C[1]?C[1].length:0),S=C.index+C[0].length,k=y,T=w,E=n.length;k<E&&(T<S||!n[k].type&&!n[k-1].greedy);++k)T+=n[k].length,_>=T&&(++y,w=T);if(n[y]instanceof t)continue;O=k-y,x=e.slice(w,T),C.index-=w}else{d.lastIndex=0;var C=d.exec(x),O=1}if(C){m&&(g=C[1]?C[1].length:0);var _=C.index+g,C=C[0].slice(g),S=_+C.length,N=x.slice(0,_),A=x.slice(S),D=[y,O];N&&(++y,w+=N.length,D.push(N));var M=new t(c,p?o.tokenize(C,p):C,v,C,h);if(D.push(M),A&&D.push(A),Array.prototype.splice.apply(n,D),1!=O&&o.matchGrammar(e,n,r,y,w,!0,c+","+f),u)break}else if(u)break}}}}},tokenize:function(e,t){var n=[e],r=t.rest;if(r){for(var i in r)t[i]=r[i];delete t.rest}return o.matchGrammar(e,n,t,0,0,!1),n},hooks:{all:{},add:function(e,t){var n=o.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=o.hooks.all[e];if(n&&n.length)for(var r,i=0;r=n[i++];)r(t)}},Token:t};if(e.Prism=o,t.stringify=function(e,n){if("string"==typeof e)return e;if(Array.isArray(e))return e.map(function(e){return t.stringify(e,n)}).join("");var r={type:e.type,content:t.stringify(e.content,n),tag:"span",classes:["token",e.type],attributes:{},language:n};if(e.alias){var i=Array.isArray(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(r.classes,i)}o.hooks.run("wrap",r);var a=Object.keys(r.attributes).map(function(e){return e+'="'+(r.attributes[e]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+r.tag+' class="'+r.classes.join(" ")+'"'+(a?" "+a:"")+">"+r.content+"</"+r.tag+">"},!e.document)return e.addEventListener?(o.disableWorkerMessageHandler||e.addEventListener("message",function(t){var n=JSON.parse(t.data),r=n.language,i=n.code,a=n.immediateClose;e.postMessage(o.highlight(i,o.languages[r],r)),a&&e.close()},!1),o):o;var i=o.util.currentScript();if(i&&(o.filename=i.src,i.hasAttribute("data-manual")&&(o.manual=!0)),!o.manual){var a=function(){o.manual||o.highlightAll()},u=document.readyState;"loading"===u||"interactive"===u&&i&&i.defer?document.addEventListener("DOMContentLoaded",a):window.requestAnimationFrame?window.requestAnimationFrame(a):window.setTimeout(a,16)}return o}(n);void 0!==t&&t.exports&&(t.exports=r),void 0!==e&&(e.Prism=r)}).call(this,void 0!==b?b:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,n){Prism.languages.cpp=Prism.languages.extend("c",{"class-name":{pattern:/(\b(?:class|enum|struct)\s+)\w+/,lookbehind:!0},keyword:/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|class|compl|const|constexpr|const_cast|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+\.?[\da-f']*|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+\.?[\d']*|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]*/i,greedy:!0},operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*\/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:true|false)\b/}),Prism.languages.insertBefore("cpp","string",{"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}})},{}],5:[function(e,t,n){Prism.languages.csharp=Prism.languages.extend("clike",{keyword:/\b(?:abstract|add|alias|as|ascending|async|await|base|bool|break|byte|case|catch|char|checked|class|const|continue|decimal|default|delegate|descending|do|double|dynamic|else|enum|event|explicit|extern|false|finally|fixed|float|for|foreach|from|get|global|goto|group|if|implicit|in|int|interface|internal|into|is|join|let|lock|long|namespace|new|null|object|operator|orderby|out|override|params|partial|private|protected|public|readonly|ref|remove|return|sbyte|sealed|select|set|short|sizeof|stackalloc|static|string|struct|switch|this|throw|true|try|typeof|uint|ulong|unchecked|unsafe|ushort|using|value|var|virtual|void|volatile|where|while|yield)\b/,string:[{pattern:/@("|')(?:\1\1|\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*?\1/,greedy:!0}],"class-name":[{pattern:/\b[A-Z]\w*(?:\.\w+)*\b(?=\s+\w+)/,inside:{punctuation:/\./}},{pattern:/(\[)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/(\b(?:class|interface)\s+[A-Z]\w*(?:\.\w+)*\s*:\s*)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/((?:\b(?:class|interface|new)\s+)|(?:catch\s+\())[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}}],number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)f?/i,operator:/>>=?|<<=?|[-=]>|([-+&|?])\1|~|[-+*\/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),Prism.languages.insertBefore("csharp","class-name",{"generic-method":{pattern:/\w+\s*<[^>\r\n]+?>\s*(?=\()/,inside:{function:/^\w+/,"class-name":{pattern:/\b[A-Z]\w*(?:\.\w+)*\b/,inside:{punctuation:/\./}},keyword:Prism.languages.csharp.keyword,punctuation:/[<>(),.:]/}},preprocessor:{pattern:/(^\s*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(\s*#)\b(?:define|elif|else|endif|endregion|error|if|line|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}}),Prism.languages.dotnet=Prism.languages.cs=Prism.languages.csharp},{}],6:[function(e,t,n){!function(e){var t=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+[\s\S]*?(?:;|(?=\s*\{))/,inside:{rule:/@[\w-]+/}},url:{pattern:RegExp("url\\((?:"+t.source+"|[^\n\r()]*)\\)","i"),inside:{function:/^url/i,punctuation:/^\(|\)$/}},selector:RegExp("[^{}\\s](?:[^{};\"']|"+t.source+")*?(?=\\s*\\{)"),string:{pattern:t,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),e.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:n.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:e.languages.css}},alias:"language-css"}},n.tag))}(Prism)},{}],7:[function(e,t,n){!function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|null|open|opens|package|private|protected|provides|public|requires|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/\b[A-Z](?:\w*[a-z]\w*)?\b/;e.languages.java=e.languages.extend("clike",{"class-name":[n,/\b[A-Z]\w*(?=\s+\w+\s*[;,=())])/],keyword:t,function:[e.languages.clike.function,{pattern:/(\:\:)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x[\da-f_]*\.?[\da-f_p+-]+\b|(?:\b\d[\d_]*\.?[\d_]*|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*\/%&|^!=<>]=?)/m,lookbehind:!0}}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"}}),e.languages.insertBefore("java","class-name",{annotation:{alias:"punctuation",pattern:/(^|[^.])@\w+/,lookbehind:!0},namespace:{pattern:/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)[a-z]\w*(?:\.[a-z]\w*)+/,lookbehind:!0,inside:{punctuation:/\./}},generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":n,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})}(Prism)},{}],8:[function(e,t,n){Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/--|\+\+|\*\*=?|=>|&&|\|\||[!=]==|<<=?|>>>?=?|[-+*\/%&|^!=<>]=?|\.{3}|\?[.?]?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^\/\\\[\r\n])+\/[gimyus]{0,6}(?=(?:\s|\/\*[\s\S]*?\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.js=Prism.languages.javascript},{}],9:[function(e,t,n){!function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,r,o,i){if(n.language===r){var a=n.tokenStack=[];n.code=n.code.replace(o,function(e){if("function"==typeof i&&!i(e))return e;for(var o,u=a.length;-1!==n.code.indexOf(o=t(r,u));)++u;return a[u]=e,o}),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,r){function o(u){for(var s=0;s<u.length&&!(i>=a.length);s++){var c=u[s];if("string"==typeof c||c.content&&"string"==typeof c.content){var l=a[i],f=n.tokenStack[l],d="string"==typeof c?c:c.content,p=t(r,l),m=d.indexOf(p);if(m>-1){++i;var h=d.substring(0,m),g=new e.Token(r,e.tokenize(f,n.grammar),"language-"+r,f),v=d.substring(m+p.length),b=[];h&&b.push.apply(b,o([h])),b.push(g),v&&b.push.apply(b,o([v])),"string"==typeof c?u.splice.apply(u,[s,1].concat(b)):c.content=b}}else c.content&&o(c.content)}return u}if(n.language===r&&n.tokenStack){n.grammar=e.languages[r];var i=0,a=Object.keys(n.tokenStack);o(n.tokens)}}}})}(Prism)},{}],10:[function(e,t,n){Prism.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:(?!<!--)[^"'\]]|"[^"]*"|'[^']*'|<!--[\s\S]*?-->)*\]\s*)?>/i,greedy:!0},cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s\/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var o={};o[e]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,e),"i"),lookbehind:!0,greedy:!0,inside:r},Prism.languages.insertBefore("markup","cdata",o)}}),Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup},{}],11:[function(e,t,n){!function(e){e.languages.php=e.languages.extend("clike",{keyword:/\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|class|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|eval|exit|extends|final|finally|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|new|or|parent|print|private|protected|public|require|require_once|return|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i,boolean:{pattern:/\b(?:false|true)\b/i,alias:"constant"},constant:[/\b[A-Z_][A-Z0-9_]*\b/,/\b(?:null)\b/i],comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0}}),e.languages.insertBefore("php","string",{"shell-comment":{pattern:/(^|[^\\])#.*/,lookbehind:!0,alias:"comment"}}),e.languages.insertBefore("php","comment",{delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"}}),e.languages.insertBefore("php","keyword",{variable:/\$+(?:\w+\b|(?={))/i,package:{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/,lookbehind:!0,inside:{punctuation:/\\/}}}),e.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/,lookbehind:!0}});var t={pattern:/{\$(?:{(?:{[^{}]+}|[^{}]+)}|[^{}])+}|(^|[^\\{])\$+(?:\w+(?:\[.+?]|->\w+)*)/,lookbehind:!0,inside:e.languages.php};e.languages.insertBefore("php","string",{"nowdoc-string":{pattern:/<<<'([^']+)'(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\1;/,greedy:!0,alias:"string",inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},"heredoc-string":{pattern:/<<<(?:"([^"]+)"(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\1;|([a-z_]\w*)(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\2;)/i,greedy:!0,alias:"string",inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:t}},"single-quoted-string":{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0,alias:"string"},"double-quoted-string":{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,alias:"string",inside:{interpolation:t}}}),delete e.languages.php.string,e.hooks.add("before-tokenize",function(t){if(/<\?/.test(t.code)){var n=/<\?(?:[^"'\/#]|\/(?![*\/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#)(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|\/\*[\s\S]*?(?:\*\/|$))*?(?:\?>|$)/gi;e.languages["markup-templating"].buildPlaceholders(t,"php",n)}}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"php")})}(Prism)},{}],12:[function(e,t,n){Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]+?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:{{)*){(?!{)(?:[^{}]|{(?!{)(?:[^{}]|{(?!{)(?:[^{}])+})+})+}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]+?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^\s*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python},{}],13:[function(e,t,n){!function(e){e.languages.ruby=e.languages.extend("clike",{comment:[/#.*/,{pattern:/^=begin\s[\s\S]*?^=end/m,greedy:!0}],"class-name":{pattern:/(\b(?:class)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|protected|private|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/});var t={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:e.languages.ruby}};delete e.languages.ruby.function,e.languages.insertBefore("ruby","keyword",{regex:[{pattern:/%r([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1[gim]{0,3}/,greedy:!0,inside:{interpolation:t}},{pattern:/%r\((?:[^()\\]|\\[\s\S])*\)[gim]{0,3}/,greedy:!0,inside:{interpolation:t}},{pattern:/%r\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}[gim]{0,3}/,greedy:!0,inside:{interpolation:t}},{pattern:/%r\[(?:[^\[\]\\]|\\[\s\S])*\][gim]{0,3}/,greedy:!0,inside:{interpolation:t}},{pattern:/%r<(?:[^<>\\]|\\[\s\S])*>[gim]{0,3}/,greedy:!0,inside:{interpolation:t}},{pattern:/(^|[^\/])\/(?!\/)(?:\[.+?]|\\.|[^\/\\\r\n])+\/[gim]{0,3}(?=\s*(?:$|[\r\n,.;})]))/,lookbehind:!0,greedy:!0}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:{pattern:/(^|[^:]):[a-zA-Z_]\w*(?:[?!]|\b)/,lookbehind:!0},"method-definition":{pattern:/(\bdef\s+)[\w.]+/,lookbehind:!0,inside:{function:/\w+$/,rest:e.languages.ruby}}}),e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|Fixnum|Float|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z]\w*(?:[?!]|\b)/}),e.languages.ruby.string=[{pattern:/%[qQiIwWxs]?([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/,greedy:!0,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\((?:[^()\\]|\\[\s\S])*\)/,greedy:!0,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/,greedy:!0,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\[(?:[^\[\]\\]|\\[\s\S])*\]/,greedy:!0,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?<(?:[^<>\\]|\\[\s\S])*>/,greedy:!0,inside:{interpolation:t}},{pattern:/("|')(?:#\{[^}]+\}|\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{interpolation:t}}],e.languages.rb=e.languages.ruby}(Prism)},{}],14:[function(e,t,n){var r=e("prismjs/components/prism-core");e("prismjs/components/prism-clike"),e("prismjs/components/prism-markup-templating"),e("prismjs/components/prism-c"),e("prismjs/components/prism-cpp"),e("prismjs/components/prism-csharp"),e("prismjs/components/prism-css"),e("prismjs/components/prism-java"),e("prismjs/components/prism-javascript"),e("prismjs/components/prism-markup"),e("prismjs/components/prism-php"),e("prismjs/components/prism-python"),e("prismjs/components/prism-ruby"),t.exports={boltExport:r}},{"prismjs/components/prism-c":1,"prismjs/components/prism-clike":2,"prismjs/components/prism-core":3,"prismjs/components/prism-cpp":4,"prismjs/components/prism-csharp":5,"prismjs/components/prism-css":6,"prismjs/components/prism-java":7,"prismjs/components/prism-javascript":8,"prismjs/components/prism-markup":10,"prismjs/components/prism-markup-templating":9,"prismjs/components/prism-php":11,"prismjs/components/prism-python":12,"prismjs/components/prism-ruby":13}]},{},[14])(14)});var i=window.Prism;window.Prism=o}(void 0,g,v,void 0);var y=v.exports.boltExport,w=function(e){return e.getParam("codesample_languages")},x=function(e){return e.getParam("codesample_global_prismjs",!1,"boolean")},C=function(e){return h.Prism&&x(e)?h.Prism:y},_=function(e){var n=e.selection?e.selection.getNode():null;return t(n)?d.some(n):d.none()},S=function(e,t,n){e.undoManager.transact(function(){var r=_(e);return n=m.DOM.encode(n),r.fold(function(){e.insertContent('<pre id="__new" class="language-'+t+'">'+n+"</pre>"),e.selection.select(e.$("#__new").removeAttr("id")[0])},function(r){e.dom.setAttrib(r,"class","language-"+t),r.innerHTML=n,C(e).highlightElement(r),e.selection.select(r)})})},k=function(e){return _(e).fold(function(){return""},function(e){return e.textContent})},T=function(e){var t=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],n=w(e);return n||t},E=function(e,t){return _(e).fold(function(){return t},function(e){var n=e.className.match(/language-(\w+)/);return n?n[1]:t})},O=function(e){var t=T(e),n=p(t).fold(function(){return""},function(e){return e.value}),r=E(e,n),o=k(e);e.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"selectbox",name:"language",label:"Language",items:t},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:r,code:o},onSubmit:function(t){var n=t.getData();S(e,n.language,n.code),t.close()}})},N=function(e){e.addCommand("codesample",function(){var n=e.selection.getNode();e.selection.isCollapsed()||t(n)?O(e):e.formatter.toggle("code")})},A=function(e){var r=e.$;e.on("PreProcess",function(e){r("pre[contenteditable=false]",e.node).filter(n(t)).each(function(e,t){var n=r(t),o=t.textContent;n.attr("class",r.trim(n.attr("class"))),n.removeAttr("contentEditable"),n.empty().append(r("<code></code>").each(function(){this.textContent=o}))})}),e.on("SetContent",function(){var o=r("pre").filter(n(t)).filter(function(e,t){return"false"!==t.contentEditable});o.length&&e.undoManager.transact(function(){o.each(function(t,n){r(n).find("br").each(function(t,n){n.parentNode.replaceChild(e.getDoc().createTextNode("\n"),n)}),n.contentEditable="false",n.innerHTML=e.dom.encode(n.textContent),C(e).highlightElement(n),n.className=r.trim(n.className)})})})},D=function(e){var t=e.selection.getStart();return e.dom.is(t,'pre[class*="language-"]')},M=function(e){e.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:function(){return O(e)},onSetup:function(t){var n=function(){t.setActive(D(e))};return e.on("NodeChange",n),function(){return e.off("NodeChange",n)}}}),e.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:function(){return O(e)}})};!function(){r.add("codesample",function(e){A(e),M(e),N(e),e.on("dblclick",function(n){t(n.target)&&O(e)})})}()}(window)},function(e,t,n){n(79)},function(e,t){!function(e){"use strict";function t(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}function n(e,t,n,r,o){return e(n,r)?k.some(n):P(o)&&o(n)?k.none():t(n,r,o)}function r(){var e=function(e){return qe.fromDom(e.dom().cloneNode(!1))},t=function(e){return e.dom().ownerDocument},n=function(e){return!!we(e)&&("body"===ge(e)||H(ao,ge(e)))},r=function(e){return!!we(e)&&H(["br","img","hr","input"],ge(e))},o=function(e){return we(e)&&"false"===Ee(e,"contenteditable")},i=function(e,t){return e.dom().compareDocumentPosition(t.dom())},a=function(e,t){var n=De(e);Te(t,n)};return{up:h({selector:Hn,closest:qn,predicate:jn,all:Pt}),down:h({selector:Ln,predicate:In}),styles:h({get:rn,getRaw:an,set:tn,remove:un}),attrs:h({get:Ee,set:ke,remove:Ae,copyTo:a}),insert:h({before:cn,after:ln,afterAll:hn,append:dn,appendAll:gn,prepend:fn,wrap:pn}),remove:h({unwrap:yn,remove:bn}),create:h({nu:qe.fromTag,clone:e,text:qe.fromText}),query:h({comparePosition:i,prevSibling:jt,nextSibling:Bt}),property:h({children:zt,name:ge,parent:Rt,document:t,isText:xe,isComment:ye,isElement:we,getText:Cr,setText:Sr,isBoundary:n,isEmptyTag:r,isNonEditable:o}),eq:Tt,is:At}}function o(e,t){var n=function(t,n){if(!L(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom();Be(r)&&(r.style[e]=n+"px")},r=function(n){var r=t(n);if(r<=0||null===r){var o=rn(n,e);return parseFloat(o)||0}return r},o=r,i=function(e,t){return K(t,function(t,n){var r=rn(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o},0)};return{set:n,get:r,getOuter:o,aggregate:i,max:function(e,t,n){var r=i(e,n);return t>r?t-r:0}}}function i(){var e=k.none(),t=function(){e=k.none()},n=function(t,n){var r=e.map(function(e){return t.compare(e,n)});return e=k.some(n),r},r=function(e,t){t.extract(e).each(function(e){n(t,e).each(function(e){o.trigger.move(e)})})},o=Xa({move:Ga(["info"])});return{onEvent:r,reset:t,events:o.registry}}function a(){return{onEvent:d,reset:d}}function u(){var e=a(),t=i(),n=e,r=function(){n.reset(),n=t},o=function(){n.reset(),n=e},u=function(e,t){n.onEvent(e,t)};return{on:r,off:o,isOn:function(){return n===t},onEvent:u,events:t.events}}function s(e,t,n,r){var o=k.none(),i=function(){o=k.none()};return{mousedown:function(e){r.clear(t),o=Rg(e.target(),n)},mouseover:function(i){o.each(function(o){r.clearBeforeUpdate(t),Rg(i.target(),n).each(function(i){wo(o,i,n).each(function(n){var a=n.boxes.getOr([]);(a.length>1||1===a.length&&!Tt(o,i))&&(r.selectRange(t,a,n.start,n.finish),e.selectContents(i))})})})},mouseup:function(e){o.each(i)}}}function c(e,t,n){var r=function(t,r,o){n.targets().each(function(n){rr(r).each(function(i){var a=Zs(e),u=Ur(d,qe.fromDom(e.getDoc()),a),s=av(i,n,u);Os(e,t,r,o,s)})})},o=function(){return Ns(e)},i=rv.byAttr(Ao,r,o);return e.on("init",function(n){var r=e.getWin(),o=nc(e),a=ic(e),u=function(){var t=e.selection,n=qe.fromDom(t.getStart()),r=qe.fromDom(t.getEnd());vo(rr,[n,r]).fold(function(){return i.clear(o)},d)},s=Kg(r,o,a,i),c=Yg(r,o,a,i),l=Jg(r,o,a,i),f=function(e){return!0===e.raw().shiftKey};e.on("TableSelectorChange",function(e){return l(e.start,e.finish)});var p=function(t,n){f(t)&&(n.kill()&&t.kill(),n.selection().each(function(t){var n=Kp.relative(t.start(),t.finish()),o=cm(r,n);e.selection.setRng(o)}))},m=function(t){var n=hu(t);if(n.raw().shiftKey&&Fg(n.raw().which)){var r=e.selection.getRng(),o=qe.fromDom(r.startContainer),i=qe.fromDom(r.endContainer);c.keyup(n,o,r.startOffset,i,r.endOffset).each(function(e){p(n,e)})}},h=function(n){var r=hu(n);t().each(function(e){return e.hideBars()});var o=e.selection.getRng(),i=qe.fromDom(e.selection.getStart()),a=qe.fromDom(o.startContainer),u=qe.fromDom(o.endContainer),s=mc(i).isRtl()?Ug:Hg;c.keydown(r,a,o.startOffset,u,o.endOffset,s).each(function(e){p(r,e)}),t().each(function(e){return e.showBars()})},g=function(e){return 0===e.button},v=function(e){return void 0===e.buttons||(!(!vp.browser.isEdge()||0!==e.buttons)||0!=(1&e.buttons))},b=function(e){g(e)&&uv(e)&&s.mousedown(hu(e))},y=function(e){v(e)&&uv(e)&&s.mouseover(hu(e))},w=function(e){g(e)&&uv(e)&&s.mouseup(hu(e))},x=function(){var e=hc(qe.fromDom(o)),t=hc(0);return{touchEnd:function(n){var r=qe.fromDom(n.target);if("td"===ge(r)||"th"===ge(r)){var o=e.get(),i=t.get();Tt(o,r)&&n.timeStamp-i<300&&(n.preventDefault(),l(r,r))}e.set(r),t.set(n.timeStamp)}}}();e.on("mousedown",b),e.on("mouseover",y),e.on("mouseup",w),e.on("touchend",x.touchEnd),e.on("keyup",m),e.on("keydown",h),e.on("NodeChange",u)}),{clear:i.clear}}function l(e){var t=sd(e),n=sv(e,t),r=Rc(e),o=c(e,r.lazyResize,n),i=md(e,r.lazyWire),a=kp();return _p(e,i,o,t,a),Sp(e,i,t),Xo(e,t,i,o),fv(e,n,a),cv(e,n,a),lv(e),e.on("PreInit",function(){e.serializer.addTempAttr(Oo),e.serializer.addTempAttr(No),pv(e)}),Bs(e)&&e.on("keydown",function(t){nh(t,e,i,r.lazyWire)}),e.on("remove",function(){r.destroy()}),Dd(e,a,r,n)}var f=tinymce.util.Tools.resolve("tinymce.PluginManager"),d=function(){},p=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},m=function(e,t){return function(n){return e(t(n))}},h=function(e){return function(){return e}},g=function(e){return e},v=function(e){return function(t){return!e(t)}},b=function(e){return function(){throw new Error(e)}},y=h(!1),w=h(!0),x=function(){return C},C=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:y,isSome:y,isNone:w,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:h(null),getOrUndefined:h(void 0),or:n,orThunk:t,map:x,each:d,bind:x,exists:y,forall:w,filter:x,equals:e,equals_:e,toArray:function(){return[]},toString:h("none()")}}(),_=function(e){var t=h(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:w,isNone:y,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return _(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:C},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(y,function(t){return n(e,t)})}};return o},S=function(e){return null===e||void 0===e?C:_(e)},k={some:_,none:x,from:S},T=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},E=function(e){return function(t){return T(t)===e}},O=function(e){return function(t){return typeof t===e}},N=E("string"),A=E("object"),D=E("array"),M=O("boolean"),I=function(e){return null===e||void 0===e},R=function(e){return!I(e)},P=O("function"),L=O("number"),j=Array.prototype.slice,B=Array.prototype.indexOf,z=Array.prototype.push,F=function(e,t){return B.call(e,t)},H=function(e,t){return F(e,t)>-1},U=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1},V=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},q=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},W=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},$=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n)}},G=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},X=function(e,t,n){return $(e,function(e){n=t(n,e)}),n},K=function(e,t,n){return W(e,function(e){n=t(n,e)}),n},Y=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return k.some(i);if(n(i,r))break}return k.none()},J=function(e,t){return Y(e,t,y)},Q=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return k.some(n)}return k.none()},Z=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!D(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);z.apply(t,e[n])}return t},ee=function(e,t){return Z(q(e,t))},te=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n))return!1}return!0},ne=function(e){var t=j.call(e,0);return t.reverse(),t},re=function(e){return 0===e.length?k.none():k.some(e[0])},oe=function(e){return 0===e.length?k.none():k.some(e[e.length-1])},ie=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return k.none()},ae=Object.keys,ue=Object.hasOwnProperty,se=function(e,t){for(var n=ae(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},ce=function(e,t){return le(e,function(e,n){return{k:n,v:t(e,n)}})},le=function(e,t){var n={};return se(e,function(e,r){var o=t(e,r);n[o.k]=o.v}),n},fe=function(e){return function(t,n){e[n]=t}},de=function(e,t,n,r){var o={};return se(e,function(e,o){(t(e,o)?n:r)(e,o)}),o},pe=function(e,t){var n={};return de(e,t,fe(n),d),n},me=function(e,t){return he(e,t)?k.from(e[t]):k.none()},he=function(e,t){return ue.call(e,t)},ge=(void 0!==e.window?e.window:Function("return this;")(),function(e){return e.dom().nodeName.toLowerCase()}),ve=function(e){return e.dom().nodeType},be=function(e){return function(t){return ve(t)===e}},ye=function(e){return 8===ve(e)||"#comment"===ge(e)},we=be(1),xe=be(3),Ce=be(9),_e=be(11),Se=function(t,n,r){if(!(N(r)||M(r)||L(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")},ke=function(e,t,n){Se(e.dom(),t,n)},Te=function(e,t){var n=e.dom();se(t,function(e,t){Se(n,t,e)})},Ee=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},Oe=function(e,t){return k.from(Ee(e,t))},Ne=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Ae=function(e,t){e.dom().removeAttribute(t)},De=function(e){return K(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},Me=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},Ie=function(e,t){return-1!==e.indexOf(t)},Re=function(e,t){return Me(e,t,0)},Pe=function(e,t){return Me(e,t,e.length-t.length)},Le=function(e){return function(t){return t.replace(e,"")}}(/^\s+|\s+$/g),je=function(e){return e.length>0},Be=function(e){return void 0!==e.style&&P(e.style.getPropertyValue)},ze=function(t,n){var r=n||e.document,o=r.createElement("div");if(o.innerHTML=t,!o.hasChildNodes()||o.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Ue(o.childNodes[0])},Fe=function(t,n){var r=n||e.document,o=r.createElement(t);return Ue(o)},He=function(t,n){var r=n||e.document,o=r.createTextNode(t);return Ue(o)},Ue=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:h(e)}},Ve=function(e,t,n){var r=e.dom();return k.from(r.elementFromPoint(t,n)).map(Ue)},qe={fromHtml:ze,fromTag:Fe,fromText:He,fromDom:Ue,fromPoint:Ve},We=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},$e=function(t,n){return We(t,n,e.Node.DOCUMENT_POSITION_CONTAINED_BY)},Ge=function(){return Ge=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ge.apply(this,arguments)},Xe=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},Ke=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},Ye=function(e,t){var n=Ke(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return Ze(r(1),r(2))},Je=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Qe():Ye(e,n)},Qe=function(){return Ze(0,0)},Ze=function(e,t){return{major:e,minor:t}},et={nu:Ze,detect:Je,unknown:Qe},tt=function(){return nt({current:void 0,version:et.unknown()})},nt=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r("Edge"),isChrome:r("Chrome"),isIE:r("IE"),isOpera:r("Opera"),isFirefox:r("Firefox"),isSafari:r("Safari")}},rt={unknown:tt,nu:nt,edge:h("Edge"),chrome:h("Chrome"),ie:h("IE"),opera:h("Opera"),firefox:h("Firefox"),safari:h("Safari")},ot=function(){return it({current:void 0,version:et.unknown()})},it=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r("Windows"),isiOS:r("iOS"),isAndroid:r("Android"),isOSX:r("OSX"),isLinux:r("Linux"),isSolaris:r("Solaris"),isFreeBSD:r("FreeBSD"),isChromeOS:r("ChromeOS")}},at={unknown:ot,nu:it,windows:h("Windows"),ios:h("iOS"),android:h("Android"),linux:h("Linux"),osx:h("OSX"),solaris:h("Solaris"),freebsd:h("FreeBSD"),chromeos:h("ChromeOS")},ut=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,a=e.isiOS()||e.isAndroid(),u=a||r("(pointer:coarse)"),s=o||!i&&a&&r("(min-device-width:768px)"),c=i||a&&!s,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),f=!c&&!s&&!l;return{isiPad:h(o),isiPhone:h(i),isTablet:h(s),isPhone:h(c),isTouch:h(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:h(l),isDesktop:h(f)}},st=function(e,t){var n=String(t).toLowerCase();return J(e,function(e){return e.search(n)})},ct=function(e,t){return st(e,t).map(function(e){var n=et.detect(e.versionRegexes,t);return{current:e.name,version:n}})},lt=function(e,t){return st(e,t).map(function(e){var n=et.detect(e.versionRegexes,t);return{current:e.name,version:n}})},ft={detectBrowser:ct,detectOs:lt},dt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,pt=function(e){return function(t){return Ie(t,e)}},mt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Ie(e,"edge/")&&Ie(e,"chrome")&&Ie(e,"safari")&&Ie(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,dt],search:function(e){return Ie(e,"chrome")&&!Ie(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Ie(e,"msie")||Ie(e,"trident")}},{name:"Opera",versionRegexes:[dt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:pt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:pt("firefox")},{name:"Safari",versionRegexes:[dt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Ie(e,"safari")||Ie(e,"mobile/"))&&Ie(e,"applewebkit")}}],ht=[{name:"Windows",search:pt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Ie(e,"iphone")||Ie(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:pt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:pt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:pt("linux"),versionRegexes:[]},{name:"Solaris",search:pt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:pt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:pt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],gt={browsers:h(mt),oses:h(ht)},vt=function(e,t){var n=gt.browsers(),r=gt.oses(),o=ft.detectBrowser(n,e).fold(rt.unknown,rt.nu),i=ft.detectOs(r,e).fold(at.unknown,at.nu);return{browser:o,os:i,deviceType:ut(i,o,e,t)}},bt={detect:vt},yt=function(t){return e.window.matchMedia(t).matches},wt=Xe(function(){return bt.detect(e.navigator.userAgent,yt)}),xt=function(){return wt()},Ct=function(e,t){var n=e.dom();if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},_t=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},St=function(t,n){var r=void 0===n?e.document:n.dom();return _t(r)?[]:q(r.querySelectorAll(t),qe.fromDom)},kt=function(t,n){var r=void 0===n?e.document:n.dom();return _t(r)?k.none():k.from(r.querySelector(t)).map(qe.fromDom)},Tt=function(e,t){return e.dom()===t.dom()},Et=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},Ot=function(e,t){return $e(e.dom(),t.dom())},Nt=function(e,t){return xt().browser.isIE()?Ot(e,t):Et(e,t)},At=Ct,Dt=function(e){return qe.fromDom(e.dom().ownerDocument)},Mt=function(e){return Ce(e)?e:Dt(e)},It=function(e){return qe.fromDom(e.dom().ownerDocument.defaultView)},Rt=function(e){return k.from(e.dom().parentNode).map(qe.fromDom)},Pt=function(e,t){for(var n=P(t)?t:y,r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=qe.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},Lt=function(e){return k.from(e.dom().offsetParent).map(qe.fromDom)},jt=function(e){return k.from(e.dom().previousSibling).map(qe.fromDom)},Bt=function(e){return k.from(e.dom().nextSibling).map(qe.fromDom)},zt=function(e){return q(e.dom().childNodes,qe.fromDom)},Ft=function(e,t){var n=e.dom().childNodes;return k.from(n[t]).map(qe.fromDom)},Ht=function(e){return Ft(e,0)},Ut=function(e){return _e(e)},Vt=P(e.Element.prototype.attachShadow)&&P(e.Node.prototype.getRootNode),qt=h(Vt),Wt=Vt?function(e){return qe.fromDom(e.dom().getRootNode())}:Mt,$t=function(e){var t=Wt(e);return Ut(t)?k.some(t):k.none()},Gt=function(e){return qe.fromDom(e.dom().host)},Xt=function(e){if(qt()&&R(e.target)){var t=qe.fromDom(e.target);if(we(t)&&Kt(qe.fromDom(e.target))){var n=e;if(n.composed&&n.composedPath){var r=n.composedPath();if(r)return re(r)}}}return k.from(e.target)},Kt=function(e){return R(e.dom().shadowRoot)},Yt=function(e){var t=xe(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&null!==t.ownerDocument&&$t(qe.fromDom(t)).fold(function(){return t.ownerDocument.body.contains(t)},m(Yt,Gt))},Jt=function(){return Qt(qe.fromDom(e.document))},Qt=function(e){var t=e.dom().body;if(null===t||void 0===t)throw new Error("Body is not available yet");return qe.fromDom(t)},Zt=function(t,n,r){if(!N(r))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new Error("CSS value must be a string: "+r);Be(t)&&t.style.setProperty(n,r)},en=function(e,t){Be(e)&&e.style.removeProperty(t)},tn=function(e,t,n){var r=e.dom();Zt(r,t,n)},nn=function(e,t){var n=e.dom();se(t,function(e,t){Zt(n,t,e)})},rn=function(t,n){var r=t.dom(),o=e.window.getComputedStyle(r),i=o.getPropertyValue(n);return""!==i||Yt(t)?i:on(r,n)},on=function(e,t){return Be(e)?e.style.getPropertyValue(t):""},an=function(e,t){var n=e.dom(),r=on(n,t);return k.from(r).filter(function(e){return e.length>0})},un=function(e,t){var n=e.dom();en(n,t),Oe(e,"style").map(Le).is("")&&Ae(e,"style")},sn=function(e,t){var n=e.dom(),r=t.dom();Be(n)&&Be(r)&&(r.style.cssText=n.style.cssText)},cn=function(e,t){Rt(e).each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},ln=function(e,t){Bt(e).fold(function(){Rt(e).each(function(e){dn(e,t)})},function(e){cn(e,t)})},fn=function(e,t){Ht(e).fold(function(){dn(e,t)},function(n){e.dom().insertBefore(t.dom(),n.dom())})},dn=function(e,t){e.dom().appendChild(t.dom())},pn=function(e,t){cn(e,t),dn(t,e)},mn=function(e,t){W(t,function(t){cn(e,t)})},hn=function(e,t){W(t,function(n,r){var o=0===r?e:t[r-1];ln(o,n)})},gn=function(e,t){W(t,function(t){dn(e,t)})},vn=function(e){e.dom().textContent="",W(zt(e),function(e){bn(e)})},bn=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},yn=function(e){var t=zt(e);t.length>0&&mn(e,t),bn(e)},wn=function(e,t){return{rows:h(e),columns:h(t)}},xn=function(e,t){return{row:h(e),column:h(t)}},Cn=function(e,t,n){return{element:h(e),rowspan:h(t),colspan:h(n)}},_n=function(e,t,n,r){return{element:h(e),rowspan:h(t),colspan:h(n),isNew:h(r)}},Sn=function(e,t,n,r,o){return{element:h(e),rowspan:h(t),colspan:h(n),row:h(r),column:h(o)}},kn=function(e,t,n){return{element:h(e),cells:h(t),section:h(n)}},Tn=function(e,t){return{element:h(e),isNew:h(t)}},En=function(e,t,n,r){return{element:h(e),cells:h(t),section:h(n),isNew:h(r)}},On=function(e,t){return{cells:h(e),section:h(t)}},Nn=function(e,t){return{details:h(e),section:h(t)}},An=function(e,t,n,r){return{startRow:h(e),startCol:h(t),finishRow:h(n),finishCol:h(r)}},Dn=function(e,t,n){return G(Pt(e,n),t)},Mn=function(e,t){return G(zt(e),t)},In=function(e,t){var n=[];return W(zt(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(In(e,t))}),n},Rn=function(e,t,n){return Dn(e,function(e){return Ct(e,t)},n)},Pn=function(e,t){return Mn(e,function(e){return Ct(e,t)})},Ln=function(e,t){return St(t,e)},jn=function(e,t,n){for(var r=e.dom(),o=P(n)?n:h(!1);r.parentNode;){r=r.parentNode;var i=qe.fromDom(r);if(t(i))return k.some(i);if(o(i))break}return k.none()},Bn=function(e,t,r){return n(function(e,t){return t(e)},jn,e,t,r)},zn=function(e,t){var n=function(e){return t(qe.fromDom(e))};return J(e.dom().childNodes,n).map(qe.fromDom)},Fn=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){var o=qe.fromDom(e.childNodes[r]);if(t(o))return k.some(o);var i=n(e.childNodes[r]);if(i.isSome())return i}return k.none()};return n(e.dom())},Hn=function(e,t,n){return jn(e,function(e){return Ct(e,t)},n)},Un=function(e,t){return zn(e,function(e){return Ct(e,t)})},Vn=function(e,t){return kt(t,e)},qn=function(e,t,r){return n(function(e,t){return Ct(e,t)},Hn,e,t,r)},Wn=function(e,t,n){return void 0===n&&(n=0),Oe(e,t).map(function(e){return parseInt(e,10)}).getOr(n)},$n=function(e,t){return Wn(e,t,1)},Gn=function(e){return $n(e,"colspan")>1},Xn=function(e){return $n(e,"rowspan")>1},Kn=function(e,t){return parseInt(rn(e,t),10)},Yn=h(10),Jn=h(10),Qn=function(e,t){return Zn(e,t,h(!0))},Zn=function(e,t,n){return ee(zt(e),function(e){return Ct(e,t)?n(e)?[e]:[]:Zn(e,t,n)})},er=function(e,t,n){if(void 0===n&&(n=y),n(t))return k.none();if(H(e,ge(t)))return k.some(t);var r=function(e){return Ct(e,"table")||n(e)};return Hn(t,e.join(","),r)},tr=function(e,t){return er(["td","th"],e,t)},nr=function(e){return Qn(e,"th,td")},rr=function(e,t){return qn(e,"table",t)},or=function(e){return Qn(e,"tr")},ir=function(e){var t=or(e);return q(t,function(e){var t=e,n=Rt(t),r=n.map(function(e){var t=ge(e);return"tfoot"===t||"thead"===t||"tbody"===t?t:"tbody"}).getOr("tbody"),o=q(nr(e),function(e){var t=Wn(e,"rowspan",1),n=Wn(e,"colspan",1);return Cn(e,t,n)});return kn(t,o,r)})},ar=function(e,t){return q(e,function(e){var n=q(nr(e),function(e){var t=Wn(e,"rowspan",1),n=Wn(e,"colspan",1);return Cn(e,t,n)});return kn(e,n,t.section())})},ur=function(e,t){return e+","+t},sr=function(e,t,n){var r=e.access[ur(t,n)];return void 0!==r?k.some(r):k.none()},cr=function(e,t,n){var r=lr(e,function(e){return n(t,e.element())});return r.length>0?k.some(r[0]):k.none()},lr=function(e,t){var n=ee(e.all,function(e){return e.cells()});return G(n,t)},fr=function(e){var t={},n=[],r=e.length,o=0;return W(e,function(e,r){var i=[];W(e.cells(),function(e){for(var n=0;void 0!==t[ur(r,n)];)n++;for(var a=Sn(e.element(),e.rowspan(),e.colspan(),r,n),u=0;u<e.colspan();u++)for(var s=0;s<e.rowspan();s++){var c=r+s,l=n+u,f=ur(c,l);t[f]=a,o=Math.max(o,l+1)}i.push(a)}),n.push(kn(e.element(),i,e.section()))}),{grid:wn(r,o),access:t,all:n}},dr=function(e){var t=ir(e);return fr(t)},pr=function(e){var t=q(e.all,function(e){return e.cells()});return Z(t)},mr={fromTable:dr,generate:fr,getAt:sr,findItem:cr,filterItems:lr,justCells:pr},hr=function(e,t,n,r){return{minRow:e,minCol:t,maxRow:n,maxCol:r}},gr=function(e,t){var n=e.grid.columns(),r=e.grid.rows(),o=r,i=n,a=0,u=0;return se(e.access,function(e){if(t(e)){var n=e.row(),r=n+e.rowspan()-1,s=e.column(),c=s+e.colspan()-1;n<o?o=n:r>a&&(a=r),s<i?i=s:c>u&&(u=c)}}),hr(o,i,a,u)},vr=function(e,t,n){var r=e[n].element(),o=qe.fromTag("td");dn(o,qe.fromTag("br")),(t?dn:fn)(r,o)},br=function(e,t,n,r){for(var o=t.grid.columns(),i=t.grid.rows(),a=0;a<i;a++)for(var u=!1,s=0;s<o;s++)if(!(a<n.minRow||a>n.maxRow||s<n.minCol||s>n.maxCol)){var c=mr.getAt(t,a,s).filter(r).isNone();c?vr(e,u,a):u=!0}},yr=function(e,t){var n=G(Qn(e,"tr"),function(e){return 0===e.dom().childElementCount});W(n,bn),t.minCol!==t.maxCol&&t.minRow!==t.maxRow||W(Qn(e,"th,td"),function(e){Ae(e,"rowspan"),Ae(e,"colspan")}),Ae(e,"width"),Ae(e,"height"),un(e,"width"),un(e,"height")},wr=function(e,t){var n=function(e){return Ct(e.element(),t)},r=ir(e),o=mr.generate(r),i=gr(o,n),a="th:not("+t+"),td:not("+t+")",u=Zn(e,"th,td",function(e){return Ct(e,a)});return W(u,bn),br(r,o,i,n),yr(e,i),e},xr=function(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?k.from(t.dom().nodeValue):k.none()};return{get:n,getOption:r,set:function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r}}}(xe,"text"),Cr=function(e){return xr.get(e)},_r=function(e){return xr.getOption(e)},Sr=function(e,t){return xr.set(e,t)},kr=function(e){return"img"===ge(e)?1:_r(e).fold(function(){return zt(e).length},function(e){return e.length})},Tr=function(e){return _r(e).filter(function(e){return 0!==e.trim().length||e.indexOf(" ")>-1}).isSome()},Er=["img","br"],Or=function(e){return Tr(e)||H(Er,ge(e))},Nr=function(e){return Fn(e,Or)},Ar=function(e){return Dr(e,Or)},Dr=function(e,t){var n=function(e){for(var r=zt(e),o=r.length-1;o>=0;o--){var i=r[o];if(t(i))return k.some(i);var a=n(i);if(a.isSome())return a}return k.none()};return n(e)},Mr=function(e,t){return qe.fromDom(e.dom().cloneNode(t))},Ir=function(e){return Mr(e,!1)},Rr=function(e){return Mr(e,!0)},Pr=function(e,t){var n=qe.fromTag(t),r=De(e);return Te(n,r),n},Lr=function(e,t){var n=Pr(e,t),r=zt(Rr(e));return gn(n,r),n},jr=function(){var e=qe.fromTag("td");return dn(e,qe.fromTag("br")),e},Br=function(e,t,n){var r=Lr(e,t);return se(n,function(e,t){null===e?Ae(r,t):ke(r,t,e)}),r},zr=function(e){return e},Fr=function(e){return function(){return qe.fromTag("tr",e.dom())}},Hr=function(e,t,n){return Nr(e).map(function(r){var o=n.join(","),i=Rn(r,o,function(t){return Tt(t,e)});return X(i,function(e,t){var n=Ir(t);return Ae(n,"contenteditable"),dn(e,n),n},t)}).getOr(t)},Ur=function(e,t,n){var r=function(t){var r=Dt(t.element()),o=qe.fromTag(ge(t.element()),r.dom()),i=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),a=i.length>0?Hr(t.element(),o,i):o;return dn(a,qe.fromTag("br")),sn(t.element(),o),un(o,"height"),1!==t.colspan()&&un(t.element(),"width"),e(t.element(),o),o};return{row:Fr(t),cell:r,replace:Br,gap:jr}},Vr=function(e){return{row:Fr(e),cell:jr,replace:zr,gap:jr}},qr=function(t,n){var r=n||e.document,o=r.createElement("div");return o.innerHTML=t,zt(qe.fromDom(o))},Wr=function(e){return q(e,qe.fromDom)},$r=function(e,t){var n=t.column(),r=t.column()+t.colspan()-1,o=t.row(),i=t.row()+t.rowspan()-1;return n<=e.finishCol()&&r>=e.startCol()&&o<=e.finishRow()&&i>=e.startRow()},Gr=function(e,t){return t.column()>=e.startCol()&&t.column()+t.colspan()-1<=e.finishCol()&&t.row()>=e.startRow()&&t.row()+t.rowspan()-1<=e.finishRow()},Xr=function(e,n){for(var r=!0,o=t(Gr,n),i=n.startRow();i<=n.finishRow();i++)for(var a=n.startCol();a<=n.finishCol();a++)r=r&&mr.getAt(e,i,a).exists(o);return r?k.some(n):k.none()},Kr=function(e,t){return An(Math.min(e.row(),t.row()),Math.min(e.column(),t.column()),Math.max(e.row()+e.rowspan()-1,t.row()+t.rowspan()-1),Math.max(e.column()+e.colspan()-1,t.column()+t.colspan()-1))},Yr=function(e,t,n){var r=mr.findItem(e,t,Tt),o=mr.findItem(e,n,Tt);return r.bind(function(e){return o.map(function(t){return Kr(e,t)})})},Jr=function(e,t,n){return Yr(e,t,n).bind(function(t){return Xr(e,t)})},Qr=function(e,t,n,r){return mr.findItem(e,t,Tt).bind(function(t){var o=n>0?t.row()+t.rowspan()-1:t.row(),i=r>0?t.column()+t.colspan()-1:t.column();return mr.getAt(e,o+n,i+r).map(function(e){return e.element()})})},Zr=function(e,n,r){return Yr(e,n,r).map(function(n){var r=mr.filterItems(e,t($r,n));return q(r,function(e){return e.element()})})},eo=function(e,t){var n=function(e,t){return Nt(t,e)};return mr.findItem(e,t,n).map(function(e){return e.element()})},to=function(e,t,n){return rr(e).bind(function(r){var o=io(r);return Qr(o,e,t,n)})},no=function(e,t,n){var r=io(e);return Zr(r,t,n)},ro=function(e,t,n,r,o){var i=io(e),a=Tt(e,n)?k.some(t):eo(i,t),u=Tt(e,o)?k.some(r):eo(i,r);return a.bind(function(e){return u.bind(function(t){return Zr(i,e,t)})})},oo=function(e,t,n){var r=io(e);return Jr(r,t,n)},io=mr.fromTable,ao=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],uo=function(e,t,n,r){return r(e,t,n[0],n.slice(1))},so=function(e,t,n){return n.length>0?uo(e,t,n,co):k.none()},co=function(e,t,n,r){var o=t(e,n);return X(r,function(n,r){var o=t(e,r);return lo(e,n,o)},o)},lo=function(e,n,r){return n.bind(function(n){return r.filter(t(e.eq,n))})},fo=function(e,n){return t(e.eq,n)},po=function(e,t,n,r){void 0===r&&(r=y);var o=[t].concat(e.up().all(t)),i=[n].concat(e.up().all(n)),a=function(e){return Q(e,r).fold(function(){return e},function(t){return e.slice(0,t+1)})},u=a(o),s=a(i),c=J(u,function(t){return U(s,fo(e,t))});return{firstpath:h(u),secondpath:h(s),shared:h(c)}},mo=so,ho=po,go=r(),vo=function(e,t){return mo(go,function(t,n){return e(n)},t)},bo=function(e,t,n){return ho(go,e,t,n)},yo=function(e){return Hn(e,"table")},wo=function(e,t,n){var r=function(e){return function(t){return void 0!==n&&n(t)||Tt(t,e)}};return Tt(e,t)?k.some({boxes:k.some([e]),start:e,finish:t}):yo(e).bind(function(o){return yo(t).bind(function(i){if(Tt(o,i))return k.some({boxes:no(o,e,t),start:e,finish:t});if(Nt(o,i)){var a=Rn(t,"td,th",r(o)),u=a.length>0?a[a.length-1]:t;return k.some({boxes:ro(o,e,o,t,i),start:e,finish:u})}if(Nt(i,o)){var a=Rn(e,"td,th",r(i)),s=a.length>0?a[a.length-1]:e;return k.some({boxes:ro(i,e,o,t,i),start:e,finish:s})}return bo(e,t).shared().bind(function(a){return qn(a,"table",n).bind(function(n){var a=Rn(t,"td,th",r(n)),u=a.length>0?a[a.length-1]:t,s=Rn(e,"td,th",r(n)),c=s.length>0?s[s.length-1]:e;return k.some({boxes:ro(n,e,o,t,i),start:c,finish:u})})})})})},xo=function(e,t){var n=Ln(e,t);return n.length>0?k.some(n):k.none()},Co=function(e,t){return J(e,function(e){return Ct(e,t)})},_o=function(e,t,n){return Vn(e,t).bind(function(t){return Vn(e,n).bind(function(e){return vo(yo,[t,e]).map(function(n){return{first:h(t),last:h(e),table:h(n)}})})})},So=function(e,t){return Hn(e,"table").bind(function(n){return Vn(n,t).bind(function(t){return wo(t,e).bind(function(e){return e.boxes.map(function(t){return{boxes:t,start:e.start,finish:e.finish}})})})})},ko=function(e,t,n,r,o){return Co(e,o).bind(function(e){return to(e,t,n).bind(function(e){return So(e,r)})})},To=function(e,t){return xo(e,t)},Eo=function(e,t,n){return _o(e,t,n).bind(function(t){var n=function(t){return Tt(e,t)},r=Hn(t.first(),"thead,tfoot,tbody,table",n),o=Hn(t.last(),"thead,tfoot,tbody,table",n);return r.bind(function(e){return o.bind(function(n){return Tt(e,n)?oo(t.table(),t.first(),t.last()):k.none()})})})},Oo="data-mce-first-selected",No="data-mce-last-selected",Ao=Object.freeze({__proto__:null,selected:"data-mce-selected",selectedSelector:"td[data-mce-selected],th[data-mce-selected]",attributeSelector:"[data-mce-selected]",firstSelected:Oo,firstSelectedSelector:"td[data-mce-first-selected],th[data-mce-first-selected]",lastSelected:No,lastSelectedSelector:"td[data-mce-last-selected],th[data-mce-last-selected]"}),Do=function(t){if(!D(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var n=[],r={};return W(t,function(o,i){var a=ae(o);if(1!==a.length)throw new Error("one and only one name per case");var u=a[0],s=o[u];if(void 0!==r[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!D(s))throw new Error("case arguments must be an array");n.push(u),r[u]=function(){var r=arguments.length;if(r!==s.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+s.length+" ("+s+"), got "+r);for(var o=new Array(r),a=0;a<o.length;a++)o[a]=arguments[a];var c=function(e){var t=ae(e);if(n.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+t.join(","));if(!te(n,function(e){return H(t,e)}))throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+n.join(", "));return e[u].apply(null,o)};return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);return arguments[i].apply(null,o)},match:c,log:function(t){e.console.log(t,{constructors:n,constructor:u,params:o})}}}}),r},Mo={generate:Do},Io=Mo.generate([{none:[]},{multiple:["elements"]},{single:["selection"]}]),Ro=function(e,t,n,r){return e.fold(t,n,r)},Po=Io.none,Lo=Io.multiple,jo=Io.single,Bo=function(e,t){return Ro(t.get(),h([]),g,h([e]))},zo=function(e,t){var n=function(e){return Ne(e,"rowspan")&&parseInt(Ee(e,"rowspan"),10)>1||Ne(e,"colspan")&&parseInt(Ee(e,"colspan"),10)>1},r=Bo(e,t);return r.length>0&&te(r,n)?k.some(r):k.none()},Fo=function(e,t){return Ro(t.get(),k.none,function(t,n){return 0===t.length?k.none():Eo(e,"td[data-mce-first-selected],th[data-mce-first-selected]","td[data-mce-last-selected],th[data-mce-last-selected]").bind(function(e){return t.length>1?k.some({bounds:h(e),cells:h(t)}):k.none()})},k.none)},Ho=function(e){return{element:h(e),mergable:k.none,unmergable:k.none,selection:h([e])}},Uo=function(e,t,n){return{element:h(n),mergable:h(Fo(t,e)),unmergable:h(zo(n,e)),selection:h(Bo(n,e))}},Vo=function(e,t,n){return{element:h(e),clipboard:h(t),generators:h(n)}},qo=function(e,t,n,r){return{selection:h(Bo(t,e)),clipboard:h(n),generators:h(r)}},Wo=function(e){return rr(e[0]).map(Rr).map(function(e){return[wr(e,"[data-mce-selected]")]})},$o=function(e,t){return q(t,function(t){return e.selection.serializer.serialize(t.dom(),{})}).join("")},Go=function(e){return q(e,function(e){return e.dom().innerText}).join("")},Xo=function(e,t,n,r){e.on("BeforeGetContent",function(n){var r=function(t){n.preventDefault(),Wo(t).each(function(t){n.content="text"===n.format?Go(t):$o(e,t)})};!0===n.selection&&Ro(t.get(),d,r,d)}),e.on("BeforeSetContent",function(t){if(!0===t.selection&&!0===t.paste){k.from(e.dom.getParent(e.selection.getStart(),"th,td")).each(function(o){var i=qe.fromDom(o);rr(i).each(function(o){var a=G(qr(t.content),function(e){return"meta"!==ge(e)});if(1===a.length&&function(e){return"table"===ge(e)}(a[0])){t.preventDefault();var u=qe.fromDom(e.getDoc()),s=Vr(u),c=Vo(i,a[0],s);n.pasteCells(o,c).each(function(t){e.selection.setRng(t),e.focus(),r.clear(o)})}})})}})},Ko=function(e,t){var n=function(n,r){return Ko(e+n,t+r)};return{left:h(e),top:h(t),translate:n}},Yo=Ko,Jo=function(e){var t=e.getBoundingClientRect();return Yo(t.left,t.top)},Qo=function(e,t){return void 0!==e?e:void 0!==t?t:0},Zo=function(e){var t=e.dom().ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom())return Yo(n.offsetLeft,n.offsetTop);var i=Qo(r.pageYOffset,o.scrollTop),a=Qo(r.pageXOffset,o.scrollLeft),u=Qo(o.clientTop,n.clientTop),s=Qo(o.clientLeft,n.clientLeft);return ei(e).translate(a-s,i-u)},ei=function(e){var t=e.dom(),n=t.ownerDocument,r=n.body;return r===t?Yo(r.offsetLeft,r.offsetTop):Yt(e)?Jo(t):Yo(0,0)},ti=function(e){var t=k.from(e.dom().documentElement).map(qe.fromDom).getOr(e);return{parent:h(t),view:h(e),origin:h(Yo(0,0))}},ni=function(e,t){var n=function(){return Zo(t)};return{parent:h(t),view:h(e),origin:n}},ri=function(e,t){return{parent:h(t),view:h(e),origin:h(Yo(0,0))}},oi={only:ti,detached:ni,body:ri},ii=o("height",function(e){var t=e.dom();return Yt(e)?t.getBoundingClientRect().height:t.offsetHeight}),ai=function(e){return ii.get(e)},ui=function(e){return ii.getOuter(e)},si=o("width",function(e){return e.dom().offsetWidth}),ci=function(e){return si.get(e)},li=function(e){return si.getOuter(e)},fi=function(e,t){return{row:e,y:t}},di=function(e,t){return{col:e,x:t}},pi=function(e){return Zo(e).left()+li(e)},mi=function(e){return Zo(e).left()},hi=function(e,t){return di(e,mi(t))},gi=function(e,t){return di(e,pi(t))},vi=function(e){return Zo(e).top()},bi=function(e,t){return fi(e,vi(t))},yi=function(e,t){return fi(e,vi(t)+ui(t))},wi=function(e,t,n){if(0===n.length)return[];var r=q(n.slice(1),function(t,n){return t.map(function(t){return e(n,t)})}),o=n[n.length-1].map(function(e){return t(n.length-1,e)});return r.concat([o])},xi=function(e){return-e},Ci={delta:g,positions:function(e){return wi(bi,yi,e)},edge:vi},_i={delta:g,edge:mi,positions:function(e){return wi(hi,gi,e)}},Si={delta:xi,edge:pi,positions:function(e){return wi(gi,hi,e)}},ki=function(e){var t=e.grid,n=V(t.columns(),g),r=V(t.rows(),g);return q(n,function(t){return Ti(function(){return ee(r,function(n){return mr.getAt(e,n,t).filter(function(e){return e.column()===t}).fold(h([]),function(e){return[e]})})},function(e){return 1===e.colspan()},function(){return mr.getAt(e,0,t)})})},Ti=function(e,t,n){var r=e();return J(r,t).orThunk(function(){return k.from(r[0]).orThunk(n)}).map(function(e){return e.element()})},Ei=function(e){var t=e.grid,n=V(t.rows(),g),r=V(t.columns(),g);return q(n,function(t){return Ti(function(){return ee(r,function(n){return mr.getAt(e,t,n).filter(function(e){return e.row()===t}).fold(h([]),function(e){return[e]})})},function(e){return 1===e.rowspan()},function(){return mr.getAt(e,t,0)})})},Oi=function(e,t){if(t<0||t>=e.length-1)return k.none();var n=e[t].fold(function(){var n=ne(e.slice(0,t));return ie(n,function(e,t){return e.map(function(e){return{value:e,delta:t+1}})})},function(e){return k.some({value:e,delta:0})}),r=e[t+1].fold(function(){var n=e.slice(t+1);return ie(n,function(e,t){return e.map(function(e){return{value:e,delta:t+1}})})},function(e){return k.some({value:e,delta:1})});return n.bind(function(e){return r.map(function(t){var n=t.delta+e.delta;return Math.abs(t.value-e.value)/n})})},Ni=function(){var e=xt().browser;return e.isIE()||e.isEdge()},Ai=function(e,t){var n=parseFloat(e);return isNaN(n)?t:n},Di=function(e,t,n){return Ai(rn(e,t),n)},Mi=function(e){var t=e.dom().getBoundingClientRect().height;return"border-box"===rn(e,"box-sizing")?t:t-Di(e,"padding-top",0)-Di(e,"padding-bottom",0)-(Di(e,"border-top-width",0)+Di(e,"border-bottom-width",0))},Ii=function(e){var t=e.dom().getBoundingClientRect().width;return"border-box"===rn(e,"box-sizing")?t:t-Di(e,"padding-left",0)-Di(e,"padding-right",0)-(Di(e,"border-left-width",0)+Di(e,"border-right-width",0))},Ri=function(e){return Ni()?Mi(e):Di(e,"height",ai(e))},Pi=function(e){return Ni()?Ii(e):Di(e,"width",ci(e))},Li=/(\d+(\.\d+)?)(\w|%)*/,ji=/(\d+(\.\d+)?)%/,Bi=/(\d+(\.\d+)?)px|em/,zi=function(e,t){var n=Lt(e).getOr(Qt(Dt(e)));return t(e)/t(n)*100},Fi=function(e,t){tn(e,"width",t+"px")},Hi=function(e,t){tn(e,"width",t+"%")},Ui=function(e,t){tn(e,"height",t+"px")},Vi=function(e){return an(e,"height").getOrThunk(function(){return Ri(e)+"px"})},qi=function(e,t,n,r){var o=rr(e).map(function(e){var r=n(e);return Math.floor(t/100*r)}).getOr(t);return r(e,o),o},Wi=function(e,t,n,r){var o=parseInt(e,10);return Pe(e,"%")&&"table"!==ge(t)?qi(t,o,n,r):o},$i=function(e){var t=Vi(e);return t?Wi(t,e,ai,Ui):ai(e)},Gi=function(e,t,n){return n(e)/$n(e,t)},Xi=function(e){return an(e,"width").fold(function(){return k.from(Ee(e,"width"))},function(e){return k.some(e)})},Ki=function(e,t){return e/t.pixelWidth()*100},Yi=function(e,t,n){var r=ji.exec(t);if(null!==r)return parseFloat(r[1]);var o=Pi(e);return Ki(o,n)},Ji=function(e,t){return Xi(e).fold(function(){var n=ci(e);return Ki(n,t)},function(n){return Yi(e,n,t)})},Qi=function(e,t){return e/100*t.pixelWidth()},Zi=function(e,t,n){var r=Bi.exec(t);if(null!==r)return parseInt(r[1],10);var o=ji.exec(t);if(null!==o){var i=parseFloat(o[1]);return Qi(i,n)}return Pi(e)},ea=function(e,t){return Xi(e).fold(function(){return Pi(e)},function(n){return Zi(e,n,t)})},ta=function(e){return Gi(e,"rowspan",$i)},na=function(e){return Xi(e).bind(function(e){var t=Li.exec(e);return null!==t?k.some({width:h(parseFloat(t[1])),unit:h(t[3])}):k.none()})},ra=function(e,t,n){tn(e,"width",t+n)},oa=function(e){return ci(e)+"px"},ia=function(e){return zi(e,ci)+"%"},aa=function(e){return Xi(e).exists(function(e){return ji.test(e)})},ua=function(e){return Xi(e).exists(function(e){return Bi.test(e)})},sa=function(e){return Xi(e).isNone()},ca=h(ji),la=h(Bi),fa=function(e,t,n){return an(e,t).fold(function(){return n(e)+"px"},function(e){return e})},da=function(e,t){return fa(e,"width",function(e){return ea(e,t)})},pa=function(e){return fa(e,"height",ta)},ma=function(e,t,n,r,o){var i=ki(e),a=q(i,function(e){return e.map(t.edge)});return q(i,function(e,t){return e.filter(v(Gn)).fold(function(){var e=Oi(a,t);return r(e)},function(e){return n(e,o)})})},ha=function(e){return e.map(function(e){return e+"px"}).getOr("")},ga=function(e,t,n){return ma(e,t,da,ha,n)},va=function(e,t,n){return ma(e,t,Ji,function(e){return e.fold(function(){return n.minCellWidth()},function(e){return e/n.pixelWidth()*100})},n)},ba=function(e,t,n){return ma(e,t,ea,function(e){return e.getOrThunk(n.minCellWidth)},n)},ya=function(e,t,n,r){var o=Ei(e),i=q(o,function(e){return e.map(t.edge)});return q(o,function(e,t){return e.filter(v(Xn)).fold(function(){var e=Oi(i,t);return r(e)},function(e){return n(e)})})},wa=function(e,t){return ya(e,t,ta,function(e){return e.getOrThunk(Jn)})},xa=function(e,t){return ya(e,t,pa,ha)},Ca=Mo.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),_a=function(e,t,n){var r=n.substring(0,n.length-e.length),o=parseFloat(r);return r===o.toString()?t(o):Ca.invalid(n)},Sa=function(e){return Pe(e,"%")?_a("%",Ca.percent,e):Pe(e,"px")?_a("px",Ca.pixels,e):Ca.invalid(e)},ka=Ge(Ge({},Ca),{from:Sa}),Ta=function(e,t){return q(e,function(e){return ka.from(e).fold(function(){return e},function(e){return e/t*100+"%"},function(e){return e+"%"})})},Ea=function(e,t,n){var r=n/t;return q(e,function(e){return ka.from(e).fold(function(){return e},function(e){return e*r+"px"},function(e){return e/100*n+"px"})})},Oa=function(e,t){var n=e.fold(function(){return h("")},function(e){return h(e/t+"px")},function(e){return h(e/t+"px")});return V(t,n)},Na=function(e,t,n){return e.fold(function(){return t},function(e){return Ea(t,n,e)},function(e){return Ta(t,n)})},Aa=function(e,t,n){var r=ka.from(n),o=te(e,function(e){return"0px"===e})?Oa(r,e.length):Na(r,e,t);return Ra(o)},Da=function(e,t){return 0===e.length?t:X(e,function(e,t){return ka.from(t).fold(h(0),g,g)+e},0)},Ma=function(e,t){var n=Math.floor(e);return{value:n+t,remainder:e-n}},Ia=function(e,t){return ka.from(e).fold(h(e),function(e){return e+t+"px"},function(e){return e+t+"%"})},Ra=function(e){if(0===e.length)return e;var t=X(e,function(e,t){var n=ka.from(t).fold(function(){return{value:t,remainder:0}},function(e){return Ma(e,"px")},function(e){return{value:e+"%",remainder:0}});return{output:[n.value].concat(e.output),remainder:e.remainder+n.remainder}},{output:[],remainder:0}),n=t.output;return n.slice(0,n.length-1).concat([Ia(n[n.length-1],Math.round(t.remainder))])},Pa=ka.from,La=function(e,t,n){W(t,function(t){var r=e.slice(t.column(),t.colspan()+t.column()),o=Da(r,Yn());tn(t.element(),"width",o+n)})},ja=function(e,t,n,r){W(n,function(t){var n=e.slice(t.row(),t.rowspan()+t.row()),o=Da(n,Jn());tn(t.element(),"height",o+r)}),W(t,function(t,n){tn(t.element(),"height",e[n])})},Ba=function(e){return Pa(e).fold(h("px"),h("px"),h("%"))},za=function(e,t,n,r,o){var i=mr.fromTable(e),a=i.all,u=mr.justCells(i);t.each(function(t){var n=Ba(t),a=ci(e),s=ga(i,r,o),c=Aa(s,a,t);La(c,u,n),tn(e,"width",t)}),n.each(function(t){var n=Ba(t),r=ai(e),o=xa(i,Ci),s=Aa(o,r,t);ja(s,a,u,n),tn(e,"height",t)})},Fa=aa,Ha=ua,Ua=sa,Va=ia,qa={ltr:_i,rtl:Si},Wa=function(e){var t=function(t){return e(t).isRtl()?qa.rtl:qa.ltr},n=function(e,n){return t(n).delta(e,n)},r=function(e,n){return t(n).positions(e,n)};return{delta:n,edge:function(e){return t(e).edge(e)},positions:r}},$a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return W(e,function(e,n){r[e]=h(t[n])}),r}},Ga=function(e){var t=$a.apply(null,e),n=[];return{bind:function(e){if(void 0===e)throw new Error("Event bind error: undefined handler");n.push(e)},unbind:function(e){n=G(n,function(t){return t!==e})},trigger:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=t.apply(null,e);W(n,function(e){e(o)})}}},Xa=function(e){return{registry:ce(e,function(e){return{bind:e.bind,unbind:e.unbind}}),trigger:ce(e,function(e){return e.trigger})}},Ka=Mo.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Ya=Ge({},Ka),Ja=function(e,t){return 0===e.length?Ya.none():1===e.length?Ya.only(0):0===t?Ya.left(0,1):t===e.length-1?Ya.right(t-1,t):t>0&&t<e.length-1?Ya.middle(t-1,t,t+1):Ya.none()},Qa=function(e,t,n,r){var o=e.slice(0),i=Ja(e,t),a=function(e){return q(e,h(0))},u=h(a(o)),s=function(e){return r.singleColumnWidth(o[e],n)},c=function(e,t){if(n>=0){var i=Math.max(r.minCellWidth(),o[t]-n);return a(o.slice(0,e)).concat([n,i-o[t]]).concat(a(o.slice(t+1)))}var u=Math.max(r.minCellWidth(),o[e]+n),s=o[e]-u;return a(o.slice(0,e)).concat([u-o[e],s]).concat(a(o.slice(t+1)))},l=c,f=function(e,t,n){return c(t,n)},d=function(e,t){if(n>=0)return a(o.slice(0,t)).concat([n]);var i=Math.max(r.minCellWidth(),o[t]+n);return a(o.slice(0,t)).concat([i-o[t]])};return i.fold(u,s,l,f,d)},Za=function(e,t,n){for(var r=0,o=e;o<t;o++)r+=void 0!==n[o]?n[o]:0;return r},eu=function(e,t){var n=mr.justCells(e);return q(n,function(e){var n=Za(e.column(),e.column()+e.colspan(),t);return{element:e.element(),width:n,colspan:e.colspan()}})},tu=function(e,t){var n=mr.justCells(e);return q(n,function(e){var n=Za(e.row(),e.row()+e.rowspan(),t);return{element:e.element,height:h(n),rowspan:e.rowspan}})},nu=function(e,t){return q(e.all,function(e,n){return{element:e.element,height:h(t[n])}})},ru=function(e){return X(e,function(e,t){return e+t},0)},ou=function(e,t,n,r,o){var i=o.getCellDelta(t),a=mr.fromTable(e),u=o.getWidths(a,r,o),s=Qa(u,n,i,o),c=q(s,function(e,t){return e+u[t]}),l=eu(a,c);W(l,function(e){o.setElementWidth(e.element,e.width)}),n===a.grid.columns()-1&&o.adjustTableWidth(i)},iu=function(e,t,n,r){var o=mr.fromTable(e),i=wa(o,r),a=q(i,function(e,r){return n===r?Math.max(t+e,Jn()):e}),u=tu(o,a),s=nu(o,a);W(s,function(e){Ui(e.element(),e.height())}),W(u,function(e){Ui(e.element(),e.height())});var c=ru(a);Ui(e,c)},au=function(e,t,n,r){var o=mr.generate(t),i=r.getWidths(o,n,r),a=eu(o,i);W(a,function(e){r.setElementWidth(e.element,e.width)})},uu=function(e,t,n,r,o,i,a){return{target:h(e),x:h(t),y:h(n),stop:r,prevent:o,kill:i,raw:h(a)}},su=function(e){var t=qe.fromDom(Xt(e).getOr(e.target)),n=function(){return e.stopPropagation()},r=function(){return e.preventDefault()},o=p(r,n);return uu(t,e.clientX,e.clientY,n,r,o,e)},cu=function(e,t){return function(n){e(n)&&t(su(n))}},lu=function(e,n,r,o,i){var a=cu(r,o);return e.dom().addEventListener(n,a,i),{unbind:t(du,e,n,a,i)}},fu=function(e,t,n,r){return lu(e,t,n,r,!1)},du=function(e,t,n,r){e.dom().removeEventListener(t,n,r)},pu=h(!0),mu=function(e,t,n){return fu(e,t,pu,n)},hu=su,gu=function(e,t){var n=Ee(e,t);return void 0===n||""===n?[]:n.split(" ")},vu=function(e,t,n){var r=gu(e,t),o=r.concat([n]);return ke(e,t,o.join(" ")),!0},bu=function(e,t,n){var r=G(gu(e,t),function(e){return e!==n});return r.length>0?ke(e,t,r.join(" ")):Ae(e,t),!1},yu=function(e){return void 0!==e.dom().classList},wu=function(e){return gu(e,"class")},xu=function(e,t){return vu(e,"class",t)},Cu=function(e,t){return bu(e,"class",t)},_u=function(e,t){yu(e)?e.dom().classList.add(t):xu(e,t)},Su=function(e){0===(yu(e)?e.dom().classList:wu(e)).length&&Ae(e,"class")},ku=function(e,t){if(yu(e)){e.dom().classList.remove(t)}else Cu(e,t);Su(e)},Tu=function(e,t){return yu(e)&&e.dom().classList.contains(t)},Eu=function(e){var t=e.replace(/\./g,"-");return{resolve:function(e){return t+"-"+e}}},Ou=Eu("ephox-dragster"),Nu=Ou.resolve,Au=function(e){var t=Ge({layerClass:Nu("blocker")},e),n=qe.fromTag("div");return ke(n,"role","presentation"),nn(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),_u(n,Nu("blocker")),_u(n,t.layerClass),{element:function(){return n},destroy:function(){bn(n)}}},Du=function(e){return e.slice(0).sort()},Mu=function(e,t){throw new Error("All required keys ("+Du(e).join(", ")+") were not specified. Specified keys were: "+Du(t).join(", ")+".")},Iu=function(e){throw new Error("Unsupported keys for object: "+Du(e).join(", "))},Ru=function(e,t){if(!D(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");W(t,function(t){if(!N(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")})},Pu=function(e,t){throw new Error("All values need to be of type: "+t+". Keys ("+Du(e).join(", ")+") were not.")},Lu=function(e){var t=Du(e);J(t,function(e,n){return n<t.length-1&&e===t[n+1]}).each(function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")})},ju=function(e,t){return Bu(e,t,{validate:P,label:"function"})},Bu=function(e,t,n){if(0===t.length)throw new Error("You must specify at least one required field.");return Ru("required",t),Lu(t),function(r){var o=ae(r);te(t,function(e){return H(o,e)})||Mu(t,o),e(t,o);var i=G(t,function(e){return!n.validate(r[e],e)});return i.length>0&&Pu(i,n.label),r}},zu=function(e,t){var n=G(t,function(t){return!H(e,t)});n.length>0&&Iu(n)},Fu=function(e){return ju(zu,e)},Hu=Fu(["compare","extract","mutate","sink"]),Uu=Fu(["element","start","stop","destroy"]),Vu=Fu(["forceDrop","drop","move","delayDrop"]),qu=function(e,t){return Yo(t.left()-e.left(),t.top()-e.top())},Wu=function(e){return k.some(Yo(e.x(),e.y()))},$u=function(e,t){e.mutate(t.left(),t.top())},Gu=function(e,t){var n=Au(t),r=mu(n.element(),"mousedown",e.forceDrop),o=mu(n.element(),"mouseup",e.drop),i=mu(n.element(),"mousemove",e.move),a=mu(n.element(),"mouseout",e.delayDrop),u=function(){n.destroy(),o.unbind(),i.unbind(),a.unbind(),r.unbind()},s=function(e){dn(e,n.element())},c=function(){bn(n.element())};return Uu({element:n.element,start:s,stop:c,destroy:u})},Xu=Hu({compare:qu,extract:Wu,sink:Gu,mutate:$u}),Ku=function(t,n){var r=null;return{cancel:function(){null!==r&&(e.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null!==r&&e.clearTimeout(r),r=e.setTimeout(function(){t.apply(null,o),r=null},n)}}},Yu=function(e,t,n){var r=!1,o=Xa({start:Ga([]),stop:Ga([])}),i=u(),a=function(){m.stop(),i.isOn()&&(i.off(),o.trigger.stop())},s=Ku(a,200),c=function(e){m.start(e),i.on(),o.trigger.start()},l=function(e){s.cancel(),i.onEvent(e,t)};i.events.move.bind(function(n){t.mutate(e,n.info())});var f=function(){r=!0},d=function(){r=!1},p=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];r&&e.apply(null,t)}},m=t.sink(Vu({forceDrop:a,drop:p(a),move:p(l),delayDrop:p(s.throttle)}),n),h=function(){m.destroy()};return{element:m.element,go:c,on:f,off:d,destroy:h,events:o.registry}},Ju=function(e,t){void 0===t&&(t={});var n=void 0!==t.mode?t.mode:Xu;return Yu(e,n,t)},Qu=function(e){return"true"===Ee(e,"contenteditable")},Zu=function(e,t){return qn(e,"[contenteditable]",t)},es=Eu("ephox-snooker"),ts=es.resolve,ns=function(){var e=Xa({drag:Ga(["xDelta","yDelta"])});return{mutate:function(t,n){e.trigger.drag(t,n)},events:e.registry}},rs=function(){var e=Xa({drag:Ga(["xDelta","yDelta","target"])}),t=k.none(),n=ns();return n.events.drag.bind(function(n){t.each(function(t){e.trigger.drag(n.xDelta(),n.yDelta(),t)})}),{assign:function(e){t=k.some(e)},get:function(){return t},mutate:n.mutate,events:e.registry}},os=function(e,t,n,r,o){var i=qe.fromTag("div");return nn(i,{position:"absolute",left:t-r/2+"px",top:n+"px",height:o+"px",width:r+"px"}),Te(i,{"data-column":e,role:"presentation"}),i},is=function(e,t,n,r,o){var i=qe.fromTag("div");return nn(i,{position:"absolute",left:t+"px",top:n-o/2+"px",height:o+"px",width:r+"px"}),Te(i,{"data-row":e,role:"presentation"}),i},as=ts("resizer-bar"),us=ts("resizer-rows"),ss=ts("resizer-cols"),cs=function(e){var t=Ln(e.parent(),"."+as);W(t,bn)},ls=function(e,t,n){var r=e.origin();W(t,function(t){t.each(function(t){var o=n(r,t);_u(o,as),dn(e.parent(),o)})})},fs=function(e,t,n,r){ls(e,t,function(e,t){var o=os(t.col,t.x-e.left(),n.top()-e.top(),7,r);return _u(o,ss),o})},ds=function(e,t,n,r){ls(e,t,function(e,t){var o=is(t.row,n.left()-e.left(),t.y-e.top(),r,7);return _u(o,us),o})},ps=function(e,t,n,r,o,i){var a=Zo(t),u=n.length>0?o.positions(n,t):[];ds(e,u,a,li(t));var s=r.length>0?i.positions(r,t):[];fs(e,s,a,ui(t))},ms=function(e,t,n,r){cs(e);var o=mr.fromTable(t),i=Ei(o),a=ki(o);ps(e,t,i,a,n,r)},hs=function(e,t){var n=Ln(e.parent(),"."+as);W(n,t)},gs=function(e){hs(e,function(e){tn(e,"display","none")})},vs=function(e){hs(e,function(e){tn(e,"display","block")})},bs=function(e){return Tu(e,us)},ys=function(e){return Tu(e,ss)},ws=ts("resizer-bar-dragging"),xs=function(e,n,r){var o=rs(),i=Ju(o,{}),a=k.none(),u=function(e,t){return k.from(Ee(e,t))};o.events.drag.bind(function(e){u(e.target(),"data-row").each(function(t){var n=Kn(e.target(),"top");tn(e.target(),"top",n+e.yDelta()+"px")}),u(e.target(),"data-column").each(function(t){var n=Kn(e.target(),"left");tn(e.target(),"left",n+e.xDelta()+"px")})});var s=function(e,t){return Kn(e,t)-Wn(e,"data-initial-"+t,0)};i.events.stop.bind(function(){o.get().each(function(t){a.each(function(o){u(t,"data-row").each(function(e){var n=s(t,"top");Ae(t,"data-initial-top"),g.trigger.adjustHeight(o,n,parseInt(e,10))}),u(t,"data-column").each(function(e){var n=s(t,"left");Ae(t,"data-initial-left"),g.trigger.adjustWidth(o,n,parseInt(e,10))}),ms(e,o,r,n)})})});var c=function(t,n){g.trigger.startAdjust(),o.assign(t),ke(t,"data-initial-"+n,Kn(t,n)),_u(t,ws),tn(t,"opacity","0.2"),i.go(e.parent())},l=mu(e.parent(),"mousedown",function(e){bs(e.target())&&c(e.target(),"top"),ys(e.target())&&c(e.target(),"left")}),f=function(t){return Tt(t,e.view())},d=function(e){return qn(e,"table",f).filter(function(e){return Zu(e,f).exists(Qu)})},p=mu(e.view(),"mouseover",function(t){d(t.target()).fold(function(){Yt(t.target())&&cs(e)},function(t){a=k.some(t),ms(e,t,r,n)})}),m=function(){l.unbind(),p.unbind(),i.destroy(),cs(e)},h=function(t){ms(e,t,r,n)},g=Xa({adjustHeight:Ga(["table","delta","row"]),adjustWidth:Ga(["table","delta","column"]),startAdjust:Ga([])});return{destroy:m,refresh:h,on:i.on,off:i.off,hideBars:t(gs,e),showBars:t(vs,e),events:g.registry}},Cs=function(e,t,n){var r=Ci,o=xs(e,t,r),i=Xa({beforeResize:Ga(["table"]),afterResize:Ga(["table"]),startDrag:Ga([])});return o.events.adjustHeight.bind(function(e){var t=e.table();i.trigger.beforeResize(t);var n=r.delta(e.delta(),t);iu(t,n,e.row(),r),i.trigger.afterResize(t)}),o.events.startAdjust.bind(function(e){i.trigger.startDrag()}),o.events.adjustWidth.bind(function(e){var r=e.table();i.trigger.beforeResize(r);var o=t.delta(e.delta(),r),a=n(r);ou(r,o,e.column(),t,a),i.trigger.afterResize(r)}),{on:o.on,off:o.off,hideBars:o.hideBars,showBars:o.showBars,destroy:o.destroy,events:i.registry}},_s={create:Cs},Ss=function(e,t){return e.fire("newrow",{node:t})},ks=function(e,t){return e.fire("newcell",{node:t})},Ts=function(e,t,n,r){e.fire("ObjectResizeStart",{target:t,width:n,height:r})},Es=function(e,t,n,r){e.fire("ObjectResized",{target:t,width:n,height:r})},Os=function(e,t,n,r,o){e.fire("TableSelectionChange",{cells:t,start:n,finish:r,otherCells:o})},Ns=function(e){e.fire("TableSelectionClear")},As={"border-collapse":"collapse",width:"100%"},Ds=function(e){if(Ks(e)){var t=e.getBody().offsetWidth;return Ge(Ge({},As),{width:t+"px"})}return Ys(e)?pe(As,function(e,t){return"width"!==t}):As},Ms={border:"1"},Is=function(e){return e.getParam("table_sizing_mode","auto")},Rs=function(e){return e.getParam("table_responsive_width")},Ps=function(e){return e.getParam("table_default_attributes",Ms,"object")},Ls=function(e){return e.getParam("table_default_styles",Ds(e),"object")},js=function(e){return e.getParam("table_resize_bars",!0,"boolean")},Bs=function(e){return e.getParam("table_tab_navigation",!0,"boolean")},zs=function(e){return e.getParam("table_cell_advtab",!0,"boolean")},Fs=function(e){return e.getParam("table_row_advtab",!0,"boolean")},Hs=function(e){return e.getParam("table_advtab",!0,"boolean")},Us=function(e){return e.getParam("table_appearance_options",!0,"boolean")},Vs=function(e){return e.getParam("table_grid",!0,"boolean")},qs=function(e){return e.getParam("table_style_by_css",!1,"boolean")},Ws=function(e){return e.getParam("table_cell_class_list",[],"array")},$s=function(e){return e.getParam("table_row_class_list",[],"array")},Gs=function(e){return e.getParam("table_class_list",[],"array")},Xs=function(e){return"relative"===Is(e)||!0===Rs(e)},Ks=function(e){return"fixed"===Is(e)||!1===Rs(e)},Ys=function(e){return"responsive"===Is(e)},Js=function(e){return e.getParam("table_toolbar","tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol")},Qs=function(e){var t=e.getParam("table_header_type","section","string");return H(["section","cells","sectionCells","auto"],t)?t:"section"},Zs=function(e){var t=e.getParam("table_clone_elements");return N(t)?k.some(t.split(/[ ,]/)):Array.isArray(t)?k.some(t):k.none()},ec=function(e){var t=e.getParam("object_resizing",!0);return N(t)?"table"===t:t},tc=function(e){return e.nodeName.toLowerCase()},nc=function(e){return qe.fromDom(e.getBody())},rc=function(e){return e.getBoundingClientRect().width},oc=function(e){return e.getBoundingClientRect().height},ic=function(e){return function(t){return Tt(t,nc(e))}},ac=function(e){return e?e.replace(/px$/,""):""},uc=function(e){return/^\d+(\.\d+)?$/.test(e)?e+"px":e},sc=function(e){Ae(e,"data-mce-style"),W(nr(e),function(e){return Ae(e,"data-mce-style")})},cc=function(e,t){var n=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width");return k.from(n).filter(je)},lc=function(e){return/^(\d+(\.\d+)?)%$/.test(e)},fc=function(e){return"rtl"===rn(e,"direction")?"rtl":"ltr"},dc={isRtl:h(!1)},pc={isRtl:h(!0)},mc=function(e){return"rtl"===fc(e)?pc:dc},hc=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},gc=function(e){var t=function(){return ci(e)},n=h(0);return{width:t,pixelWidth:t,getWidths:ba,getCellDelta:n,singleColumnWidth:h([0]),minCellWidth:n,setElementWidth:d,adjustTableWidth:d,label:"none"}},vc=function(e,t){var n=hc(parseFloat(e)),r=hc(ci(t)),o=function(e){return e/r.get()*100},i=function(e,t){return[100-e]},a=function(){return Yn()/r.get()*100},u=function(e){var o=n.get(),i=e/100*o,a=o+i;Hi(t,a),n.set(a),r.set(ci(t))};return{width:n.get,pixelWidth:r.get,getWidths:va,getCellDelta:o,singleColumnWidth:i,minCellWidth:a,setElementWidth:Hi,adjustTableWidth:u,label:"percent"}},bc=function(e,t){var n=hc(e),r=n.get;return{width:r,pixelWidth:r,getWidths:ba,getCellDelta:g,singleColumnWidth:function(e,t){return[Math.max(Yn(),e+t)-e]},minCellWidth:Yn,setElementWidth:Fi,adjustTableWidth:function(e){var o=r()+e;Fi(t,o),n.set(o)},label:"pixel"}},yc=function(e,t){var n=ca().exec(t);if(null!==n)return vc(n[1],e);var r=la().exec(t);if(null!==r){var o=parseInt(r[1],10);return bc(o,e)}var i=ci(e);return bc(i,e)},wc=function(e){return Xi(e).fold(function(){return gc(e)},function(t){return yc(e,t)})},xc={getTableSize:wc,pixelSize:bc,percentageSize:vc,noneSize:gc},Cc=function(e,t){if(Xs(e)){var n=cc(e,t.dom()).filter(lc).getOrThunk(function(){return Va(t)});return xc.percentageSize(n,t)}return Ks(e)?xc.pixelSize(ci(t),t):xc.getTableSize(t)},_c=function(e){Ae(e,"width")},Sc=function(e,t,n){var r=ia(e);za(e,k.some(r),k.none(),t,n),_c(e)},kc=function(e,t,n){var r=oa(e);za(e,k.some(r),k.none(),t,n),_c(e)},Tc=function(e){un(e,"width"),W(nr(e),function(e){un(e,"width"),_c(e)}),_c(e)},Ec=function(e,t){var n=Wa(mc),r=Cc(e,t);Sc(t,n,r)},Oc=function(e,t){var n=Wa(mc),r=Cc(e,t);kc(t,n,r)},Nc=Tc,Ac=function(e){W(nr(e),function(e){var t=rn(e,"width");tn(e,"width",t),Ae(e,"width")})},Dc=function(){var e=qe.fromTag("div");return nn(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),dn(Jt(),e),e},Mc=function(e,t){return e.inline?oi.body(nc(e),Dc()):oi.only(qe.fromDom(e.getDoc()))},Ic=function(e,t){e.inline&&bn(t.parent())},Rc=function(e){var t,n,r=k.none(),o=k.none(),i=k.none(),a=function(e){return"TABLE"===e.nodeName},u=function(){return o},s=function(){return i.getOr(oi.only(qe.fromDom(e.getBody())))},c=function(){o.each(function(e){e.destroy()}),i.each(function(t){Ic(e,t)})};return e.on("init",function(){var t=Wa(mc),n=Mc(e);if(i=k.some(n),ec(e)&&js(e)){var a=function(t){return Cc(e,t)},u=_s.create(n,t,a);u.on(),u.events.startDrag.bind(function(t){r=k.some(e.selection.getRng())}),u.events.beforeResize.bind(function(t){var n=t.table().dom();Ts(e,n,rc(n),oc(n))}),u.events.afterResize.bind(function(t){var n=t.table(),o=n.dom();sc(n),r.each(function(t){e.selection.setRng(t),e.focus()}),Es(e,o,rc(o),oc(o)),e.undoManager.add()}),o=k.some(u)}}),e.on("ObjectResizeStart",function(r){var o=r.target;if(a(o)){var i=qe.fromDom(o);!Ha(i)&&Ks(e)?Oc(e,i):!Fa(i)&&Xs(e)&&Ec(e,i),t=r.width,n=cc(e,o).getOr("")}}),e.on("ObjectResized",function(r){var o=r.target;if(a(o)){var i=qe.fromDom(o);if(""===n||!lc(n)&&Ys(e))Ec(e,i);else if(lc(n)){var u=parseFloat(n.replace("%","")),s=r.width*u/t;tn(i,"width",s+"%")}else Ac(i);sc(i)}}),e.on("SwitchMode",function(){u().each(function(t){e.mode.isReadOnly()?t.hideBars():t.showBars()})}),{lazyResize:u,lazyWire:s,destroy:c}},Pc=function(e,t){return{element:h(e),offset:h(t)}},Lc=function(e,t,n){return e.property().isText(t)&&0===e.property().getText(t).trim().length||e.property().isComment(t)?n(t).bind(function(t){return Lc(e,t,n).orThunk(function(){return k.some(t)})}):k.none()},jc=function(e,t){return e.property().isText(t)?e.property().getText(t).length:e.property().children(t).length},Bc=function(e,t){var n=Lc(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(n))return Pc(n,jc(e,n));var r=e.property().children(n);return r.length>0?Bc(e,r[r.length-1]):Pc(n,jc(e,n))},zc=Bc,Fc=r(),Hc=function(e){return zc(Fc,e)},Uc=function(e,t){na(e).each(function(n){var r=n.width()/2;ra(e,r,n.unit()),ra(t,r,n.unit())})},Vc=function(e){return mr.fromTable(e).grid},qc=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},Wc=function(e,t,n){return e.isSome()&&t.isSome()?k.some(n(e.getOrDie(),t.getOrDie())):k.none()},$c=function(e,t,n,r){n===r?Ae(e,t):ke(e,t,n)},Gc=function(e,n){var r=[],o=[],i=oe(Pn(e,"caption,colgroup")).fold(function(){return t(fn,e)},function(e){return t(ln,e)}),a=function(t,n){var a=Un(e,n).getOrThunk(function(){var t=qe.fromTag(n,Dt(e).dom());return"thead"===n?i(t):dn(e,t),t});vn(a);var u=q(t,function(e){e.isNew()&&r.push(e.element());var t=e.element();return vn(t),W(e.cells(),function(e){e.isNew()&&o.push(e.element()),$c(e.element(),"colspan",e.colspan(),1),$c(e.element(),"rowspan",e.rowspan(),1),dn(t,e.element())}),t});gn(a,u)},u=function(t){Un(e,t).each(bn)},s=function(e,t){e.length>0?a(e,t):u(t)},c=[],l=[],f=[];return W(n,function(e){switch(e.section()){case"thead":c.push(e);break;case"tbody":l.push(e);break;case"tfoot":f.push(e)}}),s(c,"thead"),s(l,"tbody"),s(f,"tfoot"),{newRows:r,newCells:o}},Xc=function(e){return q(e,function(e){var t=Ir(e.element());return W(e.cells(),function(e){var n=Rr(e.element());$c(n,"colspan",e.colspan(),1),$c(n,"rowspan",e.rowspan(),1),dn(t,n)}),t})},Kc=function(e,t,n){var r=e.cells(),o=r.slice(0,t),i=r.slice(t),a=o.concat([n]).concat(i);return Jc(e,a)},Yc=function(e,t,n){e.cells()[t]=n},Jc=function(e,t){return On(t,e.section())},Qc=function(e,t){var n=e.cells(),r=q(n,t);return On(r,e.section())},Zc=function(e,t){return e.cells()[t]},el=function(e,t){return Zc(e,t).element()},tl=function(e){return e.cells().length},nl=function(e,t){return q(e,function(e){return Zc(e,t)})},rl=function(e,t){return e[t]},ol=function(e,t){if(0===e.length)return 0;var n=e[0];return Q(e,function(e){return!t(n.element(),e.element())}).fold(function(){return e.length},function(e){return e})},il=function(e,t,n,r){var o=rl(e,t).cells().slice(n),i=ol(o,r),a=nl(e,n).slice(t);return{colspan:i,rowspan:ol(a,r)}},al=function(e,t){var n=q(e,function(e){return q(e.cells(),function(){return!1})}),r=function(e,t,r,o){for(var i=e;i<e+r;i++)for(var a=t;a<t+o;a++)n[i][a]=!0};return q(e,function(o,i){var a=ee(o.cells(),function(o,a){if(!1===n[i][a]){var u=il(e,i,a,t);return r(i,a,u.rowspan,u.colspan),[_n(o.element(),u.rowspan,u.colspan,o.isNew())]}return[]});return Nn(a,o.section())})},ul=function(e,t,n){for(var r=[],o=0;o<e.grid.rows();o++){for(var i=[],a=0;a<e.grid.columns();a++){var u=mr.getAt(e,o,a).map(function(e){return Tn(e.element(),n)}).getOrThunk(function(){return Tn(t.gap(),!0)});i.push(u)}var s=On(i,e.all[o].section());r.push(s)}return r},sl=function(e,t){return ul(e,t,!1)},cl=function(e,t){var n=function(e){return ie(e,function(e){return Rt(e.element()).map(function(e){var t=Rt(e).isNone();return Tn(e,t)})}).getOrThunk(function(){return Tn(t.row(),!0)})};return q(e,function(e){var t=n(e.details());return En(t.element(),e.details(),e.section(),t.isNew())})},ll=function(e,t){var n=al(e,Tt);return cl(n,t)},fl=function(e,t){return ie(e.all,function(e){return J(e.cells(),function(e){return Tt(t,e.element())})})},dl=function(e,t,n,r,o){return function(i,a,u,s,c,l){var f=mr.fromTable(a);return t(f,u).map(function(t){var n=sl(f,s),r=e(n,t,Tt,o(s)),i=ll(r.grid(),s);return{grid:h(i),cursor:r.cursor}}).fold(function(){return k.none()},function(e){var t=Gc(a,e.grid()),o=k.from(l).getOrThunk(function(){return xc.getTableSize(a)});return n(a,e.grid(),c,o),r(a),ms(i,a,Ci,c),k.some({cursor:e.cursor,newRows:h(t.newRows),newCells:h(t.newCells)})})}},pl=function(e,t){return tr(t.element()).bind(function(t){return fl(e,t)})},ml=function(e,t){return tr(t.element()).bind(function(n){return fl(e,n).map(function(e){return Ge(Ge({},e),{generators:t.generators,clipboard:t.clipboard})})})},hl=function(e,t){var n=q(t.selection(),function(t){return tr(t).bind(function(t){return fl(e,t)})}),r=qc(n);return r.length>0?k.some({cells:r,generators:t.generators,clipboard:t.clipboard}):k.none()},gl=function(e,t){return t.mergable()},vl=function(e,t){return t.unmergable()},bl=function(e,t){var n=q(t.selection(),function(t){return tr(t).bind(function(t){return fl(e,t)})}),r=qc(n);return r.length>0?k.some(r):k.none()},yl=function(e,t,n,r){if(0===e.length)return e;for(var o=t.startRow();o<=t.finishRow();o++)for(var i=t.startCol();i<=t.finishCol();i++)Yc(e[o],i,Tn(r(),!1));return e},wl=function(e,t,n,r){for(var o=!0,i=0;i<e.length;i++)for(var a=0;a<tl(e[0]);a++){var u=el(e[i],a),s=n(u,t);!0===s&&!1===o?Yc(e[i],a,Tn(r(),!0)):!0===s&&(o=!1)}return e},xl=function(e,t){return K(e,function(e,n){return U(e,function(e){return t(e.element(),n.element())})?e:e.concat([n])},[])},Cl=function(e,t,n,r){return t>0&&t<e[0].cells().length&&W(e,function(e){var o=e.cells()[t-1],i=e.cells()[t];n(i.element(),o.element())&&Yc(e,t,Tn(r(),!0))}),e},_l=function(e,t,n,r){if(t>0&&t<e.length){var o=e[t-1].cells(),i=xl(o,n);W(i,function(o){for(var i=k.none(),a=t;a<e.length;a++)!function(t){for(var a=0;a<tl(e[0]);a++)!function(a){var u=e[t].cells()[a];n(u.element(),o.element())&&(i.isNone()&&(i=k.some(r())),i.each(function(n){Yc(e[t],a,Tn(n,!0))}))}(a)}(a)})}return e},Sl=function(e){var t=function(t){return e===t},n=function(t){return Sl(e)},r=function(t){return Sl(e)},o=function(t){return Sl(t(e))},i=function(t){return Sl(e)},a=function(t){t(e)},u=function(t){return t(e)},s=function(t,n){return n(e)},c=function(t){return t(e)},l=function(t){return t(e)},f=function(){return k.some(e)};return{is:t,isValue:w,isError:y,getOr:h(e),getOrThunk:h(e),getOrDie:h(e),or:n,orThunk:r,fold:s,map:o,mapError:i,each:a,bind:u,exists:c,forall:l,toOption:f}},kl=function(e){var t=function(e){return e()},n=function(){return b(String(e))()},r=function(e){return e},o=function(e){return e()},i=function(t){return kl(e)},a=function(t){return kl(t(e))},u=function(t){return kl(e)};return{is:y,isValue:y,isError:w,getOr:g,getOrThunk:t,getOrDie:n,or:r,orThunk:o,fold:function(t,n){return t(e)},map:i,mapError:a,each:d,bind:u,exists:y,forall:w,toOption:k.none}},Tl=function(e,t){return e.fold(function(){return kl(t)},Sl)},El={value:Sl,error:kl,fromOption:Tl},Ol=function(e,t,n){if(e.row()>=t.length||e.column()>tl(t[0]))return El.error("invalid start address out of table bounds, row: "+e.row()+", column: "+e.column());var r=t.slice(e.row()),o=r[0].cells().slice(e.column()),i=tl(n[0]),a=n.length;return El.value({rowDelta:r.length-a,colDelta:o.length-i})},Nl=function(e,t){return{rowDelta:0,colDelta:tl(e[0])-tl(t[0])}},Al=function(e,t){return{rowDelta:e.length-t.length,colDelta:0}},Dl=function(e,t){return q(e,function(){return Tn(t.cell(),!0)})},Ml=function(e,t,n){return e.concat(V(t,function(){return Jc(e[e.length-1],Dl(e[e.length-1].cells(),n))}))},Il=function(e,t,n){return q(e,function(e){return Jc(e,e.cells().concat(Dl(V(t,g),n)))})},Rl=function(e,t,n){var r=t.colDelta<0?Il:g;return(t.rowDelta<0?Ml:g)(r(e,Math.abs(t.colDelta),n),Math.abs(t.rowDelta),n)},Pl=function(e,n,r,o){var i=Zc(e[n],r),a=t(o,i.element()),u=e[n];return e.length>1&&tl(u)>1&&(r>0&&a(el(u,r-1))||r<u.cells().length-1&&a(el(u,r+1))||n>0&&a(el(e[n-1],r))||n<e.length-1&&a(el(e[n+1],r)))},Ll=function(e,t,n,r,o){for(var i=e.row(),a=e.column(),u=n.length,s=tl(n[0]),c=i+u,l=a+s,f=i;f<c;f++)for(var d=a;d<l;d++){Pl(t,f,d,o)&&wl(t,el(t[f],d),o,r.cell);var p=el(n[f-i],d-a),m=r.replace(p);Yc(t[f],d,Tn(m,!0))}return t},jl=function(e,t,n,r,o){return Ol(e,t,n).map(function(i){var a=Rl(t,i,r);return Ll(e,a,n,r,o)})},Bl=function(e,t,n,r,o){Cl(t,e,o,r.cell);var i=Al(n,t),a=Rl(n,i,r),u=Al(t,a),s=Rl(t,u,r);return q(s,function(t,n){var r=t.cells().slice(0,e).concat(a[n].cells()).concat(t.cells().slice(e,t.cells().length));return Jc(t,r)})},zl=function(e,t,n,r,o){_l(t,e,o,r.cell);var i=Nl(n,t),a=Rl(n,i,r),u=Nl(t,a),s=Rl(t,u,r);return s.slice(0,e).concat(a).concat(s.slice(e,s.length))},Fl=function(e,t,n,r,o){var i=e.slice(0,t),a=e.slice(t),u=Qc(e[n],function(n,i){return t>0&&t<e.length&&r(el(e[t-1],i),el(e[t],i))?Zc(e[t],i):Tn(o(n.element(),r),!0)});return i.concat([u]).concat(a)},Hl=function(e,t,n,r,o){return q(e,function(e){var i=t>0&&t<tl(e)&&r(el(e,t-1),el(e,t)),a=i?Zc(e,t):Tn(o(el(e,n),r),!0);return Kc(e,t,a)})},Ul=function(e,t,n){var r=q(e,function(e){var r=e.cells().slice(0,t).concat(e.cells().slice(n+1));return On(r,e.section())});return G(r,function(e){return e.cells().length>0})},Vl=function(e,t,n){return e.slice(0,t).concat(e.slice(n+1))},ql=function(e,t,n,r){var o=function(e){return U(t,function(t){return n(e.element(),t.element())})};return q(e,function(e){return Qc(e,function(e){return o(e)?Tn(r(e.element(),n),!0):e})})},Wl=function(e,t,n,r){return void 0!==el(e[t],n)&&t>0&&r(el(e[t-1],n),el(e[t],n))},$l=function(e,t,n){return t>0&&n(el(e,t-1),el(e,t))},Gl=function(e,t,n,r){var o=ee(e,function(r,o){return Wl(e,o,t,n)||$l(r,t,n)?[]:[Zc(r,t)]});return ql(e,o,n,r)},Xl=function(e,t,n,r){var o=e[t],i=ee(o.cells(),function(r,i){return Wl(e,t,i,n)||$l(o,i,n)?[]:[r]});return ql(e,i,n,r)},Kl=Fu(["cell","row","replace","gap"]),Yl=function(e){var t=Wn(e,"colspan",1),n=Wn(e,"rowspan",1);return{element:h(e),colspan:h(t),rowspan:h(n)}},Jl=function(e,t){void 0===t&&(t=Yl),Kl(e);var n=hc(k.none()),r=function(t){return e.cell(t)},o=function(e){var n=t(e);return r(n)},i=function(e){var t=o(e);return n.get().isNone()&&n.set(k.some(t)),a=k.some({item:e,replacement:t}),t},a=k.none();return{getOrInit:function(e,t){return a.fold(function(){return i(e)},function(n){return t(e,n.item)?n.replacement:i(e)})},cursor:n.get}},Ql=function(e,t){return function(n){var r=hc(k.none());Kl(n);var o=[],i=function(e,t){return J(o,function(n){return t(n.item,e)})},a=function(i){var a={scope:e},u=n.replace(i,t,a);return o.push({item:i,sub:u}),r.get().isNone()&&r.set(k.some(u)),u};return{replaceOrInit:function(e,t){return i(e,t).fold(function(){return a(e)},function(n){return t(e,n.item)?n.sub:a(e)})},cursor:r.get}}},Zl=function(e){Kl(e);var t=hc(k.none());return{combine:function(n){return t.get().isNone()&&t.set(k.some(n)),function(){var t=e.cell({element:h(n),colspan:h(1),rowspan:h(1)});return un(t,"width"),un(n,"width"),t}},cursor:t.get}},ef={modification:Jl,transform:Ql,merging:Zl},tf=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],nf=function(e,t){var n=e.property().name(t);return H(["ol","ul"],n)},rf=function(e,t){var n=e.property().name(t);return H(tf,n)},of=function(e,t){return H(["br","img","hr","input"],e.property().name(t))},af=r(),uf=function(e){return rf(af,e)},sf=function(e){return nf(af,e)},cf=function(e){return of(af,e)},lf=function(e){var t=function(e){return"br"===ge(e)},n=function(e){return te(e,function(e){return t(e)||xe(e)&&0===Cr(e).trim().length})},r=function(e){return"li"===ge(e)||jn(e,sf).isSome()},o=function(e){return Bt(e).map(function(e){return!!uf(e)||!!cf(e)&&"img"!==ge(e)}).getOr(!1)},i=function(e){return Ar(e).bind(function(n){var i=o(n);return Rt(n).map(function(o){return!0===i||r(o)||t(n)||uf(o)&&!Tt(e,o)?[]:[qe.fromTag("br")]})}).getOr([])},a=function(){var t=ee(e,function(e){var t=zt(e);return n(t)?[]:t.concat(i(e))});return 0===t.length?[qe.fromTag("br")]:t}();vn(e[0]),gn(e[0],a)},ff=function(e){0===nr(e).length&&bn(e)},df=function(e,t){return{grid:h(e),cursor:h(t)}},pf=function(e,t,n){return mf(e,t,n).orThunk(function(){return mf(e,0,0)})},mf=function(e,t,n){return k.from(e[t]).bind(function(e){return k.from(e.cells()[n]).bind(function(e){return k.from(e.element())})})},hf=function(e,t,n){return df(e,mf(e,t,n))},gf=function(e){return K(e,function(e,t){return U(e,function(e){return e.row()===t.row()})?e:e.concat([t])},[]).sort(function(e,t){return e.row()-t.row()})},vf=function(e){return K(e,function(e,t){return U(e,function(e){return e.column()===t.column()})?e:e.concat([t])},[]).sort(function(e,t){return e.column()-t.column()})},bf=function(e,t,n,r){var o=t[0].row(),i=t[0].row(),a=gf(t),u=K(a,function(e,t){return Fl(e,i,o,n,r.getOrInit)},e);return hf(u,i,t[0].column())},yf=function(e,t,n,r){var o=gf(t),i=o[o.length-1].row(),a=o[o.length-1].row()+o[o.length-1].rowspan(),u=K(o,function(e,t){return Fl(e,a,i,n,r.getOrInit)},e);return hf(u,a,t[0].column())},wf=function(e,t,n,r){var o=vf(t),i=o[0].column(),a=o[0].column(),u=K(o,function(e,t){return Hl(e,a,i,n,r.getOrInit)},e);return hf(u,t[0].row(),a)},xf=function(e,t,n,r){var o=t[t.length-1].column(),i=t[t.length-1].column()+t[t.length-1].colspan(),a=vf(t),u=K(a,function(e,t){return Hl(e,i,o,n,r.getOrInit)},e);return hf(u,t[0].row(),i)},Cf=function(e,t,n,r){var o=Xl(e,t.row(),n,r.replaceOrInit);return hf(o,t.row(),t.column())},_f=function(e,t,n,r){var o=Gl(e,t.column(),n,r.replaceOrInit);return hf(o,t.row(),t.column())},Sf=function(e,t,n,r){var o=Xl(e,t.row(),n,r.replaceOrInit);return hf(o,t.row(),t.column())},kf=function(e,t,n,r){var o=Gl(e,t.column(),n,r.replaceOrInit);return hf(o,t.row(),t.column())},Tf=function(e,t,n,r){var o=vf(t),i=Ul(e,o[0].column(),o[o.length-1].column()),a=pf(i,t[0].row(),t[0].column());return df(i,a)},Ef=function(e,t,n,r){var o=gf(t),i=Vl(e,o[0].row(),o[o.length-1].row()),a=pf(i,t[0].row(),t[0].column());return df(i,a)},Of=function(e,t,n,r){var o=t.cells();lf(o);var i=yl(e,t.bounds(),0,h(o[0]));return df(i,k.from(o[0]))},Nf=function(e,t,n,r){var o=X(t,function(e,t){return wl(e,t,n,r.combine(t))},e);return df(o,k.from(t[0]))},Af=function(e,t,n,r){var o=function(e,t){var n=mr.fromTable(e);return ul(n,t,!0)}(t.clipboard(),t.generators()),i=xn(t.row(),t.column());return jl(i,e,o,t.generators(),n).fold(function(){return df(e,k.some(t.element()))},function(e){var n=pf(e,t.row(),t.column());return df(e,n)})},Df=function(e,t,n){var r=ar(e,n),o=mr.generate(r);return ul(o,t,!0)},Mf=function(e,t,n,r){var o=e[t.cells[0].row()],i=t.cells[0].column(),a=Df(t.clipboard(),t.generators(),o),u=Bl(i,e,a,t.generators(),n),s=pf(u,t.cells[0].row(),t.cells[0].column());return df(u,s)},If=function(e,t,n,r){var o=e[t.cells[0].row()],i=t.cells[t.cells.length-1].column()+t.cells[t.cells.length-1].colspan(),a=Df(t.clipboard(),t.generators(),o),u=Bl(i,e,a,t.generators(),n),s=pf(u,t.cells[0].row(),t.cells[0].column());return df(u,s)},Rf=function(e,t,n,r){var o=e[t.cells[0].row()],i=t.cells[0].row(),a=Df(t.clipboard(),t.generators(),o),u=zl(i,e,a,t.generators(),n),s=pf(u,t.cells[0].row(),t.cells[0].column());return df(u,s)},Pf=function(e,t,n,r){var o=e[t.cells[0].row()],i=t.cells[t.cells.length-1].row()+t.cells[t.cells.length-1].rowspan(),a=Df(t.clipboard(),t.generators(),o),u=zl(i,e,a,t.generators(),n),s=pf(u,t.cells[0].row(),t.cells[0].column());return df(u,s)},Lf=function(e,t){var n=mr.fromTable(e);return bl(n,t).bind(function(e){var t=e[e.length-1],r=e[0].column(),o=t.column()+t.colspan(),i=Z(q(n.all,function(e){return G(e.cells(),function(e){return e.column()>=r&&e.column()<o})}));return jf(i,function(e){return"th"===ge(e.element())})}).getOr("")},jf=function(e,t){var n=G(e,t);return 0===n.length?k.some("td"):n.length===e.length?k.some("th"):k.none()},Bf=au,zf=dl(bf,bl,d,d,ef.modification),Ff=dl(yf,bl,d,d,ef.modification),Hf=dl(wf,bl,Bf,d,ef.modification),Uf=dl(xf,bl,Bf,d,ef.modification),Vf=dl(Tf,bl,Bf,ff,ef.modification),qf=dl(Ef,bl,d,ff,ef.modification),Wf=dl(_f,pl,d,d,ef.transform("row","th")),$f=dl(kf,pl,d,d,ef.transform(null,"td")),Gf=(dl(Cf,pl,d,d,ef.transform("col","th")),dl(Sf,pl,d,d,ef.transform(null,"td")),dl(Of,gl,d,d,ef.merging)),Xf=dl(Nf,vl,Bf,d,ef.merging),Kf=dl(Af,ml,Bf,d,ef.modification),Yf=dl(Mf,hl,d,d,ef.modification),Jf=dl(If,hl,d,d,ef.modification),Qf=dl(Rf,hl,d,d,ef.modification),Zf=dl(Pf,hl,d,d,ef.modification),ed=Lf,td=function(e){return tc(e.parentNode)},nd=function(e){return"thead"===e?"header":"tfoot"===e?"footer":"body"},rd=function(e,t){var n="thead"===td(t),r=!U(t.cells,function(e){return"th"!==tc(e)});return n||r?k.some({thead:n,ths:r}):k.none()},od=function(e,t){return nd(rd(0,t).fold(function(){return td(t)},function(e){return"thead"}))},id=function(e,t,n){var r=e.getParent(t,"table"),o=t.parentNode,i=tc(o);if(n!==i){var a=e.select(n,r)[0];if(!a){a=e.create(n);var u=r.firstChild;"thead"===n?oe(Pn(qe.fromDom(r),"caption,colgroup")).fold(function(){return r.insertBefore(a,u)},function(t){return e.insertAfter(a,t.dom())}):r.appendChild(a)}"tbody"===n&&"thead"===i&&a.firstChild?a.insertBefore(t,a.firstChild):a.appendChild(t),o.hasChildNodes()||e.remove(o)}},ad=function(e,t,n,r){return W(t,function(t){var o=tc(t)!==n?e.rename(t,n):t;e.setAttrib(o,"scope",r)})},ud=function(e,t,n){var r=e.dom;if("header"===n){var o=Qs(e),i="auto"===o?function(){var e=rr(qe.fromDom(t.cells[0])).map(function(e){return or(e)}).getOr([]);return ie(e,function(e){return rd(0,e.dom())}).map(function(e){return e.thead&&e.ths?"sectionCells":e.thead?"section":"cells"}).getOr("section")}():o;ad(r,t.cells,"section"===i?"td":"th","col"),id(r,t,"cells"===i?"tbody":"thead")}else ad(r,t.cells,"td",null),id(r,t,"footer"===n?"tfoot":"tbody")},sd=function(e){return{get:function(){var t=nc(e);return To(t,"td[data-mce-selected],th[data-mce-selected]").fold(function(){return void 0===e.selection.getStart()?Po():jo(e.selection)},function(e){return Lo(e)})}}},cd=function(e){return function(t){return k.from(t.dom.getParent(t.selection.getStart(),e)).map(function(e){return qe.fromDom(e)})}},ld=cd("th,td"),fd=cd("th,td,caption"),dd=function(e){return ld(e).map(function(t){return Bo(t,sd(e))}).map(function(e){return q(e,function(e){return e.dom()})}).getOr([])},pd=function(e){var t=ld(e),n=t.bind(function(e){return rr(e)}).map(function(e){return or(e)}).map(function(e){return q(e,function(e){return e.dom()})});return Wc(t,n,function(t,n){return G(n,function(n){return U(n.cells,function(n){return"1"===e.dom.getAttrib(n,"data-mce-selected")||n===t.dom()})})}).getOr([])},md=function(e,t){var n=function(e){return"table"===ge(nc(e))},r=function(t){return!1===n(e)||Vc(t).rows()>1},o=function(t){return!1===n(e)||Vc(t).columns()>1},i=Zs(e),a=function(t,n,r,o){return function(a,u){sc(a);var s=o(),c=qe.fromDom(e.getDoc()),l=Wa(mc),f=Ur(r,c,i),d=Cc(e,a);return n(a)?t(s,a,u,f,l,d).bind(function(t){return W(t.newRows(),function(t){Ss(e,t.dom())}),W(t.newCells(),function(t){ks(e,t.dom())}),t.cursor().map(function(t){var n=Hc(t),r=e.dom.createRng();return r.setStart(n.element().dom(),n.offset()),r.setEnd(n.element().dom(),n.offset()),r})}):k.none()}},u=a(qf,r,d,t),s=a(Vf,o,d,t),c=a(zf,w,d,t),l=a(Ff,w,d,t),f=a(Hf,w,Uc,t),p=a(Uf,w,Uc,t),m=a(Gf,w,d,t),h=a(Xf,w,d,t),g=a(Yf,w,d,t),v=a(Jf,w,d,t),b=a(Qf,w,d,t),y=a(Zf,w,d,t),x=a(Kf,w,d,t),C=function(e,t){return me(e,"type").filter(function(e){return H(t,e)})};return{deleteRow:u,deleteColumn:s,insertRowsBefore:c,insertRowsAfter:l,insertColumnsBefore:f,insertColumnsAfter:p,mergeCells:m,unmergeCells:h,pasteColsBefore:g,pasteColsAfter:v,pasteRowsBefore:b,pasteRowsAfter:y,pasteCells:x,setTableCellType:function(e,t){return C(t,["td","th"]).each(function(t){ad(e.dom,dd(e),t,null)})},setTableRowType:function(e,t){return C(t,["header","body","footer"]).each(function(t){q(pd(e),function(n){return ud(e,n,t)})})},makeColumnHeader:a(Wf,w,d,t),unmakeColumnHeader:a($f,w,d,t),getTableRowType:function(e){var t=pd(e);if(t.length>0){var n=q(t,function(e){return od(0,e)}),r=H(n,"header"),o=H(n,"footer");if(r||o){var i=H(n,"body");return!r||i||o?r||i||!o?"":"footer":"header"}return"body"}},getTableCellType:function(e){return jf(dd(e),function(e){return"th"===tc(e)}).getOr("")},getTableColType:ed}},hd={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"}},gd=function(){return qe.fromTag("th")},vd=function(){return qe.fromTag("td")},bd=function(e,t,n,r){for(var o=qe.fromTag("tr"),i=0;i<e;i++){var a=r<t||i<n?gd():vd();i<n&&ke(a,"scope","row"),r<t&&ke(a,"scope","col"),dn(a,qe.fromTag("br")),dn(o,a)}return o},yd=function(e,t,n,r){return V(e,function(e){return bd(t,n,r,e)})},wd=function(e,t,n,r,o,i){void 0===i&&(i=hd);var a=qe.fromTag("table"),u="cells"!==o;nn(a,i.styles),Te(a,i.attributes);var s=Math.min(e,n);if(u&&n>0){var c=qe.fromTag("thead");dn(a,c);var l="sectionCells"===o?s:0,f=yd(n,t,l,r);gn(c,f)}var d=qe.fromTag("tbody");dn(a,d);var p=u?e-s:e,m=u?0:n,h=yd(p,t,m,r);return gn(d,h),a},xd=function(e){return e.dom().innerHTML},Cd=function(e){var t=qe.fromTag("div"),n=qe.fromDom(e.dom().cloneNode(!0));return dn(t,n),xd(t)},_d=function(e,t){e.selection.select(t.dom(),!0),e.selection.collapse(!0)},Sd=function(e,n){Vn(n,"td,th").each(t(_d,e))},kd=function(e,t){W(Ln(t,"tr"),function(t){Ss(e,t.dom()),W(Ln(t,"th,td"),function(t){ks(e,t.dom())})})},Td=function(e){return N(e)&&-1!==e.indexOf("%")},Ed=function(e,t,n,r,o){var i=Ls(e),a={styles:i,attributes:Ps(e)},u=wd(n,t,o,r,Qs(e),a);ke(u,"data-mce-id","__mce");var s=Cd(u);return e.insertContent(s),Vn(nc(e),'table[data-mce-id="__mce"]').map(function(t){return Ks(e)?Oc(e,t):Ys(e)?Nc(t):(Xs(e)||Td(i.width))&&Ec(e,t),sc(t),Ae(t,"data-mce-id"),kd(e,t),Sd(e,t),t.dom()}).getOr(null)},Od=function(e,t,n,r,o){void 0===r&&(r={});var i=function(e){return L(e)&&e>0};if(i(t)&&i(n)){var a=r.headerRows||0,u=r.headerColumns||0;return Ed(e,n,t,u,a)}return console.error(o),null},Nd=function(e){return function(){return e().fold(function(){return[]},function(e){return q(e,function(e){return e.dom()})})}},Ad=function(e){return function(t){var n=t.length>0?k.some(Wr(t)):k.none();e(n)}},Dd=function(e,t,n,r){return{insertTable:function(t,n,r){return void 0===r&&(r={}),Od(e,n,t,r,"Invalid values for insertTable - rows and columns values are required to insert a table.")},setClipboardRows:Ad(t.setRows),getClipboardRows:Nd(t.getRows),setClipboardCols:Ad(t.setColumns),getClipboardCols:Nd(t.getColumns),resizeHandler:n,selectionTargets:r}},Md=function(e,t,n){var r=$n(e,t);1===n||r<=1?Ae(e,t):ke(e,t,Math.min(n,r))},Id=function(e,t){var n=mr.fromTable(e);return bl(n,t).map(function(e){var t=e[e.length-1],r=e[0].column(),o=t.column()+t.colspan();return q(n.all,function(e){var t=G(e.cells(),function(e){return e.column()>=r&&e.column()<o}),n=q(t,function(e){var t=Rr(e.element());return Md(t,"colspan",o-r),t}),i=qe.fromTag("tr");return gn(i,n),i})})},Rd=function(e,t,n){var r=mr.fromTable(e);return bl(r,t).map(function(e){var t=ul(r,n,!1),o=t.slice(e[0].row(),e[e.length-1].row()+e[e.length-1].rowspan()),i=ll(o,n);return Xc(i)})},Pd=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ld=function(e,t,n){var r=e.select("td,th",t);return function(t,r){for(var o=0;o<r.length;o++){var i=e.getStyle(r[o],n);if(void 0===t&&(t=i),t!==i)return""}return t}(void 0,r)},jd=function(e,t,n){n&&e.formatter.apply("align"+n,{},t)},Bd=function(e,t,n){n&&e.formatter.apply("valign"+n,{},t)},zd=function(e,t){Pd.each("left center right".split(" "),function(n){e.formatter.remove("align"+n,{},t)})},Fd=function(e,t){Pd.each("top middle bottom".split(" "),function(n){e.formatter.remove("valign"+n,{},t)})},Hd=function(e,t){return function(e,t){return t.concat(q(e,function(e){return{text:e.text||e.title,value:e.value}}))}(e,t||[])},Ud=function(e){return function(t){return Re(t,"rgb")?e.toHex(t):t}},Vd=function(e,t){var n=qe.fromDom(t);return{borderwidth:an(n,"border-width").getOr(""),borderstyle:an(n,"border-style").getOr(""),bordercolor:an(n,"border-color").map(Ud(e)).getOr(""),backgroundcolor:an(n,"background-color").map(Ud(e)).getOr("")}},qd=function(e){var t=e[0],n=e.slice(1);return W(n,function(e){W(ae(t),function(n){se(e,function(e,r){var o=t[n];""!==o&&n===r&&o!==e&&(t[n]="")})})}),t},Wd=function(e){var t=[{name:"borderstyle",type:"selectbox",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],n={name:"borderwidth",type:"input",label:"Border width"};return{title:"Advanced",name:"advanced",items:"cell"===e?[n].concat(t):t}},$d=function(e,t,n,r){return J(e,function(e){return n.formatter.matchNode(r,t+e)}).getOr("")},Gd=t($d,["left","center","right"],"align"),Xd=t($d,["top","middle","bottom"],"valign"),Kd=function(e,t){var n=Ls(e),r=Ps(e),o={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},i=t?function(e){return{borderstyle:me(n,"border-style").getOr(""),bordercolor:Ud(e)(me(n,"border-color").getOr("")),backgroundcolor:Ud(e)(me(n,"background-color").getOr(""))}}(e.dom):{};return Ge(Ge(Ge(Ge(Ge(Ge({},o),n),r),i),function(){var t=n["border-width"];return qs(e)&&t?{border:t}:me(r,"border").fold(function(){return{}},function(e){return{border:e}})}()),function(){var e=me(n,"border-spacing").or(me(r,"cellspacing")).fold(function(){return{}},function(e){return{cellspacing:e}}),t=me(n,"border-padding").or(me(r,"cellpadding")).fold(function(){return{}},function(e){return{cellpadding:e}});return Ge(Ge({},e),t)}())},Yd=function(e,t,n){var r=e.dom;return Ge({width:r.getStyle(t,"width")||r.getAttrib(t,"width"),height:r.getStyle(t,"height")||r.getAttrib(t,"height"),cellspacing:r.getStyle(t,"border-spacing")||r.getAttrib(t,"cellspacing"),cellpadding:r.getAttrib(t,"cellpadding")||Ld(e.dom,t,"padding"),border:function(t,n){var r=an(qe.fromDom(n),"border-width");return qs(e)&&r.isSome()?r.getOr(""):t.getAttrib(n,"border")||Ld(e.dom,n,"border-width")||Ld(e.dom,n,"border")}(r,t),caption:!!r.select("caption",t)[0],class:r.getAttrib(t,"class",""),align:Gd(e,t)},n?Vd(r,t):{})},Jd=function(e,t,n){var r=e.dom;return Ge({height:r.getStyle(t,"height")||r.getAttrib(t,"height"),scope:r.getAttrib(t,"scope"),class:r.getAttrib(t,"class",""),type:od(0,t),align:Gd(e,t)},n?Vd(r,t):{})},Qd=function(e,t,n){var r=e.dom;return Ge({width:r.getStyle(t,"width")||r.getAttrib(t,"width"),height:r.getStyle(t,"height")||r.getAttrib(t,"height"),scope:r.getAttrib(t,"scope"),celltype:tc(t),class:r.getAttrib(t,"class",""),halign:Gd(e,t),valign:Xd(e,t)},n?Vd(r,t):{})},Zd=function(e){var t=Hd(Ws(e));return t.length>0?k.some({name:"class",type:"selectbox",label:"Class",items:t}):k.none()},ep=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"selectbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"selectbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"selectbox",label:"H Align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"selectbox",label:"V Align",items:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}],tp=function(e){return Zd(e).fold(function(){return ep},function(e){return ep.concat(e)})},np=function(e){return function(t,n){var r=t.dom;return{setAttrib:function(t,o){e&&!o||r.setAttrib(n,t,o)},setStyle:function(t,o){e&&!o||r.setStyle(n,t,o)},setFormat:function(r,o){e&&!o||(""===o?t.formatter.remove(r,{value:null},n,!0):t.formatter.apply(r,{value:o},n))}}}},rp={normal:np(!1),ifTruthy:np(!0)},op=function(e,t){e.setAttrib("scope",t.scope),e.setAttrib("class",t.class),e.setStyle("width",uc(t.width)),e.setStyle("height",uc(t.height))},ip=function(e,t){e.setFormat("tablecellbackgroundcolor",t.backgroundcolor),e.setFormat("tablecellbordercolor",t.bordercolor),e.setFormat("tablecellborderstyle",t.borderstyle),e.setFormat("tablecellborderwidth",uc(t.borderwidth))},ap=function(e,t,n){var r=e.dom,o=1===t.length;W(t,function(t){var i=n.celltype&&tc(t)!==n.celltype?r.rename(t,n.celltype):t,a=o?rp.normal(e,i):rp.ifTruthy(e,i);op(a,n),zs(e)&&ip(a,n),o&&(zd(e,i),Fd(e,i)),n.halign&&jd(e,i,n.halign),n.valign&&Bd(e,i,n.valign)})},up=function(e,t,n){var r=n.getData();n.close(),e.undoManager.transact(function(){ap(e,t,r),e.focus()})},sp=function(e){var n=dd(e);if(0!==n.length){var r=q(n,function(t){return Qd(e,t,zs(e))}),o=qd(r),i={type:"tabpanel",tabs:[{title:"General",name:"general",items:tp(e)},Wd("cell")]},a={type:"panel",items:[{type:"grid",columns:2,items:tp(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:zs(e)?i:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onSubmit:t(up,e,n)})}},cp=function(e){var t=Hd($s(e));return t.length>0?k.some({name:"class",type:"selectbox",label:"Class",items:t}):k.none()},lp=[{type:"selectbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"selectbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],fp=function(e){return cp(e).fold(function(){return lp},function(e){return lp.concat(e)})},dp=function(e,t){e.setAttrib("scope",t.scope),e.setAttrib("class",t.class),e.setStyle("height",uc(t.height))},pp=function(e,t){e.setStyle("background-color",t.backgroundcolor),e.setStyle("border-color",t.bordercolor),e.setStyle("border-style",t.borderstyle)},mp=function(e,t,n,r){var o=1===t.length;W(t,function(t){r.type!==tc(t.parentNode)&&ud(e,t,r.type);var i=o?rp.normal(e,t):rp.ifTruthy(e,t);dp(i,r),Fs(e)&&pp(i,r),r.align!==n.align&&(zd(e,t),jd(e,t,r.align))})},hp=function(e,t,n,r){var o=r.getData();r.close(),e.undoManager.transact(function(){mp(e,t,n,o),e.focus()})},gp=function(e){var n=pd(e);if(0!==n.length){var r=q(n,function(t){return Jd(e,t,Fs(e))}),o=qd(r),i={type:"tabpanel",tabs:[{title:"General",name:"general",items:fp(e)},Wd("row")]},a={type:"panel",items:[{type:"grid",columns:2,items:fp(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:Fs(e)?i:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onSubmit:t(hp,e,n,o)})}},vp=tinymce.util.Tools.resolve("tinymce.Env"),bp=function(e,t,n){var r=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],o=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],i=Us(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],a=[{type:"selectbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],u=t.length>0?[{type:"selectbox",name:"class",label:"Class",items:t}]:[];return r.concat(o).concat(i).concat(a).concat(u)},yp=function(e,t,n,r){if("TD"===t.tagName||"TH"===t.tagName)N(n)?e.setStyle(t,n,r):e.setStyle(t,n);else if(t.children)for(var o=0;o<t.children.length;o++)yp(e,t.children[o],n,r)},wp=function(e,t,n){var r=e.dom,o={},i={};if(o.class=n.class,i.height=uc(n.height),r.getAttrib(t,"width")&&!qs(e)?o.width=ac(n.width):i.width=uc(n.width),qs(e)?(i["border-width"]=uc(n.border),i["border-spacing"]=uc(n.cellspacing)):(o.border=n.border,o.cellpadding=n.cellpadding,o.cellspacing=n.cellspacing),qs(e)&&t.children)for(var a=0;a<t.children.length;a++)yp(r,t.children[a],{"border-width":uc(n.border),padding:uc(n.cellpadding)}),Hs(e)&&yp(r,t.children[a],{"border-color":n.bordercolor});Hs(e)&&(i["background-color"]=n.backgroundcolor,i["border-color"]=n.bordercolor,i["border-style"]=n.borderstyle),o.style=r.serializeStyle(Ge(Ge({},Ls(e)),i)),r.setAttribs(t,Ge(Ge({},Ps(e)),o))},xp=function(e,t,n){var r,o=e.dom,i=n.getData();n.close(),""===i.class&&delete i.class,e.undoManager.transact(function(){if(!t){var n=parseInt(i.cols,10)||1,a=parseInt(i.rows,10)||1;t=Ed(e,n,a,0,0)}wp(e,t,i),r=o.select("caption",t)[0],r&&!i.caption&&o.remove(r),!r&&i.caption&&(r=o.create("caption"),r.innerHTML=vp.ie?" ":'<br data-mce-bogus="1"/>',t.insertBefore(r,t.firstChild)),""===i.align?zd(e,t):jd(e,t,i.align),e.focus(),e.addVisual()})},Cp=function(e,n){var r,o=e.dom,i=Kd(e,Hs(e));!1===n?(r=o.getParent(e.selection.getStart(),"table"),r?i=Yd(e,r,Hs(e)):Hs(e)&&(i.borderstyle="",i.bordercolor="",i.backgroundcolor="")):(i.cols="1",i.rows="1",Hs(e)&&(i.borderstyle="",i.bordercolor="",i.backgroundcolor=""));var a=Hd(Gs(e));a.length>0&&i.class&&(i.class=i.class.replace(/\s*mce\-item\-table\s*/g,""));var u={type:"grid",columns:2,items:bp(e,a,n)},s=Hs(e)?function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[u]},Wd("table")]}}():function(){return{type:"panel",items:[u]}}();e.windowManager.open({title:"Table Properties",size:"normal",body:s,onSubmit:t(xp,e,r),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:i})},_p=function(e,n,r,o,i){var a=ic(e),u=function(){return fd(e).each(function(t){rr(t,a).filter(v(a)).each(function(t){var n=qe.fromText("");if(ln(t,n),bn(t),e.dom.isEmpty(e.getBody()))e.setContent(""),e.selection.setCursorLocation();else{var r=e.dom.createRng();r.setStart(n.dom(),0),r.setEnd(n.dom(),0),e.selection.setRng(r),e.nodeChanged()}})})},s=function(t){return fd(e).each(function(n){Ys(e)||Ks(e)||Xs(e)||rr(n,a).each(function(n){"relative"!==t||Fa(n)?"fixed"!==t||Ha(n)?"responsive"!==t||Ua(n)||Nc(n):Oc(e,n):Ec(e,n),sc(n)})})},c=function(e){return rr(e,a)},l=function(t){return ld(e).each(function(n){c(n).each(function(i){var a=Uo(o,i,n);t(i,a).each(function(t){e.selection.setRng(t),e.focus(),r.clear(i),sc(i)})})})},f=function(){return ld(e).map(function(t){return c(t).bind(function(n){var r=Uo(o,n,t),i=Ur(d,qe.fromDom(e.getDoc()),k.none());return Rd(n,r,i)})})},p=function(){return ld(e).map(function(e){return c(e).bind(function(t){var n=Uo(o,t,e);return Id(t,n)})})},m=function(t,n){return n().each(function(n){var i=q(n,function(e){return Rr(e)});ld(e).each(function(n){return c(n).each(function(a){var u=Vr(qe.fromDom(e.getDoc())),s=qo(o,n,i,u);t(a,s).each(function(t){e.selection.setRng(t),e.focus(),r.clear(a)})})})})};se({mceTableSplitCells:function(){return l(n.unmergeCells)},mceTableMergeCells:function(){return l(n.mergeCells)},mceTableInsertRowBefore:function(){return l(n.insertRowsBefore)},mceTableInsertRowAfter:function(){return l(n.insertRowsAfter)},mceTableInsertColBefore:function(){return l(n.insertColumnsBefore)},mceTableInsertColAfter:function(){return l(n.insertColumnsAfter)},mceTableDeleteCol:function(){return l(n.deleteColumn)},mceTableDeleteRow:function(){return l(n.deleteRow)},mceTableCutCol:function(e){return p().each(function(e){i.setColumns(e),l(n.deleteColumn)})},mceTableCutRow:function(e){return f().each(function(e){i.setRows(e),l(n.deleteRow)})},mceTableCopyCol:function(e){return p().each(function(e){return i.setColumns(e)})},mceTableCopyRow:function(e){return f().each(function(e){return i.setRows(e)})},mceTablePasteColBefore:function(e){return m(n.pasteColsBefore,i.getColumns)},mceTablePasteColAfter:function(e){return m(n.pasteColsAfter,i.getColumns)},mceTablePasteRowBefore:function(e){return m(n.pasteRowsBefore,i.getRows)},mceTablePasteRowAfter:function(e){return m(n.pasteRowsAfter,i.getRows)},mceTableDelete:u,mceTableSizingMode:function(e,t){return s(t)}},function(t,n){return e.addCommand(n,t)}),se({mceTableCellType:function(t,r){return n.setTableCellType(e,r)},mceTableRowType:function(t,r){return n.setTableRowType(e,r)}},function(t,n){return e.addCommand(n,t)}),e.addCommand("mceTableColType",function(e,t){return me(t,"type").each(function(e){return l("th"===e?n.makeColumnHeader:n.unmakeColumnHeader)})}),se({mceTableProps:t(Cp,e,!1),mceTableRowProps:t(gp,e),mceTableCellProps:t(sp,e)},function(t,n){return e.addCommand(n,function(){return t()})}),e.addCommand("mceInsertTable",function(t,n){A(n)&&ae(n).length>0?Od(e,n.rows,n.columns,n.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):Cp(e,!0)}),e.addCommand("mceTableApplyCellStyle",function(t,n){if(A(n)){var r=dd(e);0!==r.length&&se(n,function(t,n){var o="tablecell"+n.toLowerCase().replace("-","");e.formatter.has(o)&&N(t)&&W(r,function(n){rp.normal(e,n).setFormat(o,t)})})}})},Sp=function(e,t,n){var r=ic(e),o=function(e){return rr(e,r)};se({mceTableRowType:function(){return t.getTableRowType(e)},mceTableCellType:function(){return t.getTableCellType(e)},mceTableColType:function(){return ld(e).bind(function(e){return o(e).map(function(r){var o=Uo(n,r,e);return t.getTableColType(r,o)})}).getOr("")}},function(t,n){return e.addQueryValueHandler(n,t)})},kp=function(){var e=hc(k.none()),t=hc(k.none()),n=function(e){e.set(k.none())};return{getRows:e.get,setRows:function(r){e.set(r),n(t)},clearRows:function(){return n(e)},getColumns:t.get,setColumns:function(r){t.set(r),n(e)},clearColumns:function(){return n(t)}}},Tp=Mo.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Ep=function(e){return void 0===e&&(e=void 0),Tp.none(e)},Op=Ge(Ge({},Tp),{none:Ep}),Np=function(e,t){return rr(e,t).bind(function(t){var n=nr(t);return Q(n,function(t){return Tt(e,t)}).map(function(e){return{index:e,all:n}})})},Ap=function(e,t){return Np(e,t).fold(function(){return Op.none(e)},function(t){return t.index+1<t.all.length?Op.middle(e,t.all[t.index+1]):Op.last(e)})},Dp=function(e,t){return Np(e,t).fold(function(){return Op.none()},function(t){return t.index-1>=0?Op.middle(e,t.all[t.index-1]):Op.first(e)})},Mp=function(e,t,n,r){return{start:h(e),soffset:h(t),finish:h(n),foffset:h(r)}},Ip={create:Mp},Rp=Mo.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Pp=function(e,t,n,r){return e.fold(t,n,r)},Lp=function(e){return e.fold(g,g,g)},jp=Rp.before,Bp=Rp.on,zp=Rp.after,Fp={before:jp,on:Bp,after:zp,cata:Pp,getStart:Lp},Hp=Mo.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Up=function(e){return Hp.exact(e.start(),e.soffset(),e.finish(),e.foffset())},Vp=function(e){return e.match({domRange:function(e){return qe.fromDom(e.startContainer)},relative:function(e,t){return Fp.getStart(e)},exact:function(e,t,n,r){return e}})},qp=Hp.domRange,Wp=Hp.relative,$p=Hp.exact,Gp=function(e){var t=Vp(e);return It(t)},Xp=Ip.create,Kp={domRange:qp,relative:Wp,exact:$p,exactFromRange:Up,getWin:Gp,range:Xp},Yp=function(e,t){var n=e.document.createRange();return Jp(n,t),n},Jp=function(e,t){return e.selectNodeContents(t.dom())},Qp=function(e,t){t.fold(function(t){e.setStartBefore(t.dom())},function(t,n){e.setStart(t.dom(),n)},function(t){e.setStartAfter(t.dom())})},Zp=function(e,t){t.fold(function(t){e.setEndBefore(t.dom())},function(t,n){e.setEnd(t.dom(),n)},function(t){e.setEndAfter(t.dom())})},em=function(e,t,n){var r=e.document.createRange();return Qp(r,t),Zp(r,n),r},tm=function(e,t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},nm=function(e){return{left:h(e.left),top:h(e.top),right:h(e.right),bottom:h(e.bottom),width:h(e.width),height:h(e.height)}},rm=function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?k.some(n).map(nm):k.none()},om=Mo.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),im=function(e,t,n){return t(qe.fromDom(n.startContainer),n.startOffset,qe.fromDom(n.endContainer),n.endOffset)},am=function(e,t){return t.match({domRange:function(e){return{ltr:h(e),rtl:k.none}},relative:function(t,n){return{ltr:Xe(function(){return em(e,t,n)}),rtl:Xe(function(){return k.some(em(e,n,t))})}},exact:function(t,n,r,o){return{ltr:Xe(function(){return tm(e,t,n,r,o)}),rtl:Xe(function(){return k.some(tm(e,r,o,t,n))})}}})},um=function(e,t){var n=t.ltr();if(n.collapsed){return t.rtl().filter(function(e){return!1===e.collapsed}).map(function(e){return om.rtl(qe.fromDom(e.endContainer),e.endOffset,qe.fromDom(e.startContainer),e.startOffset)}).getOrThunk(function(){return im(0,om.ltr,n)})}return im(0,om.ltr,n)},sm=function(e,t){var n=am(e,t);return um(0,n)},cm=function(e,t){return sm(e,t).match({ltr:function(t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},rtl:function(t,n,r,o){var i=e.document.createRange();return i.setStart(r.dom(),o),i.setEnd(t.dom(),n),i}})},lm=(om.ltr,om.rtl,function(e,t,n,r,o){if(0===o)return 0;if(t===r)return o-1;for(var i=r,a=1;a<o;a++){var u=e(a),s=Math.abs(t-u.left);if(n<=u.bottom){if(n<u.top||s>i)return a-1;i=s}}return 0}),fm=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},dm=function(e,t,n,r,o){var i=function(n){var r=e.dom().createRange();return r.setStart(t.dom(),n),r.collapse(!0),r},a=function(e){return i(e).getBoundingClientRect()},u=Cr(t).length,s=lm(a,n,r,o.right,u);return i(s)},pm=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getClientRects();return ie(i,function(e){return fm(e,n,r)?k.some(e):k.none()}).map(function(o){return dm(e,t,n,r,o)})},mm=function(e,t,n,r){var o=e.dom().createRange(),i=zt(t);return ie(i,function(t){return o.selectNode(t.dom()),fm(o.getBoundingClientRect(),n,r)?hm(e,t,n,r):k.none()})},hm=function(e,t,n,r){return xe(t)?pm(e,t,n,r):mm(e,t,n,r)},gm=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getBoundingClientRect(),a=Math.max(i.left,Math.min(i.right,n)),u=Math.max(i.top,Math.min(i.bottom,r));return hm(e,t,a,u)},vm=function(e,t){return t-e.left<e.right-t},bm=function(e,t,n){var r=e.dom().createRange();return r.selectNode(t.dom()),r.collapse(n),r},ym=function(e,t,n){var r=e.dom().createRange();r.selectNode(t.dom());var o=r.getBoundingClientRect(),i=vm(o,n);return(!0===i?Nr:Ar)(t).map(function(t){return bm(e,t,i)})},wm=function(e,t,n){var r=t.dom().getBoundingClientRect(),o=vm(r,n);return k.some(bm(e,t,o))},xm=function(e,t,n){return(0===zt(t).length?wm:ym)(e,t,n)},Cm=function(e,t,n){return k.from(e.dom().caretPositionFromPoint(t,n)).bind(function(t){if(null===t.offsetNode)return k.none();var n=e.dom().createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),k.some(n)})},_m=function(e,t,n){return k.from(e.dom().caretRangeFromPoint(t,n))},Sm=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getBoundingClientRect(),a=Math.max(i.left,Math.min(i.right,n)),u=Math.max(i.top,Math.min(i.bottom,r));return gm(e,t,a,u)},km=function(e,t,n){return qe.fromPoint(e,t,n).bind(function(r){var o=function(){return xm(e,r,t)};return 0===zt(r).length?o():Sm(e,r,t,n).orThunk(o)})},Tm=document.caretPositionFromPoint?Cm:document.caretRangeFromPoint?_m:km,Em=function(e,t,n){var r=qe.fromDom(e.document);return Tm(r,t,n).map(function(e){return Ip.create(qe.fromDom(e.startContainer),e.startOffset,qe.fromDom(e.endContainer),e.endOffset)})},Om=function(e,t){var n=ge(e);return"input"===n?Fp.after(e):H(["br","img"],n)?0===t?Fp.before(e):Fp.after(e):Fp.on(e,t)},Nm=function(e,t){var n=e.fold(Fp.before,Om,Fp.after),r=t.fold(Fp.before,Om,Fp.after);return Kp.relative(n,r)},Am=function(e,t,n,r){var o=Om(e,t),i=Om(n,r);return Kp.relative(o,i)},Dm=function(e){return e.match({domRange:function(e){var t=qe.fromDom(e.startContainer),n=qe.fromDom(e.endContainer);return Am(t,e.startOffset,n,e.endOffset)},relative:Nm,exact:Am})},Mm=function(e,t,n,r){var o=Dt(e),i=o.dom().createRange();return i.setStart(e.dom(),t),i.setEnd(n.dom(),r),i},Im=function(e,t,n,r){var o=Mm(e,t,n,r),i=Tt(e,n)&&t===r;return o.collapsed&&!i},Rm=function(e,t){k.from(e.getSelection()).each(function(e){e.removeAllRanges(),e.addRange(t)})},Pm=function(e,t,n,r,o){var i=tm(e,t,n,r,o);Rm(e,i)},Lm=function(e,t,n,r,o,i){t.collapse(n.dom(),r),t.extend(o.dom(),i)},jm=function(e,t){return sm(e,t).match({ltr:function(t,n,r,o){Pm(e,t,n,r,o)},rtl:function(t,n,r,o){var i=e.getSelection();if(i.setBaseAndExtent)i.setBaseAndExtent(t.dom(),n,r.dom(),o);else if(i.extend)try{Lm(0,i,t,n,r,o)}catch(i){Pm(e,r,o,t,n)}else Pm(e,r,o,t,n)}})},Bm=function(e,t,n,r,o){var i=Am(t,n,r,o);jm(e,i)},zm=function(e,t,n){var r=Nm(t,n);jm(e,r)},Fm=function(e){var t=Kp.getWin(e).dom(),n=function(e,n,r,o){return tm(t,e,n,r,o)},r=Dm(e);return sm(t,r).match({ltr:n,rtl:n})},Hm=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return k.some(Ip.create(qe.fromDom(t.startContainer),t.startOffset,qe.fromDom(n.endContainer),n.endOffset))}return k.none()},Um=function(e){var t=qe.fromDom(e.anchorNode),n=qe.fromDom(e.focusNode);return Im(t,e.anchorOffset,n,e.focusOffset)?k.some(Ip.create(t,e.anchorOffset,n,e.focusOffset)):Hm(e)},Vm=function(e,t){var n=Yp(e,t);Rm(e,n)},qm=function(e){return k.from(e.getSelection()).filter(function(e){return e.rangeCount>0}).bind(Um)},Wm=function(e){return qm(e).map(function(e){return Kp.exact(e.start(),e.soffset(),e.finish(),e.foffset())})},$m=function(e,t){var n=cm(e,t);return rm(n)},Gm=function(e,t,n){return Em(e,t,n)},Xm=function(e){e.getSelection().removeAllRanges()},Km=tinymce.util.Tools.resolve("tinymce.util.VK"),Ym=function(e,t,n,r){return eh(e,t,Ap(n),r)},Jm=function(e,t,n,r){return eh(e,t,Dp(n),r)},Qm=function(e,t){var n=Kp.exact(t,0,t,0);return Fm(n)},Zm=function(e,t){var n=Ln(t,"tr");return oe(n).bind(function(e){return Vn(e,"td,th").map(function(e){return Qm(0,e)})})},eh=function(e,t,n,r,o){return n.fold(k.none,k.none,function(e,t){return Nr(t).map(function(e){return Qm(0,e)})},function(n){return rr(n,t).bind(function(t){var o=Ho(n);return e.undoManager.transact(function(){r.insertRowsAfter(t,o)}),Zm(0,t)})})},th=["table","li","dl"],nh=function(e,t,n,r){if(e.keyCode===Km.TAB){var o=nc(t),i=function(e){var t=ge(e);return Tt(e,o)||H(th,t)},a=t.selection.getRng();if(a.collapsed){var u=qe.fromDom(a.startContainer);tr(u,i).each(function(o){e.preventDefault(),(e.shiftKey?Jm:Ym)(t,i,o,n,r).each(function(e){t.selection.setRng(e)})})}}},rh=function(e,t){return{selection:h(e),kill:h(t)}},oh={create:rh},ih=function(e,t,n,r){return{start:h(Fp.on(e,t)),finish:h(Fp.on(n,r))}},ah={create:ih},uh=function(e,t){var n=cm(e,t);return Ip.create(qe.fromDom(n.startContainer),n.startOffset,qe.fromDom(n.endContainer),n.endOffset)},sh=ah.create,ch=function(e,t,n,r,o,i,a){return Tt(n,o)&&r===i?k.none():qn(n,"td,th",t).bind(function(n){return qn(o,"td,th",t).bind(function(r){return lh(e,t,n,r,a)})})},lh=function(e,t,n,r,o){return Tt(n,r)?k.none():wo(n,r,t).bind(function(t){var r=t.boxes.getOr([]);return r.length>0?(o(e,r,t.start,t.finish),k.some(oh.create(k.some(sh(n,0,n,kr(n))),!0))):k.none()})},fh=function(e,t,n,r,o){var i=function(e){return o.clearBeforeUpdate(n),o.selectRange(n,e.boxes,e.start,e.finish),e.boxes};return ko(r,e,t,o.firstSelectedSelector,o.lastSelectedSelector).map(i)},dh=function(e,t){return{item:h(e),mode:h(t)}},ph=function(e,t,n,r){return void 0===r&&(r=mh),e.property().parent(t).map(function(e){return dh(e,r)})},mh=function(e,t,n,r){return void 0===r&&(r=hh),n.sibling(e,t).map(function(e){return dh(e,r)})},hh=function(e,t,n,r){void 0===r&&(r=hh);var o=e.property().children(t);return n.first(o).map(function(e){return dh(e,r)})},gh=[{current:ph,next:mh,fallback:k.none()},{current:mh,next:hh,fallback:k.some(ph)},{current:hh,next:hh,fallback:k.some(mh)}],vh=function(e,t,n,r,o){return void 0===o&&(o=gh),J(o,function(e){return e.current===n}).bind(function(n){return n.current(e,t,r,n.next).orThunk(function(){return n.fallback.bind(function(n){return vh(e,t,n,r)})})})},bh=function(){return{sibling:function(e,t){return e.query().prevSibling(t)},first:function(e){return e.length>0?k.some(e[e.length-1]):k.none()}}},yh=function(){return{sibling:function(e,t){return e.query().nextSibling(t)},first:function(e){return e.length>0?k.some(e[0]):k.none()}}},wh={left:bh,right:yh},xh=function(e,t,n,r,o,i){return vh(e,t,r,o).bind(function(t){return i(t.item())?k.none():n(t.item())?k.some(t.item()):xh(e,t.item(),n,t.mode(),o,i)})},Ch=function(e,t,n,r){return xh(e,t,n,mh,wh.left(),r)},_h=function(e,t,n,r){return xh(e,t,n,mh,wh.right(),r)},Sh=function(e){return function(t){return 0===e.property().children(t).length}},kh=function(e,t,n){return Eh(e,t,Sh(e),n)},Th=function(e,t,n){return Oh(e,t,Sh(e),n)},Eh=Ch,Oh=_h,Nh=r(),Ah=function(e,t){return kh(Nh,e,t)},Dh=function(e,t){return Th(Nh,e,t)},Mh=function(e,t,n){return Eh(Nh,e,t,n)},Ih=function(e,t,n){return Oh(Nh,e,t,n)},Rh=function(e,t,n){return jn(e,t,n).isSome()},Ph=Mo.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Lh=function(e,t,n){var r=e.getRect(t),o=e.getRect(n);return o.right>r.left&&o.left<r.right},jh=function(e){return qn(e,"tr")},Bh=function(e,t,n,r,o,i,a){return qn(r,"td,th",a).bind(function(n){return qn(t,"td,th",a).map(function(t){return Tt(n,t)?Tt(r,n)&&kr(n)===o?i(t):Ph.none("in same cell"):vo(jh,[n,t]).fold(function(){return Lh(e,t,n)?Ph.success():i(t)},function(e){return i(t)})})}).getOr(Ph.none("default"))},zh=function(e,t,n,r,o){return e.fold(t,n,r,o)},Fh=Ge(Ge({},Ph),{verify:Bh,cata:zh}),Hh=function(e,t,n,r){return{parent:h(e),children:h(t),element:h(n),index:h(r)}},Uh=function(e){return Rt(e).bind(function(t){var n=zt(t);return Vh(n,e).map(function(r){return Hh(t,n,e,r)})})},Vh=function(e,n){return Q(e,t(Tt,n))},qh=function(e){return"br"===ge(e)},Wh=function(e,t,n){return t(e,n).bind(function(e){return xe(e)&&0===Cr(e).trim().length?Wh(e,t,n):k.some(e)})},$h=function(e,t,n){return n.traverse(t).orThunk(function(){return Wh(t,n.gather,e)}).map(n.relative)},Gh=function(e,t){return Ft(e,t).filter(qh).orThunk(function(){return Ft(e,t-1).filter(qh)})},Xh=function(e,t,n,r){return Gh(t,n).bind(function(t){return r.traverse(t).fold(function(){return Wh(t,r.gather,e).map(r.relative)},function(e){return Uh(e).map(function(e){return Fp.on(e.parent(),e.index())})})})},Kh=function(e,t,n,r){return(qh(t)?$h(e,t,r):Xh(e,t,n,r)).map(function(e){return{start:h(e),finish:h(e)}})},Yh=function(e){return Fh.cata(e,function(e){return k.none()},function(){return k.none()},function(e){return k.some(Pc(e,0))},function(e){return k.some(Pc(e,kr(e)))})},Jh=function(e,t){return{left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}},Qh=function(e,t){return{left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}},Zh=function(e,t,n){return{left:e.left+t,top:e.top+n,right:e.right+t,bottom:e.bottom+n}},eg=function(e){return e.top},tg=function(e){return e.bottom},ng=function(e,t,n){return n>=0&&n<kr(t)?e.getRangedRect(t,n,t,n+1):n>0?e.getRangedRect(t,n-1,t,n):k.none()},rg=function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}},og=function(e,t){return k.some(e.getRect(t))},ig=function(e,t,n){return we(t)?og(e,t).map(rg):xe(t)?ng(e,t,n).map(rg):k.none()},ag=function(e,t){return we(t)?og(e,t).map(rg):xe(t)?e.getRangedRect(t,0,t,kr(t)).map(rg):k.none()},ug=Mo.generate([{none:[]},{retry:["caret"]}]),sg=function(e,t){return e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right},cg=function(e,t,n){return Bn(t,uf).fold(h(!1),function(t){return ag(e,t).exists(function(e){return sg(n,e)})})},lg=function(e,t,n,r,o){var i=Jh(o,5);return Math.abs(n.bottom-r.bottom)<1?ug.retry(i):n.top>o.bottom?ug.retry(i):n.top===o.bottom?ug.retry(Jh(o,1)):cg(e,t,o)?ug.retry(Zh(i,5,0)):ug.none()},fg=function(e,t,n,r,o){var i=Qh(o,5);return Math.abs(n.top-r.top)<1?ug.retry(i):n.bottom<o.top?ug.retry(i):n.bottom===o.top?ug.retry(Qh(o,1)):cg(e,t,o)?ug.retry(Zh(i,5,0)):ug.none()},dg={point:eg,adjuster:fg,move:Qh,gather:Ah},pg={point:tg,adjuster:lg,move:Jh,gather:Dh},mg=function(e,t,n){return e.elementFromPoint(t,n).filter(function(e){return"table"===ge(e)}).isSome()},hg=function(e,t,n,r,o){return gg(e,t,n,t.move(r,5),o)},gg=function(e,t,n,r,o){return 0===o?k.some(r):mg(e,r.left,t.point(r))?hg(e,t,n,r,o-1):e.situsFromPoint(r.left,t.point(r)).bind(function(i){return i.start().fold(k.none,function(i){return ag(e,i).bind(function(a){return t.adjuster(e,i,a,n,r).fold(k.none,function(r){return gg(e,t,n,r,o-1)})}).orThunk(function(){return k.some(r)})},k.none)})},vg=function(e,t){return e.situsFromPoint(t.left,t.bottom+5)},bg=function(e,t){return e.situsFromPoint(t.left,t.top-5)},yg=function(e,t,n){return e.point(t)>n.getInnerHeight()?k.some(e.point(t)-n.getInnerHeight()):e.point(t)<0?k.some(-e.point(t)):k.none()},wg=function(e,t,n){var r=e.move(n,5),o=gg(t,e,n,r,100).getOr(r);return yg(e,o,t).fold(function(){return t.situsFromPoint(o.left,e.point(o))},function(n){return t.scrollBy(0,n),t.situsFromPoint(o.left,e.point(o)-n)})},xg={tryUp:t(wg,dg),tryDown:t(wg,pg),ieTryUp:bg,ieTryDown:vg,getJumpSize:h(5)},Cg=function(e,t,n){return e.getSelection().bind(function(r){return Kh(t,r.finish(),r.foffset(),n).fold(function(){return k.some(Pc(r.finish(),r.foffset()))},function(o){var i=e.fromSitus(o),a=Fh.verify(e,r.finish(),r.foffset(),i.finish(),i.foffset(),n.failure,t);return Yh(a)})})},_g=function(e,t,n,r,o,i){return 0===i?k.none():Tg(e,t,n,r,o).bind(function(a){var u=e.fromSitus(a),s=Fh.verify(e,n,r,u.finish(),u.foffset(),o.failure,t);return Fh.cata(s,function(){return k.none()},function(){return k.some(a)},function(a){return Tt(n,a)&&0===r?Sg(e,n,r,Qh,o):_g(e,t,a,0,o,i-1)},function(a){return Tt(n,a)&&r===kr(a)?Sg(e,n,r,Jh,o):_g(e,t,a,kr(a),o,i-1)})})},Sg=function(e,t,n,r,o){return ig(e,t,n).bind(function(t){return kg(e,o,r(t,xg.getJumpSize()))})},kg=function(e,t,n){var r=xt().browser;return r.isChrome()||r.isSafari()||r.isFirefox()||r.isEdge()?t.otherRetry(e,n):r.isIE()?t.ieRetry(e,n):k.none()},Tg=function(e,t,n,r,o){return ig(e,n,r).bind(function(t){return kg(e,o,t)})},Eg=function(e,t,n){return Cg(e,t,n).bind(function(r){return _g(e,t,r.element(),r.offset(),n,20).map(e.fromSitus)})},Og=function(e,t){return Rh(e,function(e){return Rt(e).exists(function(e){return Tt(e,t)})})},Ng=function(e,t,n,r,o){return qn(r,"td,th",t).bind(function(r){return qn(r,"table",t).bind(function(i){return Og(o,i)?Eg(e,t,n).bind(function(e){return qn(e.finish(),"td,th",t).map(function(t){return{start:h(r),finish:h(t),range:h(e)}})}):k.none()})})},Ag=function(e,t,n,r,o,i){return xt().browser.isIE()?k.none():i(r,t).orThunk(function(){return Ng(e,t,n,r,o).map(function(e){var t=e.range();return oh.create(k.some(sh(t.start(),t.soffset(),t.finish(),t.foffset())),!0)})})},Dg=function(e,t){return qn(e,"tr",t).bind(function(e){return qn(e,"table",t).bind(function(n){var r=Ln(n,"tr");return Tt(e,r[0])?Mh(n,function(e){return Ar(e).isSome()},t).map(function(e){var t=kr(e);return oh.create(k.some(sh(e,t,e,t)),!0)}):k.none()})})},Mg=function(e,t){return qn(e,"tr",t).bind(function(e){return qn(e,"table",t).bind(function(n){var r=Ln(n,"tr");return Tt(e,r[r.length-1])?Ih(n,function(e){return Nr(e).isSome()},t).map(function(e){return oh.create(k.some(sh(e,0,e,0)),!0)}):k.none()})})},Ig=function(e,t,n,r,o,i,a){return Ng(e,n,r,o,i).bind(function(e){return lh(t,n,e.start(),e.finish(),a)})},Rg=function(e,t){return qn(e,"td,th",t)},Pg={traverse:Bt,gather:Dh,relative:Fp.before,otherRetry:xg.tryDown,ieRetry:xg.ieTryDown,failure:Fh.failedDown},Lg={traverse:jt,gather:Ah,relative:Fp.before,otherRetry:xg.tryUp,ieRetry:xg.ieTryUp,failure:Fh.failedUp},jg=function(e){return function(t){return t===e}},Bg=jg(38),zg=jg(40),Fg=function(e){return e>=37&&e<=40},Hg={isBackward:jg(37),isForward:jg(39)},Ug={isBackward:jg(39),isForward:jg(37)},Vg=function(e){return{left:e.left(),top:e.top(),right:e.right(),bottom:e.bottom(),width:e.width(),height:e.height()}},qg={toRaw:Vg},Wg=function(t){var n=void 0!==t?t.dom():e.document,r=n.body.scrollLeft||n.documentElement.scrollLeft,o=n.body.scrollTop||n.documentElement.scrollTop;return Yo(r,o)},$g=function(t,n,r){(void 0!==r?r.dom():e.document).defaultView.scrollBy(t,n)},Gg=function(e){var t=function(t,n){return qe.fromPoint(qe.fromDom(e.document),t,n)},n=function(e){return e.dom().getBoundingClientRect()},r=function(t,n,r,o){var i=Kp.exact(t,n,r,o);return $m(e,i).map(qg.toRaw)},o=function(){return Wm(e).map(function(t){return uh(e,t)})},i=function(t){var n=Kp.relative(t.start(),t.finish());return uh(e,n)},a=function(t,n){return Gm(e,t,n).map(function(e){return ah.create(e.start(),e.soffset(),e.finish(),e.foffset())})},u=function(){Xm(e)},s=function(t){void 0===t&&(t=!1),Wm(e).each(function(n){return n.fold(function(e){return e.collapse(t)},function(n,r){var o=t?n:r;zm(e,o,o)},function(n,r,o,i){var a=t?n:o,u=t?r:i;Bm(e,a,u,a,u)})})},c=function(t){Vm(e,t)};return{elementFromPoint:t,getRect:n,getRangedRect:r,getSelection:o,fromSitus:i,situsFromPoint:a,clearSelection:u,collapseSelection:s,setSelection:function(t){Bm(e,t.start(),t.soffset(),t.finish(),t.foffset())},setRelativeSelection:function(t,n){zm(e,t,n)},selectContents:c,getInnerHeight:function(){return e.innerHeight},getScrollY:function(){return Wg(qe.fromDom(e.document)).top()},scrollBy:function(t,n){$g(t,n,qe.fromDom(e.document))}}},Xg=function(e,t){return{rows:e,cols:t}},Kg=function(e,t,n,r){var o=Gg(e),i=s(o,t,n,r);return{mousedown:i.mousedown,mouseover:i.mouseover,mouseup:i.mouseup}},Yg=function(e,n,r,o){var i=Gg(e),a=function(){return o.clear(n),k.none()};return{keydown:function(e,u,s,c,l,f){var d=e.raw(),p=d.which,m=!0===d.shiftKey;return xo(n,o.selectedSelector).fold(function(){return zg(p)&&m?t(Ig,i,n,r,Pg,c,u,o.selectRange):Bg(p)&&m?t(Ig,i,n,r,Lg,c,u,o.selectRange):zg(p)?t(Ag,i,r,Pg,c,u,Mg):Bg(p)?t(Ag,i,r,Lg,c,u,Dg):k.none},function(e){var t=function(t){return function(){return ie(t,function(t){return fh(t.rows,t.cols,n,e,o)}).fold(function(){return _o(n,o.firstSelectedSelector,o.lastSelectedSelector).map(function(e){var t=zg(p)||f.isForward(p)?Fp.after:Fp.before;return i.setRelativeSelection(Fp.on(e.first(),0),t(e.table())),o.clear(n),oh.create(k.none(),!0)})},function(e){return k.some(oh.create(k.none(),!0))})}};return zg(p)&&m?t([Xg(1,0)]):Bg(p)&&m?t([Xg(-1,0)]):f.isBackward(p)&&m?t([Xg(0,-1),Xg(-1,0)]):f.isForward(p)&&m?t([Xg(0,1),Xg(1,0)]):Fg(p)&&!1===m?a:k.none})()},keyup:function(e,t,i,a,u){return xo(n,o.selectedSelector).fold(function(){var s=e.raw(),c=s.which;return 0==(!0===s.shiftKey)?k.none():Fg(c)?ch(n,r,t,i,a,u,o.selectRange):k.none()},k.none)}}},Jg=function(e,t,n,r){var o=Gg(e);return function(e,i){r.clearBeforeUpdate(t),wo(e,i,n).each(function(e){var n=e.boxes.getOr([]);r.selectRange(t,n,e.start,e.finish),o.selectContents(i),o.collapseSelection()})}},Qg=function(e,t){W(t,function(t){ku(e,t)})},Zg=function(e){return function(t){_u(t,e)}},ev=function(e){return function(t){Qg(t,e)}},tv=function(e){var t=Zg(e.selected),n=ev([e.selected,e.lastSelected,e.firstSelected]),r=function(t){var r=Ln(t,e.selectedSelector);W(r,n)};return{clearBeforeUpdate:r,clear:r,selectRange:function(n,o,i,a){r(n),W(o,t),_u(i,e.firstSelected),_u(a,e.lastSelected)},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},nv=function(e,t,n){var r=function(t){Ae(t,e.selected),Ae(t,e.firstSelected),Ae(t,e.lastSelected)},o=function(t){ke(t,e.selected,"1")},i=function(e){a(e),n()},a=function(t){var n=Ln(t,e.selectedSelector);W(n,r)};return{clearBeforeUpdate:a,clear:i,selectRange:function(n,r,a,u){i(n),W(r,o),ke(a,e.firstSelected,"1"),ke(u,e.lastSelected,"1"),t(r,a,u)},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},rv={byClass:tv,byAttr:nv},ov=function(e,t,n){var r=e.slice(0,t[t.length-1].row()+1),o=ll(r,n);return ee(o,function(e){var n=e.cells().slice(0,t[t.length-1].column()+1);return q(n,function(e){return e.element()})})},iv=function(e,t,n){var r=e.slice(t[0].row()+t[0].rowspan()-1,e.length),o=ll(r,n);return ee(o,function(e){var n=e.cells().slice(t[0].column()+t[0].colspan()-1,+e.cells().length);return q(n,function(e){return e.element()})})},av=function(e,t,n){var r=mr.fromTable(e);return bl(r,t).map(function(e){var t=ul(r,n,!1);return{upOrLeftCells:ov(t,e,n),downOrRightCells:iv(t,e,n)}})},uv=function(e){return!1===Tu(qe.fromDom(e.target),"ephox-snooker-resizer-bar")},sv=function(e,t){var n=hc(k.none()),r=hc([]),o=function(){return fd(e).bind(function(e){var n=function(e){return"caption"===ge(e)};return rr(e).map(function(r){return n(e)?Ho(e):Uo(t,r,e)})})},i=function(){n.set(Xe(o)()),W(r.get(),function(e){return e()})},a=function(e,t){var o=function(){return n.get().fold(function(){e.setDisabled(!0)},function(n){e.setDisabled(t(n))})};return o(),r.set(r.get().concat([o])),function(){r.set(G(r.get(),function(e){return e!==o}))}},u=function(e){return a(e,function(e){return!1})},s=function(e){return a(e,function(e){return"caption"===ge(e.element())})},c=function(e){return function(t){return a(t,function(t){return"caption"===ge(t.element())||e().isNone()})}},l=function(e){return a(e,function(e){return e.mergable().isNone()})},f=function(e){return a(e,function(e){return e.unmergable().isNone()})};return e.on("NodeChange ExecCommand TableSelectorChange",i),{onSetupTable:u,onSetupCellOrRow:s,onSetupPasteable:c,onSetupMergeable:l,onSetupUnmergeable:f,resetTargets:i,targets:function(){return n.get()}}},cv=function(e,t,n){e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(e){return e("inserttable | cell row column | advtablesort | tableprops deletetable")}});var r=function(t){return function(){return e.execCommand(t)}};e.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:r("mceTableProps"),icon:"table",onSetup:t.onSetupTable}),e.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:r("mceTableDelete"),icon:"table-delete-table",onSetup:t.onSetupTable}),e.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:r("mceTableCellProps"),icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:r("mceTableMergeCells"),icon:"table-merge-cells",onSetup:t.onSetupMergeable}),e.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:r("mceTableSplitCells"),icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),e.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:r("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:r("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:r("mceTableDeleteRow"),icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:r("mceTableRowProps"),icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:r("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:r("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:r("mceTableDeleteCol"),icon:"table-delete-column",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:t.onSetupPasteable(n.getRows)}),e.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:t.onSetupPasteable(n.getRows)}),e.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:t.onSetupPasteable(n.getColumns)}),e.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:t.onSetupPasteable(n.getColumns)}),e.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:r("mceInsertTable"),icon:"table"})},lv=function(e){var t=function(t){return e.dom.is(t,"table")&&e.getBody().contains(t)},n=Js(e);n.length>0&&e.ui.registry.addContextToolbar("table",{predicate:t,items:n,scope:"node",position:"node"})},fv=function(e,t,n){var r=function(t){return function(){return e.execCommand(t)}},o=function(t){var n=t.numRows,r=t.numColumns;e.undoManager.transact(function(){Ed(e,r,n,0,0)}),e.addVisual()},i={text:"Table properties",onSetup:t.onSetupTable,onAction:r("mceTableProps")},a={text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,onAction:r("mceTableDelete")};e.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:r("mceTableInsertRowBefore"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:r("mceTableInsertRowAfter"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:r("mceTableDeleteRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:r("mceTableRowProps"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:t.onSetupPasteable(n.getRows)}),e.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:t.onSetupPasteable(n.getRows)});var u={type:"nestedmenuitem",text:"Row",getSubmenuItems:function(){return"tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter"}};e.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:r("mceTableInsertColBefore"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:r("mceTableInsertColAfter"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:r("mceTableDeleteCol"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:t.onSetupPasteable(n.getColumns)}),e.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:t.onSetupPasteable(n.getColumns)});var s={type:"nestedmenuitem",text:"Column",getSubmenuItems:function(){return"tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn"}};e.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:r("mceTableCellProps"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:r("mceTableMergeCells"),onSetup:t.onSetupMergeable}),e.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:r("mceTableSplitCells"),onSetup:t.onSetupUnmergeable});var c={type:"nestedmenuitem",text:"Cell",getSubmenuItems:function(){return"tablecellprops tablemergecells tablesplitcells"}};!1===Vs(e)?e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:r("mceInsertTable")}):e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:o}]}}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:r("mceInsertTable")}),e.ui.registry.addMenuItem("tableprops",i),e.ui.registry.addMenuItem("deletetable",a),e.ui.registry.addNestedMenuItem("row",u),e.ui.registry.addNestedMenuItem("column",s),e.ui.registry.addNestedMenuItem("cell",c),e.ui.registry.addContextMenu("table",{update:function(){return t.resetTargets(),t.targets().fold(function(){return""},function(e){return"caption"===ge(e.element())?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"})}})},dv={tablecellbackgroundcolor:{selector:"td,th",styles:{backgroundColor:"%value"},remove_similar:!0},tablecellbordercolor:{selector:"td,th",styles:{borderColor:"%value"},remove_similar:!0},tablecellborderstyle:{selector:"td,th",styles:{borderStyle:"%value"},remove_similar:!0},tablecellborderwidth:{selector:"td,th",styles:{borderWidth:"%value"},remove_similar:!0}},pv=function(e){e.formatter.register(dv)};!function(){f.add("table",l)}()}(window)},function(e,t,n){n(81)},function(e,t){!function(e){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(e,t){var r,o=e.dom,i=e.selection.getSelectedBlocks();i.length&&(r=o.getAttrib(i[0],"dir"),n.each(i,function(e){o.getParent(e.parentNode,'*[dir="'+t+'"]',o.getRoot())||o.setAttrib(e,"dir",r!==t?t:null)}),e.nodeChanged())},o=function(e){e.addCommand("mceDirectionLTR",function(){r(e,"ltr")}),e.addCommand("mceDirectionRTL",function(){r(e,"rtl")})},i=function(){},a=function(e,t){return function(n){return e(t(n))}},u=function(e){return function(){return e}},s=u(!1),c=u(!0),l=function(){return f},f=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:s,isSome:s,isNone:c,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(void 0),or:n,orThunk:t,map:l,each:i,bind:l,exists:s,forall:c,filter:l,equals:e,equals_:e,toArray:function(){return[]},toString:u("none()")}}(),d=function(e){var t=u(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:c,isNone:s,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return d(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:f},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(s,function(t){return n(e,t)})}};return o},p=function(e){return null===e||void 0===e?f:d(e)},m={some:d,none:l,from:p},h=function(t,n){var r=n||e.document,o=r.createElement("div");if(o.innerHTML=t,!o.hasChildNodes()||o.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return b(o.childNodes[0])},g=function(t,n){var r=n||e.document,o=r.createElement(t);return b(o)},v=function(t,n){var r=n||e.document,o=r.createTextNode(t);return b(o)},b=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:u(e)}},y=function(e,t,n){var r=e.dom();return m.from(r.elementFromPoint(t,n)).map(b)},w={fromHtml:h,fromTag:g,fromText:v,fromDom:b,fromPoint:y},x=function(e){return function(t){return typeof t===e}}("function"),C=function(e){return void 0!==e.style&&x(e.style.getPropertyValue)},_=(void 0!==e.window?e.window:Function("return this;")(),function(e){return e.dom().nodeType}),S=function(e){return function(t){return _(t)===e}},k=S(3),T=S(9),E=S(11),O=function(e){return w.fromDom(e.dom().ownerDocument)},N=function(e){return T(e)?e:O(e)},A=function(e){return E(e)},D=x(e.Element.prototype.attachShadow)&&x(e.Node.prototype.getRootNode),M=D?function(e){return w.fromDom(e.dom().getRootNode())}:N,I=function(e){var t=M(e);return A(t)?m.some(t):m.none()},R=function(e){return w.fromDom(e.dom().host)},P=function(e){var t=k(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&null!==t.ownerDocument&&I(w.fromDom(t)).fold(function(){return t.ownerDocument.body.contains(t)},a(P,R))},L=function(t,n){var r=t.dom(),o=e.window.getComputedStyle(r),i=o.getPropertyValue(n);return""!==i||P(t)?i:j(r,n)},j=function(e,t){return C(e)?e.style.getPropertyValue(t):""},B=function(e){return"rtl"===L(e,"direction")?"rtl":"ltr"},z=function(e,t){return function(n){var r=function(e){var r=w.fromDom(e.element);n.setActive(B(r)===t)};return e.on("NodeChange",r),function(){return e.off("NodeChange",r)}}},F=function(e){e.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return e.execCommand("mceDirectionLTR")},onSetup:z(e,"ltr")}),e.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return e.execCommand("mceDirectionRTL")},onSetup:z(e,"rtl")})};!function(){t.add("directionality",function(e){o(e),F(e)})}()}(window)},function(e,t,n){n(83)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){return e},n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},n.apply(this,arguments)},r=function(e){return e.replace(/\uFEFF/g,"")},o={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\ufeff￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:"[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"},i={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},a=[new RegExp(o.aletter),new RegExp(o.midnumlet),new RegExp(o.midletter),new RegExp(o.midnum),new RegExp(o.numeric),new RegExp(o.cr),new RegExp(o.lf),new RegExp(o.newline),new RegExp(o.extend),new RegExp(o.format),new RegExp(o.katakana),new RegExp(o.extendnumlet),new RegExp("@")],u=new RegExp("^"+o.punctuation+"$"),s=/^\s+$/,c=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},l=a,f=i.OTHER,d=function(e){for(var t=f,n=l.length,r=0;r<n;++r){var o=l[r];if(o&&o.test(e)){t=r;break}}return t},p=function(e){var t={};return function(n){if(t[n])return t[n];var r=e(n);return t[n]=r,r}},m=function(e){var t=p(d);return c(e,t)},h=function(e,t){var n=e[t],r=e[t+1];if(t<0||t>e.length-1&&0!==t)return!1;if(n===i.ALETTER&&r===i.ALETTER)return!1;var o=e[t+2];if(n===i.ALETTER&&(r===i.MIDLETTER||r===i.MIDNUMLET||r===i.AT)&&o===i.ALETTER)return!1;var a=e[t-1];return(n!==i.MIDLETTER&&n!==i.MIDNUMLET&&r!==i.AT||r!==i.ALETTER||a!==i.ALETTER)&&((n!==i.NUMERIC&&n!==i.ALETTER||r!==i.NUMERIC&&r!==i.ALETTER)&&((n!==i.MIDNUM&&n!==i.MIDNUMLET||r!==i.NUMERIC||a!==i.NUMERIC)&&((n!==i.NUMERIC||r!==i.MIDNUM&&r!==i.MIDNUMLET||o!==i.NUMERIC)&&(n!==i.EXTEND&&n!==i.FORMAT&&a!==i.EXTEND&&a!==i.FORMAT&&r!==i.EXTEND&&r!==i.FORMAT&&((n!==i.CR||r!==i.LF)&&(n===i.NEWLINE||n===i.CR||n===i.LF||(r===i.NEWLINE||r===i.CR||r===i.LF||(n!==i.KATAKANA||r!==i.KATAKANA)&&((r!==i.EXTENDNUMLET||n!==i.ALETTER&&n!==i.NUMERIC&&n!==i.KATAKANA&&n!==i.EXTENDNUMLET)&&((n!==i.EXTENDNUMLET||r!==i.ALETTER&&r!==i.NUMERIC&&r!==i.KATAKANA)&&n!==i.AT)))))))))},g=s,v=u,b=function(e){return"http"===e||"https"===e},y=function(e,t){var n;for(n=t;n<e.length&&!g.test(e[n]);n++);return n},w=function(e,t){var n=y(e,t+1);return"://"===e.slice(t+1,n).join("").substr(0,3)?n:t},x=function(e,t,n,r){for(var o=[],i=[],a=0;a<n.length;++a)if(i.push(e[a]),h(n,a)){var u=t[a];if((r.includeWhitespace||!g.test(u))&&(r.includePunctuation||!v.test(u))){var s=a-i.length+1,c=a+1,l=t.slice(s,c).join("");if(b(l)){var f=w(t,a),d=e.slice(c,f);Array.prototype.push.apply(i,d),a=f}o.push(i)}i=[]}return o},C=function(){return{includeWhitespace:!1,includePunctuation:!1}},_=function(e,t,r){r=n(n({},C()),r);for(var o=[],i=[],a=0;a<e.length;a++){var u=t(e[a]);"\ufeff"!==u&&(o.push(e[a]),i.push(u))}var s=m(i);return x(o,i,s,r)},S=_,k=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),T=function(e,t){for(var n=t.getBlockElements(),o=t.getShortEndedElements(),i=[],a="",u=new k(e,e);e=u.next();)3===e.nodeType?a+=r(e.data):function(e){return n[e.nodeName]||o[e.nodeName]}(e)&&a.length&&(i.push(a),a="");return a.length&&i.push(a),i},E=function(e){return e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},O=function(e,n){var r=T(e,n).join("\n");return S(r.split(""),t).length},N=function(e,t){var n=T(e,t).join("");return E(n)},A=function(e,t){var n=T(e,t).join("").replace(/\s/g,"");return E(n)},D=function(e,t){return function(){return t(e.getBody(),e.schema)}},M=function(e,t){return function(){return t(e.selection.getRng().cloneContents(),e.schema)}},I=function(e){return D(e,O)},R=function(e){return{body:{getWordCount:I(e),getCharacterCount:D(e,N),getCharacterCountWithoutSpaces:D(e,A)},selection:{getWordCount:M(e,O),getCharacterCount:M(e,N),getCharacterCountWithoutSpaces:M(e,A)},getCount:I(e)}},P=tinymce.util.Tools.resolve("tinymce.util.Delay"),L=function(e,t){e.fire("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})},j=function(e,t){L(e,t)},B=function(e,t,n){var r=P.debounce(function(){return j(e,t)},n);e.on("init",function(){j(e,t),P.setEditorTimeout(e,function(){e.on("SetContent BeforeAddUndo Undo Redo keyup",r)},0)})},z=function(e,t){e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},F=function(e,t){e.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:function(){return z(e,t)}}),e.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:function(){return z(e,t)}})};!function(t){void 0===t&&(t=300),e.add("wordcount",function(e){var n=R(e);return F(e,n),B(e,n,t),n})}()}()},function(e,t,n){n(85)},function(e,t){!function(){"use strict";var e=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e){return{addTab:function(t){var n=e.get();n[t.name]=t,e.set(n)}}},r=function(e,t){e.addCommand("mceHelp",t)},o=function(e,t){e.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:t}),e.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:t})},i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},i.apply(this,arguments)},a=function(){},u=function(e){return function(){return e}},s=u(!1),c=u(!0),l=function(){return f},f=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:s,isSome:s,isNone:c,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(void 0),or:n,orThunk:t,map:l,each:a,bind:l,exists:s,forall:c,filter:l,equals:e,equals_:e,toArray:function(){return[]},toString:u("none()")}}(),d=function(e){var t=u(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:c,isNone:s,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return d(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:f},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(s,function(t){return n(e,t)})}};return o},p=function(e){return null===e||void 0===e?f:d(e)},m={some:d,none:l,from:p},h=Array.prototype.indexOf,g=function(e,t){return h.call(e,t)},v=function(e,t){return g(e,t)>-1},b=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},y=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},w=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return m.some(i);if(n(i,r))break}return m.none()},x=function(e,t){return w(e,t,s)},C=Object.keys,_=Object.hasOwnProperty,S=function(e,t){return k(e,t)?m.from(e[t]):m.none()},k=function(e,t){return _.call(e,t)},T=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},E=function(e){return m.from(e.getParam("help_tabs"))},O=function(e){return e.getParam("forced_plugins")},N=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Header 1"},{shortcuts:["Access + 2"],action:"Header 2"},{shortcuts:["Access + 3"],action:"Header 3"},{shortcuts:["Access + 4"],action:"Header 4"},{shortcuts:["Access + 5"],action:"Header 5"},{shortcuts:["Access + 6"],action:"Header 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],A=tinymce.util.Tools.resolve("tinymce.Env"),D=function(e){var t={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},n={meta:"Ctrl ",access:"Shift + Alt "},r=A.mac?t:n,o=e.split("+"),i=b(o,function(e){var t=e.toLowerCase().trim();return k(r,t)?r[t]:e});return A.mac?i.join("").replace(/\s/,""):i.join("+")},M=function(){return{name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:b(N,function(e){var t=b(e.shortcuts,D).join(" or ");return[e.action,t]})}]}},I=tinymce.util.Tools.resolve("tinymce.util.I18n"),R=[{key:"advlist",name:"Advanced List"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"bbcode",name:"BBCode"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullpage",name:"Full Page"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"hr",name:"Horizontal Rule"},{key:"image",name:"Image"},{key:"imagetools",name:"Image Tools"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"legacyoutput",name:"Legacy Output"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"noneditable",name:"Noneditable"},{key:"pagebreak",name:"Page Break"},{key:"paste",name:"Paste"},{key:"preview",name:"Preview"},{key:"print",name:"Print"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"spellchecker",name:"Spell Checker"},{key:"tabfocus",name:"Tab Focus"},{key:"table",name:"Table"},{key:"template",name:"Template"},{key:"textcolor",name:"Text Color"},{key:"textpattern",name:"Text Pattern"},{key:"toc",name:"Table of Contents"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"advcode",name:"Advanced Code Editor*"},{key:"formatpainter",name:"Format Painter*"},{key:"powerpaste",name:"PowerPaste*"},{key:"tinydrive",name:"Tiny Drive*",slug:"drive"},{key:"tinymcespellchecker",name:"Spell Checker Pro*"},{key:"a11ychecker",name:"Accessibility Checker*"},{key:"linkchecker",name:"Link Checker*"},{key:"mentions",name:"Mentions*"},{key:"mediaembed",name:"Enhanced Media Embed*"},{key:"checklist",name:"Checklist*"},{key:"casechange",name:"Case Change*"},{key:"permanentpen",name:"Permanent Pen*"},{key:"pageembed",name:"Page Embed*"},{key:"tinycomments",name:"Tiny Comments*",slug:"comments"},{key:"advtable",name:"Advanced Tables*"},{key:"autocorrect",name:"Autocorrect*"}],P=function(e){var t=function(e){return'<a href="'+e.url+'" target="_blank" rel="noopener">'+e.name+"</a>"},n=function(e,n){return x(R,function(e){return e.key===n}).fold(function(){var r=e.plugins[n].getMetadata;return"function"==typeof r?t(r()):n},function(e){var n=e.slug||e.key;return t({name:e.name,url:"https://www.tiny.cloud/docs/plugins/"+n})})},r=function(e){var t=C(e.plugins),n=O(e);return void 0===n?t:y(t,function(e){return!v(n,e)})},o=function(e){var t=r(e),o=b(t,function(t){return"<li>"+n(e,t)+"</li>"}),i=o.length,a=o.join("");return"<p><b>"+I.translate(["Plugins installed ({0}):",i])+"</b></p><ul>"+a+"</ul>"};return{name:"plugins",title:"Plugins",items:[{type:"htmlpanel",presets:"document",html:[function(e){return null==e?"":'<div data-mce-tabstop="1" tabindex="-1">'+o(e)+"</div>"}(e),function(){var e=["Accessibility Checker","Advanced Code Editor","Advanced Tables","Case Change","Checklist","Tiny Comments","Tiny Drive","Enhanced Media Embed","Format Painter","Link Checker","Mentions","MoxieManager","Page Embed","Permanent Pen","PowerPaste","Spell Checker Pro"],t=b(e,function(e){return"<li>"+I.translate(e)+"</li>"}).join("");return'<div data-mce-tabstop="1" tabindex="-1"><p><b>'+I.translate("Premium plugins:")+"</b></p><ul>"+t+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" target="_blank">'+I.translate("Learn more...")+"</a></li></ul></div>"}()].join("")}]}},L=tinymce.util.Tools.resolve("tinymce.EditorManager"),j=function(){var e=function(e,t){return 0===e.indexOf("@")?"X.X.X":e+"."+t}(L.majorVersion,L.minorVersion),t='<a href="https://www.tinymce.com/docs/changelog/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" target="_blank">TinyMCE '+e+"</a>";return{name:"versions",title:"Version",items:[{type:"htmlpanel",html:"<p>"+I.translate(["You are using {0}",t])+"</p>",presets:"document"}]}},B=function(){return{name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:"<h1>Editor UI keyboard navigation</h1>\n\n<h2>Activating keyboard navigation</h2>\n\n<p>The sections of the outer UI of the editor - the menubar, toolbar, sidebar and footer - are all keyboard navigable. As such, there are multiple ways to activate keyboard navigation:</p>\n<ul>\n  <li>Focus the menubar: Alt + F9 (Windows) or &#x2325;F9 (MacOS)</li>\n  <li>Focus the toolbar: Alt + F10 (Windows) or &#x2325;F10 (MacOS)</li>\n  <li>Focus the footer: Alt + F11 (Windows) or &#x2325;F11 (MacOS)</li>\n</ul>\n\n<p>Focusing the menubar or toolbar will start keyboard navigation at the first item in the menubar or toolbar, which will be highlighted with a gray background. Focusing the footer will start keyboard navigation at the first item in the element path, which will be highlighted with an underline. </p>\n\n<h2>Moving between UI sections</h2>\n\n<p>When keyboard navigation is active, pressing tab will move the focus to the next major section of the UI, where applicable. These sections are:</p>\n<ul>\n  <li>the menubar</li>\n  <li>each group of the toolbar </li>\n  <li>the sidebar</li>\n  <li>the element path in the footer </li>\n  <li>the wordcount toggle button in the footer </li>\n  <li>the branding link in the footer </li>\n</ul>\n\n<p>Pressing shift + tab will move backwards through the same sections, except when moving from the footer to the toolbar. Focusing the element path then pressing shift + tab will move focus to the first toolbar group, not the last.</p>\n\n<h2>Moving within UI sections</h2>\n\n<p>Keyboard navigation within UI sections can usually be achieved using the left and right arrow keys. This includes:</p>\n<ul>\n  <li>moving between menus in the menubar</li>\n  <li>moving between buttons in a toolbar group</li>\n  <li>moving between items in the element path</li>\n</ul>\n\n<p>In all these UI sections, keyboard navigation will cycle within the section. For example, focusing the last button in a toolbar group then pressing right arrow will move focus to the first item in the same toolbar group. </p>\n\n<h1>Executing buttons</h1>\n\n<p>To execute a button, navigate the selection to the desired button and hit space or enter.</p>\n\n<h1>Opening, navigating and closing menus</h1>\n\n<p>When focusing a menubar button or a toolbar button with a menu, pressing space, enter or down arrow will open the menu. When the menu opens the first item will be selected. To move up or down the menu, press the up or down arrow key respectively. This is the same for submenus, which can also be opened and closed using the left and right arrow keys.</p>\n\n<p>To close any active menu, hit the escape key. When a menu is closed the selection will be restored to its previous selection. This also works for closing submenus.</p>\n\n<h1>Context toolbars and menus</h1>\n\n<p>To focus an open context toolbar such as the table context toolbar, press Ctrl + F9 (Windows) or &#x2303;F9 (MacOS).</p>\n\n<p>Context toolbar navigation is the same as toolbar navigation, and context menu navigation is the same as standard menu navigation.</p>\n\n<h1>Dialog navigation</h1>\n\n<p>There are two types of dialog UIs in TinyMCE: tabbed dialogs and non-tabbed dialogs.</p>\n\n<p>When a non-tabbed dialog is opened, the first interactive component in the dialog will be focused. Users can navigate between interactive components by pressing tab. This includes any footer buttons. Navigation will cycle back to the first dialog component if tab is pressed while focusing the last component in the dialog. Pressing shift + tab will navigate backwards.</p>\n\n<p>When a tabbed dialog is opened, the first button in the tab menu is focused. Pressing tab will navigate to the first interactive component in that tab, and will cycle through the tab’s components, the footer buttons, then back to the tab button. To switch to another tab, focus the tab button for the current tab, then use the arrow keys to cycle through the tab buttons.</p>"}]}},z=function(e,t){var n={},r=b(e,function(e){return"string"==typeof e?(k(t,e)&&(n[e]=t[e]),e):(n[e.name]=e,e.name)});return{tabs:n,names:r}},F=function(e){var t=C(e),n=t.indexOf("versions");return-1!==n&&(t.splice(n,1),t.push("versions")),{tabs:e,names:t}},H=function(e,t){var n,r=M(),o=B(),a=P(e),u=j(),s=i((n={},n[r.name]=r,n[o.name]=o,n[a.name]=a,n[u.name]=u,n),t.get());return E(e).fold(function(){return F(s)},function(e){return z(e,s)})},U=function(e,t){return function(){var n=H(e,t),r=n.tabs,o=n.names,i=b(o,function(e){return S(r,e)}),a=T(i),u={type:"tabpanel",tabs:a};e.windowManager.open({title:"Help",size:"medium",body:u,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})}};!function(){t.add("help",function(t){var i=e({}),a=n(i),u=U(t,i);return o(t,u),r(t,u),t.shortcuts.add("Alt+0","Open help dialog","mceHelp"),a})}()}()},function(e,t,n){"use strict";var r=n(87);t.a=r.a},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(88),o=n(89),i=n(15),a=n(90),u=this&&this.__assign||function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},u.apply(this,arguments)},s=function(e,t,n){return e(n||"div",{attrs:{id:t}})},c=function(e,t){return e("textarea",{attrs:{id:t},style:{visibility:"hidden"}})},l=function(e){return function(){var t=u(u({},e.$props.init),{readonly:e.$props.disabled,selector:"#"+e.elementId,plugins:Object(i.d)(e.$props.init&&e.$props.init.plugins,e.$props.plugins),toolbar:e.$props.toolbar||e.$props.init&&e.$props.init.toolbar,inline:e.inlineEditor,setup:function(t){e.editor=t,t.on("init",function(n){return Object(i.a)(n,e,t)}),e.$props.init&&"function"==typeof e.$props.init.setup&&e.$props.init.setup(t)}});Object(i.c)(e.element)&&(e.element.style.visibility=""),Object(o.a)().init(t)}},f={props:a.a,created:function(){this.elementId=this.$props.id||Object(i.e)("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==Object(o.a)())l(this)();else if(this.element&&this.element.ownerDocument){var e=this.$props.cloudChannel?this.$props.cloudChannel:"5",t=this.$props.apiKey?this.$props.apiKey:"no-api-key",n=Object(i.b)(this.$props.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+t+"/tinymce/"+e+"/tinymce.min.js":this.$props.tinymceScriptSrc;r.a.load(this.element.ownerDocument,n,l(this))}},beforeDestroy:function(){null!==Object(o.a)()&&Object(o.a)().remove(this.editor)},render:function(e){return this.inlineEditor?s(e,this.elementId,this.$props.tagName):c(e,this.elementId)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(15),o=function(){return{listeners:[],scriptId:Object(r.e)("tiny-script"),scriptLoaded:!1}},i=function(){var e=o(),t=function(e,t,n,r){var o=t.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=e,o.src=n;var i=function(){o.removeEventListener("load",i),r()};o.addEventListener("load",i),t.head&&t.head.appendChild(o)};return{load:function(n,r,o){e.scriptLoaded?o():(e.listeners.push(o),n.getElementById(e.scriptId)||t(e.scriptId,n,r,function(){e.listeners.forEach(function(e){return e()}),e.scriptLoaded=!0}))},reinitialize:function(){e=o()}}}()},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return o});var r=function(){return"undefined"!=typeof window?window:e},o=function(){var e=r();return e&&e.tinymce?e.tinymce:null}}).call(t,n(2))},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return"html"===e||"text"===e}}}},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("editor",{attrs:{value:e.htmlContent,init:{height:500,language:"zh_CN",language_url:e.publicPath+"tinymce/langs/zh_CN.js",skin:"oxide",skin_url:e.publicPath+"tinymce/skins/ui/oxide",content_css:e.publicPath+"tinymce/skins/content/default/content.css",menubar:!0,toolbar:"undo redo |         fontselect fontsizeselect formatselect |         bold italic underline strikethrough superscript subscript codeformat |         alignleft aligncenter alignright alignjustify |         outdent indent |         forecolor backcolor removeformat |         numlist bullist |         code |         charmap emoticons hr nonbreaking insertdatetime |         fullscreen  preview print |         image link codesample table |         ltr rtl |         wordcount",toolbar_mode:"sliding",plugins:"searchreplace paste lists advlist code charmap emoticons hr nonbreaking insertdatetime fullscreen preview print image link codesample table directionality wordcount help",image_description:!1,images_reuse_filename:!0,images_upload_handler:e.fileUpLoad,file_picker_types:"file",file_picker_callback:e.filePickerCallback,emoticons_database_url:e.publicPath+"tinymce/plugins/emoticons/emojis.min.js",elementpath:!1,branding:!1},disabled:e.disabled},on:{input:e.editorChange}}),e._v(" "),-1!==e.attachPercentage?n("el-dialog",{attrs:{title:"正在上传...",visible:-1!==e.attachPercentage,width:"30%","show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":""}},[n("div",{staticClass:"tx-c"},[n("el-progress",{attrs:{type:"circle",percentage:e.attachPercentage}})],1),e._v(" "),n("div",{staticClass:"tx-c margin-top-size-nomal"},[n("el-button",{on:{click:e.attachCancelHandler}},[e._v("取 消")])],1)]):e._e()],1)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";var r=n(16),o=n(93),i=n(0),a=i(r.a,o.a,!1,null,null,null);t.a=a.exports},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.logo?n("img",{staticStyle:{height:"40px"},attrs:{src:e.logoUrl,alt:""}}):e._e()},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";var r=n(17),o=n(95),i=n(0),a=i(r.a,o.a,!1,null,null,null);t.a=a.exports},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.user?n("div",{staticClass:"app-testBank-header-btns"},[e.avatarUrl?n("el-avatar",{attrs:{src:e.avatarUrl,size:"medium"}}):n("el-avatar",{staticClass:"bgcolor",attrs:{size:"medium"}},[e._v(" "+e._s(e.user.name&&e.user.name.slice(-2)||"")+" ")])],1):e._e()},o=[],i={render:r,staticRenderFns:o};t.a=i}]).default});
//# sourceMappingURL=xcedu-components.js.map